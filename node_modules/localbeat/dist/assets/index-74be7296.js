function Ok(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lw={exports:{}},pd={},ow={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=Symbol.for("react.element"),kk=Symbol.for("react.portal"),Pk=Symbol.for("react.fragment"),Tk=Symbol.for("react.strict_mode"),Ak=Symbol.for("react.profiler"),Dk=Symbol.for("react.provider"),Ek=Symbol.for("react.context"),Mk=Symbol.for("react.forward_ref"),Ik=Symbol.for("react.suspense"),$k=Symbol.for("react.memo"),_k=Symbol.for("react.lazy"),Cg=Symbol.iterator;function Rk(e){return e===null||typeof e!="object"?null:(e=Cg&&e[Cg]||e["@@iterator"],typeof e=="function"?e:null)}var cw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uw=Object.assign,dw={};function mi(e,t,r){this.props=e,this.context=t,this.refs=dw,this.updater=r||cw}mi.prototype.isReactComponent={};mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mw(){}mw.prototype=mi.prototype;function mx(e,t,r){this.props=e,this.context=t,this.refs=dw,this.updater=r||cw}var fx=mx.prototype=new mw;fx.constructor=mx;uw(fx,mi.prototype);fx.isPureReactComponent=!0;var Og=Array.isArray,fw=Object.prototype.hasOwnProperty,hx={current:null},hw={key:!0,ref:!0,__self:!0,__source:!0};function pw(e,t,r){var a,s={},i=null,l=null;if(t!=null)for(a in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)fw.call(t,a)&&!hw.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)s[a]===void 0&&(s[a]=o[a]);return{$$typeof:No,type:e,key:i,ref:l,props:s,_owner:hx.current}}function Lk(e,t){return{$$typeof:No,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function px(e){return typeof e=="object"&&e!==null&&e.$$typeof===No}function Fk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var kg=/\/+/g;function Cm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fk(""+e.key):t.toString(36)}function Cc(e,t,r,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case No:case kk:l=!0}}if(l)return l=e,s=s(l),e=a===""?"."+Cm(l,0):a,Og(s)?(r="",e!=null&&(r=e.replace(kg,"$&/")+"/"),Cc(s,t,r,"",function(u){return u})):s!=null&&(px(s)&&(s=Lk(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(kg,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=a===""?".":a+":",Og(e))for(var o=0;o<e.length;o++){i=e[o];var c=a+Cm(i,o);l+=Cc(i,t,r,c,s)}else if(c=Rk(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=a+Cm(i,o++),l+=Cc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Uo(e,t,r){if(e==null)return e;var a=[],s=0;return Cc(e,a,"","",function(i){return t.call(r,i,s++)}),a}function Bk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qt={current:null},Oc={transition:null},qk={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:hx};function xw(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Uo,forEach:function(e,t,r){Uo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Uo(e,function(){t++}),t},toArray:function(e){return Uo(e,function(t){return t})||[]},only:function(e){if(!px(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=mi;Ce.Fragment=Pk;Ce.Profiler=Ak;Ce.PureComponent=mx;Ce.StrictMode=Tk;Ce.Suspense=Ik;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qk;Ce.act=xw;Ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=uw({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=hx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)fw.call(t,c)&&!hw.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];a.children=o}return{$$typeof:No,type:e.type,key:s,ref:i,props:a,_owner:l}};Ce.createContext=function(e){return e={$$typeof:Ek,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dk,_context:e},e.Consumer=e};Ce.createElement=pw;Ce.createFactory=function(e){var t=pw.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:Mk,render:e}};Ce.isValidElement=px;Ce.lazy=function(e){return{$$typeof:_k,_payload:{_status:-1,_result:e},_init:Bk}};Ce.memo=function(e,t){return{$$typeof:$k,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=Oc.transition;Oc.transition={};try{e()}finally{Oc.transition=t}};Ce.unstable_act=xw;Ce.useCallback=function(e,t){return qt.current.useCallback(e,t)};Ce.useContext=function(e){return qt.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return qt.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return qt.current.useEffect(e,t)};Ce.useId=function(){return qt.current.useId()};Ce.useImperativeHandle=function(e,t,r){return qt.current.useImperativeHandle(e,t,r)};Ce.useInsertionEffect=function(e,t){return qt.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return qt.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return qt.current.useMemo(e,t)};Ce.useReducer=function(e,t,r){return qt.current.useReducer(e,t,r)};Ce.useRef=function(e){return qt.current.useRef(e)};Ce.useState=function(e){return qt.current.useState(e)};Ce.useSyncExternalStore=function(e,t,r){return qt.current.useSyncExternalStore(e,t,r)};Ce.useTransition=function(){return qt.current.useTransition()};Ce.version="18.3.1";ow.exports=Ce;var O=ow.exports;const q=Fe(O),Uk=Ok({__proto__:null,default:q},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk=O,Kk=Symbol.for("react.element"),zk=Symbol.for("react.fragment"),Vk=Object.prototype.hasOwnProperty,Gk=Wk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hk={key:!0,ref:!0,__self:!0,__source:!0};function yw(e,t,r){var a,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)Vk.call(t,a)&&!Hk.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:Kk,type:e,key:i,ref:l,props:s,_owner:Gk.current}}pd.Fragment=zk;pd.jsx=yw;pd.jsxs=yw;lw.exports=pd;var n=lw.exports,Rf={},gw={exports:{}},cr={},vw={exports:{}},bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,I){var $=A.length;A.push(I);e:for(;0<$;){var L=$-1>>>1,_=A[L];if(0<s(_,I))A[L]=I,A[$]=_,$=L;else break e}}function r(A){return A.length===0?null:A[0]}function a(A){if(A.length===0)return null;var I=A[0],$=A.pop();if($!==I){A[0]=$;e:for(var L=0,_=A.length,G=_>>>1;L<G;){var ee=2*(L+1)-1,ue=A[ee],X=ee+1,ae=A[X];if(0>s(ue,$))X<_&&0>s(ae,ue)?(A[L]=ae,A[X]=$,L=X):(A[L]=ue,A[ee]=$,L=ee);else if(X<_&&0>s(ae,$))A[L]=ae,A[X]=$,L=X;else break e}}return I}function s(A,I){var $=A.sortIndex-I.sortIndex;return $!==0?$:A.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],f=1,m=null,h=3,v=!1,j=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var I=r(u);I!==null;){if(I.callback===null)a(u);else if(I.startTime<=A)a(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function d(A){if(y=!1,x(A),!j)if(r(c)!==null)j=!0,E(p);else{var I=r(u);I!==null&&B(d,I.startTime-A)}}function p(A,I){j=!1,y&&(y=!1,N(C),C=-1),v=!0;var $=h;try{for(x(I),m=r(c);m!==null&&(!(m.expirationTime>I)||A&&!D());){var L=m.callback;if(typeof L=="function"){m.callback=null,h=m.priorityLevel;var _=L(m.expirationTime<=I);I=e.unstable_now(),typeof _=="function"?m.callback=_:m===r(c)&&a(c),x(I)}else a(c);m=r(c)}if(m!==null)var G=!0;else{var ee=r(u);ee!==null&&B(d,ee.startTime-I),G=!1}return G}finally{m=null,h=$,v=!1}}var g=!1,w=null,C=-1,T=5,P=-1;function D(){return!(e.unstable_now()-P<T)}function k(){if(w!==null){var A=e.unstable_now();P=A;var I=!0;try{I=w(!0,A)}finally{I?M():(g=!1,w=null)}}else g=!1}var M;if(typeof S=="function")M=function(){S(k)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,R=F.port2;F.port1.onmessage=k,M=function(){R.postMessage(null)}}else M=function(){b(k,0)};function E(A){w=A,g||(g=!0,M())}function B(A,I){C=b(function(){A(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,E(p))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var $=h;h=I;try{return A()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,I){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=h;h=A;try{return I()}finally{h=$}},e.unstable_scheduleCallback=function(A,I,$){var L=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?L+$:L):$=L,A){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=$+_,A={id:f++,callback:I,priorityLevel:A,startTime:$,expirationTime:_,sortIndex:-1},$>L?(A.sortIndex=$,t(u,A),r(c)===null&&A===r(u)&&(y?(N(C),C=-1):y=!0,B(d,$-L))):(A.sortIndex=_,t(c,A),j||v||(j=!0,E(p))),A},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(A){var I=h;return function(){var $=h;h=I;try{return A.apply(this,arguments)}finally{h=$}}}})(bw);vw.exports=bw;var Qk=vw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jk=O,ir=Qk;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jw=new Set,hl={};function Qa(e,t){Is(e,t),Is(e+"Capture",t)}function Is(e,t){for(hl[e]=t,e=0;e<t.length;e++)jw.add(t[e])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=Object.prototype.hasOwnProperty,Xk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pg={},Tg={};function Yk(e){return Lf.call(Tg,e)?!0:Lf.call(Pg,e)?!1:Xk.test(e)?Tg[e]=!0:(Pg[e]=!0,!1)}function Zk(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eP(e,t,r,a){if(t===null||typeof t>"u"||Zk(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ut(e,t,r,a,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var xx=/[\-:]([a-z])/g;function yx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xx,yx);kt[t]=new Ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xx,yx);kt[t]=new Ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xx,yx);kt[t]=new Ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function gx(e,t,r,a){var s=kt.hasOwnProperty(t)?kt[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eP(t,r,s,a)&&(r=null),a||s===null?Yk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,a=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var kn=Jk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wo=Symbol.for("react.element"),cs=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),vx=Symbol.for("react.strict_mode"),Ff=Symbol.for("react.profiler"),Nw=Symbol.for("react.provider"),ww=Symbol.for("react.context"),bx=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),qf=Symbol.for("react.suspense_list"),jx=Symbol.for("react.memo"),Mn=Symbol.for("react.lazy"),Sw=Symbol.for("react.offscreen"),Ag=Symbol.iterator;function Pi(e){return e===null||typeof e!="object"?null:(e=Ag&&e[Ag]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Om;function Hi(e){if(Om===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Om=t&&t[1]||""}return`
`+Om+e}var km=!1;function Pm(e,t){if(!e||km)return"";km=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var a=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){a=u}e.call(t.prototype)}else{try{throw Error()}catch(u){a=u}e()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=a.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{km=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hi(e):""}function tP(e){switch(e.tag){case 5:return Hi(e.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 2:case 15:return e=Pm(e.type,!1),e;case 11:return e=Pm(e.type.render,!1),e;case 1:return e=Pm(e.type,!0),e;default:return""}}function Uf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case us:return"Fragment";case cs:return"Portal";case Ff:return"Profiler";case vx:return"StrictMode";case Bf:return"Suspense";case qf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ww:return(e.displayName||"Context")+".Consumer";case Nw:return(e._context.displayName||"Context")+".Provider";case bx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jx:return t=e.displayName||null,t!==null?t:Uf(e.type)||"Memo";case Mn:t=e._payload,e=e._init;try{return Uf(e(t))}catch{}}return null}function rP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uf(t);case 8:return t===vx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ta(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nP(e){var t=Cw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ko(e){e._valueTracker||(e._valueTracker=nP(e))}function Ow(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=Cw(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function Rc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wf(e,t){var r=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Dg(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=ta(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kw(e,t){t=t.checked,t!=null&&gx(e,"checked",t,!1)}function Kf(e,t){kw(e,t);var r=ta(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zf(e,t.type,r):t.hasOwnProperty("defaultValue")&&zf(e,t.type,ta(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Eg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zf(e,t,r){(t!=="number"||Rc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Qi=Array.isArray;function Ss(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+ta(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(Qi(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ta(r)}}function Pw(e,t){var r=ta(t.value),a=ta(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Ig(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Tw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Tw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zo,Aw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zo=zo||document.createElement("div"),zo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aP=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(e){aP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),el[t]=el[e]})});function Dw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||el.hasOwnProperty(e)&&el[e]?(""+t).trim():t+"px"}function Ew(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,s=Dw(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,s):e[r]=s}}var sP=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hf(e,t){if(t){if(sP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function Qf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jf=null;function Nx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xf=null,Cs=null,Os=null;function $g(e){if(e=Co(e)){if(typeof Xf!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=bd(t),Xf(e.stateNode,e.type,t))}}function Mw(e){Cs?Os?Os.push(e):Os=[e]:Cs=e}function Iw(){if(Cs){var e=Cs,t=Os;if(Os=Cs=null,$g(e),t)for(e=0;e<t.length;e++)$g(t[e])}}function $w(e,t){return e(t)}function _w(){}var Tm=!1;function Rw(e,t,r){if(Tm)return e(t,r);Tm=!0;try{return $w(e,t,r)}finally{Tm=!1,(Cs!==null||Os!==null)&&(_w(),Iw())}}function xl(e,t){var r=e.stateNode;if(r===null)return null;var a=bd(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var Yf=!1;if(vn)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Yf=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Yf=!1}function iP(e,t,r,a,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var tl=!1,Lc=null,Fc=!1,Zf=null,lP={onError:function(e){tl=!0,Lc=e}};function oP(e,t,r,a,s,i,l,o,c){tl=!1,Lc=null,iP.apply(lP,arguments)}function cP(e,t,r,a,s,i,l,o,c){if(oP.apply(this,arguments),tl){if(tl){var u=Lc;tl=!1,Lc=null}else throw Error(Y(198));Fc||(Fc=!0,Zf=u)}}function Ja(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Lw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _g(e){if(Ja(e)!==e)throw Error(Y(188))}function uP(e){var t=e.alternate;if(!t){if(t=Ja(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){r=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return _g(s),e;if(i===a)return _g(s),t;i=i.sibling}throw Error(Y(188))}if(r.return!==a.return)r=s,a=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,a=i;break}if(o===a){l=!0,a=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,a=s;break}if(o===a){l=!0,a=i,r=s;break}o=o.sibling}if(!l)throw Error(Y(189))}}if(r.alternate!==a)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function Fw(e){return e=uP(e),e!==null?Bw(e):null}function Bw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bw(e);if(t!==null)return t;e=e.sibling}return null}var qw=ir.unstable_scheduleCallback,Rg=ir.unstable_cancelCallback,dP=ir.unstable_shouldYield,mP=ir.unstable_requestPaint,tt=ir.unstable_now,fP=ir.unstable_getCurrentPriorityLevel,wx=ir.unstable_ImmediatePriority,Uw=ir.unstable_UserBlockingPriority,Bc=ir.unstable_NormalPriority,hP=ir.unstable_LowPriority,Ww=ir.unstable_IdlePriority,xd=null,Qr=null;function pP(e){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(xd,e,void 0,(e.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:gP,xP=Math.log,yP=Math.LN2;function gP(e){return e>>>=0,e===0?32:31-(xP(e)/yP|0)|0}var Vo=64,Go=4194304;function Ji(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qc(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?a=Ji(o):(i&=l,i!==0&&(a=Ji(i)))}else l=r&~s,l!==0?a=Ji(l):i!==0&&(a=Ji(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&s)&&(s=a&-a,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Br(t),s=1<<r,a|=e[r],t&=~s;return a}function vP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bP(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Br(i),o=1<<l,c=s[l];c===-1?(!(o&r)||o&a)&&(s[l]=vP(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function eh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kw(){var e=Vo;return Vo<<=1,!(Vo&4194240)&&(Vo=64),e}function Am(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Br(t),e[t]=r}function jP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Br(r),i=1<<s;t[s]=0,a[s]=-1,e[s]=-1,r&=~i}}function Sx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Br(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}var $e=0;function zw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vw,Cx,Gw,Hw,Qw,th=!1,Ho=[],Kn=null,zn=null,Vn=null,yl=new Map,gl=new Map,_n=[],NP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lg(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(t.pointerId)}}function Ai(e,t,r,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Co(t),t!==null&&Cx(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function wP(e,t,r,a,s){switch(t){case"focusin":return Kn=Ai(Kn,e,t,r,a,s),!0;case"dragenter":return zn=Ai(zn,e,t,r,a,s),!0;case"mouseover":return Vn=Ai(Vn,e,t,r,a,s),!0;case"pointerover":var i=s.pointerId;return yl.set(i,Ai(yl.get(i)||null,e,t,r,a,s)),!0;case"gotpointercapture":return i=s.pointerId,gl.set(i,Ai(gl.get(i)||null,e,t,r,a,s)),!0}return!1}function Jw(e){var t=Ca(e.target);if(t!==null){var r=Ja(t);if(r!==null){if(t=r.tag,t===13){if(t=Lw(r),t!==null){e.blockedOn=t,Qw(e.priority,function(){Gw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Jf=a,r.target.dispatchEvent(a),Jf=null}else return t=Co(r),t!==null&&Cx(t),e.blockedOn=r,!1;t.shift()}return!0}function Fg(e,t,r){kc(e)&&r.delete(t)}function SP(){th=!1,Kn!==null&&kc(Kn)&&(Kn=null),zn!==null&&kc(zn)&&(zn=null),Vn!==null&&kc(Vn)&&(Vn=null),yl.forEach(Fg),gl.forEach(Fg)}function Di(e,t){e.blockedOn===t&&(e.blockedOn=null,th||(th=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,SP)))}function vl(e){function t(s){return Di(s,e)}if(0<Ho.length){Di(Ho[0],e);for(var r=1;r<Ho.length;r++){var a=Ho[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Kn!==null&&Di(Kn,e),zn!==null&&Di(zn,e),Vn!==null&&Di(Vn,e),yl.forEach(t),gl.forEach(t),r=0;r<_n.length;r++)a=_n[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<_n.length&&(r=_n[0],r.blockedOn===null);)Jw(r),r.blockedOn===null&&_n.shift()}var ks=kn.ReactCurrentBatchConfig,Uc=!0;function CP(e,t,r,a){var s=$e,i=ks.transition;ks.transition=null;try{$e=1,Ox(e,t,r,a)}finally{$e=s,ks.transition=i}}function OP(e,t,r,a){var s=$e,i=ks.transition;ks.transition=null;try{$e=4,Ox(e,t,r,a)}finally{$e=s,ks.transition=i}}function Ox(e,t,r,a){if(Uc){var s=rh(e,t,r,a);if(s===null)Bm(e,t,a,Wc,r),Lg(e,a);else if(wP(s,e,t,r,a))a.stopPropagation();else if(Lg(e,a),t&4&&-1<NP.indexOf(e)){for(;s!==null;){var i=Co(s);if(i!==null&&Vw(i),i=rh(e,t,r,a),i===null&&Bm(e,t,a,Wc,r),i===s)break;s=i}s!==null&&a.stopPropagation()}else Bm(e,t,a,null,r)}}var Wc=null;function rh(e,t,r,a){if(Wc=null,e=Nx(a),e=Ca(e),e!==null)if(t=Ja(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Lw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wc=e,null}function Xw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fP()){case wx:return 1;case Uw:return 4;case Bc:case hP:return 16;case Ww:return 536870912;default:return 16}default:return 16}}var Fn=null,kx=null,Pc=null;function Yw(){if(Pc)return Pc;var e,t=kx,r=t.length,a,s="value"in Fn?Fn.value:Fn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(a=1;a<=l&&t[r-a]===s[i-a];a++);return Pc=s.slice(e,1<a?1-a:void 0)}function Tc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qo(){return!0}function Bg(){return!1}function ur(e){function t(r,a,s,i,l){this._reactName=r,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qo:Bg,this.isPropagationStopped=Bg,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),t}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Px=ur(fi),So=Ye({},fi,{view:0,detail:0}),kP=ur(So),Dm,Em,Ei,yd=Ye({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Dm=e.screenX-Ei.screenX,Em=e.screenY-Ei.screenY):Em=Dm=0,Ei=e),Dm)},movementY:function(e){return"movementY"in e?e.movementY:Em}}),qg=ur(yd),PP=Ye({},yd,{dataTransfer:0}),TP=ur(PP),AP=Ye({},So,{relatedTarget:0}),Mm=ur(AP),DP=Ye({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),EP=ur(DP),MP=Ye({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IP=ur(MP),$P=Ye({},fi,{data:0}),Ug=ur($P),_P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LP[e])?!!t[e]:!1}function Tx(){return FP}var BP=Ye({},So,{key:function(e){if(e.key){var t=_P[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tx,charCode:function(e){return e.type==="keypress"?Tc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qP=ur(BP),UP=Ye({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wg=ur(UP),WP=Ye({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tx}),KP=ur(WP),zP=Ye({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),VP=ur(zP),GP=Ye({},yd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HP=ur(GP),QP=[9,13,27,32],Ax=vn&&"CompositionEvent"in window,rl=null;vn&&"documentMode"in document&&(rl=document.documentMode);var JP=vn&&"TextEvent"in window&&!rl,Zw=vn&&(!Ax||rl&&8<rl&&11>=rl),Kg=String.fromCharCode(32),zg=!1;function e1(e,t){switch(e){case"keyup":return QP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function XP(e,t){switch(e){case"compositionend":return t1(t);case"keypress":return t.which!==32?null:(zg=!0,Kg);case"textInput":return e=t.data,e===Kg&&zg?null:e;default:return null}}function YP(e,t){if(ds)return e==="compositionend"||!Ax&&e1(e,t)?(e=Yw(),Pc=kx=Fn=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zw&&t.locale!=="ko"?null:t.data;default:return null}}var ZP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZP[e.type]:t==="textarea"}function r1(e,t,r,a){Mw(a),t=Kc(t,"onChange"),0<t.length&&(r=new Px("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var nl=null,bl=null;function eT(e){f1(e,0)}function gd(e){var t=hs(e);if(Ow(t))return e}function tT(e,t){if(e==="change")return t}var n1=!1;if(vn){var Im;if(vn){var $m="oninput"in document;if(!$m){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),$m=typeof Gg.oninput=="function"}Im=$m}else Im=!1;n1=Im&&(!document.documentMode||9<document.documentMode)}function Hg(){nl&&(nl.detachEvent("onpropertychange",a1),bl=nl=null)}function a1(e){if(e.propertyName==="value"&&gd(bl)){var t=[];r1(t,bl,e,Nx(e)),Rw(eT,t)}}function rT(e,t,r){e==="focusin"?(Hg(),nl=t,bl=r,nl.attachEvent("onpropertychange",a1)):e==="focusout"&&Hg()}function nT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gd(bl)}function aT(e,t){if(e==="click")return gd(t)}function sT(e,t){if(e==="input"||e==="change")return gd(t)}function iT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ur=typeof Object.is=="function"?Object.is:iT;function jl(e,t){if(Ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!Lf.call(t,s)||!Ur(e[s],t[s]))return!1}return!0}function Qg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jg(e,t){var r=Qg(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qg(r)}}function s1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function i1(){for(var e=window,t=Rc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Rc(e.document)}return t}function Dx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lT(e){var t=i1(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&s1(r.ownerDocument.documentElement,r)){if(a!==null&&Dx(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=Jg(r,i);var l=Jg(r,a);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oT=vn&&"documentMode"in document&&11>=document.documentMode,ms=null,nh=null,al=null,ah=!1;function Xg(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ah||ms==null||ms!==Rc(a)||(a=ms,"selectionStart"in a&&Dx(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),al&&jl(al,a)||(al=a,a=Kc(nh,"onSelect"),0<a.length&&(t=new Px("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=ms)))}function Jo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fs={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionend:Jo("Transition","TransitionEnd")},_m={},l1={};vn&&(l1=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function vd(e){if(_m[e])return _m[e];if(!fs[e])return e;var t=fs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in l1)return _m[e]=t[r];return e}var o1=vd("animationend"),c1=vd("animationiteration"),u1=vd("animationstart"),d1=vd("transitionend"),m1=new Map,Yg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(e,t){m1.set(e,t),Qa(t,[e])}for(var Rm=0;Rm<Yg.length;Rm++){var Lm=Yg[Rm],cT=Lm.toLowerCase(),uT=Lm[0].toUpperCase()+Lm.slice(1);aa(cT,"on"+uT)}aa(o1,"onAnimationEnd");aa(c1,"onAnimationIteration");aa(u1,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(d1,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function Zg(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,cP(a,t,void 0,e),e.currentTarget=null}function f1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Zg(s,o,u),i=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Zg(s,o,u),i=c}}}if(Fc)throw e=Zf,Fc=!1,Zf=null,e}function Ke(e,t){var r=t[ch];r===void 0&&(r=t[ch]=new Set);var a=e+"__bubble";r.has(a)||(h1(t,e,2,!1),r.add(a))}function Fm(e,t,r){var a=0;t&&(a|=4),h1(r,e,a,t)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Nl(e){if(!e[Xo]){e[Xo]=!0,jw.forEach(function(r){r!=="selectionchange"&&(dT.has(r)||Fm(r,!1,e),Fm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xo]||(t[Xo]=!0,Fm("selectionchange",!1,t))}}function h1(e,t,r,a){switch(Xw(t)){case 1:var s=CP;break;case 4:s=OP;break;default:s=Ox}r=s.bind(null,t,r,e),s=void 0,!Yf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Bm(e,t,r,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Ca(o),l===null)return;if(c=l.tag,c===5||c===6){a=i=l;continue e}o=o.parentNode}}a=a.return}Rw(function(){var u=i,f=Nx(r),m=[];e:{var h=m1.get(e);if(h!==void 0){var v=Px,j=e;switch(e){case"keypress":if(Tc(r)===0)break e;case"keydown":case"keyup":v=qP;break;case"focusin":j="focus",v=Mm;break;case"focusout":j="blur",v=Mm;break;case"beforeblur":case"afterblur":v=Mm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=TP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=KP;break;case o1:case c1:case u1:v=EP;break;case d1:v=VP;break;case"scroll":v=kP;break;case"wheel":v=HP;break;case"copy":case"cut":case"paste":v=IP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Wg}var y=(t&4)!==0,b=!y&&e==="scroll",N=y?h!==null?h+"Capture":null:h;y=[];for(var S=u,x;S!==null;){x=S;var d=x.stateNode;if(x.tag===5&&d!==null&&(x=d,N!==null&&(d=xl(S,N),d!=null&&y.push(wl(S,d,x)))),b)break;S=S.return}0<y.length&&(h=new v(h,j,null,r,f),m.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==Jf&&(j=r.relatedTarget||r.fromElement)&&(Ca(j)||j[bn]))break e;if((v||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,v?(j=r.relatedTarget||r.toElement,v=u,j=j?Ca(j):null,j!==null&&(b=Ja(j),j!==b||j.tag!==5&&j.tag!==6)&&(j=null)):(v=null,j=u),v!==j)){if(y=qg,d="onMouseLeave",N="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(y=Wg,d="onPointerLeave",N="onPointerEnter",S="pointer"),b=v==null?h:hs(v),x=j==null?h:hs(j),h=new y(d,S+"leave",v,r,f),h.target=b,h.relatedTarget=x,d=null,Ca(f)===u&&(y=new y(N,S+"enter",j,r,f),y.target=x,y.relatedTarget=b,d=y),b=d,v&&j)t:{for(y=v,N=j,S=0,x=y;x;x=ns(x))S++;for(x=0,d=N;d;d=ns(d))x++;for(;0<S-x;)y=ns(y),S--;for(;0<x-S;)N=ns(N),x--;for(;S--;){if(y===N||N!==null&&y===N.alternate)break t;y=ns(y),N=ns(N)}y=null}else y=null;v!==null&&e0(m,h,v,y,!1),j!==null&&b!==null&&e0(m,b,j,y,!0)}}e:{if(h=u?hs(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var p=tT;else if(Vg(h))if(n1)p=sT;else{p=nT;var g=rT}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(p=aT);if(p&&(p=p(e,u))){r1(m,p,r,f);break e}g&&g(e,h,u),e==="focusout"&&(g=h._wrapperState)&&g.controlled&&h.type==="number"&&zf(h,"number",h.value)}switch(g=u?hs(u):window,e){case"focusin":(Vg(g)||g.contentEditable==="true")&&(ms=g,nh=u,al=null);break;case"focusout":al=nh=ms=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,Xg(m,r,f);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":Xg(m,r,f)}var w;if(Ax)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ds?e1(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Zw&&r.locale!=="ko"&&(ds||C!=="onCompositionStart"?C==="onCompositionEnd"&&ds&&(w=Yw()):(Fn=f,kx="value"in Fn?Fn.value:Fn.textContent,ds=!0)),g=Kc(u,C),0<g.length&&(C=new Ug(C,e,null,r,f),m.push({event:C,listeners:g}),w?C.data=w:(w=t1(r),w!==null&&(C.data=w)))),(w=JP?XP(e,r):YP(e,r))&&(u=Kc(u,"onBeforeInput"),0<u.length&&(f=new Ug("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:u}),f.data=w))}f1(m,t)})}function wl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kc(e,t){for(var r=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xl(e,r),i!=null&&a.unshift(wl(e,i,s)),i=xl(e,t),i!=null&&a.push(wl(e,i,s))),e=e.return}return a}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function e0(e,t,r,a,s){for(var i=t._reactName,l=[];r!==null&&r!==a;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&u!==null&&(o=u,s?(c=xl(r,i),c!=null&&l.unshift(wl(r,c,o))):s||(c=xl(r,i),c!=null&&l.push(wl(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var mT=/\r\n?/g,fT=/\u0000|\uFFFD/g;function t0(e){return(typeof e=="string"?e:""+e).replace(mT,`
`).replace(fT,"")}function Yo(e,t,r){if(t=t0(t),t0(e)!==t&&r)throw Error(Y(425))}function zc(){}var sh=null,ih=null;function lh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,pT=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(e){return r0.resolve(null).then(e).catch(xT)}:oh;function xT(e){setTimeout(function(){throw e})}function qm(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(a===0){e.removeChild(s),vl(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=s}while(r);vl(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function n0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),Gr="__reactFiber$"+hi,Sl="__reactProps$"+hi,bn="__reactContainer$"+hi,ch="__reactEvents$"+hi,yT="__reactListeners$"+hi,gT="__reactHandles$"+hi;function Ca(e){var t=e[Gr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bn]||r[Gr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=n0(e);e!==null;){if(r=e[Gr])return r;e=n0(e)}return t}e=r,r=e.parentNode}return null}function Co(e){return e=e[Gr]||e[bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function bd(e){return e[Sl]||null}var uh=[],ps=-1;function sa(e){return{current:e}}function Ge(e){0>ps||(e.current=uh[ps],uh[ps]=null,ps--)}function qe(e,t){ps++,uh[ps]=e.current,e.current=t}var ra={},$t=sa(ra),Gt=sa(!1),Ra=ra;function $s(e,t){var r=e.type.contextTypes;if(!r)return ra;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(e){return e=e.childContextTypes,e!=null}function Vc(){Ge(Gt),Ge($t)}function a0(e,t,r){if($t.current!==ra)throw Error(Y(168));qe($t,t),qe(Gt,r)}function p1(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(Y(108,rP(e)||"Unknown",s));return Ye({},r,a)}function Gc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ra,Ra=$t.current,qe($t,e),qe(Gt,Gt.current),!0}function s0(e,t,r){var a=e.stateNode;if(!a)throw Error(Y(169));r?(e=p1(e,t,Ra),a.__reactInternalMemoizedMergedChildContext=e,Ge(Gt),Ge($t),qe($t,e)):Ge(Gt),qe(Gt,r)}var ln=null,jd=!1,Um=!1;function x1(e){ln===null?ln=[e]:ln.push(e)}function vT(e){jd=!0,x1(e)}function ia(){if(!Um&&ln!==null){Um=!0;var e=0,t=$e;try{var r=ln;for($e=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}ln=null,jd=!1}catch(s){throw ln!==null&&(ln=ln.slice(e+1)),qw(wx,ia),s}finally{$e=t,Um=!1}}return null}var xs=[],ys=0,Hc=null,Qc=0,pr=[],xr=0,La=null,on=1,cn="";function ga(e,t){xs[ys++]=Qc,xs[ys++]=Hc,Hc=e,Qc=t}function y1(e,t,r){pr[xr++]=on,pr[xr++]=cn,pr[xr++]=La,La=e;var a=on;e=cn;var s=32-Br(a)-1;a&=~(1<<s),r+=1;var i=32-Br(t)+s;if(30<i){var l=s-s%5;i=(a&(1<<l)-1).toString(32),a>>=l,s-=l,on=1<<32-Br(t)+s|r<<s|a,cn=i+e}else on=1<<i|r<<s|a,cn=e}function Ex(e){e.return!==null&&(ga(e,1),y1(e,1,0))}function Mx(e){for(;e===Hc;)Hc=xs[--ys],xs[ys]=null,Qc=xs[--ys],xs[ys]=null;for(;e===La;)La=pr[--xr],pr[xr]=null,cn=pr[--xr],pr[xr]=null,on=pr[--xr],pr[xr]=null}var sr=null,nr=null,He=!1,$r=null;function g1(e,t){var r=yr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function i0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sr=e,nr=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sr=e,nr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=La!==null?{id:on,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,sr=e,nr=null,!0):!1;default:return!1}}function dh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mh(e){if(He){var t=nr;if(t){var r=t;if(!i0(e,t)){if(dh(e))throw Error(Y(418));t=Gn(r.nextSibling);var a=sr;t&&i0(e,t)?g1(a,r):(e.flags=e.flags&-4097|2,He=!1,sr=e)}}else{if(dh(e))throw Error(Y(418));e.flags=e.flags&-4097|2,He=!1,sr=e}}}function l0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sr=e}function Zo(e){if(e!==sr)return!1;if(!He)return l0(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lh(e.type,e.memoizedProps)),t&&(t=nr)){if(dh(e))throw v1(),Error(Y(418));for(;t;)g1(e,t),t=Gn(t.nextSibling)}if(l0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nr=Gn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nr=null}}else nr=sr?Gn(e.stateNode.nextSibling):null;return!0}function v1(){for(var e=nr;e;)e=Gn(e.nextSibling)}function _s(){nr=sr=null,He=!1}function Ix(e){$r===null?$r=[e]:$r.push(e)}var bT=kn.ReactCurrentBatchConfig;function Mi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var a=r.stateNode}if(!a)throw Error(Y(147,e));var s=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function ec(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function o0(e){var t=e._init;return t(e._payload)}function b1(e){function t(N,S){if(e){var x=N.deletions;x===null?(N.deletions=[S],N.flags|=16):x.push(S)}}function r(N,S){if(!e)return null;for(;S!==null;)t(N,S),S=S.sibling;return null}function a(N,S){for(N=new Map;S!==null;)S.key!==null?N.set(S.key,S):N.set(S.index,S),S=S.sibling;return N}function s(N,S){return N=Xn(N,S),N.index=0,N.sibling=null,N}function i(N,S,x){return N.index=x,e?(x=N.alternate,x!==null?(x=x.index,x<S?(N.flags|=2,S):x):(N.flags|=2,S)):(N.flags|=1048576,S)}function l(N){return e&&N.alternate===null&&(N.flags|=2),N}function o(N,S,x,d){return S===null||S.tag!==6?(S=Qm(x,N.mode,d),S.return=N,S):(S=s(S,x),S.return=N,S)}function c(N,S,x,d){var p=x.type;return p===us?f(N,S,x.props.children,d,x.key):S!==null&&(S.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===Mn&&o0(p)===S.type)?(d=s(S,x.props),d.ref=Mi(N,S,x),d.return=N,d):(d=_c(x.type,x.key,x.props,null,N.mode,d),d.ref=Mi(N,S,x),d.return=N,d)}function u(N,S,x,d){return S===null||S.tag!==4||S.stateNode.containerInfo!==x.containerInfo||S.stateNode.implementation!==x.implementation?(S=Jm(x,N.mode,d),S.return=N,S):(S=s(S,x.children||[]),S.return=N,S)}function f(N,S,x,d,p){return S===null||S.tag!==7?(S=Ma(x,N.mode,d,p),S.return=N,S):(S=s(S,x),S.return=N,S)}function m(N,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Qm(""+S,N.mode,x),S.return=N,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wo:return x=_c(S.type,S.key,S.props,null,N.mode,x),x.ref=Mi(N,null,S),x.return=N,x;case cs:return S=Jm(S,N.mode,x),S.return=N,S;case Mn:var d=S._init;return m(N,d(S._payload),x)}if(Qi(S)||Pi(S))return S=Ma(S,N.mode,x,null),S.return=N,S;ec(N,S)}return null}function h(N,S,x,d){var p=S!==null?S.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return p!==null?null:o(N,S,""+x,d);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wo:return x.key===p?c(N,S,x,d):null;case cs:return x.key===p?u(N,S,x,d):null;case Mn:return p=x._init,h(N,S,p(x._payload),d)}if(Qi(x)||Pi(x))return p!==null?null:f(N,S,x,d,null);ec(N,x)}return null}function v(N,S,x,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return N=N.get(x)||null,o(S,N,""+d,p);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Wo:return N=N.get(d.key===null?x:d.key)||null,c(S,N,d,p);case cs:return N=N.get(d.key===null?x:d.key)||null,u(S,N,d,p);case Mn:var g=d._init;return v(N,S,x,g(d._payload),p)}if(Qi(d)||Pi(d))return N=N.get(x)||null,f(S,N,d,p,null);ec(S,d)}return null}function j(N,S,x,d){for(var p=null,g=null,w=S,C=S=0,T=null;w!==null&&C<x.length;C++){w.index>C?(T=w,w=null):T=w.sibling;var P=h(N,w,x[C],d);if(P===null){w===null&&(w=T);break}e&&w&&P.alternate===null&&t(N,w),S=i(P,S,C),g===null?p=P:g.sibling=P,g=P,w=T}if(C===x.length)return r(N,w),He&&ga(N,C),p;if(w===null){for(;C<x.length;C++)w=m(N,x[C],d),w!==null&&(S=i(w,S,C),g===null?p=w:g.sibling=w,g=w);return He&&ga(N,C),p}for(w=a(N,w);C<x.length;C++)T=v(w,N,C,x[C],d),T!==null&&(e&&T.alternate!==null&&w.delete(T.key===null?C:T.key),S=i(T,S,C),g===null?p=T:g.sibling=T,g=T);return e&&w.forEach(function(D){return t(N,D)}),He&&ga(N,C),p}function y(N,S,x,d){var p=Pi(x);if(typeof p!="function")throw Error(Y(150));if(x=p.call(x),x==null)throw Error(Y(151));for(var g=p=null,w=S,C=S=0,T=null,P=x.next();w!==null&&!P.done;C++,P=x.next()){w.index>C?(T=w,w=null):T=w.sibling;var D=h(N,w,P.value,d);if(D===null){w===null&&(w=T);break}e&&w&&D.alternate===null&&t(N,w),S=i(D,S,C),g===null?p=D:g.sibling=D,g=D,w=T}if(P.done)return r(N,w),He&&ga(N,C),p;if(w===null){for(;!P.done;C++,P=x.next())P=m(N,P.value,d),P!==null&&(S=i(P,S,C),g===null?p=P:g.sibling=P,g=P);return He&&ga(N,C),p}for(w=a(N,w);!P.done;C++,P=x.next())P=v(w,N,C,P.value,d),P!==null&&(e&&P.alternate!==null&&w.delete(P.key===null?C:P.key),S=i(P,S,C),g===null?p=P:g.sibling=P,g=P);return e&&w.forEach(function(k){return t(N,k)}),He&&ga(N,C),p}function b(N,S,x,d){if(typeof x=="object"&&x!==null&&x.type===us&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Wo:e:{for(var p=x.key,g=S;g!==null;){if(g.key===p){if(p=x.type,p===us){if(g.tag===7){r(N,g.sibling),S=s(g,x.props.children),S.return=N,N=S;break e}}else if(g.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===Mn&&o0(p)===g.type){r(N,g.sibling),S=s(g,x.props),S.ref=Mi(N,g,x),S.return=N,N=S;break e}r(N,g);break}else t(N,g);g=g.sibling}x.type===us?(S=Ma(x.props.children,N.mode,d,x.key),S.return=N,N=S):(d=_c(x.type,x.key,x.props,null,N.mode,d),d.ref=Mi(N,S,x),d.return=N,N=d)}return l(N);case cs:e:{for(g=x.key;S!==null;){if(S.key===g)if(S.tag===4&&S.stateNode.containerInfo===x.containerInfo&&S.stateNode.implementation===x.implementation){r(N,S.sibling),S=s(S,x.children||[]),S.return=N,N=S;break e}else{r(N,S);break}else t(N,S);S=S.sibling}S=Jm(x,N.mode,d),S.return=N,N=S}return l(N);case Mn:return g=x._init,b(N,S,g(x._payload),d)}if(Qi(x))return j(N,S,x,d);if(Pi(x))return y(N,S,x,d);ec(N,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,S!==null&&S.tag===6?(r(N,S.sibling),S=s(S,x),S.return=N,N=S):(r(N,S),S=Qm(x,N.mode,d),S.return=N,N=S),l(N)):r(N,S)}return b}var Rs=b1(!0),j1=b1(!1),Jc=sa(null),Xc=null,gs=null,$x=null;function _x(){$x=gs=Xc=null}function Rx(e){var t=Jc.current;Ge(Jc),e._currentValue=t}function fh(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Ps(e,t){Xc=e,$x=gs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function Nr(e){var t=e._currentValue;if($x!==e)if(e={context:e,memoizedValue:t,next:null},gs===null){if(Xc===null)throw Error(Y(308));gs=e,Xc.dependencies={lanes:0,firstContext:e}}else gs=gs.next=e;return t}var Oa=null;function Lx(e){Oa===null?Oa=[e]:Oa.push(e)}function N1(e,t,r,a){var s=t.interleaved;return s===null?(r.next=r,Lx(t)):(r.next=s.next,s.next=r),t.interleaved=r,jn(e,a)}function jn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var In=!1;function Fx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Pe&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,jn(e,r)}return s=a.interleaved,s===null?(t.next=t,Lx(a)):(t.next=s.next,s.next=t),a.interleaved=t,jn(e,r)}function Ac(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Sx(e,r)}}function c0(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Yc(e,t,r,a){var s=e.updateQueue;In=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==l&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;l=0,f=u=c=null,o=i;do{var h=o.lane,v=o.eventTime;if((a&h)===h){f!==null&&(f=f.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=e,y=o;switch(h=t,v=r,y.tag){case 1:if(j=y.payload,typeof j=="function"){m=j.call(v,m,h);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=y.payload,h=typeof j=="function"?j.call(v,m,h):j,h==null)break e;m=Ye({},m,h);break e;case 2:In=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else v={eventTime:v,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=v,c=m):f=f.next=v,l|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(f===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ba|=l,e.lanes=l,e.memoizedState=m}}function u0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=r,typeof s!="function")throw Error(Y(191,s));s.call(a)}}}var Oo={},Jr=sa(Oo),Cl=sa(Oo),Ol=sa(Oo);function ka(e){if(e===Oo)throw Error(Y(174));return e}function Bx(e,t){switch(qe(Ol,t),qe(Cl,e),qe(Jr,Oo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gf(t,e)}Ge(Jr),qe(Jr,t)}function Ls(){Ge(Jr),Ge(Cl),Ge(Ol)}function S1(e){ka(Ol.current);var t=ka(Jr.current),r=Gf(t,e.type);t!==r&&(qe(Cl,e),qe(Jr,r))}function qx(e){Cl.current===e&&(Ge(Jr),Ge(Cl))}var Je=sa(0);function Zc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wm=[];function Ux(){for(var e=0;e<Wm.length;e++)Wm[e]._workInProgressVersionPrimary=null;Wm.length=0}var Dc=kn.ReactCurrentDispatcher,Km=kn.ReactCurrentBatchConfig,Fa=0,Xe=null,ct=null,yt=null,eu=!1,sl=!1,kl=0,jT=0;function Pt(){throw Error(Y(321))}function Wx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ur(e[r],t[r]))return!1;return!0}function Kx(e,t,r,a,s,i){if(Fa=i,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dc.current=e===null||e.memoizedState===null?CT:OT,e=r(a,s),sl){i=0;do{if(sl=!1,kl=0,25<=i)throw Error(Y(301));i+=1,yt=ct=null,t.updateQueue=null,Dc.current=kT,e=r(a,s)}while(sl)}if(Dc.current=tu,t=ct!==null&&ct.next!==null,Fa=0,yt=ct=Xe=null,eu=!1,t)throw Error(Y(300));return e}function zx(){var e=kl!==0;return kl=0,e}function Vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Xe.memoizedState=yt=e:yt=yt.next=e,yt}function wr(){if(ct===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=yt===null?Xe.memoizedState:yt.next;if(t!==null)yt=t,ct=e;else{if(e===null)throw Error(Y(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},yt===null?Xe.memoizedState=yt=e:yt=yt.next=e}return yt}function Pl(e,t){return typeof t=="function"?t(e):t}function zm(e){var t=wr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var a=ct,s=a.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}a.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,a=a.baseState;var o=l=null,c=null,u=i;do{var f=u.lane;if((Fa&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=m,l=a):c=c.next=m,Xe.lanes|=f,Ba|=f}u=u.next}while(u!==null&&u!==i);c===null?l=a:c.next=o,Ur(a,t.memoizedState)||(zt=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Xe.lanes|=i,Ba|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vm(e){var t=wr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Ur(i,t.memoizedState)||(zt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function C1(){}function O1(e,t){var r=Xe,a=wr(),s=t(),i=!Ur(a.memoizedState,s);if(i&&(a.memoizedState=s,zt=!0),a=a.queue,Vx(T1.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||yt!==null&&yt.memoizedState.tag&1){if(r.flags|=2048,Tl(9,P1.bind(null,r,a,s,t),void 0,null),gt===null)throw Error(Y(349));Fa&30||k1(r,t,s)}return s}function k1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function P1(e,t,r,a){t.value=r,t.getSnapshot=a,A1(t)&&D1(e)}function T1(e,t,r){return r(function(){A1(t)&&D1(e)})}function A1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ur(e,r)}catch{return!0}}function D1(e){var t=jn(e,1);t!==null&&qr(t,e,1,-1)}function d0(e){var t=Vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:e},t.queue=e,e=e.dispatch=ST.bind(null,Xe,e),[t.memoizedState,e]}function Tl(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function E1(){return wr().memoizedState}function Ec(e,t,r,a){var s=Vr();Xe.flags|=e,s.memoizedState=Tl(1|t,r,void 0,a===void 0?null:a)}function Nd(e,t,r,a){var s=wr();a=a===void 0?null:a;var i=void 0;if(ct!==null){var l=ct.memoizedState;if(i=l.destroy,a!==null&&Wx(a,l.deps)){s.memoizedState=Tl(t,r,i,a);return}}Xe.flags|=e,s.memoizedState=Tl(1|t,r,i,a)}function m0(e,t){return Ec(8390656,8,e,t)}function Vx(e,t){return Nd(2048,8,e,t)}function M1(e,t){return Nd(4,2,e,t)}function I1(e,t){return Nd(4,4,e,t)}function $1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _1(e,t,r){return r=r!=null?r.concat([e]):null,Nd(4,4,$1.bind(null,t,e),r)}function Gx(){}function R1(e,t){var r=wr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Wx(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function L1(e,t){var r=wr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Wx(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function F1(e,t,r){return Fa&21?(Ur(r,t)||(r=Kw(),Xe.lanes|=r,Ba|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=r)}function NT(e,t){var r=$e;$e=r!==0&&4>r?r:4,e(!0);var a=Km.transition;Km.transition={};try{e(!1),t()}finally{$e=r,Km.transition=a}}function B1(){return wr().memoizedState}function wT(e,t,r){var a=Jn(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},q1(e))U1(t,r);else if(r=N1(e,t,r,a),r!==null){var s=Ft();qr(r,e,a,s),W1(r,t,a)}}function ST(e,t,r){var a=Jn(e),s={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(q1(e))U1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,Ur(o,l)){var c=t.interleaved;c===null?(s.next=s,Lx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=N1(e,t,s,a),r!==null&&(s=Ft(),qr(r,e,a,s),W1(r,t,a))}}function q1(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function U1(e,t){sl=eu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function W1(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Sx(e,r)}}var tu={readContext:Nr,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},CT={readContext:Nr,useCallback:function(e,t){return Vr().memoizedState=[e,t===void 0?null:t],e},useContext:Nr,useEffect:m0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ec(4194308,4,$1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ec(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ec(4,2,e,t)},useMemo:function(e,t){var r=Vr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=Vr();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=wT.bind(null,Xe,e),[a.memoizedState,e]},useRef:function(e){var t=Vr();return e={current:e},t.memoizedState=e},useState:d0,useDebugValue:Gx,useDeferredValue:function(e){return Vr().memoizedState=e},useTransition:function(){var e=d0(!1),t=e[0];return e=NT.bind(null,e[1]),Vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=Xe,s=Vr();if(He){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),gt===null)throw Error(Y(349));Fa&30||k1(a,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,m0(T1.bind(null,a,i,e),[e]),a.flags|=2048,Tl(9,P1.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=Vr(),t=gt.identifierPrefix;if(He){var r=cn,a=on;r=(a&~(1<<32-Br(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=kl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OT={readContext:Nr,useCallback:R1,useContext:Nr,useEffect:Vx,useImperativeHandle:_1,useInsertionEffect:M1,useLayoutEffect:I1,useMemo:L1,useReducer:zm,useRef:E1,useState:function(){return zm(Pl)},useDebugValue:Gx,useDeferredValue:function(e){var t=wr();return F1(t,ct.memoizedState,e)},useTransition:function(){var e=zm(Pl)[0],t=wr().memoizedState;return[e,t]},useMutableSource:C1,useSyncExternalStore:O1,useId:B1,unstable_isNewReconciler:!1},kT={readContext:Nr,useCallback:R1,useContext:Nr,useEffect:Vx,useImperativeHandle:_1,useInsertionEffect:M1,useLayoutEffect:I1,useMemo:L1,useReducer:Vm,useRef:E1,useState:function(){return Vm(Pl)},useDebugValue:Gx,useDeferredValue:function(e){var t=wr();return ct===null?t.memoizedState=e:F1(t,ct.memoizedState,e)},useTransition:function(){var e=Vm(Pl)[0],t=wr().memoizedState;return[e,t]},useMutableSource:C1,useSyncExternalStore:O1,useId:B1,unstable_isNewReconciler:!1};function Ar(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hh(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:Ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wd={isMounted:function(e){return(e=e._reactInternals)?Ja(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Ft(),s=Jn(e),i=fn(a,s);i.payload=t,r!=null&&(i.callback=r),t=Hn(e,i,s),t!==null&&(qr(t,e,s,a),Ac(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Ft(),s=Jn(e),i=fn(a,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Hn(e,i,s),t!==null&&(qr(t,e,s,a),Ac(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ft(),a=Jn(e),s=fn(r,a);s.tag=2,t!=null&&(s.callback=t),t=Hn(e,s,a),t!==null&&(qr(t,e,a,r),Ac(t,e,a))}};function f0(e,t,r,a,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):t.prototype&&t.prototype.isPureReactComponent?!jl(r,a)||!jl(s,i):!0}function K1(e,t,r){var a=!1,s=ra,i=t.contextType;return typeof i=="object"&&i!==null?i=Nr(i):(s=Ht(t)?Ra:$t.current,a=t.contextTypes,i=(a=a!=null)?$s(e,s):ra),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wd,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function h0(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&wd.enqueueReplaceState(t,t.state,null)}function ph(e,t,r,a){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Fx(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Nr(i):(i=Ht(t)?Ra:$t.current,s.context=$s(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wd.enqueueReplaceState(s,s.state,null),Yc(e,r,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var r="",a=t;do r+=tP(a),a=a.return;while(a);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Gm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var PT=typeof WeakMap=="function"?WeakMap:Map;function z1(e,t,r){r=fn(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){nu||(nu=!0,Oh=a),xh(e,t)},r}function V1(e,t,r){r=fn(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;r.payload=function(){return a(s)},r.callback=function(){xh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){xh(e,t),typeof a!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function p0(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new PT;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(r)||(s.add(r),e=UT.bind(null,e,t,r),t.then(e,e))}function x0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function y0(e,t,r,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fn(-1,1),t.tag=2,Hn(r,t,1))),r.lanes|=1),e)}var TT=kn.ReactCurrentOwner,zt=!1;function Rt(e,t,r,a){t.child=e===null?j1(t,null,r,a):Rs(t,e.child,r,a)}function g0(e,t,r,a,s){r=r.render;var i=t.ref;return Ps(t,s),a=Kx(e,t,r,a,i,s),r=zx(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nn(e,t,s)):(He&&r&&Ex(t),t.flags|=1,Rt(e,t,a,s),t.child)}function v0(e,t,r,a,s){if(e===null){var i=r.type;return typeof i=="function"&&!ty(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,G1(e,t,i,a,s)):(e=_c(r.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:jl,r(l,a)&&e.ref===t.ref)return Nn(e,t,s)}return t.flags|=1,e=Xn(i,a),e.ref=t.ref,e.return=t,t.child=e}function G1(e,t,r,a,s){if(e!==null){var i=e.memoizedProps;if(jl(i,a)&&e.ref===t.ref)if(zt=!1,t.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,Nn(e,t,s)}return yh(e,t,r,a,s)}function H1(e,t,r){var a=t.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(bs,er),er|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(bs,er),er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,qe(bs,er),er|=a}else i!==null?(a=i.baseLanes|r,t.memoizedState=null):a=r,qe(bs,er),er|=a;return Rt(e,t,s,r),t.child}function Q1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yh(e,t,r,a,s){var i=Ht(r)?Ra:$t.current;return i=$s(t,i),Ps(t,s),r=Kx(e,t,r,a,i,s),a=zx(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nn(e,t,s)):(He&&a&&Ex(t),t.flags|=1,Rt(e,t,r,s),t.child)}function b0(e,t,r,a,s){if(Ht(r)){var i=!0;Gc(t)}else i=!1;if(Ps(t,s),t.stateNode===null)Mc(e,t),K1(t,r,a),ph(t,r,a,s),a=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=Nr(u):(u=Ht(r)?Ra:$t.current,u=$s(t,u));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||c!==u)&&h0(t,l,a,u),In=!1;var h=t.memoizedState;l.state=h,Yc(t,a,l,s),c=t.memoizedState,o!==a||h!==c||Gt.current||In?(typeof f=="function"&&(hh(t,r,f,a),c=t.memoizedState),(o=In||f0(t,r,o,a,h,c,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=u,a=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,w1(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ar(t.type,o),l.props=u,m=t.pendingProps,h=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Nr(c):(c=Ht(r)?Ra:$t.current,c=$s(t,c));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||h!==c)&&h0(t,l,a,c),In=!1,h=t.memoizedState,l.state=h,Yc(t,a,l,s);var j=t.memoizedState;o!==m||h!==j||Gt.current||In?(typeof v=="function"&&(hh(t,r,v,a),j=t.memoizedState),(u=In||f0(t,r,u,a,h,j,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,j,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,j,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=j),l.props=a,l.state=j,l.context=c,a=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return gh(e,t,r,a,i,s)}function gh(e,t,r,a,s,i){Q1(e,t);var l=(t.flags&128)!==0;if(!a&&!l)return s&&s0(t,r,!1),Nn(e,t,i);a=t.stateNode,TT.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&l?(t.child=Rs(t,e.child,null,i),t.child=Rs(t,null,o,i)):Rt(e,t,o,i),t.memoizedState=a.state,s&&s0(t,r,!0),t.child}function J1(e){var t=e.stateNode;t.pendingContext?a0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&a0(e,t.context,!1),Bx(e,t.containerInfo)}function j0(e,t,r,a,s){return _s(),Ix(s),t.flags|=256,Rt(e,t,r,a),t.child}var vh={dehydrated:null,treeContext:null,retryLane:0};function bh(e){return{baseLanes:e,cachePool:null,transitions:null}}function X1(e,t,r){var a=t.pendingProps,s=Je.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qe(Je,s&1),e===null)return mh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Od(l,a,0,null),e=Ma(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bh(r),t.memoizedState=vh,e):Hx(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return AT(e,t,l,a,o,s,r);if(i){i=a.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:a.children};return!(l&1)&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=Xn(s,c),a.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Xn(o,i):(i=Ma(i,l,r,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=e.child.memoizedState,l=l===null?bh(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=vh,a}return i=e.child,e=i.sibling,a=Xn(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Hx(e,t){return t=Od({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tc(e,t,r,a){return a!==null&&Ix(a),Rs(t,e.child,null,r),e=Hx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AT(e,t,r,a,s,i,l){if(r)return t.flags&256?(t.flags&=-257,a=Gm(Error(Y(422))),tc(e,t,l,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,s=t.mode,a=Od({mode:"visible",children:a.children},s,0,null),i=Ma(i,s,l,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Rs(t,e.child,null,l),t.child.memoizedState=bh(l),t.memoizedState=vh,i);if(!(t.mode&1))return tc(e,t,l,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(Y(419)),a=Gm(i,a,void 0),tc(e,t,l,a)}if(o=(l&e.childLanes)!==0,zt||o){if(a=gt,a!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jn(e,s),qr(a,e,s,-1))}return ey(),a=Gm(Error(Y(421))),tc(e,t,l,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=WT.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,nr=Gn(s.nextSibling),sr=t,He=!0,$r=null,e!==null&&(pr[xr++]=on,pr[xr++]=cn,pr[xr++]=La,on=e.id,cn=e.overflow,La=t),t=Hx(t,a.children),t.flags|=4096,t)}function N0(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),fh(e.return,t,r)}function Hm(e,t,r,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=s)}function Y1(e,t,r){var a=t.pendingProps,s=a.revealOrder,i=a.tail;if(Rt(e,t,a.children,r),a=Je.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&N0(e,r,t);else if(e.tag===19)N0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(qe(Je,a),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Zc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Hm(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Zc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Hm(t,!0,r,null,i);break;case"together":Hm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ba|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=Xn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function DT(e,t,r){switch(t.tag){case 3:J1(t),_s();break;case 5:S1(t);break;case 1:Ht(t.type)&&Gc(t);break;case 4:Bx(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;qe(Jc,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(qe(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?X1(e,t,r):(qe(Je,Je.current&1),e=Nn(e,t,r),e!==null?e.sibling:null);qe(Je,Je.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return Y1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(Je,Je.current),a)break;return null;case 22:case 23:return t.lanes=0,H1(e,t,r)}return Nn(e,t,r)}var Z1,jh,eS,tS;Z1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jh=function(){};eS=function(e,t,r,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,ka(Jr.current);var i=null;switch(r){case"input":s=Wf(e,s),a=Wf(e,a),i=[];break;case"select":s=Ye({},s,{value:void 0}),a=Ye({},a,{value:void 0}),i=[];break;case"textarea":s=Vf(e,s),a=Vf(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=zc)}Hf(r,a);var l;r=null;for(u in s)if(!a.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in a){var c=a[u];if(o=s!=null?s[u]:void 0,a.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ke("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};tS=function(e,t,r,a){r!==a&&(t.flags|=4)};function Ii(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function ET(e,t,r){var a=t.pendingProps;switch(Mx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Ht(t.type)&&Vc(),Tt(t),null;case 3:return a=t.stateNode,Ls(),Ge(Gt),Ge($t),Ux(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$r!==null&&(Th($r),$r=null))),jh(e,t),Tt(t),null;case 5:qx(t);var s=ka(Ol.current);if(r=t.type,e!==null&&t.stateNode!=null)eS(e,t,r,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(Y(166));return Tt(t),null}if(e=ka(Jr.current),Zo(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[Gr]=t,a[Sl]=i,e=(t.mode&1)!==0,r){case"dialog":Ke("cancel",a),Ke("close",a);break;case"iframe":case"object":case"embed":Ke("load",a);break;case"video":case"audio":for(s=0;s<Xi.length;s++)Ke(Xi[s],a);break;case"source":Ke("error",a);break;case"img":case"image":case"link":Ke("error",a),Ke("load",a);break;case"details":Ke("toggle",a);break;case"input":Dg(a,i),Ke("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",a);break;case"textarea":Mg(a,i),Ke("invalid",a)}Hf(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&Yo(a.textContent,o,e),s=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Yo(a.textContent,o,e),s=["children",""+o]):hl.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ke("scroll",a)}switch(r){case"input":Ko(a),Eg(a,i,!0);break;case"textarea":Ko(a),Ig(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=zc)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Tw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=l.createElement(r,{is:a.is}):(e=l.createElement(r),r==="select"&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,r),e[Gr]=t,e[Sl]=a,Z1(e,t,!1,!1),t.stateNode=e;e:{switch(l=Qf(r,a),r){case"dialog":Ke("cancel",e),Ke("close",e),s=a;break;case"iframe":case"object":case"embed":Ke("load",e),s=a;break;case"video":case"audio":for(s=0;s<Xi.length;s++)Ke(Xi[s],e);s=a;break;case"source":Ke("error",e),s=a;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),s=a;break;case"details":Ke("toggle",e),s=a;break;case"input":Dg(e,a),s=Wf(e,a),Ke("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=Ye({},a,{value:void 0}),Ke("invalid",e);break;case"textarea":Mg(e,a),s=Vf(e,a),Ke("invalid",e);break;default:s=a}Hf(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Ew(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Aw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&pl(e,c):typeof c=="number"&&pl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ke("scroll",e):c!=null&&gx(e,i,c,l))}switch(r){case"input":Ko(e),Eg(e,a,!1);break;case"textarea":Ko(e),Ig(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ta(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Ss(e,!!a.multiple,i,!1):a.defaultValue!=null&&Ss(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=zc)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)tS(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(Y(166));if(r=ka(Ol.current),ka(Jr.current),Zo(t)){if(a=t.stateNode,r=t.memoizedProps,a[Gr]=t,(i=a.nodeValue!==r)&&(e=sr,e!==null))switch(e.tag){case 3:Yo(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yo(a.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Gr]=t,t.stateNode=a}return Tt(t),null;case 13:if(Ge(Je),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&nr!==null&&t.mode&1&&!(t.flags&128))v1(),_s(),t.flags|=98560,i=!1;else if(i=Zo(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Gr]=t}else _s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),i=!1}else $r!==null&&(Th($r),$r=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?dt===0&&(dt=3):ey())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return Ls(),jh(e,t),e===null&&Nl(t.stateNode.containerInfo),Tt(t),null;case 10:return Rx(t.type._context),Tt(t),null;case 17:return Ht(t.type)&&Vc(),Tt(t),null;case 19:if(Ge(Je),i=t.memoizedState,i===null)return Tt(t),null;if(a=(t.flags&128)!==0,l=i.rendering,l===null)if(a)Ii(i,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Zc(e),l!==null){for(t.flags|=128,Ii(i,!1),a=l.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)i=r,e=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(Je,Je.current&1|2),t.child}e=e.sibling}i.tail!==null&&tt()>Bs&&(t.flags|=128,a=!0,Ii(i,!1),t.lanes=4194304)}else{if(!a)if(e=Zc(l),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ii(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!He)return Tt(t),null}else 2*tt()-i.renderingStartTime>Bs&&r!==1073741824&&(t.flags|=128,a=!0,Ii(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=tt(),t.sibling=null,r=Je.current,qe(Je,a?r&1|2:r&1),t):(Tt(t),null);case 22:case 23:return Zx(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?er&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function MT(e,t){switch(Mx(t),t.tag){case 1:return Ht(t.type)&&Vc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ls(),Ge(Gt),Ge($t),Ux(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qx(t),null;case 13:if(Ge(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Je),null;case 4:return Ls(),null;case 10:return Rx(t.type._context),null;case 22:case 23:return Zx(),null;case 24:return null;default:return null}}var rc=!1,Dt=!1,IT=typeof WeakSet=="function"?WeakSet:Set,oe=null;function vs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Ze(e,t,a)}else r.current=null}function Nh(e,t,r){try{r()}catch(a){Ze(e,t,a)}}var w0=!1;function $T(e,t){if(sh=Uc,e=i1(),Dx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,f=0,m=e,h=null;t:for(;;){for(var v;m!==r||s!==0&&m.nodeType!==3||(o=l+s),m!==i||a!==0&&m.nodeType!==3||(c=l+a),m.nodeType===3&&(l+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===r&&++u===s&&(o=l),h===i&&++f===a&&(c=l),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ih={focusedElem:e,selectionRange:r},Uc=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var y=j.memoizedProps,b=j.memoizedState,N=t.stateNode,S=N.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ar(t.type,y),b);N.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(d){Ze(t,t.return,d)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return j=w0,w0=!1,j}function il(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nh(t,r,i)}s=s.next}while(s!==a)}}function Sd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function wh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function rS(e){var t=e.alternate;t!==null&&(e.alternate=null,rS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gr],delete t[Sl],delete t[ch],delete t[yT],delete t[gT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nS(e){return e.tag===5||e.tag===3||e.tag===4}function S0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sh(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zc));else if(a!==4&&(e=e.child,e!==null))for(Sh(e,t,r),e=e.sibling;e!==null;)Sh(e,t,r),e=e.sibling}function Ch(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ch(e,t,r),e=e.sibling;e!==null;)Ch(e,t,r),e=e.sibling}var wt=null,Dr=!1;function En(e,t,r){for(r=r.child;r!==null;)aS(e,t,r),r=r.sibling}function aS(e,t,r){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(xd,r)}catch{}switch(r.tag){case 5:Dt||vs(r,t);case 6:var a=wt,s=Dr;wt=null,En(e,t,r),wt=a,Dr=s,wt!==null&&(Dr?(e=wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wt.removeChild(r.stateNode));break;case 18:wt!==null&&(Dr?(e=wt,r=r.stateNode,e.nodeType===8?qm(e.parentNode,r):e.nodeType===1&&qm(e,r),vl(e)):qm(wt,r.stateNode));break;case 4:a=wt,s=Dr,wt=r.stateNode.containerInfo,Dr=!0,En(e,t,r),wt=a,Dr=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Nh(r,t,l),s=s.next}while(s!==a)}En(e,t,r);break;case 1:if(!Dt&&(vs(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){Ze(r,t,o)}En(e,t,r);break;case 21:En(e,t,r);break;case 22:r.mode&1?(Dt=(a=Dt)||r.memoizedState!==null,En(e,t,r),Dt=a):En(e,t,r);break;default:En(e,t,r)}}function C0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IT),t.forEach(function(a){var s=KT.bind(null,e,a);r.has(a)||(r.add(a),a.then(s,s))})}}function Pr(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var s=r[a];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:wt=o.stateNode,Dr=!1;break e;case 3:wt=o.stateNode.containerInfo,Dr=!0;break e;case 4:wt=o.stateNode.containerInfo,Dr=!0;break e}o=o.return}if(wt===null)throw Error(Y(160));aS(i,l,s),wt=null,Dr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ze(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sS(t,e),t=t.sibling}function sS(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pr(t,e),zr(e),a&4){try{il(3,e,e.return),Sd(3,e)}catch(y){Ze(e,e.return,y)}try{il(5,e,e.return)}catch(y){Ze(e,e.return,y)}}break;case 1:Pr(t,e),zr(e),a&512&&r!==null&&vs(r,r.return);break;case 5:if(Pr(t,e),zr(e),a&512&&r!==null&&vs(r,r.return),e.flags&32){var s=e.stateNode;try{pl(s,"")}catch(y){Ze(e,e.return,y)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&kw(s,i),Qf(o,l);var u=Qf(o,i);for(l=0;l<c.length;l+=2){var f=c[l],m=c[l+1];f==="style"?Ew(s,m):f==="dangerouslySetInnerHTML"?Aw(s,m):f==="children"?pl(s,m):gx(s,f,m,u)}switch(o){case"input":Kf(s,i);break;case"textarea":Pw(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ss(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ss(s,!!i.multiple,i.defaultValue,!0):Ss(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sl]=i}catch(y){Ze(e,e.return,y)}}break;case 6:if(Pr(t,e),zr(e),a&4){if(e.stateNode===null)throw Error(Y(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Ze(e,e.return,y)}}break;case 3:if(Pr(t,e),zr(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{vl(t.containerInfo)}catch(y){Ze(e,e.return,y)}break;case 4:Pr(t,e),zr(e);break;case 13:Pr(t,e),zr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xx=tt())),a&4&&C0(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||f,Pr(t,e),Dt=u):Pr(t,e),zr(e),a&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(oe=e,f=e.child;f!==null;){for(m=oe=f;oe!==null;){switch(h=oe,v=h.child,h.tag){case 0:case 11:case 14:case 15:il(4,h,h.return);break;case 1:vs(h,h.return);var j=h.stateNode;if(typeof j.componentWillUnmount=="function"){a=h,r=h.return;try{t=a,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(y){Ze(a,r,y)}}break;case 5:vs(h,h.return);break;case 22:if(h.memoizedState!==null){k0(m);continue}}v!==null?(v.return=h,oe=v):k0(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Dw("display",l))}catch(y){Ze(e,e.return,y)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(y){Ze(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Pr(t,e),zr(e),a&4&&C0(e);break;case 21:break;default:Pr(t,e),zr(e)}}function zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(nS(r)){var a=r;break e}r=r.return}throw Error(Y(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(pl(s,""),a.flags&=-33);var i=S0(e);Ch(e,i,s);break;case 3:case 4:var l=a.stateNode.containerInfo,o=S0(e);Sh(e,o,l);break;default:throw Error(Y(161))}}catch(c){Ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _T(e,t,r){oe=e,iS(e)}function iS(e,t,r){for(var a=(e.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&a){var l=s.memoizedState!==null||rc;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Dt;o=rc;var u=Dt;if(rc=l,(Dt=c)&&!u)for(oe=s;oe!==null;)l=oe,c=l.child,l.tag===22&&l.memoizedState!==null?P0(s):c!==null?(c.return=l,oe=c):P0(s);for(;i!==null;)oe=i,iS(i),i=i.sibling;oe=s,rc=o,Dt=u}O0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):O0(e)}}function O0(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Sd(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Dt)if(r===null)a.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ar(t.type,r.memoizedProps);a.componentDidUpdate(s,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&u0(t,i,a);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}u0(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&vl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Dt||t.flags&512&&wh(t)}catch(h){Ze(t,t.return,h)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function k0(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function P0(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sd(4,t)}catch(c){Ze(t,r,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(c){Ze(t,s,c)}}var i=t.return;try{wh(t)}catch(c){Ze(t,i,c)}break;case 5:var l=t.return;try{wh(t)}catch(c){Ze(t,l,c)}}}catch(c){Ze(t,t.return,c)}if(t===e){oe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,oe=o;break}oe=t.return}}var RT=Math.ceil,ru=kn.ReactCurrentDispatcher,Qx=kn.ReactCurrentOwner,vr=kn.ReactCurrentBatchConfig,Pe=0,gt=null,at=null,Ct=0,er=0,bs=sa(0),dt=0,Al=null,Ba=0,Cd=0,Jx=0,ll=null,Kt=null,Xx=0,Bs=1/0,sn=null,nu=!1,Oh=null,Qn=null,nc=!1,Bn=null,au=0,ol=0,kh=null,Ic=-1,$c=0;function Ft(){return Pe&6?tt():Ic!==-1?Ic:Ic=tt()}function Jn(e){return e.mode&1?Pe&2&&Ct!==0?Ct&-Ct:bT.transition!==null?($c===0&&($c=Kw()),$c):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Xw(e.type)),e):1}function qr(e,t,r,a){if(50<ol)throw ol=0,kh=null,Error(Y(185));wo(e,r,a),(!(Pe&2)||e!==gt)&&(e===gt&&(!(Pe&2)&&(Cd|=r),dt===4&&Rn(e,Ct)),Qt(e,a),r===1&&Pe===0&&!(t.mode&1)&&(Bs=tt()+500,jd&&ia()))}function Qt(e,t){var r=e.callbackNode;bP(e,t);var a=qc(e,e===gt?Ct:0);if(a===0)r!==null&&Rg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&Rg(r),t===1)e.tag===0?vT(T0.bind(null,e)):x1(T0.bind(null,e)),pT(function(){!(Pe&6)&&ia()}),r=null;else{switch(zw(a)){case 1:r=wx;break;case 4:r=Uw;break;case 16:r=Bc;break;case 536870912:r=Ww;break;default:r=Bc}r=hS(r,lS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lS(e,t){if(Ic=-1,$c=0,Pe&6)throw Error(Y(327));var r=e.callbackNode;if(Ts()&&e.callbackNode!==r)return null;var a=qc(e,e===gt?Ct:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=su(e,a);else{t=a;var s=Pe;Pe|=2;var i=cS();(gt!==e||Ct!==t)&&(sn=null,Bs=tt()+500,Ea(e,t));do try{BT();break}catch(o){oS(e,o)}while(1);_x(),ru.current=i,Pe=s,at!==null?t=0:(gt=null,Ct=0,t=dt)}if(t!==0){if(t===2&&(s=eh(e),s!==0&&(a=s,t=Ph(e,s))),t===1)throw r=Al,Ea(e,0),Rn(e,a),Qt(e,tt()),r;if(t===6)Rn(e,a);else{if(s=e.current.alternate,!(a&30)&&!LT(s)&&(t=su(e,a),t===2&&(i=eh(e),i!==0&&(a=i,t=Ph(e,i))),t===1))throw r=Al,Ea(e,0),Rn(e,a),Qt(e,tt()),r;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(Y(345));case 2:va(e,Kt,sn);break;case 3:if(Rn(e,a),(a&130023424)===a&&(t=Xx+500-tt(),10<t)){if(qc(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){Ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=oh(va.bind(null,e,Kt,sn),t);break}va(e,Kt,sn);break;case 4:if(Rn(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var l=31-Br(a);i=1<<l,l=t[l],l>s&&(s=l),a&=~i}if(a=s,a=tt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*RT(a/1960))-a,10<a){e.timeoutHandle=oh(va.bind(null,e,Kt,sn),a);break}va(e,Kt,sn);break;case 5:va(e,Kt,sn);break;default:throw Error(Y(329))}}}return Qt(e,tt()),e.callbackNode===r?lS.bind(null,e):null}function Ph(e,t){var r=ll;return e.current.memoizedState.isDehydrated&&(Ea(e,t).flags|=256),e=su(e,t),e!==2&&(t=Kt,Kt=r,t!==null&&Th(t)),e}function Th(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function LT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var s=r[a],i=s.getSnapshot;s=s.value;try{if(!Ur(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~Jx,t&=~Cd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Br(t),a=1<<r;e[r]=-1,t&=~a}}function T0(e){if(Pe&6)throw Error(Y(327));Ts();var t=qc(e,0);if(!(t&1))return Qt(e,tt()),null;var r=su(e,t);if(e.tag!==0&&r===2){var a=eh(e);a!==0&&(t=a,r=Ph(e,a))}if(r===1)throw r=Al,Ea(e,0),Rn(e,t),Qt(e,tt()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,va(e,Kt,sn),Qt(e,tt()),null}function Yx(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(Bs=tt()+500,jd&&ia())}}function qa(e){Bn!==null&&Bn.tag===0&&!(Pe&6)&&Ts();var t=Pe;Pe|=1;var r=vr.transition,a=$e;try{if(vr.transition=null,$e=1,e)return e()}finally{$e=a,vr.transition=r,Pe=t,!(Pe&6)&&ia()}}function Zx(){er=bs.current,Ge(bs)}function Ea(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hT(r)),at!==null)for(r=at.return;r!==null;){var a=r;switch(Mx(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Vc();break;case 3:Ls(),Ge(Gt),Ge($t),Ux();break;case 5:qx(a);break;case 4:Ls();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:Rx(a.type._context);break;case 22:case 23:Zx()}r=r.return}if(gt=e,at=e=Xn(e.current,null),Ct=er=t,dt=0,Al=null,Jx=Cd=Ba=0,Kt=ll=null,Oa!==null){for(t=0;t<Oa.length;t++)if(r=Oa[t],a=r.interleaved,a!==null){r.interleaved=null;var s=a.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,a.next=l}r.pending=a}Oa=null}return e}function oS(e,t){do{var r=at;try{if(_x(),Dc.current=tu,eu){for(var a=Xe.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}eu=!1}if(Fa=0,yt=ct=Xe=null,sl=!1,kl=0,Qx.current=null,r===null||r.return===null){dt=1,Al=t,at=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Ct,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=o,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=x0(l);if(v!==null){v.flags&=-257,y0(v,l,o,i,t),v.mode&1&&p0(i,u,t),t=v,c=u;var j=t.updateQueue;if(j===null){var y=new Set;y.add(c),t.updateQueue=y}else j.add(c);break e}else{if(!(t&1)){p0(i,u,t),ey();break e}c=Error(Y(426))}}else if(He&&o.mode&1){var b=x0(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),y0(b,l,o,i,t),Ix(Fs(c,o));break e}}i=c=Fs(c,o),dt!==4&&(dt=2),ll===null?ll=[i]:ll.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var N=z1(i,c,t);c0(i,N);break e;case 1:o=c;var S=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Qn===null||!Qn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var d=V1(i,o,t);c0(i,d);break e}}i=i.return}while(i!==null)}dS(r)}catch(p){t=p,at===r&&r!==null&&(at=r=r.return);continue}break}while(1)}function cS(){var e=ru.current;return ru.current=tu,e===null?tu:e}function ey(){(dt===0||dt===3||dt===2)&&(dt=4),gt===null||!(Ba&268435455)&&!(Cd&268435455)||Rn(gt,Ct)}function su(e,t){var r=Pe;Pe|=2;var a=cS();(gt!==e||Ct!==t)&&(sn=null,Ea(e,t));do try{FT();break}catch(s){oS(e,s)}while(1);if(_x(),Pe=r,ru.current=a,at!==null)throw Error(Y(261));return gt=null,Ct=0,dt}function FT(){for(;at!==null;)uS(at)}function BT(){for(;at!==null&&!dP();)uS(at)}function uS(e){var t=fS(e.alternate,e,er);e.memoizedProps=e.pendingProps,t===null?dS(e):at=t,Qx.current=null}function dS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=MT(r,t),r!==null){r.flags&=32767,at=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,at=null;return}}else if(r=ET(r,t,er),r!==null){at=r;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);dt===0&&(dt=5)}function va(e,t,r){var a=$e,s=vr.transition;try{vr.transition=null,$e=1,qT(e,t,r,a)}finally{vr.transition=s,$e=a}return null}function qT(e,t,r,a){do Ts();while(Bn!==null);if(Pe&6)throw Error(Y(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(jP(e,i),e===gt&&(at=gt=null,Ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nc||(nc=!0,hS(Bc,function(){return Ts(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=vr.transition,vr.transition=null;var l=$e;$e=1;var o=Pe;Pe|=4,Qx.current=null,$T(e,r),sS(r,e),lT(ih),Uc=!!sh,ih=sh=null,e.current=r,_T(r),mP(),Pe=o,$e=l,vr.transition=i}else e.current=r;if(nc&&(nc=!1,Bn=e,au=s),i=e.pendingLanes,i===0&&(Qn=null),pP(r.stateNode),Qt(e,tt()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],a(s.value,{componentStack:s.stack,digest:s.digest});if(nu)throw nu=!1,e=Oh,Oh=null,e;return au&1&&e.tag!==0&&Ts(),i=e.pendingLanes,i&1?e===kh?ol++:(ol=0,kh=e):ol=0,ia(),null}function Ts(){if(Bn!==null){var e=zw(au),t=vr.transition,r=$e;try{if(vr.transition=null,$e=16>e?16:e,Bn===null)var a=!1;else{if(e=Bn,Bn=null,au=0,Pe&6)throw Error(Y(331));var s=Pe;for(Pe|=4,oe=e.current;oe!==null;){var i=oe,l=i.child;if(oe.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(oe=u;oe!==null;){var f=oe;switch(f.tag){case 0:case 11:case 15:il(8,f,i)}var m=f.child;if(m!==null)m.return=f,oe=m;else for(;oe!==null;){f=oe;var h=f.sibling,v=f.return;if(rS(f),f===u){oe=null;break}if(h!==null){h.return=v,oe=h;break}oe=v}}}var j=i.alternate;if(j!==null){var y=j.child;if(y!==null){j.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}oe=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,oe=l;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:il(9,i,i.return)}var N=i.sibling;if(N!==null){N.return=i.return,oe=N;break e}oe=i.return}}var S=e.current;for(oe=S;oe!==null;){l=oe;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,oe=x;else e:for(l=S;oe!==null;){if(o=oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sd(9,o)}}catch(p){Ze(o,o.return,p)}if(o===l){oe=null;break e}var d=o.sibling;if(d!==null){d.return=o.return,oe=d;break e}oe=o.return}}if(Pe=s,ia(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(xd,e)}catch{}a=!0}return a}finally{$e=r,vr.transition=t}}return!1}function A0(e,t,r){t=Fs(r,t),t=z1(e,t,1),e=Hn(e,t,1),t=Ft(),e!==null&&(wo(e,1,t),Qt(e,t))}function Ze(e,t,r){if(e.tag===3)A0(e,e,r);else for(;t!==null;){if(t.tag===3){A0(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Qn===null||!Qn.has(a))){e=Fs(r,e),e=V1(t,e,1),t=Hn(t,e,1),e=Ft(),t!==null&&(wo(t,1,e),Qt(t,e));break}}t=t.return}}function UT(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&r,gt===e&&(Ct&r)===r&&(dt===4||dt===3&&(Ct&130023424)===Ct&&500>tt()-Xx?Ea(e,0):Jx|=r),Qt(e,t)}function mS(e,t){t===0&&(e.mode&1?(t=Go,Go<<=1,!(Go&130023424)&&(Go=4194304)):t=1);var r=Ft();e=jn(e,t),e!==null&&(wo(e,t,r),Qt(e,r))}function WT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),mS(e,r)}function KT(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Y(314))}a!==null&&a.delete(t),mS(e,r)}var fS;fS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)zt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zt=!1,DT(e,t,r);zt=!!(e.flags&131072)}else zt=!1,He&&t.flags&1048576&&y1(t,Qc,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Mc(e,t),e=t.pendingProps;var s=$s(t,$t.current);Ps(t,r),s=Kx(null,t,a,e,s,r);var i=zx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(a)?(i=!0,Gc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fx(t),s.updater=wd,t.stateNode=s,s._reactInternals=t,ph(t,a,e,r),t=gh(null,t,a,!0,i,r)):(t.tag=0,He&&i&&Ex(t),Rt(null,t,s,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Mc(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=VT(a),e=Ar(a,e),s){case 0:t=yh(null,t,a,e,r);break e;case 1:t=b0(null,t,a,e,r);break e;case 11:t=g0(null,t,a,e,r);break e;case 14:t=v0(null,t,a,Ar(a.type,e),r);break e}throw Error(Y(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ar(a,s),yh(e,t,a,s,r);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ar(a,s),b0(e,t,a,s,r);case 3:e:{if(J1(t),e===null)throw Error(Y(387));a=t.pendingProps,i=t.memoizedState,s=i.element,w1(e,t),Yc(t,a,null,r);var l=t.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fs(Error(Y(423)),t),t=j0(e,t,a,r,s);break e}else if(a!==s){s=Fs(Error(Y(424)),t),t=j0(e,t,a,r,s);break e}else for(nr=Gn(t.stateNode.containerInfo.firstChild),sr=t,He=!0,$r=null,r=j1(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_s(),a===s){t=Nn(e,t,r);break e}Rt(e,t,a,r)}t=t.child}return t;case 5:return S1(t),e===null&&mh(t),a=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,lh(a,s)?l=null:i!==null&&lh(a,i)&&(t.flags|=32),Q1(e,t),Rt(e,t,l,r),t.child;case 6:return e===null&&mh(t),null;case 13:return X1(e,t,r);case 4:return Bx(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Rs(t,null,a,r):Rt(e,t,a,r),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ar(a,s),g0(e,t,a,s,r);case 7:return Rt(e,t,t.pendingProps,r),t.child;case 8:return Rt(e,t,t.pendingProps.children,r),t.child;case 12:return Rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,qe(Jc,a._currentValue),a._currentValue=l,i!==null)if(Ur(i.value,l)){if(i.children===s.children&&!Gt.current){t=Nn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=fn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),fh(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Y(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),fh(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Rt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Ps(t,r),s=Nr(s),a=a(s),t.flags|=1,Rt(e,t,a,r),t.child;case 14:return a=t.type,s=Ar(a,t.pendingProps),s=Ar(a.type,s),v0(e,t,a,s,r);case 15:return G1(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ar(a,s),Mc(e,t),t.tag=1,Ht(a)?(e=!0,Gc(t)):e=!1,Ps(t,r),K1(t,a,s),ph(t,a,s,r),gh(null,t,a,!0,e,r);case 19:return Y1(e,t,r);case 22:return H1(e,t,r)}throw Error(Y(156,t.tag))};function hS(e,t){return qw(e,t)}function zT(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(e,t,r,a){return new zT(e,t,r,a)}function ty(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VT(e){if(typeof e=="function")return ty(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bx)return 11;if(e===jx)return 14}return 2}function Xn(e,t){var r=e.alternate;return r===null?(r=yr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _c(e,t,r,a,s,i){var l=2;if(a=e,typeof e=="function")ty(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case us:return Ma(r.children,s,i,t);case vx:l=8,s|=8;break;case Ff:return e=yr(12,r,t,s|2),e.elementType=Ff,e.lanes=i,e;case Bf:return e=yr(13,r,t,s),e.elementType=Bf,e.lanes=i,e;case qf:return e=yr(19,r,t,s),e.elementType=qf,e.lanes=i,e;case Sw:return Od(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nw:l=10;break e;case ww:l=9;break e;case bx:l=11;break e;case jx:l=14;break e;case Mn:l=16,a=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=yr(l,r,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Ma(e,t,r,a){return e=yr(7,e,a,t),e.lanes=r,e}function Od(e,t,r,a){return e=yr(22,e,a,t),e.elementType=Sw,e.lanes=r,e.stateNode={isHidden:!1},e}function Qm(e,t,r){return e=yr(6,e,null,t),e.lanes=r,e}function Jm(e,t,r){return t=yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GT(e,t,r,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Am(0),this.expirationTimes=Am(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Am(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ry(e,t,r,a,s,i,l,o,c){return e=new GT(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=yr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fx(i),e}function HT(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cs,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function pS(e){if(!e)return ra;e=e._reactInternals;e:{if(Ja(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(Ht(r))return p1(e,r,t)}return t}function xS(e,t,r,a,s,i,l,o,c){return e=ry(r,a,!0,e,s,i,l,o,c),e.context=pS(null),r=e.current,a=Ft(),s=Jn(r),i=fn(a,s),i.callback=t??null,Hn(r,i,s),e.current.lanes=s,wo(e,s,a),Qt(e,a),e}function kd(e,t,r,a){var s=t.current,i=Ft(),l=Jn(s);return r=pS(r),t.context===null?t.context=r:t.pendingContext=r,t=fn(i,l),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Hn(s,t,l),e!==null&&(qr(e,s,l,i),Ac(e,s,l)),l}function iu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function D0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ny(e,t){D0(e,t),(e=e.alternate)&&D0(e,t)}function QT(){return null}var yS=typeof reportError=="function"?reportError:function(e){console.error(e)};function ay(e){this._internalRoot=e}Pd.prototype.render=ay.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));kd(e,t,null,null)};Pd.prototype.unmount=ay.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qa(function(){kd(null,e,null,null)}),t[bn]=null}};function Pd(e){this._internalRoot=e}Pd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_n.length&&t!==0&&t<_n[r].priority;r++);_n.splice(r,0,e),r===0&&Jw(e)}};function sy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Td(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function E0(){}function JT(e,t,r,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var u=iu(l);i.call(u)}}var l=xS(t,a,e,0,null,!1,!1,"",E0);return e._reactRootContainer=l,e[bn]=l.current,Nl(e.nodeType===8?e.parentNode:e),qa(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var o=a;a=function(){var u=iu(c);o.call(u)}}var c=ry(e,0,!1,null,null,!1,!1,"",E0);return e._reactRootContainer=c,e[bn]=c.current,Nl(e.nodeType===8?e.parentNode:e),qa(function(){kd(t,c,r,a)}),c}function Ad(e,t,r,a,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=iu(l);o.call(c)}}kd(t,l,e,s)}else l=JT(r,t,e,s,a);return iu(l)}Vw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ji(t.pendingLanes);r!==0&&(Sx(t,r|1),Qt(t,tt()),!(Pe&6)&&(Bs=tt()+500,ia()))}break;case 13:qa(function(){var a=jn(e,1);if(a!==null){var s=Ft();qr(a,e,1,s)}}),ny(e,1)}};Cx=function(e){if(e.tag===13){var t=jn(e,134217728);if(t!==null){var r=Ft();qr(t,e,134217728,r)}ny(e,134217728)}};Gw=function(e){if(e.tag===13){var t=Jn(e),r=jn(e,t);if(r!==null){var a=Ft();qr(r,e,t,a)}ny(e,t)}};Hw=function(){return $e};Qw=function(e,t){var r=$e;try{return $e=e,t()}finally{$e=r}};Xf=function(e,t,r){switch(t){case"input":if(Kf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=bd(a);if(!s)throw Error(Y(90));Ow(a),Kf(a,s)}}}break;case"textarea":Pw(e,r);break;case"select":t=r.value,t!=null&&Ss(e,!!r.multiple,t,!1)}};$w=Yx;_w=qa;var XT={usingClientEntryPoint:!1,Events:[Co,hs,bd,Mw,Iw,Yx]},$i={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YT={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fw(e),e===null?null:e.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||QT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{xd=ac.inject(YT),Qr=ac}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XT;cr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sy(t))throw Error(Y(200));return HT(e,t,null,r)};cr.createRoot=function(e,t){if(!sy(e))throw Error(Y(299));var r=!1,a="",s=yS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ry(e,1,!1,null,null,r,!1,a,s),e[bn]=t.current,Nl(e.nodeType===8?e.parentNode:e),new ay(t)};cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Fw(t),e=e===null?null:e.stateNode,e};cr.flushSync=function(e){return qa(e)};cr.hydrate=function(e,t,r){if(!Td(t))throw Error(Y(200));return Ad(null,e,t,!0,r)};cr.hydrateRoot=function(e,t,r){if(!sy(e))throw Error(Y(405));var a=r!=null&&r.hydratedSources||null,s=!1,i="",l=yS;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=xS(t,null,e,1,r??null,s,!1,i,l),e[bn]=t.current,Nl(e),a)for(e=0;e<a.length;e++)r=a[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Pd(t)};cr.render=function(e,t,r){if(!Td(t))throw Error(Y(200));return Ad(null,e,t,!1,r)};cr.unmountComponentAtNode=function(e){if(!Td(e))throw Error(Y(40));return e._reactRootContainer?(qa(function(){Ad(null,null,e,!1,function(){e._reactRootContainer=null,e[bn]=null})}),!0):!1};cr.unstable_batchedUpdates=Yx;cr.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Td(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Ad(e,t,r,!1,a)};cr.version="18.3.1-next-f1338f8080-20240426";function gS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gS)}catch(e){console.error(e)}}gS(),gw.exports=cr;var ZT=gw.exports,M0=ZT;Rf.createRoot=M0.createRoot,Rf.hydrateRoot=M0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dl.apply(this,arguments)}var qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qn||(qn={}));const I0="popstate";function e4(e){e===void 0&&(e={});function t(s,i){let{pathname:l="/",search:o="",hash:c=""}=Xa(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ah("",{pathname:l,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let l=s.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");o=u===-1?c:c.slice(0,u)}return o+"#"+(typeof i=="string"?i:lu(i))}function a(s,i){iy(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return r4(t,r,a,e)}function st(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function t4(){return Math.random().toString(36).substr(2,8)}function $0(e,t){return{usr:e.state,key:e.key,idx:t}}function Ah(e,t,r,a){return r===void 0&&(r=null),Dl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xa(t):t,{state:r,key:t&&t.key||a||t4()})}function lu(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Xa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function r4(e,t,r,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,l=s.history,o=qn.Pop,c=null,u=f();u==null&&(u=0,l.replaceState(Dl({},l.state,{idx:u}),""));function f(){return(l.state||{idx:null}).idx}function m(){o=qn.Pop;let b=f(),N=b==null?null:b-u;u=b,c&&c({action:o,location:y.location,delta:N})}function h(b,N){o=qn.Push;let S=Ah(y.location,b,N);r&&r(S,b),u=f()+1;let x=$0(S,u),d=y.createHref(S);try{l.pushState(x,"",d)}catch(p){if(p instanceof DOMException&&p.name==="DataCloneError")throw p;s.location.assign(d)}i&&c&&c({action:o,location:y.location,delta:1})}function v(b,N){o=qn.Replace;let S=Ah(y.location,b,N);r&&r(S,b),u=f();let x=$0(S,u),d=y.createHref(S);l.replaceState(x,"",d),i&&c&&c({action:o,location:y.location,delta:0})}function j(b){let N=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof b=="string"?b:lu(b);return S=S.replace(/ $/,"%20"),st(N,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,N)}let y={get action(){return o},get location(){return e(s,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(I0,m),c=b,()=>{s.removeEventListener(I0,m),c=null}},createHref(b){return t(s,b)},createURL:j,encodeLocation(b){let N=j(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:h,replace:v,go(b){return l.go(b)}};return y}var _0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_0||(_0={}));function n4(e,t,r){return r===void 0&&(r="/"),a4(e,t,r,!1)}function a4(e,t,r,a){let s=typeof t=="string"?Xa(t):t,i=ly(s.pathname||"/",r);if(i==null)return null;let l=vS(e);s4(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=x4(i);o=h4(l[c],u,a)}return o}function vS(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=Yn([a,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(st(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vS(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:m4(u,i.index),routesMeta:f})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of bS(i.path))s(i,l,c)}),t}function bS(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let l=bS(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function s4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:f4(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const i4=/^:[\w-]+$/,l4=3,o4=2,c4=1,u4=10,d4=-2,R0=e=>e==="*";function m4(e,t){let r=e.split("/"),a=r.length;return r.some(R0)&&(a+=d4),t&&(a+=o4),r.filter(s=>!R0(s)).reduce((s,i)=>s+(i4.test(i)?l4:i===""?c4:u4),a)}function f4(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function h4(e,t,r){r===void 0&&(r=!1);let{routesMeta:a}=e,s={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],u=o===a.length-1,f=i==="/"?t:t.slice(i.length)||"/",m=L0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!m&&u&&r&&!a[a.length-1].route.index&&(m=L0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Yn([i,m.pathname]),pathnameBase:b4(Yn([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=Yn([i,m.pathnameBase]))}return l}function L0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=p4(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:a.reduce((u,f,m)=>{let{paramName:h,isOptional:v}=f;if(h==="*"){let y=o[m]||"";l=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const j=o[m];return v&&!j?u[h]=void 0:u[h]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function p4(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),iy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function x4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return iy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ly(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function y4(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?Xa(e):e;return{pathname:r?r.startsWith("/")?r:g4(r,t):t,search:j4(a),hash:N4(s)}}function g4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Xm(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jS(e,t){let r=v4(e);return t?r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function NS(e,t,r,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=Xa(e):(s=Dl({},e),st(!s.pathname||!s.pathname.includes("?"),Xm("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),Xm("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),Xm("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=r;else{let m=t.length-1;if(!a&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),m-=1;s.pathname=h.join("/")}o=m>=0?t[m]:"/"}let c=y4(s,o),u=l&&l!=="/"&&l.endsWith("/"),f=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Yn=e=>e.join("/").replace(/\/\/+/g,"/"),b4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wS=["post","put","patch","delete"];new Set(wS);const S4=["get",...wS];new Set(S4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},El.apply(this,arguments)}const oy=O.createContext(null),C4=O.createContext(null),Ya=O.createContext(null),Dd=O.createContext(null),la=O.createContext({outlet:null,matches:[],isDataRoute:!1}),SS=O.createContext(null);function O4(e,t){let{relative:r}=t===void 0?{}:t;ko()||st(!1);let{basename:a,navigator:s}=O.useContext(Ya),{hash:i,pathname:l,search:o}=OS(e,{relative:r}),c=l;return a!=="/"&&(c=l==="/"?a:Yn([a,l])),s.createHref({pathname:c,search:o,hash:i})}function ko(){return O.useContext(Dd)!=null}function Cr(){return ko()||st(!1),O.useContext(Dd).location}function CS(e){O.useContext(Ya).static||O.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=O.useContext(la);return e?F4():k4()}function k4(){ko()||st(!1);let e=O.useContext(oy),{basename:t,future:r,navigator:a}=O.useContext(Ya),{matches:s}=O.useContext(la),{pathname:i}=Cr(),l=JSON.stringify(jS(s,r.v7_relativeSplatPath)),o=O.useRef(!1);return CS(()=>{o.current=!0}),O.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){a.go(u);return}let m=NS(u,JSON.parse(l),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Yn([t,m.pathname])),(f.replace?a.replace:a.push)(m,f.state,f)},[t,a,l,i,e])}function oa(){let{matches:e}=O.useContext(la),t=e[e.length-1];return t?t.params:{}}function OS(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=O.useContext(Ya),{matches:s}=O.useContext(la),{pathname:i}=Cr(),l=JSON.stringify(jS(s,a.v7_relativeSplatPath));return O.useMemo(()=>NS(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function P4(e,t){return T4(e,t)}function T4(e,t,r,a){ko()||st(!1);let{navigator:s}=O.useContext(Ya),{matches:i}=O.useContext(la),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Cr(),f;if(t){var m;let b=typeof t=="string"?Xa(t):t;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||st(!1),f=b}else f=u;let h=f.pathname||"/",v=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let j=n4(e,{pathname:v}),y=I4(j&&j.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Yn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Yn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,a);return t&&y?O.createElement(Dd.Provider,{value:{location:El({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:qn.Pop}},y):y}function A4(){let e=L4(),t=w4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:s},r):null,i)}const D4=O.createElement(A4,null);class E4 extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(la.Provider,{value:this.props.routeContext},O.createElement(SS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function M4(e){let{routeContext:t,match:r,children:a}=e,s=O.useContext(oy);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(la.Provider,{value:t},a)}function I4(e,t,r,a){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let f=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);f>=0||st(!1),l=l.slice(0,Math.min(l.length,f+1))}let c=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let f=0;f<l.length;f++){let m=l[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:h,errors:v}=r,j=m.route.loader&&h[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||j){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((f,m,h)=>{let v,j=!1,y=null,b=null;r&&(v=o&&m.route.id?o[m.route.id]:void 0,y=m.route.errorElement||D4,c&&(u<0&&h===0?(B4("route-fallback",!1),j=!0,b=null):u===h&&(j=!0,b=m.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,h+1)),S=()=>{let x;return v?x=y:j?x=b:m.route.Component?x=O.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=f,O.createElement(M4,{match:m,routeContext:{outlet:f,matches:N,isDataRoute:r!=null},children:x})};return r&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?O.createElement(E4,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):S()},null)}var kS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kS||{}),ou=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ou||{});function $4(e){let t=O.useContext(oy);return t||st(!1),t}function _4(e){let t=O.useContext(C4);return t||st(!1),t}function R4(e){let t=O.useContext(la);return t||st(!1),t}function PS(e){let t=R4(),r=t.matches[t.matches.length-1];return r.route.id||st(!1),r.route.id}function L4(){var e;let t=O.useContext(SS),r=_4(ou.UseRouteError),a=PS(ou.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function F4(){let{router:e}=$4(kS.UseNavigateStable),t=PS(ou.UseNavigateStable),r=O.useRef(!1);return CS(()=>{r.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,El({fromRouteId:t},i)))},[e,t])}const F0={};function B4(e,t,r){!t&&!F0[e]&&(F0[e]=!0)}function q4(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function le(e){st(!1)}function U4(e){let{basename:t="/",children:r=null,location:a,navigationType:s=qn.Pop,navigator:i,static:l=!1,future:o}=e;ko()&&st(!1);let c=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:i,static:l,future:El({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof a=="string"&&(a=Xa(a));let{pathname:f="/",search:m="",hash:h="",state:v=null,key:j="default"}=a,y=O.useMemo(()=>{let b=ly(f,c);return b==null?null:{location:{pathname:b,search:m,hash:h,state:v,key:j},navigationType:s}},[c,f,m,h,v,j,s]);return y==null?null:O.createElement(Ya.Provider,{value:u},O.createElement(Dd.Provider,{children:r,value:y}))}function W4(e){let{children:t,location:r}=e;return P4(Dh(t),r)}new Promise(()=>{});function Dh(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(a,s)=>{if(!O.isValidElement(a))return;let i=[...t,s];if(a.type===O.Fragment){r.push.apply(r,Dh(a.props.children,i));return}a.type!==le&&st(!1),!a.props.index||!a.props.children||st(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=Dh(a.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Eh.apply(this,arguments)}function K4(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function z4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function V4(e,t){return e.button===0&&(!t||t==="_self")&&!z4(e)}const G4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],H4="6";try{window.__reactRouterVersion=H4}catch{}const Q4="startTransition",B0=Uk[Q4];function J4(e){let{basename:t,children:r,future:a,window:s}=e,i=O.useRef();i.current==null&&(i.current=e4({window:s,v5Compat:!0}));let l=i.current,[o,c]=O.useState({action:l.action,location:l.location}),{v7_startTransition:u}=a||{},f=O.useCallback(m=>{u&&B0?B0(()=>c(m)):c(m)},[c,u]);return O.useLayoutEffect(()=>l.listen(f),[l,f]),O.useEffect(()=>q4(a),[a]),O.createElement(U4,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:a})}const X4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,as=O.forwardRef(function(t,r){let{onClick:a,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:f,viewTransition:m}=t,h=K4(t,G4),{basename:v}=O.useContext(Ya),j,y=!1;if(typeof u=="string"&&Y4.test(u)&&(j=u,X4))try{let x=new URL(window.location.href),d=u.startsWith("//")?new URL(x.protocol+u):new URL(u),p=ly(d.pathname,v);d.origin===x.origin&&p!=null?u=p+d.search+d.hash:y=!0}catch{}let b=O4(u,{relative:s}),N=Z4(u,{replace:l,state:o,target:c,preventScrollReset:f,relative:s,viewTransition:m});function S(x){a&&a(x),x.defaultPrevented||N(x)}return O.createElement("a",Eh({},h,{href:j||b,onClick:y||i?a:S,ref:r,target:c}))});var q0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(q0||(q0={}));var U0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(U0||(U0={}));function Z4(e,t){let{target:r,replace:a,state:s,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=ge(),u=Cr(),f=OS(e,{relative:l});return O.useCallback(m=>{if(V4(m,r)){m.preventDefault();let h=a!==void 0?a:lu(u)===lu(f);c(e,{replace:h,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,f,a,s,r,e,i,l,o])}var TS={exports:{}},AS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=O;function eA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tA=typeof Object.is=="function"?Object.is:eA,rA=Po.useSyncExternalStore,nA=Po.useRef,aA=Po.useEffect,sA=Po.useMemo,iA=Po.useDebugValue;AS.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var i=nA(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=sA(function(){function c(v){if(!u){if(u=!0,f=v,v=a(v),s!==void 0&&l.hasValue){var j=l.value;if(s(j,v))return m=j}return m=v}if(j=m,tA(f,v))return j;var y=a(v);return s!==void 0&&s(j,y)?(f=v,j):(f=v,m=y)}var u=!1,f,m,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,a,s]);var o=rA(e,i[0],i[1]);return aA(function(){l.hasValue=!0,l.value=o},[o]),iA(o),o};TS.exports=AS;var lA=TS.exports;function oA(e){e()}function cA(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oA(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var W0={notify(){},get:()=>[]};function uA(e,t){let r,a=W0,s=0,i=!1;function l(y){f();const b=a.subscribe(y);let N=!1;return()=>{N||(N=!0,b(),m())}}function o(){a.notify()}function c(){j.onStateChange&&j.onStateChange()}function u(){return i}function f(){s++,r||(r=t?t.addNestedSub(c):e.subscribe(c),a=cA())}function m(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=W0)}function h(){i||(i=!0,f())}function v(){i&&(i=!1,m())}const j={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:v,getListeners:()=>a};return j}var dA=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mA=dA(),fA=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hA=fA(),pA=()=>mA||hA?O.useLayoutEffect:O.useEffect,xA=pA(),Ym=Symbol.for("react-redux-context"),Zm=typeof globalThis<"u"?globalThis:{};function yA(){if(!O.createContext)return{};const e=Zm[Ym]??(Zm[Ym]=new Map);let t=e.get(O.createContext);return t||(t=O.createContext(null),e.set(O.createContext,t)),t}var na=yA();function gA(e){const{children:t,context:r,serverState:a,store:s}=e,i=O.useMemo(()=>{const c=uA(s);return{store:s,subscription:c,getServerState:a?()=>a:void 0}},[s,a]),l=O.useMemo(()=>s.getState(),[s]);xA(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=r||na;return O.createElement(o.Provider,{value:i},t)}var vA=gA;function cy(e=na){return function(){return O.useContext(e)}}var DS=cy();function ES(e=na){const t=e===na?DS:cy(e),r=()=>{const{store:a}=t();return a};return Object.assign(r,{withTypes:()=>r}),r}var bA=ES();function jA(e=na){const t=e===na?bA:ES(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var NA=jA(),wA=(e,t)=>e===t;function SA(e=na){const t=e===na?DS:cy(e),r=(a,s={})=>{const{equalityFn:i=wA}=typeof s=="function"?{equalityFn:s}:s,l=t(),{store:o,subscription:c,getServerState:u}=l;O.useRef(!0);const f=O.useCallback({[a.name](h){return a(h)}}[a.name],[a]),m=lA.useSyncExternalStoreWithSelector(c.addNestedSub,o.getState,u||o.getState,f,i);return O.useDebugValue(m),m};return Object.assign(r,{withTypes:()=>r}),r}var CA=SA();function jt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var OA=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),K0=OA,ef=()=>Math.random().toString(36).substring(7).split("").join("."),kA={INIT:`@@redux/INIT${ef()}`,REPLACE:`@@redux/REPLACE${ef()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ef()}`},cu=kA;function uy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function MS(e,t,r){if(typeof e!="function")throw new Error(jt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(jt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(jt(1));return r(MS)(e,t)}let a=e,s=t,i=new Map,l=i,o=0,c=!1;function u(){l===i&&(l=new Map,i.forEach((b,N)=>{l.set(N,b)}))}function f(){if(c)throw new Error(jt(3));return s}function m(b){if(typeof b!="function")throw new Error(jt(4));if(c)throw new Error(jt(5));let N=!0;u();const S=o++;return l.set(S,b),function(){if(N){if(c)throw new Error(jt(6));N=!1,u(),l.delete(S),i=null}}}function h(b){if(!uy(b))throw new Error(jt(7));if(typeof b.type>"u")throw new Error(jt(8));if(typeof b.type!="string")throw new Error(jt(17));if(c)throw new Error(jt(9));try{c=!0,s=a(s,b)}finally{c=!1}return(i=l).forEach(S=>{S()}),b}function v(b){if(typeof b!="function")throw new Error(jt(10));a=b,h({type:cu.REPLACE})}function j(){const b=m;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(jt(11));function S(){const d=N;d.next&&d.next(f())}return S(),{unsubscribe:b(S)}},[K0](){return this}}}return h({type:cu.INIT}),{dispatch:h,subscribe:m,getState:f,replaceReducer:v,[K0]:j}}function PA(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:cu.INIT})>"u")throw new Error(jt(12));if(typeof r(void 0,{type:cu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jt(13))})}function TA(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const a=Object.keys(r);let s;try{PA(r)}catch(i){s=i}return function(l={},o){if(s)throw s;let c=!1;const u={};for(let f=0;f<a.length;f++){const m=a[f],h=r[m],v=l[m],j=h(v,o);if(typeof j>"u")throw o&&o.type,new Error(jt(14));u[m]=j,c=c||j!==v}return c=c||a.length!==Object.keys(l).length,c?u:l}}function uu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function AA(...e){return t=>(r,a)=>{const s=t(r,a);let i=()=>{throw new Error(jt(15))};const l={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(l));return i=uu(...o)(s.dispatch),{...s,dispatch:i}}}function DA(e){return uy(e)&&"type"in e&&typeof e.type=="string"}var IS=Symbol.for("immer-nothing"),z0=Symbol.for("immer-draftable"),lr=Symbol.for("immer-state");function Rr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qs=Object.getPrototypeOf;function Ua(e){return!!e&&!!e[lr]}function wn(e){var t;return e?$S(e)||Array.isArray(e)||!!e[z0]||!!((t=e.constructor)!=null&&t[z0])||To(e)||Md(e):!1}var EA=Object.prototype.constructor.toString();function $S(e){if(!e||typeof e!="object")return!1;const t=qs(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===EA}function du(e,t){Ed(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Ed(e){const t=e[lr];return t?t.type_:Array.isArray(e)?1:To(e)?2:Md(e)?3:0}function Mh(e,t){return Ed(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _S(e,t,r){const a=Ed(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function MA(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function To(e){return e instanceof Map}function Md(e){return e instanceof Set}function ba(e){return e.copy_||e.base_}function Ih(e,t){if(To(e))return new Map(e);if(Md(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=$S(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[lr];let s=Reflect.ownKeys(a);for(let i=0;i<s.length;i++){const l=s[i],o=a[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(a[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(qs(e),a)}else{const a=qs(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function dy(e,t=!1){return Id(e)||Ua(e)||!wn(e)||(Ed(e)>1&&Object.defineProperties(e,{set:{value:sc},add:{value:sc},clear:{value:sc},delete:{value:sc}}),Object.freeze(e),t&&Object.values(e).forEach(r=>dy(r,!0))),e}function sc(){Rr(2)}function Id(e){return Object.isFrozen(e)}var IA={};function Wa(e){const t=IA[e];return t||Rr(0,e),t}var Ml;function RS(){return Ml}function $A(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function V0(e,t){t&&(Wa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $h(e){_h(e),e.drafts_.forEach(_A),e.drafts_=null}function _h(e){e===Ml&&(Ml=e.parent_)}function G0(e){return Ml=$A(Ml,e)}function _A(e){const t=e[lr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function H0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[lr].modified_&&($h(t),Rr(4)),wn(e)&&(e=mu(t,e),t.parent_||fu(t,e)),t.patches_&&Wa("Patches").generateReplacementPatches_(r[lr].base_,e,t.patches_,t.inversePatches_)):e=mu(t,r,[]),$h(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IS?e:void 0}function mu(e,t,r){if(Id(t))return t;const a=t[lr];if(!a)return du(t,(s,i)=>Q0(e,a,t,s,i,r)),t;if(a.scope_!==e)return t;if(!a.modified_)return fu(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,l=!1;a.type_===3&&(i=new Set(s),s.clear(),l=!0),du(i,(o,c)=>Q0(e,a,s,o,c,r,l)),fu(e,s,!1),r&&e.patches_&&Wa("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function Q0(e,t,r,a,s,i,l){if(Ua(s)){const o=i&&t&&t.type_!==3&&!Mh(t.assigned_,a)?i.concat(a):void 0,c=mu(e,s,o);if(_S(r,a,c),Ua(c))e.canAutoFreeze_=!1;else return}else l&&r.add(s);if(wn(s)&&!Id(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;mu(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(To(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&fu(e,s)}}function fu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&dy(t,r)}function RA(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:RS(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,i=my;r&&(s=[a],i=Il);const{revoke:l,proxy:o}=Proxy.revocable(s,i);return a.draft_=o,a.revoke_=l,o}var my={get(e,t){if(t===lr)return e;const r=ba(e);if(!Mh(r,t))return LA(e,r,t);const a=r[t];return e.finalized_||!wn(a)?a:a===tf(e.base_,t)?(rf(e),e.copy_[t]=Lh(a,e)):a},has(e,t){return t in ba(e)},ownKeys(e){return Reflect.ownKeys(ba(e))},set(e,t,r){const a=LS(ba(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=tf(ba(e),t),i=s==null?void 0:s[lr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(MA(r,s)&&(r!==void 0||Mh(e.base_,t)))return!0;rf(e),Rh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return tf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,rf(e),Rh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ba(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){Rr(11)},getPrototypeOf(e){return qs(e.base_)},setPrototypeOf(){Rr(12)}},Il={};du(my,(e,t)=>{Il[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Il.deleteProperty=function(e,t){return Il.set.call(this,e,t,void 0)};Il.set=function(e,t,r){return my.set.call(this,e[0],t,r,e[0])};function tf(e,t){const r=e[lr];return(r?ba(r):e)[t]}function LA(e,t,r){var s;const a=LS(t,r);return a?"value"in a?a.value:(s=a.get)==null?void 0:s.call(e.draft_):void 0}function LS(e,t){if(!(t in e))return;let r=qs(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=qs(r)}}function Rh(e){e.modified_||(e.modified_=!0,e.parent_&&Rh(e.parent_))}function rf(e){e.copy_||(e.copy_=Ih(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var FA=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(c=i,...u){return l.produce(c,f=>r.call(this,f,...u))}}typeof r!="function"&&Rr(6),a!==void 0&&typeof a!="function"&&Rr(7);let s;if(wn(t)){const i=G0(this),l=Lh(t,void 0);let o=!0;try{s=r(l),o=!1}finally{o?$h(i):_h(i)}return V0(i,a),H0(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===IS&&(s=void 0),this.autoFreeze_&&dy(s,!0),a){const i=[],l=[];Wa("Patches").generateReplacementPatches_(t,s,i,l),a(i,l)}return s}else Rr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let a,s;return[this.produce(t,r,(l,o)=>{a=l,s=o}),a,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){wn(e)||Rr(8),Ua(e)&&(e=BA(e));const t=G0(this),r=Lh(e,void 0);return r[lr].isManual_=!0,_h(t),r}finishDraft(e,t){const r=e&&e[lr];(!r||!r.isManual_)&&Rr(9);const{scope_:a}=r;return V0(a,t),H0(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=Wa("Patches").applyPatches_;return Ua(e)?a(e,t):this.produce(e,s=>a(s,t))}};function Lh(e,t){const r=To(e)?Wa("MapSet").proxyMap_(e,t):Md(e)?Wa("MapSet").proxySet_(e,t):RA(e,t);return(t?t.scope_:RS()).drafts_.push(r),r}function BA(e){return Ua(e)||Rr(10,e),FS(e)}function FS(e){if(!wn(e)||Id(e))return e;const t=e[lr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ih(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ih(e,!0);return du(r,(a,s)=>{_S(r,a,FS(s))}),t&&(t.finalized_=!1),r}var qA=new FA,BS=qA.produce;function qS(e){return({dispatch:r,getState:a})=>s=>i=>typeof i=="function"?i(r,a,e):s(i)}var UA=qS(),WA=qS,KA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?uu:uu.apply(null,arguments)};function J0(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(hn(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>DA(a)&&a.type===e,r}var US=class Yi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Yi.prototype)}static get[Symbol.species](){return Yi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Yi(...t[0].concat(this)):new Yi(...t.concat(this))}};function X0(e){return wn(e)?BS(e,()=>{}):e}function ic(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function zA(e){return typeof e=="boolean"}var VA=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let l=new US;return r&&(zA(r)?l.push(UA):l.push(WA(r.extraArgument))),l},GA="RTK_autoBatch",Y0=e=>t=>{setTimeout(t,e)},HA=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Y0(10):e.type==="callback"?e.queueNotification:Y0(e.timeout),u=()=>{l=!1,i&&(i=!1,o.forEach(f=>f()))};return Object.assign({},a,{subscribe(f){const m=()=>s&&f(),h=a.subscribe(m);return o.add(f),()=>{h(),o.delete(f)}},dispatch(f){var m;try{return s=!((m=f==null?void 0:f.meta)!=null&&m[GA]),i=!s,i&&(l||(l=!0,c(u))),a.dispatch(f)}finally{s=!0}}})},QA=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new US(e);return a&&s.push(HA(typeof a=="object"?a:void 0)),s};function JA(e){const t=VA(),{reducer:r=void 0,middleware:a,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:l=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(uy(r))c=TA(r);else throw new Error(hn(1));let u;typeof a=="function"?u=a(t):u=t();let f=uu;s&&(f=KA({trace:!1,...typeof s=="object"&&s}));const m=AA(...u),h=QA(m);let v=typeof o=="function"?o(h):h();const j=f(...v);return MS(c,l,j)}function WS(e){const t={},r=[];let a;const s={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(hn(28));if(o in t)throw new Error(hn(29));return t[o]=l,s},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),s},addMatcher(i,l){return r.push({matcher:i,reducer:l}),s},addDefaultCase(i){return a=i,s}};return e(s),[t,r,a]}function XA(e){return typeof e=="function"}function YA(e,t){let[r,a,s]=WS(t),i;if(XA(e))i=()=>X0(e());else{const o=X0(e);i=()=>o}function l(o=i(),c){let u=[r[c.type],...a.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[s]),u.reduce((f,m)=>{if(m)if(Ua(f)){const v=m(f,c);return v===void 0?f:v}else{if(wn(f))return BS(f,h=>m(h,c));{const h=m(f,c);if(h===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return f},o)}return l.getInitialState=i,l}var ZA=Symbol.for("rtk-slice-createasyncthunk");function eD(e,t){return`${e}/${t}`}function tD({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[ZA];return function(s){const{name:i,reducerPath:l=i}=s;if(!i)throw new Error(hn(11));typeof process<"u";const o=(typeof s.reducers=="function"?s.reducers(aD()):s.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(d,p){const g=typeof d=="string"?d:d.type;if(!g)throw new Error(hn(12));if(g in u.sliceCaseReducersByType)throw new Error(hn(13));return u.sliceCaseReducersByType[g]=p,f},addMatcher(d,p){return u.sliceMatchers.push({matcher:d,reducer:p}),f},exposeAction(d,p){return u.actionCreators[d]=p,f},exposeCaseReducer(d,p){return u.sliceCaseReducersByName[d]=p,f}};c.forEach(d=>{const p=o[d],g={reducerName:d,type:eD(i,d),createNotation:typeof s.reducers=="function"};iD(p)?oD(g,p,f,t):sD(g,p,f)});function m(){const[d={},p=[],g=void 0]=typeof s.extraReducers=="function"?WS(s.extraReducers):[s.extraReducers],w={...d,...u.sliceCaseReducersByType};return YA(s.initialState,C=>{for(let T in w)C.addCase(T,w[T]);for(let T of u.sliceMatchers)C.addMatcher(T.matcher,T.reducer);for(let T of p)C.addMatcher(T.matcher,T.reducer);g&&C.addDefaultCase(g)})}const h=d=>d,v=new Map,j=new WeakMap;let y;function b(d,p){return y||(y=m()),y(d,p)}function N(){return y||(y=m()),y.getInitialState()}function S(d,p=!1){function g(C){let T=C[d];return typeof T>"u"&&p&&(T=ic(j,g,N)),T}function w(C=h){const T=ic(v,p,()=>new WeakMap);return ic(T,C,()=>{const P={};for(const[D,k]of Object.entries(s.selectors??{}))P[D]=rD(k,C,()=>ic(j,C,N),p);return P})}return{reducerPath:d,getSelectors:w,get selectors(){return w(g)},selectSlice:g}}const x={name:i,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:N,...S(l),injectInto(d,{reducerPath:p,...g}={}){const w=p??l;return d.inject({reducerPath:w,reducer:b},g),{...x,...S(w,!0)}}};return x}}function rD(e,t,r,a){function s(i,...l){let o=t(i);return typeof o>"u"&&a&&(o=r()),e(o,...l)}return s.unwrapped=e,s}var nD=tD();function aD(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function sD({type:e,reducerName:t,createNotation:r},a,s){let i,l;if("reducer"in a){if(r&&!lD(a))throw new Error(hn(17));i=a.reducer,l=a.prepare}else i=a;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?J0(e,l):J0(e))}function iD(e){return e._reducerDefinitionType==="asyncThunk"}function lD(e){return e._reducerDefinitionType==="reducerWithPrepare"}function oD({type:e,reducerName:t},r,a,s){if(!s)throw new Error(hn(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:u,options:f}=r,m=s(e,i,f);a.exposeAction(t,m),l&&a.addCase(m.fulfilled,l),o&&a.addCase(m.pending,o),c&&a.addCase(m.rejected,c),u&&a.addMatcher(m.settled,u),a.exposeCaseReducer(t,{fulfilled:l||lc,pending:o||lc,rejected:c||lc,settled:u||lc})}function lc(){}function hn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const cD={rawMaterials:[],loading:!1,error:null},uD=()=>{try{const e=localStorage.getItem("rawMaterials");if(e)return JSON.parse(e)}catch(e){console.error("Error loading from localStorage:",e)}return[{id:"rm-001",materialCode:"10001",materialName:"Bhujia",description:"Traditional Indian snack",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-002",materialCode:"10002",materialName:"Bran Flakes",description:"Healthy breakfast cereal",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-003",materialCode:"10003",materialName:"Bread Improver",description:"Baking ingredient for better bread",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-004",materialCode:"10004",materialName:"Caramel Syrup",description:"Sweet syrup for beverages",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-005",materialCode:"10005",materialName:"Cocoa Powder",description:"Chocolate powder for baking",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"}]},dD=uD(),KS=nD({name:"inventory",initialState:{...cD,rawMaterials:dD},reducers:{setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},setRawMaterials:(e,t)=>{e.rawMaterials=t.payload;try{localStorage.setItem("rawMaterials",JSON.stringify(t.payload))}catch(r){console.error("Error saving to localStorage:",r)}},addRawMaterial:(e,t)=>{e.rawMaterials.push(t.payload);try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(r){console.error("Error saving to localStorage:",r)}},updateRawMaterial:(e,t)=>{const r=e.rawMaterials.findIndex(a=>a.id===t.payload.id);if(r!==-1){e.rawMaterials[r]=t.payload;try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(a){console.error("Error saving to localStorage:",a)}}},deleteRawMaterial:(e,t)=>{e.rawMaterials=e.rawMaterials.filter(r=>r.id!==t.payload);try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(r){console.error("Error saving to localStorage:",r)}},importRawMaterials:(e,t)=>{const r=t.payload,s=[...e.rawMaterials];r.forEach(i=>{const l=s.findIndex(o=>o.materialCode===i.materialCode);l!==-1?s[l]={...s[l],materialName:i.materialName,description:i.description,category:i.category,unitOfMeasure:i.unitOfMeasure,updatedAt:new Date().toISOString()}:s.push(i)}),e.rawMaterials=s;try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(i){console.error("Error saving to localStorage:",i)}},clearRawMaterials:e=>{e.rawMaterials=[];try{localStorage.removeItem("rawMaterials")}catch(t){console.error("Error clearing localStorage:",t)}}}}),{setLoading:ZZ,setError:eee,setRawMaterials:tee,addRawMaterial:ree,updateRawMaterial:nee,deleteRawMaterial:aee,importRawMaterials:mD,clearRawMaterials:see}=KS.actions,fD=KS.reducer,hD=JA({reducer:{inventory:fD}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(e,t)=>{const r=O.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},f)=>O.createElement("svg",{ref:f,...pD,width:s,height:s,stroke:a,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${xD(e)}`,o].join(" "),...u},[...t.map(([m,h])=>O.createElement(m,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=fe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=fe("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=fe("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=fe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=fe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=fe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=fe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=fe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=fe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=fe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=fe("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=fe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ev=[{name:"Dashboard",href:"/dashboard",icon:ND},{name:"Recipe Master",href:"/bill-of-materials",icon:jD},{name:"Central Kitchen",icon:ar,hasDropdown:!0,children:[{name:"Raw Material Inventory",href:"/central-kitchen/raw-materials",icon:xe},{name:"Finished Good Inventory",href:"/central-kitchen/finished-goods",icon:ja},{name:"Make Finished Good",href:"/central-kitchen/make-finished-good",icon:pu},{name:"Create Transfer",href:"/central-kitchen/create-transfer",icon:Ot}]},{name:"Outlets",icon:ar,hasDropdown:!0,children:[{name:"Kuwait City",icon:ar,hasDropdown:!0,children:[{name:"POS Sales",href:"/downtown-restaurant/sales-orders",icon:ut},{name:"Raw Material Inventory",href:"/downtown-restaurant/raw-materials",icon:xe},{name:"Finished Goods Inventory",href:"/downtown-restaurant/finished-goods",icon:ja}]},{name:"360 Mall",icon:Rl,hasDropdown:!0,children:[{name:"POS Sales",href:"/mall-food-court/sales-orders",icon:ut},{name:"Raw Material Inventory",href:"/mall-food-court/raw-materials",icon:xe},{name:"Finished Goods Inventory",href:"/mall-food-court/finished-goods",icon:ja}]},{name:"Vibes Complex",icon:_l,hasDropdown:!0,children:[{name:"POS Sales",href:"/marina-walk-cafe/sales-orders",icon:ut},{name:"Raw Material Inventory",href:"/marina-walk-cafe/raw-materials",icon:xe},{name:"Finished Goods Inventory",href:"/marina-walk-cafe/finished-goods",icon:ja}]},{name:"Taiba Hospital",icon:$l,hasDropdown:!0,children:[{name:"POS Sales",href:"/drive-thru-express/sales-orders",icon:ut},{name:"Raw Material Inventory",href:"/drive-thru-express/raw-materials",icon:xe},{name:"Finished Goods Inventory",href:"/drive-thru-express/finished-goods",icon:ja}]}]},{name:"Transfer Orders",href:"/transfer-orders",icon:Ot},{name:"Purchase Orders",href:"/purchase-orders",icon:ut},{name:"Master",icon:bD,hasDropdown:!0,children:[{name:"Raw Material Master",href:"/raw-materials",icon:xe},{name:"Finished Good Master",href:"/finished-goods-master",icon:ja},{name:"Outlet Master",href:"/outlets",icon:ar}]},{name:"Inventory",href:"/inventory",icon:Ia},{name:"Settings",href:"/settings",icon:hy}],PD=({children:e})=>{const[t,r]=O.useState(!1),[a,s]=O.useState(new Set),i=Cr(),l=o=>{const c=new Set(a);c.has(o)?c.delete(o):c.add(o),s(c)};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        /* Enhanced scrollbar styling for sidebar */
        .sidebar-nav::-webkit-scrollbar {
          width: 6px;
        }
        .sidebar-nav::-webkit-scrollbar-track {
          background: transparent;
          border-radius: 3px;
        }
        .sidebar-nav::-webkit-scrollbar-thumb {
          background: #d1d5db;
          border-radius: 3px;
          transition: background-color 0.2s ease;
        }
        .sidebar-nav::-webkit-scrollbar-thumb:hover {
          background: #9ca3af;
        }
        .sidebar-nav {
          scrollbar-width: thin;
          scrollbar-color: #d1d5db transparent;
        }
        
        /* Smooth scrolling behavior */
        .sidebar-nav {
          scroll-behavior: smooth;
        }
        
        /* Ensure proper height constraints */
        .sidebar-container {
          height: calc(100vh - 4rem); /* Subtract header height */
          display: flex;
          flex-direction: column;
        }
        
        .sidebar-nav-container {
          flex: 1;
          overflow-y: auto;
          overflow-x: hidden;
          min-height: 0;
        }
        
        /* Mobile sidebar height fix */
        .mobile-sidebar-nav {
          height: calc(100vh - 4rem);
          overflow-y: auto;
          overflow-x: hidden;
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${t?"block":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),n.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white sidebar-container",children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"L"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"localbeet"})})]}),n.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Oe,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"sidebar-nav-container",children:n.jsx("nav",{className:"px-4 py-4 space-y-1 sidebar-nav mobile-sidebar-nav",children:ev.map(o=>{const c=o.icon,u=i.pathname===o.href,f=o.hasDropdown,m=a.has(o.name);return f?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>l(o.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),o.name]}),m?n.jsx(oc,{className:"h-4 w-4"}):n.jsx(cc,{className:"h-4 w-4"})]}),m&&o.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:o.children.map(h=>{const v=h.icon,j=h.href?i.pathname===h.href:!1,y=h.hasDropdown||!1,b=a.has(h.name);return y?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>l(h.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(v,{className:"mr-3 h-4 w-4 flex-shrink-0"}),h.name]}),b?n.jsx(oc,{className:"h-4 w-4"}):n.jsx(cc,{className:"h-4 w-4"})]}),b&&h.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:h.children.map(N=>{const S=N.icon,x=N.href?i.pathname===N.href:!1;return n.jsxs(as,{to:N.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${x?"bg-primary-100 text-primary-700":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(S,{className:"mr-3 h-4 w-4 flex-shrink-0"}),N.name]},N.name)})})]},h.name):n.jsxs(as,{to:h.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${j?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(v,{className:"mr-3 h-4 w-4 flex-shrink-0"}),h.name]},h.name)})})]},o.name):n.jsxs(as,{to:o.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${u?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),o.name]},o.name)})})})]})]}),n.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:n.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200 sidebar-container",children:[n.jsx("div",{className:"flex h-16 items-center px-4 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"L"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"localbeet"})})]})}),n.jsx("div",{className:"sidebar-nav-container",children:n.jsx("nav",{className:"px-4 py-4 space-y-1 sidebar-nav",children:ev.map(o=>{const c=o.icon,u=i.pathname===o.href,f=o.hasDropdown,m=a.has(o.name);return f?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>l(o.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),o.name]}),m?n.jsx(oc,{className:"h-4 w-4"}):n.jsx(cc,{className:"h-4 w-4"})]}),m&&o.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:o.children.map(h=>{const v=h.icon,j=h.href?i.pathname===h.href:!1,y=h.hasDropdown||!1,b=a.has(h.name);return y?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>l(h.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(v,{className:"mr-3 h-4 w-4 flex-shrink-0"}),h.name]}),b?n.jsx(oc,{className:"h-4 w-4"}):n.jsx(cc,{className:"h-4 w-4"})]}),b&&h.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:h.children.map(N=>{const S=N.icon,x=N.href?i.pathname===N.href:!1;return n.jsxs(as,{to:N.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${x?"bg-primary-100 text-primary-700":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(S,{className:"mr-3 h-4 w-4 flex-shrink-0"}),N.name]},N.name)})})]},h.name):n.jsxs(as,{to:h.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${j?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(v,{className:"mr-3 h-4 w-4 flex-shrink-0"}),h.name]},h.name)})})]},o.name):n.jsxs(as,{to:o.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${u?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),o.name]},o.name)})})}),n.jsxs("div",{className:"flex-shrink-0 border-t border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Ao,{className:"h-8 w-8 text-gray-400"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Admin User"}),n.jsx("p",{className:"text-xs text-gray-500",children:"admin@locbeat.com"})]})]}),n.jsxs("div",{className:"mt-3 space-y-1",children:[n.jsxs("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg w-full",children:[n.jsx(hy,{className:"mr-3 h-4 w-4"}),"Settings"]}),n.jsxs("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg w-full",children:[n.jsx(wD,{className:"mr-3 h-4 w-4"}),"Sign out"]})]})]})]})}),n.jsxs("div",{className:"lg:pl-64",children:[n.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[n.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>r(!0),children:n.jsx(CD,{className:"h-6 w-6"})}),n.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[n.jsx("div",{className:"flex flex-1"}),n.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[n.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200"}),n.jsx("div",{className:"flex items-center gap-x-2",children:n.jsx("span",{className:"text-sm text-gray-700",children:"Welcome back, Admin"})})]})]})]}),n.jsx("main",{className:"py-6",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})]})};function JS(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=JS(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Te(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=JS(e))&&(a&&(a+=" "),a+=t);return a}var TD=Array.isArray,Jt=TD,AD=typeof qo=="object"&&qo&&qo.Object===Object&&qo,XS=AD,DD=XS,ED=typeof self=="object"&&self&&self.Object===Object&&self,MD=DD||ED||Function("return this")(),rn=MD,ID=rn,$D=ID.Symbol,Do=$D,tv=Do,YS=Object.prototype,_D=YS.hasOwnProperty,RD=YS.toString,_i=tv?tv.toStringTag:void 0;function LD(e){var t=_D.call(e,_i),r=e[_i];try{e[_i]=void 0;var a=!0}catch{}var s=RD.call(e);return a&&(t?e[_i]=r:delete e[_i]),s}var FD=LD,BD=Object.prototype,qD=BD.toString;function UD(e){return qD.call(e)}var WD=UD,rv=Do,KD=FD,zD=WD,VD="[object Null]",GD="[object Undefined]",nv=rv?rv.toStringTag:void 0;function HD(e){return e==null?e===void 0?GD:VD:nv&&nv in Object(e)?KD(e):zD(e)}var Tn=HD;function QD(e){return e!=null&&typeof e=="object"}var An=QD,JD=Tn,XD=An,YD="[object Symbol]";function ZD(e){return typeof e=="symbol"||XD(e)&&JD(e)==YD}var xi=ZD,eE=Jt,tE=xi,rE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nE=/^\w*$/;function aE(e,t){if(eE(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||tE(e)?!0:nE.test(e)||!rE.test(e)||t!=null&&e in Object(t)}var gy=aE;function sE(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ca=sE;const yi=Fe(ca);var iE=Tn,lE=ca,oE="[object AsyncFunction]",cE="[object Function]",uE="[object GeneratorFunction]",dE="[object Proxy]";function mE(e){if(!lE(e))return!1;var t=iE(e);return t==cE||t==uE||t==oE||t==dE}var vy=mE;const je=Fe(vy);var fE=rn,hE=fE["__core-js_shared__"],pE=hE,nf=pE,av=function(){var e=/[^.]+$/.exec(nf&&nf.keys&&nf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xE(e){return!!av&&av in e}var yE=xE,gE=Function.prototype,vE=gE.toString;function bE(e){if(e!=null){try{return vE.call(e)}catch{}try{return e+""}catch{}}return""}var ZS=bE,jE=vy,NE=yE,wE=ca,SE=ZS,CE=/[\\^$.*+?()[\]{}|]/g,OE=/^\[object .+?Constructor\]$/,kE=Function.prototype,PE=Object.prototype,TE=kE.toString,AE=PE.hasOwnProperty,DE=RegExp("^"+TE.call(AE).replace(CE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EE(e){if(!wE(e)||NE(e))return!1;var t=jE(e)?DE:OE;return t.test(SE(e))}var ME=EE;function IE(e,t){return e==null?void 0:e[t]}var $E=IE,_E=ME,RE=$E;function LE(e,t){var r=RE(e,t);return _E(r)?r:void 0}var Za=LE,FE=Za,BE=FE(Object,"create"),_d=BE,sv=_d;function qE(){this.__data__=sv?sv(null):{},this.size=0}var UE=qE;function WE(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var KE=WE,zE=_d,VE="__lodash_hash_undefined__",GE=Object.prototype,HE=GE.hasOwnProperty;function QE(e){var t=this.__data__;if(zE){var r=t[e];return r===VE?void 0:r}return HE.call(t,e)?t[e]:void 0}var JE=QE,XE=_d,YE=Object.prototype,ZE=YE.hasOwnProperty;function eM(e){var t=this.__data__;return XE?t[e]!==void 0:ZE.call(t,e)}var tM=eM,rM=_d,nM="__lodash_hash_undefined__";function aM(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rM&&t===void 0?nM:t,this}var sM=aM,iM=UE,lM=KE,oM=JE,cM=tM,uM=sM;function gi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}gi.prototype.clear=iM;gi.prototype.delete=lM;gi.prototype.get=oM;gi.prototype.has=cM;gi.prototype.set=uM;var dM=gi;function mM(){this.__data__=[],this.size=0}var fM=mM;function hM(e,t){return e===t||e!==e&&t!==t}var by=hM,pM=by;function xM(e,t){for(var r=e.length;r--;)if(pM(e[r][0],t))return r;return-1}var Rd=xM,yM=Rd,gM=Array.prototype,vM=gM.splice;function bM(e){var t=this.__data__,r=yM(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():vM.call(t,r,1),--this.size,!0}var jM=bM,NM=Rd;function wM(e){var t=this.__data__,r=NM(t,e);return r<0?void 0:t[r][1]}var SM=wM,CM=Rd;function OM(e){return CM(this.__data__,e)>-1}var kM=OM,PM=Rd;function TM(e,t){var r=this.__data__,a=PM(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var AM=TM,DM=fM,EM=jM,MM=SM,IM=kM,$M=AM;function vi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}vi.prototype.clear=DM;vi.prototype.delete=EM;vi.prototype.get=MM;vi.prototype.has=IM;vi.prototype.set=$M;var Ld=vi,_M=Za,RM=rn,LM=_M(RM,"Map"),jy=LM,iv=dM,FM=Ld,BM=jy;function qM(){this.size=0,this.__data__={hash:new iv,map:new(BM||FM),string:new iv}}var UM=qM;function WM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var KM=WM,zM=KM;function VM(e,t){var r=e.__data__;return zM(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Fd=VM,GM=Fd;function HM(e){var t=GM(this,e).delete(e);return this.size-=t?1:0,t}var QM=HM,JM=Fd;function XM(e){return JM(this,e).get(e)}var YM=XM,ZM=Fd;function eI(e){return ZM(this,e).has(e)}var tI=eI,rI=Fd;function nI(e,t){var r=rI(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var aI=nI,sI=UM,iI=QM,lI=YM,oI=tI,cI=aI;function bi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}bi.prototype.clear=sI;bi.prototype.delete=iI;bi.prototype.get=lI;bi.prototype.has=oI;bi.prototype.set=cI;var Ny=bi,eC=Ny,uI="Expected a function";function wy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(uI);var r=function(){var a=arguments,s=t?t.apply(this,a):a[0],i=r.cache;if(i.has(s))return i.get(s);var l=e.apply(this,a);return r.cache=i.set(s,l)||i,l};return r.cache=new(wy.Cache||eC),r}wy.Cache=eC;var tC=wy;const dI=Fe(tC);var mI=tC,fI=500;function hI(e){var t=mI(e,function(a){return r.size===fI&&r.clear(),a}),r=t.cache;return t}var pI=hI,xI=pI,yI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gI=/\\(\\)?/g,vI=xI(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yI,function(r,a,s,i){t.push(s?i.replace(gI,"$1"):a||r)}),t}),bI=vI;function jI(e,t){for(var r=-1,a=e==null?0:e.length,s=Array(a);++r<a;)s[r]=t(e[r],r,e);return s}var Sy=jI,lv=Do,NI=Sy,wI=Jt,SI=xi,CI=1/0,ov=lv?lv.prototype:void 0,cv=ov?ov.toString:void 0;function rC(e){if(typeof e=="string")return e;if(wI(e))return NI(e,rC)+"";if(SI(e))return cv?cv.call(e):"";var t=e+"";return t=="0"&&1/e==-CI?"-0":t}var OI=rC,kI=OI;function PI(e){return e==null?"":kI(e)}var nC=PI,TI=Jt,AI=gy,DI=bI,EI=nC;function MI(e,t){return TI(e)?e:AI(e,t)?[e]:DI(EI(e))}var aC=MI,II=xi,$I=1/0;function _I(e){if(typeof e=="string"||II(e))return e;var t=e+"";return t=="0"&&1/e==-$I?"-0":t}var Bd=_I,RI=aC,LI=Bd;function FI(e,t){t=RI(t,e);for(var r=0,a=t.length;e!=null&&r<a;)e=e[LI(t[r++])];return r&&r==a?e:void 0}var Cy=FI,BI=Cy;function qI(e,t,r){var a=e==null?void 0:BI(e,t);return a===void 0?r:a}var sC=qI;const br=Fe(sC);function UI(e){return e==null}var WI=UI;const Se=Fe(WI);var KI=Tn,zI=Jt,VI=An,GI="[object String]";function HI(e){return typeof e=="string"||!zI(e)&&VI(e)&&KI(e)==GI}var QI=HI;const Ka=Fe(QI);var iC={exports:{}},_e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy=Symbol.for("react.element"),ky=Symbol.for("react.portal"),qd=Symbol.for("react.fragment"),Ud=Symbol.for("react.strict_mode"),Wd=Symbol.for("react.profiler"),Kd=Symbol.for("react.provider"),zd=Symbol.for("react.context"),JI=Symbol.for("react.server_context"),Vd=Symbol.for("react.forward_ref"),Gd=Symbol.for("react.suspense"),Hd=Symbol.for("react.suspense_list"),Qd=Symbol.for("react.memo"),Jd=Symbol.for("react.lazy"),XI=Symbol.for("react.offscreen"),lC;lC=Symbol.for("react.module.reference");function Or(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Oy:switch(e=e.type,e){case qd:case Wd:case Ud:case Gd:case Hd:return e;default:switch(e=e&&e.$$typeof,e){case JI:case zd:case Vd:case Jd:case Qd:case Kd:return e;default:return t}}case ky:return t}}}_e.ContextConsumer=zd;_e.ContextProvider=Kd;_e.Element=Oy;_e.ForwardRef=Vd;_e.Fragment=qd;_e.Lazy=Jd;_e.Memo=Qd;_e.Portal=ky;_e.Profiler=Wd;_e.StrictMode=Ud;_e.Suspense=Gd;_e.SuspenseList=Hd;_e.isAsyncMode=function(){return!1};_e.isConcurrentMode=function(){return!1};_e.isContextConsumer=function(e){return Or(e)===zd};_e.isContextProvider=function(e){return Or(e)===Kd};_e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oy};_e.isForwardRef=function(e){return Or(e)===Vd};_e.isFragment=function(e){return Or(e)===qd};_e.isLazy=function(e){return Or(e)===Jd};_e.isMemo=function(e){return Or(e)===Qd};_e.isPortal=function(e){return Or(e)===ky};_e.isProfiler=function(e){return Or(e)===Wd};_e.isStrictMode=function(e){return Or(e)===Ud};_e.isSuspense=function(e){return Or(e)===Gd};_e.isSuspenseList=function(e){return Or(e)===Hd};_e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qd||e===Wd||e===Ud||e===Gd||e===Hd||e===XI||typeof e=="object"&&e!==null&&(e.$$typeof===Jd||e.$$typeof===Qd||e.$$typeof===Kd||e.$$typeof===zd||e.$$typeof===Vd||e.$$typeof===lC||e.getModuleId!==void 0)};_e.typeOf=Or;iC.exports=_e;var YI=iC.exports,ZI=Tn,e6=An,t6="[object Number]";function r6(e){return typeof e=="number"||e6(e)&&ZI(e)==t6}var oC=r6;const n6=Fe(oC);var a6=oC;function s6(e){return a6(e)&&e!=+e}var i6=s6;const Eo=Fe(i6);var Fr=function(t){return t===0?0:t>0?1:-1},Pa=function(t){return Ka(t)&&t.indexOf("%")===t.length-1},ne=function(t){return n6(t)&&!Eo(t)},l6=function(t){return Se(t)},mt=function(t){return ne(t)||Ka(t)},o6=0,Mo=function(t){var r=++o6;return"".concat(t||"").concat(r)},za=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(t)&&!Ka(t))return a;var i;if(Pa(t)){var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Eo(i)&&(i=a),s&&i>r&&(i=r),i},Ln=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},c6=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},_r=function(t,r){return ne(t)&&ne(r)?function(a){return t+a*(r-t)}:function(){return r}};function xu(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):br(a,t))===r})}var u6=function(t,r){return ne(t)&&ne(r)?t-r:Ka(t)&&Ka(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function As(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}var d6=["viewBox","children"],m6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uv=["points","pathLength"],af={svg:d6,polygon:uv,polyline:uv},Py=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yu=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!yi(a))return null;var s={};return Object.keys(a).forEach(function(i){Py.includes(i)&&(s[i]=r||function(l){return a[i](a,l)})}),s},f6=function(t,r,a){return function(s){return t(r,a,s),null}},gu=function(t,r,a){if(!yi(t)||Bh(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];Py.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=f6(l,r,a))}),s},h6=["children"],p6=["children"];function dv(e,t){if(e==null)return{};var r=x6(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function x6(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}var mv={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},fv=null,sf=null,Ty=function e(t){if(t===fv&&Array.isArray(sf))return sf;var r=[];return O.Children.forEach(t,function(a){Se(a)||(YI.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),sf=r,fv=t,r};function jr(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(s){return pn(s)}):a=[pn(t)],Ty(e).forEach(function(s){var i=br(s,"type.displayName")||br(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function tr(e,t){var r=jr(e,t);return r&&r[0]}var hv=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!ne(a)||a<=0||!ne(s)||s<=0)},y6=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],g6=function(t){return t&&t.type&&Ka(t.type)&&y6.indexOf(t.type)>=0},v6=function(t){return t&&qh(t)==="object"&&"clipDot"in t},b6=function(t,r,a,s){var i,l=(i=af==null?void 0:af[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!je(t)&&(s&&l.includes(r)||m6.includes(r))||a&&Py.includes(r)},ke=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(O.isValidElement(t)&&(s=t.props),!yi(s))return null;var i={};return Object.keys(s).forEach(function(l){var o;b6((o=s)===null||o===void 0?void 0:o[l],l,r,a)&&(i[l]=s[l])}),i},Uh=function e(t,r){if(t===r)return!0;var a=O.Children.count(t);if(a!==O.Children.count(r))return!1;if(a===0)return!0;if(a===1)return pv(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],l=r[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!pv(i,l))return!1}return!0},pv=function(t,r){if(Se(t)&&Se(r))return!0;if(!Se(t)&&!Se(r)){var a=t.props||{},s=a.children,i=dv(a,h6),l=r.props||{},o=l.children,c=dv(l,p6);return s&&o?As(i,c)&&Uh(s,o):!s&&!o?As(i,c):!1}return!1},xv=function(t,r){var a=[],s={};return Ty(t).forEach(function(i,l){if(g6(i))a.push(i);else if(i){var o=pn(i.type),c=r[o]||{},u=c.handler,f=c.once;if(u&&(!f||!s[o])){var m=u(i,o,l);a.push(m),s[o]=!0}}}),a},j6=function(t){var r=t&&t.type;return r&&mv[r]?mv[r]:null},N6=function(t,r){return Ty(r).indexOf(t)},w6=["children","width","height","viewBox","className","style","title","desc"];function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wh.apply(this,arguments)}function S6(e,t){if(e==null)return{};var r=C6(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function C6(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Kh(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,l=e.style,o=e.title,c=e.desc,u=S6(e,w6),f=s||{width:r,height:a,x:0,y:0},m=Te("recharts-surface",i);return q.createElement("svg",Wh({},ke(u,!0,"svg"),{className:m,width:r,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),q.createElement("title",null,o),q.createElement("desc",null,c),t)}var O6=["children","className"];function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zh.apply(this,arguments)}function k6(e,t){if(e==null)return{};var r=P6(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function P6(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var rt=q.forwardRef(function(e,t){var r=e.children,a=e.className,s=k6(e,O6),i=Te("recharts-layer",a);return q.createElement("g",zh({className:i},ke(s,!0),{ref:t}),r)}),xn=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function T6(e,t,r){var a=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++a<s;)i[a]=e[a+t];return i}var A6=T6,D6=A6;function E6(e,t,r){var a=e.length;return r=r===void 0?a:r,!t&&r>=a?e:D6(e,t,r)}var M6=E6,I6="\\ud800-\\udfff",$6="\\u0300-\\u036f",_6="\\ufe20-\\ufe2f",R6="\\u20d0-\\u20ff",L6=$6+_6+R6,F6="\\ufe0e\\ufe0f",B6="\\u200d",q6=RegExp("["+B6+I6+L6+F6+"]");function U6(e){return q6.test(e)}var cC=U6;function W6(e){return e.split("")}var K6=W6,uC="\\ud800-\\udfff",z6="\\u0300-\\u036f",V6="\\ufe20-\\ufe2f",G6="\\u20d0-\\u20ff",H6=z6+V6+G6,Q6="\\ufe0e\\ufe0f",J6="["+uC+"]",Vh="["+H6+"]",Gh="\\ud83c[\\udffb-\\udfff]",X6="(?:"+Vh+"|"+Gh+")",dC="[^"+uC+"]",mC="(?:\\ud83c[\\udde6-\\uddff]){2}",fC="[\\ud800-\\udbff][\\udc00-\\udfff]",Y6="\\u200d",hC=X6+"?",pC="["+Q6+"]?",Z6="(?:"+Y6+"(?:"+[dC,mC,fC].join("|")+")"+pC+hC+")*",e$=pC+hC+Z6,t$="(?:"+[dC+Vh+"?",Vh,mC,fC,J6].join("|")+")",r$=RegExp(Gh+"(?="+Gh+")|"+t$+e$,"g");function n$(e){return e.match(r$)||[]}var a$=n$,s$=K6,i$=cC,l$=a$;function o$(e){return i$(e)?l$(e):s$(e)}var c$=o$,u$=M6,d$=cC,m$=c$,f$=nC;function h$(e){return function(t){t=f$(t);var r=d$(t)?m$(t):void 0,a=r?r[0]:t.charAt(0),s=r?u$(r,1).join(""):t.slice(1);return a[e]()+s}}var p$=h$,x$=p$,y$=x$("toUpperCase"),g$=y$;const Xd=Fe(g$);function Be(e){return function(){return e}}const xC=Math.cos,vu=Math.sin,Kr=Math.sqrt,bu=Math.PI,Yd=2*bu,Hh=Math.PI,Qh=2*Hh,Na=1e-6,v$=Qh-Na;function yC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function b$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yC;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class j${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yC:b$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,l){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=a-t,u=s-r,f=l-t,m=o-r,h=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Na)if(!(Math.abs(m*c-u*f)>Na)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let v=a-l,j=s-o,y=c*c+u*u,b=v*v+j*j,N=Math.sqrt(y),S=Math.sqrt(h),x=i*Math.tan((Hh-Math.acos((y+h-b)/(2*N*S)))/2),d=x/S,p=x/N;Math.abs(d-1)>Na&&this._append`L${t+d*f},${r+d*m}`,this._append`A${i},${i},0,0,${+(m*v>f*j)},${this._x1=t+p*c},${this._y1=r+p*u}`}}arc(t,r,a,s,i,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(s),c=a*Math.sin(s),u=t+o,f=r+c,m=1^l,h=l?s-i:i-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Na||Math.abs(this._y1-f)>Na)&&this._append`L${u},${f}`,a&&(h<0&&(h=h%Qh+Qh),h>v$?this._append`A${a},${a},0,1,${m},${t-o},${r-c}A${a},${a},0,1,${m},${this._x1=u},${this._y1=f}`:h>Na&&this._append`A${a},${a},0,${+(h>=Hh)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function Ay(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new j$(t)}function Dy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gC(e){this._context=e}gC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zd(e){return new gC(e)}function vC(e){return e[0]}function bC(e){return e[1]}function jC(e,t){var r=Be(!0),a=null,s=Zd,i=null,l=Ay(o);e=typeof e=="function"?e:e===void 0?vC:Be(e),t=typeof t=="function"?t:t===void 0?bC:Be(t);function o(c){var u,f=(c=Dy(c)).length,m,h=!1,v;for(a==null&&(i=s(v=l())),u=0;u<=f;++u)!(u<f&&r(m=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(m,u,c),+t(m,u,c));if(v)return i=null,v+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Be(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Be(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Be(!!c),o):r},o.curve=function(c){return arguments.length?(s=c,a!=null&&(i=s(a)),o):s},o.context=function(c){return arguments.length?(c==null?a=i=null:i=s(a=c),o):a},o}function uc(e,t,r){var a=null,s=Be(!0),i=null,l=Zd,o=null,c=Ay(u);e=typeof e=="function"?e:e===void 0?vC:Be(+e),t=typeof t=="function"?t:Be(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bC:Be(+r);function u(m){var h,v,j,y=(m=Dy(m)).length,b,N=!1,S,x=new Array(y),d=new Array(y);for(i==null&&(o=l(S=c())),h=0;h<=y;++h){if(!(h<y&&s(b=m[h],h,m))===N)if(N=!N)v=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),j=h-1;j>=v;--j)o.point(x[j],d[j]);o.lineEnd(),o.areaEnd()}N&&(x[h]=+e(b,h,m),d[h]=+t(b,h,m),o.point(a?+a(b,h,m):x[h],r?+r(b,h,m):d[h]))}if(S)return o=null,S+""||null}function f(){return jC().defined(s).curve(l).context(i)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:Be(+m),a=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Be(+m),u):e},u.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:Be(+m),u):a},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:Be(+m),r=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Be(+m),u):t},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Be(+m),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(a).y(t)},u.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Be(!!m),u):s},u.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),u):l},u.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),u):i},u}class NC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function N$(e){return new NC(e,!0)}function w$(e){return new NC(e,!1)}const Ey={draw(e,t){const r=Kr(t/bu);e.moveTo(r,0),e.arc(0,0,r,0,Yd)}},S$={draw(e,t){const r=Kr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},wC=Kr(1/3),C$=wC*2,O$={draw(e,t){const r=Kr(t/C$),a=r*wC;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},k$={draw(e,t){const r=Kr(t),a=-r/2;e.rect(a,a,r,r)}},P$=.8908130915292852,SC=vu(bu/10)/vu(7*bu/10),T$=vu(Yd/10)*SC,A$=-xC(Yd/10)*SC,D$={draw(e,t){const r=Kr(t*P$),a=T$*r,s=A$*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const l=Yd*i/5,o=xC(l),c=vu(l);e.lineTo(c*r,-o*r),e.lineTo(o*a-c*s,c*a+o*s)}e.closePath()}},lf=Kr(3),E$={draw(e,t){const r=-Kr(t/(lf*3));e.moveTo(0,r*2),e.lineTo(-lf*r,-r),e.lineTo(lf*r,-r),e.closePath()}},mr=-.5,fr=Kr(3)/2,Jh=1/Kr(12),M$=(Jh/2+1)*3,I$={draw(e,t){const r=Kr(t/M$),a=r/2,s=r*Jh,i=a,l=r*Jh+r,o=-i,c=l;e.moveTo(a,s),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(mr*a-fr*s,fr*a+mr*s),e.lineTo(mr*i-fr*l,fr*i+mr*l),e.lineTo(mr*o-fr*c,fr*o+mr*c),e.lineTo(mr*a+fr*s,mr*s-fr*a),e.lineTo(mr*i+fr*l,mr*l-fr*i),e.lineTo(mr*o+fr*c,mr*c-fr*o),e.closePath()}};function $$(e,t){let r=null,a=Ay(s);e=typeof e=="function"?e:Be(e||Ey),t=typeof t=="function"?t:Be(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Be(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Be(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function ju(){}function Nu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function CC(e){this._context=e}CC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _$(e){return new CC(e)}function OC(e){this._context=e}OC.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R$(e){return new OC(e)}function kC(e){this._context=e}kC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L$(e){return new kC(e)}function PC(e){this._context=e}PC.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function F$(e){return new PC(e)}function yv(e){return e<0?-1:1}function gv(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),l=(r-e._y1)/(s||a<0&&-0),o=(i*s+l*a)/(a+s);return(yv(i)+yv(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function vv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function of(e,t,r){var a=e._x0,s=e._y0,i=e._x1,l=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,s+o*t,i-o,l-o*r,i,l)}function wu(e){this._context=e}wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:of(this,this._t0,vv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,of(this,vv(this,r=gv(this,e,t)),r);break;default:of(this,this._t0,r=gv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function TC(e){this._context=new AC(e)}(TC.prototype=Object.create(wu.prototype)).point=function(e,t){wu.prototype.point.call(this,t,e)};function AC(e){this._context=e}AC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function B$(e){return new wu(e)}function q$(e){return new TC(e)}function DC(e){this._context=e}DC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=bv(e),s=bv(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bv(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(s[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function U$(e){return new DC(e)}function em(e,t){this._context=e,this._t=t}em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function W$(e){return new em(e,.5)}function K$(e){return new em(e,0)}function z$(e){return new em(e,1)}function Us(e,t){if((l=e.length)>1)for(var r=1,a,s,i=e[t[0]],l,o=i.length;r<l;++r)for(s=i,i=e[t[r]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Xh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function V$(e,t){return e[t]}function G$(e){const t=[];return t.key=e,t}function H$(){var e=Be([]),t=Xh,r=Us,a=V$;function s(i){var l=Array.from(e.apply(this,arguments),G$),o,c=l.length,u=-1,f;for(const m of i)for(o=0,++u;o<c;++o)(l[o][u]=[0,+a(m,l[o].key,u,i)]).data=m;for(o=0,f=Dy(t(l));o<c;++o)l[f[o]].index=o;return r(l,f),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Be(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Be(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?Xh:typeof i=="function"?i:Be(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Us,s):r},s}function Q$(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,l;s<i;++s){for(l=r=0;r<a;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<a;++r)e[r][s][1]/=l}Us(e,t)}}function J$(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var l=0,o=0;l<s;++l)o+=e[l][r][1]||0;a[r][1]+=a[r][0]=-o/2}Us(e,t)}}function X$(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,l;a<i;++a){for(var o=0,c=0,u=0;o<l;++o){for(var f=e[t[o]],m=f[a][1]||0,h=f[a-1][1]||0,v=(m-h)/2,j=0;j<o;++j){var y=e[t[j]],b=y[a][1]||0,N=y[a-1][1]||0;v+=b-N}c+=m,u+=v*m}s[a-1][1]+=s[a-1][0]=r,c&&(r-=u/c)}s[a-1][1]+=s[a-1][0]=r,Us(e,t)}}function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}var Y$=["type","size","sizeType"];function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yh.apply(this,arguments)}function jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jv(Object(r),!0).forEach(function(a){Z$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Z$(e,t,r){return t=e3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e3(e){var t=t3(e,"string");return Ll(t)=="symbol"?t:t+""}function t3(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ll(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r3(e,t){if(e==null)return{};var r=n3(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function n3(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var EC={symbolCircle:Ey,symbolCross:S$,symbolDiamond:O$,symbolSquare:k$,symbolStar:D$,symbolTriangle:E$,symbolWye:I$},a3=Math.PI/180,s3=function(t){var r="symbol".concat(Xd(t));return EC[r]||Ey},i3=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*a3;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},l3=function(t,r){EC["symbol".concat(Xd(t))]=r},My=function(t){var r=t.type,a=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,l=t.sizeType,o=l===void 0?"area":l,c=r3(t,Y$),u=Nv(Nv({},c),{},{type:a,size:i,sizeType:o}),f=function(){var b=s3(a),N=$$().type(b).size(i3(i,o,a));return N()},m=u.className,h=u.cx,v=u.cy,j=ke(u,!0);return h===+h&&v===+v&&i===+i?q.createElement("path",Yh({},j,{className:Te("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(v,")"),d:f()})):null};My.registerSymbol=l3;function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zh.apply(this,arguments)}function wv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function o3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wv(Object(r),!0).forEach(function(a){Fl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function c3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sv(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,IC(a.key),a)}}function u3(e,t,r){return t&&Sv(e.prototype,t),r&&Sv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d3(e,t,r){return t=Su(t),m3(e,MC()?Reflect.construct(t,r||[],Su(e).constructor):t.apply(e,r))}function m3(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f3(e)}function f3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MC=function(){return!!e})()}function Su(e){return Su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Su(e)}function h3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ep(e,t)}function ep(e,t){return ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ep(e,t)}function Fl(e,t,r){return t=IC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IC(e){var t=p3(e,"string");return Ws(t)=="symbol"?t:t+""}function p3(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ws(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hr=32,Iy=function(e){function t(){return c3(this,t),d3(this,t,arguments)}return h3(t,e),u3(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=hr/2,l=hr/6,o=hr/3,c=a.inactive?s:a.color;if(a.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:hr,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(hr,"M").concat(2*o,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(hr/8,"h").concat(hr,"v").concat(hr*3/4,"h").concat(-hr,"z"),className:"recharts-legend-icon"});if(q.isValidElement(a.legendIcon)){var u=o3({},a);return delete u.legendIcon,q.cloneElement(a.legendIcon,u)}return q.createElement(My,{fill:c,cx:i,cy:i,size:hr,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,l=s.iconSize,o=s.layout,c=s.formatter,u=s.inactiveColor,f={x:0,y:0,width:hr,height:hr},m={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,j){var y=v.formatter||c,b=Te(Fl(Fl({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var N=je(v.value)?null:v.value;xn(!je(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=v.inactive?u:v.color;return q.createElement("li",Zh({className:b,style:m,key:"legend-item-".concat(j)},gu(a.props,v,j)),q.createElement(Kh,{width:l,height:l,viewBox:f,style:h},a.renderIcon(v)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},y?y(N,v,j):N))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,l=a.align;if(!s||!s.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(O.PureComponent);Fl(Iy,"displayName","Legend");Fl(Iy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var x3=Ld;function y3(){this.__data__=new x3,this.size=0}var g3=y3;function v3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var b3=v3;function j3(e){return this.__data__.get(e)}var N3=j3;function w3(e){return this.__data__.has(e)}var S3=w3,C3=Ld,O3=jy,k3=Ny,P3=200;function T3(e,t){var r=this.__data__;if(r instanceof C3){var a=r.__data__;if(!O3||a.length<P3-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new k3(a)}return r.set(e,t),this.size=r.size,this}var A3=T3,D3=Ld,E3=g3,M3=b3,I3=N3,$3=S3,_3=A3;function ji(e){var t=this.__data__=new D3(e);this.size=t.size}ji.prototype.clear=E3;ji.prototype.delete=M3;ji.prototype.get=I3;ji.prototype.has=$3;ji.prototype.set=_3;var $C=ji,R3="__lodash_hash_undefined__";function L3(e){return this.__data__.set(e,R3),this}var F3=L3;function B3(e){return this.__data__.has(e)}var q3=B3,U3=Ny,W3=F3,K3=q3;function Cu(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new U3;++t<r;)this.add(e[t])}Cu.prototype.add=Cu.prototype.push=W3;Cu.prototype.has=K3;var _C=Cu;function z3(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var RC=z3;function V3(e,t){return e.has(t)}var LC=V3,G3=_C,H3=RC,Q3=LC,J3=1,X3=2;function Y3(e,t,r,a,s,i){var l=r&J3,o=e.length,c=t.length;if(o!=c&&!(l&&c>o))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var m=-1,h=!0,v=r&X3?new G3:void 0;for(i.set(e,t),i.set(t,e);++m<o;){var j=e[m],y=t[m];if(a)var b=l?a(y,j,m,t,e,i):a(j,y,m,e,t,i);if(b!==void 0){if(b)continue;h=!1;break}if(v){if(!H3(t,function(N,S){if(!Q3(v,S)&&(j===N||s(j,N,r,a,i)))return v.push(S)})){h=!1;break}}else if(!(j===y||s(j,y,r,a,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var FC=Y3,Z3=rn,e_=Z3.Uint8Array,t_=e_;function r_(e){var t=-1,r=Array(e.size);return e.forEach(function(a,s){r[++t]=[s,a]}),r}var n_=r_;function a_(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var $y=a_,Cv=Do,Ov=t_,s_=by,i_=FC,l_=n_,o_=$y,c_=1,u_=2,d_="[object Boolean]",m_="[object Date]",f_="[object Error]",h_="[object Map]",p_="[object Number]",x_="[object RegExp]",y_="[object Set]",g_="[object String]",v_="[object Symbol]",b_="[object ArrayBuffer]",j_="[object DataView]",kv=Cv?Cv.prototype:void 0,cf=kv?kv.valueOf:void 0;function N_(e,t,r,a,s,i,l){switch(r){case j_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b_:return!(e.byteLength!=t.byteLength||!i(new Ov(e),new Ov(t)));case d_:case m_:case p_:return s_(+e,+t);case f_:return e.name==t.name&&e.message==t.message;case x_:case g_:return e==t+"";case h_:var o=l_;case y_:var c=a&c_;if(o||(o=o_),e.size!=t.size&&!c)return!1;var u=l.get(e);if(u)return u==t;a|=u_,l.set(e,t);var f=i_(o(e),o(t),a,s,i,l);return l.delete(e),f;case v_:if(cf)return cf.call(e)==cf.call(t)}return!1}var w_=N_;function S_(e,t){for(var r=-1,a=t.length,s=e.length;++r<a;)e[s+r]=t[r];return e}var BC=S_,C_=BC,O_=Jt;function k_(e,t,r){var a=t(e);return O_(e)?a:C_(a,r(e))}var P_=k_;function T_(e,t){for(var r=-1,a=e==null?0:e.length,s=0,i=[];++r<a;){var l=e[r];t(l,r,e)&&(i[s++]=l)}return i}var A_=T_;function D_(){return[]}var E_=D_,M_=A_,I_=E_,$_=Object.prototype,__=$_.propertyIsEnumerable,Pv=Object.getOwnPropertySymbols,R_=Pv?function(e){return e==null?[]:(e=Object(e),M_(Pv(e),function(t){return __.call(e,t)}))}:I_,L_=R_;function F_(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var B_=F_,q_=Tn,U_=An,W_="[object Arguments]";function K_(e){return U_(e)&&q_(e)==W_}var z_=K_,Tv=z_,V_=An,qC=Object.prototype,G_=qC.hasOwnProperty,H_=qC.propertyIsEnumerable,Q_=Tv(function(){return arguments}())?Tv:function(e){return V_(e)&&G_.call(e,"callee")&&!H_.call(e,"callee")},_y=Q_,Ou={exports:{}};function J_(){return!1}var X_=J_;Ou.exports;(function(e,t){var r=rn,a=X_,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,o=l?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||a;e.exports=u})(Ou,Ou.exports);var UC=Ou.exports,Y_=9007199254740991,Z_=/^(?:0|[1-9]\d*)$/;function e5(e,t){var r=typeof e;return t=t??Y_,!!t&&(r=="number"||r!="symbol"&&Z_.test(e))&&e>-1&&e%1==0&&e<t}var Ry=e5,t5=9007199254740991;function r5(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=t5}var Ly=r5,n5=Tn,a5=Ly,s5=An,i5="[object Arguments]",l5="[object Array]",o5="[object Boolean]",c5="[object Date]",u5="[object Error]",d5="[object Function]",m5="[object Map]",f5="[object Number]",h5="[object Object]",p5="[object RegExp]",x5="[object Set]",y5="[object String]",g5="[object WeakMap]",v5="[object ArrayBuffer]",b5="[object DataView]",j5="[object Float32Array]",N5="[object Float64Array]",w5="[object Int8Array]",S5="[object Int16Array]",C5="[object Int32Array]",O5="[object Uint8Array]",k5="[object Uint8ClampedArray]",P5="[object Uint16Array]",T5="[object Uint32Array]",ze={};ze[j5]=ze[N5]=ze[w5]=ze[S5]=ze[C5]=ze[O5]=ze[k5]=ze[P5]=ze[T5]=!0;ze[i5]=ze[l5]=ze[v5]=ze[o5]=ze[b5]=ze[c5]=ze[u5]=ze[d5]=ze[m5]=ze[f5]=ze[h5]=ze[p5]=ze[x5]=ze[y5]=ze[g5]=!1;function A5(e){return s5(e)&&a5(e.length)&&!!ze[n5(e)]}var D5=A5;function E5(e){return function(t){return e(t)}}var WC=E5,ku={exports:{}};ku.exports;(function(e,t){var r=XS,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i&&r.process,o=function(){try{var c=s&&s.require&&s.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}}();e.exports=o})(ku,ku.exports);var M5=ku.exports,I5=D5,$5=WC,Av=M5,Dv=Av&&Av.isTypedArray,_5=Dv?$5(Dv):I5,KC=_5,R5=B_,L5=_y,F5=Jt,B5=UC,q5=Ry,U5=KC,W5=Object.prototype,K5=W5.hasOwnProperty;function z5(e,t){var r=F5(e),a=!r&&L5(e),s=!r&&!a&&B5(e),i=!r&&!a&&!s&&U5(e),l=r||a||s||i,o=l?R5(e.length,String):[],c=o.length;for(var u in e)(t||K5.call(e,u))&&!(l&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||q5(u,c)))&&o.push(u);return o}var V5=z5,G5=Object.prototype;function H5(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||G5;return e===r}var Q5=H5;function J5(e,t){return function(r){return e(t(r))}}var zC=J5,X5=zC,Y5=X5(Object.keys,Object),Z5=Y5,eR=Q5,tR=Z5,rR=Object.prototype,nR=rR.hasOwnProperty;function aR(e){if(!eR(e))return tR(e);var t=[];for(var r in Object(e))nR.call(e,r)&&r!="constructor"&&t.push(r);return t}var sR=aR,iR=vy,lR=Ly;function oR(e){return e!=null&&lR(e.length)&&!iR(e)}var Io=oR,cR=V5,uR=sR,dR=Io;function mR(e){return dR(e)?cR(e):uR(e)}var tm=mR,fR=P_,hR=L_,pR=tm;function xR(e){return fR(e,pR,hR)}var yR=xR,Ev=yR,gR=1,vR=Object.prototype,bR=vR.hasOwnProperty;function jR(e,t,r,a,s,i){var l=r&gR,o=Ev(e),c=o.length,u=Ev(t),f=u.length;if(c!=f&&!l)return!1;for(var m=c;m--;){var h=o[m];if(!(l?h in t:bR.call(t,h)))return!1}var v=i.get(e),j=i.get(t);if(v&&j)return v==t&&j==e;var y=!0;i.set(e,t),i.set(t,e);for(var b=l;++m<c;){h=o[m];var N=e[h],S=t[h];if(a)var x=l?a(S,N,h,t,e,i):a(N,S,h,e,t,i);if(!(x===void 0?N===S||s(N,S,r,a,i):x)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var d=e.constructor,p=t.constructor;d!=p&&"constructor"in e&&"constructor"in t&&!(typeof d=="function"&&d instanceof d&&typeof p=="function"&&p instanceof p)&&(y=!1)}return i.delete(e),i.delete(t),y}var NR=jR,wR=Za,SR=rn,CR=wR(SR,"DataView"),OR=CR,kR=Za,PR=rn,TR=kR(PR,"Promise"),AR=TR,DR=Za,ER=rn,MR=DR(ER,"Set"),VC=MR,IR=Za,$R=rn,_R=IR($R,"WeakMap"),RR=_R,tp=OR,rp=jy,np=AR,ap=VC,sp=RR,GC=Tn,Ni=ZS,Mv="[object Map]",LR="[object Object]",Iv="[object Promise]",$v="[object Set]",_v="[object WeakMap]",Rv="[object DataView]",FR=Ni(tp),BR=Ni(rp),qR=Ni(np),UR=Ni(ap),WR=Ni(sp),wa=GC;(tp&&wa(new tp(new ArrayBuffer(1)))!=Rv||rp&&wa(new rp)!=Mv||np&&wa(np.resolve())!=Iv||ap&&wa(new ap)!=$v||sp&&wa(new sp)!=_v)&&(wa=function(e){var t=GC(e),r=t==LR?e.constructor:void 0,a=r?Ni(r):"";if(a)switch(a){case FR:return Rv;case BR:return Mv;case qR:return Iv;case UR:return $v;case WR:return _v}return t});var KR=wa,uf=$C,zR=FC,VR=w_,GR=NR,Lv=KR,Fv=Jt,Bv=UC,HR=KC,QR=1,qv="[object Arguments]",Uv="[object Array]",dc="[object Object]",JR=Object.prototype,Wv=JR.hasOwnProperty;function XR(e,t,r,a,s,i){var l=Fv(e),o=Fv(t),c=l?Uv:Lv(e),u=o?Uv:Lv(t);c=c==qv?dc:c,u=u==qv?dc:u;var f=c==dc,m=u==dc,h=c==u;if(h&&Bv(e)){if(!Bv(t))return!1;l=!0,f=!1}if(h&&!f)return i||(i=new uf),l||HR(e)?zR(e,t,r,a,s,i):VR(e,t,c,r,a,s,i);if(!(r&QR)){var v=f&&Wv.call(e,"__wrapped__"),j=m&&Wv.call(t,"__wrapped__");if(v||j){var y=v?e.value():e,b=j?t.value():t;return i||(i=new uf),s(y,b,r,a,i)}}return h?(i||(i=new uf),GR(e,t,r,a,s,i)):!1}var YR=XR,ZR=YR,Kv=An;function HC(e,t,r,a,s){return e===t?!0:e==null||t==null||!Kv(e)&&!Kv(t)?e!==e&&t!==t:ZR(e,t,r,a,HC,s)}var Fy=HC,e7=$C,t7=Fy,r7=1,n7=2;function a7(e,t,r,a){var s=r.length,i=s,l=!a;if(e==null)return!i;for(e=Object(e);s--;){var o=r[s];if(l&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++s<i;){o=r[s];var c=o[0],u=e[c],f=o[1];if(l&&o[2]){if(u===void 0&&!(c in e))return!1}else{var m=new e7;if(a)var h=a(u,f,c,e,t,m);if(!(h===void 0?t7(f,u,r7|n7,a,m):h))return!1}}return!0}var s7=a7,i7=ca;function l7(e){return e===e&&!i7(e)}var QC=l7,o7=QC,c7=tm;function u7(e){for(var t=c7(e),r=t.length;r--;){var a=t[r],s=e[a];t[r]=[a,s,o7(s)]}return t}var d7=u7;function m7(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var JC=m7,f7=s7,h7=d7,p7=JC;function x7(e){var t=h7(e);return t.length==1&&t[0][2]?p7(t[0][0],t[0][1]):function(r){return r===e||f7(r,e,t)}}var y7=x7;function g7(e,t){return e!=null&&t in Object(e)}var v7=g7,b7=aC,j7=_y,N7=Jt,w7=Ry,S7=Ly,C7=Bd;function O7(e,t,r){t=b7(t,e);for(var a=-1,s=t.length,i=!1;++a<s;){var l=C7(t[a]);if(!(i=e!=null&&r(e,l)))break;e=e[l]}return i||++a!=s?i:(s=e==null?0:e.length,!!s&&S7(s)&&w7(l,s)&&(N7(e)||j7(e)))}var k7=O7,P7=v7,T7=k7;function A7(e,t){return e!=null&&T7(e,t,P7)}var D7=A7,E7=Fy,M7=sC,I7=D7,$7=gy,_7=QC,R7=JC,L7=Bd,F7=1,B7=2;function q7(e,t){return $7(e)&&_7(t)?R7(L7(e),t):function(r){var a=M7(r,e);return a===void 0&&a===t?I7(r,e):E7(t,a,F7|B7)}}var U7=q7;function W7(e){return e}var wi=W7;function K7(e){return function(t){return t==null?void 0:t[e]}}var z7=K7,V7=Cy;function G7(e){return function(t){return V7(t,e)}}var H7=G7,Q7=z7,J7=H7,X7=gy,Y7=Bd;function Z7(e){return X7(e)?Q7(Y7(e)):J7(e)}var eL=Z7,tL=y7,rL=U7,nL=wi,aL=Jt,sL=eL;function iL(e){return typeof e=="function"?e:e==null?nL:typeof e=="object"?aL(e)?rL(e[0],e[1]):tL(e):sL(e)}var ua=iL;function lL(e,t,r,a){for(var s=e.length,i=r+(a?1:-1);a?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var XC=lL;function oL(e){return e!==e}var cL=oL;function uL(e,t,r){for(var a=r-1,s=e.length;++a<s;)if(e[a]===t)return a;return-1}var dL=uL,mL=XC,fL=cL,hL=dL;function pL(e,t,r){return t===t?hL(e,t,r):mL(e,fL,r)}var xL=pL,yL=xL;function gL(e,t){var r=e==null?0:e.length;return!!r&&yL(e,t,0)>-1}var vL=gL;function bL(e,t,r){for(var a=-1,s=e==null?0:e.length;++a<s;)if(r(t,e[a]))return!0;return!1}var jL=bL;function NL(){}var wL=NL,df=VC,SL=wL,CL=$y,OL=1/0,kL=df&&1/CL(new df([,-0]))[1]==OL?function(e){return new df(e)}:SL,PL=kL,TL=_C,AL=vL,DL=jL,EL=LC,ML=PL,IL=$y,$L=200;function _L(e,t,r){var a=-1,s=AL,i=e.length,l=!0,o=[],c=o;if(r)l=!1,s=DL;else if(i>=$L){var u=t?null:ML(e);if(u)return IL(u);l=!1,s=EL,c=new TL}else c=t?[]:o;e:for(;++a<i;){var f=e[a],m=t?t(f):f;if(f=r||f!==0?f:0,l&&m===m){for(var h=c.length;h--;)if(c[h]===m)continue e;t&&c.push(m),o.push(f)}else s(c,m,r)||(c!==o&&c.push(m),o.push(f))}return o}var RL=_L,LL=ua,FL=RL;function BL(e,t){return e&&e.length?FL(e,LL(t)):[]}var qL=BL;const zv=Fe(qL);function YC(e,t,r){return t===!0?zv(e,r):je(t)?zv(e,t):e}function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}var UL=["ref"];function Vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vv(Object(r),!0).forEach(function(a){rm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function WL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gv(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,e2(a.key),a)}}function KL(e,t,r){return t&&Gv(e.prototype,t),r&&Gv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zL(e,t,r){return t=Pu(t),VL(e,ZC()?Reflect.construct(t,r||[],Pu(e).constructor):t.apply(e,r))}function VL(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GL(e)}function GL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZC=function(){return!!e})()}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pu(e)}function HL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ip(e,t)}function ip(e,t){return ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ip(e,t)}function rm(e,t,r){return t=e2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e2(e){var t=QL(e,"string");return Ks(t)=="symbol"?t:t+""}function QL(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ks(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JL(e,t){if(e==null)return{};var r=XL(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function XL(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function YL(e){return e.value}function ZL(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var r=JL(t,UL);return q.createElement(Iy,r)}var Hv=1,Ds=function(e){function t(){var r;WL(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=zL(this,t,[].concat(s)),rm(r,"lastBoundingBox",{width:-1,height:-1}),r}return HL(t,e),KL(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Hv||Math.abs(s.height-this.lastBoundingBox.height)>Hv)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?an({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,l=s.align,o=s.verticalAlign,c=s.margin,u=s.chartWidth,f=s.chartHeight,m,h;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();m={left:((u||0)-v.width)/2}}else m=l==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(o==="middle"){var j=this.getBBoxSnapshot();h={top:((f||0)-j.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return an(an({},m),h)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,l=s.width,o=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,f=s.payload,m=an(an({position:"absolute",width:l||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){a.wrapperNode=v}},ZL(i,an(an({},this.props),{},{payload:YC(f,u,YL)})))}}],[{key:"getWithHeight",value:function(a,s){var i=an(an({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&ne(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||s}:null}}])}(O.PureComponent);rm(Ds,"displayName","Legend");rm(Ds,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Qv=Do,eF=_y,tF=Jt,Jv=Qv?Qv.isConcatSpreadable:void 0;function rF(e){return tF(e)||eF(e)||!!(Jv&&e&&e[Jv])}var nF=rF,aF=BC,sF=nF;function t2(e,t,r,a,s){var i=-1,l=e.length;for(r||(r=sF),s||(s=[]);++i<l;){var o=e[i];t>0&&r(o)?t>1?t2(o,t-1,r,a,s):aF(s,o):a||(s[s.length]=o)}return s}var r2=t2;function iF(e){return function(t,r,a){for(var s=-1,i=Object(t),l=a(t),o=l.length;o--;){var c=l[e?o:++s];if(r(i[c],c,i)===!1)break}return t}}var lF=iF,oF=lF,cF=oF(),uF=cF,dF=uF,mF=tm;function fF(e,t){return e&&dF(e,t,mF)}var n2=fF,hF=Io;function pF(e,t){return function(r,a){if(r==null)return r;if(!hF(r))return e(r,a);for(var s=r.length,i=t?s:-1,l=Object(r);(t?i--:++i<s)&&a(l[i],i,l)!==!1;);return r}}var xF=pF,yF=n2,gF=xF,vF=gF(yF),By=vF,bF=By,jF=Io;function NF(e,t){var r=-1,a=jF(e)?Array(e.length):[];return bF(e,function(s,i,l){a[++r]=t(s,i,l)}),a}var a2=NF;function wF(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var SF=wF,Xv=xi;function CF(e,t){if(e!==t){var r=e!==void 0,a=e===null,s=e===e,i=Xv(e),l=t!==void 0,o=t===null,c=t===t,u=Xv(t);if(!o&&!u&&!i&&e>t||i&&l&&c&&!o&&!u||a&&l&&c||!r&&c||!s)return 1;if(!a&&!i&&!u&&e<t||u&&r&&s&&!a&&!i||o&&r&&s||!l&&s||!c)return-1}return 0}var OF=CF,kF=OF;function PF(e,t,r){for(var a=-1,s=e.criteria,i=t.criteria,l=s.length,o=r.length;++a<l;){var c=kF(s[a],i[a]);if(c){if(a>=o)return c;var u=r[a];return c*(u=="desc"?-1:1)}}return e.index-t.index}var TF=PF,mf=Sy,AF=Cy,DF=ua,EF=a2,MF=SF,IF=WC,$F=TF,_F=wi,RF=Jt;function LF(e,t,r){t.length?t=mf(t,function(i){return RF(i)?function(l){return AF(l,i.length===1?i[0]:i)}:i}):t=[_F];var a=-1;t=mf(t,IF(DF));var s=EF(e,function(i,l,o){var c=mf(t,function(u){return u(i)});return{criteria:c,index:++a,value:i}});return MF(s,function(i,l){return $F(i,l,r)})}var FF=LF;function BF(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var qF=BF,UF=qF,Yv=Math.max;function WF(e,t,r){return t=Yv(t===void 0?e.length-1:t,0),function(){for(var a=arguments,s=-1,i=Yv(a.length-t,0),l=Array(i);++s<i;)l[s]=a[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=a[s];return o[t]=r(l),UF(e,this,o)}}var KF=WF;function zF(e){return function(){return e}}var VF=zF,GF=Za,HF=function(){try{var e=GF(Object,"defineProperty");return e({},"",{}),e}catch{}}(),s2=HF,QF=VF,Zv=s2,JF=wi,XF=Zv?function(e,t){return Zv(e,"toString",{configurable:!0,enumerable:!1,value:QF(t),writable:!0})}:JF,YF=XF,ZF=800,eB=16,tB=Date.now;function rB(e){var t=0,r=0;return function(){var a=tB(),s=eB-(a-r);if(r=a,s>0){if(++t>=ZF)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var nB=rB,aB=YF,sB=nB,iB=sB(aB),lB=iB,oB=wi,cB=KF,uB=lB;function dB(e,t){return uB(cB(e,t,oB),e+"")}var mB=dB,fB=by,hB=Io,pB=Ry,xB=ca;function yB(e,t,r){if(!xB(r))return!1;var a=typeof t;return(a=="number"?hB(r)&&pB(t,r.length):a=="string"&&t in r)?fB(r[t],e):!1}var nm=yB,gB=r2,vB=FF,bB=mB,eb=nm,jB=bB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&eb(e,t[0],t[1])?t=[]:r>2&&eb(t[0],t[1],t[2])&&(t=[t[0]]),vB(e,gB(t,1),[])}),NB=jB;const qy=Fe(NB);function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lp.apply(this,arguments)}function wB(e,t){return kB(e)||OB(e,t)||CB(e,t)||SB()}function SB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CB(e,t){if(e){if(typeof e=="string")return tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tb(e,t)}}function tb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function OB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function kB(e){if(Array.isArray(e))return e}function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(r),!0).forEach(function(a){PB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PB(e,t,r){return t=TB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TB(e){var t=AB(e,"string");return Bl(t)=="symbol"?t:t+""}function AB(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Bl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DB(e){return Array.isArray(e)&&mt(e[0])&&mt(e[1])?e.join(" ~ "):e}var EB=function(t){var r=t.separator,a=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,o=l===void 0?{}:l,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,m=t.formatter,h=t.itemSorter,v=t.wrapperClassName,j=t.labelClassName,y=t.label,b=t.labelFormatter,N=t.accessibilityLayer,S=N===void 0?!1:N,x=function(){if(f&&f.length){var k={padding:0,margin:0},M=(h?qy(f,h):f).map(function(F,R){if(F.type==="none")return null;var E=ff({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},o),B=F.formatter||m||DB,A=F.value,I=F.name,$=A,L=I;if(B&&$!=null&&L!=null){var _=B(A,I,F,R,f);if(Array.isArray(_)){var G=wB(_,2);$=G[0],L=G[1]}else $=_}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:E},mt(L)?q.createElement("span",{className:"recharts-tooltip-item-name"},L):null,mt(L)?q.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,q.createElement("span",{className:"recharts-tooltip-item-value"},$),q.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:k},M)}return null},d=ff({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),p=ff({margin:0},u),g=!Se(y),w=g?y:"",C=Te("recharts-default-tooltip",v),T=Te("recharts-tooltip-label",j);g&&b&&f!==void 0&&f!==null&&(w=b(y,f));var P=S?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",lp({className:C,style:d},P),q.createElement("p",{className:T,style:p},q.isValidElement(w)?w:"".concat(w)),x())};function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function mc(e,t,r){return t=MB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MB(e){var t=IB(e,"string");return ql(t)=="symbol"?t:t+""}function IB(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ql(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ri="recharts-tooltip-wrapper",$B={visibility:"hidden"};function _B(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return Te(Ri,mc(mc(mc(mc({},"".concat(Ri,"-right"),ne(r)&&t&&ne(t.x)&&r>=t.x),"".concat(Ri,"-left"),ne(r)&&t&&ne(t.x)&&r<t.x),"".concat(Ri,"-bottom"),ne(a)&&t&&ne(t.y)&&a>=t.y),"".concat(Ri,"-top"),ne(a)&&t&&ne(t.y)&&a<t.y))}function nb(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ne(i[a]))return i[a];var f=r[a]-o-s,m=r[a]+s;if(t[a])return l[a]?f:m;if(l[a]){var h=f,v=c[a];return h<v?Math.max(m,c[a]):Math.max(f,c[a])}var j=m+o,y=c[a]+u;return j>y?Math.max(f,c[a]):Math.max(m,c[a])}function RB(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function LB(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,u,f,m;return l.height>0&&l.width>0&&r?(f=nb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=nb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),u=RB({translateX:f,translateY:m,useTranslate3d:o})):u=$B,{cssProperties:u,cssClasses:_B({translateX:f,translateY:m,coordinate:r})}}function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ab(Object(r),!0).forEach(function(a){cp(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ab(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ib(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,l2(a.key),a)}}function BB(e,t,r){return t&&ib(e.prototype,t),r&&ib(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qB(e,t,r){return t=Tu(t),UB(e,i2()?Reflect.construct(t,r||[],Tu(e).constructor):t.apply(e,r))}function UB(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WB(e)}function WB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i2=function(){return!!e})()}function Tu(e){return Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tu(e)}function KB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&op(e,t)}function op(e,t){return op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},op(e,t)}function cp(e,t,r){return t=l2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l2(e){var t=zB(e,"string");return zs(t)=="symbol"?t:t+""}function zB(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(zs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lb=1,VB=function(e){function t(){var r;FB(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=qB(this,t,[].concat(s)),cp(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cp(r,"handleKeyDown",function(l){if(l.key==="Escape"){var o,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return KB(t,e),BB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>lb||Math.abs(a.height-this.state.lastBoundingBox.height)>lb)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,o=s.animationDuration,c=s.animationEasing,u=s.children,f=s.coordinate,m=s.hasPayload,h=s.isAnimationActive,v=s.offset,j=s.position,y=s.reverseDirection,b=s.useTranslate3d,N=s.viewBox,S=s.wrapperStyle,x=LB({allowEscapeViewBox:l,coordinate:f,offsetTopLeft:v,position:j,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:N}),d=x.cssClasses,p=x.cssProperties,g=sb(sb({transition:h&&i?"transform ".concat(o,"ms ").concat(c):void 0},p),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},S);return q.createElement("div",{tabIndex:-1,className:d,style:g,ref:function(C){a.wrapperNode=C}},u)}}])}(O.PureComponent),GB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yn={isSsr:GB(),get:function(t){return yn[t]},set:function(t,r){if(typeof t=="string")yn[t]=r;else{var a=Object.keys(t);a&&a.length&&a.forEach(function(s){yn[s]=t[s]})}}};function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ob(Object(r),!0).forEach(function(a){Uy(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ob(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function HB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ub(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,c2(a.key),a)}}function QB(e,t,r){return t&&ub(e.prototype,t),r&&ub(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JB(e,t,r){return t=Au(t),XB(e,o2()?Reflect.construct(t,r||[],Au(e).constructor):t.apply(e,r))}function XB(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YB(e)}function YB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o2=function(){return!!e})()}function Au(e){return Au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Au(e)}function ZB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&up(e,t)}function up(e,t){return up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},up(e,t)}function Uy(e,t,r){return t=c2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c2(e){var t=e9(e,"string");return Vs(t)=="symbol"?t:t+""}function e9(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Vs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t9(e){return e.dataKey}function r9(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(EB,t)}var Er=function(e){function t(){return HB(this,t),JB(this,t,arguments)}return ZB(t,e),QB(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,o=s.animationDuration,c=s.animationEasing,u=s.content,f=s.coordinate,m=s.filterNull,h=s.isAnimationActive,v=s.offset,j=s.payload,y=s.payloadUniqBy,b=s.position,N=s.reverseDirection,S=s.useTranslate3d,x=s.viewBox,d=s.wrapperStyle,p=j??[];m&&p.length&&(p=YC(j.filter(function(w){return w.value!=null&&(w.hide!==!0||a.props.includeHidden)}),y,t9));var g=p.length>0;return q.createElement(VB,{allowEscapeViewBox:l,animationDuration:o,animationEasing:c,isAnimationActive:h,active:i,coordinate:f,hasPayload:g,offset:v,position:b,reverseDirection:N,useTranslate3d:S,viewBox:x,wrapperStyle:d},r9(u,cb(cb({},this.props),{},{payload:p})))}}])}(O.PureComponent);Uy(Er,"displayName","Tooltip");Uy(Er,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var n9=rn,a9=function(){return n9.Date.now()},s9=a9,i9=/\s/;function l9(e){for(var t=e.length;t--&&i9.test(e.charAt(t)););return t}var o9=l9,c9=o9,u9=/^\s+/;function d9(e){return e&&e.slice(0,c9(e)+1).replace(u9,"")}var m9=d9,f9=m9,db=ca,h9=xi,mb=0/0,p9=/^[-+]0x[0-9a-f]+$/i,x9=/^0b[01]+$/i,y9=/^0o[0-7]+$/i,g9=parseInt;function v9(e){if(typeof e=="number")return e;if(h9(e))return mb;if(db(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=db(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=f9(e);var r=x9.test(e);return r||y9.test(e)?g9(e.slice(2),r?2:8):p9.test(e)?mb:+e}var u2=v9,b9=ca,hf=s9,fb=u2,j9="Expected a function",N9=Math.max,w9=Math.min;function S9(e,t,r){var a,s,i,l,o,c,u=0,f=!1,m=!1,h=!0;if(typeof e!="function")throw new TypeError(j9);t=fb(t)||0,b9(r)&&(f=!!r.leading,m="maxWait"in r,i=m?N9(fb(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function v(g){var w=a,C=s;return a=s=void 0,u=g,l=e.apply(C,w),l}function j(g){return u=g,o=setTimeout(N,t),f?v(g):l}function y(g){var w=g-c,C=g-u,T=t-w;return m?w9(T,i-C):T}function b(g){var w=g-c,C=g-u;return c===void 0||w>=t||w<0||m&&C>=i}function N(){var g=hf();if(b(g))return S(g);o=setTimeout(N,y(g))}function S(g){return o=void 0,h&&a?v(g):(a=s=void 0,l)}function x(){o!==void 0&&clearTimeout(o),u=0,a=c=s=o=void 0}function d(){return o===void 0?l:S(hf())}function p(){var g=hf(),w=b(g);if(a=arguments,s=this,c=g,w){if(o===void 0)return j(c);if(m)return clearTimeout(o),o=setTimeout(N,t),v(c)}return o===void 0&&(o=setTimeout(N,t)),l}return p.cancel=x,p.flush=d,p}var C9=S9,O9=C9,k9=ca,P9="Expected a function";function T9(e,t,r){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(P9);return k9(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),O9(e,t,{leading:a,maxWait:t,trailing:s})}var A9=T9;const d2=Fe(A9);function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hb(Object(r),!0).forEach(function(a){D9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hb(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function D9(e,t,r){return t=E9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9(e){var t=M9(e,"string");return Ul(t)=="symbol"?t:t+""}function M9(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ul(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I9(e,t){return L9(e)||R9(e,t)||_9(e,t)||$9()}function $9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _9(e,t){if(e){if(typeof e=="string")return pb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pb(e,t)}}function pb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function R9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function L9(e){if(Array.isArray(e))return e}var xb=O.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,l=i===void 0?"100%":i,o=e.height,c=o===void 0?"100%":o,u=e.minWidth,f=u===void 0?0:u,m=e.minHeight,h=e.maxHeight,v=e.children,j=e.debounce,y=j===void 0?0:j,b=e.id,N=e.className,S=e.onResize,x=e.style,d=x===void 0?{}:x,p=O.useRef(null),g=O.useRef();g.current=S,O.useImperativeHandle(t,function(){return Object.defineProperty(p.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),p.current},configurable:!0})});var w=O.useState({containerWidth:s.width,containerHeight:s.height}),C=I9(w,2),T=C[0],P=C[1],D=O.useCallback(function(M,F){P(function(R){var E=Math.round(M),B=Math.round(F);return R.containerWidth===E&&R.containerHeight===B?R:{containerWidth:E,containerHeight:B}})},[]);O.useEffect(function(){var M=function(I){var $,L=I[0].contentRect,_=L.width,G=L.height;D(_,G),($=g.current)===null||$===void 0||$.call(g,_,G)};y>0&&(M=d2(M,y,{trailing:!0,leading:!1}));var F=new ResizeObserver(M),R=p.current.getBoundingClientRect(),E=R.width,B=R.height;return D(E,B),F.observe(p.current),function(){F.disconnect()}},[D,y]);var k=O.useMemo(function(){var M=T.containerWidth,F=T.containerHeight;if(M<0||F<0)return null;xn(Pa(l)||Pa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,c),xn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Pa(l)?M:l,E=Pa(c)?F:c;r&&r>0&&(R?E=R/r:E&&(R=E*r),h&&E>h&&(E=h)),xn(R>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,E,l,c,f,m,r);var B=!Array.isArray(v)&&pn(v.type).endsWith("Chart");return q.Children.map(v,function(A){return q.isValidElement(A)?O.cloneElement(A,fc({width:R,height:E},B?{style:fc({height:"100%",width:"100%",maxHeight:E,maxWidth:R},A.props.style)}:{})):A})},[r,v,c,h,m,f,T,l]);return q.createElement("div",{id:b?"".concat(b):void 0,className:Te("recharts-responsive-container",N),style:fc(fc({},d),{},{width:l,height:c,minWidth:f,minHeight:m,maxHeight:h}),ref:p},k)}),m2=function(t){return null};m2.displayName="Cell";function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(r),!0).forEach(function(a){F9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yb(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function F9(e,t,r){return t=B9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B9(e){var t=q9(e,"string");return Wl(t)=="symbol"?t:t+""}function q9(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Wl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ss={widthCache:{},cacheCount:0},U9=2e3,W9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gb="recharts_measurement_span";function K9(e){var t=dp({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var cl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||yn.isSsr)return{width:0,height:0};var a=K9(r),s=JSON.stringify({text:t,copyStyle:a});if(ss.widthCache[s])return ss.widthCache[s];try{var i=document.getElementById(gb);i||(i=document.createElement("span"),i.setAttribute("id",gb),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=dp(dp({},W9),a);Object.assign(i.style,l),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return ss.widthCache[s]=c,++ss.cacheCount>U9&&(ss.cacheCount=0,ss.widthCache={}),c}catch{return{width:0,height:0}}},z9=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function Du(e,t){return Q9(e)||H9(e,t)||G9(e,t)||V9()}function V9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G9(e,t){if(e){if(typeof e=="string")return vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vb(e,t)}}function vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function H9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function Q9(e){if(Array.isArray(e))return e}function J9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bb(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Y9(a.key),a)}}function X9(e,t,r){return t&&bb(e.prototype,t),r&&bb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y9(e){var t=Z9(e,"string");return Kl(t)=="symbol"?t:t+""}function Z9(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Kl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,t8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},r8=Object.keys(f2),js="NaN";function n8(e,t){return e*f2[t]}var hc=function(){function e(t,r){J9(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!e8.test(r)&&(this.num=NaN,this.unit=""),r8.includes(r)&&(this.num=n8(t,r),this.unit="px")}return X9(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=t8.exec(r))!==null&&a!==void 0?a:[],i=Du(s,3),l=i[1],o=i[2];return new e(parseFloat(l),o??"")}}])}();function h2(e){if(e.includes(js))return js;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=jb.exec(t))!==null&&r!==void 0?r:[],s=Du(a,4),i=s[1],l=s[2],o=s[3],c=hc.parse(i??""),u=hc.parse(o??""),f=l==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return js;t=t.replace(jb,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,h=(m=Nb.exec(t))!==null&&m!==void 0?m:[],v=Du(h,4),j=v[1],y=v[2],b=v[3],N=hc.parse(j??""),S=hc.parse(b??""),x=y==="+"?N.add(S):N.subtract(S);if(x.isNaN())return js;t=t.replace(Nb,x.toString())}return t}var wb=/\(([^()]*)\)/;function a8(e){for(var t=e;t.includes("(");){var r=wb.exec(t),a=Du(r,2),s=a[1];t=t.replace(wb,h2(s))}return t}function s8(e){var t=e.replace(/\s+/g,"");return t=a8(t),t=h2(t),t}function i8(e){try{return s8(e)}catch{return js}}function pf(e){var t=i8(e.slice(5,-1));return t===js?"":t}var l8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],o8=["dx","dy","angle","className","breakAll"];function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mp.apply(this,arguments)}function Sb(e,t){if(e==null)return{};var r=c8(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function c8(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Cb(e,t){return f8(e)||m8(e,t)||d8(e,t)||u8()}function u8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8(e,t){if(e){if(typeof e=="string")return Ob(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ob(e,t)}}function Ob(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function m8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function f8(e){if(Array.isArray(e))return e}var p2=/[ \f\n\r\t\v\u2028\u2029]+/,x2=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];Se(r)||(a?i=r.toString().split(""):i=r.toString().split(p2));var l=i.map(function(c){return{word:c,width:cl(c,s).width}}),o=a?0:cl(" ",s).width;return{wordsWithComputedWidth:l,spaceWidth:o}}catch{return null}},h8=function(t,r,a,s,i){var l=t.maxLines,o=t.children,c=t.style,u=t.breakAll,f=ne(l),m=o,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(E,B){var A=B.word,I=B.width,$=E[E.length-1];if($&&(s==null||i||$.width+I+a<Number(s)))$.words.push(A),$.width+=I+a;else{var L={words:[A],width:I};E.push(L)}return E},[])},v=h(r),j=function(R){return R.reduce(function(E,B){return E.width>B.width?E:B})};if(!f)return v;for(var y="…",b=function(R){var E=m.slice(0,R),B=x2({breakAll:u,style:c,children:E+y}).wordsWithComputedWidth,A=h(B),I=A.length>l||j(A).width>Number(s);return[I,A]},N=0,S=m.length-1,x=0,d;N<=S&&x<=m.length-1;){var p=Math.floor((N+S)/2),g=p-1,w=b(g),C=Cb(w,2),T=C[0],P=C[1],D=b(p),k=Cb(D,1),M=k[0];if(!T&&!M&&(N=p+1),T&&M&&(S=p-1),!T&&M){d=P;break}x++}return d||v},kb=function(t){var r=Se(t)?[]:t.toString().split(p2);return[{words:r}]},p8=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,o=t.maxLines;if((r||a)&&!yn.isSsr){var c,u,f=x2({breakAll:l,children:s,style:i});if(f){var m=f.wordsWithComputedWidth,h=f.spaceWidth;c=m,u=h}else return kb(s);return h8({breakAll:l,children:s,maxLines:o,style:i},c,u,r,a)}return kb(s)},Pb="#808080",Eu=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.lineHeight,o=l===void 0?"1em":l,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,m=f===void 0?!1:f,h=t.textAnchor,v=h===void 0?"start":h,j=t.verticalAnchor,y=j===void 0?"end":j,b=t.fill,N=b===void 0?Pb:b,S=Sb(t,l8),x=O.useMemo(function(){return p8({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:m,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,m,S.style,S.width]),d=S.dx,p=S.dy,g=S.angle,w=S.className,C=S.breakAll,T=Sb(S,o8);if(!mt(a)||!mt(i))return null;var P=a+(ne(d)?d:0),D=i+(ne(p)?p:0),k;switch(y){case"start":k=pf("calc(".concat(u,")"));break;case"middle":k=pf("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:k=pf("calc(".concat(x.length-1," * -").concat(o,")"));break}var M=[];if(m){var F=x[0].width,R=S.width;M.push("scale(".concat((ne(R)?R/F:1)/F,")"))}return g&&M.push("rotate(".concat(g,", ").concat(P,", ").concat(D,")")),M.length&&(T.transform=M.join(" ")),q.createElement("text",mp({},ke(T,!0),{x:P,y:D,className:Te("recharts-text",w),textAnchor:v,fill:N.includes("url")?Pb:N}),x.map(function(E,B){var A=E.words.join(C?"":" ");return q.createElement("tspan",{x:P,dy:B===0?k:o,key:"".concat(A,"-").concat(B)},A)}))};function Zn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function x8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wy(e){let t,r,a;e.length!==2?(t=Zn,r=(o,c)=>Zn(e(o),c),a=(o,c)=>e(o)-c):(t=e===Zn||e===x8?e:y8,r=e,a=e);function s(o,c,u=0,f=o.length){if(u<f){if(t(c,c)!==0)return f;do{const m=u+f>>>1;r(o[m],c)<0?u=m+1:f=m}while(u<f)}return u}function i(o,c,u=0,f=o.length){if(u<f){if(t(c,c)!==0)return f;do{const m=u+f>>>1;r(o[m],c)<=0?u=m+1:f=m}while(u<f)}return u}function l(o,c,u=0,f=o.length){const m=s(o,c,u,f-1);return m>u&&a(o[m-1],c)>-a(o[m],c)?m-1:m}return{left:s,center:l,right:i}}function y8(){return 0}function y2(e){return e===null?NaN:+e}function*g8(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(a=+a)>=a&&(yield a)}}const v8=Wy(Zn),b8=v8.right;Wy(y2).center;const $o=b8;class Tb extends Map{constructor(t,r=w8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(Ab(this,t))}has(t){return super.has(Ab(this,t))}set(t,r){return super.set(j8(this,t),r)}delete(t){return super.delete(N8(this,t))}}function Ab({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function j8({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function N8({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function w8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function S8(e=Zn){if(e===Zn)return g2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function g2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const C8=Math.sqrt(50),O8=Math.sqrt(10),k8=Math.sqrt(2);function Mu(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),l=i>=C8?10:i>=O8?5:i>=k8?2:1;let o,c,u;return s<0?(u=Math.pow(10,-s)/l,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*l,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?Mu(e,t,r*2):[o,c,u]}function fp(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,l]=a?Mu(t,e,r):Mu(e,t,r);if(!(i>=s))return[];const o=i-s+1,c=new Array(o);if(a)if(l<0)for(let u=0;u<o;++u)c[u]=(i-u)/-l;else for(let u=0;u<o;++u)c[u]=(i-u)*l;else if(l<0)for(let u=0;u<o;++u)c[u]=(s+u)/-l;else for(let u=0;u<o;++u)c[u]=(s+u)*l;return c}function hp(e,t,r){return t=+t,e=+e,r=+r,Mu(e,t,r)[2]}function pp(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?hp(t,e,r):hp(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function Db(e,t){let r;if(t===void 0)for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function Eb(e,t){let r;if(t===void 0)for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function v2(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?g2:S8(s);a>r;){if(a-r>600){const c=a-r+1,u=t-r+1,f=Math.log(c),m=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*m*(c-m)/c)*(u-c/2<0?-1:1),v=Math.max(r,Math.floor(t-u*m/c+h)),j=Math.min(a,Math.floor(t+(c-u)*m/c+h));v2(e,t,v,j,s)}const i=e[t];let l=r,o=a;for(Li(e,r,t),s(e[a],i)>0&&Li(e,r,a);l<o;){for(Li(e,l,o),++l,--o;s(e[l],i)<0;)++l;for(;s(e[o],i)>0;)--o}s(e[r],i)===0?Li(e,r,o):(++o,Li(e,o,a)),o<=t&&(r=o+1),t<=o&&(a=o-1)}return e}function Li(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function P8(e,t,r){if(e=Float64Array.from(g8(e,r)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return Eb(e);if(t>=1)return Db(e);var a,s=(a-1)*t,i=Math.floor(s),l=Db(v2(e,i).subarray(0,i+1)),o=Eb(e.subarray(i+1));return l+(o-l)*(s-i)}}function T8(e,t,r=y2){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(s-i)}}function A8(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function kr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xp=Symbol("implicit");function Ky(){var e=new Tb,t=[],r=[],a=xp;function s(i){let l=e.get(i);if(l===void 0){if(a!==xp)return a;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Tb;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Ky(t,r).unknown(a)},kr.apply(s,arguments),s}function zl(){var e=Ky().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,l,o=!1,c=0,u=0,f=.5;delete e.unknown;function m(){var h=t().length,v=s<a,j=v?s:a,y=v?a:s;i=(y-j)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),j+=(y-j-i*(h-c))*f,l=i*(1-c),o&&(j=Math.round(j),l=Math.round(l));var b=A8(h).map(function(N){return j+i*N});return r(v?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),m()):t()},e.range=function(h){return arguments.length?([a,s]=h,a=+a,s=+s,m()):[a,s]},e.rangeRound=function(h){return[a,s]=h,a=+a,s=+s,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,m()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),m()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),m()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,m()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),m()):f},e.copy=function(){return zl(t(),[a,s]).round(o).paddingInner(c).paddingOuter(u).align(f)},kr.apply(m(),arguments)}function b2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return b2(t())},e}function ul(){return b2(zl.apply(null,arguments).paddingInner(1))}function zy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function j2(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function _o(){}var Vl=.7,Iu=1/Vl,Es="\\s*([+-]?\\d+)\\s*",Gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D8=/^#([0-9a-f]{3,8})$/,E8=new RegExp(`^rgb\\(${Es},${Es},${Es}\\)$`),M8=new RegExp(`^rgb\\(${Xr},${Xr},${Xr}\\)$`),I8=new RegExp(`^rgba\\(${Es},${Es},${Es},${Gl}\\)$`),$8=new RegExp(`^rgba\\(${Xr},${Xr},${Xr},${Gl}\\)$`),_8=new RegExp(`^hsl\\(${Gl},${Xr},${Xr}\\)$`),R8=new RegExp(`^hsla\\(${Gl},${Xr},${Xr},${Gl}\\)$`),Mb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zy(_o,Hl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ib,formatHex:Ib,formatHex8:L8,formatHsl:F8,formatRgb:$b,toString:$b});function Ib(){return this.rgb().formatHex()}function L8(){return this.rgb().formatHex8()}function F8(){return N2(this).formatHsl()}function $b(){return this.rgb().formatRgb()}function Hl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=D8.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?_b(t):r===3?new Vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?pc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?pc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=E8.exec(e))?new Vt(t[1],t[2],t[3],1):(t=M8.exec(e))?new Vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=I8.exec(e))?pc(t[1],t[2],t[3],t[4]):(t=$8.exec(e))?pc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_8.exec(e))?Fb(t[1],t[2]/100,t[3]/100,1):(t=R8.exec(e))?Fb(t[1],t[2]/100,t[3]/100,t[4]):Mb.hasOwnProperty(e)?_b(Mb[e]):e==="transparent"?new Vt(NaN,NaN,NaN,0):null}function _b(e){return new Vt(e>>16&255,e>>8&255,e&255,1)}function pc(e,t,r,a){return a<=0&&(e=t=r=NaN),new Vt(e,t,r,a)}function B8(e){return e instanceof _o||(e=Hl(e)),e?(e=e.rgb(),new Vt(e.r,e.g,e.b,e.opacity)):new Vt}function yp(e,t,r,a){return arguments.length===1?B8(e):new Vt(e,t,r,a??1)}function Vt(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}zy(Vt,yp,j2(_o,{brighter(e){return e=e==null?Iu:Math.pow(Iu,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vl:Math.pow(Vl,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vt($a(this.r),$a(this.g),$a(this.b),$u(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rb,formatHex:Rb,formatHex8:q8,formatRgb:Lb,toString:Lb}));function Rb(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}`}function q8(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}${Ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lb(){const e=$u(this.opacity);return`${e===1?"rgb(":"rgba("}${$a(this.r)}, ${$a(this.g)}, ${$a(this.b)}${e===1?")":`, ${e})`}`}function $u(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $a(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ta(e){return e=$a(e),(e<16?"0":"")+e.toString(16)}function Fb(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Lr(e,t,r,a)}function N2(e){if(e instanceof Lr)return new Lr(e.h,e.s,e.l,e.opacity);if(e instanceof _o||(e=Hl(e)),!e)return new Lr;if(e instanceof Lr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),l=NaN,o=i-s,c=(i+s)/2;return o?(t===i?l=(r-a)/o+(r<a)*6:r===i?l=(a-t)/o+2:l=(t-r)/o+4,o/=c<.5?i+s:2-i-s,l*=60):o=c>0&&c<1?0:l,new Lr(l,o,c,e.opacity)}function U8(e,t,r,a){return arguments.length===1?N2(e):new Lr(e,t,r,a??1)}function Lr(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}zy(Lr,U8,j2(_o,{brighter(e){return e=e==null?Iu:Math.pow(Iu,e),new Lr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vl:Math.pow(Vl,e),new Lr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Vt(xf(e>=240?e-240:e+120,s,a),xf(e,s,a),xf(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Lr(Bb(this.h),xc(this.s),xc(this.l),$u(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$u(this.opacity);return`${e===1?"hsl(":"hsla("}${Bb(this.h)}, ${xc(this.s)*100}%, ${xc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Bb(e){return e=(e||0)%360,e<0?e+360:e}function xc(e){return Math.max(0,Math.min(1,e||0))}function xf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Vy=e=>()=>e;function W8(e,t){return function(r){return e+r*t}}function K8(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function z8(e){return(e=+e)==1?w2:function(t,r){return r-t?K8(t,r,e):Vy(isNaN(t)?r:t)}}function w2(e,t){var r=t-e;return r?W8(e,r):Vy(isNaN(e)?t:e)}const qb=function e(t){var r=z8(t);function a(s,i){var l=r((s=yp(s)).r,(i=yp(i)).r),o=r(s.g,i.g),c=r(s.b,i.b),u=w2(s.opacity,i.opacity);return function(f){return s.r=l(f),s.g=o(f),s.b=c(f),s.opacity=u(f),s+""}}return a.gamma=e,a}(1);function V8(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function G8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function H8(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),l;for(l=0;l<a;++l)s[l]=Si(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<a;++l)i[l]=s[l](o);return i}}function Q8(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function _u(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function J8(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Si(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var gp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yf=new RegExp(gp.source,"g");function X8(e){return function(){return e}}function Y8(e){return function(t){return e(t)+""}}function Z8(e,t){var r=gp.lastIndex=yf.lastIndex=0,a,s,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(a=gp.exec(e))&&(s=yf.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(a=a[0])===(s=s[0])?o[l]?o[l]+=s:o[++l]=s:(o[++l]=null,c.push({i:l,x:_u(a,s)})),r=yf.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?Y8(c[0].x):X8(t):(t=c.length,function(u){for(var f=0,m;f<t;++f)o[(m=c[f]).i]=m.x(u);return o.join("")})}function Si(e,t){var r=typeof t,a;return t==null||r==="boolean"?Vy(t):(r==="number"?_u:r==="string"?(a=Hl(t))?(t=a,qb):Z8:t instanceof Hl?qb:t instanceof Date?Q8:G8(t)?V8:Array.isArray(t)?H8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?J8:_u)(e,t)}function Gy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function eq(e,t){t===void 0&&(t=e,e=Si);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(l){var o=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[o](l-o)}}function tq(e){return function(){return e}}function Ru(e){return+e}var Ub=[0,1];function Lt(e){return e}function vp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:tq(isNaN(t)?NaN:.5)}function rq(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function nq(e,t,r){var a=e[0],s=e[1],i=t[0],l=t[1];return s<a?(a=vp(s,a),i=r(l,i)):(a=vp(a,s),i=r(i,l)),function(o){return i(a(o))}}function aq(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=vp(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var c=$o(e,o,1,a)-1;return i[c](s[c](o))}}function Ro(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function am(){var e=Ub,t=Ub,r=Si,a,s,i,l=Lt,o,c,u;function f(){var h=Math.min(e.length,t.length);return l!==Lt&&(l=rq(e[0],e[h-1])),o=h>2?aq:nq,c=u=null,m}function m(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(a),t,r)))(a(l(h)))}return m.invert=function(h){return l(s((u||(u=o(t,e.map(a),_u)))(h)))},m.domain=function(h){return arguments.length?(e=Array.from(h,Ru),f()):e.slice()},m.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},m.rangeRound=function(h){return t=Array.from(h),r=Gy,f()},m.clamp=function(h){return arguments.length?(l=h?!0:Lt,f()):l!==Lt},m.interpolate=function(h){return arguments.length?(r=h,f()):r},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,v){return a=h,s=v,f()}}function Hy(){return am()(Lt,Lt)}function sq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Gs(e){return e=Lu(Math.abs(e)),e?e[1]:NaN}function iq(e,t){return function(r,a){for(var s=r.length,i=[],l=0,o=e[0],c=0;s>0&&o>0&&(c+o+1>a&&(o=Math.max(1,a-c)),i.push(r.substring(s-=o,s+o)),!((c+=o+1)>a));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function lq(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var oq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ql(e){if(!(t=oq.exec(e)))throw new Error("invalid format: "+e);var t;return new Qy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ql.prototype=Qy.prototype;function Qy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cq(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var S2;function uq(e,t){var r=Lu(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(S2=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Lu(e,Math.max(0,t+i-1))[0]}function Wb(e,t){var r=Lu(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const Kb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Wb(e*100,t),r:Wb,s:uq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zb(e){return e}var Vb=Array.prototype.map,Gb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function dq(e){var t=e.grouping===void 0||e.thousands===void 0?zb:iq(Vb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?zb:lq(Vb.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=Ql(m);var h=m.fill,v=m.align,j=m.sign,y=m.symbol,b=m.zero,N=m.width,S=m.comma,x=m.precision,d=m.trim,p=m.type;p==="n"?(S=!0,p="g"):Kb[p]||(x===void 0&&(x=12),d=!0,p="g"),(b||h==="0"&&v==="=")&&(b=!0,h="0",v="=");var g=y==="$"?r:y==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",w=y==="$"?a:/[%p]/.test(p)?l:"",C=Kb[p],T=/[defgprs%]/.test(p);x=x===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function P(D){var k=g,M=w,F,R,E;if(p==="c")M=C(D)+M,D="";else{D=+D;var B=D<0||1/D<0;if(D=isNaN(D)?c:C(Math.abs(D),x),d&&(D=cq(D)),B&&+D==0&&j!=="+"&&(B=!1),k=(B?j==="("?j:o:j==="-"||j==="("?"":j)+k,M=(p==="s"?Gb[8+S2/3]:"")+M+(B&&j==="("?")":""),T){for(F=-1,R=D.length;++F<R;)if(E=D.charCodeAt(F),48>E||E>57){M=(E===46?s+D.slice(F+1):D.slice(F))+M,D=D.slice(0,F);break}}}S&&!b&&(D=t(D,1/0));var A=k.length+D.length+M.length,I=A<N?new Array(N-A+1).join(h):"";switch(S&&b&&(D=t(I+D,I.length?N-M.length:1/0),I=""),v){case"<":D=k+D+M+I;break;case"=":D=k+I+D+M;break;case"^":D=I.slice(0,A=I.length>>1)+k+D+M+I.slice(A);break;default:D=I+k+D+M;break}return i(D)}return P.toString=function(){return m+""},P}function f(m,h){var v=u((m=Ql(m),m.type="f",m)),j=Math.max(-8,Math.min(8,Math.floor(Gs(h)/3)))*3,y=Math.pow(10,-j),b=Gb[8+j/3];return function(N){return v(y*N)+b}}return{format:u,formatPrefix:f}}var yc,Jy,C2;mq({thousands:",",grouping:[3],currency:["$",""]});function mq(e){return yc=dq(e),Jy=yc.format,C2=yc.formatPrefix,yc}function fq(e){return Math.max(0,-Gs(Math.abs(e)))}function hq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gs(t)/3)))*3-Gs(Math.abs(e)))}function pq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gs(t)-Gs(e))+1}function O2(e,t,r,a){var s=pp(e,t,r),i;switch(a=Ql(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=hq(s,l))&&(a.precision=i),C2(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=pq(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=fq(s))&&(a.precision=i-(a.type==="%")*2);break}}return Jy(a)}function da(e){var t=e.domain;return e.ticks=function(r){var a=t();return fp(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return O2(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,l=a[s],o=a[i],c,u,f=10;for(o<l&&(u=l,l=o,o=u,u=s,s=i,i=u);f-- >0;){if(u=hp(l,o,r),u===c)return a[s]=l,a[i]=o,t(a);if(u>0)l=Math.floor(l/u)*u,o=Math.ceil(o/u)*u;else if(u<0)l=Math.ceil(l*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function Fu(){var e=Hy();return e.copy=function(){return Ro(e,Fu())},kr.apply(e,arguments),da(e)}function k2(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Ru),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return k2(e).unknown(t)},e=arguments.length?Array.from(e,Ru):[0,1],da(r)}function P2(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],l;return i<s&&(l=r,r=a,a=l,l=s,s=i,i=l),e[r]=t.floor(s),e[a]=t.ceil(i),e}function Hb(e){return Math.log(e)}function Qb(e){return Math.exp(e)}function xq(e){return-Math.log(-e)}function yq(e){return-Math.exp(-e)}function gq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vq(e){return e===10?gq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Jb(e){return(t,r)=>-e(-t,r)}function Xy(e){const t=e(Hb,Qb),r=t.domain;let a=10,s,i;function l(){return s=bq(a),i=vq(a),r()[0]<0?(s=Jb(s),i=Jb(i),e(xq,yq)):e(Hb,Qb),t}return t.base=function(o){return arguments.length?(a=+o,l()):a},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const c=r();let u=c[0],f=c[c.length-1];const m=f<u;m&&([u,f]=[f,u]);let h=s(u),v=s(f),j,y;const b=o==null?10:+o;let N=[];if(!(a%1)&&v-h<b){if(h=Math.floor(h),v=Math.ceil(v),u>0){for(;h<=v;++h)for(j=1;j<a;++j)if(y=h<0?j/i(-h):j*i(h),!(y<u)){if(y>f)break;N.push(y)}}else for(;h<=v;++h)for(j=a-1;j>=1;--j)if(y=h>0?j/i(-h):j*i(h),!(y<u)){if(y>f)break;N.push(y)}N.length*2<b&&(N=fp(u,f,b))}else N=fp(h,v,Math.min(v-h,b)).map(i);return m?N.reverse():N},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=Ql(c)).precision==null&&(c.trim=!0),c=Jy(c)),o===1/0)return c;const u=Math.max(1,a*o/t.ticks().length);return f=>{let m=f/i(Math.round(s(f)));return m*a<a-.5&&(m*=a),m<=u?c(f):""}},t.nice=()=>r(P2(r(),{floor:o=>i(Math.floor(s(o))),ceil:o=>i(Math.ceil(s(o)))})),t}function T2(){const e=Xy(am()).domain([1,10]);return e.copy=()=>Ro(e,T2()).base(e.base()),kr.apply(e,arguments),e}function Xb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Yb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yy(e){var t=1,r=e(Xb(t),Yb(t));return r.constant=function(a){return arguments.length?e(Xb(t=+a),Yb(t)):t},da(r)}function A2(){var e=Yy(am());return e.copy=function(){return Ro(e,A2()).constant(e.constant())},kr.apply(e,arguments)}function Zb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nq(e){return e<0?-e*e:e*e}function Zy(e){var t=e(Lt,Lt),r=1;function a(){return r===1?e(Lt,Lt):r===.5?e(jq,Nq):e(Zb(r),Zb(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},da(t)}function eg(){var e=Zy(am());return e.copy=function(){return Ro(e,eg()).exponent(e.exponent())},kr.apply(e,arguments),e}function wq(){return eg.apply(null,arguments).exponent(.5)}function ej(e){return Math.sign(e)*e*e}function Sq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function D2(){var e=Hy(),t=[0,1],r=!1,a;function s(i){var l=Sq(e(i));return isNaN(l)?a:r?Math.round(l):l}return s.invert=function(i){return e.invert(ej(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ru)).map(ej)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return D2(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},kr.apply(s,arguments),da(s)}function E2(){var e=[],t=[],r=[],a;function s(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=T8(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?a:t[$o(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Zn),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return E2().domain(e).range(t).unknown(a)},kr.apply(i,arguments)}function M2(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function l(c){return c!=null&&c<=c?s[$o(a,c,0,r)]:i}function o(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,o()):s.slice()},l.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,a[0]]:u>=r?[a[r-1],t]:[a[u-1],a[u]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return a.slice()},l.copy=function(){return M2().domain([e,t]).range(s).unknown(i)},kr.apply(da(l),arguments)}function I2(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[$o(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return I2().domain(e).range(t).unknown(r)},kr.apply(s,arguments)}const gf=new Date,vf=new Date;function ft(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),o=s.ceil(i);return i-l<o-i?l:o},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,o)=>{const c=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<l);return c},s.filter=i=>ft(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(s.count=(i,l)=>(gf.setTime(+i),vf.setTime(+l),e(gf),e(vf),Math.floor(r(gf,vf))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?l=>a(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const Bu=ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Bu);Bu.range;const un=1e3,gr=un*60,dn=gr*60,Sn=dn*24,tg=Sn*7,tj=Sn*30,bf=Sn*365,Aa=ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCSeconds());Aa.range;const rg=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*un)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getMinutes());rg.range;const ng=ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getUTCMinutes());ng.range;const ag=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*un-e.getMinutes()*gr)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getHours());ag.range;const sg=ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getUTCHours());sg.range;const Lo=ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gr)/Sn,e=>e.getDate()-1);Lo.range;const sm=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sn,e=>e.getUTCDate()-1);sm.range;const $2=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sn,e=>Math.floor(e/Sn));$2.range;function es(e){return ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gr)/tg)}const im=es(0),qu=es(1),Cq=es(2),Oq=es(3),Hs=es(4),kq=es(5),Pq=es(6);im.range;qu.range;Cq.range;Oq.range;Hs.range;kq.range;Pq.range;function ts(e){return ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/tg)}const lm=ts(0),Uu=ts(1),Tq=ts(2),Aq=ts(3),Qs=ts(4),Dq=ts(5),Eq=ts(6);lm.range;Uu.range;Tq.range;Aq.range;Qs.range;Dq.range;Eq.range;const ig=ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ig.range;const lg=ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lg.range;const Cn=ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Cn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Cn.range;const On=ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());On.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});On.range;function _2(e,t,r,a,s,i){const l=[[Aa,1,un],[Aa,5,5*un],[Aa,15,15*un],[Aa,30,30*un],[i,1,gr],[i,5,5*gr],[i,15,15*gr],[i,30,30*gr],[s,1,dn],[s,3,3*dn],[s,6,6*dn],[s,12,12*dn],[a,1,Sn],[a,2,2*Sn],[r,1,tg],[t,1,tj],[t,3,3*tj],[e,1,bf]];function o(u,f,m){const h=f<u;h&&([u,f]=[f,u]);const v=m&&typeof m.range=="function"?m:c(u,f,m),j=v?v.range(u,+f+1):[];return h?j.reverse():j}function c(u,f,m){const h=Math.abs(f-u)/m,v=Wy(([,,b])=>b).right(l,h);if(v===l.length)return e.every(pp(u/bf,f/bf,m));if(v===0)return Bu.every(Math.max(pp(u,f,m),1));const[j,y]=l[h/l[v-1][2]<l[v][2]/h?v-1:v];return j.every(y)}return[o,c]}const[Mq,Iq]=_2(On,lg,lm,$2,sg,ng),[$q,_q]=_2(Cn,ig,im,Lo,ag,rg);function jf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fi(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Rq(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,u=Bi(s),f=qi(s),m=Bi(i),h=qi(i),v=Bi(l),j=qi(l),y=Bi(o),b=qi(o),N=Bi(c),S=qi(c),x={a:B,A,b:I,B:$,c:null,d:lj,e:lj,f:iU,g:xU,G:gU,H:nU,I:aU,j:sU,L:R2,m:lU,M:oU,p:L,q:_,Q:uj,s:dj,S:cU,u:uU,U:dU,V:mU,w:fU,W:hU,x:null,X:null,y:pU,Y:yU,Z:vU,"%":cj},d={a:G,A:ee,b:ue,B:X,c:null,d:oj,e:oj,f:wU,g:MU,G:$U,H:bU,I:jU,j:NU,L:F2,m:SU,M:CU,p:ae,q:Ne,Q:uj,s:dj,S:OU,u:kU,U:PU,V:TU,w:AU,W:DU,x:null,X:null,y:EU,Y:IU,Z:_U,"%":cj},p={a:P,A:D,b:k,B:M,c:F,d:sj,e:sj,f:Zq,g:aj,G:nj,H:ij,I:ij,j:Qq,L:Yq,m:Hq,M:Jq,p:T,q:Gq,Q:tU,s:rU,S:Xq,u:Uq,U:Wq,V:Kq,w:qq,W:zq,x:R,X:E,y:aj,Y:nj,Z:Vq,"%":eU};x.x=g(r,x),x.X=g(a,x),x.c=g(t,x),d.x=g(r,d),d.X=g(a,d),d.c=g(t,d);function g(W,ie){return function(de){var H=[],ye=-1,me=0,z=W.length,re,Z,U;for(de instanceof Date||(de=new Date(+de));++ye<z;)W.charCodeAt(ye)===37&&(H.push(W.slice(me,ye)),(Z=rj[re=W.charAt(++ye)])!=null?re=W.charAt(++ye):Z=re==="e"?" ":"0",(U=ie[re])&&(re=U(de,Z)),H.push(re),me=ye+1);return H.push(W.slice(me,ye)),H.join("")}}function w(W,ie){return function(de){var H=Fi(1900,void 0,1),ye=C(H,W,de+="",0),me,z;if(ye!=de.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ie&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(me=Nf(Fi(H.y,0,1)),z=me.getUTCDay(),me=z>4||z===0?Uu.ceil(me):Uu(me),me=sm.offset(me,(H.V-1)*7),H.y=me.getUTCFullYear(),H.m=me.getUTCMonth(),H.d=me.getUTCDate()+(H.w+6)%7):(me=jf(Fi(H.y,0,1)),z=me.getDay(),me=z>4||z===0?qu.ceil(me):qu(me),me=Lo.offset(me,(H.V-1)*7),H.y=me.getFullYear(),H.m=me.getMonth(),H.d=me.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),z="Z"in H?Nf(Fi(H.y,0,1)).getUTCDay():jf(Fi(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(z+5)%7:H.w+H.U*7-(z+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Nf(H)):jf(H)}}function C(W,ie,de,H){for(var ye=0,me=ie.length,z=de.length,re,Z;ye<me;){if(H>=z)return-1;if(re=ie.charCodeAt(ye++),re===37){if(re=ie.charAt(ye++),Z=p[re in rj?ie.charAt(ye++):re],!Z||(H=Z(W,de,H))<0)return-1}else if(re!=de.charCodeAt(H++))return-1}return H}function T(W,ie,de){var H=u.exec(ie.slice(de));return H?(W.p=f.get(H[0].toLowerCase()),de+H[0].length):-1}function P(W,ie,de){var H=v.exec(ie.slice(de));return H?(W.w=j.get(H[0].toLowerCase()),de+H[0].length):-1}function D(W,ie,de){var H=m.exec(ie.slice(de));return H?(W.w=h.get(H[0].toLowerCase()),de+H[0].length):-1}function k(W,ie,de){var H=N.exec(ie.slice(de));return H?(W.m=S.get(H[0].toLowerCase()),de+H[0].length):-1}function M(W,ie,de){var H=y.exec(ie.slice(de));return H?(W.m=b.get(H[0].toLowerCase()),de+H[0].length):-1}function F(W,ie,de){return C(W,t,ie,de)}function R(W,ie,de){return C(W,r,ie,de)}function E(W,ie,de){return C(W,a,ie,de)}function B(W){return l[W.getDay()]}function A(W){return i[W.getDay()]}function I(W){return c[W.getMonth()]}function $(W){return o[W.getMonth()]}function L(W){return s[+(W.getHours()>=12)]}function _(W){return 1+~~(W.getMonth()/3)}function G(W){return l[W.getUTCDay()]}function ee(W){return i[W.getUTCDay()]}function ue(W){return c[W.getUTCMonth()]}function X(W){return o[W.getUTCMonth()]}function ae(W){return s[+(W.getUTCHours()>=12)]}function Ne(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var ie=g(W+="",x);return ie.toString=function(){return W},ie},parse:function(W){var ie=w(W+="",!1);return ie.toString=function(){return W},ie},utcFormat:function(W){var ie=g(W+="",d);return ie.toString=function(){return W},ie},utcParse:function(W){var ie=w(W+="",!0);return ie.toString=function(){return W},ie}}}var rj={"-":"",_:" ",0:"0"},vt=/^\s*\d+/,Lq=/^%/,Fq=/[\\^$*+?|[\]().{}]/g;function De(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function Bq(e){return e.replace(Fq,"\\$&")}function Bi(e){return new RegExp("^(?:"+e.map(Bq).join("|")+")","i")}function qi(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qq(e,t,r){var a=vt.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function Uq(e,t,r){var a=vt.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function Wq(e,t,r){var a=vt.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Kq(e,t,r){var a=vt.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function zq(e,t,r){var a=vt.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function nj(e,t,r){var a=vt.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function aj(e,t,r){var a=vt.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function Vq(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function Gq(e,t,r){var a=vt.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function Hq(e,t,r){var a=vt.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function sj(e,t,r){var a=vt.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function Qq(e,t,r){var a=vt.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function ij(e,t,r){var a=vt.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function Jq(e,t,r){var a=vt.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function Xq(e,t,r){var a=vt.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function Yq(e,t,r){var a=vt.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function Zq(e,t,r){var a=vt.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function eU(e,t,r){var a=Lq.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function tU(e,t,r){var a=vt.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function rU(e,t,r){var a=vt.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function lj(e,t){return De(e.getDate(),t,2)}function nU(e,t){return De(e.getHours(),t,2)}function aU(e,t){return De(e.getHours()%12||12,t,2)}function sU(e,t){return De(1+Lo.count(Cn(e),e),t,3)}function R2(e,t){return De(e.getMilliseconds(),t,3)}function iU(e,t){return R2(e,t)+"000"}function lU(e,t){return De(e.getMonth()+1,t,2)}function oU(e,t){return De(e.getMinutes(),t,2)}function cU(e,t){return De(e.getSeconds(),t,2)}function uU(e){var t=e.getDay();return t===0?7:t}function dU(e,t){return De(im.count(Cn(e)-1,e),t,2)}function L2(e){var t=e.getDay();return t>=4||t===0?Hs(e):Hs.ceil(e)}function mU(e,t){return e=L2(e),De(Hs.count(Cn(e),e)+(Cn(e).getDay()===4),t,2)}function fU(e){return e.getDay()}function hU(e,t){return De(qu.count(Cn(e)-1,e),t,2)}function pU(e,t){return De(e.getFullYear()%100,t,2)}function xU(e,t){return e=L2(e),De(e.getFullYear()%100,t,2)}function yU(e,t){return De(e.getFullYear()%1e4,t,4)}function gU(e,t){var r=e.getDay();return e=r>=4||r===0?Hs(e):Hs.ceil(e),De(e.getFullYear()%1e4,t,4)}function vU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function oj(e,t){return De(e.getUTCDate(),t,2)}function bU(e,t){return De(e.getUTCHours(),t,2)}function jU(e,t){return De(e.getUTCHours()%12||12,t,2)}function NU(e,t){return De(1+sm.count(On(e),e),t,3)}function F2(e,t){return De(e.getUTCMilliseconds(),t,3)}function wU(e,t){return F2(e,t)+"000"}function SU(e,t){return De(e.getUTCMonth()+1,t,2)}function CU(e,t){return De(e.getUTCMinutes(),t,2)}function OU(e,t){return De(e.getUTCSeconds(),t,2)}function kU(e){var t=e.getUTCDay();return t===0?7:t}function PU(e,t){return De(lm.count(On(e)-1,e),t,2)}function B2(e){var t=e.getUTCDay();return t>=4||t===0?Qs(e):Qs.ceil(e)}function TU(e,t){return e=B2(e),De(Qs.count(On(e),e)+(On(e).getUTCDay()===4),t,2)}function AU(e){return e.getUTCDay()}function DU(e,t){return De(Uu.count(On(e)-1,e),t,2)}function EU(e,t){return De(e.getUTCFullYear()%100,t,2)}function MU(e,t){return e=B2(e),De(e.getUTCFullYear()%100,t,2)}function IU(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function $U(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Qs(e):Qs.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function _U(){return"+0000"}function cj(){return"%"}function uj(e){return+e}function dj(e){return Math.floor(+e/1e3)}var is,q2,U2;RU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RU(e){return is=Rq(e),q2=is.format,is.parse,U2=is.utcFormat,is.utcParse,is}function LU(e){return new Date(e)}function FU(e){return e instanceof Date?+e:+new Date(+e)}function og(e,t,r,a,s,i,l,o,c,u){var f=Hy(),m=f.invert,h=f.domain,v=u(".%L"),j=u(":%S"),y=u("%I:%M"),b=u("%I %p"),N=u("%a %d"),S=u("%b %d"),x=u("%B"),d=u("%Y");function p(g){return(c(g)<g?v:o(g)<g?j:l(g)<g?y:i(g)<g?b:a(g)<g?s(g)<g?N:S:r(g)<g?x:d)(g)}return f.invert=function(g){return new Date(m(g))},f.domain=function(g){return arguments.length?h(Array.from(g,FU)):h().map(LU)},f.ticks=function(g){var w=h();return e(w[0],w[w.length-1],g??10)},f.tickFormat=function(g,w){return w==null?p:u(w)},f.nice=function(g){var w=h();return(!g||typeof g.range!="function")&&(g=t(w[0],w[w.length-1],g??10)),g?h(P2(w,g)):f},f.copy=function(){return Ro(f,og(e,t,r,a,s,i,l,o,c,u))},f}function BU(){return kr.apply(og($q,_q,Cn,ig,im,Lo,ag,rg,Aa,q2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qU(){return kr.apply(og(Mq,Iq,On,lg,lm,sm,sg,ng,Aa,U2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function om(){var e=0,t=1,r,a,s,i,l=Lt,o=!1,c;function u(m){return m==null||isNaN(m=+m)?c:l(s===0?.5:(m=(i(m)-r)*s,o?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),u):[e,t]},u.clamp=function(m){return arguments.length?(o=!!m,u):o},u.interpolator=function(m){return arguments.length?(l=m,u):l};function f(m){return function(h){var v,j;return arguments.length?([v,j]=h,l=m(v,j),u):[l(0),l(1)]}}return u.range=f(Si),u.rangeRound=f(Gy),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return i=m,r=m(e),a=m(t),s=r===a?0:1/(a-r),u}}function ma(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function W2(){var e=da(om()(Lt));return e.copy=function(){return ma(e,W2())},Dn.apply(e,arguments)}function K2(){var e=Xy(om()).domain([1,10]);return e.copy=function(){return ma(e,K2()).base(e.base())},Dn.apply(e,arguments)}function z2(){var e=Yy(om());return e.copy=function(){return ma(e,z2()).constant(e.constant())},Dn.apply(e,arguments)}function cg(){var e=Zy(om());return e.copy=function(){return ma(e,cg()).exponent(e.exponent())},Dn.apply(e,arguments)}function UU(){return cg.apply(null,arguments).exponent(.5)}function V2(){var e=[],t=Lt;function r(a){if(a!=null&&!isNaN(a=+a))return t(($o(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Zn),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>P8(e,i/a))},r.copy=function(){return V2(t).domain(e)},Dn.apply(r,arguments)}function cm(){var e=0,t=.5,r=1,a=1,s,i,l,o,c,u=Lt,f,m=!1,h;function v(y){return isNaN(y=+y)?h:(y=.5+((y=+f(y))-i)*(a*y<a*i?o:c),u(m?Math.max(0,Math.min(1,y)):y))}v.domain=function(y){return arguments.length?([e,t,r]=y,s=f(e=+e),i=f(t=+t),l=f(r=+r),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),a=i<s?-1:1,v):[e,t,r]},v.clamp=function(y){return arguments.length?(m=!!y,v):m},v.interpolator=function(y){return arguments.length?(u=y,v):u};function j(y){return function(b){var N,S,x;return arguments.length?([N,S,x]=b,u=eq(y,[N,S,x]),v):[u(0),u(.5),u(1)]}}return v.range=j(Si),v.rangeRound=j(Gy),v.unknown=function(y){return arguments.length?(h=y,v):h},function(y){return f=y,s=y(e),i=y(t),l=y(r),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),a=i<s?-1:1,v}}function G2(){var e=da(cm()(Lt));return e.copy=function(){return ma(e,G2())},Dn.apply(e,arguments)}function H2(){var e=Xy(cm()).domain([.1,1,10]);return e.copy=function(){return ma(e,H2()).base(e.base())},Dn.apply(e,arguments)}function Q2(){var e=Yy(cm());return e.copy=function(){return ma(e,Q2()).constant(e.constant())},Dn.apply(e,arguments)}function ug(){var e=Zy(cm());return e.copy=function(){return ma(e,ug()).exponent(e.exponent())},Dn.apply(e,arguments)}function WU(){return ug.apply(null,arguments).exponent(.5)}const mj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zl,scaleDiverging:G2,scaleDivergingLog:H2,scaleDivergingPow:ug,scaleDivergingSqrt:WU,scaleDivergingSymlog:Q2,scaleIdentity:k2,scaleImplicit:xp,scaleLinear:Fu,scaleLog:T2,scaleOrdinal:Ky,scalePoint:ul,scalePow:eg,scaleQuantile:E2,scaleQuantize:M2,scaleRadial:D2,scaleSequential:W2,scaleSequentialLog:K2,scaleSequentialPow:cg,scaleSequentialQuantile:V2,scaleSequentialSqrt:UU,scaleSequentialSymlog:z2,scaleSqrt:wq,scaleSymlog:A2,scaleThreshold:I2,scaleTime:BU,scaleUtc:qU,tickFormat:O2},Symbol.toStringTag,{value:"Module"}));var KU=xi;function zU(e,t,r){for(var a=-1,s=e.length;++a<s;){var i=e[a],l=t(i);if(l!=null&&(o===void 0?l===l&&!KU(l):r(l,o)))var o=l,c=i}return c}var J2=zU;function VU(e,t){return e>t}var GU=VU,HU=J2,QU=GU,JU=wi;function XU(e){return e&&e.length?HU(e,JU,QU):void 0}var YU=XU;const um=Fe(YU);function ZU(e,t){return e<t}var eW=ZU,tW=J2,rW=eW,nW=wi;function aW(e){return e&&e.length?tW(e,nW,rW):void 0}var sW=aW;const dm=Fe(sW);var iW=Sy,lW=ua,oW=a2,cW=Jt;function uW(e,t){var r=cW(e)?iW:oW;return r(e,lW(t))}var dW=uW,mW=r2,fW=dW;function hW(e,t){return mW(fW(e,t),1)}var pW=hW;const xW=Fe(pW);var yW=Fy;function gW(e,t){return yW(e,t)}var vW=gW;const mm=Fe(vW);var Ci=1e9,bW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mg,Qe=!0,Sr="[DecimalError] ",_a=Sr+"Invalid argument: ",dg=Sr+"Exponent out of range: ",Oi=Math.floor,Sa=Math.pow,jW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rr,xt=1e7,Ve=7,X2=9007199254740991,Wu=Oi(X2/Ve),ce={};ce.absoluteValue=ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ce.comparedTo=ce.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};ce.decimalPlaces=ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ve;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ce.dividedBy=ce.div=function(e){return gn(this,new this.constructor(e))};ce.dividedToIntegerBy=ce.idiv=function(e){var t=this,r=t.constructor;return Le(gn(t,new r(e),0,1),r.precision)};ce.equals=ce.eq=function(e){return!this.cmp(e)};ce.exponent=function(){return it(this)};ce.greaterThan=ce.gt=function(e){return this.cmp(e)>0};ce.greaterThanOrEqualTo=ce.gte=function(e){return this.cmp(e)>=0};ce.isInteger=ce.isint=function(){return this.e>this.d.length-2};ce.isNegative=ce.isneg=function(){return this.s<0};ce.isPositive=ce.ispos=function(){return this.s>0};ce.isZero=function(){return this.s===0};ce.lessThan=ce.lt=function(e){return this.cmp(e)<0};ce.lessThanOrEqualTo=ce.lte=function(e){return this.cmp(e)<1};ce.logarithm=ce.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(rr))throw Error(Sr+"NaN");if(r.s<1)throw Error(Sr+(r.s?"NaN":"-Infinity"));return r.eq(rr)?new a(0):(Qe=!1,t=gn(Jl(r,i),Jl(e,i),i),Qe=!0,Le(t,s))};ce.minus=ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eO(t,e):Y2(t,(e.s=-e.s,e))};ce.modulo=ce.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Sr+"NaN");return r.s?(Qe=!1,t=gn(r,e,0,1).times(e),Qe=!0,r.minus(t)):Le(new a(r),s)};ce.naturalExponential=ce.exp=function(){return Z2(this)};ce.naturalLogarithm=ce.ln=function(){return Jl(this)};ce.negated=ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ce.plus=ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Y2(t,e):eO(t,(e.s=-e.s,e))};ce.precision=ce.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_a+e);if(t=it(s)+1,a=s.d.length-1,r=a*Ve+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};ce.squareRoot=ce.sqrt=function(){var e,t,r,a,s,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Sr+"NaN")}for(e=it(o),Qe=!1,s=Math.sqrt(+o),s==0||s==1/0?(t=Hr(o.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Oi((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(s.toString()),r=c.precision,s=l=r+3;;)if(i=a,a=i.plus(gn(o,i,l+2)).times(.5),Hr(i.d).slice(0,l)===(t=Hr(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(Le(i,r+1,0),i.times(i).eq(o)){a=i;break}}else if(t!="9999")break;l+=4}return Qe=!0,Le(a,r)};ce.times=ce.mul=function(e){var t,r,a,s,i,l,o,c,u,f=this,m=f.constructor,h=f.d,v=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=v.length,c<u&&(i=h,h=v,v=i,l=c,c=u,u=l),i=[],l=c+u,a=l;a--;)i.push(0);for(a=u;--a>=0;){for(t=0,s=c+a;s>a;)o=i[s]+v[a]*h[s-a-1]+t,i[s--]=o%xt|0,t=o/xt|0;i[s]=(i[s]+t)%xt|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Qe?Le(e,m.precision):e};ce.toDecimalPlaces=ce.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(en(e,0,Ci),t===void 0?t=a.rounding:en(t,0,8),Le(r,e+it(r)+1,t))};ce.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=Va(a,!0):(en(e,0,Ci),t===void 0?t=s.rounding:en(t,0,8),a=Le(new s(a),e+1,t),r=Va(a,!0,e+1)),r};ce.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?Va(s):(en(e,0,Ci),t===void 0?t=i.rounding:en(t,0,8),a=Le(new i(s),e+it(s)+1,t),r=Va(a.abs(),!1,e+it(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ce.toInteger=ce.toint=function(){var e=this,t=e.constructor;return Le(new t(e),it(e)+1,t.rounding)};ce.toNumber=function(){return+this};ce.toPower=ce.pow=function(e){var t,r,a,s,i,l,o=this,c=o.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(rr);if(o=new c(o),!o.s){if(e.s<1)throw Error(Sr+"Infinity");return o}if(o.eq(rr))return o;if(a=c.precision,e.eq(rr))return Le(o,a);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=f<0?-f:f)<=X2){for(s=new c(rr),t=Math.ceil(a/Ve+4),Qe=!1;r%2&&(s=s.times(o),hj(s.d,t)),r=Oi(r/2),r!==0;)o=o.times(o),hj(o.d,t);return Qe=!0,e.s<0?new c(rr).div(s):Le(s,a)}}else if(i<0)throw Error(Sr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Qe=!1,s=e.times(Jl(o,a+u)),Qe=!0,s=Z2(s),s.s=i,s};ce.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=it(s),a=Va(s,r<=i.toExpNeg||r>=i.toExpPos)):(en(e,1,Ci),t===void 0?t=i.rounding:en(t,0,8),s=Le(new i(s),e,t),r=it(s),a=Va(s,e<=r||r<=i.toExpNeg,e)),a};ce.toSignificantDigits=ce.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(en(e,1,Ci),t===void 0?t=a.rounding:en(t,0,8)),Le(new a(r),e,t)};ce.toString=ce.valueOf=ce.val=ce.toJSON=ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=it(e),r=e.constructor;return Va(e,t<=r.toExpNeg||t>=r.toExpPos)};function Y2(e,t){var r,a,s,i,l,o,c,u,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Qe?Le(t,m):t;if(c=e.d,u=t.d,l=e.e,s=t.e,c=c.slice(),i=l-s,i){for(i<0?(a=c,i=-i,o=u.length):(a=u,s=l,o=c.length),l=Math.ceil(m/Ve),o=l>o?l+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,a=u,u=c,c=a),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/xt|0,c[i]%=xt;for(r&&(c.unshift(r),++s),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=s,Qe?Le(t,m):t}function en(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_a+e)}function Hr(e){var t,r,a,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)a=e[t]+"",r=Ve-a.length,r&&(i+=$n(r)),i+=a;l=e[t],a=l+"",r=Ve-a.length,r&&(i+=$n(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var gn=function(){function e(a,s){var i,l=0,o=a.length;for(a=a.slice();o--;)i=a[o]*s+l,a[o]=i%xt|0,l=i/xt|0;return l&&a.unshift(l),a}function t(a,s,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(a[o]!=s[o]){c=a[o]>s[o]?1:-1;break}return c}function r(a,s,i){for(var l=0;i--;)a[i]-=l,l=a[i]<s[i]?1:0,a[i]=l*xt+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,l){var o,c,u,f,m,h,v,j,y,b,N,S,x,d,p,g,w,C,T=a.constructor,P=a.s==s.s?1:-1,D=a.d,k=s.d;if(!a.s)return new T(a);if(!s.s)throw Error(Sr+"Division by zero");for(c=a.e-s.e,w=k.length,p=D.length,v=new T(P),j=v.d=[],u=0;k[u]==(D[u]||0);)++u;if(k[u]>(D[u]||0)&&--c,i==null?S=i=T.precision:l?S=i+(it(a)-it(s))+1:S=i,S<0)return new T(0);if(S=S/Ve+2|0,u=0,w==1)for(f=0,k=k[0],S++;(u<p||f)&&S--;u++)x=f*xt+(D[u]||0),j[u]=x/k|0,f=x%k|0;else{for(f=xt/(k[0]+1)|0,f>1&&(k=e(k,f),D=e(D,f),w=k.length,p=D.length),d=w,y=D.slice(0,w),b=y.length;b<w;)y[b++]=0;C=k.slice(),C.unshift(0),g=k[0],k[1]>=xt/2&&++g;do f=0,o=t(k,y,w,b),o<0?(N=y[0],w!=b&&(N=N*xt+(y[1]||0)),f=N/g|0,f>1?(f>=xt&&(f=xt-1),m=e(k,f),h=m.length,b=y.length,o=t(m,y,h,b),o==1&&(f--,r(m,w<h?C:k,h))):(f==0&&(o=f=1),m=k.slice()),h=m.length,h<b&&m.unshift(0),r(y,m,b),o==-1&&(b=y.length,o=t(k,y,w,b),o<1&&(f++,r(y,w<b?C:k,b))),b=y.length):o===0&&(f++,y=[0]),j[u++]=f,o&&y[0]?y[b++]=D[d]||0:(y=[D[d]],b=1);while((d++<p||y[0]!==void 0)&&S--)}return j[0]||j.shift(),v.e=c,Le(v,l?i+it(v)+1:i)}}();function Z2(e,t){var r,a,s,i,l,o,c=0,u=0,f=e.constructor,m=f.precision;if(it(e)>16)throw Error(dg+it(e));if(!e.s)return new f(rr);for(t==null?(Qe=!1,o=m):o=t,l=new f(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(a=Math.log(Sa(2,u))/Math.LN10*2+5|0,o+=a,r=s=i=new f(rr),f.precision=o;;){if(s=Le(s.times(e),o),r=r.times(++c),l=i.plus(gn(s,r,o)),Hr(l.d).slice(0,o)===Hr(i.d).slice(0,o)){for(;u--;)i=Le(i.times(i),o);return f.precision=m,t==null?(Qe=!0,Le(i,m)):i}i=l}}function it(e){for(var t=e.e*Ve,r=e.d[0];r>=10;r/=10)t++;return t}function wf(e,t,r){if(t>e.LN10.sd())throw Qe=!0,r&&(e.precision=r),Error(Sr+"LN10 precision limit exceeded");return Le(new e(e.LN10),t)}function $n(e){for(var t="";e--;)t+="0";return t}function Jl(e,t){var r,a,s,i,l,o,c,u,f,m=1,h=10,v=e,j=v.d,y=v.constructor,b=y.precision;if(v.s<1)throw Error(Sr+(v.s?"NaN":"-Infinity"));if(v.eq(rr))return new y(0);if(t==null?(Qe=!1,u=b):u=t,v.eq(10))return t==null&&(Qe=!0),wf(y,u);if(u+=h,y.precision=u,r=Hr(j),a=r.charAt(0),i=it(v),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)v=v.times(e),r=Hr(v.d),a=r.charAt(0),m++;i=it(v),a>1?(v=new y("0."+r),i++):v=new y(a+"."+r.slice(1))}else return c=wf(y,u+2,b).times(i+""),v=Jl(new y(a+"."+r.slice(1)),u-h).plus(c),y.precision=b,t==null?(Qe=!0,Le(v,b)):v;for(o=l=v=gn(v.minus(rr),v.plus(rr),u),f=Le(v.times(v),u),s=3;;){if(l=Le(l.times(f),u),c=o.plus(gn(l,new y(s),u)),Hr(c.d).slice(0,u)===Hr(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(wf(y,u+2,b).times(i+""))),o=gn(o,new y(m),u),y.precision=b,t==null?(Qe=!0,Le(o,b)):o;o=c,s+=2}}function fj(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=Oi(r/Ve),e.d=[],a=(r+1)%Ve,r<0&&(a+=Ve),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Ve;a<s;)e.d.push(+t.slice(a,a+=Ve));t=t.slice(a),a=Ve-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Qe&&(e.e>Wu||e.e<-Wu))throw Error(dg+r)}else e.s=0,e.e=0,e.d=[0];return e}function Le(e,t,r){var a,s,i,l,o,c,u,f,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=Ve,s=t,u=m[f=0];else{if(f=Math.ceil((a+1)/Ve),i=m.length,f>=i)return e;for(u=i=m[f],l=1;i>=10;i/=10)l++;a%=Ve,s=a-Ve+l}if(r!==void 0&&(i=Sa(10,l-s-1),o=u/i%10|0,c=t<0||m[f+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(a>0?s>0?u/Sa(10,l-s):0:m[f-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=it(e),m.length=1,t=t-i-1,m[0]=Sa(10,(Ve-t%Ve)%Ve),e.e=Oi(-t/Ve)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=f,i=1,f--):(m.length=f+1,i=Sa(10,Ve-a),m[f]=s>0?(u/Sa(10,l-s)%Sa(10,s)|0)*i:0),c)for(;;)if(f==0){(m[0]+=i)==xt&&(m[0]=1,++e.e);break}else{if(m[f]+=i,m[f]!=xt)break;m[f--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(Qe&&(e.e>Wu||e.e<-Wu))throw Error(dg+it(e));return e}function eO(e,t){var r,a,s,i,l,o,c,u,f,m,h=e.constructor,v=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Qe?Le(t,v):t;if(c=e.d,m=t.d,a=t.e,u=e.e,c=c.slice(),l=u-a,l){for(f=l<0,f?(r=c,l=-l,o=m.length):(r=m,a=u,o=c.length),s=Math.max(Math.ceil(v/Ve),o)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=c.length,o=m.length,f=s<o,f&&(o=s),s=0;s<o;s++)if(c[s]!=m[s]){f=c[s]<m[s];break}l=0}for(f&&(r=c,c=m,m=r,t.s=-t.s),o=c.length,s=m.length-o;s>0;--s)c[o++]=0;for(s=m.length;s>l;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=xt-1;--c[i],c[s]+=xt}c[s]-=m[s]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,Qe?Le(t,v):t):new h(0)}function Va(e,t,r){var a,s=it(e),i=Hr(e.d),l=i.length;return t?(r&&(a=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+$n(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+$n(-s-1)+i,r&&(a=r-l)>0&&(i+=$n(a))):s>=l?(i+=$n(s+1-l),r&&(a=r-s-1)>0&&(i=i+"."+$n(a))):((a=s+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-l)>0&&(s+1===l&&(i+="."),i+=$n(a))),e.s<0?"-"+i:i}function hj(e,t){if(e.length>t)return e.length=t,!0}function tO(e){var t,r,a;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(_a+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return fj(l,i.toString())}else if(typeof i!="string")throw Error(_a+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,jW.test(i))fj(l,i);else throw Error(_a+i)}if(s.prototype=ce,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=tO,s.config=s.set=NW,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function NW(e){if(!e||typeof e!="object")throw Error(Sr+"Object expected");var t,r,a,s=["precision",1,Ci,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(Oi(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(_a+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(_a+r+": "+a);return this}var mg=tO(bW);rr=new mg(1);const Re=mg;function wW(e){return kW(e)||OW(e)||CW(e)||SW()}function SW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CW(e,t){if(e){if(typeof e=="string")return bp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bp(e,t)}}function OW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kW(e){if(Array.isArray(e))return bp(e)}function bp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var PW=function(t){return t},rO={"@@functional/placeholder":!0},nO=function(t){return t===rO},pj=function(t){return function r(){return arguments.length===0||arguments.length===1&&nO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},TW=function e(t,r){return t===1?r:pj(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var l=s.filter(function(o){return o!==rO}).length;return l>=t?r.apply(void 0,s):e(t-l,pj(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var f=s.map(function(m){return nO(m)?c.shift():m});return r.apply(void 0,wW(f).concat(c))}))})},fm=function(t){return TW(t.length,t)},jp=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},AW=fm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),DW=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return PW;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},Np=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},aO=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return r&&i.every(function(o,c){return o===r[c]})||(r=i,a=t.apply(void 0,i)),a}};function EW(e){var t;return e===0?t=1:t=Math.floor(new Re(e).abs().log(10).toNumber())+1,t}function MW(e,t,r){for(var a=new Re(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var IW=fm(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),$W=fm(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),_W=fm(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const hm={rangeStep:MW,getDigitCount:EW,interpolateNumber:IW,uninterpolateNumber:$W,uninterpolateTruncation:_W};function wp(e){return FW(e)||LW(e)||sO(e)||RW()}function RW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function FW(e){if(Array.isArray(e))return Sp(e)}function Xl(e,t){return UW(e)||qW(e,t)||sO(e,t)||BW()}function BW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sO(e,t){if(e){if(typeof e=="string")return Sp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sp(e,t)}}function Sp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function qW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),o;!(a=(o=l.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(c){s=!0,i=c}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw i}}return r}}function UW(e){if(Array.isArray(e))return e}function iO(e){var t=Xl(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function lO(e,t,r){if(e.lte(0))return new Re(0);var a=hm.getDigitCount(e.toNumber()),s=new Re(10).pow(a),i=e.div(s),l=a!==1?.05:.1,o=new Re(Math.ceil(i.div(l).toNumber())).add(r).mul(l),c=o.mul(s);return t?c:new Re(Math.ceil(c))}function WW(e,t,r){var a=1,s=new Re(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Re(10).pow(hm.getDigitCount(e)-1),s=new Re(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Re(Math.floor(e)))}else e===0?s=new Re(Math.floor((t-1)/2)):r||(s=new Re(Math.floor(e)));var l=Math.floor((t-1)/2),o=DW(AW(function(c){return s.add(new Re(c-l).mul(a)).toNumber()}),jp);return o(0,t)}function oO(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Re(0),tickMin:new Re(0),tickMax:new Re(0)};var i=lO(new Re(t).sub(e).div(r-1),a,s),l;e<=0&&t>=0?l=new Re(0):(l=new Re(e).add(t).div(2),l=l.sub(new Re(l).mod(i)));var o=Math.ceil(l.sub(e).div(i).toNumber()),c=Math.ceil(new Re(t).sub(l).div(i).toNumber()),u=o+c+1;return u>r?oO(e,t,r,a,s+1):(u<r&&(c=t>0?c+(r-u):c,o=t>0?o:o+(r-u)),{step:i,tickMin:l.sub(new Re(o).mul(i)),tickMax:l.add(new Re(c).mul(i))})}function KW(e){var t=Xl(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),o=iO([r,a]),c=Xl(o,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var m=f===1/0?[u].concat(wp(jp(0,s-1).map(function(){return 1/0}))):[].concat(wp(jp(0,s-1).map(function(){return-1/0})),[f]);return r>a?Np(m):m}if(u===f)return WW(u,s,i);var h=oO(u,f,l,i),v=h.step,j=h.tickMin,y=h.tickMax,b=hm.rangeStep(j,y.add(new Re(.1).mul(v)),v);return r>a?Np(b):b}function zW(e,t){var r=Xl(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=iO([a,s]),o=Xl(l,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[a,s];if(c===u)return[c];var f=Math.max(t,2),m=lO(new Re(u).sub(c).div(f-1),i,0),h=[].concat(wp(hm.rangeStep(new Re(c),new Re(u).sub(new Re(.99).mul(m)),m)),[u]);return a>s?Np(h):h}var VW=aO(KW),GW=aO(zW),HW=!0,Sf="Invariant failed";function Ga(e,t){if(!e){if(HW)throw new Error(Sf);var r=typeof t=="function"?t():t,a=r?"".concat(Sf,": ").concat(r):Sf;throw new Error(a)}}var QW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ku.apply(this,arguments)}function JW(e,t){return eK(e)||ZW(e,t)||YW(e,t)||XW()}function XW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YW(e,t){if(e){if(typeof e=="string")return xj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xj(e,t)}}function xj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ZW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function eK(e){if(Array.isArray(e))return e}function tK(e,t){if(e==null)return{};var r=rK(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function rK(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function nK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yj(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,dO(a.key),a)}}function aK(e,t,r){return t&&yj(e.prototype,t),r&&yj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sK(e,t,r){return t=zu(t),iK(e,cO()?Reflect.construct(t,r||[],zu(e).constructor):t.apply(e,r))}function iK(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lK(e)}function lK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!e})()}function zu(e){return zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zu(e)}function oK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cp(e,t)}function Cp(e,t){return Cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Cp(e,t)}function uO(e,t,r){return t=dO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dO(e){var t=cK(e,"string");return Js(t)=="symbol"?t:t+""}function cK(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Js(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fo=function(e){function t(){return nK(this,t),sK(this,t,arguments)}return oK(t,e),aK(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,l=a.width,o=a.dataKey,c=a.data,u=a.dataPointFormatter,f=a.xAxis,m=a.yAxis,h=tK(a,QW),v=ke(h,!1);this.props.direction==="x"&&f.type!=="number"&&Ga(!1);var j=c.map(function(y){var b=u(y,o),N=b.x,S=b.y,x=b.value,d=b.errorVal;if(!d)return null;var p=[],g,w;if(Array.isArray(d)){var C=JW(d,2);g=C[0],w=C[1]}else g=w=d;if(i==="vertical"){var T=f.scale,P=S+s,D=P+l,k=P-l,M=T(x-g),F=T(x+w);p.push({x1:F,y1:D,x2:F,y2:k}),p.push({x1:M,y1:P,x2:F,y2:P}),p.push({x1:M,y1:D,x2:M,y2:k})}else if(i==="horizontal"){var R=m.scale,E=N+s,B=E-l,A=E+l,I=R(x-g),$=R(x+w);p.push({x1:B,y1:$,x2:A,y2:$}),p.push({x1:E,y1:I,x2:E,y2:$}),p.push({x1:B,y1:I,x2:A,y2:I})}return q.createElement(rt,Ku({className:"recharts-errorBar",key:"bar-".concat(p.map(function(L){return"".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))},v),p.map(function(L){return q.createElement("line",Ku({},L,{key:"line-".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))}))});return q.createElement(rt,{className:"recharts-errorBars"},j)}}])}(q.Component);uO(Fo,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uO(Fo,"displayName","ErrorBar");function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(a){uK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uK(e,t,r){return t=dK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=mK(e,"string");return Yl(t)=="symbol"?t:t+""}function mK(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Yl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mO=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=tr(r,Ds);if(!l)return null;var o=Ds.defaultProps,c=o!==void 0?ya(ya({},o),l.props):{},u;return l.props&&l.props.payload?u=l.props&&l.props.payload:i==="children"?u=(a||[]).reduce(function(f,m){var h=m.item,v=m.props,j=v.sectors||v.data||[];return f.concat(j.map(function(y){return{type:l.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(a||[]).map(function(f){var m=f.item,h=m.type.defaultProps,v=h!==void 0?ya(ya({},h),m.props):{},j=v.dataKey,y=v.name,b=v.legendType,N=v.hide;return{inactive:N,dataKey:j,type:c.iconType||b||"square",color:fg(m),value:y||j,payload:v}}),ya(ya(ya({},c),Ds.getWithHeight(l,s)),{},{payload:u,item:l})};function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function vj(e){return xK(e)||pK(e)||hK(e)||fK()}function fK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hK(e,t){if(e){if(typeof e=="string")return Op(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Op(e,t)}}function pK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xK(e){if(Array.isArray(e))return Op(e)}function Op(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(a){Ms(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ms(e,t,r){return t=yK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=gK(e,"string");return Zl(t)=="symbol"?t:t+""}function gK(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function or(e,t,r){return Se(e)||Se(t)?r:mt(t)?br(e,t,r):je(t)?t(e):r}function dl(e,t,r,a){var s=xW(e,function(o){return or(o,t)});if(r==="number"){var i=s.filter(function(o){return ne(o)||parseFloat(o)});return i.length?[dm(i),um(i)]:[1/0,-1/0]}var l=a?s.filter(function(o){return!Se(o)}):s;return l.map(function(o){return mt(o)||o instanceof Date?o:""})}var vK=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,o=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<o;u++){var f=u>0?s[u-1].coordinate:s[o-1].coordinate,m=s[u].coordinate,h=u>=o-1?s[0].coordinate:s[u+1].coordinate,v=void 0;if(Fr(m-f)!==Fr(h-m)){var j=[];if(Fr(h-m)===Fr(c[1]-c[0])){v=h;var y=m+c[1]-c[0];j[0]=Math.min(y,(y+f)/2),j[1]=Math.max(y,(y+f)/2)}else{v=f;var b=h+c[1]-c[0];j[0]=Math.min(m,(b+m)/2),j[1]=Math.max(m,(b+m)/2)}var N=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>N[0]&&t<=N[1]||t>=j[0]&&t<=j[1]){l=s[u].index;break}}else{var S=Math.min(f,h),x=Math.max(f,h);if(t>(S+m)/2&&t<=(x+m)/2){l=s[u].index;break}}}else for(var d=0;d<o;d++)if(d===0&&t<=(a[d].coordinate+a[d+1].coordinate)/2||d>0&&d<o-1&&t>(a[d].coordinate+a[d-1].coordinate)/2&&t<=(a[d].coordinate+a[d+1].coordinate)/2||d===o-1&&t>(a[d].coordinate+a[d-1].coordinate)/2){l=a[d].index;break}return l},fg=function(t){var r,a=t,s=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?et(et({},t.type.defaultProps),t.props):t.props,l=i.stroke,o=i.fill,c;switch(s){case"Line":c=l;break;case"Area":case"Radar":c=l&&l!=="none"?l:o;break;default:c=o;break}return c},bK=function(t){var r=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},o=Object.keys(i),c=0,u=o.length;c<u;c++)for(var f=i[o[c]].stackGroups,m=Object.keys(f),h=0,v=m.length;h<v;h++){var j=f[m[h]],y=j.items,b=j.cateAxisId,N=y.filter(function(w){return pn(w.type).indexOf("Bar")>=0});if(N&&N.length){var S=N[0].type.defaultProps,x=S!==void 0?et(et({},S),N[0].props):N[0].props,d=x.barSize,p=x[b];l[p]||(l[p]=[]);var g=Se(d)?r:d;l[p].push({item:N[0],stackList:N.slice(1),barSize:Se(g)?void 0:za(g,a,0)})}}return l},jK=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,o=t.maxBarSize,c=l.length;if(c<1)return null;var u=za(r,s,0,!0),f,m=[];if(l[0].barSize===+l[0].barSize){var h=!1,v=s/c,j=l.reduce(function(d,p){return d+p.barSize||0},0);j+=(c-1)*u,j>=s&&(j-=(c-1)*u,u=0),j>=s&&v>0&&(h=!0,v*=.9,j=c*v);var y=(s-j)/2>>0,b={offset:y-u,size:0};f=l.reduce(function(d,p){var g={item:p.item,position:{offset:b.offset+b.size+u,size:h?v:p.barSize}},w=[].concat(vj(d),[g]);return b=w[w.length-1].position,p.stackList&&p.stackList.length&&p.stackList.forEach(function(C){w.push({item:C,position:b})}),w},m)}else{var N=za(a,s,0,!0);s-2*N-(c-1)*u<=0&&(u=0);var S=(s-2*N-(c-1)*u)/c;S>1&&(S>>=0);var x=o===+o?Math.min(S,o):S;f=l.reduce(function(d,p,g){var w=[].concat(vj(d),[{item:p.item,position:{offset:N+(S+u)*g+(S-x)/2,size:x}}]);return p.stackList&&p.stackList.length&&p.stackList.forEach(function(C){w.push({item:C,position:w[w.length-1].position})}),w},m)}return f},NK=function(t,r,a,s){var i=a.children,l=a.width,o=a.margin,c=l-(o.left||0)-(o.right||0),u=mO({children:i,legendWidth:c});if(u){var f=s||{},m=f.width,h=f.height,v=u.align,j=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&j==="middle")&&v!=="center"&&ne(t[v]))return et(et({},t),{},Ms({},v,t[v]+(m||0)));if((y==="horizontal"||y==="vertical"&&v==="center")&&j!=="middle"&&ne(t[j]))return et(et({},t),{},Ms({},j,t[j]+(h||0)))}return t},wK=function(t,r,a){return Se(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},fO=function(t,r,a,s,i){var l=r.props.children,o=jr(l,Fo).filter(function(u){return wK(s,i,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var m=or(f,a);if(Se(m))return u;var h=Array.isArray(m)?[dm(m),um(m)]:[m,m],v=c.reduce(function(j,y){var b=or(f,y,0),N=h[0]-Math.abs(Array.isArray(b)?b[0]:b),S=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(N,j[0]),Math.max(S,j[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},SK=function(t,r,a,s,i){var l=r.map(function(o){return fO(t,o,a,i,s)}).filter(function(o){return!Se(o)});return l&&l.length?l.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},hO=function(t,r,a,s,i){var l=r.map(function(c){var u=c.props.dataKey;return a==="number"&&u&&fO(t,c,u,s)||dl(t,u,a,i)});if(a==="number")return l.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return l.reduce(function(c,u){for(var f=0,m=u.length;f<m;f++)o[u[f]]||(o[u[f]]=!0,c.push(u[f]));return c},[])},pO=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},xO=function(t,r,a,s){if(s)return t.map(function(c){return c.coordinate});var i,l,o=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===a&&(l=!0),c.coordinate});return i||o.push(r),l||o.push(a),o},mn=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,o=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||a)&&l==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Fr(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(m){var h=i?i.indexOf(m):m;return{coordinate:s(h)+u,value:m,offset:u}});return f.filter(function(m){return!Eo(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,h){return{coordinate:s(m)+u,value:m,index:h,offset:u}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+u,value:m,offset:u}}):s.domain().map(function(m,h){return{coordinate:s(m)+u,value:i?i[m]:m,index:h,offset:u}})},Cf=new WeakMap,gc=function(t,r){if(typeof r!="function")return t;Cf.has(t)||Cf.set(t,new WeakMap);var a=Cf.get(t);if(a.has(r))return a.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},CK=function(t,r,a){var s=t.scale,i=t.type,l=t.layout,o=t.axisType;if(s==="auto")return l==="radial"&&o==="radiusAxis"?{scale:zl(),realScaleType:"band"}:l==="radial"&&o==="angleAxis"?{scale:Fu(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:ul(),realScaleType:"point"}:i==="category"?{scale:zl(),realScaleType:"band"}:{scale:Fu(),realScaleType:"linear"};if(Ka(s)){var c="scale".concat(Xd(s));return{scale:(mj[c]||ul)(),realScaleType:mj[c]?c:"point"}}return je(s)?{scale:s}:{scale:ul(),realScaleType:"point"}},jj=1e-4,OK=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-jj,l=Math.max(s[0],s[1])+jj,o=t(r[0]),c=t(r[a-1]);(o<i||o>l||c<i||c>l)&&t.domain([r[0],r[a-1]])}},kK=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},PK=function(t,r){if(!r||r.length!==2||!ne(r[0])||!ne(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ne(t[0])||t[0]<a)&&(i[0]=a),(!ne(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},TK=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0,o=0;o<r;++o){var c=Eo(t[o][a][1])?t[o][a][0]:t[o][a][1];c>=0?(t[o][a][0]=i,t[o][a][1]=i+c,i=t[o][a][1]):(t[o][a][0]=l,t[o][a][1]=l+c,l=t[o][a][1])}},AK=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0;l<r;++l){var o=Eo(t[l][a][1])?t[l][a][0]:t[l][a][1];o>=0?(t[l][a][0]=i,t[l][a][1]=i+o,i=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},DK={sign:TK,expand:Q$,none:Us,silhouette:J$,wiggle:X$,positive:AK},EK=function(t,r,a){var s=r.map(function(o){return o.props.dataKey}),i=DK[a],l=H$().keys(s).value(function(o,c){return+or(o,c,0)}).order(Xh).offset(i);return l(t)},MK=function(t,r,a,s,i,l){if(!t)return null;var o=l?r.reverse():r,c={},u=o.reduce(function(m,h){var v,j=(v=h.type)!==null&&v!==void 0&&v.defaultProps?et(et({},h.type.defaultProps),h.props):h.props,y=j.stackId,b=j.hide;if(b)return m;var N=j[a],S=m[N]||{hasStack:!1,stackGroups:{}};if(mt(y)){var x=S.stackGroups[y]||{numericAxisId:a,cateAxisId:s,items:[]};x.items.push(h),S.hasStack=!0,S.stackGroups[y]=x}else S.stackGroups[Mo("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[h]};return et(et({},m),{},Ms({},N,S))},c),f={};return Object.keys(u).reduce(function(m,h){var v=u[h];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(y,b){var N=v.stackGroups[b];return et(et({},y),{},Ms({},b,{numericAxisId:a,cateAxisId:s,items:N.items,stackedData:EK(t,N.items,i)}))},j)}return et(et({},m),{},Ms({},h,v))},f)},IK=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,l=r.originalDomain,o=r.allowDecimals,c=a||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=VW(u,i,o);return t.domain([dm(f),um(f)]),{niceTicks:f}}if(i&&s==="number"){var m=t.domain(),h=GW(m,i,o);return{niceTicks:h}}return null};function Nj(e){var t=e.axis,r=e.ticks,a=e.bandSize,s=e.entry,i=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Se(s[t.dataKey])){var o=xu(r,"value",s[t.dataKey]);if(o)return o.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=or(s,Se(l)?t.dataKey:l);return Se(c)?null:t.scale(c)}var wj=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,o=t.index;if(r.type==="category")return a[o]?a[o].coordinate+s:null;var c=or(l,r.dataKey,r.domain[o]);return Se(c)?null:r.scale(c)-i/2+s},$K=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},_K=function(t,r){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?et(et({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(mt(i)){var l=r[i];if(l){var o=l.items.indexOf(t);return o>=0?l.stackedData[o]:null}}return null},RK=function(t){return t.reduce(function(r,a){return[dm(a.concat([r[0]]).filter(ne)),um(a.concat([r[1]]).filter(ne))]},[1/0,-1/0])},yO=function(t,r,a){return Object.keys(t).reduce(function(s,i){var l=t[i],o=l.stackedData,c=o.reduce(function(u,f){var m=RK(f.slice(r,a+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},Sj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kp=function(t,r,a){if(je(t))return t(r,a);if(!Array.isArray(t))return r;var s=[];if(ne(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(Sj.test(t[0])){var i=+Sj.exec(t[0])[1];s[0]=r[0]-i}else je(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(ne(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(Cj.test(t[1])){var l=+Cj.exec(t[1])[1];s[1]=r[1]+l}else je(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Vu=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=qy(r,function(m){return m.coordinate}),l=1/0,o=1,c=i.length;o<c;o++){var u=i[o],f=i[o-1];l=Math.min((u.coordinate||0)-(f.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},Oj=function(t,r,a){return!t||!t.length||mm(t,br(a,"type.defaultProps.domain"))?r:t},gO=function(t,r){var a=t.type.defaultProps?et(et({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,l=a.unit,o=a.formatter,c=a.tooltipType,u=a.chartType,f=a.hide;return et(et({},ke(t,!1)),{},{dataKey:s,unit:l,formatter:o,name:i||s,color:fg(t),value:or(r,s),type:c,payload:r,chartType:u,hide:f})};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(a){LK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function LK(e,t,r){return t=FK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=BK(e,"string");return eo(t)=="symbol"?t:t+""}function BK(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(eo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gu=Math.PI/180,qK=function(t){return t*180/Math.PI},St=function(t,r,a,s){return{x:t+Math.cos(-Gu*s)*a,y:r+Math.sin(-Gu*s)*a}},UK=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-l,2))},WK=function(t,r){var a=t.x,s=t.y,i=r.cx,l=r.cy,o=UK({x:a,y:s},{x:i,y:l});if(o<=0)return{radius:o};var c=(a-i)/o,u=Math.acos(c);return s>l&&(u=2*Math.PI-u),{radius:o,angle:qK(u),angleInRadian:u}},KK=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),l=Math.min(s,i);return{startAngle:r-l*360,endAngle:a-l*360}},zK=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),l=Math.floor(s/360),o=Math.min(i,l);return t+o*360},Tj=function(t,r){var a=t.x,s=t.y,i=WK({x:a,y:s},r),l=i.radius,o=i.angle,c=r.innerRadius,u=r.outerRadius;if(l<c||l>u)return!1;if(l===0)return!0;var f=KK(r),m=f.startAngle,h=f.endAngle,v=o,j;if(m<=h){for(;v>h;)v-=360;for(;v<m;)v+=360;j=v>=m&&v<=h}else{for(;v>m;)v-=360;for(;v<h;)v+=360;j=v>=h&&v<=m}return j?Pj(Pj({},r),{},{radius:l,angle:zK(v,r)}):null};function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}var VK=["offset"];function GK(e){return XK(e)||JK(e)||QK(e)||HK()}function HK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QK(e,t){if(e){if(typeof e=="string")return Pp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pp(e,t)}}function JK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XK(e){if(Array.isArray(e))return Pp(e)}function Pp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function YK(e,t){if(e==null)return{};var r=ZK(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ZK(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(a){ez(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ez(e,t,r){return t=tz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=rz(e,"string");return to(t)=="symbol"?t:t+""}function rz(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(to(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ro.apply(this,arguments)}var nz=function(t){var r=t.value,a=t.formatter,s=Se(t.children)?r:t.children;return je(a)?a(s):s},az=function(t,r){var a=Fr(r-t),s=Math.min(Math.abs(r-t),360);return a*s},sz=function(t,r,a){var s=t.position,i=t.viewBox,l=t.offset,o=t.className,c=i,u=c.cx,f=c.cy,m=c.innerRadius,h=c.outerRadius,v=c.startAngle,j=c.endAngle,y=c.clockWise,b=(m+h)/2,N=az(v,j),S=N>=0?1:-1,x,d;s==="insideStart"?(x=v+S*l,d=y):s==="insideEnd"?(x=j-S*l,d=!y):s==="end"&&(x=j+S*l,d=y),d=N<=0?d:!d;var p=St(u,f,b,x),g=St(u,f,b,x+(d?1:-1)*359),w="M".concat(p.x,",").concat(p.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(d?0:1,`,
    `).concat(g.x,",").concat(g.y),C=Se(t.id)?Mo("recharts-radial-line-"):t.id;return q.createElement("text",ro({},a,{dominantBaseline:"central",className:Te("recharts-radial-bar-label",o)}),q.createElement("defs",null,q.createElement("path",{id:C,d:w})),q.createElement("textPath",{xlinkHref:"#".concat(C)},r))},iz=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,l=i.cx,o=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,m=i.endAngle,h=(f+m)/2;if(s==="outside"){var v=St(l,o,u+a,h),j=v.x,y=v.y;return{x:j,y,textAnchor:j>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,N=St(l,o,b,h),S=N.x,x=N.y;return{x:S,y:x,textAnchor:"middle",verticalAnchor:"middle"}},lz=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,l=r,o=l.x,c=l.y,u=l.width,f=l.height,m=f>=0?1:-1,h=m*s,v=m>0?"end":"start",j=m>0?"start":"end",y=u>=0?1:-1,b=y*s,N=y>0?"end":"start",S=y>0?"start":"end";if(i==="top"){var x={x:o+u/2,y:c-m*s,textAnchor:"middle",verticalAnchor:v};return ot(ot({},x),a?{height:Math.max(c-a.y,0),width:u}:{})}if(i==="bottom"){var d={x:o+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:j};return ot(ot({},d),a?{height:Math.max(a.y+a.height-(c+f),0),width:u}:{})}if(i==="left"){var p={x:o-b,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return ot(ot({},p),a?{width:Math.max(p.x-a.x,0),height:f}:{})}if(i==="right"){var g={x:o+u+b,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return ot(ot({},g),a?{width:Math.max(a.x+a.width-g.x,0),height:f}:{})}var w=a?{width:u,height:f}:{};return i==="insideLeft"?ot({x:o+b,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},w):i==="insideRight"?ot({x:o+u-b,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},w):i==="insideTop"?ot({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:j},w):i==="insideBottom"?ot({x:o+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:v},w):i==="insideTopLeft"?ot({x:o+b,y:c+h,textAnchor:S,verticalAnchor:j},w):i==="insideTopRight"?ot({x:o+u-b,y:c+h,textAnchor:N,verticalAnchor:j},w):i==="insideBottomLeft"?ot({x:o+b,y:c+f-h,textAnchor:S,verticalAnchor:v},w):i==="insideBottomRight"?ot({x:o+u-b,y:c+f-h,textAnchor:N,verticalAnchor:v},w):yi(i)&&(ne(i.x)||Pa(i.x))&&(ne(i.y)||Pa(i.y))?ot({x:o+za(i.x,u),y:c+za(i.y,f),textAnchor:"end",verticalAnchor:"end"},w):ot({x:o+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},w)},oz=function(t){return"cx"in t&&ne(t.cx)};function Et(e){var t=e.offset,r=t===void 0?5:t,a=YK(e,VK),s=ot({offset:r},a),i=s.viewBox,l=s.position,o=s.value,c=s.children,u=s.content,f=s.className,m=f===void 0?"":f,h=s.textBreakAll;if(!i||Se(o)&&Se(c)&&!O.isValidElement(u)&&!je(u))return null;if(O.isValidElement(u))return O.cloneElement(u,s);var v;if(je(u)){if(v=O.createElement(u,s),O.isValidElement(v))return v}else v=nz(s);var j=oz(i),y=ke(s,!0);if(j&&(l==="insideStart"||l==="insideEnd"||l==="end"))return sz(s,v,y);var b=j?iz(s):lz(s);return q.createElement(Eu,ro({className:Te("recharts-label",m)},y,b,{breakAll:h}),v)}Et.displayName="Label";var vO=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,o=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,m=t.x,h=t.y,v=t.top,j=t.left,y=t.width,b=t.height,N=t.clockWise,S=t.labelViewBox;if(S)return S;if(ne(y)&&ne(b)){if(ne(m)&&ne(h))return{x:m,y:h,width:y,height:b};if(ne(v)&&ne(j))return{x:v,y:j,width:y,height:b}}return ne(m)&&ne(h)?{x:m,y:h,width:0,height:0}:ne(r)&&ne(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:l||s||0,innerRadius:u||0,outerRadius:f||c||o||0,clockWise:N}:t.viewBox?t.viewBox:{}},cz=function(t,r){return t?t===!0?q.createElement(Et,{key:"label-implicit",viewBox:r}):mt(t)?q.createElement(Et,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Et?O.cloneElement(t,{key:"label-implicit",viewBox:r}):q.createElement(Et,{key:"label-implicit",content:t,viewBox:r}):je(t)?q.createElement(Et,{key:"label-implicit",content:t,viewBox:r}):yi(t)?q.createElement(Et,ro({viewBox:r},t,{key:"label-implicit"})):null:null},uz=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=vO(t),l=jr(s,Et).map(function(c,u){return O.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!a)return l;var o=cz(t.label,r||i);return[o].concat(GK(l))};Et.parseViewBox=vO;Et.renderCallByParent=uz;function dz(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var mz=dz;const fz=Fe(mz);function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}var hz=["valueAccessor"],pz=["data","dataKey","clockWise","id","textBreakAll"];function xz(e){return bz(e)||vz(e)||gz(e)||yz()}function yz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gz(e,t){if(e){if(typeof e=="string")return Tp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tp(e,t)}}function vz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bz(e){if(Array.isArray(e))return Tp(e)}function Tp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hu.apply(this,arguments)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(a){jz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jz(e,t,r){return t=Nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nz(e){var t=wz(e,"string");return no(t)=="symbol"?t:t+""}function wz(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(no(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mj(e,t){if(e==null)return{};var r=Sz(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Sz(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Cz=function(t){return Array.isArray(t.value)?fz(t.value):t.value};function ea(e){var t=e.valueAccessor,r=t===void 0?Cz:t,a=Mj(e,hz),s=a.data,i=a.dataKey,l=a.clockWise,o=a.id,c=a.textBreakAll,u=Mj(a,pz);return!s||!s.length?null:q.createElement(rt,{className:"recharts-label-list"},s.map(function(f,m){var h=Se(i)?r(f,m):or(f&&f.payload,i),v=Se(o)?{}:{id:"".concat(o,"-").concat(m)};return q.createElement(Et,Hu({},ke(f,!0),u,v,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:Et.parseViewBox(Se(l)?f:Ej(Ej({},f),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}ea.displayName="LabelList";function Oz(e,t){return e?e===!0?q.createElement(ea,{key:"labelList-implicit",data:t}):q.isValidElement(e)||je(e)?q.createElement(ea,{key:"labelList-implicit",data:t,content:e}):yi(e)?q.createElement(ea,Hu({data:t},e,{key:"labelList-implicit"})):null:null}function kz(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=jr(a,ea).map(function(l,o){return O.cloneElement(l,{data:t,key:"labelList-".concat(o)})});if(!r)return s;var i=Oz(e.label,t);return[i].concat(xz(s))}ea.renderCallByParent=kz;function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ap.apply(this,arguments)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(a){Pz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Pz(e,t,r){return t=Tz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tz(e){var t=Az(e,"string");return ao(t)=="symbol"?t:t+""}function Az(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ao(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dz=function(t,r){var a=Fr(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},vc=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,l=t.sign,o=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(o?1:-1)+s,m=Math.asin(c/f)/Gu,h=u?i:i+l*m,v=St(r,a,f,h),j=St(r,a,s,h),y=u?i-l*m:i,b=St(r,a,f*Math.cos(m*Gu),y);return{center:v,circleTangency:j,lineTangency:b,theta:m}},bO=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,o=t.endAngle,c=Dz(l,o),u=l+c,f=St(r,a,i,l),m=St(r,a,i,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(l>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var v=St(r,a,s,l),j=St(r,a,s,u);h+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(l<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else h+="L ".concat(r,",").concat(a," Z");return h},Ez=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,m=Fr(f-u),h=vc({cx:r,cy:a,radius:i,angle:u,sign:m,cornerRadius:l,cornerIsExternal:c}),v=h.circleTangency,j=h.lineTangency,y=h.theta,b=vc({cx:r,cy:a,radius:i,angle:f,sign:-m,cornerRadius:l,cornerIsExternal:c}),N=b.circleTangency,S=b.lineTangency,x=b.theta,d=c?Math.abs(u-f):Math.abs(u-f)-y-x;if(d<0)return o?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):bO({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:u,endAngle:f});var p="M ".concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(d>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(s>0){var g=vc({cx:r,cy:a,radius:s,angle:u,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),w=g.circleTangency,C=g.lineTangency,T=g.theta,P=vc({cx:r,cy:a,radius:s,angle:f,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),D=P.circleTangency,k=P.lineTangency,M=P.theta,F=c?Math.abs(u-f):Math.abs(u-f)-T-M;if(F<0&&l===0)return"".concat(p,"L").concat(r,",").concat(a,"Z");p+="L".concat(k.x,",").concat(k.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(F>180),",").concat(+(m>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,"Z")}else p+="L".concat(r,",").concat(a,"Z");return p},Mz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jO=function(t){var r=$j($j({},Mz),t),a=r.cx,s=r.cy,i=r.innerRadius,l=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,m=r.endAngle,h=r.className;if(l<i||f===m)return null;var v=Te("recharts-sector",h),j=l-i,y=za(o,j,0,!0),b;return y>0&&Math.abs(f-m)<360?b=Ez({cx:a,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(y,j/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}):b=bO({cx:a,cy:s,innerRadius:i,outerRadius:l,startAngle:f,endAngle:m}),q.createElement("path",Ap({},ke(r,!0),{className:v,d:b,role:"img"}))};function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dp.apply(this,arguments)}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(a){Iz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Iz(e,t,r){return t=$z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=_z(e,"string");return so(t)=="symbol"?t:t+""}function _z(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(so(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lj={curveBasisClosed:R$,curveBasisOpen:L$,curveBasis:_$,curveBumpX:N$,curveBumpY:w$,curveLinearClosed:F$,curveLinear:Zd,curveMonotoneX:B$,curveMonotoneY:q$,curveNatural:U$,curveStep:W$,curveStepAfter:z$,curveStepBefore:K$},bc=function(t){return t.x===+t.x&&t.y===+t.y},Ui=function(t){return t.x},Wi=function(t){return t.y},Rz=function(t,r){if(je(t))return t;var a="curve".concat(Xd(t));return(a==="curveMonotone"||a==="curveBump")&&r?Lj["".concat(a).concat(r==="vertical"?"Y":"X")]:Lj[a]||Zd},Lz=function(t){var r=t.type,a=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,l=t.baseLine,o=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=Rz(a,o),m=u?i.filter(function(y){return bc(y)}):i,h;if(Array.isArray(l)){var v=u?l.filter(function(y){return bc(y)}):l,j=m.map(function(y,b){return Rj(Rj({},y),{},{base:v[b]})});return o==="vertical"?h=uc().y(Wi).x1(Ui).x0(function(y){return y.base.x}):h=uc().x(Ui).y1(Wi).y0(function(y){return y.base.y}),h.defined(bc).curve(f),h(j)}return o==="vertical"&&ne(l)?h=uc().y(Wi).x1(Ui).x0(l):ne(l)?h=uc().x(Ui).y1(Wi).y0(l):h=jC().x(Ui).y(Wi),h.defined(bc).curve(f),h(m)},Ep=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?Lz(t):s;return O.createElement("path",Dp({},ke(t,!1),yu(t),{className:Te("recharts-curve",r),d:l,ref:i}))},NO={exports:{}},Fz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bz=Fz,qz=Bz;function wO(){}function SO(){}SO.resetWarningCache=wO;var Uz=function(){function e(a,s,i,l,o,c){if(c!==qz){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:SO,resetWarningCache:wO};return r.PropTypes=r,r};NO.exports=Uz();var Wz=NO.exports;const Me=Fe(Wz);var Kz=Object.getOwnPropertyNames,zz=Object.getOwnPropertySymbols,Vz=Object.prototype.hasOwnProperty;function Fj(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function jc(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,l=i.get(r),o=i.get(a);if(l&&o)return l===a&&o===r;i.set(r,a),i.set(a,r);var c=e(r,a,s);return i.delete(r),i.delete(a),c}}function Bj(e){return Kz(e).concat(zz(e))}var Gz=Object.hasOwn||function(e,t){return Vz.call(e,t)};function rs(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Hz="__v",Qz="__o",Jz="_owner",qj=Object.getOwnPropertyDescriptor,Uj=Object.keys;function Xz(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function Yz(e,t){return rs(e.getTime(),t.getTime())}function Zz(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function eV(e,t){return e===t}function Wj(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),l,o,c=0;(l=i.next())&&!l.done;){for(var u=t.entries(),f=!1,m=0;(o=u.next())&&!o.done;){if(s[m]){m++;continue}var h=l.value,v=o.value;if(r.equals(h[0],v[0],c,m,e,t,r)&&r.equals(h[1],v[1],h[0],v[0],e,t,r)){f=s[m]=!0;break}m++}if(!f)return!1;c++}return!0}var tV=rs;function rV(e,t,r){var a=Uj(e),s=a.length;if(Uj(t).length!==s)return!1;for(;s-- >0;)if(!CO(e,t,r,a[s]))return!1;return!0}function Ki(e,t,r){var a=Bj(e),s=a.length;if(Bj(t).length!==s)return!1;for(var i,l,o;s-- >0;)if(i=a[s],!CO(e,t,r,i)||(l=qj(e,i),o=qj(t,i),(l||o)&&(!l||!o||l.configurable!==o.configurable||l.enumerable!==o.enumerable||l.writable!==o.writable)))return!1;return!0}function nV(e,t){return rs(e.valueOf(),t.valueOf())}function aV(e,t){return e.source===t.source&&e.flags===t.flags}function Kj(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),l,o;(l=i.next())&&!l.done;){for(var c=t.values(),u=!1,f=0;(o=c.next())&&!o.done;){if(!s[f]&&r.equals(l.value,o.value,l.value,o.value,e,t,r)){u=s[f]=!0;break}f++}if(!u)return!1}return!0}function sV(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function iV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function CO(e,t,r,a){return(a===Jz||a===Qz||a===Hz)&&(e.$$typeof||t.$$typeof)?!0:Gz(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var lV="[object Arguments]",oV="[object Boolean]",cV="[object Date]",uV="[object Error]",dV="[object Map]",mV="[object Number]",fV="[object Object]",hV="[object RegExp]",pV="[object Set]",xV="[object String]",yV="[object URL]",gV=Array.isArray,zj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Vj=Object.assign,vV=Object.prototype.toString.call.bind(Object.prototype.toString);function bV(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,l=e.areNumbersEqual,o=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,m=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(j,y,b){if(j===y)return!0;if(j==null||y==null)return!1;var N=typeof j;if(N!==typeof y)return!1;if(N!=="object")return N==="number"?l(j,y,b):N==="function"?s(j,y,b):!1;var S=j.constructor;if(S!==y.constructor)return!1;if(S===Object)return o(j,y,b);if(gV(j))return t(j,y,b);if(zj!=null&&zj(j))return m(j,y,b);if(S===Date)return r(j,y,b);if(S===RegExp)return u(j,y,b);if(S===Map)return i(j,y,b);if(S===Set)return f(j,y,b);var x=vV(j);return x===cV?r(j,y,b):x===hV?u(j,y,b):x===dV?i(j,y,b):x===pV?f(j,y,b):x===fV?typeof j.then!="function"&&typeof y.then!="function"&&o(j,y,b):x===yV?h(j,y,b):x===uV?a(j,y,b):x===lV?o(j,y,b):x===oV||x===mV||x===xV?c(j,y,b):!1}}function jV(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?Ki:Xz,areDatesEqual:Yz,areErrorsEqual:Zz,areFunctionsEqual:eV,areMapsEqual:a?Fj(Wj,Ki):Wj,areNumbersEqual:tV,areObjectsEqual:a?Ki:rV,arePrimitiveWrappersEqual:nV,areRegExpsEqual:aV,areSetsEqual:a?Fj(Kj,Ki):Kj,areTypedArraysEqual:a?Ki:sV,areUrlsEqual:iV};if(r&&(s=Vj({},s,r(s))),t){var i=jc(s.areArraysEqual),l=jc(s.areMapsEqual),o=jc(s.areObjectsEqual),c=jc(s.areSetsEqual);s=Vj({},s,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:o,areSetsEqual:c})}return s}function NV(e){return function(t,r,a,s,i,l,o){return e(t,r,o)}}function wV(e){var t=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(c,u){var f=a(),m=f.cache,h=m===void 0?t?new WeakMap:void 0:m,v=f.meta;return r(c,u,{cache:h,equals:s,meta:v,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var l={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,l)}}var SV=fa();fa({strict:!0});fa({circular:!0});fa({circular:!0,strict:!0});fa({createInternalComparator:function(){return rs}});fa({strict:!0,createInternalComparator:function(){return rs}});fa({circular:!0,createInternalComparator:function(){return rs}});fa({circular:!0,createInternalComparator:function(){return rs},strict:!0});function fa(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,l=i===void 0?!1:i,o=jV(e),c=bV(o),u=a?a(c):NV(c);return wV({circular:r,comparator:c,createState:s,equals:u,strict:l})}function CV(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Gj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):CV(s)};requestAnimationFrame(a)}function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function OV(e){return AV(e)||TV(e)||PV(e)||kV()}function kV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PV(e,t){if(e){if(typeof e=="string")return Hj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hj(e,t)}}function Hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function TV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AV(e){if(Array.isArray(e))return e}function DV(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,o=OV(l),c=o[0],u=o.slice(1);if(typeof c=="number"){Gj(s.bind(null,u),c);return}s(c),Gj(s.bind(null,u));return}Mp(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(a){OO(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OO(e,t,r){return t=EV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EV(e){var t=MV(e,"string");return io(t)==="symbol"?t:String(t)}function MV(e,t){if(io(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(io(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IV=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},$V=function(t){return t},_V=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ml=function(t,r){return Object.keys(r).reduce(function(a,s){return Jj(Jj({},a),{},OO({},s,t(s,r[s])))},{})},Xj=function(t,r,a){return t.map(function(s){return"".concat(_V(s)," ").concat(r,"ms ").concat(a)}).join(",")};function RV(e,t){return BV(e)||FV(e,t)||kO(e,t)||LV()}function LV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function BV(e){if(Array.isArray(e))return e}function qV(e){return KV(e)||WV(e)||kO(e)||UV()}function UV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kO(e,t){if(e){if(typeof e=="string")return Ip(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ip(e,t)}}function WV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KV(e){if(Array.isArray(e))return Ip(e)}function Ip(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Qu=1e-4,PO=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},TO=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},Yj=function(t,r){return function(a){var s=PO(t,r);return TO(s,a)}},zV=function(t,r){return function(a){var s=PO(t,r),i=[].concat(qV(s.map(function(l,o){return l*o}).slice(1)),[0]);return TO(i,a)}},Zj=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],l=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,l=1,o=1;break;case"ease":s=.25,i=.1,l=.25,o=1;break;case"ease-in":s=.42,i=0,l=1,o=1;break;case"ease-out":s=.42,i=0,l=.58,o=1;break;case"ease-in-out":s=0,i=0,l=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=RV(u,4);s=f[0],i=f[1],l=f[2],o=f[3]}}}var m=Yj(s,l),h=Yj(i,o),v=zV(s,l),j=function(N){return N>1?1:N<0?0:N},y=function(N){for(var S=N>1?1:N,x=S,d=0;d<8;++d){var p=m(x)-S,g=v(x);if(Math.abs(p-S)<Qu||g<Qu)return h(x);x=j(x-p/g)}return h(x)};return y.isStepper=!1,y},VV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,l=t.dt,o=l===void 0?17:l,c=function(f,m,h){var v=-(f-m)*a,j=h*i,y=h+(v-j)*o/1e3,b=h*o/1e3+f;return Math.abs(b-m)<Qu&&Math.abs(y)<Qu?[m,0]:[b,y]};return c.isStepper=!0,c.dt=o,c},GV=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Zj(s);case"spring":return VV();default:if(s.split("(")[0]==="cubic-bezier")return Zj(s)}return typeof s=="function"?s:null};function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function eN(e){return JV(e)||QV(e)||AO(e)||HV()}function HV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JV(e){if(Array.isArray(e))return _p(e)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(a){$p(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $p(e,t,r){return t=XV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XV(e){var t=YV(e,"string");return lo(t)==="symbol"?t:String(t)}function YV(e,t){if(lo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(lo(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZV(e,t){return rG(e)||tG(e,t)||AO(e,t)||eG()}function eG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AO(e,t){if(e){if(typeof e=="string")return _p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _p(e,t)}}function _p(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function tG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function rG(e){if(Array.isArray(e))return e}var Ju=function(t,r,a){return t+(r-t)*a},Rp=function(t){var r=t.from,a=t.to;return r!==a},nG=function e(t,r,a){var s=ml(function(i,l){if(Rp(l)){var o=t(l.from,l.to,l.velocity),c=ZV(o,2),u=c[0],f=c[1];return Nt(Nt({},l),{},{from:u,velocity:f})}return l},r);return a<1?ml(function(i,l){return Rp(l)?Nt(Nt({},l),{},{velocity:Ju(l.velocity,s[i].velocity,a),from:Ju(l.from,s[i].from,a)}):l},r):e(t,s,a-1)};const aG=function(e,t,r,a,s){var i=IV(e,t),l=i.reduce(function(b,N){return Nt(Nt({},b),{},$p({},N,[e[N],t[N]]))},{}),o=i.reduce(function(b,N){return Nt(Nt({},b),{},$p({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,f,m=function(){return null},h=function(){return ml(function(N,S){return S.from},o)},v=function(){return!Object.values(o).filter(Rp).length},j=function(N){u||(u=N);var S=N-u,x=S/r.dt;o=nG(r,o,x),s(Nt(Nt(Nt({},e),t),h())),u=N,v()||(c=requestAnimationFrame(m))},y=function(N){f||(f=N);var S=(N-f)/a,x=ml(function(p,g){return Ju.apply(void 0,eN(g).concat([r(S)]))},l);if(s(Nt(Nt(Nt({},e),t),x)),S<1)c=requestAnimationFrame(m);else{var d=ml(function(p,g){return Ju.apply(void 0,eN(g).concat([r(1)]))},l);s(Nt(Nt(Nt({},e),t),d))}};return m=r.isStepper?j:y,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}var sG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iG(e,t){if(e==null)return{};var r=lG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function lG(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Of(e){return dG(e)||uG(e)||cG(e)||oG()}function oG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cG(e,t){if(e){if(typeof e=="string")return Lp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lp(e,t)}}function uG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dG(e){if(Array.isArray(e))return Lp(e)}function Lp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(a){Zi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zi(e,t,r){return t=DO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DO(a.key),a)}}function fG(e,t,r){return t&&nN(e.prototype,t),r&&nN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DO(e){var t=hG(e,"string");return Xs(t)==="symbol"?t:String(t)}function hG(e,t){if(Xs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Xs(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fp(e,t)}function Fp(e,t){return Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Fp(e,t)}function xG(e){var t=yG();return function(){var a=Xu(e),s;if(t){var i=Xu(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return Bp(this,s)}}function Bp(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qp(e)}function qp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xu(e)}var pm=function(e){pG(r,e);var t=xG(r);function r(a,s){var i;mG(this,r),i=t.call(this,a,s);var l=i.props,o=l.isActive,c=l.attributeName,u=l.from,f=l.to,m=l.steps,h=l.children,v=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(qp(i)),i.changeStyle=i.changeStyle.bind(qp(i)),!o||v<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),Bp(i);if(m&&m.length)i.state={style:m[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Bp(i);i.state={style:c?Zi({},c,u):u}}else i.state={style:{}};return i}return fG(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,o=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,m=i.from,h=this.state.style;if(o){if(!l){var v={style:c?Zi({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(v);return}if(!(SV(s.to,f)&&s.canBegin&&s.isActive)){var j=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=j||u?m:s.to;if(this.state&&h){var b={style:c?Zi({},c,y):y};(c&&h[c]!==y||!c&&h!==y)&&this.setState(b)}this.runAnimation(Tr(Tr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,o=s.to,c=s.duration,u=s.easing,f=s.begin,m=s.onAnimationEnd,h=s.onAnimationStart,v=aG(l,o,GV(u),c,this.changeStyle),j=function(){i.stopJSAnimation=v()};this.manager.start([h,f,j,c,m])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,o=s.begin,c=s.onAnimationStart,u=l[0],f=u.style,m=u.duration,h=m===void 0?0:m,v=function(y,b,N){if(N===0)return y;var S=b.duration,x=b.easing,d=x===void 0?"ease":x,p=b.style,g=b.properties,w=b.onAnimationEnd,C=N>0?l[N-1]:b,T=g||Object.keys(p);if(typeof d=="function"||d==="spring")return[].concat(Of(y),[i.runJSAnimation.bind(i,{from:C.style,to:p,duration:S,easing:d}),S]);var P=Xj(T,S,d),D=Tr(Tr(Tr({},C.style),p),{},{transition:P});return[].concat(Of(y),[D,S,w]).filter($V)};return this.manager.start([c].concat(Of(l.reduce(v,[f,Math.max(h,o)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=DV());var i=s.begin,l=s.duration,o=s.attributeName,c=s.to,u=s.easing,f=s.onAnimationStart,m=s.onAnimationEnd,h=s.steps,v=s.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var y=o?Zi({},o,c):c,b=Xj(Object.keys(y),l,u);j.start([f,i,Tr(Tr({},y),{},{transition:b}),l,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var o=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=iG(s,sG),u=O.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!o||u===0||l<=0)return i;var m=function(v){var j=v.props,y=j.style,b=y===void 0?{}:y,N=j.className,S=O.cloneElement(v,Tr(Tr({},c),{},{style:Tr(Tr({},b),f),className:N}));return S};return u===1?m(O.Children.only(i)):q.createElement("div",null,O.Children.map(i,function(h){return m(h)}))}}]),r}(O.PureComponent);pm.displayName="Animate";pm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pm.propTypes={from:Me.oneOfType([Me.object,Me.string]),to:Me.oneOfType([Me.object,Me.string]),attributeName:Me.string,duration:Me.number,begin:Me.number,easing:Me.oneOfType([Me.string,Me.func]),steps:Me.arrayOf(Me.shape({duration:Me.number.isRequired,style:Me.object.isRequired,easing:Me.oneOfType([Me.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Me.func]),properties:Me.arrayOf("string"),onAnimationEnd:Me.func})),children:Me.oneOfType([Me.node,Me.func]),isActive:Me.bool,canBegin:Me.bool,onAnimationEnd:Me.func,shouldReAnimate:Me.bool,onAnimationStart:Me.func,onAnimationReStart:Me.func};const Ys=pm;function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yu.apply(this,arguments)}function gG(e,t){return NG(e)||jG(e,t)||bG(e,t)||vG()}function vG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bG(e,t){if(e){if(typeof e=="string")return aN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aN(e,t)}}function aN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function jG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function NG(e){if(Array.isArray(e))return e}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function iN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(a){wG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wG(e,t,r){return t=SG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=CG(e,"string");return oo(t)=="symbol"?t:t+""}function CG(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(oo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lN=function(t,r,a,s,i){var l=Math.min(Math.abs(a)/2,Math.abs(s)/2),o=s>=0?1:-1,c=a>=0?1:-1,u=s>=0&&a>=0||s<0&&a<0?1:0,f;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],h=0,v=4;h<v;h++)m[h]=i[h]>l?l:i[h];f="M".concat(t,",").concat(r+o*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(t+c*m[0],",").concat(r)),f+="L ".concat(t+a-c*m[1],",").concat(r),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(t+a,",").concat(r+o*m[1])),f+="L ".concat(t+a,",").concat(r+s-o*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(t+a-c*m[2],",").concat(r+s)),f+="L ".concat(t+c*m[3],",").concat(r+s),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-o*m[3])),f+="Z"}else if(l>0&&i===+i&&i>0){var j=Math.min(l,i);f="M ".concat(t,",").concat(r+o*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(u,",").concat(t+c*j,",").concat(r,`
            L `).concat(t+a-c*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(u,",").concat(t+a,",").concat(r+o*j,`
            L `).concat(t+a,",").concat(r+s-o*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(u,",").concat(t+a-c*j,",").concat(r+s,`
            L `).concat(t+c*j,",").concat(r+s,`
            A `).concat(j,",").concat(j,",0,0,").concat(u,",").concat(t,",").concat(r+s-o*j," Z")}else f="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return f},OG=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,l=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(i,i+o),f=Math.max(i,i+o),m=Math.min(l,l+c),h=Math.max(l,l+c);return a>=u&&a<=f&&s>=m&&s<=h}return!1},kG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hg=function(t){var r=iN(iN({},kG),t),a=O.useRef(),s=O.useState(-1),i=gG(s,2),l=i[0],o=i[1];O.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var d=a.current.getTotalLength();d&&o(d)}catch{}},[]);var c=r.x,u=r.y,f=r.width,m=r.height,h=r.radius,v=r.className,j=r.animationEasing,y=r.animationDuration,b=r.animationBegin,N=r.isAnimationActive,S=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||f===0||m===0)return null;var x=Te("recharts-rectangle",v);return S?q.createElement(Ys,{canBegin:l>0,from:{width:f,height:m,x:c,y:u},to:{width:f,height:m,x:c,y:u},duration:y,animationEasing:j,isActive:S},function(d){var p=d.width,g=d.height,w=d.x,C=d.y;return q.createElement(Ys,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:N,easing:j},q.createElement("path",Yu({},ke(r,!0),{className:x,d:lN(w,C,p,g,h),ref:a})))}):q.createElement("path",Yu({},ke(r,!0),{className:x,d:lN(c,u,f,m,h)}))};function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Up.apply(this,arguments)}var pg=function(t){var r=t.cx,a=t.cy,s=t.r,i=t.className,l=Te("recharts-dot",i);return r===+r&&a===+a&&s===+s?O.createElement("circle",Up({},ke(t,!1),yu(t),{className:l,cx:r,cy:a,r:s})):null};function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}var PG=["x","y","top","left","width","height","className"];function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wp.apply(this,arguments)}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function TG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(a){AG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function AG(e,t,r){return t=DG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=EG(e,"string");return co(t)=="symbol"?t:t+""}function EG(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(co(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MG(e,t){if(e==null)return{};var r=IG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function IG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var $G=function(t,r,a,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(r,"h").concat(a)},_G=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.top,o=l===void 0?0:l,c=t.left,u=c===void 0?0:c,f=t.width,m=f===void 0?0:f,h=t.height,v=h===void 0?0:h,j=t.className,y=MG(t,PG),b=TG({x:a,y:i,top:o,left:u,width:m,height:v},y);return!ne(a)||!ne(i)||!ne(m)||!ne(v)||!ne(o)||!ne(u)?null:q.createElement("path",Wp({},ke(b,!0),{className:Te("recharts-cross",j),d:$G(a,i,m,v,o,u)}))},RG=zC,LG=RG(Object.getPrototypeOf,Object),FG=LG,BG=Tn,qG=FG,UG=An,WG="[object Object]",KG=Function.prototype,zG=Object.prototype,EO=KG.toString,VG=zG.hasOwnProperty,GG=EO.call(Object);function HG(e){if(!UG(e)||BG(e)!=WG)return!1;var t=qG(e);if(t===null)return!0;var r=VG.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&EO.call(r)==GG}var QG=HG;const JG=Fe(QG);var XG=Tn,YG=An,ZG="[object Boolean]";function eH(e){return e===!0||e===!1||YG(e)&&XG(e)==ZG}var tH=eH;const rH=Fe(tH);function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zu.apply(this,arguments)}function nH(e,t){return lH(e)||iH(e,t)||sH(e,t)||aH()}function aH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sH(e,t){if(e){if(typeof e=="string")return cN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cN(e,t)}}function cN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function iH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function lH(e){if(Array.isArray(e))return e}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(a){oH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oH(e,t,r){return t=cH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cH(e){var t=uH(e,"string");return uo(t)=="symbol"?t:t+""}function uH(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(uo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mN=function(t,r,a,s,i){var l=a-s,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+a,",").concat(r),o+="L ".concat(t+a-l/2,",").concat(r+i),o+="L ".concat(t+a-l/2-s,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},dH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mH=function(t){var r=dN(dN({},dH),t),a=O.useRef(),s=O.useState(-1),i=nH(s,2),l=i[0],o=i[1];O.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var x=a.current.getTotalLength();x&&o(x)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,m=r.lowerWidth,h=r.height,v=r.className,j=r.animationEasing,y=r.animationDuration,b=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||h!==+h||f===0&&m===0||h===0)return null;var S=Te("recharts-trapezoid",v);return N?q.createElement(Ys,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:m,height:h,x:c,y:u},duration:y,animationEasing:j,isActive:N},function(x){var d=x.upperWidth,p=x.lowerWidth,g=x.height,w=x.x,C=x.y;return q.createElement(Ys,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:j},q.createElement("path",Zu({},ke(r,!0),{className:S,d:mN(w,C,d,p,g),ref:a})))}):q.createElement("g",null,q.createElement("path",Zu({},ke(r,!0),{className:S,d:mN(c,u,f,m,h)})))},fH=["option","shapeType","propTransformer","activeClassName","isActive"];function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function hH(e,t){if(e==null)return{};var r=pH(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function pH(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(a){xH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xH(e,t,r){return t=yH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=gH(e,"string");return mo(t)=="symbol"?t:t+""}function gH(e,t){if(mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(mo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vH(e,t){return ed(ed({},t),e)}function bH(e,t){return e==="symbols"}function hN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return q.createElement(hg,r);case"trapezoid":return q.createElement(mH,r);case"sector":return q.createElement(jO,r);case"symbols":if(bH(t))return q.createElement(My,r);break;default:return null}}function jH(e){return O.isValidElement(e)?e.props:e}function NH(e){var t=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?vH:a,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,o=e.isActive,c=hH(e,fH),u;if(O.isValidElement(t))u=O.cloneElement(t,ed(ed({},c),jH(t)));else if(je(t))u=t(c);else if(JG(t)&&!rH(t)){var f=s(t,c);u=q.createElement(hN,{shapeType:r,elementProps:f})}else{var m=c;u=q.createElement(hN,{shapeType:r,elementProps:m})}return o?q.createElement(rt,{className:l},u):u}function xm(e,t){return t!=null&&"trapezoids"in e.props}function ym(e,t){return t!=null&&"sectors"in e.props}function fo(e,t){return t!=null&&"points"in e.props}function wH(e,t){var r,a,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function SH(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function CH(e,t){var r=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return r&&a&&s}function OH(e,t){var r;return xm(e,t)?r=wH:ym(e,t)?r=SH:fo(e,t)&&(r=CH),r}function kH(e,t){var r;return xm(e,t)?r="trapezoids":ym(e,t)?r="sectors":fo(e,t)&&(r="points"),r}function PH(e,t){if(xm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ym(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return fo(e,t)?t.payload:{}}function TH(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=kH(r,t),i=PH(r,t),l=a.filter(function(c,u){var f=mm(i,c),m=r.props[s].filter(function(j){var y=OH(r,t);return y(j,t)}),h=r.props[s].indexOf(m[m.length-1]),v=u===h;return f&&v}),o=a.indexOf(l[l.length-1]);return o}var AH=Math.ceil,DH=Math.max;function EH(e,t,r,a){for(var s=-1,i=DH(AH((t-e)/(r||1)),0),l=Array(i);i--;)l[a?i:++s]=e,e+=r;return l}var MH=EH,IH=u2,pN=1/0,$H=17976931348623157e292;function _H(e){if(!e)return e===0?e:0;if(e=IH(e),e===pN||e===-pN){var t=e<0?-1:1;return t*$H}return e===e?e:0}var MO=_H,RH=MH,LH=nm,kf=MO;function FH(e){return function(t,r,a){return a&&typeof a!="number"&&LH(t,r,a)&&(r=a=void 0),t=kf(t),r===void 0?(r=t,t=0):r=kf(r),a=a===void 0?t<r?1:-1:kf(a),RH(t,r,a,e)}}var BH=FH,qH=BH,UH=qH(),WH=UH;const td=Fe(WH);function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(a){IO(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IO(e,t,r){return t=KH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e){var t=zH(e,"string");return ho(t)=="symbol"?t:t+""}function zH(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ho(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VH=["Webkit","Moz","O","ms"],GH=function(t,r){if(!t)return null;var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=VH.reduce(function(i,l){return yN(yN({},i),{},IO({},l+a,r))},{});return s[t]=r,s};function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rd.apply(this,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(a){Zt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function HH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_O(a.key),a)}}function QH(e,t,r){return t&&vN(e.prototype,t),r&&vN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JH(e,t,r){return t=nd(t),XH(e,$O()?Reflect.construct(t,r||[],nd(e).constructor):t.apply(e,r))}function XH(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YH(e)}function YH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}function nd(e){return nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nd(e)}function ZH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kp(e,t)}function Kp(e,t){return Kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Kp(e,t)}function Zt(e,t,r){return t=_O(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _O(e){var t=eQ(e,"string");return Zs(t)=="symbol"?t:t+""}function eQ(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tQ=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,l=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ul().domain(td(0,c)).range([i,i+l-o]),f=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(a),endX:u(s),scale:u,scaleValues:f}},bN=function(t){return t.changedTouches&&!!t.changedTouches.length},ei=function(e){function t(r){var a;return HH(this,t),a=JH(this,t,[r]),Zt(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Zt(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Zt(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,l=s.onDragEnd,o=s.startIndex;l==null||l({endIndex:i,startIndex:o})}),a.detachDragEndListener()}),Zt(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Zt(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Zt(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Zt(a,"handleSlideDragStart",function(s){var i=bN(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return ZH(t,e),QH(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,l=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,f=u.length-1,m=Math.min(s,i),h=Math.max(s,i),v=t.getIndexInRange(l,m),j=t.getIndexInRange(l,h);return{startIndex:v-v%c,endIndex:j===f?f:j-j%c}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,l=s.tickFormatter,o=s.dataKey,c=or(i[a],o,a);return je(l)?l(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,l=s.startX,o=s.endX,c=this.props,u=c.x,f=c.width,m=c.travellerWidth,h=c.startIndex,v=c.endIndex,j=c.onChange,y=a.pageX-i;y>0?y=Math.min(y,u+f-m-o,u+f-m-l):y<0&&(y=Math.max(y,u-l,u-o));var b=this.getIndex({startX:l+y,endX:o+y});(b.startIndex!==h||b.endIndex!==v)&&j&&j(b),this.setState({startX:l+y,endX:o+y,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=bN(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,o=s.endX,c=s.startX,u=this.state[l],f=this.props,m=f.x,h=f.width,v=f.travellerWidth,j=f.onChange,y=f.gap,b=f.data,N={startX:this.state.startX,endX:this.state.endX},S=a.pageX-i;S>0?S=Math.min(S,m+h-v-u):S<0&&(S=Math.max(S,m-u)),N[l]=u+S;var x=this.getIndex(N),d=x.startIndex,p=x.endIndex,g=function(){var C=b.length-1;return l==="startX"&&(o>c?d%y===0:p%y===0)||o<c&&p===C||l==="endX"&&(o>c?p%y===0:d%y===0)||o>c&&p===C};this.setState(Zt(Zt({},l,u+S),"brushMoveStartX",a.pageX),function(){j&&g()&&j(x)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,l=this.state,o=l.scaleValues,c=l.startX,u=l.endX,f=this.state[s],m=o.indexOf(f);if(m!==-1){var h=m+a;if(!(h===-1||h>=o.length)){var v=o[h];s==="startX"&&v>=u||s==="endX"&&v<=c||this.setState(Zt({},s,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,o=a.height,c=a.fill,u=a.stroke;return q.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:l,height:o})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,o=a.height,c=a.data,u=a.children,f=a.padding,m=O.Children.only(u);return m?q.cloneElement(m,{x:s,y:i,width:l,height:o,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,l,o=this,c=this.props,u=c.y,f=c.travellerWidth,m=c.height,h=c.traveller,v=c.ariaLabel,j=c.data,y=c.startIndex,b=c.endIndex,N=Math.max(a,this.props.x),S=Pf(Pf({},ke(this.props,!1)),{},{x:N,y:u,width:f,height:m}),x=v||"Min value: ".concat((i=j[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=j[b])===null||l===void 0?void 0:l.name);return q.createElement(rt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(p){["ArrowLeft","ArrowRight"].includes(p.key)&&(p.preventDefault(),p.stopPropagation(),o.handleTravellerMoveKeyboard(p.key==="ArrowRight"?1:-1,s))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,S))}},{key:"renderSlide",value:function(a,s){var i=this.props,l=i.y,o=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(a,s)+u,m=Math.max(Math.abs(s-a)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:l,width:m,height:o})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,l=a.y,o=a.height,c=a.travellerWidth,u=a.stroke,f=this.state,m=f.startX,h=f.endX,v=5,j={pointerEvents:"none",fill:u};return q.createElement(rt,{className:"recharts-brush-texts"},q.createElement(Eu,rd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,h)-v,y:l+o/2},j),this.getTextOfTick(s)),q.createElement(Eu,rd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,h)+c+v,y:l+o/2},j),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,l=a.children,o=a.x,c=a.y,u=a.width,f=a.height,m=a.alwaysShowText,h=this.state,v=h.startX,j=h.endX,y=h.isTextActive,b=h.isSlideMoving,N=h.isTravellerMoving,S=h.isTravellerFocused;if(!s||!s.length||!ne(o)||!ne(c)||!ne(u)||!ne(f)||u<=0||f<=0)return null;var x=Te("recharts-brush",i),d=q.Children.count(l)===1,p=GH("userSelect","none");return q.createElement(rt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:p},this.renderBackground(),d&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(y||b||N||S||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,l=a.width,o=a.height,c=a.stroke,u=Math.floor(i+o/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:s,y:i,width:l,height:o,fill:c,stroke:"none"}),q.createElement("line",{x1:s+1,y1:u,x2:s+l-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:s+1,y1:u+2,x2:s+l-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return q.isValidElement(a)?i=q.cloneElement(a,s):je(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,l=a.width,o=a.x,c=a.travellerWidth,u=a.updateId,f=a.startIndex,m=a.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Pf({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:l},i&&i.length?tQ({data:i,width:l,x:o,travellerWidth:c,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||o!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([o,o+l-c]);var h=s.scale.domain().map(function(v){return s.scale(v)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:l,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,l=0,o=i-1;o-l>1;){var c=Math.floor((l+o)/2);a[c]>s?o=c:l=c}return s>=a[o]?o:l}}])}(O.PureComponent);Zt(ei,"displayName","Brush");Zt(ei,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rQ=By;function nQ(e,t){var r;return rQ(e,function(a,s,i){return r=t(a,s,i),!r}),!!r}var aQ=nQ,sQ=RC,iQ=ua,lQ=aQ,oQ=Jt,cQ=nm;function uQ(e,t,r){var a=oQ(e)?sQ:lQ;return r&&cQ(e,t,r)&&(t=void 0),a(e,iQ(t))}var dQ=uQ;const mQ=Fe(dQ);var Yr=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},jN=s2;function fQ(e,t,r){t=="__proto__"&&jN?jN(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var hQ=fQ,pQ=hQ,xQ=n2,yQ=ua;function gQ(e,t){var r={};return t=yQ(t),xQ(e,function(a,s,i){pQ(r,s,t(a,s,i))}),r}var vQ=gQ;const bQ=Fe(vQ);function jQ(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}var NQ=jQ,wQ=By;function SQ(e,t){var r=!0;return wQ(e,function(a,s,i){return r=!!t(a,s,i),r}),r}var CQ=SQ,OQ=NQ,kQ=CQ,PQ=ua,TQ=Jt,AQ=nm;function DQ(e,t,r){var a=TQ(e)?OQ:kQ;return r&&AQ(e,t,r)&&(t=void 0),a(e,PQ(t))}var EQ=DQ;const RO=Fe(EQ);var MQ=["x","y"];function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zp.apply(this,arguments)}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(a){IQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IQ(e,t,r){return t=$Q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Q(e){var t=_Q(e,"string");return po(t)=="symbol"?t:t+""}function _Q(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(po(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RQ(e,t){if(e==null)return{};var r=LQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function LQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function FQ(e,t){var r=e.x,a=e.y,s=RQ(e,MQ),i="".concat(r),l=parseInt(i,10),o="".concat(a),c=parseInt(o,10),u="".concat(t.height||s.height),f=parseInt(u,10),m="".concat(t.width||s.width),h=parseInt(m,10);return zi(zi(zi(zi(zi({},t),s),l?{x:l}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function wN(e){return q.createElement(NH,zp({shapeType:"rectangle",propTransformer:FQ,activeClassName:"recharts-active-bar"},e))}var BQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=ne(a)||l6(a);return i?t(a,s):(i||Ga(!1),r)}},qQ=["value","background"],LO;function ti(e){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}function UQ(e,t){if(e==null)return{};var r=WQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function WQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ad.apply(this,arguments)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(a){Wn(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function KQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,BO(a.key),a)}}function zQ(e,t,r){return t&&CN(e.prototype,t),r&&CN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VQ(e,t,r){return t=sd(t),GQ(e,FO()?Reflect.construct(t,r||[],sd(e).constructor):t.apply(e,r))}function GQ(e,t){if(t&&(ti(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HQ(e)}function HQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function sd(e){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sd(e)}function QQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vp(e,t)}function Vp(e,t){return Vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Vp(e,t)}function Wn(e,t,r){return t=BO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BO(e){var t=JQ(e,"string");return ti(t)=="symbol"?t:t+""}function JQ(e,t){if(ti(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ti(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bo=function(e){function t(){var r;KQ(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=VQ(this,t,[].concat(s)),Wn(r,"state",{isAnimationFinished:!1}),Wn(r,"id",Mo("recharts-bar-")),Wn(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Wn(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return QQ(t,e),zQ(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,l=i.shape,o=i.dataKey,c=i.activeIndex,u=i.activeBar,f=ke(this.props,!1);return a&&a.map(function(m,h){var v=h===c,j=v?u:l,y=nt(nt(nt({},f),m),{},{isActive:v,option:j,index:h,dataKey:o,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return q.createElement(rt,ad({className:"recharts-bar-rectangle"},gu(s.props,m,h),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(h)}),q.createElement(wN,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,l=s.layout,o=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,f=s.animationEasing,m=s.animationId,h=this.state.prevData;return q.createElement(Ys,{begin:c,duration:u,isActive:o,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,y=i.map(function(b,N){var S=h&&h[N];if(S){var x=_r(S.x,b.x),d=_r(S.y,b.y),p=_r(S.width,b.width),g=_r(S.height,b.height);return nt(nt({},b),{},{x:x(j),y:d(j),width:p(j),height:g(j)})}if(l==="horizontal"){var w=_r(0,b.height),C=w(j);return nt(nt({},b),{},{y:b.y+b.height-C,height:C})}var T=_r(0,b.width),P=T(j);return nt(nt({},b),{},{width:P})});return q.createElement(rt,null,a.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!mm(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,l=s.dataKey,o=s.activeIndex,c=ke(this.props.background,!1);return i.map(function(u,f){u.value;var m=u.background,h=UQ(u,qQ);if(!m)return null;var v=nt(nt(nt(nt(nt({},h),{},{fill:"#eee"},m),c),gu(a.props,u,f)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:f,className:"recharts-bar-background-rectangle"});return q.createElement(wN,ad({key:"background-bar-".concat(f),option:a.props.background,isActive:f===o},v))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,o=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,m=jr(f,Fo);if(!m)return null;var h=u==="vertical"?l[0].height/2:l[0].width/2,v=function(b,N){var S=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:S,errorVal:or(b,N)}},j={clipPath:a?"url(#clipPath-".concat(s,")"):null};return q.createElement(rt,j,m.map(function(y){return q.cloneElement(y,{key:"error-bar-".concat(s,"-").concat(y.props.dataKey),data:l,xAxis:o,yAxis:c,layout:u,offset:h,dataPointFormatter:v})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,l=a.className,o=a.xAxis,c=a.yAxis,u=a.left,f=a.top,m=a.width,h=a.height,v=a.isAnimationActive,j=a.background,y=a.id;if(s||!i||!i.length)return null;var b=this.state.isAnimationFinished,N=Te("recharts-bar",l),S=o&&o.allowDataOverflow,x=c&&c.allowDataOverflow,d=S||x,p=Se(y)?this.id:y;return q.createElement(rt,{className:N},S||x?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(p)},q.createElement("rect",{x:S?u:u-m/2,y:x?f:f-h/2,width:S?m:m*2,height:x?h:h*2}))):null,q.createElement(rt,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(p,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(d,p),(!v||b)&&ea.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(O.PureComponent);LO=Bo;Wn(Bo,"displayName","Bar");Wn(Bo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wn(Bo,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,m=e.displayedData,h=e.offset,v=kK(a,r);if(!v)return null;var j=t.layout,y=r.type.defaultProps,b=y!==void 0?nt(nt({},y),r.props):r.props,N=b.dataKey,S=b.children,x=b.minPointSize,d=j==="horizontal"?l:i,p=u?d.scale.domain():null,g=$K({numericAxis:d}),w=jr(S,m2),C=m.map(function(T,P){var D,k,M,F,R,E;u?D=PK(u[f+P],p):(D=or(T,N),Array.isArray(D)||(D=[g,D]));var B=BQ(x,LO.defaultProps.minPointSize)(D[1],P);if(j==="horizontal"){var A,I=[l.scale(D[0]),l.scale(D[1])],$=I[0],L=I[1];k=wj({axis:i,ticks:o,bandSize:s,offset:v.offset,entry:T,index:P}),M=(A=L??$)!==null&&A!==void 0?A:void 0,F=v.size;var _=$-L;if(R=Number.isNaN(_)?0:_,E={x:k,y:l.y,width:F,height:l.height},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var G=Fr(R||B)*(Math.abs(B)-Math.abs(R));M-=G,R+=G}}else{var ee=[i.scale(D[0]),i.scale(D[1])],ue=ee[0],X=ee[1];if(k=ue,M=wj({axis:l,ticks:c,bandSize:s,offset:v.offset,entry:T,index:P}),F=X-ue,R=v.size,E={x:i.x,y:M,width:i.width,height:R},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var ae=Fr(F||B)*(Math.abs(B)-Math.abs(F));F+=ae}}return nt(nt(nt({},T),{},{x:k,y:M,width:F,height:R,value:u?D:D[1],payload:T,background:E},w&&w[P]&&w[P].props),{},{tooltipPayload:[gO(r,T)],tooltipPosition:{x:k+F/2,y:M+R/2}})});return nt({data:C,layout:j},h)});function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function XQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ON(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,qO(a.key),a)}}function YQ(e,t,r){return t&&ON(e.prototype,t),r&&ON(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(a){gm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gm(e,t,r){return t=qO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qO(e){var t=ZQ(e,"string");return xo(t)=="symbol"?t:t+""}function ZQ(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(xo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eJ=function(t,r,a,s,i){var l=t.width,o=t.height,c=t.layout,u=t.children,f=Object.keys(r),m={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:o-a.bottom,bottomMirror:o-a.bottom},h=!!tr(u,Bo);return f.reduce(function(v,j){var y=r[j],b=y.orientation,N=y.domain,S=y.padding,x=S===void 0?{}:S,d=y.mirror,p=y.reversed,g="".concat(b).concat(d?"Mirror":""),w,C,T,P,D;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var k=N[1]-N[0],M=1/0,F=y.categoricalDomain.sort(u6);if(F.forEach(function(ee,ue){ue>0&&(M=Math.min((ee||0)-(F[ue-1]||0),M))}),Number.isFinite(M)){var R=M/k,E=y.layout==="vertical"?a.height:a.width;if(y.padding==="gap"&&(w=R*E/2),y.padding==="no-gap"){var B=za(t.barCategoryGap,R*E),A=R*E/2;w=A-B-(A-B)/E*B}}}s==="xAxis"?C=[a.left+(x.left||0)+(w||0),a.left+a.width-(x.right||0)-(w||0)]:s==="yAxis"?C=c==="horizontal"?[a.top+a.height-(x.bottom||0),a.top+(x.top||0)]:[a.top+(x.top||0)+(w||0),a.top+a.height-(x.bottom||0)-(w||0)]:C=y.range,p&&(C=[C[1],C[0]]);var I=CK(y,i,h),$=I.scale,L=I.realScaleType;$.domain(N).range(C),OK($);var _=IK($,Mr(Mr({},y),{},{realScaleType:L}));s==="xAxis"?(D=b==="top"&&!d||b==="bottom"&&d,T=a.left,P=m[g]-D*y.height):s==="yAxis"&&(D=b==="left"&&!d||b==="right"&&d,T=m[g]-D*y.width,P=a.top);var G=Mr(Mr(Mr({},y),_),{},{realScaleType:L,x:T,y:P,scale:$,width:s==="xAxis"?a.width:y.width,height:s==="yAxis"?a.height:y.height});return G.bandSize=Vu(G,_),!y.hide&&s==="xAxis"?m[g]+=(D?-1:1)*G.height:y.hide||(m[g]+=(D?-1:1)*G.width),Mr(Mr({},v),{},gm({},j,G))},{})},UO=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return{x:Math.min(a,i),y:Math.min(s,l),width:Math.abs(i-a),height:Math.abs(l-s)}},tJ=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return UO({x:r,y:a},{x:s,y:i})},WO=function(){function e(t){XQ(this,e),this.scale=t}return YQ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();gm(WO,"EPS",1e-4);var xg=function(t){var r=Object.keys(t).reduce(function(a,s){return Mr(Mr({},a),{},gm({},s,WO.create(t[s])))},{});return Mr(Mr({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,o=i.position;return bQ(s,function(c,u){return r[u].apply(c,{bandAware:l,position:o})})},isInRange:function(s){return RO(s,function(i,l){return r[l].isInRange(i)})}})};function rJ(e){return(e%180+180)%180}var nJ=function(t){var r=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=rJ(s),l=i*Math.PI/180,o=Math.atan(a/r),c=l>o&&l<Math.PI-o?a/Math.sin(l):r/Math.cos(l);return Math.abs(c)},aJ=ua,sJ=Io,iJ=tm;function lJ(e){return function(t,r,a){var s=Object(t);if(!sJ(t)){var i=aJ(r);t=iJ(t),r=function(o){return i(s[o],o,s)}}var l=e(t,r,a);return l>-1?s[i?t[l]:l]:void 0}}var oJ=lJ,cJ=MO;function uJ(e){var t=cJ(e),r=t%1;return t===t?r?t-r:t:0}var dJ=uJ,mJ=XC,fJ=ua,hJ=dJ,pJ=Math.max;function xJ(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var s=r==null?0:hJ(r);return s<0&&(s=pJ(a+s,0)),mJ(e,fJ(t),s)}var yJ=xJ,gJ=oJ,vJ=yJ,bJ=gJ(vJ),jJ=bJ;const NJ=Fe(jJ);var wJ=dI(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),yg=O.createContext(void 0),gg=O.createContext(void 0),KO=O.createContext(void 0),zO=O.createContext({}),VO=O.createContext(void 0),GO=O.createContext(0),HO=O.createContext(0),PN=function(t){var r=t.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,l=t.clipPathId,o=t.children,c=t.width,u=t.height,f=wJ(i);return q.createElement(yg.Provider,{value:a},q.createElement(gg.Provider,{value:s},q.createElement(zO.Provider,{value:i},q.createElement(KO.Provider,{value:f},q.createElement(VO.Provider,{value:l},q.createElement(GO.Provider,{value:u},q.createElement(HO.Provider,{value:c},o)))))))},SJ=function(){return O.useContext(VO)},QO=function(t){var r=O.useContext(yg);r==null&&Ga(!1);var a=r[t];return a==null&&Ga(!1),a},CJ=function(){var t=O.useContext(yg);return Ln(t)},OJ=function(){var t=O.useContext(gg),r=NJ(t,function(a){return RO(a.domain,Number.isFinite)});return r||Ln(t)},JO=function(t){var r=O.useContext(gg);r==null&&Ga(!1);var a=r[t];return a==null&&Ga(!1),a},kJ=function(){var t=O.useContext(KO);return t},PJ=function(){return O.useContext(zO)},vg=function(){return O.useContext(HO)},bg=function(){return O.useContext(GO)};function ri(e){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}function TJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,YO(a.key),a)}}function AJ(e,t,r){return t&&TN(e.prototype,t),r&&TN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DJ(e,t,r){return t=id(t),EJ(e,XO()?Reflect.construct(t,r||[],id(e).constructor):t.apply(e,r))}function EJ(e,t){if(t&&(ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MJ(e)}function MJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!e})()}function id(e){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},id(e)}function IJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gp(e,t)}function Gp(e,t){return Gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Gp(e,t)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function DN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(a){jg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jg(e,t,r){return t=YO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YO(e){var t=$J(e,"string");return ri(t)=="symbol"?t:t+""}function $J(e,t){if(ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ri(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _J(e,t){return BJ(e)||FJ(e,t)||LJ(e,t)||RJ()}function RJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LJ(e,t){if(e){if(typeof e=="string")return EN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EN(e,t)}}function EN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function FJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function BJ(e){if(Array.isArray(e))return e}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hp.apply(this,arguments)}var qJ=function(t,r){var a;return q.isValidElement(t)?a=q.cloneElement(t,r):je(t)?a=t(r):a=q.createElement("line",Hp({},r,{className:"recharts-reference-line-line"})),a},UJ=function(t,r,a,s,i,l,o,c,u){var f=i.x,m=i.y,h=i.width,v=i.height;if(a){var j=u.y,y=t.y.apply(j,{position:l});if(Yr(u,"discard")&&!t.y.isInRange(y))return null;var b=[{x:f+h,y},{x:f,y}];return c==="left"?b.reverse():b}if(r){var N=u.x,S=t.x.apply(N,{position:l});if(Yr(u,"discard")&&!t.x.isInRange(S))return null;var x=[{x:S,y:m+v},{x:S,y:m}];return o==="top"?x.reverse():x}if(s){var d=u.segment,p=d.map(function(g){return t.apply(g,{position:l})});return Yr(u,"discard")&&mQ(p,function(g){return!t.isInRange(g)})?null:p}return null};function WJ(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,o=e.className,c=e.alwaysShow,u=SJ(),f=QO(s),m=JO(i),h=kJ();if(!u||!h)return null;xn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=xg({x:f.scale,y:m.scale}),j=mt(t),y=mt(r),b=a&&a.length===2,N=UJ(v,j,y,b,h,e.position,f.orientation,m.orientation,e);if(!N)return null;var S=_J(N,2),x=S[0],d=x.x,p=x.y,g=S[1],w=g.x,C=g.y,T=Yr(e,"hidden")?"url(#".concat(u,")"):void 0,P=DN(DN({clipPath:T},ke(e,!0)),{},{x1:d,y1:p,x2:w,y2:C});return q.createElement(rt,{className:Te("recharts-reference-line",o)},qJ(l,P),Et.renderCallByParent(e,tJ({x1:d,y1:p,x2:w,y2:C})))}var Ng=function(e){function t(){return TJ(this,t),DJ(this,t,arguments)}return IJ(t,e),AJ(t,[{key:"render",value:function(){return q.createElement(WJ,this.props)}}])}(q.Component);jg(Ng,"displayName","ReferenceLine");jg(Ng,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qp.apply(this,arguments)}function ni(e){"@babel/helpers - typeof";return ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ni(e)}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(a){vm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function KJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $N(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ek(a.key),a)}}function zJ(e,t,r){return t&&$N(e.prototype,t),r&&$N(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VJ(e,t,r){return t=ld(t),GJ(e,ZO()?Reflect.construct(t,r||[],ld(e).constructor):t.apply(e,r))}function GJ(e,t){if(t&&(ni(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HJ(e)}function HJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZO=function(){return!!e})()}function ld(e){return ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ld(e)}function QJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jp(e,t)}function Jp(e,t){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Jp(e,t)}function vm(e,t,r){return t=ek(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ek(e){var t=JJ(e,"string");return ni(t)=="symbol"?t:t+""}function JJ(e,t){if(ni(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ni(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XJ=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,l=xg({x:s.scale,y:i.scale}),o=l.apply({x:r,y:a},{bandAware:!0});return Yr(t,"discard")&&!l.isInRange(o)?null:o},bm=function(e){function t(){return KJ(this,t),VJ(this,t,arguments)}return QJ(t,e),zJ(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,l=a.r,o=a.alwaysShow,c=a.clipPathId,u=mt(s),f=mt(i);if(xn(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var m=XJ(this.props);if(!m)return null;var h=m.x,v=m.y,j=this.props,y=j.shape,b=j.className,N=Yr(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=IN(IN({clipPath:N},ke(this.props,!0)),{},{cx:h,cy:v});return q.createElement(rt,{className:Te("recharts-reference-dot",b)},t.renderDot(y,S),Et.renderCallByParent(this.props,{x:h-l,y:v-l,width:2*l,height:2*l}))}}])}(q.Component);vm(bm,"displayName","ReferenceDot");vm(bm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});vm(bm,"renderDot",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):je(e)?r=e(t):r=q.createElement(pg,Qp({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xp.apply(this,arguments)}function ai(e){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(a){jm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function YJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,rk(a.key),a)}}function ZJ(e,t,r){return t&&LN(e.prototype,t),r&&LN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eX(e,t,r){return t=od(t),tX(e,tk()?Reflect.construct(t,r||[],od(e).constructor):t.apply(e,r))}function tX(e,t){if(t&&(ai(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rX(e)}function rX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tk=function(){return!!e})()}function od(e){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},od(e)}function nX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yp(e,t)}function Yp(e,t){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Yp(e,t)}function jm(e,t,r){return t=rk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rk(e){var t=aX(e,"string");return ai(t)=="symbol"?t:t+""}function aX(e,t){if(ai(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ai(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sX=function(t,r,a,s,i){var l=i.x1,o=i.x2,c=i.y1,u=i.y2,f=i.xAxis,m=i.yAxis;if(!f||!m)return null;var h=xg({x:f.scale,y:m.scale}),v={x:t?h.x.apply(l,{position:"start"}):h.x.rangeMin,y:a?h.y.apply(c,{position:"start"}):h.y.rangeMin},j={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Yr(i,"discard")&&(!h.isInRange(v)||!h.isInRange(j))?null:UO(v,j)},Nm=function(e){function t(){return YJ(this,t),eX(this,t,arguments)}return nX(t,e),ZJ(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,l=a.y1,o=a.y2,c=a.className,u=a.alwaysShow,f=a.clipPathId;xn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=mt(s),h=mt(i),v=mt(l),j=mt(o),y=this.props.shape;if(!m&&!h&&!v&&!j&&!y)return null;var b=sX(m,h,v,j,this.props);if(!b&&!y)return null;var N=Yr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return q.createElement(rt,{className:Te("recharts-reference-area",c)},t.renderRect(y,RN(RN({clipPath:N},ke(this.props,!0)),b)),Et.renderCallByParent(this.props,b))}}])}(q.Component);jm(Nm,"displayName","ReferenceArea");jm(Nm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jm(Nm,"renderRect",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):je(e)?r=e(t):r=q.createElement(hg,Xp({},t,{className:"recharts-reference-area-rect"})),r});function nk(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)if(r===void 0||r(e[s])===!0)a.push(e[s]);else return;return a}function iX(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return nJ(a,r)}function lX(e,t,r){var a=r==="width",s=e.x,i=e.y,l=e.width,o=e.height;return t===1?{start:a?s:i,end:a?s+l:i+o}:{start:a?s+l:i+o,end:a?s:i}}function cd(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function oX(e,t){return nk(e,t+1)}function cX(e,t,r,a,s){for(var i=(a||[]).slice(),l=t.start,o=t.end,c=0,u=1,f=l,m=function(){var j=a==null?void 0:a[c];if(j===void 0)return{v:nk(a,u)};var y=c,b,N=function(){return b===void 0&&(b=r(j,y)),b},S=j.coordinate,x=c===0||cd(e,S,N,f,o);x||(c=0,f=l,u+=1),x&&(f=S+e*(N()/2+s),c+=u)},h;u<=i.length;)if(h=m(),h)return h.v;return[]}function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(a){uX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uX(e,t,r){return t=dX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dX(e){var t=mX(e,"string");return yo(t)=="symbol"?t:t+""}function mX(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(yo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fX(e,t,r,a,s){for(var i=(a||[]).slice(),l=i.length,o=t.start,c=t.end,u=function(h){var v=i[h],j,y=function(){return j===void 0&&(j=r(v,h)),j};if(h===l-1){var b=e*(v.coordinate+e*y()/2-c);i[h]=v=At(At({},v),{},{tickCoord:b>0?v.coordinate-b*e:v.coordinate})}else i[h]=v=At(At({},v),{},{tickCoord:v.coordinate});var N=cd(e,v.tickCoord,y,o,c);N&&(c=v.tickCoord-e*(y()/2+s),i[h]=At(At({},v),{},{isShow:!0}))},f=l-1;f>=0;f--)u(f);return i}function hX(e,t,r,a,s,i){var l=(a||[]).slice(),o=l.length,c=t.start,u=t.end;if(i){var f=a[o-1],m=r(f,o-1),h=e*(f.coordinate+e*m/2-u);l[o-1]=f=At(At({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var v=cd(e,f.tickCoord,function(){return m},c,u);v&&(u=f.tickCoord-e*(m/2+s),l[o-1]=At(At({},f),{},{isShow:!0}))}for(var j=i?o-1:o,y=function(S){var x=l[S],d,p=function(){return d===void 0&&(d=r(x,S)),d};if(S===0){var g=e*(x.coordinate-e*p()/2-c);l[S]=x=At(At({},x),{},{tickCoord:g<0?x.coordinate-g*e:x.coordinate})}else l[S]=x=At(At({},x),{},{tickCoord:x.coordinate});var w=cd(e,x.tickCoord,p,c,u);w&&(c=x.tickCoord+e*(p()/2+s),l[S]=At(At({},x),{},{isShow:!0}))},b=0;b<j;b++)y(b);return l}function wg(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,o=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,m=e.angle;if(!s||!s.length||!a)return[];if(ne(c)||yn.isSsr)return oX(s,typeof c=="number"&&ne(c)?c:0);var h=[],v=o==="top"||o==="bottom"?"width":"height",j=f&&v==="width"?cl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(x,d){var p=je(u)?u(x.value,d):x.value;return v==="width"?iX(cl(p,{fontSize:t,letterSpacing:r}),j,m):cl(p,{fontSize:t,letterSpacing:r})[v]},b=s.length>=2?Fr(s[1].coordinate-s[0].coordinate):1,N=lX(i,b,v);return c==="equidistantPreserveStart"?cX(b,N,y,s,l):(c==="preserveStart"||c==="preserveStartEnd"?h=hX(b,N,y,s,l,c==="preserveStartEnd"):h=fX(b,N,y,s,l),h.filter(function(S){return S.isShow}))}var pX=["viewBox"],xX=["viewBox"],yX=["ticks"];function si(e){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(e)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ns.apply(this,arguments)}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(a){Sg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tf(e,t){if(e==null)return{};var r=gX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function vX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sk(a.key),a)}}function bX(e,t,r){return t&&qN(e.prototype,t),r&&qN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jX(e,t,r){return t=ud(t),NX(e,ak()?Reflect.construct(t,r||[],ud(e).constructor):t.apply(e,r))}function NX(e,t){if(t&&(si(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wX(e)}function wX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ak(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ak=function(){return!!e})()}function ud(e){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ud(e)}function SX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zp(e,t)}function Zp(e,t){return Zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Zp(e,t)}function Sg(e,t,r){return t=sk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sk(e){var t=CX(e,"string");return si(t)=="symbol"?t:t+""}function CX(e,t){if(si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(si(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ki=function(e){function t(r){var a;return vX(this,t),a=jX(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return SX(t,e),bX(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,l=Tf(a,pX),o=this.props,c=o.viewBox,u=Tf(o,xX);return!As(i,c)||!As(l,u)||!As(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,l=s.y,o=s.width,c=s.height,u=s.orientation,f=s.tickSize,m=s.mirror,h=s.tickMargin,v,j,y,b,N,S,x=m?-1:1,d=a.tickSize||f,p=ne(a.tickCoord)?a.tickCoord:a.coordinate;switch(u){case"top":v=j=a.coordinate,b=l+ +!m*c,y=b-x*d,S=y-x*h,N=p;break;case"left":y=b=a.coordinate,j=i+ +!m*o,v=j-x*d,N=v-x*h,S=p;break;case"right":y=b=a.coordinate,j=i+ +m*o,v=j+x*d,N=v+x*h,S=p;break;default:v=j=a.coordinate,b=l+ +m*c,y=b+x*d,S=y+x*h,N=p;break}return{line:{x1:v,y1:y,x2:j,y2:b},tick:{x:N,y:S}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,o=a.height,c=a.orientation,u=a.mirror,f=a.axisLine,m=lt(lt(lt({},ke(this.props,!1)),ke(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);m=lt(lt({},m),{},{x1:s,y1:i+h*o,x2:s+l,y2:i+h*o})}else{var v=+(c==="left"&&!u||c==="right"&&u);m=lt(lt({},m),{},{x1:s+v*l,y1:i,x2:s+v*l,y2:i+o})}return q.createElement("line",Ns({},m,{className:Te("recharts-cartesian-axis-line",br(f,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var l=this,o=this.props,c=o.tickLine,u=o.stroke,f=o.tick,m=o.tickFormatter,h=o.unit,v=wg(lt(lt({},this.props),{},{ticks:a}),s,i),j=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=ke(this.props,!1),N=ke(f,!1),S=lt(lt({},b),{},{fill:"none"},ke(c,!1)),x=v.map(function(d,p){var g=l.getTickLineCoord(d),w=g.line,C=g.tick,T=lt(lt(lt(lt({textAnchor:j,verticalAnchor:y},b),{},{stroke:"none",fill:u},N),C),{},{index:p,payload:d,visibleTicksCount:v.length,tickFormatter:m});return q.createElement(rt,Ns({className:"recharts-cartesian-axis-tick",key:"tick-".concat(d.value,"-").concat(d.coordinate,"-").concat(d.tickCoord)},gu(l.props,d,p)),c&&q.createElement("line",Ns({},S,w,{className:Te("recharts-cartesian-axis-tick-line",br(c,"className"))})),f&&t.renderTickItem(f,T,"".concat(je(m)?m(d.value,p):d.value).concat(h||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,l=s.width,o=s.height,c=s.ticksGenerator,u=s.className,f=s.hide;if(f)return null;var m=this.props,h=m.ticks,v=Tf(m,yX),j=h;return je(c)&&(j=h&&h.length>0?c(this.props):c(v)),l<=0||o<=0||!j||!j.length?null:q.createElement(rt,{className:Te("recharts-cartesian-axis",u),ref:function(b){a.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),Et.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var l,o=Te(s.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(a)?l=q.cloneElement(a,lt(lt({},s),{},{className:o})):je(a)?l=a(lt(lt({},s),{},{className:o})):l=q.createElement(Eu,Ns({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])}(O.Component);Sg(ki,"displayName","CartesianAxis");Sg(ki,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var OX=["x1","y1","x2","y2","key"],kX=["offset"];function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(a){PX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PX(e,t,r){return t=TX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TX(e){var t=AX(e,"string");return Ha(t)=="symbol"?t:t+""}function AX(e,t){if(Ha(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ha(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Da.apply(this,arguments)}function WN(e,t){if(e==null)return{};var r=DX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function DX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var EX=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,l=t.width,o=t.height,c=t.ry;return q.createElement("rect",{x:s,y:i,ry:c,width:l,height:o,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function ik(e,t){var r;if(q.isValidElement(e))r=q.cloneElement(e,t);else if(je(e))r=e(t);else{var a=t.x1,s=t.y1,i=t.x2,l=t.y2,o=t.key,c=WN(t,OX),u=ke(c,!1);u.offset;var f=WN(u,kX);r=q.createElement("line",Da({},f,{x1:a,y1:s,x2:i,y2:l,fill:"none",key:o}))}return r}function MX(e){var t=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(o,c){var u=Mt(Mt({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return ik(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function IX(e){var t=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(o,c){var u=Mt(Mt({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return ik(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function $X(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,i=e.width,l=e.height,o=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=o.map(function(h){return Math.round(h+s-s)}).sort(function(h,v){return h-v});s!==f[0]&&f.unshift(0);var m=f.map(function(h,v){var j=!f[v+1],y=j?s+l-h:f[v+1]-h;if(y<=0)return null;var b=v%t.length;return q.createElement("rect",{key:"react-".concat(v),y:h,x:a,height:y,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function _X(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,o=e.width,c=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var f=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,v){return h-v});i!==f[0]&&f.unshift(0);var m=f.map(function(h,v){var j=!f[v+1],y=j?i+o-h:f[v+1]-h;if(y<=0)return null;var b=v%a.length;return q.createElement("rect",{key:"react-".concat(v),x:h,y:l,width:y,height:c,stroke:"none",fill:a[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var RX=function(t,r){var a=t.xAxis,s=t.width,i=t.height,l=t.offset;return xO(wg(Mt(Mt(Mt({},ki.defaultProps),a),{},{ticks:mn(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,r)},LX=function(t,r){var a=t.yAxis,s=t.width,i=t.height,l=t.offset;return xO(wg(Mt(Mt(Mt({},ki.defaultProps),a),{},{ticks:mn(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,r)},ls={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ex(e){var t,r,a,s,i,l,o=vg(),c=bg(),u=PJ(),f=Mt(Mt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ls.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ls.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:ls.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:ls.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ls.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:ls.verticalFill,x:ne(e.x)?e.x:u.left,y:ne(e.y)?e.y:u.top,width:ne(e.width)?e.width:u.width,height:ne(e.height)?e.height:u.height}),m=f.x,h=f.y,v=f.width,j=f.height,y=f.syncWithTicks,b=f.horizontalValues,N=f.verticalValues,S=CJ(),x=OJ();if(!ne(v)||v<=0||!ne(j)||j<=0||!ne(m)||m!==+m||!ne(h)||h!==+h)return null;var d=f.verticalCoordinatesGenerator||RX,p=f.horizontalCoordinatesGenerator||LX,g=f.horizontalPoints,w=f.verticalPoints;if((!g||!g.length)&&je(p)){var C=b&&b.length,T=p({yAxis:x?Mt(Mt({},x),{},{ticks:C?b:x.ticks}):void 0,width:o,height:c,offset:u},C?!0:y);xn(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ha(T),"]")),Array.isArray(T)&&(g=T)}if((!w||!w.length)&&je(d)){var P=N&&N.length,D=d({xAxis:S?Mt(Mt({},S),{},{ticks:P?N:S.ticks}):void 0,width:o,height:c,offset:u},P?!0:y);xn(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ha(D),"]")),Array.isArray(D)&&(w=D)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(EX,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),q.createElement(MX,Da({},f,{offset:u,horizontalPoints:g,xAxis:S,yAxis:x})),q.createElement(IX,Da({},f,{offset:u,verticalPoints:w,xAxis:S,yAxis:x})),q.createElement($X,Da({},f,{horizontalPoints:g})),q.createElement(_X,Da({},f,{verticalPoints:w})))}ex.displayName="CartesianGrid";var FX=["type","layout","connectNulls","ref"],BX=["key"];function ii(e){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(e)}function KN(e,t){if(e==null)return{};var r=qX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fl.apply(this,arguments)}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(a){Ir(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function os(e){return zX(e)||KX(e)||WX(e)||UX()}function UX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WX(e,t){if(e){if(typeof e=="string")return tx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(e,t)}}function KX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zX(e){if(Array.isArray(e))return tx(e)}function tx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function VX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ok(a.key),a)}}function GX(e,t,r){return t&&VN(e.prototype,t),r&&VN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HX(e,t,r){return t=dd(t),QX(e,lk()?Reflect.construct(t,r||[],dd(e).constructor):t.apply(e,r))}function QX(e,t){if(t&&(ii(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JX(e)}function JX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!e})()}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dd(e)}function XX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},rx(e,t)}function Ir(e,t,r){return t=ok(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ok(e){var t=YX(e,"string");return ii(t)=="symbol"?t:t+""}function YX(e,t){if(ii(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ii(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var li=function(e){function t(){var r;VX(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=HX(this,t,[].concat(s)),Ir(r,"state",{isAnimationFinished:!0,totalLength:0}),Ir(r,"generateSimpleStrokeDasharray",function(l,o){return"".concat(o,"px ").concat(l-o,"px")}),Ir(r,"getStrokeDasharray",function(l,o,c){var u=c.reduce(function(N,S){return N+S});if(!u)return r.generateSimpleStrokeDasharray(o,l);for(var f=Math.floor(l/u),m=l%u,h=o-l,v=[],j=0,y=0;j<c.length;y+=c[j],++j)if(y+c[j]>m){v=[].concat(os(c.slice(0,j)),[m-y]);break}var b=v.length%2===0?[0,h]:[h];return[].concat(os(t.repeat(c,f)),os(v),b).map(function(N){return"".concat(N,"px")}).join(", ")}),Ir(r,"id",Mo("recharts-line-")),Ir(r,"pathRef",function(l){r.mainCurve=l}),Ir(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ir(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return XX(t,e),GX(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.points,o=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,m=jr(f,Fo);if(!m)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:or(y.payload,b)}},v={clipPath:a?"url(#clipPath-".concat(s,")"):null};return q.createElement(rt,v,m.map(function(j){return q.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:l,xAxis:o,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(a,s,i){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,u=o.points,f=o.dataKey,m=ke(this.props,!1),h=ke(c,!0),v=u.map(function(y,b){var N=Yt(Yt(Yt({key:"dot-".concat(b),r:3},m),h),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:u});return t.renderDotItem(c,N)}),j={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return q.createElement(rt,fl({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(a,s,i,l){var o=this.props,c=o.type,u=o.layout,f=o.connectNulls;o.ref;var m=KN(o,FX),h=Yt(Yt(Yt({},ke(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},l),{},{type:c,layout:u,connectNulls:f});return q.createElement(Ep,fl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,l=this.props,o=l.points,c=l.strokeDasharray,u=l.isAnimationActive,f=l.animationBegin,m=l.animationDuration,h=l.animationEasing,v=l.animationId,j=l.animateNewValues,y=l.width,b=l.height,N=this.state,S=N.prevPoints,x=N.totalLength;return q.createElement(Ys,{begin:f,duration:m,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var p=d.t;if(S){var g=S.length/o.length,w=o.map(function(k,M){var F=Math.floor(M*g);if(S[F]){var R=S[F],E=_r(R.x,k.x),B=_r(R.y,k.y);return Yt(Yt({},k),{},{x:E(p),y:B(p)})}if(j){var A=_r(y*2,k.x),I=_r(b/2,k.y);return Yt(Yt({},k),{},{x:A(p),y:I(p)})}return Yt(Yt({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(w,a,s)}var C=_r(0,x),T=C(p),P;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});P=i.getStrokeDasharray(T,x,D)}else P=i.generateSimpleStrokeDasharray(x,T);return i.renderCurveStatically(o,a,s,{strokeDasharray:P})})}},{key:"renderCurve",value:function(a,s){var i=this.props,l=i.points,o=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return o&&l&&l.length&&(!u&&f>0||!mm(u,l))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(l,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,l=s.dot,o=s.points,c=s.className,u=s.xAxis,f=s.yAxis,m=s.top,h=s.left,v=s.width,j=s.height,y=s.isAnimationActive,b=s.id;if(i||!o||!o.length)return null;var N=this.state.isAnimationFinished,S=o.length===1,x=Te("recharts-line",c),d=u&&u.allowDataOverflow,p=f&&f.allowDataOverflow,g=d||p,w=Se(b)?this.id:b,C=(a=ke(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},T=C.r,P=T===void 0?3:T,D=C.strokeWidth,k=D===void 0?2:D,M=v6(l)?l:{},F=M.clipDot,R=F===void 0?!0:F,E=P*2+k;return q.createElement(rt,{className:x},d||p?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(w)},q.createElement("rect",{x:d?h:h-v/2,y:p?m:m-j/2,width:d?v:v*2,height:p?j:j*2})),!R&&q.createElement("clipPath",{id:"clipPath-dots-".concat(w)},q.createElement("rect",{x:h-E/2,y:m-E/2,width:v+E,height:j+E}))):null,!S&&this.renderCurve(g,w),this.renderErrorBar(g,w),(S||l)&&this.renderDots(g,R,w),(!y||N)&&ea.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(os(a),[0]):a,l=[],o=0;o<s;++o)l=[].concat(os(l),os(i));return l}},{key:"renderDotItem",value:function(a,s){var i;if(q.isValidElement(a))i=q.cloneElement(a,s);else if(je(a))i=a(s);else{var l=s.key,o=KN(s,BX),c=Te("recharts-line-dot",typeof a!="boolean"?a.className:"");i=q.createElement(pg,fl({key:l},o,{className:c}))}return i}}])}(O.PureComponent);Ir(li,"displayName","Line");Ir(li,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!yn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ir(li,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,l=e.dataKey,o=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,m=c.map(function(h,v){var j=or(h,l);return f==="horizontal"?{x:Nj({axis:r,ticks:s,bandSize:o,entry:h,index:v}),y:Se(j)?null:a.scale(j),value:j,payload:h}:{x:Se(j)?null:r.scale(j),y:Nj({axis:a,ticks:i,bandSize:o,entry:h,index:v}),value:j,payload:h}});return Yt({points:m,layout:f},u)});function oi(e){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(e)}function ZX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,dk(a.key),a)}}function eY(e,t,r){return t&&GN(e.prototype,t),r&&GN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tY(e,t,r){return t=md(t),rY(e,ck()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function rY(e,t){if(t&&(oi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nY(e)}function nY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ck(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ck=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function aY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nx(e,t)}function nx(e,t){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},nx(e,t)}function uk(e,t,r){return t=dk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dk(e){var t=sY(e,"string");return oi(t)=="symbol"?t:t+""}function sY(e,t){if(oi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(oi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ax.apply(this,arguments)}function iY(e){var t=e.xAxisId,r=vg(),a=bg(),s=QO(t);return s==null?null:O.createElement(ki,ax({},s,{className:Te("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return mn(l,!0)}}))}var go=function(e){function t(){return ZX(this,t),tY(this,t,arguments)}return aY(t,e),eY(t,[{key:"render",value:function(){return O.createElement(iY,this.props)}}])}(O.Component);uk(go,"displayName","XAxis");uk(go,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ci(e){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(e)}function lY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hk(a.key),a)}}function oY(e,t,r){return t&&HN(e.prototype,t),r&&HN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cY(e,t,r){return t=fd(t),uY(e,mk()?Reflect.construct(t,r||[],fd(e).constructor):t.apply(e,r))}function uY(e,t){if(t&&(ci(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dY(e)}function dY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mk=function(){return!!e})()}function fd(e){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fd(e)}function mY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sx(e,t)}function sx(e,t){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},sx(e,t)}function fk(e,t,r){return t=hk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hk(e){var t=fY(e,"string");return ci(t)=="symbol"?t:t+""}function fY(e,t){if(ci(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ci(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ix.apply(this,arguments)}var hY=function(t){var r=t.yAxisId,a=vg(),s=bg(),i=JO(r);return i==null?null:O.createElement(ki,ix({},i,{className:Te("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(o){return mn(o,!0)}}))},vo=function(e){function t(){return lY(this,t),cY(this,t,arguments)}return mY(t,e),oY(t,[{key:"render",value:function(){return O.createElement(hY,this.props)}}])}(O.Component);fk(vo,"displayName","YAxis");fk(vo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function QN(e){return gY(e)||yY(e)||xY(e)||pY()}function pY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xY(e,t){if(e){if(typeof e=="string")return lx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lx(e,t)}}function yY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gY(e){if(Array.isArray(e))return lx(e)}function lx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var ox=function(t,r,a,s,i){var l=jr(t,Ng),o=jr(t,bm),c=[].concat(QN(l),QN(o)),u=jr(t,Nm),f="".concat(s,"Id"),m=s[0],h=r;if(c.length&&(h=c.reduce(function(y,b){if(b.props[f]===a&&Yr(b.props,"extendDomain")&&ne(b.props[m])){var N=b.props[m];return[Math.min(y[0],N),Math.max(y[1],N)]}return y},h)),u.length){var v="".concat(m,"1"),j="".concat(m,"2");h=u.reduce(function(y,b){if(b.props[f]===a&&Yr(b.props,"extendDomain")&&ne(b.props[v])&&ne(b.props[j])){var N=b.props[v],S=b.props[j];return[Math.min(y[0],N,S),Math.max(y[1],N,S)]}return y},h)}return i&&i.length&&(h=i.reduce(function(y,b){return ne(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},pk={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,m,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new s(f,m||c,h),j=r?r+u:u;return c._events[j]?c._events[j].fn?c._events[j]=[c._events[j],v]:c._events[j].push(v):(c._events[j]=v,c._eventsCount++),c}function l(c,u){--c._eventsCount===0?c._events=new a:delete c._events[u]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],f,m;if(this._eventsCount===0)return u;for(m in f=this._events)t.call(f,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},o.prototype.listeners=function(u){var f=r?r+u:u,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,v=m.length,j=new Array(v);h<v;h++)j[h]=m[h].fn;return j},o.prototype.listenerCount=function(u){var f=r?r+u:u,m=this._events[f];return m?m.fn?1:m.length:0},o.prototype.emit=function(u,f,m,h,v,j){var y=r?r+u:u;if(!this._events[y])return!1;var b=this._events[y],N=arguments.length,S,x;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),N){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,m),!0;case 4:return b.fn.call(b.context,f,m,h),!0;case 5:return b.fn.call(b.context,f,m,h,v),!0;case 6:return b.fn.call(b.context,f,m,h,v,j),!0}for(x=1,S=new Array(N-1);x<N;x++)S[x-1]=arguments[x];b.fn.apply(b.context,S)}else{var d=b.length,p;for(x=0;x<d;x++)switch(b[x].once&&this.removeListener(u,b[x].fn,void 0,!0),N){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,f);break;case 3:b[x].fn.call(b[x].context,f,m);break;case 4:b[x].fn.call(b[x].context,f,m,h);break;default:if(!S)for(p=1,S=new Array(N-1);p<N;p++)S[p-1]=arguments[p];b[x].fn.apply(b[x].context,S)}}return!0},o.prototype.on=function(u,f,m){return i(this,u,f,m,!1)},o.prototype.once=function(u,f,m){return i(this,u,f,m,!0)},o.prototype.removeListener=function(u,f,m,h){var v=r?r+u:u;if(!this._events[v])return this;if(!f)return l(this,v),this;var j=this._events[v];if(j.fn)j.fn===f&&(!h||j.once)&&(!m||j.context===m)&&l(this,v);else{for(var y=0,b=[],N=j.length;y<N;y++)(j[y].fn!==f||h&&!j[y].once||m&&j[y].context!==m)&&b.push(j[y]);b.length?this._events[v]=b.length===1?b[0]:b:l(this,v)}return this},o.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&l(this,f)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(pk);var vY=pk.exports;const bY=Fe(vY);var Af=new bY,Df="recharts.syncMouseEvents";function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function jY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xk(a.key),a)}}function NY(e,t,r){return t&&JN(e.prototype,t),r&&JN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ef(e,t,r){return t=xk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xk(e){var t=wY(e,"string");return bo(t)=="symbol"?t:t+""}function wY(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(bo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SY=function(){function e(){jY(this,e),Ef(this,"activeIndex",0),Ef(this,"coordinateList",[]),Ef(this,"layout","horizontal")}return NY(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,l=r.container,o=l===void 0?null:l,c=r.layout,u=c===void 0?null:c,f=r.offset,m=f===void 0?null:f,h=r.mouseHandlerCallback,v=h===void 0?null:h;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,o=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((a=window)===null||a===void 0?void 0:a.scrollY)||0,m=i+c+u,h=l+this.offset.top+o/2+f;this.mouseHandlerCallback({pageX:m,pageY:h})}}}])}();function CY(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&ne(a)&&ne(s))return!0}return!1}function OY(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function yk(e){var t=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,l=St(t,r,a,s),o=St(t,r,a,i);return{points:[l,o],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function kY(e,t,r){var a,s,i,l;if(e==="horizontal")a=t.x,i=a,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,m=t.angle,h=St(o,c,u,m),v=St(o,c,f,m);a=h.x,s=h.y,i=v.x,l=v.y}else return yk(t);return[{x:a,y:s},{x:i,y:l}]}function jo(e){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(e)}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(a){PY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PY(e,t,r){return t=TY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=AY(e,"string");return jo(t)=="symbol"?t:t+""}function AY(e,t){if(jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(jo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DY(e){var t,r,a=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,m=e.layout,h=e.chartName,v=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!v||!i||!l||h!=="ScatterChart"&&s!=="axis")return null;var j,y=Ep;if(h==="ScatterChart")j=l,y=_G;else if(h==="BarChart")j=OY(m,l,c,f),y=hg;else if(m==="radial"){var b=yk(l),N=b.cx,S=b.cy,x=b.radius,d=b.startAngle,p=b.endAngle;j={cx:N,cy:S,startAngle:d,endAngle:p,innerRadius:x,outerRadius:x},y=jO}else j={points:kY(m,l,c)},y=Ep;var g=Nc(Nc(Nc(Nc({stroke:"#ccc",pointerEvents:"none"},c),j),ke(v,!1)),{},{payload:o,payloadIndex:u,className:Te("recharts-tooltip-cursor",v.className)});return O.isValidElement(v)?O.cloneElement(v,g):O.createElement(y,g)}var EY=["item"],MY=["children","className","width","height","style","compact","title","desc"];function ui(e){"@babel/helpers - typeof";return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(e)}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ws.apply(this,arguments)}function YN(e,t){return _Y(e)||$Y(e,t)||vk(e,t)||IY()}function IY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Y(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function _Y(e){if(Array.isArray(e))return e}function ZN(e,t){if(e==null)return{};var r=RY(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function RY(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function LY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ew(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,bk(a.key),a)}}function FY(e,t,r){return t&&ew(e.prototype,t),r&&ew(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BY(e,t,r){return t=hd(t),qY(e,gk()?Reflect.construct(t,r||[],hd(e).constructor):t.apply(e,r))}function qY(e,t){if(t&&(ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UY(e)}function UY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gk=function(){return!!e})()}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hd(e)}function WY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cx(e,t)}function cx(e,t){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cx(e,t)}function di(e){return VY(e)||zY(e)||vk(e)||KY()}function KY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vk(e,t){if(e){if(typeof e=="string")return ux(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ux(e,t)}}function zY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VY(e){if(Array.isArray(e))return ux(e)}function ux(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(a){he(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function he(e,t,r){return t=bk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bk(e){var t=GY(e,"string");return ui(t)=="symbol"?t:t+""}function GY(e,t){if(ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ui(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HY={xAxis:["bottom","top"],yAxis:["left","right"]},QY={width:"100%",height:"100%"},jk={x:0,y:0};function wc(e){return e}var JY=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},XY=function(t,r,a,s){var i=r.find(function(f){return f&&f.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,o=s.radius;return V(V(V({},s),St(s.cx,s.cy,o,l)),{},{angle:l,radius:o})}var c=i.coordinate,u=s.angle;return V(V(V({},s),St(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return jk},wm=function(t,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,l=(a??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(di(o),di(u)):o},[]);return l.length>0?l:t&&t.length&&ne(s)&&ne(i)?t.slice(s,i+1):[]};function Nk(e){return e==="number"?[0,"auto"]:void 0}var dx=function(t,r,a,s){var i=t.graphicalItems,l=t.tooltipAxis,o=wm(r,t);return a<0||!i||!i.length||a>=o.length?null:i.reduce(function(c,u){var f,m=(f=u.props.data)!==null&&f!==void 0?f:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(l.dataKey&&!l.allowDuplicatedCategory){var v=m===void 0?o:m;h=xu(v,l.dataKey,s)}else h=m&&m[a]||o[a];return h?[].concat(di(c),[gO(u,h)]):c},[])},rw=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},l=JY(i,a),o=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=vK(l,o,u,c);if(f>=0&&u){var m=u[f]&&u[f].value,h=dx(t,r,f,m),v=XY(a,o,f,i);return{activeTooltipIndex:f,activeLabel:m,activePayload:h,activeCoordinate:v}}return null},YY=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,l=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,m=t.children,h=t.stackOffset,v=pO(f,i);return a.reduce(function(j,y){var b,N=y.type.defaultProps!==void 0?V(V({},y.type.defaultProps),y.props):y.props,S=N.type,x=N.dataKey,d=N.allowDataOverflow,p=N.allowDuplicatedCategory,g=N.scale,w=N.ticks,C=N.includeHidden,T=N[l];if(j[T])return j;var P=wm(t.data,{graphicalItems:s.filter(function(_){var G,ee=l in _.props?_.props[l]:(G=_.type.defaultProps)===null||G===void 0?void 0:G[l];return ee===T}),dataStartIndex:c,dataEndIndex:u}),D=P.length,k,M,F;CY(N.domain,d,S)&&(k=kp(N.domain,null,d),v&&(S==="number"||g!=="auto")&&(F=dl(P,x,"category")));var R=Nk(S);if(!k||k.length===0){var E,B=(E=N.domain)!==null&&E!==void 0?E:R;if(x){if(k=dl(P,x,S),S==="category"&&v){var A=c6(k);p&&A?(M=k,k=td(0,D)):p||(k=Oj(B,k,y).reduce(function(_,G){return _.indexOf(G)>=0?_:[].concat(di(_),[G])},[]))}else if(S==="category")p?k=k.filter(function(_){return _!==""&&!Se(_)}):k=Oj(B,k,y).reduce(function(_,G){return _.indexOf(G)>=0||G===""||Se(G)?_:[].concat(di(_),[G])},[]);else if(S==="number"){var I=SK(P,s.filter(function(_){var G,ee,ue=l in _.props?_.props[l]:(G=_.type.defaultProps)===null||G===void 0?void 0:G[l],X="hide"in _.props?_.props.hide:(ee=_.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ue===T&&(C||!X)}),x,i,f);I&&(k=I)}v&&(S==="number"||g!=="auto")&&(F=dl(P,x,"category"))}else v?k=td(0,D):o&&o[T]&&o[T].hasStack&&S==="number"?k=h==="expand"?[0,1]:yO(o[T].stackGroups,c,u):k=hO(P,s.filter(function(_){var G=l in _.props?_.props[l]:_.type.defaultProps[l],ee="hide"in _.props?_.props.hide:_.type.defaultProps.hide;return G===T&&(C||!ee)}),S,f,!0);if(S==="number")k=ox(m,k,T,i,w),B&&(k=kp(B,k,d));else if(S==="category"&&B){var $=B,L=k.every(function(_){return $.indexOf(_)>=0});L&&(k=$)}}return V(V({},j),{},he({},T,V(V({},N),{},{axisType:i,domain:k,categoricalDomain:F,duplicateDomain:M,originalDomain:(b=N.domain)!==null&&b!==void 0?b:R,isCategorical:v,layout:f})))},{})},ZY=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,l=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,m=t.children,h=wm(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:u}),v=h.length,j=pO(f,i),y=-1;return a.reduce(function(b,N){var S=N.type.defaultProps!==void 0?V(V({},N.type.defaultProps),N.props):N.props,x=S[l],d=Nk("number");if(!b[x]){y++;var p;return j?p=td(0,v):o&&o[x]&&o[x].hasStack?(p=yO(o[x].stackGroups,c,u),p=ox(m,p,x,i)):(p=kp(d,hO(h,a.filter(function(g){var w,C,T=l in g.props?g.props[l]:(w=g.type.defaultProps)===null||w===void 0?void 0:w[l],P="hide"in g.props?g.props.hide:(C=g.type.defaultProps)===null||C===void 0?void 0:C.hide;return T===x&&!P}),"number",f),s.defaultProps.allowDataOverflow),p=ox(m,p,x,i)),V(V({},b),{},he({},x,V(V({axisType:i},s.defaultProps),{},{hide:!0,orientation:br(HY,"".concat(i,".").concat(y%2),null),domain:p,originalDomain:d,isCategorical:j,layout:f})))}return b},{})},eZ=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,l=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,m="".concat(s,"Id"),h=jr(f,i),v={};return h&&h.length?v=YY(t,{axes:h,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):l&&l.length&&(v=ZY(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),v},tZ=function(t){var r=Ln(t),a=mn(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:qy(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Vu(r,a)}},nw=function(t){var r=t.children,a=t.defaultShowTooltip,s=tr(r,ei),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},rZ=function(t){return!t||!t.length?!1:t.some(function(r){var a=pn(r&&r.type);return a&&a.indexOf("Bar")>=0})},aw=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nZ=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,o=t.yAxisMap,c=o===void 0?{}:o,u=a.width,f=a.height,m=a.children,h=a.margin||{},v=tr(m,ei),j=tr(m,Ds),y=Object.keys(c).reduce(function(p,g){var w=c[g],C=w.orientation;return!w.mirror&&!w.hide?V(V({},p),{},he({},C,p[C]+w.width)):p},{left:h.left||0,right:h.right||0}),b=Object.keys(l).reduce(function(p,g){var w=l[g],C=w.orientation;return!w.mirror&&!w.hide?V(V({},p),{},he({},C,br(p,"".concat(C))+w.height)):p},{top:h.top||0,bottom:h.bottom||0}),N=V(V({},b),y),S=N.bottom;v&&(N.bottom+=v.props.height||ei.defaultProps.height),j&&r&&(N=NK(N,s,a,r));var x=u-N.left-N.right,d=f-N.top-N.bottom;return V(V({brushBottom:S},N),{},{width:Math.max(x,0),height:Math.max(d,0)})},aZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},sZ=function(t){var r=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,o=l===void 0?["axis"]:l,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,m=t.defaultProps,h=function(N,S){var x=S.graphicalItems,d=S.stackGroups,p=S.offset,g=S.updateId,w=S.dataStartIndex,C=S.dataEndIndex,T=N.barSize,P=N.layout,D=N.barGap,k=N.barCategoryGap,M=N.maxBarSize,F=aw(P),R=F.numericAxisName,E=F.cateAxisName,B=rZ(x),A=[];return x.forEach(function(I,$){var L=wm(N.data,{graphicalItems:[I],dataStartIndex:w,dataEndIndex:C}),_=I.type.defaultProps!==void 0?V(V({},I.type.defaultProps),I.props):I.props,G=_.dataKey,ee=_.maxBarSize,ue=_["".concat(R,"Id")],X=_["".concat(E,"Id")],ae={},Ne=c.reduce(function(te,Ee){var bt=S["".concat(Ee.axisType,"Map")],K=_["".concat(Ee.axisType,"Id")];bt&&bt[K]||Ee.axisType==="zAxis"||Ga(!1);var se=bt[K];return V(V({},te),{},he(he({},Ee.axisType,se),"".concat(Ee.axisType,"Ticks"),mn(se)))},ae),W=Ne[E],ie=Ne["".concat(E,"Ticks")],de=d&&d[ue]&&d[ue].hasStack&&_K(I,d[ue].stackGroups),H=pn(I.type).indexOf("Bar")>=0,ye=Vu(W,ie),me=[],z=B&&bK({barSize:T,stackGroups:d,totalSize:aZ(Ne,E)});if(H){var re,Z,U=Se(ee)?M:ee,J=(re=(Z=Vu(W,ie,!0))!==null&&Z!==void 0?Z:U)!==null&&re!==void 0?re:0;me=jK({barGap:D,barCategoryGap:k,bandSize:J!==ye?J:ye,sizeList:z[X],maxBarSize:U}),J!==ye&&(me=me.map(function(te){return V(V({},te),{},{position:V(V({},te.position),{},{offset:te.position.offset-J/2})})}))}var be=I&&I.type&&I.type.getComposedData;be&&A.push({props:V(V({},be(V(V({},Ne),{},{displayedData:L,props:N,dataKey:G,item:I,bandSize:ye,barPosition:me,offset:p,stackedData:de,layout:P,dataStartIndex:w,dataEndIndex:C}))),{},he(he(he({key:I.key||"item-".concat($)},R,Ne[R]),E,Ne[E]),"animationId",g)),childIndex:N6(I,N.children),item:I})}),A},v=function(N,S){var x=N.props,d=N.dataStartIndex,p=N.dataEndIndex,g=N.updateId;if(!hv({props:x}))return null;var w=x.children,C=x.layout,T=x.stackOffset,P=x.data,D=x.reverseStackOrder,k=aw(C),M=k.numericAxisName,F=k.cateAxisName,R=jr(w,a),E=MK(P,R,"".concat(M,"Id"),"".concat(F,"Id"),T,D),B=c.reduce(function(_,G){var ee="".concat(G.axisType,"Map");return V(V({},_),{},he({},ee,eZ(x,V(V({},G),{},{graphicalItems:R,stackGroups:G.axisType===M&&E,dataStartIndex:d,dataEndIndex:p}))))},{}),A=nZ(V(V({},B),{},{props:x,graphicalItems:R}),S==null?void 0:S.legendBBox);Object.keys(B).forEach(function(_){B[_]=f(x,B[_],A,_.replace("Map",""),r)});var I=B["".concat(F,"Map")],$=tZ(I),L=h(x,V(V({},B),{},{dataStartIndex:d,dataEndIndex:p,updateId:g,graphicalItems:R,stackGroups:E,offset:A}));return V(V({formattedGraphicalItems:L,graphicalItems:R,offset:A,stackGroups:E},$),B)},j=function(b){function N(S){var x,d,p;return LY(this,N),p=BY(this,N,[S]),he(p,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),he(p,"accessibilityManager",new SY),he(p,"handleLegendBBoxUpdate",function(g){if(g){var w=p.state,C=w.dataStartIndex,T=w.dataEndIndex,P=w.updateId;p.setState(V({legendBBox:g},v({props:p.props,dataStartIndex:C,dataEndIndex:T,updateId:P},V(V({},p.state),{},{legendBBox:g}))))}}),he(p,"handleReceiveSyncEvent",function(g,w,C){if(p.props.syncId===g){if(C===p.eventEmitterSymbol&&typeof p.props.syncMethod!="function")return;p.applySyncEvent(w)}}),he(p,"handleBrushChange",function(g){var w=g.startIndex,C=g.endIndex;if(w!==p.state.dataStartIndex||C!==p.state.dataEndIndex){var T=p.state.updateId;p.setState(function(){return V({dataStartIndex:w,dataEndIndex:C},v({props:p.props,dataStartIndex:w,dataEndIndex:C,updateId:T},p.state))}),p.triggerSyncEvent({dataStartIndex:w,dataEndIndex:C})}}),he(p,"handleMouseEnter",function(g){var w=p.getMouseInfo(g);if(w){var C=V(V({},w),{},{isTooltipActive:!0});p.setState(C),p.triggerSyncEvent(C);var T=p.props.onMouseEnter;je(T)&&T(C,g)}}),he(p,"triggeredAfterMouseMove",function(g){var w=p.getMouseInfo(g),C=w?V(V({},w),{},{isTooltipActive:!0}):{isTooltipActive:!1};p.setState(C),p.triggerSyncEvent(C);var T=p.props.onMouseMove;je(T)&&T(C,g)}),he(p,"handleItemMouseEnter",function(g){p.setState(function(){return{isTooltipActive:!0,activeItem:g,activePayload:g.tooltipPayload,activeCoordinate:g.tooltipPosition||{x:g.cx,y:g.cy}}})}),he(p,"handleItemMouseLeave",function(){p.setState(function(){return{isTooltipActive:!1}})}),he(p,"handleMouseMove",function(g){g.persist(),p.throttleTriggeredAfterMouseMove(g)}),he(p,"handleMouseLeave",function(g){p.throttleTriggeredAfterMouseMove.cancel();var w={isTooltipActive:!1};p.setState(w),p.triggerSyncEvent(w);var C=p.props.onMouseLeave;je(C)&&C(w,g)}),he(p,"handleOuterEvent",function(g){var w=j6(g),C=br(p.props,"".concat(w));if(w&&je(C)){var T,P;/.*touch.*/i.test(w)?P=p.getMouseInfo(g.changedTouches[0]):P=p.getMouseInfo(g),C((T=P)!==null&&T!==void 0?T:{},g)}}),he(p,"handleClick",function(g){var w=p.getMouseInfo(g);if(w){var C=V(V({},w),{},{isTooltipActive:!0});p.setState(C),p.triggerSyncEvent(C);var T=p.props.onClick;je(T)&&T(C,g)}}),he(p,"handleMouseDown",function(g){var w=p.props.onMouseDown;if(je(w)){var C=p.getMouseInfo(g);w(C,g)}}),he(p,"handleMouseUp",function(g){var w=p.props.onMouseUp;if(je(w)){var C=p.getMouseInfo(g);w(C,g)}}),he(p,"handleTouchMove",function(g){g.changedTouches!=null&&g.changedTouches.length>0&&p.throttleTriggeredAfterMouseMove(g.changedTouches[0])}),he(p,"handleTouchStart",function(g){g.changedTouches!=null&&g.changedTouches.length>0&&p.handleMouseDown(g.changedTouches[0])}),he(p,"handleTouchEnd",function(g){g.changedTouches!=null&&g.changedTouches.length>0&&p.handleMouseUp(g.changedTouches[0])}),he(p,"handleDoubleClick",function(g){var w=p.props.onDoubleClick;if(je(w)){var C=p.getMouseInfo(g);w(C,g)}}),he(p,"handleContextMenu",function(g){var w=p.props.onContextMenu;if(je(w)){var C=p.getMouseInfo(g);w(C,g)}}),he(p,"triggerSyncEvent",function(g){p.props.syncId!==void 0&&Af.emit(Df,p.props.syncId,g,p.eventEmitterSymbol)}),he(p,"applySyncEvent",function(g){var w=p.props,C=w.layout,T=w.syncMethod,P=p.state.updateId,D=g.dataStartIndex,k=g.dataEndIndex;if(g.dataStartIndex!==void 0||g.dataEndIndex!==void 0)p.setState(V({dataStartIndex:D,dataEndIndex:k},v({props:p.props,dataStartIndex:D,dataEndIndex:k,updateId:P},p.state)));else if(g.activeTooltipIndex!==void 0){var M=g.chartX,F=g.chartY,R=g.activeTooltipIndex,E=p.state,B=E.offset,A=E.tooltipTicks;if(!B)return;if(typeof T=="function")R=T(A,g);else if(T==="value"){R=-1;for(var I=0;I<A.length;I++)if(A[I].value===g.activeLabel){R=I;break}}var $=V(V({},B),{},{x:B.left,y:B.top}),L=Math.min(M,$.x+$.width),_=Math.min(F,$.y+$.height),G=A[R]&&A[R].value,ee=dx(p.state,p.props.data,R),ue=A[R]?{x:C==="horizontal"?A[R].coordinate:L,y:C==="horizontal"?_:A[R].coordinate}:jk;p.setState(V(V({},g),{},{activeLabel:G,activeCoordinate:ue,activePayload:ee,activeTooltipIndex:R}))}else p.setState(g)}),he(p,"renderCursor",function(g){var w,C=p.state,T=C.isTooltipActive,P=C.activeCoordinate,D=C.activePayload,k=C.offset,M=C.activeTooltipIndex,F=C.tooltipAxisBandSize,R=p.getTooltipEventType(),E=(w=g.props.active)!==null&&w!==void 0?w:T,B=p.props.layout,A=g.key||"_recharts-cursor";return q.createElement(DY,{key:A,activeCoordinate:P,activePayload:D,activeTooltipIndex:M,chartName:r,element:g,isActive:E,layout:B,offset:k,tooltipAxisBandSize:F,tooltipEventType:R})}),he(p,"renderPolarAxis",function(g,w,C){var T=br(g,"type.axisType"),P=br(p.state,"".concat(T,"Map")),D=g.type.defaultProps,k=D!==void 0?V(V({},D),g.props):g.props,M=P&&P[k["".concat(T,"Id")]];return O.cloneElement(g,V(V({},M),{},{className:Te(T,M.className),key:g.key||"".concat(w,"-").concat(C),ticks:mn(M,!0)}))}),he(p,"renderPolarGrid",function(g){var w=g.props,C=w.radialLines,T=w.polarAngles,P=w.polarRadius,D=p.state,k=D.radiusAxisMap,M=D.angleAxisMap,F=Ln(k),R=Ln(M),E=R.cx,B=R.cy,A=R.innerRadius,I=R.outerRadius;return O.cloneElement(g,{polarAngles:Array.isArray(T)?T:mn(R,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(P)?P:mn(F,!0).map(function($){return $.coordinate}),cx:E,cy:B,innerRadius:A,outerRadius:I,key:g.key||"polar-grid",radialLines:C})}),he(p,"renderLegend",function(){var g=p.state.formattedGraphicalItems,w=p.props,C=w.children,T=w.width,P=w.height,D=p.props.margin||{},k=T-(D.left||0)-(D.right||0),M=mO({children:C,formattedGraphicalItems:g,legendWidth:k,legendContent:u});if(!M)return null;var F=M.item,R=ZN(M,EY);return O.cloneElement(F,V(V({},R),{},{chartWidth:T,chartHeight:P,margin:D,onBBoxUpdate:p.handleLegendBBoxUpdate}))}),he(p,"renderTooltip",function(){var g,w=p.props,C=w.children,T=w.accessibilityLayer,P=tr(C,Er);if(!P)return null;var D=p.state,k=D.isTooltipActive,M=D.activeCoordinate,F=D.activePayload,R=D.activeLabel,E=D.offset,B=(g=P.props.active)!==null&&g!==void 0?g:k;return O.cloneElement(P,{viewBox:V(V({},E),{},{x:E.left,y:E.top}),active:B,label:R,payload:B?F:[],coordinate:M,accessibilityLayer:T})}),he(p,"renderBrush",function(g){var w=p.props,C=w.margin,T=w.data,P=p.state,D=P.offset,k=P.dataStartIndex,M=P.dataEndIndex,F=P.updateId;return O.cloneElement(g,{key:g.key||"_recharts-brush",onChange:gc(p.handleBrushChange,g.props.onChange),data:T,x:ne(g.props.x)?g.props.x:D.left,y:ne(g.props.y)?g.props.y:D.top+D.height+D.brushBottom-(C.bottom||0),width:ne(g.props.width)?g.props.width:D.width,startIndex:k,endIndex:M,updateId:"brush-".concat(F)})}),he(p,"renderReferenceElement",function(g,w,C){if(!g)return null;var T=p,P=T.clipPathId,D=p.state,k=D.xAxisMap,M=D.yAxisMap,F=D.offset,R=g.type.defaultProps||{},E=g.props,B=E.xAxisId,A=B===void 0?R.xAxisId:B,I=E.yAxisId,$=I===void 0?R.yAxisId:I;return O.cloneElement(g,{key:g.key||"".concat(w,"-").concat(C),xAxis:k[A],yAxis:M[$],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:P})}),he(p,"renderActivePoints",function(g){var w=g.item,C=g.activePoint,T=g.basePoint,P=g.childIndex,D=g.isRange,k=[],M=w.props.key,F=w.item.type.defaultProps!==void 0?V(V({},w.item.type.defaultProps),w.item.props):w.item.props,R=F.activeDot,E=F.dataKey,B=V(V({index:P,dataKey:E,cx:C.x,cy:C.y,r:4,fill:fg(w.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ke(R,!1)),yu(R));return k.push(N.renderActiveDot(R,B,"".concat(M,"-activePoint-").concat(P))),T?k.push(N.renderActiveDot(R,V(V({},B),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(P))):D&&k.push(null),k}),he(p,"renderGraphicChild",function(g,w,C){var T=p.filterFormatItem(g,w,C);if(!T)return null;var P=p.getTooltipEventType(),D=p.state,k=D.isTooltipActive,M=D.tooltipAxis,F=D.activeTooltipIndex,R=D.activeLabel,E=p.props.children,B=tr(E,Er),A=T.props,I=A.points,$=A.isRange,L=A.baseLine,_=T.item.type.defaultProps!==void 0?V(V({},T.item.type.defaultProps),T.item.props):T.item.props,G=_.activeDot,ee=_.hide,ue=_.activeBar,X=_.activeShape,ae=!!(!ee&&k&&B&&(G||ue||X)),Ne={};P!=="axis"&&B&&B.props.trigger==="click"?Ne={onClick:gc(p.handleItemMouseEnter,g.props.onClick)}:P!=="axis"&&(Ne={onMouseLeave:gc(p.handleItemMouseLeave,g.props.onMouseLeave),onMouseEnter:gc(p.handleItemMouseEnter,g.props.onMouseEnter)});var W=O.cloneElement(g,V(V({},T.props),Ne));function ie(Ee){return typeof M.dataKey=="function"?M.dataKey(Ee.payload):null}if(ae)if(F>=0){var de,H;if(M.dataKey&&!M.allowDuplicatedCategory){var ye=typeof M.dataKey=="function"?ie:"payload.".concat(M.dataKey.toString());de=xu(I,ye,R),H=$&&L&&xu(L,ye,R)}else de=I==null?void 0:I[F],H=$&&L&&L[F];if(X||ue){var me=g.props.activeIndex!==void 0?g.props.activeIndex:F;return[O.cloneElement(g,V(V(V({},T.props),Ne),{},{activeIndex:me})),null,null]}if(!Se(de))return[W].concat(di(p.renderActivePoints({item:T,activePoint:de,basePoint:H,childIndex:F,isRange:$})))}else{var z,re=(z=p.getItemByXY(p.state.activeCoordinate))!==null&&z!==void 0?z:{graphicalItem:W},Z=re.graphicalItem,U=Z.item,J=U===void 0?g:U,be=Z.childIndex,te=V(V(V({},T.props),Ne),{},{activeIndex:be});return[O.cloneElement(J,te),null,null]}return $?[W,null,null]:[W,null]}),he(p,"renderCustomized",function(g,w,C){return O.cloneElement(g,V(V({key:"recharts-customized-".concat(C)},p.props),p.state))}),he(p,"renderMap",{CartesianGrid:{handler:wc,once:!0},ReferenceArea:{handler:p.renderReferenceElement},ReferenceLine:{handler:wc},ReferenceDot:{handler:p.renderReferenceElement},XAxis:{handler:wc},YAxis:{handler:wc},Brush:{handler:p.renderBrush,once:!0},Bar:{handler:p.renderGraphicChild},Line:{handler:p.renderGraphicChild},Area:{handler:p.renderGraphicChild},Radar:{handler:p.renderGraphicChild},RadialBar:{handler:p.renderGraphicChild},Scatter:{handler:p.renderGraphicChild},Pie:{handler:p.renderGraphicChild},Funnel:{handler:p.renderGraphicChild},Tooltip:{handler:p.renderCursor,once:!0},PolarGrid:{handler:p.renderPolarGrid,once:!0},PolarAngleAxis:{handler:p.renderPolarAxis},PolarRadiusAxis:{handler:p.renderPolarAxis},Customized:{handler:p.renderCustomized}}),p.clipPathId="".concat((x=S.id)!==null&&x!==void 0?x:Mo("recharts"),"-clip"),p.throttleTriggeredAfterMouseMove=d2(p.triggeredAfterMouseMove,(d=S.throttleDelay)!==null&&d!==void 0?d:1e3/60),p.state={},p}return WY(N,b),FY(N,[{key:"componentDidMount",value:function(){var x,d;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(d=this.props.margin.top)!==null&&d!==void 0?d:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,d=x.children,p=x.data,g=x.height,w=x.layout,C=tr(d,Er);if(C){var T=C.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,D=dx(this.state,p,T,P),k=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+g)/2,F=w==="horizontal",R=F?{x:k,y:M}:{y:k,x:M},E=this.state.formattedGraphicalItems.find(function(A){var I=A.item;return I.type.name==="Scatter"});E&&(R=V(V({},R),E.props.points[T].tooltipPosition),D=E.props.points[T].tooltipPayload);var B={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:P,activePayload:D,activeCoordinate:R};this.setState(B),this.renderCursor(C),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,d){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==d.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var p,g;this.accessibilityManager.setDetails({offset:{left:(p=this.props.margin.left)!==null&&p!==void 0?p:0,top:(g=this.props.margin.top)!==null&&g!==void 0?g:0}})}return null}},{key:"componentDidUpdate",value:function(x){Uh([tr(x.children,Er)],[tr(this.props.children,Er)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=tr(this.props.children,Er);if(x&&typeof x.props.shared=="boolean"){var d=x.props.shared?"axis":"item";return o.indexOf(d)>=0?d:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var d=this.container,p=d.getBoundingClientRect(),g=z9(p),w={chartX:Math.round(x.pageX-g.left),chartY:Math.round(x.pageY-g.top)},C=p.width/d.offsetWidth||1,T=this.inRange(w.chartX,w.chartY,C);if(!T)return null;var P=this.state,D=P.xAxisMap,k=P.yAxisMap,M=this.getTooltipEventType(),F=rw(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&D&&k){var R=Ln(D).scale,E=Ln(k).scale,B=R&&R.invert?R.invert(w.chartX):null,A=E&&E.invert?E.invert(w.chartY):null;return V(V({},w),{},{xValue:B,yValue:A},F)}return F?V(V({},w),F):null}},{key:"inRange",value:function(x,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=this.props.layout,w=x/p,C=d/p;if(g==="horizontal"||g==="vertical"){var T=this.state.offset,P=w>=T.left&&w<=T.left+T.width&&C>=T.top&&C<=T.top+T.height;return P?{x:w,y:C}:null}var D=this.state,k=D.angleAxisMap,M=D.radiusAxisMap;if(k&&M){var F=Ln(k);return Tj({x:w,y:C},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,d=this.getTooltipEventType(),p=tr(x,Er),g={};p&&d==="axis"&&(p.props.trigger==="click"?g={onClick:this.handleClick}:g={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var w=yu(this.props,this.handleOuterEvent);return V(V({},w),g)}},{key:"addListener",value:function(){Af.on(Df,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Af.removeListener(Df,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,d,p){for(var g=this.state.formattedGraphicalItems,w=0,C=g.length;w<C;w++){var T=g[w];if(T.item===x||T.props.key===x.key||d===pn(T.item.type)&&p===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,d=this.state.offset,p=d.left,g=d.top,w=d.height,C=d.width;return q.createElement("defs",null,q.createElement("clipPath",{id:x},q.createElement("rect",{x:p,y:g,height:w,width:C})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(d,p){var g=YN(p,2),w=g[0],C=g[1];return V(V({},d),{},he({},w,C.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(d,p){var g=YN(p,2),w=g[0],C=g[1];return V(V({},d),{},he({},w,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var d;return(d=this.state.xAxisMap)===null||d===void 0||(d=d[x])===null||d===void 0?void 0:d.scale}},{key:"getYScaleByAxisId",value:function(x){var d;return(d=this.state.yAxisMap)===null||d===void 0||(d=d[x])===null||d===void 0?void 0:d.scale}},{key:"getItemByXY",value:function(x){var d=this.state,p=d.formattedGraphicalItems,g=d.activeItem;if(p&&p.length)for(var w=0,C=p.length;w<C;w++){var T=p[w],P=T.props,D=T.item,k=D.type.defaultProps!==void 0?V(V({},D.type.defaultProps),D.props):D.props,M=pn(D.type);if(M==="Bar"){var F=(P.data||[]).find(function(A){return OG(x,A)});if(F)return{graphicalItem:T,payload:F}}else if(M==="RadialBar"){var R=(P.data||[]).find(function(A){return Tj(x,A)});if(R)return{graphicalItem:T,payload:R}}else if(xm(T,g)||ym(T,g)||fo(T,g)){var E=TH({graphicalItem:T,activeTooltipItem:g,itemData:k.data}),B=k.activeIndex===void 0?E:k.activeIndex;return{graphicalItem:V(V({},T),{},{childIndex:B}),payload:fo(T,g)?k.data[E]:T.props.data[E]}}}return null}},{key:"render",value:function(){var x=this;if(!hv(this))return null;var d=this.props,p=d.children,g=d.className,w=d.width,C=d.height,T=d.style,P=d.compact,D=d.title,k=d.desc,M=ZN(d,MY),F=ke(M,!1);if(P)return q.createElement(PN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(Kh,ws({},F,{width:w,height:C,title:D,desc:k}),this.renderClipPath(),xv(p,this.renderMap)));if(this.props.accessibilityLayer){var R,E;F.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,F.role=(E=this.props.role)!==null&&E!==void 0?E:"application",F.onKeyDown=function(A){x.accessibilityManager.keyboardEvent(A)},F.onFocus=function(){x.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return q.createElement(PN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",ws({className:Te("recharts-wrapper",g),style:V({position:"relative",cursor:"default",width:w,height:C},T)},B,{ref:function(I){x.container=I}}),q.createElement(Kh,ws({},F,{width:w,height:C,title:D,desc:k,style:QY}),this.renderClipPath(),xv(p,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);he(j,"displayName",r),he(j,"defaultProps",V({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),he(j,"getDerivedStateFromProps",function(b,N){var S=b.dataKey,x=b.data,d=b.children,p=b.width,g=b.height,w=b.layout,C=b.stackOffset,T=b.margin,P=N.dataStartIndex,D=N.dataEndIndex;if(N.updateId===void 0){var k=nw(b);return V(V(V({},k),{},{updateId:0},v(V(V({props:b},k),{},{updateId:0}),N)),{},{prevDataKey:S,prevData:x,prevWidth:p,prevHeight:g,prevLayout:w,prevStackOffset:C,prevMargin:T,prevChildren:d})}if(S!==N.prevDataKey||x!==N.prevData||p!==N.prevWidth||g!==N.prevHeight||w!==N.prevLayout||C!==N.prevStackOffset||!As(T,N.prevMargin)){var M=nw(b),F={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},R=V(V({},rw(N,x,w)),{},{updateId:N.updateId+1}),E=V(V(V({},M),F),R);return V(V(V({},E),v(V({props:b},E),N)),{},{prevDataKey:S,prevData:x,prevWidth:p,prevHeight:g,prevLayout:w,prevStackOffset:C,prevMargin:T,prevChildren:d})}if(!Uh(d,N.prevChildren)){var B,A,I,$,L=tr(d,ei),_=L&&(B=(A=L.props)===null||A===void 0?void 0:A.startIndex)!==null&&B!==void 0?B:P,G=L&&(I=($=L.props)===null||$===void 0?void 0:$.endIndex)!==null&&I!==void 0?I:D,ee=_!==P||G!==D,ue=!Se(x),X=ue&&!ee?N.updateId:N.updateId+1;return V(V({updateId:X},v(V(V({props:b},N),{},{updateId:X,dataStartIndex:_,dataEndIndex:G}),N)),{},{prevChildren:d,dataStartIndex:_,dataEndIndex:G})}return null}),he(j,"renderActiveDot",function(b,N,S){var x;return O.isValidElement(b)?x=O.cloneElement(b,N):je(b)?x=b(N):x=q.createElement(pg,N),q.createElement(rt,{className:"recharts-active-dot",key:S},x)});var y=O.forwardRef(function(N,S){return q.createElement(j,ws({},N,{ref:S}))});return y.displayName=j.displayName,y},sw=sZ({chartName:"LineChart",GraphicalChild:li,axisComponents:[{axisType:"xAxis",AxisComp:go},{axisType:"yAxis",AxisComp:vo}],formatAxisMap:eJ});const ha=({notifications:e,onMarkAsRead:t,onMarkAllAsRead:r,onClearAll:a,onViewTransferOrder:s,onRefresh:i})=>{const[l,o]=O.useState(!1),c=O.useRef(null);O.useEffect(()=>{console.log("🔔 NotificationDropdown: Received notifications:",e),console.log("🔔 NotificationDropdown: Number of notifications:",e.length)},[e]),O.useEffect(()=>{const h=v=>{c.current&&!c.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const u=e.filter(h=>!h.read).length,f=h=>{switch(h){case"warning":return n.jsx(Zr,{className:"h-4 w-4 text-yellow-500"});case"success":return n.jsx(VS,{className:"h-4 w-4 text-green-500"});case"error":return n.jsx(Zr,{className:"h-4 w-4 text-red-500"});default:return n.jsx(GS,{className:"h-4 w-4 text-blue-500"})}},m=h=>{const j=new Date().getTime()-h.getTime(),y=Math.floor(j/6e4),b=Math.floor(j/36e5),N=Math.floor(j/864e5);return y<1?"Just now":y<60?`${y}m ago`:b<24?`${b}h ago`:`${N}d ago`};return n.jsxs("div",{className:"relative",ref:c,children:[n.jsxs("button",{onClick:()=>o(!l),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Notifications",children:[n.jsx(Fh,{className:"h-6 w-6"}),u>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u>9?"9+":u})]}),l&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[i&&n.jsx("button",{onClick:i,className:"text-sm text-gray-600 hover:text-gray-800 p-1 rounded",title:"Refresh notifications",children:n.jsx(_t,{className:"h-4 w-4"})}),u>0&&n.jsx("button",{onClick:r,className:"text-sm text-blue-600 hover:text-blue-800",children:"Mark all read"}),n.jsx("button",{onClick:a,className:"text-sm text-red-600 hover:text-red-800",children:"Clear all"}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Oe,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?n.jsxs("div",{className:"p-4 text-center text-gray-500",children:[n.jsx(Fh,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"No notifications"})]}):e.map(h=>n.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 ${h.read?"":"bg-blue-50"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:f(h.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:`text-sm font-medium ${h.read?"text-gray-700":"text-gray-900"}`,children:h.title}),n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[n.jsx($d,{className:"h-3 w-3"}),n.jsx("span",{children:m(h.timestamp)})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.message}),h.outlet&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.outlet})]}),n.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[h.isTransferOrder&&h.transferOrderId&&s&&n.jsx("button",{onClick:v=>{v.stopPropagation(),console.log("NotificationDropdown: Clicking View button"),console.log("NotificationDropdown: notification.transferOrderId =",h.transferOrderId),s(h.transferOrderId)},className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded transition-colors",title:"View Transfer Order",children:n.jsx(tn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>t(h.id),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Mark as read",children:n.jsx("div",{className:`w-2 h-2 rounded-full ${h.read?"bg-gray-300":"bg-blue-500"}`})})]})]})},h.id))}),e.length>0&&n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsx("button",{onClick:a,className:"w-full text-sm text-gray-600 hover:text-gray-800 text-center",children:"Clear all notifications"})})]})]})},iZ="http://localhost:5000/api";class lZ{async request(t,r={}){const a=`${iZ}${t}`,s={headers:{"Content-Type":"application/json",...r.headers},...r};try{const i=await fetch(a,s);if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.message||`HTTP error! status: ${i.status}`)}return await i.json()}catch(i){throw console.error("API request failed:",i),i}}async getRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status);const a=r.toString(),s=`/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getRawMaterial(t){return this.request(`/raw-materials/${t}`)}async createRawMaterial(t){return this.request("/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateRawMaterial(t,r){return this.request(`/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteRawMaterial(t){return this.request(`/raw-materials/${t}`,{method:"DELETE"})}async getRawMaterialCategories(){return this.request("/raw-materials/categories/list")}async getBillOfMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/bill-of-materials${a?`?${a}`:""}`;return this.request(s)}async getBillOfMaterial(t){return this.request(`/bill-of-materials/${t}`)}async createBillOfMaterial(t){return this.request("/bill-of-materials",{method:"POST",body:JSON.stringify(t)})}async updateBillOfMaterial(t,r){return this.request(`/bill-of-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteBillOfMaterial(t){return this.request(`/bill-of-materials/${t}`,{method:"DELETE"})}async getBillOfMaterialByCode(t){return this.request(`/bill-of-materials/code/${t}`)}async getJobOrders(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.priority&&r.append("priority",t.priority),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/job-orders${a?`?${a}`:""}`;return this.request(s)}async getJobOrder(t){return this.request(`/job-orders/${t}`)}async createJobOrder(t){return this.request("/job-orders",{method:"POST",body:JSON.stringify(t)})}async updateJobOrder(t,r){return this.request(`/job-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteJobOrder(t){return this.request(`/job-orders/${t}`,{method:"DELETE"})}async getRawMaterialForecasts(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.forecastPeriod&&r.append("forecastPeriod",t.forecastPeriod),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/raw-material-forecasts${a?`?${a}`:""}`;return this.request(s)}async getRawMaterialForecast(t){return this.request(`/raw-material-forecasts/${t}`)}async createRawMaterialForecast(t){return this.request("/raw-material-forecasts",{method:"POST",body:JSON.stringify(t)})}async updateRawMaterialForecast(t,r){return this.request(`/raw-material-forecasts/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteRawMaterialForecast(t){return this.request(`/raw-material-forecasts/${t}`,{method:"DELETE"})}async getPurchaseOrders(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/purchase-orders${a?`?${a}`:""}`;return this.request(s)}async getPurchaseOrder(t){return this.request(`/purchase-orders/${t}`)}async createPurchaseOrder(t){return this.request("/purchase-orders",{method:"POST",body:JSON.stringify(t)})}async updatePurchaseOrder(t,r){return this.request(`/purchase-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deletePurchaseOrder(t){return this.request(`/purchase-orders/${t}`,{method:"DELETE"})}async getOutlets(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.outletType&&r.append("outletType",t.outletType),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.isCentralKitchen&&r.append("isCentralKitchen",t.isCentralKitchen),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/outlets${a?`?${a}`:""}`;return this.request(s)}async getOutlet(t){return this.request(`/outlets/${t}`)}async createOutlet(t){return this.request("/outlets",{method:"POST",body:JSON.stringify(t)})}async updateOutlet(t,r){return this.request(`/outlets/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteOutlet(t){return this.request(`/outlets/${t}`,{method:"DELETE"})}async getRegularOutlets(){return this.request("/outlets/regular/list")}async getOutletInventoryByOutlet(t,r){const a=new URLSearchParams;r!=null&&r.page&&a.append("page",r.page.toString()),r!=null&&r.limit&&a.append("limit",r.limit.toString()),r!=null&&r.search&&a.append("search",r.search),r!=null&&r.category&&a.append("category",r.category),r!=null&&r.status&&a.append("status",r.status),r!=null&&r.sortBy&&a.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&a.append("sortOrder",r.sortOrder);const s=a.toString(),i=`/outlet-inventory/outlet/${t}${s?`?${s}`:""}`;return this.request(i)}async updateOutletInventoryItem(t,r){return this.request(`/outlet-inventory/${t}`,{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})}async getFinishedGoods(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status),(t==null?void 0:t.isSeasonal)!==void 0&&r.append("isSeasonal",t.isSeasonal.toString()),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/finished-goods${a?`?${a}`:""}`;return this.request(s)}async getFinishedGood(t){return this.request(`/finished-goods/${t}`)}async createFinishedGood(t){return this.request("/finished-goods",{method:"POST",body:JSON.stringify(t)})}async updateFinishedGood(t,r){return this.request(`/finished-goods/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteFinishedGood(t){return this.request(`/finished-goods/${t}`,{method:"DELETE"})}async getFinishedGoodCategories(){return this.request("/finished-goods/category/list")}async getFinishedGoodsByBOM(t){return this.request(`/finished-goods/bom/${t}`)}async getFinishedGoodInventory(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.outletId&&r.append("outletId",t.outletId),t!=null&&t.outletCode&&r.append("outletCode",t.outletCode),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.qualityStatus&&r.append("qualityStatus",t.qualityStatus),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/finished-good-inventory${a?`?${a}`:""}`;return this.request(s)}async getFinishedGoodInventoryItem(t){return this.request(`/finished-good-inventory/${t}`)}async createFinishedGoodInventoryItem(t){return this.request("/finished-good-inventory",{method:"POST",body:JSON.stringify(t)})}async updateFinishedGoodInventoryItem(t,r){return this.request(`/finished-good-inventory/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteFinishedGoodInventoryItem(t){return this.request(`/finished-good-inventory/${t}`,{method:"DELETE"})}async getFinishedGoodInventoryByOutlet(t,r){const a=new URLSearchParams;r!=null&&r.limit&&a.append("limit",r.limit.toString()),r!=null&&r.search&&a.append("search",r.search),r!=null&&r.category&&a.append("category",r.category),r!=null&&r.status&&a.append("status",r.status),r!=null&&r.qualityStatus&&a.append("qualityStatus",r.qualityStatus),r!=null&&r.sortBy&&a.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&a.append("sortOrder",r.sortOrder);const s=a.toString(),i=`/finished-good-inventory/outlet/${t}${s?`?${s}`:""}`;return this.request(i)}async adjustFinishedGoodInventoryStock(t,r){return this.request(`/finished-good-inventory/${t}/adjust-stock`,{method:"PUT",body:JSON.stringify(r)})}async getFinishedGoodInventorySummary(t){return this.request(`/finished-good-inventory/summary/${t}`)}async getSalesOrders(t){const r=t?`?${new URLSearchParams(t).toString()}`:"";return this.request(`/sales-orders${r}`)}async getSalesOrder(t){return this.request(`/sales-orders/${t}`)}async createSalesOrder(t){return this.request("/sales-orders",{method:"POST",body:JSON.stringify(t)})}async updateSalesOrder(t,r){return this.request(`/sales-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteSalesOrder(t){return this.request(`/sales-orders/${t}`,{method:"DELETE"})}async getSalesOrdersByOutlet(t,r){const a=r?`?${new URLSearchParams(r).toString()}`:"";return this.request(`/sales-orders/outlet/${t}${a}`)}async updateSalesOrderStatus(t,r){return this.request(`/sales-orders/${t}/status`,{method:"PUT",body:JSON.stringify(r)})}async getCentralKitchens(){return this.request("/central-kitchen")}async getCentralKitchen(t){return this.request(`/central-kitchen/${t}`)}async createCentralKitchen(t){return this.request("/central-kitchen",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchen(t,r){return this.request(`/central-kitchen/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchen(t){return this.request(`/central-kitchen/${t}`,{method:"DELETE"})}async getCentralKitchenInventoryByKitchen(t,r){const a=new URLSearchParams;r!=null&&r.page&&a.append("page",r.page.toString()),r!=null&&r.limit&&a.append("limit",r.limit.toString()),r!=null&&r.category&&a.append("category",r.category),r!=null&&r.status&&a.append("status",r.status),r!=null&&r.sortBy&&a.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&a.append("sortOrder",r.sortOrder),r!=null&&r.search&&a.append("search",r.search);const s=a.toString(),i=`/central-kitchen-inventory/kitchen/${t}${s?`?${s}`:""}`;return this.request(i)}async getCentralKitchenRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/central-kitchen/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getCentralKitchenRawMaterial(t){return this.request(`/central-kitchen/raw-materials/${t}`)}async createCentralKitchenRawMaterial(t){return this.request("/central-kitchen/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchenRawMaterial(t,r){return this.request(`/central-kitchen/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchenRawMaterial(t){return this.request(`/central-kitchen/raw-materials/${t}`,{method:"DELETE"})}async getCentralKitchenRawMaterialCategories(){return this.request("/central-kitchen/raw-materials/categories")}async getCentralKitchenLowStockRawMaterials(){return this.request("/central-kitchen/raw-materials/low-stock")}async adjustCentralKitchenRawMaterialStock(t,r,a,s){return this.request(`/central-kitchen/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getCentralKitchenFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/central-kitchen/finished-products${a?`?${a}`:""}`;return this.request(s)}async getCentralKitchenFinishedProduct(t){return this.request(`/central-kitchen/finished-products/${t}`)}async createCentralKitchenFinishedProduct(t){return this.request("/central-kitchen/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchenFinishedProduct(t,r){return this.request(`/central-kitchen/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchenFinishedProduct(t){return this.request(`/central-kitchen/finished-products/${t}`,{method:"DELETE"})}async getCentralKitchenFinishedProductCategories(){return this.request("/central-kitchen/finished-products/categories")}async getCentralKitchenLowStockFinishedProducts(){return this.request("/central-kitchen/finished-products/low-stock")}async produceCentralKitchenFinishedProduct(t,r,a){return this.request(`/central-kitchen/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async getCentralKitchenInventoryItem(t){return this.request(`/central-kitchen-inventory/${t}`)}async createCentralKitchenInventoryItem(t){return this.request("/central-kitchen-inventory",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchenInventoryItem(t,r){return this.request(`/central-kitchen-inventory/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchenInventoryItem(t){return this.request(`/central-kitchen-inventory/${t}`,{method:"DELETE"})}async adjustCentralKitchenInventoryStock(t,r,a,s){return this.request(`/central-kitchen-inventory/${t}/adjust-stock`,{method:"PUT",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getKuwaitCityRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/kuwait-city/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getKuwaitCityRawMaterial(t){return this.request(`/kuwait-city/raw-materials/${t}`)}async createKuwaitCityRawMaterial(t){return this.request("/kuwait-city/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateKuwaitCityRawMaterial(t,r){return this.request(`/kuwait-city/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteKuwaitCityRawMaterial(t){return this.request(`/kuwait-city/raw-materials/${t}`,{method:"DELETE"})}async getKuwaitCityRawMaterialCategories(){return this.request("/kuwait-city/raw-materials/categories")}async getKuwaitCityLowStockRawMaterials(){return this.request("/kuwait-city/raw-materials/low-stock")}async adjustKuwaitCityRawMaterialStock(t,r,a,s){return this.request(`/kuwait-city/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getKuwaitCityFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/kuwait-city/finished-products${a?`?${a}`:""}`;return this.request(s)}async getKuwaitCityFinishedProduct(t){return this.request(`/kuwait-city/finished-products/${t}`)}async createKuwaitCityFinishedProduct(t){return this.request("/kuwait-city/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateKuwaitCityFinishedProduct(t,r){return this.request(`/kuwait-city/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteKuwaitCityFinishedProduct(t){return this.request(`/kuwait-city/finished-products/${t}`,{method:"DELETE"})}async getKuwaitCityFinishedProductCategories(){return this.request("/kuwait-city/finished-products/categories")}async getKuwaitCityLowStockFinishedProducts(){return this.request("/kuwait-city/finished-products/low-stock")}async produceKuwaitCityFinishedProduct(t,r,a){return this.request(`/kuwait-city/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async get360MallRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/360-mall/raw-materials${a?`?${a}`:""}`;return this.request(s)}async get360MallRawMaterial(t){return this.request(`/360-mall/raw-materials/${t}`)}async create360MallRawMaterial(t){return this.request("/360-mall/raw-materials",{method:"POST",body:JSON.stringify(t)})}async update360MallRawMaterial(t,r){return this.request(`/360-mall/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async delete360MallRawMaterial(t){return this.request(`/360-mall/raw-materials/${t}`,{method:"DELETE"})}async get360MallRawMaterialCategories(){return this.request("/360-mall/raw-materials/categories")}async get360MallLowStockRawMaterials(){return this.request("/360-mall/raw-materials/low-stock")}async adjust360MallRawMaterialStock(t,r,a,s){return this.request(`/360-mall/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async get360MallFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/360-mall/finished-products${a?`?${a}`:""}`;return this.request(s)}async get360MallFinishedProduct(t){return this.request(`/360-mall/finished-products/${t}`)}async create360MallFinishedProduct(t){return this.request("/360-mall/finished-products",{method:"POST",body:JSON.stringify(t)})}async update360MallFinishedProduct(t,r){return this.request(`/360-mall/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async delete360MallFinishedProduct(t){return this.request(`/360-mall/finished-products/${t}`,{method:"DELETE"})}async get360MallFinishedProductCategories(){return this.request("/360-mall/finished-products/categories")}async get360MallLowStockFinishedProducts(){return this.request("/360-mall/finished-products/low-stock")}async produce360MallFinishedProduct(t,r,a){return this.request(`/360-mall/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async getVibeComplexRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/vibe-complex/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getVibeComplexRawMaterial(t){return this.request(`/vibe-complex/raw-materials/${t}`)}async createVibeComplexRawMaterial(t){return this.request("/vibe-complex/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateVibeComplexRawMaterial(t,r){return this.request(`/vibe-complex/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteVibeComplexRawMaterial(t){return this.request(`/vibe-complex/raw-materials/${t}`,{method:"DELETE"})}async getVibeComplexRawMaterialCategories(){return this.request("/vibe-complex/raw-materials/categories")}async getVibeComplexLowStockRawMaterials(){return this.request("/vibe-complex/raw-materials/low-stock")}async adjustVibeComplexRawMaterialStock(t,r,a,s){return this.request(`/vibe-complex/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getVibeComplexFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/vibe-complex/finished-products${a?`?${a}`:""}`;return this.request(s)}async getVibeComplexFinishedProduct(t){return this.request(`/vibe-complex/finished-products/${t}`)}async createVibeComplexFinishedProduct(t){return this.request("/vibe-complex/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateVibeComplexFinishedProduct(t,r){return this.request(`/vibe-complex/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteVibeComplexFinishedProduct(t){return this.request(`/vibe-complex/finished-products/${t}`,{method:"DELETE"})}async getVibeComplexFinishedProductCategories(){return this.request("/vibe-complex/finished-products/categories")}async getVibeComplexLowStockFinishedProducts(){return this.request("/vibe-complex/finished-products/low-stock")}async produceVibeComplexFinishedProduct(t,r,a){return this.request(`/vibe-complex/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async createTransfer(t){console.log("🔧 API Service: createTransfer called with data:",t),console.log("🔧 API Service: Calling /transfers/create endpoint");try{const r=await this.request("/transfers/create",{method:"POST",body:JSON.stringify(t)});return console.log("🔧 API Service: createTransfer response:",r),r}catch(r){throw console.error("🔧 API Service: createTransfer error:",r),r}}async getTaibaKitchenRawMaterials(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([s,i])=>{i!==void 0&&r.append(s,i.toString())});const a=r.toString();return this.request(`/taiba-kitchen/raw-materials${a?`?${a}`:""}`)}async getTaibaKitchenRawMaterial(t){return this.request(`/taiba-kitchen/raw-materials/${t}`)}async syncWithZoho(){console.log("🔄 API Service: Starting Zoho sync...");try{const t=await this.request("/sync-zoho/central-kitchen",{method:"POST"});return console.log("✅ API Service: Zoho sync completed successfully"),t}catch(t){throw console.error("❌ API Service: Zoho sync failed:",t),t}}async createTaibaKitchenRawMaterial(t){return this.request("/taiba-kitchen/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateTaibaKitchenRawMaterial(t,r){return this.request(`/taiba-kitchen/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteTaibaKitchenRawMaterial(t){return this.request(`/taiba-kitchen/raw-materials/${t}`,{method:"DELETE"})}async getTaibaKitchenRawMaterialCategories(){return this.request("/taiba-kitchen/raw-materials/categories")}async getTaibaKitchenLowStockRawMaterials(){return this.request("/taiba-kitchen/raw-materials/low-stock")}async adjustTaibaKitchenRawMaterialStock(t,r){return this.request(`/taiba-kitchen/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify(r)})}async getTaibaKitchenFinishedProducts(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([s,i])=>{i!==void 0&&r.append(s,i.toString())});const a=r.toString();return this.request(`/taiba-kitchen/finished-products${a?`?${a}`:""}`)}async getTaibaKitchenFinishedProduct(t){return this.request(`/taiba-kitchen/finished-products/${t}`)}async createTaibaKitchenFinishedProduct(t){return this.request("/taiba-kitchen/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateTaibaKitchenFinishedProduct(t,r){return this.request(`/taiba-kitchen/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteTaibaKitchenFinishedProduct(t){return this.request(`/taiba-kitchen/finished-products/${t}`,{method:"DELETE"})}async getTaibaKitchenFinishedProductCategories(){return this.request("/taiba-kitchen/finished-products/categories")}async getTaibaKitchenLowStockFinishedProducts(){return this.request("/taiba-kitchen/finished-products/low-stock")}async produceTaibaKitchenFinishedProduct(t,r){return this.request(`/taiba-kitchen/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify(r)})}async getTransferOrders(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([s,i])=>{i!==void 0&&r.append(s,i.toString())});const a=r.toString();return this.request(`/transfer-orders${a?`?${a}`:""}`)}async getTransferOrder(t){return this.request(`/transfer-orders/${t}`)}async createTransferOrder(t){return this.request("/transfer-orders",{method:"POST",body:JSON.stringify(t)})}async getTransferOrderById(t){return this.request(`/transfer-orders/${t}`)}async updateTransferOrderStatus(t,r){return this.request(`/transfer-orders/${t}/status`,{method:"PUT",body:JSON.stringify(r)})}async updateTransferOrderInventory(t,r){return this.request(`/transfer-order-inventory/${t}/${r}`,{method:"PUT"})}async deleteTransferOrder(t,r){return this.request(`/transfer-orders/${t}`,{method:"DELETE",body:JSON.stringify(r||{})})}async getTransferOrderStats(){return this.request("/transfer-orders/stats/summary")}async getNotifications(t,r,a){const s=new URLSearchParams;r&&s.append("type",r),a&&s.append("limit",a.toString());const i=s.toString(),l=i?`/${t}?${i}`:`/${t}`;return console.log(`🔔 API Service: getNotifications called for outlet: "${t}"`),console.log(`🔔 API Service: Constructed endpoint: "/notifications${l}"`),this.request(`/notifications${l}`)}async createNotification(t){console.log("🔔 API Service: createNotification called with data:",t);try{const r=await this.request("/notifications",{method:"POST",body:JSON.stringify(t)});return console.log("🔔 API Service: createNotification response:",r),r}catch(r){throw console.error("🔔 API Service: createNotification error:",r),r}}async markNotificationAsRead(t){return this.request(`/notifications/${t}/read`,{method:"PUT"})}async markAllNotificationsAsRead(t){return this.request(`/notifications/mark-all-read/${t}`,{method:"PUT"})}async clearAllNotifications(t){return this.request(`/notifications/clear-all/${t}`,{method:"DELETE"})}}const Q=new lZ,pa=e=>{const[t,r]=O.useState([]),[a,s]=O.useState(!0),i=O.useCallback(async()=>{if(!e){s(!1);return}try{s(!0),console.log(`🔔 useNotifications: Loading notifications for outlet: "${e}"`);const f=await Q.getNotifications(e,void 0,20);if(console.log("🔔 useNotifications: API response:",f),f.success){const m=f.data.map(h=>({id:h.id,title:h.title,message:h.message,type:h.type==="transfer_rejection"?"error":h.type==="transfer_acceptance"?"success":h.priority==="high"?"warning":"info",timestamp:new Date(h.timestamp),read:h.read,outlet:e,transferOrderId:h.transferOrderId,isTransferOrder:!0,itemType:h.itemType,priority:h.priority}));r(m)}}catch(f){console.error("Error loading notifications:",f),r([])}finally{s(!1)}},[e]);O.useEffect(()=>{i();const f=setInterval(()=>{i()},3e4);return()=>clearInterval(f)},[i]);const l=O.useCallback(async f=>{try{await Q.markNotificationAsRead(f),r(m=>m.map(h=>h.id===f?{...h,read:!0}:h))}catch(m){console.error("Error marking notification as read:",m)}},[]),o=O.useCallback(async()=>{if(e)try{await Q.markAllNotificationsAsRead(e),r(f=>f.map(m=>({...m,read:!0})))}catch(f){console.error("Error marking all notifications as read:",f)}},[e]),c=O.useCallback(async()=>{if(e)try{await Q.clearAllNotifications(e),r([])}catch(f){console.error("Error clearing notifications:",f)}},[e]),u=O.useCallback(f=>{const m={...f,id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,read:!1};r(h=>[m,...h])},[]);return{notifications:t,markAsRead:l,markAllAsRead:o,clearAll:c,addNotification:u,loading:a,refreshNotifications:i}},iw=()=>{const[e,t]=O.useState("overall"),{notifications:r,markAsRead:a,markAllAsRead:s,clearAll:i}=pa("System"),l=[{id:"overall",name:"Overall Sales",icon:Ia,color:"text-indigo-600"},{id:"kuwait-city",name:"Kuwait City",icon:ar,color:"text-blue-600"},{id:"360-mall",name:"360 Mall",icon:_l,color:"text-green-600"},{id:"vibes-complex",name:"Vibes Complex",icon:Rl,color:"text-orange-600"},{id:"taiba-hospital",name:"Taiba Hospital",icon:$l,color:"text-purple-600"}],o={"kuwait-city":{name:"Kuwait City",totalSales:125e3,totalOrders:156,avgOrderValue:801,topProducts:[{name:"Caesar Salad",sales:12500,orders:45},{name:"Grilled Chicken",sales:9800,orders:38},{name:"Pasta Carbonara",sales:8700,orders:32}],dailySales:[{day:"Mon",sales:8500},{day:"Tue",sales:9200},{day:"Wed",sales:7800},{day:"Thu",sales:10500},{day:"Fri",sales:12800},{day:"Sat",sales:15200},{day:"Sun",sales:11800}]},"360-mall":{name:"360 Mall",totalSales:89e3,totalOrders:134,avgOrderValue:664,topProducts:[{name:"Cappuccino",sales:9800,orders:65},{name:"Latte",sales:7200,orders:48},{name:"Croissant",sales:5400,orders:36}],dailySales:[{day:"Mon",sales:6200},{day:"Tue",sales:6800},{day:"Wed",sales:5900},{day:"Thu",sales:7500},{day:"Fri",sales:9200},{day:"Sat",sales:10800},{day:"Sun",sales:8200}]},"vibes-complex":{name:"Vibes Complex",totalSales:67e3,totalOrders:98,avgOrderValue:684,topProducts:[{name:"Burger Deluxe",sales:8200,orders:28},{name:"Chicken Wrap",sales:6500,orders:25},{name:"French Fries",sales:4800,orders:32}],dailySales:[{day:"Mon",sales:4800},{day:"Tue",sales:5200},{day:"Wed",sales:4500},{day:"Thu",sales:5800},{day:"Fri",sales:7200},{day:"Sat",sales:8500},{day:"Sun",sales:6200}]},"taiba-hospital":{name:"Taiba Hospital",totalSales:45e3,totalOrders:67,avgOrderValue:672,topProducts:[{name:"Quick Sandwich",sales:6800,orders:22},{name:"Coffee",sales:4200,orders:35},{name:"Energy Bar",sales:3200,orders:18}],dailySales:[{day:"Mon",sales:3200},{day:"Tue",sales:3500},{day:"Wed",sales:2800},{day:"Thu",sales:4200},{day:"Fri",sales:4800},{day:"Sat",sales:5200},{day:"Sun",sales:3800}]}},c={totalSales:Object.values(o).reduce((f,m)=>f+m.totalSales,0),totalOrders:Object.values(o).reduce((f,m)=>f+m.totalOrders,0),avgOrderValue:0,outletBreakdown:Object.entries(o).map(([,f])=>({name:f.name,sales:f.totalSales,orders:f.totalOrders,percentage:0}))};c.avgOrderValue=Math.round(c.totalSales/c.totalOrders),c.outletBreakdown.forEach(f=>{f.percentage=Math.round(f.sales/c.totalSales*100)});const u=f=>{if(f==="overall")return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-indigo-500",children:n.jsx(Ia,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",c.totalSales.toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(ut,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:c.totalOrders})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(Un,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",c.avgOrderValue]})]})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Sales by Outlet"}),n.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:c.outletBreakdown.map((h,v)=>n.jsxs("div",{className:"flex flex-col items-center p-6 bg-gray-50 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:`p-4 rounded-full mb-4 ${v===0?"bg-blue-100":v===1?"bg-green-100":v===2?"bg-orange-100":"bg-purple-100"}`,children:v===0?n.jsx(ar,{className:"h-8 w-8 text-blue-600"}):v===1?n.jsx(_l,{className:"h-8 w-8 text-green-600"}):v===2?n.jsx(Rl,{className:"h-8 w-8 text-orange-600"}):n.jsx($l,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:h.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[h.orders," orders"]}),n.jsxs("p",{className:"font-bold text-gray-900 text-xl",children:["$",h.sales.toLocaleString()]}),n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[h.percentage,"% of total"]})]})]},h.name))})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Overall Sales Trend"}),n.jsx(xb,{width:"100%",height:300,children:n.jsxs(sw,{data:[{day:"Mon",sales:22700},{day:"Tue",sales:24700},{day:"Wed",sales:21e3},{day:"Thu",sales:28e3},{day:"Fri",sales:34e3},{day:"Sat",sales:39700},{day:"Sun",sales:3e4}],children:[n.jsx(ex,{strokeDasharray:"3 3"}),n.jsx(go,{dataKey:"day"}),n.jsx(vo,{}),n.jsx(Er,{formatter:h=>[`$${h}`,"Sales"]}),n.jsx(li,{type:"monotone",dataKey:"sales",stroke:"#3B82F6",strokeWidth:3})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Products Overall"}),n.jsx("div",{className:"space-y-4",children:[{name:"Caesar Salad",sales:12500,orders:45,outlet:"Kuwait City"},{name:"Cappuccino",sales:9800,orders:65,outlet:"360 Mall"},{name:"Grilled Chicken",sales:9800,orders:38,outlet:"Kuwait City"},{name:"Burger Deluxe",sales:8200,orders:28,outlet:"Vibes Complex"},{name:"Latte",sales:7200,orders:48,outlet:"360 Mall"}].map((h,v)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-semibold text-blue-600",children:v+1})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:h.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[h.outlet," • ",h.orders," orders"]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-gray-900",children:["$",h.sales.toLocaleString()]})})]},h.name))})]})]})]});const m=o[f];return m?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(Ia,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",m.totalSales.toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(ut,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:m.totalOrders})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:n.jsx(Un,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",m.avgOrderValue]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Daily Sales Trend"}),n.jsx(xb,{width:"100%",height:300,children:n.jsxs(sw,{data:m.dailySales,children:[n.jsx(ex,{strokeDasharray:"3 3"}),n.jsx(go,{dataKey:"day"}),n.jsx(vo,{}),n.jsx(Er,{formatter:h=>[`$${h}`,"Sales"]}),n.jsx(li,{type:"monotone",dataKey:"sales",stroke:"#3B82F6",strokeWidth:2})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Products"}),n.jsx("div",{className:"space-y-4",children:m.topProducts.map(h=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:h.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[h.orders," orders"]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-gray-900",children:["$",h.sales.toLocaleString()]})})]},h.name))})]})]})]}):null};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Monitor sales performance across all outlets"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[n.jsx(Un,{className:"h-4 w-4"}),n.jsxs("span",{children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx(ha,{notifications:r,onMarkAsRead:a,onMarkAllAsRead:s,onClearAll:i})]})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:l.map(f=>{const m=f.icon;return n.jsxs("button",{onClick:()=>t(f.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${e===f.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(m,{className:`h-4 w-4 ${e===f.id?f.color:""}`}),n.jsx("span",{children:f.name})]},f.id)})})}),u(e)]})},oZ=()=>NA(),cZ=CA,uZ=()=>{const e=ge(),t=oZ(),r=O.useRef(null),{rawMaterials:a,loading:s,error:i}=cZ(E=>E.inventory),[l,o]=O.useState(!1),[c,u]=O.useState(""),[f,m]=O.useState(""),[h,v]=O.useState(""),[j,y]=O.useState(""),[b,N]=O.useState(""),[S,x]=O.useState("materialCode"),[d,p]=O.useState("asc"),g=(E,B)=>E<=B?{status:"Low",color:"text-red-600 bg-red-100"}:E<=B*1.5?{status:"Medium",color:"text-yellow-600 bg-yellow-100"}:{status:"Good",color:"text-green-600 bg-green-100"},w=a.filter(E=>{const B=E.materialName.toLowerCase().includes(c.toLowerCase())||E.materialCode.toLowerCase().includes(c.toLowerCase())||E.description.toLowerCase().includes(c.toLowerCase()),A=f===""||E.category===f,I=h===""||h==="active"&&E.isActive||h==="inactive"&&!E.isActive,$=g(E.currentStock,E.minimumStock),L=j===""||$.status.toLowerCase()===j.toLowerCase(),_=b===""||E.supplierId===b;return B&&A&&I&&L&&_}).sort((E,B)=>{let A,I;switch(S){case"materialCode":A=E.materialCode,I=B.materialCode;break;case"materialName":A=E.materialName,I=B.materialName;break;case"category":A=E.category,I=B.category;break;case"unitPrice":A=E.unitPrice,I=B.unitPrice;break;case"currentStock":A=E.currentStock,I=B.currentStock;break;case"createdAt":A=new Date(E.createdAt).getTime(),I=new Date(B.createdAt).getTime();break;default:A=E.materialCode,I=B.materialCode}return d==="asc"?A>I?1:-1:A<I?1:-1}),C=[...new Set(a.map(E=>E.category))],T=[{id:"SUP-FP-001",name:"Fresh Produce Co"},{id:"SUP-PT-001",name:"Pantry Essentials"},{id:"SUP-DA-001",name:"Dairy Alternatives Inc"},{id:"SUP-SW-001",name:"Sweeteners & Syrups"},{id:"SUP-BV-001",name:"Beverage Solutions"},{id:"SUP-SP-001",name:"Supplements Plus"},{id:"SUP-SF-001",name:"Superfoods Direct"},{id:"SUP-DY-001",name:"Dairy Farm Fresh"},{id:"SUP-BK-001",name:"Artisan Bakery"}],P=()=>{u(""),m(""),v(""),y(""),N(""),x("materialCode"),p("asc")},D=async E=>{if(window.confirm("Are you sure you want to delete this material?"))try{(await Q.deleteRawMaterial(E)).success?window.location.reload():alert("Failed to delete material")}catch(B){alert("Error deleting material: "+(B instanceof Error?B.message:"Unknown error")),console.error("Error deleting material:",B)}},k=()=>{try{const E=w.map(_=>({SKU:_.materialCode,"Item Name":_.materialName,"Parent Category":"Raw Materials","SubCategory Name":_.category,Unit:_.unitOfMeasure,"Unit Name":_.unitOfMeasure,"Default Purchase Unit Name":_.unitOfMeasure})),B=Object.keys(E[0]||{}),A=[B.join(","),...E.map(_=>B.map(G=>{const ee=_[G];return typeof ee=="string"&&(ee.includes(",")||ee.includes('"'))?`"${ee.replace(/"/g,'""')}"`:ee}).join(","))].join(`
`),I=new Blob([A],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a"),L=URL.createObjectURL(I);$.setAttribute("href",L),$.setAttribute("download",`raw-materials-export-${new Date().toISOString().split("T")[0]}.csv`),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($),console.log("Export completed successfully")}catch(E){console.error("Export failed:",E),alert("Export failed. Please try again.")}},M=()=>{console.log("Import button clicked"),r.current?(console.log("File input ref found, clicking..."),r.current.click()):console.error("File input ref not found")},F=()=>{const E=[{SKU:"10001","Item Name":"Bhujia","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10002","Item Name":"Bran Flakes","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10003","Item Name":"Bread Improver","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10004","Item Name":"Caramel Syrup","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10005","Item Name":"Cocoa Powder","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"}],B=Object.keys(E[0]),A=[B.join(","),...E.map(_=>B.map(G=>{const ee=_[G];return typeof ee=="string"&&(ee.includes(",")||ee.includes('"'))?`"${ee.replace(/"/g,'""')}"`:ee}).join(","))].join(`
`),I=new Blob([A],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a"),L=URL.createObjectURL(I);$.setAttribute("href",L),$.setAttribute("download","sample-raw-materials-import.csv"),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($)},R=async E=>{var A;const B=(A=E.target.files)==null?void 0:A[0];if(!B){console.log("No file selected");return}if(console.log("File selected:",B.name,"Size:",B.size,"Type:",B.type),!B.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{o(!0),console.log("Starting import process...");const I=await B.text();console.log("File content length:",I.length);const $=I.split(`
`).filter(ye=>ye.trim());if(console.log("Number of lines:",$.length),$.length<2){alert("CSV file must contain at least a header row and one data row");return}const L=ye=>{const me=[];let z="",re=!1;for(let Z=0;Z<ye.length;Z++){const U=ye[Z];U==='"'?re&&ye[Z+1]==='"'?(z+='"',Z++):re=!re:U===","&&!re?(me.push(z.trim()),z=""):z+=U}return me.push(z.trim()),me},_=L($[0]);console.log("Headers:",_);const G=$.slice(1).map((ye,me)=>{const z=L(ye),re={};return _.forEach((Z,U)=>{re[Z]=z[U]||""}),console.log(`Row ${me+1}:`,re),re}),ee=["SKU","Item Name","Parent Category","SubCategory Name","Unit","Unit Name","Default Purchase Unit Name"],ue=ee.filter(ye=>!_.includes(ye));if(ue.length>0){alert(`Missing required columns: ${ue.join(", ")}

Required columns: ${ee.join(", ")}

Found columns: ${_.join(", ")}`);return}console.log("Starting to process",G.length,"rows...");let X=0,ae=0,Ne=0;const W=[],ie=new Set,de=[],H=[];for(let ye=0;ye<G.length;ye++){const me=G[ye];try{console.log(`Processing row ${ye+1}:`,me);const z=me.SKU;if(ie.has(z)){console.log(`Material ${z} already processed in this import, skipping...`);continue}const re={id:`rm-${Date.now()}-${ye}`,materialCode:z,materialName:me["Item Name"],description:`${me["Parent Category"]} - ${me["SubCategory Name"]}`,category:me["SubCategory Name"],unitOfMeasure:me.Unit,unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"};console.log("Processed material data:",re);const Z=a.find(U=>U.materialCode===re.materialCode);if(Z){console.log("Material exists, updating existing material:",Z.id);const U={...Z,materialName:re.materialName,description:re.description,category:re.category,unitOfMeasure:re.unitOfMeasure,updatedAt:new Date().toISOString(),updatedBy:"admin"};H.push(U),Ne++,console.log(`Successfully updated ${re.materialCode}`)}else console.log("Creating new material:",re.materialCode),de.push(re),X++,console.log(`Successfully created ${re.materialCode}`);ie.add(z)}catch(z){ae++;const re=`Error processing row ${ye+1} (${me.SKU||"Unknown"}): ${z instanceof Error?z.message:"Unknown error"}`;W.push(re),console.error(re,z)}}console.log("Import processing complete. Created:",X,"Updated:",Ne,"Errors:",ae),t(mD([...de,...H])),ae>0?alert(`Import completed with errors:

New Materials Created: ${X}
Materials Updated: ${Ne}
Errors: ${ae}

Errors:
${W.slice(0,5).join(`
`)}${W.length>5?`
...`:""}`):alert(`Import completed successfully!

New Materials Created: ${X}
Materials Updated: ${Ne}`)}catch(I){console.error("Import failed:",I),alert(`Import failed: ${I instanceof Error?I.message:"Unknown error"}

Please check your CSV file format and try again.`)}finally{o(!1),r.current&&(r.current.value="")}};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading materials..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ingredient Master"}),n.jsx("p",{className:"text-gray-600",children:"Manage your restaurant ingredients and raw material inventory"})]}),n.jsxs("button",{onClick:()=>e("/raw-materials/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Ingredient"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search materials by name, code, or description...",className:"input-field pl-10",value:c,onChange:E=>u(E.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:P,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:k,className:"btn-secondary flex items-center",title:"Export materials to CSV",disabled:w.length===0,children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:M,className:"btn-secondary flex items-center",title:"Import materials from CSV",disabled:l,children:[n.jsx(pi,{className:"h-4 w-4 mr-2"}),l?"Importing...":"Import"]}),n.jsxs("button",{onClick:F,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"input-field",value:f,onChange:E=>m(E.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),C.map(E=>n.jsx("option",{value:E,children:E},E))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:h,onChange:E=>v(E.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Status"}),n.jsxs("select",{className:"input-field",value:j,onChange:E=>y(E.target.value),children:[n.jsx("option",{value:"",children:"All Stock Levels"}),n.jsx("option",{value:"low",children:"Low Stock"}),n.jsx("option",{value:"medium",children:"Medium Stock"}),n.jsx("option",{value:"good",children:"Good Stock"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),n.jsxs("select",{className:"input-field",value:b,onChange:E=>N(E.target.value),children:[n.jsx("option",{value:"",children:"All Suppliers"}),T.map(E=>n.jsx("option",{value:E.id,children:E.name},E.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:S,onChange:E=>x(E.target.value),children:[n.jsx("option",{value:"materialCode",children:"Material Code"}),n.jsx("option",{value:"materialName",children:"Name"}),n.jsx("option",{value:"category",children:"Category"}),n.jsx("option",{value:"unitPrice",children:"Unit Price"}),n.jsx("option",{value:"currentStock",children:"Current Stock"}),n.jsx("option",{value:"createdAt",children:"Date Created"})]}),n.jsx("button",{onClick:()=>p(d==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${d==="asc"?"Descending":"Ascending"}`,children:d==="asc"?"↑":"↓"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",w.length," of ",a.length," materials",(c||f||h||j||b)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),w.length!==a.length&&n.jsx("button",{onClick:P,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"SKU"}),n.jsx("th",{className:"table-header",children:"Item Name"}),n.jsx("th",{className:"table-header",children:"Parent Category"}),n.jsx("th",{className:"table-header",children:"SubCategory Name"}),n.jsx("th",{className:"table-header",children:"Unit"}),n.jsx("th",{className:"table-header",children:"Unit Name"}),n.jsx("th",{className:"table-header",children:"Default Purchase Unit Name"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(E=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:E.materialCode}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"font-medium",children:E.materialName})}),n.jsx("td",{className:"table-cell",children:"Raw Materials"}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:E.category})}),n.jsx("td",{className:"table-cell",children:E.unitOfMeasure}),n.jsx("td",{className:"table-cell",children:E.unitOfMeasure}),n.jsx("td",{className:"table-cell",children:E.unitOfMeasure}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>e(`/raw-materials/edit/${E.id}`),className:"text-blue-600 hover:text-blue-900",children:n.jsx(Wr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>D(E.id),className:"text-red-600 hover:text-red-900",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},E.id))})]})})}),n.jsx("input",{ref:r,type:"file",accept:".csv",onChange:R,style:{display:"none"}})]})},dZ=()=>{const e=ge(),[t,r]=O.useState({materialCode:"",materialName:"",description:"",category:"",unitOfMeasure:"",unitPrice:"",minimumStock:"",maximumStock:"",currentStock:"",supplierId:"",isActive:!0}),[a,s]=O.useState({}),i=["Fresh Produce","Pantry","Dairy Alternatives","Sweeteners","Beverages","Supplements","Superfoods","Dairy","Bakery","Spices","Other"],l=["PC","TBSP","CUP","TSP","PINCH","SCOOP","HANDFUL","SLICE","OZ","LB","KG","LTR","Other"],o=()=>{const f={};return t.materialCode.trim()||(f.materialCode="Material code is required"),t.materialName.trim()||(f.materialName="Material name is required"),t.category||(f.category="Category is required"),t.unitOfMeasure||(f.unitOfMeasure="Unit of measure is required"),(!t.unitPrice||parseFloat(t.unitPrice)<0)&&(f.unitPrice="Valid unit price is required"),(!t.minimumStock||parseInt(t.minimumStock)<0)&&(f.minimumStock="Valid minimum stock is required"),(!t.maximumStock||parseInt(t.maximumStock)<0)&&(f.maximumStock="Valid maximum stock is required"),(!t.currentStock||parseInt(t.currentStock)<0)&&(f.currentStock="Valid current stock is required"),s(f),Object.keys(f).length===0},c=async f=>{if(f.preventDefault(),!!o())try{const m=await Q.createRawMaterial(t);m.success?e("/raw-materials"):alert("Failed to create material: "+m.message)}catch(m){alert("Error creating material: "+(m instanceof Error?m.message:"Unknown error")),console.error("Error creating material:",m)}},u=(f,m)=>{r(h=>({...h,[f]:m})),a[f]&&s(h=>({...h,[f]:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Material"}),n.jsx("p",{className:"text-gray-600",children:"Create a new raw material entry"})]}),n.jsxs("button",{onClick:()=>e("/raw-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Raw Materials"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:c,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Code *"}),n.jsx("input",{type:"text",className:`input-field ${a.materialCode?"border-red-500":""}`,value:t.materialCode,onChange:f=>u("materialCode",f.target.value),placeholder:"RM-001"}),a.materialCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.materialCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.materialName?"border-red-500":""}`,value:t.materialName,onChange:f=>u("materialName",f.target.value),placeholder:"Steel Rod 12mm"}),a.materialName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.materialName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.description,onChange:f=>u("description",f.target.value),placeholder:"Material description"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),n.jsxs("select",{className:`input-field ${a.category?"border-red-500":""}`,value:t.category,onChange:f=>u("category",f.target.value),children:[n.jsx("option",{value:"",children:"Select Category"}),i.map(f=>n.jsx("option",{value:f,children:f},f))]}),a.category&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.category})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure *"}),n.jsxs("select",{className:`input-field ${a.unitOfMeasure?"border-red-500":""}`,value:t.unitOfMeasure,onChange:f=>u("unitOfMeasure",f.target.value),children:[n.jsx("option",{value:"",children:"Select Unit"}),l.map(f=>n.jsx("option",{value:f,children:f},f))]}),a.unitOfMeasure&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.unitOfMeasure})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pricing & Stock Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),n.jsx("input",{type:"number",step:"0.01",className:`input-field pl-8 ${a.unitPrice?"border-red-500":""}`,value:t.unitPrice,onChange:f=>u("unitPrice",f.target.value),placeholder:"0.00"})]}),a.unitPrice&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.unitPrice})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock *"}),n.jsx("input",{type:"number",className:`input-field ${a.currentStock?"border-red-500":""}`,value:t.currentStock,onChange:f=>u("currentStock",f.target.value),placeholder:"0"}),a.currentStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.currentStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${a.minimumStock?"border-red-500":""}`,value:t.minimumStock,onChange:f=>u("minimumStock",f.target.value),placeholder:"0"}),a.minimumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.minimumStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${a.maximumStock?"border-red-500":""}`,value:t.maximumStock,onChange:f=>u("maximumStock",f.target.value),placeholder:"0"}),a.maximumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.maximumStock})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier ID"}),n.jsx("input",{type:"text",className:"input-field",value:t.supplierId,onChange:f=>u("supplierId",f.target.value),placeholder:"SUP-001"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:t.isActive,onChange:f=>u("isActive",f.target.checked)}),n.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Active Material"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Save Material"]})]})]})})]})},mZ=()=>{const e=ge(),{id:t}=oa(),[r,a]=O.useState({materialCode:"",materialName:"",description:"",category:"",unitOfMeasure:"",unitPrice:"",minimumStock:"",maximumStock:"",currentStock:"",supplierId:"",isActive:!0}),[s,i]=O.useState({}),[l,o]=O.useState(!0),c=["Fresh Produce","Pantry","Dairy Alternatives","Sweeteners","Beverages","Supplements","Superfoods","Dairy","Bakery","Spices","Other"],u=["PC","TBSP","CUP","TSP","PINCH","SCOOP","HANDFUL","SLICE","OZ","LB","KG","LTR","Other"];O.useEffect(()=>{t&&f()},[t]);const f=async()=>{try{o(!0);const j=await Q.getRawMaterial(t);if(j.success){const y=j.data;a({materialCode:y.materialCode,materialName:y.materialName,description:y.description,category:y.category,unitOfMeasure:y.unitOfMeasure,unitPrice:y.unitPrice.toString(),minimumStock:y.minimumStock.toString(),maximumStock:y.maximumStock.toString(),currentStock:y.currentStock.toString(),supplierId:y.supplierId||"",isActive:y.isActive})}else alert("Failed to load material"),e("/raw-materials")}catch(j){alert("Error loading material: "+(j instanceof Error?j.message:"Unknown error")),e("/raw-materials")}finally{o(!1)}},m=()=>{const j={};return r.materialCode.trim()||(j.materialCode="Material code is required"),r.materialName.trim()||(j.materialName="Material name is required"),r.category||(j.category="Category is required"),r.unitOfMeasure||(j.unitOfMeasure="Unit of measure is required"),(!r.unitPrice||parseFloat(r.unitPrice)<0)&&(j.unitPrice="Valid unit price is required"),(!r.minimumStock||parseInt(r.minimumStock)<0)&&(j.minimumStock="Valid minimum stock is required"),(!r.maximumStock||parseInt(r.maximumStock)<0)&&(j.maximumStock="Valid maximum stock is required"),(!r.currentStock||parseInt(r.currentStock)<0)&&(j.currentStock="Valid current stock is required"),i(j),Object.keys(j).length===0},h=async j=>{if(j.preventDefault(),!!m())try{const y=await Q.updateRawMaterial(t,r);y.success?e("/raw-materials"):alert("Failed to update material: "+y.message)}catch(y){alert("Error updating material: "+(y instanceof Error?y.message:"Unknown error")),console.error("Error updating material:",y)}},v=(j,y)=>{a(b=>({...b,[j]:y})),s[j]&&i(b=>({...b,[j]:""}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading material data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Material"}),n.jsx("p",{className:"text-gray-600",children:"Update material information"})]}),n.jsxs("button",{onClick:()=>e("/raw-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Raw Materials"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:h,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.materialCode?"border-red-500":""}`,value:r.materialCode,onChange:j=>v("materialCode",j.target.value),placeholder:"RM-001"}),s.materialCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.materialCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.materialName?"border-red-500":""}`,value:r.materialName,onChange:j=>v("materialName",j.target.value),placeholder:"Steel Rod 12mm"}),s.materialName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.materialName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.description,onChange:j=>v("description",j.target.value),placeholder:"Material description"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),n.jsxs("select",{className:`input-field ${s.category?"border-red-500":""}`,value:r.category,onChange:j=>v("category",j.target.value),children:[n.jsx("option",{value:"",children:"Select Category"}),c.map(j=>n.jsx("option",{value:j,children:j},j))]}),s.category&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.category})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure *"}),n.jsxs("select",{className:`input-field ${s.unitOfMeasure?"border-red-500":""}`,value:r.unitOfMeasure,onChange:j=>v("unitOfMeasure",j.target.value),children:[n.jsx("option",{value:"",children:"Select Unit"}),u.map(j=>n.jsx("option",{value:j,children:j},j))]}),s.unitOfMeasure&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.unitOfMeasure})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pricing & Stock Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),n.jsx("input",{type:"number",step:"0.01",className:`input-field pl-8 ${s.unitPrice?"border-red-500":""}`,value:r.unitPrice,onChange:j=>v("unitPrice",j.target.value),placeholder:"0.00"})]}),s.unitPrice&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.unitPrice})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock *"}),n.jsx("input",{type:"number",className:`input-field ${s.currentStock?"border-red-500":""}`,value:r.currentStock,onChange:j=>v("currentStock",j.target.value),placeholder:"0"}),s.currentStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.currentStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${s.minimumStock?"border-red-500":""}`,value:r.minimumStock,onChange:j=>v("minimumStock",j.target.value),placeholder:"0"}),s.minimumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.minimumStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${s.maximumStock?"border-red-500":""}`,value:r.maximumStock,onChange:j=>v("maximumStock",j.target.value),placeholder:"0"}),s.maximumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.maximumStock})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier ID"}),n.jsx("input",{type:"text",className:"input-field",value:r.supplierId,onChange:j=>v("supplierId",j.target.value),placeholder:"SUP-001"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:r.isActive,onChange:j=>v("isActive",j.target.checked)}),n.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Active Material"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Update Material"]})]})]})})]})},fZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState(!0),[i,l]=O.useState(null),[o,c]=O.useState(null),[u,f]=O.useState(!1),[m,h]=O.useState(""),[v,j]=O.useState(""),[y,b]=O.useState("createdAt"),[N,S]=O.useState("desc"),[x,d]=O.useState(!1),p=O.useRef(null);O.useEffect(()=>{g()},[]);const g=async()=>{try{s(!0),l(null);const R=await Q.getBillOfMaterials({limit:1e3,search:m,status:v,sortBy:y,sortOrder:N});R.success?(console.log("Loaded BOMs:",R.data),r(R.data)):l("Failed to load BOMs")}catch(R){l(R instanceof Error?R.message:"Failed to load BOMs"),console.error("Error loading BOMs:",R)}finally{s(!1)}};O.useEffect(()=>{a||g()},[m,v,y,N]);const w=t.filter(R=>{const E=R.productName.toLowerCase().includes(m.toLowerCase())||R.bomCode.toLowerCase().includes(m.toLowerCase())||R.productDescription.toLowerCase().includes(m.toLowerCase()),B=v===""||R.status===v;return E&&B}),C=()=>{h(""),j(""),b("createdAt"),S("desc")},T=R=>{c(R),f(!0)},P=async R=>{if(console.log("Deleting BOM with ID:",R),!R){alert("Error: BOM ID is missing");return}if(window.confirm("Are you sure you want to delete this BOM?"))try{(await Q.deleteBillOfMaterial(R)).success?await g():alert("Failed to delete BOM")}catch(E){alert("Error deleting BOM: "+(E instanceof Error?E.message:"Unknown error")),console.error("Error deleting BOM:",E)}},D=()=>{if(w.length===0){alert("No BOMs to export");return}const R=[["BOM Code","Product Name","Product Description","Status","Version","Created At","Updated At","Notes"].join(","),...w.map(I=>[I.bomCode,I.productName,I.productDescription,I.status,I.version,new Date(I.createdAt).toLocaleDateString(),new Date(I.updatedAt).toLocaleDateString(),""].map($=>`"${$}"`).join(","))].join(`
`),E=new Blob([R],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a"),A=URL.createObjectURL(E);B.setAttribute("href",A),B.setAttribute("download",`bom-recipes-${new Date().toISOString().split("T")[0]}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)},k=()=>{var R;(R=p.current)==null||R.click()},M=async R=>{var B;const E=(B=R.target.files)==null?void 0:B[0];if(E){if(!E.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{d(!0);const I=(await E.text()).split(`
`).filter(G=>G.trim());if(I.length<2){alert("CSV file must contain at least a header row and one data row");return}const $=I.slice(1);let L=0,_=0;for(const G of $)try{const ee=G.split(",").map(ae=>ae.replace(/"/g,"").trim()),ue={bomCode:ee[0]||"",productName:ee[1]||"",productDescription:ee[2]||"",status:ee[3]||"Draft",version:ee[4]||"1.0",notes:ee[7]||""};(await Q.createBillOfMaterial(ue)).success?L++:_++}catch{_++}alert(`Import completed!

Successfully imported: ${L} BOMs
Errors: ${_}`),await g()}catch(A){alert("Error importing file: "+(A instanceof Error?A.message:"Unknown error"))}finally{d(!1),p.current&&(p.current.value="")}}},F=()=>{const E=[["BOM Code","Product Name","Product Description","Status","Version","Created At","Updated At","Notes"],["BOM-001","Fresh Green Smoothie","Healthy smoothie with spinach and fruits","Active","1.0","2024-01-15","2024-01-15","Popular breakfast item"],["BOM-002","Protein Power Bowl","High protein meal bowl","Active","1.0","2024-01-15","2024-01-15","Post-workout meal"]].map($=>$.map(L=>`"${L}"`).join(",")).join(`
`),B=new Blob([E],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),I=URL.createObjectURL(B);A.setAttribute("href",I),A.setAttribute("download","bom-sample-template.csv"),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading BOMs..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:g,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recipes (BOM)"}),n.jsx("p",{className:"text-gray-600",children:"Manage your restaurant recipes and product formulations"})]}),n.jsxs("button",{onClick:()=>e("/bill-of-materials/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Recipe"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search recipes by name, code, or description...",className:"input-field pl-10",value:m,onChange:R=>h(R.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:C,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:D,className:"btn-secondary flex items-center",title:"Export BOMs to CSV",disabled:w.length===0,children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:k,className:"btn-secondary flex items-center",title:"Import BOMs from CSV",disabled:x,children:[n.jsx(pi,{className:"h-4 w-4 mr-2"}),x?"Importing...":"Import"]}),n.jsxs("button",{onClick:F,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:v,onChange:R=>j(R.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"}),n.jsx("option",{value:"Obsolete",children:"Obsolete"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:y,onChange:R=>b(R.target.value),children:[n.jsx("option",{value:"bomCode",children:"BOM Code"}),n.jsx("option",{value:"productName",children:"Product Name"}),n.jsx("option",{value:"totalCost",children:"Total Cost"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"createdAt",children:"Date Created"})]}),n.jsx("button",{onClick:()=>S(N==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${N==="asc"?"Descending":"Ascending"}`,children:N==="asc"?"↑":"↓"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",w.length," of ",t.length," recipes",(m||v)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),w.length!==t.length&&n.jsx("button",{onClick:C,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"BOM Code"}),n.jsx("th",{className:"table-header",children:"Product Name"}),n.jsx("th",{className:"table-header",children:"Description"}),n.jsx("th",{className:"table-header",children:"Version"}),n.jsx("th",{className:"table-header",children:"Total Cost"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Items"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(R=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:R.bomCode}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900",children:R.productName})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-600 text-sm max-w-xs truncate",children:R.productDescription})}),n.jsx("td",{className:"table-cell",children:R.version}),n.jsxs("td",{className:"table-cell",children:[R.totalCost.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R.status==="Active"?"bg-green-100 text-green-800":R.status==="Draft"?"bg-yellow-100 text-yellow-800":R.status==="Obsolete"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:R.status})}),n.jsx("td",{className:"table-cell",children:n.jsxs("span",{className:"text-sm text-gray-600",children:[R.items.length," ingredients"]})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>T(R),className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(tn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/bill-of-materials/edit/${R.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Wr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>P(R.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},R.id))})]})})}),n.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Total Recipes: ",n.jsx("span",{className:"font-semibold text-blue-600",children:t.length})]}),u&&o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"BOM Details"}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Oe,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"BOM Code"}),n.jsx("p",{className:"text-gray-900 font-mono",children:o.bomCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("p",{className:"text-gray-900",children:o.productName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),n.jsx("p",{className:"text-gray-900",children:o.version})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.status==="Active"?"bg-green-100 text-green-800":o.status==="Draft"?"bg-yellow-100 text-yellow-800":o.status==="Obsolete"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:o.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:[o.totalCost.toFixed(2)," KWD"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.effectiveDate).toLocaleDateString()})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("p",{className:"text-gray-900",children:o.productDescription})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Ingredients (",o.items.length," items)"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Cost"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.items.map((R,E)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-mono",children:R.materialCode}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.materialName}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.quantity}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.unitOfMeasure}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[R.unitCost.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[R.totalCost.toFixed(2)," KWD"]})]},E))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),n.jsx("p",{className:"text-gray-900",children:o.createdBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),n.jsx("p",{className:"text-gray-900",children:o.updatedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.updatedAt).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>f(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{f(!1),e(`/bill-of-materials/edit/${o.id}`)},className:"btn-primary",children:"Edit BOM"})]})]})}),n.jsx("input",{type:"file",ref:p,onChange:M,accept:".csv",style:{display:"none"}})]})},hZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState({bomCode:"",productName:"",productDescription:"",version:"1.0",effectiveDate:new Date().toISOString().split("T")[0],status:"Draft",items:[]}),[i,l]=O.useState({}),[o,c]=O.useState(!1),u=["Draft","Active","Obsolete"],f=["grams","kg","ml"];O.useEffect(()=>{(async()=>{var x,d,p;try{const g=[];let w=1;for(;;){const P=await Q.getCentralKitchenRawMaterials({page:w,limit:1e3});if(P!=null&&P.success&&Array.isArray(P.data)&&g.push(...P.data),!(((x=P==null?void 0:P.pagination)==null?void 0:x.hasNext)||(((d=P==null?void 0:P.pagination)==null?void 0:d.currentPage)||w)<(((p=P==null?void 0:P.pagination)==null?void 0:p.totalPages)||w))||(w+=1,w>20))break}const C=["grams","kg","ml","g","l","liter","milliliter"],T=g.filter(P=>C.includes((P.unitOfMeasure||"").toLowerCase())).map(P=>({...P,unitOfMeasure:(P.unitOfMeasure||"").toLowerCase()==="g"?"grams":(P.unitOfMeasure||"").toLowerCase()==="l"||(P.unitOfMeasure||"").toLowerCase()==="liter"||(P.unitOfMeasure||"").toLowerCase()==="milliliter"?"ml":P.unitOfMeasure||""}));r(T)}catch(g){console.error("Failed to load central kitchen raw materials",g)}})()},[]),O.useEffect(()=>{(async()=>{var x;if(!(a.bomCode&&a.bomCode.trim().length>0))try{const d=await Q.getBillOfMaterials({limit:1,page:1,sortBy:"createdAt",sortOrder:"desc"});let p="";const g=(x=d==null?void 0:d.data)==null?void 0:x[0],w=g==null?void 0:g.bomCode;if(w){const C=w.match(/^(.*?)(\d+)$/);if(C){const T=C[1],P=parseInt(C[2],10),D=C[2].length;p=`${T}${String(P+1).padStart(D,"0")}`}}if(!p){const C=new Date,T=C.getFullYear(),P=String(C.getMonth()+1).padStart(2,"0"),D=String(C.getDate()).padStart(2,"0"),k=String(C.getHours()).padStart(2,"0"),M=String(C.getMinutes()).padStart(2,"0");p=`BOM-${T}${P}${D}-${k}${M}`}s(C=>({...C,bomCode:p}))}catch{const p=new Date,g=p.getFullYear(),w=String(p.getMonth()+1).padStart(2,"0"),C=String(p.getDate()).padStart(2,"0"),T=String(p.getHours()).padStart(2,"0"),P=String(p.getMinutes()).padStart(2,"0"),D=`BOM-${g}${w}${C}-${T}${P}`;s(k=>({...k,bomCode:D}))}})()},[]);const m=x=>t.find(d=>d.materialCode===x||d.id&&d.id===x),h=(x,d)=>{if(!x)return 0;const p=(x.unitOfMeasure||"").toLowerCase(),g=Number(x.unitPrice||0);if(g<=0)return 0;if(p==="kg"){if(d==="kg")return g;if(d==="grams")return g/1e3;if(d==="ml")return 0}if(p==="grams"){if(d==="grams")return g;if(d==="kg")return g*1e3;if(d==="ml")return 0}return p==="ml"?d==="ml"?g:0:p===d?g:0},v=()=>{const x={};if(a.bomCode.trim()?a.bomCode.trim().length<3&&(x.bomCode="BOM code must be at least 3 characters"):x.bomCode="BOM code is required",a.productName.trim()||(x.productName="Product name is required"),a.version.trim()?/^\d+\.\d+$/.test(a.version.trim())||(x.version="Version must be in format X.X (e.g., 1.0)"):x.version="Version is required",!a.effectiveDate)x.effectiveDate="Effective date is required";else{const d=new Date(a.effectiveDate);(isNaN(d.getTime())||d<new Date("2020-01-01"))&&(x.effectiveDate="Please select a valid date after 2020")}return a.items.length===0?x.items="At least one BOM item is required":a.items.forEach((d,p)=>{!d.materialCode.trim()&&!d.materialId&&(x[`item_${p}_code`]="Material is required"),(!d.quantity||d.quantity<=0)&&(x[`item_${p}_quantity`]="Quantity must be greater than 0"),d.unitOfMeasure.trim()||(x[`item_${p}_unit`]="Unit of measure is required")}),l(x),Object.keys(x).length===0},j=async x=>{if(x.preventDefault(),!!v())try{c(!0);const d=a.items.map(C=>{const T=m(C.materialCode||C.materialId),P=C.unitOfMeasure||"grams",D=h(T,P),k=Math.round(D*(C.quantity||0)*100)/100,M=(C.materialCode||(T==null?void 0:T.materialCode)||"").toString().trim().toUpperCase(),F=(C.materialName||(T==null?void 0:T.materialName)||"").toString().trim();return{...C,materialCode:M,materialName:F,unitOfMeasure:P,unitCost:D,totalCost:k}}),p=d.reduce((C,T)=>C+(T.totalCost||0),0),g={bomCode:a.bomCode.trim().toUpperCase().replace(/\s+/g,"-"),productName:a.productName.trim(),productDescription:a.productDescription.trim(),version:a.version.trim(),effectiveDate:a.effectiveDate,status:a.status,totalCost:Math.round(p*100)/100,items:d.map(C=>({materialId:C.materialId||`MAT-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,materialCode:(C.materialCode||"").toString().trim().toUpperCase(),materialName:(C.materialName||"").toString().trim(),quantity:parseFloat(C.quantity.toString()),unitOfMeasure:(C.unitOfMeasure||"").toString().trim(),unitCost:Number(C.unitCost||0),totalCost:Number(C.totalCost||0)})),createdBy:"admin",updatedBy:"admin"};console.log("Creating BOM:",g);const w=await Q.createBillOfMaterial(g);w.success?(console.log("BOM created successfully:",w.data),e("/bill-of-materials")):alert("Failed to create BOM: "+w.message)}catch(d){console.error("Error creating BOM:",d),alert("Error creating BOM: "+(d instanceof Error?d.message:"Unknown error"))}finally{c(!1)}},y=(x,d)=>{s(p=>({...p,[x]:d})),i[x]&&l(p=>({...p,[x]:""}))},b=()=>{const x={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"grams",unitCost:0,totalCost:0};s(d=>({...d,items:[...d.items,x]}))},N=(x,d,p)=>{s(g=>({...g,items:g.items.map((w,C)=>{if(C===x){const T={...w,[d]:p},P=m(T.materialCode||T.materialId),D=T.unitOfMeasure||"grams",k=h(P,D);return T.unitCost=k,T.totalCost=(T.quantity||0)*k,T}return w})}))},S=x=>{s(d=>({...d,items:d.items.filter((p,g)=>g!==x)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Recipe"}),n.jsx("p",{className:"text-gray-600",children:"Create a new bill of materials"})]}),n.jsxs("button",{onClick:()=>e("/bill-of-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Recipes"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BOM Code *"}),n.jsx("input",{type:"text",className:`input-field ${i.bomCode?"border-red-500":""}`,value:a.bomCode,onChange:x=>y("bomCode",x.target.value),placeholder:"SANDWICH-001"}),i.bomCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.bomCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Version *"}),n.jsx("input",{type:"text",className:`input-field ${i.version?"border-red-500":""}`,value:a.version,onChange:x=>y("version",x.target.value),placeholder:"1.0"}),i.version&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.version})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),n.jsx("input",{type:"text",className:`input-field ${i.productName?"border-red-500":""}`,value:a.productName,onChange:x=>y("productName",x.target.value),placeholder:"Chicken Club Sandwich"}),i.productName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.productName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.productDescription,onChange:x=>y("productDescription",x.target.value),placeholder:"Delicious sandwich with grilled chicken, bacon, lettuce, tomato, and mayo on toasted bread"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Effective Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.effectiveDate?"border-red-500":""}`,value:a.effectiveDate,onChange:x=>y("effectiveDate",x.target.value)}),i.effectiveDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.effectiveDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:x=>y("status",x.target.value),children:u.map(x=>n.jsx("option",{value:x,children:x},x))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recipe Items"}),n.jsxs("button",{type:"button",onClick:b,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),i.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:i.items}),n.jsx("div",{className:"space-y-4",children:a.items.map((x,d)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material code"}),n.jsxs("select",{className:"input-field text-sm",value:x.materialCode,onChange:p=>{const g=p.target.value,w=m(g);N(d,"materialCode",g),N(d,"materialName",(w==null?void 0:w.materialName)||""),N(d,"materialId",(w==null?void 0:w.id)||"")},children:[n.jsx("option",{value:"",children:"Select material"}),t.map(p=>n.jsx("option",{value:p.materialCode,children:`${p.materialCode} - ${p.materialName}`},p.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:x.materialName,readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:x.quantity,onChange:p=>N(d,"quantity",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("select",{className:"input-field text-sm",value:x.unitOfMeasure,onChange:p=>N(d,"unitOfMeasure",p.target.value),children:f.map(p=>n.jsx("option",{value:p,children:p},p))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Cost"}),n.jsx("input",{type:"number",step:"0.0001",className:"input-field text-sm bg-gray-100",value:Number(x.unitCost||0).toFixed(4),readOnly:!0})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>S(d),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Cost: ",x.totalCost.toFixed(2)," KWD"]})})]},d))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total BOM Cost: ",a.items.reduce((x,d)=>x+d.totalCost,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/bill-of-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:`btn-primary flex items-center ${o?"opacity-60 cursor-not-allowed":""}`,disabled:o,children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),o?"Creating...":"Create BOM"]})]})]})})]})},pZ=()=>{const e=ge(),{id:t}=oa(),[r,a]=O.useState({bomCode:"",productName:"",productDescription:"",version:"",effectiveDate:"",status:"Draft",items:[]}),[s,i]=O.useState({}),[l,o]=O.useState(!0),c=["Draft","Active","Obsolete"],u={id:"1",bomCode:"BOM-001",productName:"Steel Frame Assembly",productDescription:"Complete steel frame for construction",version:"1.0",effectiveDate:new Date("2024-01-01").toISOString(),status:"Active",totalCost:1250.75,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:10,unitOfMeasure:"KG",unitCost:45.5,totalCost:455},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:5,unitOfMeasure:"SQM",unitCost:125,totalCost:625}],createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-15").toISOString(),createdBy:"admin",updatedBy:"admin"};O.useEffect(()=>{setTimeout(()=>{a({bomCode:u.bomCode,productName:u.productName,productDescription:u.productDescription,version:u.version,effectiveDate:u.effectiveDate.split("T")[0],status:u.status,items:u.items}),o(!1)},500)},[t]);const f=()=>{const b={};return r.bomCode.trim()||(b.bomCode="BOM code is required"),r.productName.trim()||(b.productName="Product name is required"),r.version.trim()||(b.version="Version is required"),r.effectiveDate||(b.effectiveDate="Effective date is required"),r.items.length===0&&(b.items="At least one BOM item is required"),i(b),Object.keys(b).length===0},m=b=>{if(b.preventDefault(),!f())return;const N=r.items.reduce((x,d)=>x+d.totalCost,0),S={...u,bomCode:r.bomCode,productName:r.productName,productDescription:r.productDescription,version:r.version,effectiveDate:new Date(r.effectiveDate).toISOString(),status:r.status,totalCost:N,items:r.items,updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating BOM:",S),e("/bill-of-materials")},h=(b,N)=>{a(S=>({...S,[b]:N})),s[b]&&i(S=>({...S,[b]:""}))},v=()=>{const b={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitCost:0,totalCost:0};a(N=>({...N,items:[...N.items,b]}))},j=(b,N,S)=>{a(x=>({...x,items:x.items.map((d,p)=>{if(p===b){const g={...d,[N]:S};return(N==="quantity"||N==="unitCost")&&(g.totalCost=g.quantity*g.unitCost),g}return d})}))},y=b=>{a(N=>({...N,items:N.items.filter((S,x)=>x!==b)}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading BOM data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Recipe"}),n.jsx("p",{className:"text-gray-600",children:"Update bill of materials information"})]}),n.jsxs("button",{onClick:()=>e("/bill-of-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Recipes"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:m,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BOM Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.bomCode?"border-red-500":""}`,value:r.bomCode,onChange:b=>h("bomCode",b.target.value),placeholder:"SANDWICH-001"}),s.bomCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.bomCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Version *"}),n.jsx("input",{type:"text",className:`input-field ${s.version?"border-red-500":""}`,value:r.version,onChange:b=>h("version",b.target.value),placeholder:"1.0"}),s.version&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.version})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.productName?"border-red-500":""}`,value:r.productName,onChange:b=>h("productName",b.target.value),placeholder:"Chicken Club Sandwich"}),s.productName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.productName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.productDescription,onChange:b=>h("productDescription",b.target.value),placeholder:"Delicious sandwich with grilled chicken, bacon, lettuce, tomato, and mayo on toasted bread"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Effective Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.effectiveDate?"border-red-500":""}`,value:r.effectiveDate,onChange:b=>h("effectiveDate",b.target.value)}),s.effectiveDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.effectiveDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:b=>h("status",b.target.value),children:c.map(b=>n.jsx("option",{value:b,children:b},b))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recipe Items"}),n.jsxs("button",{type:"button",onClick:v,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((b,N)=>n.jsxs("div",{className:"grid grid-cols-6 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:b.materialCode,onChange:S=>j(N,"materialCode",S.target.value),placeholder:"CHICKEN-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:b.materialName,onChange:S=>j(N,"materialName",S.target.value),placeholder:"Chicken Breast"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:b.quantity,onChange:S=>j(N,"quantity",parseFloat(S.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:b.unitOfMeasure,onChange:S=>j(N,"unitOfMeasure",S.target.value),placeholder:"grams"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Cost"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:b.unitCost,onChange:S=>j(N,"unitCost",parseFloat(S.target.value)||0),placeholder:"0.00"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>y(N),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-6",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Cost: ",b.totalCost.toFixed(2)," KWD"]})})]},N))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total BOM Cost: ",r.items.reduce((b,N)=>b+N.totalCost,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/bill-of-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Update BOM"]})]})]})})]})},xZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState(!0),[i,l]=O.useState(null),[o,c]=O.useState(null),[u,f]=O.useState(!1),[m,h]=O.useState(""),[v,j]=O.useState(""),[y,b]=O.useState(""),[N,S]=O.useState("createdAt"),[x,d]=O.useState("desc");O.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0),l(null);const P=await Q.getJobOrders({limit:1e3,search:m,status:v,priority:y,sortBy:N,sortOrder:x});P.success?(console.log("Loaded Job Orders:",P.data),r(P.data)):l("Failed to load job orders")}catch(P){l(P instanceof Error?P.message:"Failed to load job orders"),console.error("Error loading job orders:",P)}finally{s(!1)}},g=()=>{h(""),j(""),b(""),S("createdAt"),d("desc")},w=P=>{c(P),f(!0)},C=async P=>{if(console.log("Deleting Job Order with ID:",P),!P){alert("Error: Job Order ID is missing");return}if(window.confirm("Are you sure you want to delete this job order?"))try{(await Q.deleteJobOrder(P)).success?await p():alert("Failed to delete job order")}catch(D){alert("Error deleting job order: "+(D instanceof Error?D.message:"Unknown error")),console.error("Error deleting job order:",D)}},T=t.filter(P=>{const D=P.jobOrderNumber.toLowerCase().includes(m.toLowerCase())||P.customerName.toLowerCase().includes(m.toLowerCase())||P.customerId.toLowerCase().includes(m.toLowerCase()),k=v===""||P.status.toLowerCase()===v.toLowerCase(),M=y===""||P.priority.toLowerCase()===y.toLowerCase();return D&&k&&M}).sort((P,D)=>{let k,M;switch(N){case"jobOrderNumber":k=P.jobOrderNumber,M=D.jobOrderNumber;break;case"customerName":k=P.customerName,M=D.customerName;break;case"totalAmount":k=P.totalAmount,M=D.totalAmount;break;case"orderDate":k=new Date(P.orderDate).getTime(),M=new Date(D.orderDate).getTime();break;case"createdAt":k=new Date(P.createdAt).getTime(),M=new Date(D.createdAt).getTime();break;default:k=new Date(P.createdAt).getTime(),M=new Date(D.createdAt).getTime()}return x==="asc"?k>M?1:-1:k<M?1:-1});return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading recipe orders..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:p,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recipe Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage your restaurant's recipe orders and customer requests"})]}),n.jsxs("button",{onClick:()=>e("/job-orders/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Recipe Order"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search orders by number, customer name, or email...",className:"input-field pl-10",value:m,onChange:P=>h(P.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:g,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:v,onChange:P=>j(P.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"In Progress",children:"In Progress"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsxs("select",{className:"input-field",value:y,onChange:P=>b(P.target.value),children:[n.jsx("option",{value:"",children:"All Priority"}),n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Medium",children:"Medium"}),n.jsx("option",{value:"High",children:"High"}),n.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:N,onChange:P=>S(P.target.value),children:[n.jsx("option",{value:"createdAt",children:"Date Created"}),n.jsx("option",{value:"jobOrderNumber",children:"Order Number"}),n.jsx("option",{value:"customerName",children:"Customer Name"}),n.jsx("option",{value:"totalAmount",children:"Total Amount"}),n.jsx("option",{value:"orderDate",children:"Order Date"})]}),n.jsx("button",{onClick:()=>d(x==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${x==="asc"?"Descending":"Ascending"}`,children:x==="asc"?"↑":"↓"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",T.length," of ",t.length," recipe orders",(m||v||y)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),T.length!==t.length&&n.jsx("button",{onClick:g,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Recipe Order #"}),n.jsx("th",{className:"table-header",children:"Customer"}),n.jsx("th",{className:"table-header",children:"Order Date"}),n.jsx("th",{className:"table-header",children:"Delivery Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Priority"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(P=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:P.jobOrderNumber}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900",children:P.customerName}),n.jsx("div",{className:"text-gray-500 text-sm",children:P.customerId})]})}),n.jsx("td",{className:"table-cell",children:new Date(P.orderDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:new Date(P.deliveryDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P.status==="Completed"?"bg-green-100 text-green-800":P.status==="In Progress"?"bg-blue-100 text-blue-800":P.status==="Pending"?"bg-purple-100 text-purple-800":P.status==="Cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:P.status})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P.priority==="Urgent"?"bg-red-100 text-red-800":P.priority==="High"?"bg-orange-100 text-orange-800":P.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:P.priority})}),n.jsxs("td",{className:"table-cell",children:[P.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>w(P),className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(tn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/job-orders/edit/${P.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Wr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>C(P.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},P.id))})]})})}),n.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Total Recipe Orders: ",n.jsx("span",{className:"font-semibold text-blue-600",children:t.length})]}),u&&o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recipe Order Details"}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Oe,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number"}),n.jsx("p",{className:"text-gray-900 font-mono",children:o.jobOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),n.jsx("p",{className:"text-gray-900",children:o.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Email"}),n.jsx("p",{className:"text-gray-900",children:o.customerId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Contact"}),n.jsx("p",{className:"text-gray-900",children:o.customerId||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.orderDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.deliveryDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.status==="Completed"?"bg-green-100 text-green-800":o.status==="In Progress"?"bg-blue-100 text-blue-800":o.status==="Pending"?"bg-purple-100 text-purple-800":o.status==="Cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.priority==="Urgent"?"bg-red-100 text-red-800":o.priority==="High"?"bg-orange-100 text-orange-800":o.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:o.priority})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:[o.totalAmount.toFixed(2)," KWD"]})]})]}),o.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("p",{className:"text-gray-900",children:o.notes})]}),o.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),n.jsx("p",{className:"text-gray-900",children:o.notes})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Recipe Items (",o.items.length," items)"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet A"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet B"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet C"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.items.map((P,D)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:P.product}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:P.outletA}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:P.outletB}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:P.outletC}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:P.totalQuantity}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[P.unitPrice.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[P.totalPrice.toFixed(2)," KWD"]})]},D))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),n.jsx("p",{className:"text-gray-900",children:o.createdBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),n.jsx("p",{className:"text-gray-900",children:o.updatedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.updatedAt).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>f(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{f(!1),e(`/job-orders/edit/${o.id}`)},className:"btn-primary",children:"Edit Order"})]})]})})]})},yZ=()=>{const e=ge(),[t,r]=O.useState({jobOrderNumber:"",customerName:"",customerContact:"",customerEmail:"",orderDate:"",deliveryDate:"",priority:"Medium",status:"Draft",totalAmount:0,items:[],notes:"",specialInstructions:""}),[a,s]=O.useState({}),[i,l]=O.useState([]),[o,c]=O.useState(!1),u=["Low","Medium","High","Urgent"],f=["Draft","Approved","In Progress","Completed","Cancelled"];O.useEffect(()=>{m()},[]);const m=async()=>{try{c(!0);const x=await Q.getBillOfMaterials({limit:1e3,status:"Active"});x.success&&l(x.data)}catch(x){console.error("Error loading BOMs:",x)}finally{c(!1)}},h=()=>{const x={};return t.jobOrderNumber.trim()||(x.jobOrderNumber="Job order number is required"),t.customerName.trim()||(x.customerName="Customer name is required"),t.customerEmail.trim()||(x.customerEmail="Customer email is required"),t.orderDate||(x.orderDate="Order date is required"),t.deliveryDate||(x.deliveryDate="Delivery date is required"),t.items.length===0&&(x.items="At least one job order item is required"),s(x),Object.keys(x).length===0},v=async x=>{if(x.preventDefault(),!!h())try{const d=t.items.reduce((w,C)=>w+C.totalPrice,0),p={jobOrderNumber:t.jobOrderNumber.trim().toUpperCase(),customerId:`CUST-${Date.now()}`,customerName:t.customerName.trim(),customerContact:t.customerContact.trim(),customerEmail:t.customerEmail.trim(),orderDate:t.orderDate,deliveryDate:t.deliveryDate,priority:t.priority,status:t.status,totalAmount:d,items:t.items.map(w=>({bomId:w.bomId,bomCode:w.bomCode,product:w.product.trim(),outletA:parseFloat(w.outletA.toString())||0,outletB:parseFloat(w.outletB.toString())||0,outletC:parseFloat(w.outletC.toString())||0,totalQuantity:w.totalQuantity,unitPrice:parseFloat(w.unitPrice.toString()),totalPrice:w.totalPrice})),notes:t.notes.trim(),specialInstructions:t.specialInstructions.trim(),createdBy:"admin",updatedBy:"admin"};console.log("Creating Job Order:",p);const g=await Q.createJobOrder(p);g.success?(console.log("Job Order created successfully:",g.data),e("/job-orders")):alert("Failed to create Job Order: "+g.message)}catch(d){console.error("Error creating Job Order:",d),alert("Error creating Job Order: "+(d instanceof Error?d.message:"Unknown error"))}},j=(x,d)=>{r(p=>({...p,[x]:d})),a[x]&&s(p=>({...p,[x]:""}))},y=()=>{const x={bomId:"",bomCode:"",product:"",outletA:0,outletB:0,outletC:0,totalQuantity:0,unitPrice:0,totalPrice:0};r(d=>({...d,items:[...d.items,x]}))},b=(x,d)=>{const p=i.find(g=>g.id===d);p&&r(g=>({...g,items:g.items.map((w,C)=>{if(C===x){const T={...w,bomId:p.id,bomCode:p.bomCode,product:p.productName,unitPrice:parseFloat((p.totalCost/p.items.length).toFixed(2))};return T.totalQuantity=T.outletA+T.outletB+T.outletC,T.totalPrice=parseFloat((T.totalQuantity*T.unitPrice).toFixed(2)),T}return w})}))},N=(x,d,p)=>{r(g=>({...g,items:g.items.map((w,C)=>{if(C===x){const T={...w,[d]:p};return(d==="outletA"||d==="outletB"||d==="outletC")&&(T.totalQuantity=T.outletA+T.outletB+T.outletC),(d==="totalQuantity"||d==="unitPrice"||d==="outletA"||d==="outletB"||d==="outletC")&&(T.totalPrice=parseFloat((T.totalQuantity*T.unitPrice).toFixed(2))),T}return w})}))},S=x=>{r(d=>({...d,items:d.items.filter((p,g)=>g!==x)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Job Order"}),n.jsx("p",{className:"text-gray-600",children:"Create a new job order for production"})]}),n.jsxs("button",{onClick:()=>e("/job-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Job Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:v,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.jobOrderNumber?"border-red-500":""}`,value:t.jobOrderNumber,onChange:x=>j("jobOrderNumber",x.target.value),placeholder:"JO-2024-001"}),a.jobOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.jobOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.customerName?"border-red-500":""}`,value:t.customerName,onChange:x=>j("customerName",x.target.value),placeholder:"ABC Manufacturing Ltd."}),a.customerName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Contact"}),n.jsx("input",{type:"text",className:"input-field",value:t.customerContact,onChange:x=>j("customerContact",x.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.customerEmail?"border-red-500":""}`,value:t.customerEmail,onChange:x=>j("customerEmail",x.target.value),placeholder:"john@abcmfg.com"}),a.customerEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.customerEmail})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.orderDate?"border-red-500":""}`,value:t.orderDate,onChange:x=>j("orderDate",x.target.value)}),a.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.deliveryDate?"border-red-500":""}`,value:t.deliveryDate,onChange:x=>j("deliveryDate",x.target.value)}),a.deliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.deliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:t.priority,onChange:x=>j("priority",x.target.value),children:u.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:x=>j("status",x.target.value),children:f.map(x=>n.jsx("option",{value:x,children:x},x))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Order Items"}),n.jsxs("button",{type:"button",onClick:y,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:a.items}),n.jsx("div",{className:"space-y-4",children:t.items.map((x,d)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Recipe (BOM)"}),n.jsxs("select",{className:"input-field text-sm",value:x.bomId||"",onChange:p=>b(d,p.target.value),children:[n.jsx("option",{value:"",children:"Select Recipe"}),o?n.jsx("option",{disabled:!0,children:"Loading recipes..."}):i.map(p=>n.jsxs("option",{value:p.id,children:[p.bomCode," - ",p.productName]},p.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:x.product,readOnly:!0,placeholder:"Auto-filled from BOM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:x.unitPrice,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet A"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:x.outletA,onChange:p=>N(d,"outletA",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet B"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:x.outletB,onChange:p=>N(d,"outletB",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet C"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:x.outletC,onChange:p=>N(d,"outletC",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Total Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm bg-gray-100",value:x.totalQuantity,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>S(d),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-8",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",x.totalPrice.toFixed(2)," KWD"]})})]},d))}),t.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",t.items.reduce((x,d)=>x+d.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:x=>j("notes",x.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.specialInstructions,onChange:x=>j("specialInstructions",x.target.value),placeholder:"Special manufacturing instructions or requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/job-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Job Order"]})]})]})})]})},gZ=()=>{const e=ge(),{id:t}=oa(),[r,a]=O.useState({jobOrderNumber:"",customerName:"",customerContact:"",customerEmail:"",orderDate:"",deliveryDate:"",priority:"Medium",status:"Draft",totalAmount:0,items:[],notes:"",specialInstructions:""}),[s,i]=O.useState({}),[l,o]=O.useState(!0),[c,u]=O.useState([]),[f,m]=O.useState(!1),h=["Low","Medium","High","Urgent"],v=["Draft","Approved","In Progress","Completed","Cancelled"];O.useEffect(()=>{(async()=>{try{m(!0);const g=await Q.getBillOfMaterials({limit:1e3,status:"Active"});g.success&&u(g.data)}catch(g){console.error("Error loading BOMs:",g)}finally{m(!1)}if(!t){o(!1);return}try{o(!0);const g=await Q.getJobOrder(t);if(g.success){const w=g.data;a({jobOrderNumber:w.jobOrderNumber,customerName:w.customerName,customerContact:w.customerContact||"",customerEmail:w.customerEmail,orderDate:new Date(w.orderDate).toISOString().split("T")[0],deliveryDate:new Date(w.deliveryDate).toISOString().split("T")[0],priority:w.priority,status:w.status,totalAmount:w.totalAmount,items:w.items.map(C=>({bomId:C.bomId,bomCode:C.bomCode,product:C.product,outletA:C.outletA,outletB:C.outletB,outletC:C.outletC,totalQuantity:C.totalQuantity,unitPrice:C.unitPrice,totalPrice:C.totalPrice})),notes:w.notes||"",specialInstructions:w.specialInstructions||""})}else console.error("Failed to load job order:","API Error"),alert("Failed to load job order: API Error")}catch(g){console.error("Error loading job order:",g),alert("Error loading job order: "+(g instanceof Error?g.message:"Unknown error"))}finally{o(!1)}})()},[t]);const j=()=>{const p={};return r.jobOrderNumber.trim()||(p.jobOrderNumber="Job order number is required"),r.customerName.trim()||(p.customerName="Customer name is required"),r.customerEmail.trim()||(p.customerEmail="Customer email is required"),r.orderDate||(p.orderDate="Order date is required"),r.deliveryDate||(p.deliveryDate="Delivery date is required"),r.items.length===0&&(p.items="At least one job order item is required"),i(p),Object.keys(p).length===0},y=async p=>{if(p.preventDefault(),!!j()){if(!t){alert("Job Order ID is missing");return}try{const g=r.items.reduce((T,P)=>T+P.totalPrice,0),w={jobOrderNumber:r.jobOrderNumber.trim().toUpperCase(),customerId:`CUST-${Date.now()}`,customerName:r.customerName.trim(),customerContact:r.customerContact.trim(),customerEmail:r.customerEmail.trim(),orderDate:r.orderDate,deliveryDate:r.deliveryDate,priority:r.priority,status:r.status,totalAmount:g,items:r.items.map(T=>({bomId:T.bomId,bomCode:T.bomCode,product:T.product.trim(),outletA:parseFloat(T.outletA.toString())||0,outletB:parseFloat(T.outletB.toString())||0,outletC:parseFloat(T.outletC.toString())||0,totalQuantity:T.totalQuantity,unitPrice:parseFloat(T.unitPrice.toString()),totalPrice:T.totalPrice})),notes:r.notes.trim(),specialInstructions:r.specialInstructions.trim(),updatedBy:"admin"};console.log("Updating Job Order:",w);const C=await Q.updateJobOrder(t,w);C.success?(console.log("Job Order updated successfully:",C.data),e("/job-orders")):alert("Failed to update Job Order: "+C.message)}catch(g){console.error("Error updating Job Order:",g),alert("Error updating Job Order: "+(g instanceof Error?g.message:"Unknown error"))}}},b=(p,g)=>{a(w=>({...w,[p]:g})),s[p]&&i(w=>({...w,[p]:""}))},N=()=>{const p={bomId:"",bomCode:"",product:"",outletA:0,outletB:0,outletC:0,totalQuantity:0,unitPrice:0,totalPrice:0};a(g=>({...g,items:[...g.items,p]}))},S=(p,g)=>{const w=c.find(C=>C.id===g);w&&a(C=>({...C,items:C.items.map((T,P)=>{if(P===p){const D={...T,bomId:w.id,bomCode:w.bomCode,product:w.productName,unitPrice:parseFloat((w.totalCost/w.items.length).toFixed(2))};return D.totalQuantity=D.outletA+D.outletB+D.outletC,D.totalPrice=parseFloat((D.totalQuantity*D.unitPrice).toFixed(2)),D}return T})}))},x=(p,g,w)=>{a(C=>({...C,items:C.items.map((T,P)=>{if(P===p){const D={...T,[g]:w};return(g==="outletA"||g==="outletB"||g==="outletC")&&(D.totalQuantity=D.outletA+D.outletB+D.outletC),(g==="totalQuantity"||g==="unitPrice"||g==="outletA"||g==="outletB"||g==="outletC")&&(D.totalPrice=parseFloat((D.totalQuantity*D.unitPrice).toFixed(2))),D}return T})}))},d=p=>{a(g=>({...g,items:g.items.filter((w,C)=>C!==p)}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading job order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Job Order"}),n.jsx("p",{className:"text-gray-600",children:"Update job order information"})]}),n.jsxs("button",{onClick:()=>e("/job-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Job Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:y,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.jobOrderNumber?"border-red-500":""}`,value:r.jobOrderNumber,onChange:p=>b("jobOrderNumber",p.target.value),placeholder:"JO-2024-001"}),s.jobOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.jobOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.customerName?"border-red-500":""}`,value:r.customerName,onChange:p=>b("customerName",p.target.value),placeholder:"ABC Manufacturing Ltd."}),s.customerName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Contact"}),n.jsx("input",{type:"text",className:"input-field",value:r.customerContact,onChange:p=>b("customerContact",p.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.customerEmail?"border-red-500":""}`,value:r.customerEmail,onChange:p=>b("customerEmail",p.target.value),placeholder:"john@abcmfg.com"}),s.customerEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.customerEmail})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.orderDate?"border-red-500":""}`,value:r.orderDate,onChange:p=>b("orderDate",p.target.value)}),s.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.deliveryDate?"border-red-500":""}`,value:r.deliveryDate,onChange:p=>b("deliveryDate",p.target.value)}),s.deliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.deliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:r.priority,onChange:p=>b("priority",p.target.value),children:h.map(p=>n.jsx("option",{value:p,children:p},p))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:p=>b("status",p.target.value),children:v.map(p=>n.jsx("option",{value:p,children:p},p))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Order Items"}),n.jsxs("button",{type:"button",onClick:N,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((p,g)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Recipe (BOM)"}),n.jsxs("select",{className:"input-field text-sm",value:p.bomId||"",onChange:w=>S(g,w.target.value),children:[n.jsx("option",{value:"",children:"Select Recipe"}),f?n.jsx("option",{disabled:!0,children:"Loading recipes..."}):c.map(w=>n.jsxs("option",{value:w.id,children:[w.bomCode," - ",w.productName]},w.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:p.product,readOnly:!0,placeholder:"Auto-filled from BOM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:p.unitPrice,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet A"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:p.outletA,onChange:w=>x(g,"outletA",parseFloat(w.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet B"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:p.outletB,onChange:w=>x(g,"outletB",parseFloat(w.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet C"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:p.outletC,onChange:w=>x(g,"outletC",parseFloat(w.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Total Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm bg-gray-100",value:p.totalQuantity,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>d(g),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-8",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",p.totalPrice.toFixed(2)," KWD"]})})]},g))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",r.items.reduce((p,g)=>p+g.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:p=>b("notes",p.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.specialInstructions,onChange:p=>b("specialInstructions",p.target.value),placeholder:"Special manufacturing instructions or requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/job-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Update Job Order"]})]})]})})]})},vZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState(!0),[i,l]=O.useState(null),[o,c]=O.useState(""),[u,f]=O.useState(null),[m,h]=O.useState(!1),[v,j]=O.useState(""),[y,b]=O.useState("createdAt"),[N,S]=O.useState("desc"),[x,d]=O.useState(!1),p=O.useRef(null);O.useEffect(()=>{g()},[]),O.useEffect(()=>{a||g()},[o,v,y,N]);const g=async()=>{try{s(!0),l(null);const E=await Q.getPurchaseOrders({limit:1e3,search:o,status:v,sortBy:y,sortOrder:N});if(E.success){console.log("Loaded Purchase Orders:",E.data);const B=E.data.map(A=>({...A,orderDate:new Date(A.orderDate),expectedDeliveryDate:new Date(A.expectedDeliveryDate),createdAt:new Date(A.createdAt),updatedAt:new Date(A.updatedAt)}));r(B)}else l("Failed to load purchase orders")}catch(E){l(E instanceof Error?E.message:"Failed to load purchase orders"),console.error("Error loading purchase orders:",E)}finally{s(!1)}},w=t,C=E=>{switch(E){case"Completed":return"bg-green-100 text-green-800";case"Confirmed":return"bg-blue-100 text-blue-800";case"Sent":return"bg-yellow-100 text-yellow-800";case"Partial":return"bg-orange-100 text-orange-800";case"Draft":return"bg-gray-100 text-gray-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},T=async E=>{if(window.confirm("Are you sure you want to delete this purchase order?"))try{(await Q.deletePurchaseOrder(E)).success?await g():alert("Failed to delete purchase order")}catch(B){alert("Error deleting purchase order: "+(B instanceof Error?B.message:"Unknown error")),console.error("Error deleting purchase order:",B)}},P=()=>{c(""),j(""),b("createdAt"),S("desc"),g()},D=()=>{if(t.length===0){alert("No purchase orders to export");return}const E=[["PO Number","Supplier Name","Order Date","Expected Delivery Date","Status","Payment Terms","Total Amount","Created At","Updated At","Notes"].join(","),...t.map($=>[$.poNumber,$.supplierName,new Date($.orderDate).toLocaleDateString(),new Date($.expectedDeliveryDate).toLocaleDateString(),$.status,$.terms,$.totalAmount.toFixed(2),new Date($.createdAt).toLocaleDateString(),new Date($.updatedAt).toLocaleDateString(),$.notes||""].map(L=>`"${L}"`).join(","))].join(`
`),B=new Blob([E],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),I=URL.createObjectURL(B);A.setAttribute("href",I),A.setAttribute("download",`purchase-orders-${new Date().toISOString().split("T")[0]}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)},k=()=>{var E;(E=p.current)==null||E.click()},M=async E=>{var A;const B=(A=E.target.files)==null?void 0:A[0];if(B){if(!B.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{d(!0);const $=(await B.text()).split(`
`).filter(ee=>ee.trim());if($.length<2){alert("CSV file must contain at least a header row and one data row");return}const L=$.slice(1);let _=0,G=0;for(const ee of L)try{const ue=ee.split(",").map(Ne=>Ne.replace(/"/g,"").trim()),X={poNumber:ue[0]||"",supplierName:ue[1]||"",orderDate:ue[2]||new Date().toISOString().split("T")[0],expectedDeliveryDate:ue[3]||new Date().toISOString().split("T")[0],status:ue[4]||"Draft",terms:ue[5]||"Net 30",totalAmount:parseFloat(ue[6])||0,notes:ue[9]||""};(await Q.createPurchaseOrder(X)).success?_++:G++}catch{G++}alert(`Import completed!

Successfully imported: ${_} Purchase Orders
Errors: ${G}`),await g()}catch(I){alert("Error importing file: "+(I instanceof Error?I.message:"Unknown error"))}finally{d(!1),p.current&&(p.current.value="")}}},F=()=>{const B=[["PO Number","Supplier Name","Order Date","Expected Delivery Date","Status","Payment Terms","Total Amount","Created At","Updated At","Notes"],["PO-001","Fresh Foods Ltd","2024-01-15","2024-01-20","Draft","Net 30","1500.00","2024-01-15","2024-01-15","Monthly produce order"],["PO-002","Kitchen Supplies Co","2024-01-16","2024-01-22","Confirmed","Net 15","2500.00","2024-01-16","2024-01-16","Equipment purchase"]].map(L=>L.map(_=>`"${_}"`).join(",")).join(`
`),A=new Blob([B],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),$=URL.createObjectURL(A);I.setAttribute("href",$),I.setAttribute("download","purchase-orders-sample-template.csv"),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)},R=()=>n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Details"}),n.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Oe,{className:"h-6 w-6"})})]}),u&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"PO Number"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.poNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Supplier"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Order Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:new Date(u.orderDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expected Delivery"}),n.jsx("p",{className:"text-sm text-gray-900",children:new Date(u.expectedDeliveryDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(u.status)}`,children:u.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Terms"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.terms})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Manual Creation"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Purchase Items"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Material Code"}),n.jsx("th",{className:"table-header",children:"Material Name"}),n.jsx("th",{className:"table-header",children:"Quantity"}),n.jsx("th",{className:"table-header",children:"Unit Price"}),n.jsx("th",{className:"table-header",children:"Received"}),n.jsx("th",{className:"table-header",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.items.map((E,B)=>n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:E.materialCode}),n.jsx("td",{className:"table-cell",children:E.materialName}),n.jsx("td",{className:"table-cell",children:E.quantity}),n.jsxs("td",{className:"table-cell",children:[E.unitPrice.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:E.receivedQuantity||0}),n.jsxs("td",{className:"table-cell font-medium",children:[E.totalPrice.toFixed(2)," KWD"]})]},B))})]})}),n.jsx("div",{className:"mt-4 text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Amount: ",u.totalAmount.toFixed(2)," KWD"]})})]}),u.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.notes})]})]})]})})});return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading purchase orders..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:g,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchase Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage supplier orders and procurement"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:g,className:"btn-secondary flex items-center",title:"Refresh purchase orders",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/purchase-orders/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Purchase Order"]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search purchase orders...",className:"input-field pl-10",value:o,onChange:E=>c(E.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{className:"input-field",value:v,onChange:E=>j(E.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Sent",children:"Sent"}),n.jsx("option",{value:"Confirmed",children:"Confirmed"}),n.jsx("option",{value:"Partial",children:"Partial"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),n.jsxs("button",{onClick:P,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:D,className:"btn-secondary flex items-center",title:"Export purchase orders to CSV",disabled:t.length===0,children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:k,className:"btn-secondary flex items-center",title:"Import purchase orders from CSV",disabled:x,children:[n.jsx(pi,{className:"h-4 w-4 mr-2"}),x?"Importing...":"Import"]}),n.jsxs("button",{onClick:F,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mt-4",children:[n.jsxs("span",{children:["Showing ",w.length," purchase orders",(o||v)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(o||v)&&n.jsx("button",{onClick:P,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"PO Number"}),n.jsx("th",{className:"table-header",children:"Supplier"}),n.jsx("th",{className:"table-header",children:"Order Date"}),n.jsx("th",{className:"table-header",children:"Expected Delivery"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Source"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(E=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:E.poNumber}),n.jsx("td",{className:"table-cell",children:E.supplierName}),n.jsx("td",{className:"table-cell",children:new Date(E.orderDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:new Date(E.expectedDeliveryDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(E.status)}`,children:E.status})}),n.jsxs("td",{className:"table-cell font-medium",children:[E.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Manual"})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{f(E),h(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:n.jsx(tn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/purchase-orders/edit/${E.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:n.jsx(Wr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>T(E.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},E.id))})]})})}),m&&n.jsx(R,{}),n.jsx("input",{type:"file",ref:p,onChange:M,accept:".csv",style:{display:"none"}})]})},bZ=()=>{const e=ge(),[t,r]=O.useState({purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",supplierAddress:"",orderDate:"",expectedDeliveryDate:"",priority:"Medium",status:"Draft",paymentTerms:"Net 30",shippingMethod:"Standard",totalAmount:0,items:[],notes:"",specialInstructions:""}),[a,s]=O.useState({}),i=["Low","Medium","High","Urgent"],l=["Draft","Approved","Sent","Received","Cancelled"],o=["Net 15","Net 30","Net 45","Net 60","COD","Prepaid"],c=["Standard","Express","Overnight","Pickup"],u=()=>{const y={};return t.purchaseOrderNumber.trim()||(y.purchaseOrderNumber="Purchase order number is required"),t.supplierName.trim()||(y.supplierName="Supplier name is required"),t.supplierEmail.trim()||(y.supplierEmail="Supplier email is required"),t.orderDate||(y.orderDate="Order date is required"),t.expectedDeliveryDate||(y.expectedDeliveryDate="Expected delivery date is required"),t.items.length===0&&(y.items="At least one purchase order item is required"),s(y),Object.keys(y).length===0},f=y=>{if(y.preventDefault(),!u())return;const b=t.items.reduce((S,x)=>S+(x.totalPrice||0),0),N={id:Date.now().toString(),poNumber:t.purchaseOrderNumber,supplierId:"SUP-001",supplierName:t.supplierName,orderDate:new Date(t.orderDate).toISOString(),expectedDeliveryDate:new Date(t.expectedDeliveryDate).toISOString(),status:t.status,totalAmount:b,items:t.items.map(S=>({materialId:S.materialId,materialCode:S.materialCode,materialName:S.materialName,quantity:S.quantity,unitPrice:S.unitPrice,totalPrice:S.totalPrice})),terms:t.paymentTerms,notes:t.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"};console.log("Creating Purchase Order:",N),e("/purchase-orders")},m=(y,b)=>{r(N=>({...N,[y]:b})),a[y]&&s(N=>({...N,[y]:""}))},h=()=>{const y={materialId:"",materialCode:"",materialName:"",quantity:0,unitPrice:0,totalPrice:0};r(b=>({...b,items:[...b.items,y]}))},v=(y,b,N)=>{r(S=>({...S,items:S.items.map((x,d)=>{if(d===y){const p={...x,[b]:N};return(b==="quantity"||b==="unitPrice")&&(p.totalPrice=p.quantity*p.unitPrice),p}return x})}))},j=y=>{r(b=>({...b,items:b.items.filter((N,S)=>S!==y)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Purchase Order"}),n.jsx("p",{className:"text-gray-600",children:"Create a new purchase order for materials"})]}),n.jsxs("button",{onClick:()=>e("/purchase-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Purchase Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:f,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Supplier Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.purchaseOrderNumber?"border-red-500":""}`,value:t.purchaseOrderNumber,onChange:y=>m("purchaseOrderNumber",y.target.value),placeholder:"PO-2024-001"}),a.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.supplierName?"border-red-500":""}`,value:t.supplierName,onChange:y=>m("supplierName",y.target.value),placeholder:"ABC Steel Suppliers"}),a.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:t.supplierContact,onChange:y=>m("supplierContact",y.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.supplierEmail?"border-red-500":""}`,value:t.supplierEmail,onChange:y=>m("supplierEmail",y.target.value),placeholder:"john@abcsteel.com"}),a.supplierEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.supplierEmail})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Address"}),n.jsx("textarea",{className:"input-field",rows:2,value:t.supplierAddress,onChange:y=>m("supplierAddress",y.target.value),placeholder:"123 Industrial Street, Manufacturing District, City, State 12345"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.orderDate?"border-red-500":""}`,value:t.orderDate,onChange:y=>m("orderDate",y.target.value)}),a.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.expectedDeliveryDate?"border-red-500":""}`,value:t.expectedDeliveryDate,onChange:y=>m("expectedDeliveryDate",y.target.value)}),a.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.expectedDeliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:t.priority,onChange:y=>m("priority",y.target.value),children:i.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:y=>m("status",y.target.value),children:l.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms"}),n.jsx("select",{className:"input-field",value:t.paymentTerms,onChange:y=>m("paymentTerms",y.target.value),children:o.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Method"}),n.jsx("select",{className:"input-field",value:t.shippingMethod,onChange:y=>m("shippingMethod",y.target.value),children:c.map(y=>n.jsx("option",{value:y,children:y},y))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Items"}),n.jsxs("button",{type:"button",onClick:h,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:a.items}),n.jsx("div",{className:"space-y-4",children:t.items.map((y,b)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:y.materialCode,onChange:N=>v(b,"materialCode",N.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:y.materialName,onChange:N=>v(b,"materialName",N.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:y.quantity,onChange:N=>v(b,"quantity",parseFloat(N.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:y.unitPrice,onChange:N=>v(b,"unitPrice",parseFloat(N.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Delivery Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:"",onChange:N=>v(b,"deliveryDate",N.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:"",onChange:N=>v(b,"specifications",N.target.value),placeholder:"Grade A, 12mm"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>j(b),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",(y.totalPrice||0).toFixed(2)," KWD"]})})]},b))}),t.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",t.items.reduce((y,b)=>y+(b.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:y=>m("notes",y.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.specialInstructions,onChange:y=>m("specialInstructions",y.target.value),placeholder:"Special delivery instructions or quality requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/purchase-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Purchase Order"]})]})]})})]})},jZ=()=>{const e=ge(),{id:t}=oa(),[r,a]=O.useState({purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",supplierAddress:"",orderDate:"",expectedDeliveryDate:"",priority:"Medium",status:"Draft",shippingMethod:"Standard",totalAmount:0,items:[],notes:"",specialInstructions:""}),[s,i]=O.useState({}),[l,o]=O.useState(!0),c=["Low","Medium","High","Urgent"],u=["Draft","Approved","Sent","Received","Cancelled"],f=["Net 15","Net 30","Net 45","Net 60","COD","Prepaid"],m=["Standard","Express","Overnight","Pickup"],h={id:"1",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"ABC Steel Suppliers",orderDate:new Date("2024-01-15").toISOString(),expectedDeliveryDate:new Date("2024-02-15").toISOString(),status:"Confirmed",totalAmount:15750,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:100,unitPrice:45.5,totalPrice:4550},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:50,unitPrice:125,totalPrice:6250},{materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",quantity:200,unitPrice:23.75,totalPrice:4750}],notes:"Supplier requires advance payment for expedited delivery.",createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-20").toISOString(),createdBy:"admin",updatedBy:"admin"};O.useEffect(()=>{setTimeout(()=>{a({purchaseOrderNumber:h.poNumber,supplierName:h.supplierName,supplierContact:"John Smith",supplierEmail:"john@abcsteel.com",supplierAddress:"123 Industrial Street",orderDate:h.orderDate.split("T")[0],expectedDeliveryDate:h.expectedDeliveryDate.split("T")[0],priority:"High",status:"Approved",shippingMethod:"Express",totalAmount:h.totalAmount,items:h.items.map(x=>({...x,totalAmount:x.totalPrice})),notes:h.notes,specialInstructions:"Special handling required"}),o(!1)},500)},[t]);const v=()=>{const x={};return r.purchaseOrderNumber.trim()||(x.purchaseOrderNumber="Purchase order number is required"),r.supplierName.trim()||(x.supplierName="Supplier name is required"),r.supplierEmail.trim()||(x.supplierEmail="Supplier email is required"),r.orderDate||(x.orderDate="Order date is required"),r.expectedDeliveryDate||(x.expectedDeliveryDate="Expected delivery date is required"),r.items.length===0&&(x.items="At least one purchase order item is required"),i(x),Object.keys(x).length===0},j=x=>{if(x.preventDefault(),!v())return;const d=r.items.reduce((g,w)=>g+(w.totalPrice||0),0),p={...h,poNumber:r.purchaseOrderNumber,supplierName:r.supplierName,orderDate:new Date(r.orderDate).toISOString(),expectedDeliveryDate:new Date(r.expectedDeliveryDate).toISOString(),status:r.status,totalAmount:d,items:r.items,notes:r.notes,updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating Purchase Order:",p),e("/purchase-orders")},y=(x,d)=>{a(p=>({...p,[x]:d})),s[x]&&i(p=>({...p,[x]:""}))},b=()=>{const x={materialId:"",materialCode:"",materialName:"",quantity:0,unitPrice:0,totalPrice:0,totalAmount:0};a(d=>({...d,items:[...d.items,x]}))},N=(x,d,p)=>{a(g=>({...g,items:g.items.map((w,C)=>{if(C===x){const T={...w,[d]:p};return(d==="quantity"||d==="unitPrice")&&(T.totalPrice=T.quantity*T.unitPrice),T}return w})}))},S=x=>{a(d=>({...d,items:d.items.filter((p,g)=>g!==x)}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading purchase order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Purchase Order"}),n.jsx("p",{className:"text-gray-600",children:"Update purchase order information"})]}),n.jsxs("button",{onClick:()=>e("/purchase-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Purchase Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Supplier Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.purchaseOrderNumber?"border-red-500":""}`,value:r.purchaseOrderNumber,onChange:x=>y("purchaseOrderNumber",x.target.value),placeholder:"PO-2024-001"}),s.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.supplierName?"border-red-500":""}`,value:r.supplierName,onChange:x=>y("supplierName",x.target.value),placeholder:"ABC Steel Suppliers"}),s.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:r.supplierContact,onChange:x=>y("supplierContact",x.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.supplierEmail?"border-red-500":""}`,value:r.supplierEmail,onChange:x=>y("supplierEmail",x.target.value),placeholder:"john@abcsteel.com"}),s.supplierEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.supplierEmail})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Address"}),n.jsx("textarea",{className:"input-field",rows:2,value:r.supplierAddress,onChange:x=>y("supplierAddress",x.target.value),placeholder:"123 Industrial Street, Manufacturing District, City, State 12345"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.orderDate?"border-red-500":""}`,value:r.orderDate,onChange:x=>y("orderDate",x.target.value)}),s.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.expectedDeliveryDate?"border-red-500":""}`,value:r.expectedDeliveryDate,onChange:x=>y("expectedDeliveryDate",x.target.value)}),s.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.expectedDeliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:r.priority,onChange:x=>y("priority",x.target.value),children:c.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:x=>y("status",x.target.value),children:u.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms"}),n.jsx("select",{className:"input-field",value:"",onChange:x=>y("paymentTerms",x.target.value),children:f.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Method"}),n.jsx("select",{className:"input-field",value:r.shippingMethod,onChange:x=>y("shippingMethod",x.target.value),children:m.map(x=>n.jsx("option",{value:x,children:x},x))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Items"}),n.jsxs("button",{type:"button",onClick:b,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((x,d)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:x.materialCode,onChange:p=>N(d,"materialCode",p.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:x.materialName,onChange:p=>N(d,"materialName",p.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:x.quantity,onChange:p=>N(d,"quantity",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:x.unitPrice,onChange:p=>N(d,"unitPrice",parseFloat(p.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Delivery Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:"",onChange:p=>N(d,"deliveryDate",p.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:"",onChange:p=>N(d,"specifications",p.target.value),placeholder:"Grade A, 12mm"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>S(d),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",(x.totalPrice||0).toFixed(2)," KWD"]})})]},d))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",r.items.reduce((x,d)=>x+(d.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:x=>y("notes",x.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.specialInstructions,onChange:x=>y("specialInstructions",x.target.value),placeholder:"Special delivery instructions or quality requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/purchase-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Update Purchase Order"]})]})]})})]})},NZ=()=>{const e=ge(),[t,r]=O.useState([{id:"1",grnNumber:"GRN-2024-001",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"Steel Suppliers Ltd.",receiptDate:new Date("2024-01-20"),status:"Approved",totalAmount:4550,items:[{poItemId:"PO-ITEM-001",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",orderedQuantity:100,receivedQuantity:100,unitPrice:45.5,totalPrice:4550,qualityStatus:"Accepted",remarks:"Good quality"}],warehouseId:"WH-001",warehouseName:"Main Warehouse",receivedBy:"John Doe",notes:"All items received in good condition",createdAt:new Date("2024-01-20").toISOString(),updatedAt:new Date("2024-01-20").toISOString(),createdBy:"admin",updatedBy:"admin"}]),[a,s]=O.useState(""),[i,l]=O.useState(null),[o,c]=O.useState(!1),[u,f]=O.useState(!1),m=O.useRef(null),h=t.filter(x=>x.grnNumber.toLowerCase().includes(a.toLowerCase())||x.supplierName.toLowerCase().includes(a.toLowerCase())),v=x=>{switch(x){case"Approved":return"bg-green-100 text-green-800";case"Draft":return"bg-gray-100 text-gray-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=x=>{window.confirm("Are you sure you want to delete this GRN?")&&r(t.filter(d=>d.id!==x))},y=()=>{if(h.length===0){alert("No GRNs to export");return}const x=[["GRN Number","PO Number","Supplier Name","Receipt Date","Status","Total Amount","Created By","Updated By"].join(","),...h.map(w=>[w.grnNumber,w.poNumber,w.supplierName,w.receiptDate.toLocaleDateString(),w.status,w.totalAmount.toFixed(2),w.createdBy,w.updatedBy].map(C=>`"${C}"`).join(","))].join(`
`),d=new Blob([x],{type:"text/csv;charset=utf-8;"}),p=document.createElement("a"),g=URL.createObjectURL(d);p.setAttribute("href",g),p.setAttribute("download",`grn-receipts-${new Date().toISOString().split("T")[0]}.csv`),p.style.visibility="hidden",document.body.appendChild(p),p.click(),document.body.removeChild(p)},b=()=>{var x;(x=m.current)==null||x.click()},N=async x=>{var p;const d=(p=x.target.files)==null?void 0:p[0];if(d){if(!d.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{f(!0);const w=(await d.text()).split(`
`).filter(D=>D.trim());if(w.length<2){alert("CSV file must contain at least a header row and one data row");return}const C=w.slice(1);let T=0,P=0;for(const D of C)try{const k=D.split(",").map(F=>F.replace(/"/g,"").trim()),M={id:`grn-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,grnNumber:k[0]||"",poNumber:k[1]||"",supplierId:"SUP-001",supplierName:k[2]||"",warehouseId:"WH-001",warehouseName:"Main Warehouse",receiptDate:new Date(k[3]||new Date().toISOString().split("T")[0]),status:k[4]||"Draft",totalAmount:parseFloat(k[5])||0,items:[],receivedBy:k[6]||"admin",createdBy:k[6]||"admin",updatedBy:k[7]||"admin",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r(F=>[...F,M]),T++}catch{P++}alert(`Import completed!

Successfully imported: ${T} GRNs
Errors: ${P}`)}catch(g){alert("Error importing file: "+(g instanceof Error?g.message:"Unknown error"))}finally{f(!1),m.current&&(m.current.value="")}}},S=()=>{const d=[["GRN Number","PO Number","Supplier Name","Receipt Date","Status","Total Amount","Created By","Updated By"],["GRN-2024-003","PO-2024-003","Fresh Foods Ltd","2024-01-22","Approved","1200.00","admin","admin"],["GRN-2024-004","PO-2024-004","Kitchen Supplies Co","2024-01-23","Draft","850.00","admin","admin"]].map(C=>C.map(T=>`"${T}"`).join(",")).join(`
`),p=new Blob([d],{type:"text/csv;charset=utf-8;"}),g=document.createElement("a"),w=URL.createObjectURL(p);g.setAttribute("href",w),g.setAttribute("download","grn-sample-template.csv"),g.style.visibility="hidden",document.body.appendChild(g),g.click(),document.body.removeChild(g)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Good Receipt Notes"}),n.jsx("p",{className:"text-gray-600",children:"Manage incoming material receipts"})]}),n.jsxs("button",{onClick:()=>e("/good-receipt-notes/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create GRN"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search GRNs...",className:"input-field pl-10",value:a,onChange:x=>s(x.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs("button",{onClick:y,className:"btn-secondary flex items-center",title:"Export GRNs to CSV",disabled:h.length===0,children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:b,className:"btn-secondary flex items-center",title:"Import GRNs from CSV",disabled:u,children:[n.jsx(pi,{className:"h-4 w-4 mr-2"}),u?"Importing...":"Import"]}),n.jsxs("button",{onClick:S,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"GRN Number"}),n.jsx("th",{className:"table-header",children:"PO Number"}),n.jsx("th",{className:"table-header",children:"Supplier"}),n.jsx("th",{className:"table-header",children:"Receipt Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Warehouse"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:x.grnNumber}),n.jsx("td",{className:"table-cell",children:x.poNumber}),n.jsx("td",{className:"table-cell",children:x.supplierName}),n.jsx("td",{className:"table-cell",children:x.receiptDate.toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v(x.status)}`,children:x.status})}),n.jsx("td",{className:"table-cell",children:x.warehouseName}),n.jsxs("td",{className:"table-cell font-medium",children:[x.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{l(x),c(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:n.jsx(tn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/good-receipt-notes/edit/${x.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:n.jsx(Wr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>j(x.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},x.id))})]})})}),n.jsx("input",{type:"file",ref:m,onChange:N,accept:".csv",style:{display:"none"}})]})},wZ=()=>{const e=ge(),[t,r]=O.useState({grnNumber:"",purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",receiptDate:"",receivedBy:"",inspectedBy:"",status:"Draft",warehouseLocation:"",totalAmount:0,items:[],notes:"",qualityRemarks:"",deliveryChallanNumber:"",transporterName:"",vehicleNumber:""}),[a,s]=O.useState({}),i=["Draft","Approved","Rejected"],l=()=>{const h={};return t.grnNumber.trim()||(h.grnNumber="GRN number is required"),t.purchaseOrderNumber.trim()||(h.purchaseOrderNumber="Purchase order number is required"),t.supplierName.trim()||(h.supplierName="Supplier name is required"),t.receiptDate||(h.receiptDate="Receipt date is required"),t.receivedBy.trim()||(h.receivedBy="Received by is required"),t.items.length===0&&(h.items="At least one GRN item is required"),s(h),Object.keys(h).length===0},o=h=>{if(h.preventDefault(),!l())return;const v=t.items.reduce((y,b)=>y+(b.totalPrice||0),0),j={id:Date.now().toString(),grnNumber:t.grnNumber,poNumber:t.purchaseOrderNumber,supplierId:"SUP-001",supplierName:t.supplierName,receiptDate:new Date(t.receiptDate),status:t.status,totalAmount:v,items:t.items.map(y=>({poItemId:y.poItemId,materialId:y.materialId,materialCode:y.materialCode,materialName:y.materialName,orderedQuantity:y.orderedQuantity,receivedQuantity:y.receivedQuantity,unitPrice:y.unitPrice,totalPrice:y.totalPrice,qualityStatus:y.qualityStatus,remarks:y.remarks})),warehouseId:"WH-001",warehouseName:t.warehouseLocation,receivedBy:t.receivedBy,notes:t.notes,createdAt:new Date,updatedAt:new Date,createdBy:"admin",updatedBy:"admin"};console.log("Creating GRN:",j),e("/good-receipt-notes")},c=(h,v)=>{r(j=>({...j,[h]:v})),a[h]&&s(j=>({...j,[h]:""}))},u=()=>{const h={poItemId:"",materialId:"",materialCode:"",materialName:"",orderedQuantity:0,receivedQuantity:0,unitPrice:0,totalPrice:0,qualityStatus:"Accepted",remarks:"",acceptedQuantity:0,rejectedQuantity:0,totalAmount:0,specifications:"",batchNumber:"",expiryDate:""};r(v=>({...v,items:[...v.items,h]}))},f=(h,v,j)=>{r(y=>({...y,items:y.items.map((b,N)=>{if(N===h){const S={...b,[v]:j};return(v==="receivedQuantity"||v==="unitPrice")&&(S.totalPrice=S.receivedQuantity*S.unitPrice),S}return b})}))},m=h=>{r(v=>({...v,items:v.items.filter((j,y)=>y!==h)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New GRN"}),n.jsx("p",{className:"text-gray-600",children:"Create a new good receipt note"})]}),n.jsxs("button",{onClick:()=>e("/good-receipt-notes"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to GRNs"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:o,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GRN Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.grnNumber?"border-red-500":""}`,value:t.grnNumber,onChange:h=>c("grnNumber",h.target.value),placeholder:"GRN-2024-001"}),a.grnNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.grnNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.purchaseOrderNumber?"border-red-500":""}`,value:t.purchaseOrderNumber,onChange:h=>c("purchaseOrderNumber",h.target.value),placeholder:"PO-2024-001"}),a.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.supplierName?"border-red-500":""}`,value:t.supplierName,onChange:h=>c("supplierName",h.target.value),placeholder:"ABC Steel Suppliers"}),a.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:t.supplierContact,onChange:h=>c("supplierContact",h.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email"}),n.jsx("input",{type:"email",className:"input-field",value:t.supplierEmail,onChange:h=>c("supplierEmail",h.target.value),placeholder:"john@abcsteel.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.receiptDate?"border-red-500":""}`,value:t.receiptDate,onChange:h=>c("receiptDate",h.target.value)}),a.receiptDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.receiptDate})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Receipt Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By *"}),n.jsx("input",{type:"text",className:`input-field ${a.receivedBy?"border-red-500":""}`,value:t.receivedBy,onChange:h=>c("receivedBy",h.target.value),placeholder:"Warehouse Manager"}),a.receivedBy&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.receivedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inspected By"}),n.jsx("input",{type:"text",className:"input-field",value:t.inspectedBy,onChange:h=>c("inspectedBy",h.target.value),placeholder:"Quality Inspector"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:h=>c("status",h.target.value),children:i.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Location"}),n.jsx("input",{type:"text",className:"input-field",value:t.warehouseLocation,onChange:h=>c("warehouseLocation",h.target.value),placeholder:"Main Warehouse - Zone A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Challan Number"}),n.jsx("input",{type:"text",className:"input-field",value:t.deliveryChallanNumber,onChange:h=>c("deliveryChallanNumber",h.target.value),placeholder:"DC-2024-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transporter Name"}),n.jsx("input",{type:"text",className:"input-field",value:t.transporterName,onChange:h=>c("transporterName",h.target.value),placeholder:"ABC Logistics"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number"}),n.jsx("input",{type:"text",className:"input-field",value:t.vehicleNumber,onChange:h=>c("vehicleNumber",h.target.value),placeholder:"MH-12-AB-1234"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"GRN Items"}),n.jsxs("button",{type:"button",onClick:u,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:a.items}),n.jsx("div",{className:"space-y-4",children:t.items.map((h,v)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:h.materialCode,onChange:j=>f(v,"materialCode",j.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:h.materialName,onChange:j=>f(v,"materialName",j.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ordered Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:h.orderedQuantity,onChange:j=>f(v,"orderedQuantity",parseFloat(j.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Received Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:h.receivedQuantity,onChange:j=>f(v,"receivedQuantity",parseFloat(j.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Accepted Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:h.receivedQuantity,onChange:j=>f(v,"receivedQuantity",parseFloat(j.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:h.unitPrice,onChange:j=>f(v,"unitPrice",parseFloat(j.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Batch Number"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:h.batchNumber||"",onChange:j=>f(v,"batchNumber",j.target.value),placeholder:"B001"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>m(v),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"col-span-8",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:h.specifications||"",onChange:j=>f(v,"specifications",j.target.value),placeholder:"Grade A, 12mm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Expiry Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:h.expiryDate||"",onChange:j=>f(v,"expiryDate",j.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quality Status"}),n.jsxs("select",{className:"input-field text-sm",value:h.qualityStatus,onChange:j=>f(v,"qualityStatus",j.target.value),children:[n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Total Amount: ",(h.totalPrice||0).toFixed(2)," KWD"]})]})]},v))}),t.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total GRN Amount: ",t.items.reduce((h,v)=>h+(v.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:h=>c("notes",h.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Remarks"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.qualityRemarks,onChange:h=>c("qualityRemarks",h.target.value),placeholder:"Quality inspection remarks and observations"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/good-receipt-notes"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create GRN"]})]})]})})]})},SZ=()=>{const e=ge(),{id:t}=oa(),[r,a]=O.useState({grnNumber:"",purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",receiptDate:"",receivedBy:"",inspectedBy:"",status:"Draft",warehouseLocation:"",totalAmount:0,items:[],notes:"",qualityRemarks:"",deliveryChallanNumber:"",transporterName:"",vehicleNumber:""}),[s,i]=O.useState({}),[l,o]=O.useState(!0),c=["Draft","Approved","Rejected"],u={id:"1",grnNumber:"GRN-2024-001",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"ABC Steel Suppliers",receiptDate:new Date("2024-01-20"),status:"Approved",totalAmount:15750,items:[{poItemId:"POI-001",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",orderedQuantity:100,receivedQuantity:100,unitPrice:45.5,totalPrice:4550,qualityStatus:"Accepted",remarks:"Good quality"},{poItemId:"POI-002",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",orderedQuantity:50,receivedQuantity:50,unitPrice:125,totalPrice:6250,qualityStatus:"Accepted",remarks:"Excellent quality"},{poItemId:"POI-003",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",orderedQuantity:200,receivedQuantity:200,unitPrice:23.75,totalPrice:4750,qualityStatus:"Accepted",remarks:"Good quality"}],warehouseId:"WH-001",warehouseName:"Main Warehouse",receivedBy:"Warehouse Manager",notes:"All materials received in good condition.",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-21"),createdBy:"admin",updatedBy:"admin"};O.useEffect(()=>{setTimeout(()=>{a({grnNumber:u.grnNumber,purchaseOrderNumber:u.poNumber,supplierName:u.supplierName,supplierContact:"John Smith",supplierEmail:"john@abcsteel.com",receiptDate:u.receiptDate.toISOString().split("T")[0],receivedBy:u.receivedBy,inspectedBy:"Quality Inspector",status:u.status,warehouseLocation:u.warehouseName,totalAmount:u.totalAmount,items:u.items.map(b=>({...b,acceptedQuantity:b.receivedQuantity,rejectedQuantity:0,totalAmount:b.totalPrice,specifications:"Standard specifications",batchNumber:"BATCH-001",expiryDate:"2025-12-31"})),notes:u.notes,qualityRemarks:"Quality inspection completed",deliveryChallanNumber:"DC-2024-001",transporterName:"ABC Logistics",vehicleNumber:"MH-12-AB-1234"}),o(!1)},500)},[t]);const f=()=>{const b={};return r.grnNumber.trim()||(b.grnNumber="GRN number is required"),r.purchaseOrderNumber.trim()||(b.purchaseOrderNumber="Purchase order number is required"),r.supplierName.trim()||(b.supplierName="Supplier name is required"),r.receiptDate||(b.receiptDate="Receipt date is required"),r.receivedBy.trim()||(b.receivedBy="Received by is required"),r.items.length===0&&(b.items="At least one GRN item is required"),i(b),Object.keys(b).length===0},m=b=>{if(b.preventDefault(),!f())return;const N=r.items.reduce((x,d)=>x+d.totalAmount,0),S={...u,grnNumber:r.grnNumber,poNumber:r.purchaseOrderNumber,supplierName:r.supplierName,receiptDate:new Date(r.receiptDate),receivedBy:r.receivedBy,status:r.status,warehouseName:r.warehouseLocation,totalAmount:N,items:r.items.map(x=>({poItemId:x.poItemId,materialId:x.materialId,materialCode:x.materialCode,materialName:x.materialName,orderedQuantity:x.orderedQuantity,receivedQuantity:x.receivedQuantity,unitPrice:x.unitPrice,totalPrice:x.totalAmount,qualityStatus:x.qualityStatus,remarks:x.remarks})),notes:r.notes,updatedAt:new Date,updatedBy:"admin"};console.log("Updating GRN:",S),e("/good-receipt-notes")},h=(b,N)=>{a(S=>({...S,[b]:N})),s[b]&&i(S=>({...S,[b]:""}))},v=()=>{const b={poItemId:"",materialId:"",materialCode:"",materialName:"",orderedQuantity:0,receivedQuantity:0,unitPrice:0,totalPrice:0,qualityStatus:"Accepted",remarks:"",acceptedQuantity:0,rejectedQuantity:0,totalAmount:0,specifications:"",batchNumber:"",expiryDate:""};a(N=>({...N,items:[...N.items,b]}))},j=(b,N,S)=>{a(x=>({...x,items:x.items.map((d,p)=>{if(p===b){const g={...d,[N]:S};return(N==="acceptedQuantity"||N==="unitPrice")&&(g.totalAmount=g.acceptedQuantity*g.unitPrice),g}return d})}))},y=b=>{a(N=>({...N,items:N.items.filter((S,x)=>x!==b)}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading GRN data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit GRN"}),n.jsx("p",{className:"text-gray-600",children:"Update good receipt note information"})]}),n.jsxs("button",{onClick:()=>e("/good-receipt-notes"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to GRNs"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:m,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GRN Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.grnNumber?"border-red-500":""}`,value:r.grnNumber,onChange:b=>h("grnNumber",b.target.value),placeholder:"GRN-2024-001"}),s.grnNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.grnNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.purchaseOrderNumber?"border-red-500":""}`,value:r.purchaseOrderNumber,onChange:b=>h("purchaseOrderNumber",b.target.value),placeholder:"PO-2024-001"}),s.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.supplierName?"border-red-500":""}`,value:r.supplierName,onChange:b=>h("supplierName",b.target.value),placeholder:"ABC Steel Suppliers"}),s.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:r.supplierContact,onChange:b=>h("supplierContact",b.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email"}),n.jsx("input",{type:"email",className:"input-field",value:r.supplierEmail,onChange:b=>h("supplierEmail",b.target.value),placeholder:"john@abcsteel.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.receiptDate?"border-red-500":""}`,value:r.receiptDate,onChange:b=>h("receiptDate",b.target.value)}),s.receiptDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.receiptDate})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Receipt Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By *"}),n.jsx("input",{type:"text",className:`input-field ${s.receivedBy?"border-red-500":""}`,value:r.receivedBy,onChange:b=>h("receivedBy",b.target.value),placeholder:"Warehouse Manager"}),s.receivedBy&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.receivedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inspected By"}),n.jsx("input",{type:"text",className:"input-field",value:r.inspectedBy,onChange:b=>h("inspectedBy",b.target.value),placeholder:"Quality Inspector"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:b=>h("status",b.target.value),children:c.map(b=>n.jsx("option",{value:b,children:b},b))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Location"}),n.jsx("input",{type:"text",className:"input-field",value:r.warehouseLocation,onChange:b=>h("warehouseLocation",b.target.value),placeholder:"Main Warehouse - Zone A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Challan Number"}),n.jsx("input",{type:"text",className:"input-field",value:r.deliveryChallanNumber,onChange:b=>h("deliveryChallanNumber",b.target.value),placeholder:"DC-2024-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transporter Name"}),n.jsx("input",{type:"text",className:"input-field",value:r.transporterName,onChange:b=>h("transporterName",b.target.value),placeholder:"ABC Logistics"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number"}),n.jsx("input",{type:"text",className:"input-field",value:r.vehicleNumber,onChange:b=>h("vehicleNumber",b.target.value),placeholder:"MH-12-AB-1234"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"GRN Items"}),n.jsxs("button",{type:"button",onClick:v,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((b,N)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:b.materialCode,onChange:S=>j(N,"materialCode",S.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:b.materialName,onChange:S=>j(N,"materialName",S.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ordered Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:b.orderedQuantity,onChange:S=>j(N,"orderedQuantity",parseFloat(S.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Received Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:b.receivedQuantity,onChange:S=>j(N,"receivedQuantity",parseFloat(S.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Accepted Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:b.acceptedQuantity,onChange:S=>j(N,"acceptedQuantity",parseFloat(S.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:b.unitPrice,onChange:S=>j(N,"unitPrice",parseFloat(S.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Batch Number"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:b.batchNumber,onChange:S=>j(N,"batchNumber",S.target.value),placeholder:"B001"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>y(N),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"col-span-8",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:b.specifications,onChange:S=>j(N,"specifications",S.target.value),placeholder:"Grade A, 12mm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Expiry Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:b.expiryDate,onChange:S=>j(N,"expiryDate",S.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quality Status"}),n.jsxs("select",{className:"input-field text-sm",value:b.qualityStatus,onChange:S=>j(N,"qualityStatus",S.target.value),children:[n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Total Amount: ",b.totalAmount.toFixed(2)," KWD"]})]})]},N))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total GRN Amount: ",r.items.reduce((b,N)=>b+N.totalAmount,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:b=>h("notes",b.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Remarks"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.qualityRemarks,onChange:b=>h("qualityRemarks",b.target.value),placeholder:"Quality inspection remarks and observations"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/good-receipt-notes"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Update GRN"]})]})]})})]})},CZ=()=>{const e=ge(),[t,r]=O.useState([{id:"1",warehouseCode:"WH-001",warehouseName:"Main Warehouse",description:"Primary storage facility",address:{street:"123 Industrial Ave",city:"Industrial City",state:"State",zipCode:"12345",country:"Country"},capacity:1e4,currentCapacity:7500,managerId:"MGR-001",managerName:"John Smith",isActive:!0,storageTypes:["Dry Storage","Cold Storage"],createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-15").toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"2",warehouseCode:"WH-002",warehouseName:"Secondary Warehouse",description:"Secondary storage facility",address:{street:"456 Storage St",city:"Storage City",state:"State",zipCode:"67890",country:"Country"},capacity:5e3,currentCapacity:2e3,managerId:"MGR-002",managerName:"Jane Doe",isActive:!0,storageTypes:["Dry Storage"],createdAt:new Date("2024-01-16").toISOString(),updatedAt:new Date("2024-01-16").toISOString(),createdBy:"admin",updatedBy:"admin"}]),[a,s]=O.useState(""),i=t.filter(u=>u.warehouseName.toLowerCase().includes(a.toLowerCase())||u.warehouseCode.toLowerCase().includes(a.toLowerCase())),l=(u,f)=>u/f*100,o=u=>u>=90?"bg-red-500":u>=75?"bg-yellow-500":"bg-green-500",c=u=>{window.confirm("Are you sure you want to delete this warehouse?")&&r(t.filter(f=>f.id!==u))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Warehouse Master"}),n.jsx("p",{className:"text-gray-600",children:"Manage warehouse locations and capacity"})]}),n.jsxs("button",{onClick:()=>e("/warehouse-master/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Warehouse"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search warehouses...",className:"input-field pl-10",value:a,onChange:u=>s(u.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(u=>{const f=l(u.currentCapacity,u.capacity);return n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:u.warehouseName}),n.jsx("p",{className:"text-sm text-gray-600",children:u.warehouseCode})]}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(hu,{className:"h-4 w-4 mr-2"}),n.jsxs("span",{children:[u.address.city,", ",u.address.state]})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Ao,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:u.managerName})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[n.jsx("span",{children:"Capacity Usage"}),n.jsxs("span",{children:[f.toFixed(1),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${o(f)}`,style:{width:`${f}%`}})}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.currentCapacity.toLocaleString()," / ",u.capacity.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Storage Types:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:u.storageTypes.map((m,h)=>n.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:m},h))})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-4 pt-4 border-t",children:[n.jsx("button",{onClick:()=>e(`/warehouse-master/edit/${u.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:n.jsx(Wr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>c(u.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})]},u.id)})})]})},OZ=()=>{const e=ge(),[t,r]=O.useState({warehouseCode:"",warehouseName:"",warehouseType:"Main",location:"",address:"",city:"",state:"",country:"",postalCode:"",contactPerson:"",contactPhone:"",contactEmail:"",capacity:"",capacityUnit:"SQM",status:"Active",operatingHours:"",timezone:"",notes:"",specialRequirements:""}),[a,s]=O.useState({}),i=["Main","Sub","Transit","Cold Storage","Hazardous"],l=["Active","Inactive","Maintenance","Closed"],o=["SQM","CBM","KG","TON"],c=()=>{const m={};return t.warehouseCode.trim()||(m.warehouseCode="Warehouse code is required"),t.warehouseName.trim()||(m.warehouseName="Warehouse name is required"),t.location.trim()||(m.location="Location is required"),t.address.trim()||(m.address="Address is required"),t.city.trim()||(m.city="City is required"),t.state.trim()||(m.state="State is required"),t.country.trim()||(m.country="Country is required"),t.contactPerson.trim()||(m.contactPerson="Contact person is required"),t.contactPhone.trim()||(m.contactPhone="Contact phone is required"),t.contactEmail.trim()||(m.contactEmail="Contact email is required"),s(m),Object.keys(m).length===0},u=m=>{if(m.preventDefault(),!c())return;const h={id:Date.now().toString(),warehouseCode:t.warehouseCode,warehouseName:t.warehouseName,description:t.notes,address:{street:t.address,city:t.city,state:t.state,country:t.country,zipCode:t.postalCode},capacity:parseFloat(t.capacity)||0,currentCapacity:0,managerId:"MGR-001",managerName:t.contactPerson,isActive:t.status==="Active",storageTypes:["Dry Storage"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"};console.log("Creating Warehouse:",h),e("/warehouse-master")},f=(m,h)=>{r(v=>({...v,[m]:h})),a[m]&&s(v=>({...v,[m]:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Warehouse"}),n.jsx("p",{className:"text-gray-600",children:"Create a new warehouse location"})]}),n.jsxs("button",{onClick:()=>e("/warehouse-master"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Warehouses"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:u,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Code *"}),n.jsx("input",{type:"text",className:`input-field ${a.warehouseCode?"border-red-500":""}`,value:t.warehouseCode,onChange:m=>f("warehouseCode",m.target.value),placeholder:"WH-001"}),a.warehouseCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.warehouseCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.warehouseName?"border-red-500":""}`,value:t.warehouseName,onChange:m=>f("warehouseName",m.target.value),placeholder:"Main Warehouse"}),a.warehouseName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.warehouseName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Type"}),n.jsx("select",{className:"input-field",value:t.warehouseType,onChange:m=>f("warehouseType",m.target.value),children:i.map(m=>n.jsx("option",{value:m,children:m},m))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),n.jsx("input",{type:"text",className:`input-field ${a.location?"border-red-500":""}`,value:t.location,onChange:m=>f("location",m.target.value),placeholder:"Industrial Zone A"}),a.location&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.location})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:m=>f("status",m.target.value),children:l.map(m=>n.jsx("option",{value:m,children:m},m))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",className:"input-field flex-1",value:t.capacity,onChange:m=>f("capacity",m.target.value),placeholder:"1000"}),n.jsx("select",{className:"input-field w-24",value:t.capacityUnit,onChange:m=>f("capacityUnit",m.target.value),children:o.map(m=>n.jsx("option",{value:m,children:m},m))})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),n.jsx("textarea",{className:`input-field ${a.address?"border-red-500":""}`,rows:3,value:t.address,onChange:m=>f("address",m.target.value),placeholder:"123 Industrial Street, Manufacturing District"}),a.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.address})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${a.city?"border-red-500":""}`,value:t.city,onChange:m=>f("city",m.target.value),placeholder:"Mumbai"}),a.city&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsx("input",{type:"text",className:`input-field ${a.state?"border-red-500":""}`,value:t.state,onChange:m=>f("state",m.target.value),placeholder:"Maharashtra"}),a.state&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.state})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),n.jsx("input",{type:"text",className:`input-field ${a.country?"border-red-500":""}`,value:t.country,onChange:m=>f("country",m.target.value),placeholder:"India"}),a.country&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.country})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),n.jsx("input",{type:"text",className:"input-field",value:t.postalCode,onChange:m=>f("postalCode",m.target.value),placeholder:"400001"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person *"}),n.jsx("input",{type:"text",className:`input-field ${a.contactPerson?"border-red-500":""}`,value:t.contactPerson,onChange:m=>f("contactPerson",m.target.value),placeholder:"John Smith"}),a.contactPerson&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.contactPerson})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${a.contactPhone?"border-red-500":""}`,value:t.contactPhone,onChange:m=>f("contactPhone",m.target.value),placeholder:"+91 98765 43210"}),a.contactPhone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.contactPhone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.contactEmail?"border-red-500":""}`,value:t.contactEmail,onChange:m=>f("contactEmail",m.target.value),placeholder:"john@company.com"}),a.contactEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.contactEmail})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),n.jsx("input",{type:"text",className:"input-field",value:t.operatingHours,onChange:m=>f("operatingHours",m.target.value),placeholder:"8:00 AM - 6:00 PM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:t.timezone,onChange:m=>f("timezone",m.target.value),placeholder:"IST (UTC+5:30)"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:m=>f("notes",m.target.value),placeholder:"Additional notes or comments about the warehouse"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.specialRequirements,onChange:m=>f("specialRequirements",m.target.value),placeholder:"Special storage requirements, security measures, or operational notes"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/warehouse-master"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Warehouse"]})]})]})})]})},kZ=()=>{const e=ge(),{id:t}=oa(),[r,a]=O.useState({warehouseCode:"",warehouseName:"",warehouseType:"Main",location:"",address:"",city:"",state:"",country:"",postalCode:"",contactPerson:"",contactPhone:"",contactEmail:"",capacity:"",capacityUnit:"SQM",status:"Active",operatingHours:"",timezone:"",notes:"",specialRequirements:""}),[s,i]=O.useState({}),[l,o]=O.useState(!0),c=["Main","Sub","Transit","Cold Storage","Hazardous"],u=["Active","Inactive","Maintenance","Closed"],f=["SQM","CBM","KG","TON"],m={id:"1",warehouseCode:"WH-001",warehouseName:"Main Warehouse",description:"Primary warehouse for finished goods storage",address:{street:"123 Industrial Street",city:"Mumbai",state:"Maharashtra",zipCode:"400001",country:"India"},capacity:5e3,currentCapacity:3e3,managerId:"MGR-001",managerName:"John Smith",isActive:!0,storageTypes:["Dry Storage","Cold Storage"],createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-20").toISOString(),createdBy:"admin",updatedBy:"admin"};O.useEffect(()=>{setTimeout(()=>{a({warehouseCode:m.warehouseCode,warehouseName:m.warehouseName,warehouseType:"Main",location:"Industrial Zone A",address:m.address.street,city:m.address.city,state:m.address.state,country:m.address.country,postalCode:m.address.zipCode,contactPerson:m.managerName,contactPhone:"+91 98765 43210",contactEmail:"john@company.com",capacity:m.capacity.toString(),capacityUnit:"SQM",status:"Active",operatingHours:"8:00 AM - 6:00 PM",timezone:"IST (UTC+5:30)",notes:m.description,specialRequirements:"Temperature controlled environment required"}),o(!1)},500)},[t]);const h=()=>{const y={};return r.warehouseCode.trim()||(y.warehouseCode="Warehouse code is required"),r.warehouseName.trim()||(y.warehouseName="Warehouse name is required"),r.location.trim()||(y.location="Location is required"),r.address.trim()||(y.address="Address is required"),r.city.trim()||(y.city="City is required"),r.state.trim()||(y.state="State is required"),r.country.trim()||(y.country="Country is required"),r.contactPerson.trim()||(y.contactPerson="Contact person is required"),r.contactPhone.trim()||(y.contactPhone="Contact phone is required"),r.contactEmail.trim()||(y.contactEmail="Contact email is required"),i(y),Object.keys(y).length===0},v=y=>{if(y.preventDefault(),!h())return;const b={...m,warehouseCode:r.warehouseCode,warehouseName:r.warehouseName,description:r.notes,address:{street:r.address,city:r.city,state:r.state,zipCode:r.postalCode,country:r.country},capacity:parseFloat(r.capacity)||0,currentCapacity:parseFloat(r.capacity)||0,managerId:"MGR-001",managerName:r.contactPerson,isActive:r.status==="Active",storageTypes:["Dry Storage","Cold Storage"],updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating Warehouse:",b),e("/warehouse-master")},j=(y,b)=>{a(N=>({...N,[y]:b})),s[y]&&i(N=>({...N,[y]:""}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading warehouse data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Warehouse"}),n.jsx("p",{className:"text-gray-600",children:"Update warehouse information"})]}),n.jsxs("button",{onClick:()=>e("/warehouse-master"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Warehouses"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:v,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.warehouseCode?"border-red-500":""}`,value:r.warehouseCode,onChange:y=>j("warehouseCode",y.target.value),placeholder:"WH-001"}),s.warehouseCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.warehouseCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.warehouseName?"border-red-500":""}`,value:r.warehouseName,onChange:y=>j("warehouseName",y.target.value),placeholder:"Main Warehouse"}),s.warehouseName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.warehouseName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Type"}),n.jsx("select",{className:"input-field",value:r.warehouseType,onChange:y=>j("warehouseType",y.target.value),children:c.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),n.jsx("input",{type:"text",className:`input-field ${s.location?"border-red-500":""}`,value:r.location,onChange:y=>j("location",y.target.value),placeholder:"Industrial Zone A"}),s.location&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.location})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:y=>j("status",y.target.value),children:u.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",className:"input-field flex-1",value:r.capacity,onChange:y=>j("capacity",y.target.value),placeholder:"1000"}),n.jsx("select",{className:"input-field w-24",value:r.capacityUnit,onChange:y=>j("capacityUnit",y.target.value),children:f.map(y=>n.jsx("option",{value:y,children:y},y))})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),n.jsx("textarea",{className:`input-field ${s.address?"border-red-500":""}`,rows:3,value:r.address,onChange:y=>j("address",y.target.value),placeholder:"123 Industrial Street, Manufacturing District"}),s.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.address})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${s.city?"border-red-500":""}`,value:r.city,onChange:y=>j("city",y.target.value),placeholder:"Mumbai"}),s.city&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsx("input",{type:"text",className:`input-field ${s.state?"border-red-500":""}`,value:r.state,onChange:y=>j("state",y.target.value),placeholder:"Maharashtra"}),s.state&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.state})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),n.jsx("input",{type:"text",className:`input-field ${s.country?"border-red-500":""}`,value:r.country,onChange:y=>j("country",y.target.value),placeholder:"India"}),s.country&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.country})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),n.jsx("input",{type:"text",className:"input-field",value:r.postalCode,onChange:y=>j("postalCode",y.target.value),placeholder:"400001"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person *"}),n.jsx("input",{type:"text",className:`input-field ${s.contactPerson?"border-red-500":""}`,value:r.contactPerson,onChange:y=>j("contactPerson",y.target.value),placeholder:"John Smith"}),s.contactPerson&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.contactPerson})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${s.contactPhone?"border-red-500":""}`,value:r.contactPhone,onChange:y=>j("contactPhone",y.target.value),placeholder:"+91 98765 43210"}),s.contactPhone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.contactPhone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.contactEmail?"border-red-500":""}`,value:r.contactEmail,onChange:y=>j("contactEmail",y.target.value),placeholder:"john@company.com"}),s.contactEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.contactEmail})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),n.jsx("input",{type:"text",className:"input-field",value:r.operatingHours,onChange:y=>j("operatingHours",y.target.value),placeholder:"8:00 AM - 6:00 PM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:r.timezone,onChange:y=>j("timezone",y.target.value),placeholder:"IST (UTC+5:30)"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:y=>j("notes",y.target.value),placeholder:"Additional notes or comments about the warehouse"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.specialRequirements,onChange:y=>j("specialRequirements",y.target.value),placeholder:"Special storage requirements, security measures, or operational notes"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/warehouse-master"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Update Warehouse"]})]})]})})]})},PZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState(!0),[i,l]=O.useState({page:1,limit:10,total:0,pages:0}),[o,c]=O.useState(""),[u,f]=O.useState(null),[m,h]=O.useState(!1),[v,j]=O.useState(""),y=async()=>{try{s(!0);const p=await Q.getTransferOrders({page:i.page,limit:i.limit,search:o||void 0,status:v||void 0,sortBy:"transferDate",sortOrder:"desc"});p.success&&(r(p.data),l(p.pagination))}catch(p){console.error("Error loading transfer orders:",p)}finally{s(!1)}};O.useEffect(()=>{y()},[i.page,o,v]),O.useEffect(()=>{const p=setInterval(()=>{y()},3e4);return()=>clearInterval(p)},[]);const b=t,N=p=>{switch(p){case"Completed":return"bg-green-100 text-green-800";case"In Transit":return"bg-blue-100 text-blue-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Failed":return"bg-red-100 text-red-800";case"Cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},S=p=>{switch(p){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";case"Normal":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},x=async p=>{const g=t.find(C=>C._id===p),w=(g==null?void 0:g.transferNumber)||"this transfer order";if(window.confirm(`Are you sure you want to delete ${w}?

This action cannot be undone.`))try{s(!0);const C=await Q.deleteTransferOrder(p,{updatedBy:"Admin User"});C.success?(alert(`Transfer order ${w} has been deleted successfully.`),await y()):alert(`Failed to delete transfer order: ${C.message||"Unknown error"}`)}catch(C){console.error("Error deleting transfer order:",C),alert(`Error deleting transfer order: ${C instanceof Error?C.message:"Unknown error"}`)}finally{s(!1)}},d=()=>{var p,g,w,C;return n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transfer Order Details"}),n.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Oe,{className:"h-6 w-6"})})]}),u&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transfer Number"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(u.priority)}`,children:u.priority})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From Outlet"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:typeof u.fromOutlet=="object"?(p=u.fromOutlet)==null?void 0:p.name:u.fromOutlet||"N/A"}),((g=u.fromOutlet)==null?void 0:g.code)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-gray-500",children:[u.fromOutlet.code," • ",u.fromOutlet.type||"Outlet"]}),n.jsx("div",{className:"text-xs text-gray-400",children:u.fromOutlet.location||"Location not specified"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To Outlet"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:typeof u.toOutlet=="object"?(w=u.toOutlet)==null?void 0:w.name:u.toOutlet||"N/A"}),((C=u.toOutlet)==null?void 0:C.code)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-gray-500",children:[u.toOutlet.code," • ",u.toOutlet.type||"Outlet"]}),n.jsx("div",{className:"text-xs text-gray-400",children:u.toOutlet.location||"Location not specified"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transfer Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.transferDate?new Date(u.transferDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N(u.status||"Unknown")}`,children:u.status||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Requested By"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.requestedBy||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Amount"}),n.jsxs("p",{className:"text-sm text-gray-900 font-medium",children:[u.totalAmount?u.totalAmount.toFixed(2):"0.00"," KWD"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Transfer Items"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Item Code"}),n.jsx("th",{className:"table-header",children:"Item Name"}),n.jsx("th",{className:"table-header",children:"Item Type"}),n.jsx("th",{className:"table-header",children:"Quantity"}),n.jsx("th",{className:"table-header",children:"Unit"}),n.jsx("th",{className:"table-header",children:"Unit Price"}),n.jsx("th",{className:"table-header",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.items&&u.items.length>0?u.items.map((T,P)=>n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:T.itemCode}),n.jsx("td",{className:"table-cell",children:T.itemName}),n.jsx("td",{className:"table-cell",children:T.itemType}),n.jsx("td",{className:"table-cell",children:T.quantity}),n.jsx("td",{className:"table-cell",children:T.unitOfMeasure}),n.jsxs("td",{className:"table-cell",children:[T.unitPrice?T.unitPrice.toFixed(2):"0.00"," KWD"]}),n.jsxs("td",{className:"table-cell font-medium",children:[T.totalValue?T.totalValue.toFixed(2):"0.00"," KWD"]})]},P)):n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"table-cell text-center text-gray-500",children:"No items found"})})})]})}),n.jsx("div",{className:"mt-4 text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Amount: ",u.totalAmount?u.totalAmount.toFixed(2):"0.00"," KWD"]})})]}),u.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.notes})]})]})]})})})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transfer Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage material transfers between warehouses"})]}),n.jsxs("button",{onClick:()=>e("/central-kitchen/create-transfer"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search transfer orders...",className:"input-field pl-10",value:o,onChange:p=>c(p.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{className:"input-field",value:v,onChange:p=>j(p.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"In Transit",children:"In Transit"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Failed",children:"Failed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs("button",{onClick:y,className:"btn-secondary flex items-center",disabled:a,children:[n.jsx(Bt,{className:"h-4 w-4 mr-2"}),a?"Refreshing...":"Refresh"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Transfer Number"}),n.jsx("th",{className:"table-header",children:"From → To"}),n.jsx("th",{className:"table-header",children:"Transfer Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Requested By"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"table-cell text-center py-8",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading transfer orders..."})]})})}):b.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"table-cell text-center py-8 text-gray-500",children:"No transfer orders found"})}):b.map(p=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:p.transferNumber}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.fromOutlet.name}),n.jsx(yD,{className:"h-4 w-4 mx-3 text-gray-400 flex-shrink-0"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.toOutlet.name})]})}),n.jsx("td",{className:"table-cell",children:new Date(p.transferDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N(p.status)}`,children:p.status})}),n.jsx("td",{className:"table-cell",children:p.requestedBy}),n.jsxs("td",{className:"table-cell font-medium",children:[p.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{f(p),h(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:n.jsx(tn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>x(p._id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},p._id))})]})})}),m&&n.jsx(d,{})]})},TZ=()=>{const e=ge(),{id:t}=oa(),[r,a]=O.useState({transferNumber:"",fromWarehouseId:"",fromWarehouseName:"",toWarehouseId:"",toWarehouseName:"",transferDate:"",expectedDeliveryDate:"",status:"Draft",priority:"Medium",totalAmount:0,items:[],requestedBy:"",approvedBy:"",receivedBy:"",transferType:"Internal",reason:"",notes:""}),[s,i]=O.useState({}),[l,o]=O.useState(!0),c=["Draft","Pending","Approved","In Transit","Delivered","Cancelled"],u=["Low","Medium","High","Urgent"],f=["Internal","External","Emergency"],m=[{id:"WH-001",name:"Main Warehouse"},{id:"WH-002",name:"Secondary Warehouse"},{id:"WH-003",name:"Cold Storage"},{id:"WH-004",name:"Hazardous Storage"}],h={id:"1",transferNumber:"TO-2024-001",fromWarehouseId:"WH-001",fromWarehouseName:"Main Warehouse",toWarehouseId:"WH-002",toWarehouseName:"Secondary Warehouse",transferDate:new Date("2024-01-20").toISOString(),expectedDeliveryDate:new Date("2024-01-22").toISOString(),status:"In Transit",priority:"High",totalAmount:15750,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:100,unitOfMeasure:"KG",unitPrice:45.5,totalPrice:4550,remarks:"High priority transfer"},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:50,unitOfMeasure:"SQM",unitPrice:125,totalPrice:6250,remarks:"Handle with care"},{materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",quantity:200,unitOfMeasure:"M",unitPrice:23.75,totalPrice:4750,remarks:"Standard transfer"}],requestedBy:"John Smith",approvedBy:"Manager Name",receivedBy:"Warehouse Staff",transferType:"Internal",reason:"Inventory rebalancing between warehouses for better distribution",notes:"Transfer approved for inventory optimization. Ensure proper handling of aluminum sheets.",createdAt:new Date("2024-01-20").toISOString(),updatedAt:new Date("2024-01-21").toISOString(),createdBy:"admin",updatedBy:"admin"};O.useEffect(()=>{setTimeout(()=>{var d;a({transferNumber:h.transferNumber,fromWarehouseId:h.fromWarehouseId,fromWarehouseName:h.fromWarehouseName,toWarehouseId:h.toWarehouseId,toWarehouseName:h.toWarehouseName,transferDate:h.transferDate.split("T")[0],expectedDeliveryDate:((d=h.expectedDeliveryDate)==null?void 0:d.split("T")[0])||"",status:h.status,priority:h.priority,totalAmount:h.totalAmount,items:h.items,requestedBy:h.requestedBy,approvedBy:h.approvedBy,receivedBy:h.receivedBy,transferType:h.transferType,reason:h.reason,notes:h.notes}),o(!1)},500)},[t]);const v=()=>{const d={};return r.transferNumber.trim()||(d.transferNumber="Transfer number is required"),r.fromWarehouseId||(d.fromWarehouseId="From warehouse is required"),r.toWarehouseId||(d.toWarehouseId="To warehouse is required"),r.transferDate||(d.transferDate="Transfer date is required"),r.expectedDeliveryDate||(d.expectedDeliveryDate="Expected delivery date is required"),r.requestedBy.trim()||(d.requestedBy="Requested by is required"),r.reason.trim()||(d.reason="Reason is required"),r.items.length===0&&(d.items="At least one transfer item is required"),i(d),Object.keys(d).length===0},j=d=>{if(d.preventDefault(),!v())return;const p=r.items.reduce((w,C)=>w+C.totalPrice,0),g={...h,transferNumber:r.transferNumber,fromWarehouseId:r.fromWarehouseId,fromWarehouseName:r.fromWarehouseName,toWarehouseId:r.toWarehouseId,toWarehouseName:r.toWarehouseName,transferDate:new Date(r.transferDate).toISOString(),expectedDeliveryDate:new Date(r.expectedDeliveryDate).toISOString(),status:r.status,priority:r.priority,totalAmount:p,items:r.items,requestedBy:r.requestedBy,approvedBy:r.approvedBy,receivedBy:r.receivedBy,transferType:r.transferType,reason:r.reason,notes:r.notes,updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating Transfer Order:",g),e("/transfer-orders")},y=(d,p)=>{a(g=>({...g,[d]:p})),s[d]&&i(g=>({...g,[d]:""}))},b=(d,p)=>{const g=m.find(C=>C.id===p),w=g?g.name:"";a(d==="fromWarehouseId"?C=>({...C,fromWarehouseId:p,fromWarehouseName:w}):C=>({...C,toWarehouseId:p,toWarehouseName:w}))},N=()=>{const d={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};a(p=>({...p,items:[...p.items,d]}))},S=(d,p,g)=>{a(w=>({...w,items:w.items.map((C,T)=>{if(T===d){const P={...C,[p]:g};return(p==="quantity"||p==="unitPrice")&&(P.totalPrice=P.quantity*P.unitPrice),P}return C})}))},x=d=>{a(p=>({...p,items:p.items.filter((g,w)=>w!==d)}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Transfer Order"}),n.jsx("p",{className:"text-gray-600",children:"Update transfer order information"})]}),n.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Transfer Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.transferNumber?"border-red-500":""}`,value:r.transferNumber,onChange:d=>y("transferNumber",d.target.value),placeholder:"TO-2024-001"}),s.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:r.transferType,onChange:d=>y("transferType",d.target.value),children:f.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:r.priority,onChange:d=>y("priority",d.target.value),children:u.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:d=>y("status",d.target.value),children:c.map(d=>n.jsx("option",{value:d,children:d},d))})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Warehouse Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Warehouse *"}),n.jsxs("select",{className:`input-field ${s.fromWarehouseId?"border-red-500":""}`,value:r.fromWarehouseId,onChange:d=>b("fromWarehouseId",d.target.value),children:[n.jsx("option",{value:"",children:"Select From Warehouse"}),m.map(d=>n.jsx("option",{value:d.id,children:d.name},d.id))]}),s.fromWarehouseId&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.fromWarehouseId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Warehouse *"}),n.jsxs("select",{className:`input-field ${s.toWarehouseId?"border-red-500":""}`,value:r.toWarehouseId,onChange:d=>b("toWarehouseId",d.target.value),children:[n.jsx("option",{value:"",children:"Select To Warehouse"}),m.filter(d=>d.id!==r.fromWarehouseId).map(d=>n.jsx("option",{value:d.id,children:d.name},d.id))]}),s.toWarehouseId&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.toWarehouseId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.transferDate?"border-red-500":""}`,value:r.transferDate,onChange:d=>y("transferDate",d.target.value)}),s.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.expectedDeliveryDate?"border-red-500":""}`,value:r.expectedDeliveryDate,onChange:d=>y("expectedDeliveryDate",d.target.value)}),s.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personnel Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requested By *"}),n.jsx("input",{type:"text",className:`input-field ${s.requestedBy?"border-red-500":""}`,value:r.requestedBy,onChange:d=>y("requestedBy",d.target.value),placeholder:"John Smith"}),s.requestedBy&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.requestedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approved By"}),n.jsx("input",{type:"text",className:"input-field",value:r.approvedBy,onChange:d=>y("approvedBy",d.target.value),placeholder:"Manager Name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By"}),n.jsx("input",{type:"text",className:"input-field",value:r.receivedBy,onChange:d=>y("receivedBy",d.target.value),placeholder:"Warehouse Staff"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transfer Items"}),n.jsxs("button",{type:"button",onClick:N,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((d,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.materialCode,onChange:g=>S(p,"materialCode",g.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.materialName,onChange:g=>S(p,"materialName",g.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:d.quantity,onChange:g=>S(p,"quantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.unitOfMeasure,onChange:g=>S(p,"unitOfMeasure",g.target.value),placeholder:"KG"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:d.unitPrice,onChange:g=>S(p,"unitPrice",parseFloat(g.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.remarks,onChange:g=>S(p,"remarks",g.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>x(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",d.totalPrice.toFixed(2)," KWD"]})})]},p))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",r.items.reduce((d,p)=>d+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Transfer *"}),n.jsx("textarea",{className:`input-field ${s.reason?"border-red-500":""}`,rows:3,value:r.reason,onChange:d=>y("reason",d.target.value),placeholder:"Reason for material transfer"}),s.reason&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.reason})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:d=>y("notes",d.target.value),placeholder:"Additional notes or special instructions"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Update Transfer Order"]})]})]})})]})},AZ=()=>{const[e,t]=O.useState("overview"),[r,a]=O.useState(""),[s,i]=O.useState(""),[l,o]=O.useState(""),[c]=O.useState([{id:"1",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:150,reservedStock:25,availableStock:125,minimumStock:50,maximumStock:500,reorderPoint:75,unitOfMeasure:"KG",unitPrice:45.5,totalValue:6825,lastUpdated:new Date("2024-01-20"),status:"In Stock",location:"A-01-15",batchNumber:"B001",supplier:"Steel Corp",notes:"High quality steel rods"},{id:"2",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:25,reservedStock:5,availableStock:20,minimumStock:30,maximumStock:200,reorderPoint:40,unitOfMeasure:"SQM",unitPrice:125,totalValue:3125,lastUpdated:new Date("2024-01-19"),status:"Low Stock",location:"B-02-08",batchNumber:"B002",supplier:"Aluminum Ltd",notes:"Premium grade aluminum"},{id:"3",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",warehouseId:"WH-002",warehouseName:"Secondary Warehouse",currentStock:0,reservedStock:0,availableStock:0,minimumStock:100,maximumStock:1e3,reorderPoint:150,unitOfMeasure:"M",unitPrice:23.75,totalValue:0,lastUpdated:new Date("2024-01-18"),status:"Out of Stock",location:"C-03-12",batchNumber:"B003",supplier:"Wire Co",notes:"Electrical grade copper"},{id:"4",materialId:"RM-004",materialCode:"RM-004",materialName:"Plastic Pellets HDPE",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:800,reservedStock:50,availableStock:750,minimumStock:200,maximumStock:1e3,reorderPoint:300,unitOfMeasure:"KG",unitPrice:12.5,totalValue:1e4,lastUpdated:new Date("2024-01-21"),status:"Overstock",location:"D-04-20",batchNumber:"B004",supplier:"Plastic Inc",notes:"High density polyethylene"}]),[u]=O.useState([{id:"1",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",movementType:"In",movementReason:"Purchase",quantity:50,unitPrice:45.5,totalValue:2275,referenceNumber:"PO-2024-001",referenceType:"Purchase Order",movementDate:new Date("2024-01-20").toISOString(),performedBy:"John Smith",notes:"Received from supplier",batchNumber:"B001"},{id:"2",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",movementType:"Out",movementReason:"Production",quantity:15,unitPrice:125,totalValue:1875,referenceNumber:"JO-2024-001",referenceType:"Production Order",movementDate:new Date("2024-01-19").toISOString(),performedBy:"Jane Doe",notes:"Issued for production",batchNumber:"B002"},{id:"3",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",warehouseId:"WH-002",warehouseName:"Secondary Warehouse",movementType:"Out",movementReason:"Sale",quantity:200,unitPrice:23.75,totalValue:4750,referenceNumber:"SO-2024-001",referenceType:"Sales Order",movementDate:new Date("2024-01-18").toISOString(),performedBy:"Mike Johnson",notes:"Sold to customer",batchNumber:"B003"}]),f=[{id:"WH-001",name:"Main Warehouse"},{id:"WH-002",name:"Secondary Warehouse"},{id:"WH-003",name:"Cold Storage"},{id:"WH-004",name:"Hazardous Storage"}],m=["In Stock","Low Stock","Out of Stock","Overstock"],h=c.filter(p=>{const g=p.materialCode.toLowerCase().includes(r.toLowerCase())||p.materialName.toLowerCase().includes(r.toLowerCase())||p.warehouseName.toLowerCase().includes(r.toLowerCase()),w=!s||p.status===s,C=!l||p.warehouseId===l;return g&&w&&C}),v=u.filter(p=>{var C;const g=p.materialCode.toLowerCase().includes(r.toLowerCase())||p.materialName.toLowerCase().includes(r.toLowerCase())||((C=p.referenceNumber)==null?void 0:C.toLowerCase().includes(r.toLowerCase())),w=!l||p.warehouseId===l;return g&&w}),j=c.length,y=c.reduce((p,g)=>p+g.totalValue,0),b=c.filter(p=>p.status==="Low Stock").length,N=c.filter(p=>p.status==="Out of Stock").length,S=c.filter(p=>p.status==="Overstock").length,x=p=>{switch(p){case"In Stock":return"text-green-600 bg-green-100";case"Low Stock":return"text-yellow-600 bg-yellow-100";case"Out of Stock":return"text-red-600 bg-red-100";case"Overstock":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},d=p=>{switch(p){case"In":return"text-green-600 bg-green-100";case"Out":return"text-red-600 bg-red-100";case"Transfer":return"text-blue-600 bg-blue-100";case"Adjustment":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),n.jsx("p",{className:"text-gray-600",children:"Monitor stock levels, movements, and generate reports"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{className:"btn-primary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Un,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",y.toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Zr,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(xy,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N})]})]})})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"overview",name:"Overview",icon:Ia},{id:"stock",name:"Stock Levels",icon:xe},{id:"movements",name:"Stock Movements",icon:Un},{id:"reports",name:"Reports",icon:It}].map(p=>n.jsxs("button",{onClick:()=>t(p.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${e===p.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(p.icon,{className:"h-4 w-4 mr-2"}),p.name]},p.id))})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",className:"input-field pl-10",placeholder:"Search materials, warehouses, or reference numbers...",value:r,onChange:p=>a(p.target.value)})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("select",{className:"input-field",value:s,onChange:p=>i(p.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),m.map(p=>n.jsx("option",{value:p,children:p},p))]}),n.jsxs("select",{className:"input-field",value:l,onChange:p=>o(p.target.value),children:[n.jsx("option",{value:"",children:"All Warehouses"}),f.map(p=>n.jsx("option",{value:p.id,children:p.name},p.id))]})]})]}),e==="overview"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Stock Status Distribution"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"In Stock"}),n.jsx("span",{className:"text-sm font-medium",children:c.filter(p=>p.status==="In Stock").length})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Low Stock"}),n.jsx("span",{className:"text-sm font-medium",children:b})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Out of Stock"}),n.jsx("span",{className:"text-sm font-medium",children:N})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Overstock"}),n.jsx("span",{className:"text-sm font-medium",children:S})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Stock Movements"}),n.jsx("div",{className:"space-y-3",children:u.slice(0,5).map(p=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(p.movementDate).toLocaleDateString()})]}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${d(p.movementType)}`,children:[p.movementType," ",p.quantity]})})]},p.id))})]})]})}),e==="stock"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Warehouse"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Min/Max"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(p=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("div",{className:"text-sm text-gray-500",children:p.materialCode})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:p.warehouseName}),n.jsx("div",{className:"text-sm text-gray-500",children:p.location})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[p.currentStock," ",p.unitOfMeasure]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Reserved: ",p.reservedStock]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[p.availableStock," ",p.unitOfMeasure]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[p.minimumStock,"/",p.maximumStock]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Reorder: ",p.reorderPoint]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:["$",p.totalValue.toLocaleString()]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["@ $",p.unitPrice]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${x(p.status)}`,children:p.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:n.jsx(tn,{className:"h-4 w-4"})})})]},p.id))})]})}),e==="movements"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Warehouse"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performed By"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(p=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(p.movementDate).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("div",{className:"text-sm text-gray-500",children:p.materialCode})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.warehouseName}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${d(p.movementType)}`,children:p.movementType}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:p.movementReason})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.quantity}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",p.totalValue.toLocaleString()]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:p.referenceNumber}),n.jsx("div",{className:"text-xs text-gray-500",children:p.referenceType})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.performedBy})]},p.id))})]})}),e==="reports"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Ia,{className:"h-8 w-8 text-blue-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Stock Summary"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Generate comprehensive stock level report"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Un,{className:"h-8 w-8 text-green-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Stock Movements"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Track all stock movements for a period"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Zr,{className:"h-8 w-8 text-yellow-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Low Stock Alert"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Identify items below reorder point"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Un,{className:"h-8 w-8 text-purple-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Value Report"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Calculate total inventory value"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Ia,{className:"h-8 w-8 text-indigo-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ABC Analysis"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Classify items by value and usage"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(It,{className:"h-8 w-8 text-gray-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Custom Report"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create custom inventory reports"}),n.jsx("button",{className:"btn-primary w-full",children:"Create Report"})]})]})})]})]})]})},DZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState(!0),[i,l]=O.useState(null),[o,c]=O.useState(""),[u,f]=O.useState(""),[m,h]=O.useState(""),[v,j]=O.useState(""),[y,b]=O.useState("createdAt"),[N,S]=O.useState("desc"),[x,d]=O.useState(null),[p,g]=O.useState(!1);O.useEffect(()=>{w()},[]),O.useEffect(()=>{a||w()},[o,u,m,v,y,N]);const w=async()=>{try{s(!0),l(null);const k=[{id:"outlet-001",outletCode:"KC001",outletName:"Kuwait City",outletType:"Restaurant",description:"Main restaurant outlet in Kuwait City",address:{street:"123 Main Street",city:"Kuwait City",state:"Kuwait",zipCode:"12345",country:"Kuwait"},contactInfo:{phone:"+965-1234-5678",email:"kuwait@localbeat.com",managerName:"Ahmed Al-Sabah",managerPhone:"+965-1234-5679",managerEmail:"ahmed@localbeat.com"},operatingHours:{monday:{open:"08:00",close:"22:00",isOpen:!0},tuesday:{open:"08:00",close:"22:00",isOpen:!0},wednesday:{open:"08:00",close:"22:00",isOpen:!0},thursday:{open:"08:00",close:"22:00",isOpen:!0},friday:{open:"08:00",close:"22:00",isOpen:!0},saturday:{open:"08:00",close:"22:00",isOpen:!0},sunday:{open:"08:00",close:"22:00",isOpen:!0}},capacity:{seatingCapacity:100,kitchenCapacity:50,storageCapacity:200,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Dine-in","Takeaway","Delivery"],timezone:"Asia/Kuwait",notes:"Main restaurant outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-002",outletCode:"M360001",outletName:"360 Mall",outletType:"Cafe",description:"Cafe outlet in 360 Mall",address:{street:"360 Mall, Level 2",city:"Kuwait City",state:"Kuwait",zipCode:"12346",country:"Kuwait"},contactInfo:{phone:"+965-2345-6789",email:"mall360@localbeat.com",managerName:"Sarah Johnson",managerPhone:"+965-2345-6790",managerEmail:"sarah@localbeat.com"},operatingHours:{monday:{open:"10:00",close:"23:00",isOpen:!0},tuesday:{open:"10:00",close:"23:00",isOpen:!0},wednesday:{open:"10:00",close:"23:00",isOpen:!0},thursday:{open:"10:00",close:"23:00",isOpen:!0},friday:{open:"10:00",close:"23:00",isOpen:!0},saturday:{open:"10:00",close:"23:00",isOpen:!0},sunday:{open:"10:00",close:"23:00",isOpen:!0}},capacity:{seatingCapacity:80,kitchenCapacity:30,storageCapacity:150,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Dine-in","Takeaway"],timezone:"Asia/Kuwait",notes:"Mall cafe outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-003",outletCode:"VC001",outletName:"Vibes Complex",outletType:"Food Court",description:"Food court outlet in Vibes Complex",address:{street:"Vibes Complex, Food Court",city:"Kuwait City",state:"Kuwait",zipCode:"12347",country:"Kuwait"},contactInfo:{phone:"+965-3456-7890",email:"vibes@localbeat.com",managerName:"Mohammed Al-Rashid",managerPhone:"+965-3456-7891",managerEmail:"mohammed@localbeat.com"},operatingHours:{monday:{open:"09:00",close:"24:00",isOpen:!0},tuesday:{open:"09:00",close:"24:00",isOpen:!0},wednesday:{open:"09:00",close:"24:00",isOpen:!0},thursday:{open:"09:00",close:"24:00",isOpen:!0},friday:{open:"09:00",close:"24:00",isOpen:!0},saturday:{open:"09:00",close:"24:00",isOpen:!0},sunday:{open:"09:00",close:"24:00",isOpen:!0}},capacity:{seatingCapacity:120,kitchenCapacity:40,storageCapacity:180,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Dine-in","Takeaway","Food Court"],timezone:"Asia/Kuwait",notes:"Food court outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-004",outletCode:"TH001",outletName:"Taiba Hospital",outletType:"Drive-Thru",description:"Drive-thru outlet at Taiba Hospital",address:{street:"Taiba Hospital, Ground Floor",city:"Kuwait City",state:"Kuwait",zipCode:"12348",country:"Kuwait"},contactInfo:{phone:"+965-4567-8901",email:"taiba@localbeat.com",managerName:"Fatima Al-Zahra",managerPhone:"+965-4567-8902",managerEmail:"fatima@localbeat.com"},operatingHours:{monday:{open:"06:00",close:"02:00",isOpen:!0},tuesday:{open:"06:00",close:"02:00",isOpen:!0},wednesday:{open:"06:00",close:"02:00",isOpen:!0},thursday:{open:"06:00",close:"02:00",isOpen:!0},friday:{open:"06:00",close:"02:00",isOpen:!0},saturday:{open:"06:00",close:"02:00",isOpen:!0},sunday:{open:"06:00",close:"02:00",isOpen:!0}},capacity:{seatingCapacity:20,kitchenCapacity:25,storageCapacity:100,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Drive-Thru","Takeaway"],timezone:"Asia/Kuwait",notes:"Hospital drive-thru outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-005",outletCode:"CK001",outletName:"Central Kitchen",outletType:"Central Kitchen",description:"Central kitchen for all outlets",address:{street:"Industrial Area, Block 5",city:"Kuwait City",state:"Kuwait",zipCode:"12349",country:"Kuwait"},contactInfo:{phone:"+965-5678-9012",email:"central@localbeat.com",managerName:"Chef Abdullah",managerPhone:"+965-5678-9013",managerEmail:"chef@localbeat.com"},operatingHours:{monday:{open:"05:00",close:"23:00",isOpen:!0},tuesday:{open:"05:00",close:"23:00",isOpen:!0},wednesday:{open:"05:00",close:"23:00",isOpen:!0},thursday:{open:"05:00",close:"23:00",isOpen:!0},friday:{open:"05:00",close:"23:00",isOpen:!0},saturday:{open:"05:00",close:"23:00",isOpen:!0},sunday:{open:"05:00",close:"23:00",isOpen:!0}},capacity:{seatingCapacity:0,kitchenCapacity:200,storageCapacity:500,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!0,features:["Production","Storage","Distribution"],timezone:"Asia/Kuwait",notes:"Central kitchen for all outlets",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"}];console.log("Loaded Outlets:",k),r(k)}catch(k){l(k instanceof Error?k.message:"Failed to load outlets"),console.error("Error loading outlets:",k)}finally{s(!1)}},C=async k=>{if(window.confirm("Are you sure you want to delete this outlet?"))try{(await Q.deleteOutlet(k)).success?await w():alert("Failed to delete outlet")}catch(M){alert("Error deleting outlet: "+(M instanceof Error?M.message:"Unknown error")),console.error("Error deleting outlet:",M)}},T=()=>{c(""),f(""),h(""),j(""),b("createdAt"),S("desc"),w()},P=k=>{switch(k){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-gray-100 text-gray-800";case"Maintenance":return"bg-yellow-100 text-yellow-800";case"Closed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=k=>{switch(k){case"Restaurant":return"bg-blue-100 text-blue-800";case"Cafe":return"bg-purple-100 text-purple-800";case"Food Court":return"bg-orange-100 text-orange-800";case"Drive-Thru":return"bg-green-100 text-green-800";case"Takeaway":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading outlets..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:w,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Outlet Master"}),n.jsx("p",{className:"text-gray-600",children:"Manage restaurant outlets and central kitchen operations"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:w,className:"btn-secondary flex items-center",title:"Refresh outlets",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/outlets/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Outlet"]})]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search outlets by name, code, city, or manager...",className:"input-field pl-10",value:o,onChange:k=>c(k.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:T,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsxs("select",{className:"input-field",value:u,onChange:k=>f(k.target.value),children:[n.jsx("option",{value:"",children:"All Types"}),n.jsx("option",{value:"Restaurant",children:"Restaurant"}),n.jsx("option",{value:"Cafe",children:"Cafe"}),n.jsx("option",{value:"Food Court",children:"Food Court"}),n.jsx("option",{value:"Drive-Thru",children:"Drive-Thru"}),n.jsx("option",{value:"Takeaway",children:"Takeaway"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:m,onChange:k=>h(k.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"}),n.jsx("option",{value:"Maintenance",children:"Maintenance"}),n.jsx("option",{value:"Closed",children:"Closed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Type"}),n.jsxs("select",{className:"input-field",value:v,onChange:k=>j(k.target.value),children:[n.jsx("option",{value:"",children:"All Kitchens"}),n.jsx("option",{value:"true",children:"Central Kitchen"}),n.jsx("option",{value:"false",children:"Regular Outlet"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:y,onChange:k=>b(k.target.value),children:[n.jsx("option",{value:"createdAt",children:"Date Created"}),n.jsx("option",{value:"outletName",children:"Outlet Name"}),n.jsx("option",{value:"outletCode",children:"Outlet Code"}),n.jsx("option",{value:"outletType",children:"Outlet Type"}),n.jsx("option",{value:"status",children:"Status"})]}),n.jsx("button",{onClick:()=>S(N==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${N==="asc"?"Descending":"Ascending"}`,children:N==="asc"?"↑":"↓"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",t.length," outlets",(o||u||m||v)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(o||u||m||v)&&n.jsx("button",{onClick:T,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Outlet Code"}),n.jsx("th",{className:"table-header",children:"Outlet Name"}),n.jsx("th",{className:"table-header",children:"Type"}),n.jsx("th",{className:"table-header",children:"Location"}),n.jsx("th",{className:"table-header",children:"Manager"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Kitchen Type"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(k=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:k.outletCode}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900 font-medium",children:k.outletName}),n.jsx("div",{className:"text-gray-500 text-sm max-w-xs truncate",children:k.description})]})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(k.outletType)}`,children:k.outletType})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(hu,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{children:[k.address.city,", ",k.address.state]})]})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900 font-medium",children:k.contactInfo.managerName}),n.jsx("div",{className:"text-gray-500 text-sm",children:k.contactInfo.phone})]})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P(k.status)}`,children:k.status})}),n.jsx("td",{className:"table-cell",children:k.isCentralKitchen?n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:"🏭 Central Kitchen"}):n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"🏪 Regular Outlet"})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>{d(k),g(!0)},className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(tn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/outlets/edit/${k.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Wr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>C(k.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},k.id))})]})})}),p&&x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Outlet Details"}),n.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code"}),n.jsx("p",{className:"text-gray-900 font-mono",children:x.outletCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name"}),n.jsx("p",{className:"text-gray-900",children:x.outletName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(x.outletType)}`,children:x.outletType})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P(x.status)}`,children:x.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Type"}),x.isCentralKitchen?n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:"🏭 Central Kitchen"}):n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"🏪 Regular Outlet"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("p",{className:"text-gray-900",children:x.timezone})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsxs("p",{className:"text-gray-900",children:[x.address.street,n.jsx("br",{}),x.address.city,", ",x.address.state," ",x.address.zipCode,n.jsx("br",{}),x.address.country]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone"}),n.jsx("p",{className:"text-gray-900",children:x.contactInfo.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email"}),n.jsx("p",{className:"text-gray-900",children:x.contactInfo.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name"}),n.jsx("p",{className:"text-gray-900",children:x.contactInfo.managerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),n.jsx("p",{className:"text-gray-900",children:x.contactInfo.managerPhone||"N/A"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx(yy,{className:"h-6 w-6 mx-auto text-blue-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Seating"}),n.jsx("p",{className:"text-lg font-semibold text-blue-600",children:x.capacity.seatingCapacity})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx(ar,{className:"h-6 w-6 mx-auto text-green-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Kitchen"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:x.capacity.kitchenCapacity})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx(hu,{className:"h-6 w-6 mx-auto text-purple-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Storage"}),n.jsx("p",{className:"text-lg font-semibold text-purple-600",children:x.capacity.storageCapacity})]})]})]}),x.features.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:x.features.map((k,M)=>n.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:k},M))})]}),x.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("p",{className:"text-gray-900",children:x.notes})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>g(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{g(!1),e(`/outlets/edit/${x.id}`)},className:"btn-primary",children:"Edit Outlet"})]})]})})]})},EZ=()=>{const e=ge(),[t,r]=O.useState({outletCode:"",outletName:"",outletType:"Restaurant",description:"",address:{street:"",city:"",state:"",zipCode:"",country:"Kuwait"},contactInfo:{phone:"",email:"",managerName:"",managerPhone:"",managerEmail:""},operatingHours:{monday:{open:"09:00",close:"22:00",isOpen:!0},tuesday:{open:"09:00",close:"22:00",isOpen:!0},wednesday:{open:"09:00",close:"22:00",isOpen:!0},thursday:{open:"09:00",close:"22:00",isOpen:!0},friday:{open:"09:00",close:"22:00",isOpen:!0},saturday:{open:"09:00",close:"22:00",isOpen:!0},sunday:{open:"09:00",close:"22:00",isOpen:!0}},capacity:{seatingCapacity:0,kitchenCapacity:0,storageCapacity:0,capacityUnit:"SQM"},status:"Active",isCentralKitchen:!1,features:[],timezone:"Asia/Kuwait",notes:""}),[a,s]=O.useState({}),[i,l]=O.useState(!1),o=["Restaurant","Cafe","Food Court","Drive-Thru","Takeaway"],c=["Active","Inactive","Maintenance","Closed"],u=["SQM","CBM","KG","TON"],f=["Delivery","Takeaway","Dine-in","Drive-thru","Online Ordering","Catering"],m=()=>{const y={};return t.outletCode.trim()||(y.outletCode="Outlet code is required"),t.outletName.trim()||(y.outletName="Outlet name is required"),t.address.street.trim()||(y.street="Street address is required"),t.address.city.trim()||(y.city="City is required"),t.contactInfo.phone.trim()||(y.phone="Phone number is required"),t.contactInfo.email.trim()||(y.email="Email is required"),t.contactInfo.managerName.trim()||(y.managerName="Manager name is required"),s(y),Object.keys(y).length===0},h=async y=>{if(y.preventDefault(),!!m()){l(!0);try{(await Q.createOutlet(t)).success?(alert("Outlet created successfully!"),e("/outlets")):alert("Failed to create outlet")}catch(b){alert("Error creating outlet: "+(b instanceof Error?b.message:"Unknown error")),console.error("Error creating outlet:",b)}finally{l(!1)}}},v=(y,b)=>{if(y.includes(".")){const[N,S]=y.split(".");r(x=>({...x,[N]:{...x[N]||{},[S]:b}}))}else r(N=>({...N,[y]:b}));a[y]&&s(N=>({...N,[y]:""}))},j=y=>{r(b=>({...b,features:b.features.includes(y)?b.features.filter(N=>N!==y):[...b.features,y]}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/outlets"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Back to Outlets"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Outlet"}),n.jsx("p",{className:"text-gray-600",children:"Create a new restaurant outlet or central kitchen"})]})]})}),n.jsxs("form",{onSubmit:h,className:"space-y-6",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code *"}),n.jsx("input",{type:"text",className:`input-field ${a.outletCode?"border-red-500":""}`,value:t.outletCode,onChange:y=>v("outletCode",y.target.value.toUpperCase()),placeholder:"OUTLET-001"}),a.outletCode&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.outletCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.outletName?"border-red-500":""}`,value:t.outletName,onChange:y=>v("outletName",y.target.value),placeholder:"Downtown Restaurant"}),a.outletName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.outletName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsx("select",{className:"input-field",value:t.outletType,onChange:y=>v("outletType",y.target.value),children:o.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:y=>v("status",y.target.value),children:c.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.description,onChange:y=>v("description",y.target.value),placeholder:"Brief description of the outlet..."})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isCentralKitchen",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.isCentralKitchen,onChange:y=>v("isCentralKitchen",y.target.checked)}),n.jsx("label",{htmlFor:"isCentralKitchen",className:"ml-2 block text-sm text-gray-900",children:"This is a Central Kitchen"})]})})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),n.jsx("input",{type:"text",className:`input-field ${a.street?"border-red-500":""}`,value:t.address.street,onChange:y=>v("address.street",y.target.value),placeholder:"123 Main Street"}),a.street&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.street})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${a.city?"border-red-500":""}`,value:t.address.city,onChange:y=>v("address.city",y.target.value),placeholder:"Kuwait City"}),a.city&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),n.jsx("input",{type:"text",className:"input-field",value:t.address.state,onChange:y=>v("address.state",y.target.value),placeholder:"Kuwait"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),n.jsx("input",{type:"text",className:"input-field",value:t.address.zipCode,onChange:y=>v("address.zipCode",y.target.value),placeholder:"12345"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),n.jsx("input",{type:"text",className:"input-field",value:t.address.country,onChange:y=>v("address.country",y.target.value),placeholder:"Kuwait"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${a.phone?"border-red-500":""}`,value:t.contactInfo.phone,onChange:y=>v("contactInfo.phone",y.target.value),placeholder:"+965 1234 5678"}),a.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.email?"border-red-500":""}`,value:t.contactInfo.email,onChange:y=>v("contactInfo.email",y.target.value),placeholder:"outlet@restaurant.com"}),a.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.managerName?"border-red-500":""}`,value:t.contactInfo.managerName,onChange:y=>v("contactInfo.managerName",y.target.value),placeholder:"John Smith"}),a.managerName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.managerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),n.jsx("input",{type:"tel",className:"input-field",value:t.contactInfo.managerPhone,onChange:y=>v("contactInfo.managerPhone",y.target.value),placeholder:"+965 9876 5432"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Email"}),n.jsx("input",{type:"email",className:"input-field",value:t.contactInfo.managerEmail,onChange:y=>v("contactInfo.managerEmail",y.target.value),placeholder:"manager@restaurant.com"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Capacity & Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:t.capacity.seatingCapacity,onChange:y=>v("capacity.seatingCapacity",parseInt(y.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:t.capacity.kitchenCapacity,onChange:y=>v("capacity.kitchenCapacity",parseInt(y.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:t.capacity.storageCapacity,onChange:y=>v("capacity.storageCapacity",parseInt(y.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity Unit"}),n.jsx("select",{className:"input-field",value:t.capacity.capacityUnit,onChange:y=>v("capacity.capacityUnit",y.target.value),children:u.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(y=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.features.includes(y),onChange:()=>j(y)}),n.jsx("span",{className:"ml-2 text-sm text-gray-900",children:y})]},y))})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:t.timezone,onChange:y=>v("timezone",y.target.value),placeholder:"Asia/Kuwait"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:y=>v("notes",y.target.value),placeholder:"Additional notes about the outlet..."})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>e("/outlets"),className:"btn-secondary",disabled:i,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Outlet"]})})]})]})]})},MZ=()=>{const e=ge(),{id:t}=oa(),[r,a]=O.useState({outletCode:"",outletName:"",outletType:"Restaurant",description:"",address:{street:"",city:"",state:"",zipCode:"",country:"Kuwait"},contactInfo:{phone:"",email:"",managerName:"",managerPhone:"",managerEmail:""},operatingHours:{monday:{open:"09:00",close:"22:00",isOpen:!0},tuesday:{open:"09:00",close:"22:00",isOpen:!0},wednesday:{open:"09:00",close:"22:00",isOpen:!0},thursday:{open:"09:00",close:"22:00",isOpen:!0},friday:{open:"09:00",close:"22:00",isOpen:!0},saturday:{open:"09:00",close:"22:00",isOpen:!0},sunday:{open:"09:00",close:"22:00",isOpen:!0}},capacity:{seatingCapacity:0,kitchenCapacity:0,storageCapacity:0,capacityUnit:"SQM"},status:"Active",isCentralKitchen:!1,features:[],timezone:"Asia/Kuwait",notes:""}),[s,i]=O.useState({}),[l,o]=O.useState(!1),[c,u]=O.useState(!0),f=["Restaurant","Cafe","Food Court","Drive-Thru","Takeaway"],m=["Active","Inactive","Maintenance","Closed"],h=["SQM","CBM","KG","TON"],v=["Delivery","Takeaway","Dine-in","Drive-thru","Online Ordering","Catering"];O.useEffect(()=>{t&&j()},[t]);const j=async()=>{try{u(!0);const x=await Q.getOutlet(t);x.success?a(x.data):(alert("Failed to load outlet"),e("/outlets"))}catch(x){alert("Error loading outlet: "+(x instanceof Error?x.message:"Unknown error")),e("/outlets")}finally{u(!1)}},y=()=>{const x={};return r.outletCode.trim()||(x.outletCode="Outlet code is required"),r.outletName.trim()||(x.outletName="Outlet name is required"),r.address.street.trim()||(x.street="Street address is required"),r.address.city.trim()||(x.city="City is required"),r.contactInfo.phone.trim()||(x.phone="Phone number is required"),r.contactInfo.email.trim()||(x.email="Email is required"),r.contactInfo.managerName.trim()||(x.managerName="Manager name is required"),i(x),Object.keys(x).length===0},b=async x=>{if(x.preventDefault(),!!y()){o(!0);try{(await Q.updateOutlet(t,r)).success?(alert("Outlet updated successfully!"),e("/outlets")):alert("Failed to update outlet")}catch(d){alert("Error updating outlet: "+(d instanceof Error?d.message:"Unknown error")),console.error("Error updating outlet:",d)}finally{o(!1)}}},N=(x,d)=>{if(x.includes(".")){const[p,g]=x.split(".");a(w=>({...w,[p]:{...w[p]||{},[g]:d}}))}else a(p=>({...p,[x]:d}));s[x]&&i(p=>({...p,[x]:""}))},S=x=>{a(d=>({...d,features:d.features.includes(x)?d.features.filter(p=>p!==x):[...d.features,x]}))};return c?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading outlet..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/outlets"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Back to Outlets"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Outlet"}),n.jsx("p",{className:"text-gray-600",children:"Update outlet information"})]})]})}),n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.outletCode?"border-red-500":""}`,value:r.outletCode,onChange:x=>N("outletCode",x.target.value.toUpperCase()),placeholder:"OUTLET-001"}),s.outletCode&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.outletCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.outletName?"border-red-500":""}`,value:r.outletName,onChange:x=>N("outletName",x.target.value),placeholder:"Downtown Restaurant"}),s.outletName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.outletName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsx("select",{className:"input-field",value:r.outletType,onChange:x=>N("outletType",x.target.value),children:f.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:x=>N("status",x.target.value),children:m.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.description,onChange:x=>N("description",x.target.value),placeholder:"Brief description of the outlet..."})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isCentralKitchen",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:r.isCentralKitchen,onChange:x=>N("isCentralKitchen",x.target.checked)}),n.jsx("label",{htmlFor:"isCentralKitchen",className:"ml-2 block text-sm text-gray-900",children:"This is a Central Kitchen"})]})})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),n.jsx("input",{type:"text",className:`input-field ${s.street?"border-red-500":""}`,value:r.address.street,onChange:x=>N("address.street",x.target.value),placeholder:"123 Main Street"}),s.street&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.street})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${s.city?"border-red-500":""}`,value:r.address.city,onChange:x=>N("address.city",x.target.value),placeholder:"Kuwait City"}),s.city&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),n.jsx("input",{type:"text",className:"input-field",value:r.address.state,onChange:x=>N("address.state",x.target.value),placeholder:"Kuwait"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),n.jsx("input",{type:"text",className:"input-field",value:r.address.zipCode,onChange:x=>N("address.zipCode",x.target.value),placeholder:"12345"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),n.jsx("input",{type:"text",className:"input-field",value:r.address.country,onChange:x=>N("address.country",x.target.value),placeholder:"Kuwait"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${s.phone?"border-red-500":""}`,value:r.contactInfo.phone,onChange:x=>N("contactInfo.phone",x.target.value),placeholder:"+965 1234 5678"}),s.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.email?"border-red-500":""}`,value:r.contactInfo.email,onChange:x=>N("contactInfo.email",x.target.value),placeholder:"outlet@restaurant.com"}),s.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.managerName?"border-red-500":""}`,value:r.contactInfo.managerName,onChange:x=>N("contactInfo.managerName",x.target.value),placeholder:"John Smith"}),s.managerName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.managerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),n.jsx("input",{type:"tel",className:"input-field",value:r.contactInfo.managerPhone,onChange:x=>N("contactInfo.managerPhone",x.target.value),placeholder:"+965 9876 5432"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Email"}),n.jsx("input",{type:"email",className:"input-field",value:r.contactInfo.managerEmail,onChange:x=>N("contactInfo.managerEmail",x.target.value),placeholder:"manager@restaurant.com"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Capacity & Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:r.capacity.seatingCapacity,onChange:x=>N("capacity.seatingCapacity",parseInt(x.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:r.capacity.kitchenCapacity,onChange:x=>N("capacity.kitchenCapacity",parseInt(x.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:r.capacity.storageCapacity,onChange:x=>N("capacity.storageCapacity",parseInt(x.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity Unit"}),n.jsx("select",{className:"input-field",value:r.capacity.capacityUnit,onChange:x=>N("capacity.capacityUnit",x.target.value),children:h.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(x=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:r.features.includes(x),onChange:()=>S(x)}),n.jsx("span",{className:"ml-2 text-sm text-gray-900",children:x})]},x))})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:r.timezone,onChange:x=>N("timezone",x.target.value),placeholder:"Asia/Kuwait"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:x=>N("notes",x.target.value),placeholder:"Additional notes about the outlet..."})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>e("/outlets"),className:"btn-secondary",disabled:l,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Update Outlet"]})})]})]})]})},IZ=()=>{const e=ge(),[t,r]=O.useState(null),[a,s]=O.useState(!0),[i,l]=O.useState(null),{notifications:o,markAsRead:c,markAllAsRead:u,clearAll:f}=pa("Central Kitchen");O.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0),l(null);const h=await Q.getCentralKitchens();if(h.success&&h.data.length>0){const v=h.data[0];r(v)}else l("Central Kitchen not found")}catch(h){l(h instanceof Error?h.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",h)}finally{s(!1)}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Central Kitchen..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:m,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(ar,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Central Kitchen"}),n.jsxs("p",{className:"text-gray-600",children:["Main production facility - ",t==null?void 0:t.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:m,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsx(ha,{notifications:o,onMarkAsRead:c,onMarkAllAsRead:u,onClearAll:f})]})]}),n.jsx("div",{className:"card p-6 bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(ar,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t==null?void 0:t.outletName}),n.jsx("p",{className:"text-gray-600",children:"Central Kitchen Operations"}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(yy,{className:"h-4 w-4 mr-1"}),"Production Facility"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx($d,{className:"h-4 w-4 mr-1"}),"24/7 Operations"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Ot,{className:"h-4 w-4 mr-1"}),"Distribution Hub"]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t==null?void 0:t.outletCode}),n.jsx("div",{className:"text-sm text-gray-500",children:"Central Kitchen"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Material Inventory"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(ja,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Good Inventory"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/make-finished-good"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(pu,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Make Finished Good"}),n.jsx("p",{className:"text-gray-600",children:"Create finished goods from raw materials"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/create-transfer"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(Ot,{className:"h-8 w-8 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Transfer"}),n.jsx("p",{className:"text-gray-600",children:"Transfer inventory to outlets"})]})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("button",{onClick:()=>e("/central-kitchen/add-item"),className:"btn-primary flex items-center justify-center",children:[n.jsx(xe,{className:"h-4 w-4 mr-2"}),"Add Inventory Item"]}),n.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center justify-center",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"View All Transfers"]}),n.jsxs("button",{onClick:()=>e("/sales-orders"),className:"btn-secondary flex items-center justify-center",children:[n.jsx(ar,{className:"h-4 w-4 mr-2"}),"View Sales Orders"]})]})]})]})},wk=()=>{const[e,t]=O.useState({isOpen:!1,title:"",message:"",type:"info",confirmText:"OK",cancelText:"Cancel",showCancel:!1}),r=O.useCallback(async(u,f,m="info")=>new Promise(h=>{t({isOpen:!0,title:u,message:f,type:m,confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(v=>({...v,isOpen:!1})),h(void 0)}})}),[]),a=O.useCallback(async(u,f,m="warning")=>new Promise(h=>{t({isOpen:!0,title:u,message:f,type:m,confirmText:"Confirm",cancelText:"Cancel",showCancel:!0,onConfirm:()=>{t(v=>({...v,isOpen:!1})),h(!0)},onCancel:()=>{t(v=>({...v,isOpen:!1})),h(!1)}})}),[]),s=O.useCallback(async u=>new Promise(f=>{t({isOpen:!0,title:"Confirm Delete",message:`Are you sure you want to delete "${u}"? This action cannot be undone.`,type:"error",confirmText:"Delete",cancelText:"Cancel",showCancel:!0,onConfirm:()=>{t(m=>({...m,isOpen:!1})),f(!0)},onCancel:()=>{t(m=>({...m,isOpen:!1})),f(!1)}})}),[]),i=O.useCallback(async(u,f)=>new Promise(m=>{t({isOpen:!0,title:u,message:f,type:"success",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(h=>({...h,isOpen:!1})),m(void 0)}})}),[]),l=O.useCallback(async(u,f)=>new Promise(m=>{t({isOpen:!0,title:u,message:f,type:"error",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(h=>({...h,isOpen:!1})),m(void 0)}})}),[]),o=O.useCallback(async(u,f)=>new Promise(m=>{t({isOpen:!0,title:u,message:f,type:"warning",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(h=>({...h,isOpen:!1})),m(void 0)}})}),[]),c=O.useCallback(()=>{t(u=>({...u,isOpen:!1}))},[]);return{confirmation:e,showAlert:r,showConfirm:a,showDeleteConfirm:s,showSuccess:i,showError:l,showWarning:o,closeConfirmation:c}},Sk=({isOpen:e,onClose:t,onConfirm:r,onCancel:a,title:s,message:i,type:l="info",confirmText:o="OK",cancelText:c="Cancel",showCancel:u=!1})=>{if(!e)return null;const f=()=>{switch(l){case"success":return n.jsx(VS,{className:"h-6 w-6 text-green-600"});case"warning":return n.jsx(Zr,{className:"h-6 w-6 text-yellow-600"});case"error":return n.jsx(zS,{className:"h-6 w-6 text-red-600"});default:return n.jsx(GS,{className:"h-6 w-6 text-blue-600"})}},m=()=>{switch(l){case"success":return"bg-green-600 hover:bg-green-700 text-white";case"warning":return"bg-yellow-600 hover:bg-yellow-700 text-white";case"error":return"bg-red-600 hover:bg-red-700 text-white";default:return"bg-blue-600 hover:bg-blue-700 text-white"}},h=()=>{r&&r(),t()},v=()=>{a&&a(),t()};return n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[n.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),n.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[n.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:n.jsxs("div",{className:"sm:flex sm:items-start",children:[n.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-gray-100 sm:mx-0 sm:h-10 sm:w-10",children:f()}),n.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:s}),n.jsx("div",{className:"mt-2",children:n.jsx("p",{className:"text-sm text-gray-500 whitespace-pre-line",children:i})})]})]})}),n.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[u&&n.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:v,children:c}),n.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm ${m()}`,onClick:h,children:o})]})]})]})})},Ck=({isOpen:e,onClose:t,transferOrder:r,onAccept:a,onReject:s,loading:i=!1})=>{if(!e||!r)return null;const l=u=>{switch(u){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},o=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=u=>new Intl.NumberFormat("en-KW",{style:"currency",currency:"KWD"}).format(u);return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Ot,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Transfer Order Details"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",r.transferNumber]})]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:i,children:n.jsx(Oe,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)]",children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(ar,{className:"h-5 w-5 text-blue-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"From Outlet"})]}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Outlet:"}),n.jsx("span",{className:"ml-2 text-gray-900",children:r.fromOutlet.name})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(gD,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Transfer Date"})]}),n.jsx("p",{className:"text-gray-900",children:o(r.transferDate)})]}),n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(zS,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Priority"})]}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${l(r.priority)}`,children:r.priority})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Ao,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Requested By"})]}),n.jsx("p",{className:"text-gray-900",children:r.requestedBy}),n.jsx("p",{className:"text-xs text-gray-500",children:o(r.requestedAt||r.transferDate)})]})}),n.jsxs("div",{className:"card p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transfer Items"}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map((u,f)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u.itemCode}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:u.itemName}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.itemType==="Raw Material"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:u.itemType==="Raw Material"?"Raw Material":"Finished Goods"})}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:[u.category||"-",u.subCategory&&n.jsx("div",{className:"text-xs text-gray-400",children:u.subCategory})]}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:[u.quantity," ",u.unitOfMeasure]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:c(u.unitPrice)}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c(u.totalPrice||u.totalValue||0)})]},f))})]}),n.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Amount:"}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:c(r.totalAmount||r.totalValue||0)})]})})]})]})]})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Review the transfer order details before making a decision"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",disabled:i,children:"Close"}),n.jsx("button",{onClick:()=>{const u=r._id||r.id||"";console.log("TransferOrderModal: Reject button clicked"),console.log("TransferOrderModal: transferOrder._id =",r._id),console.log("TransferOrderModal: transferOrder.id =",r.id),console.log("TransferOrderModal: Using transferOrderId =",u),s(u)},className:"px-4 py-2 text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors disabled:opacity-50",disabled:i,children:i?"Processing...":"Reject Order"}),n.jsx("button",{onClick:()=>{const u=r._id||r.id||"";console.log("TransferOrderModal: Accept button clicked"),console.log("TransferOrderModal: transferOrder._id =",r._id),console.log("TransferOrderModal: transferOrder.id =",r.id),console.log("TransferOrderModal: Using transferOrderId =",u),a(u)},className:"px-4 py-2 text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors disabled:opacity-50",disabled:i,children:i?"Processing...":"Accept Order"})]})]})]})})},$Z=()=>{const e=O.useRef(null),{confirmation:t,showAlert:r,closeConfirmation:a}=wk(),[s,i]=O.useState(null),[l,o]=O.useState([]),[c,u]=O.useState(!0),[f,m]=O.useState(null),[h,v]=O.useState(""),[j,y]=O.useState(""),[b,N]=O.useState(""),[S,x]=O.useState("materialName"),[d,p]=O.useState("asc"),[g,w]=O.useState(null),[C,T]=O.useState(!1),[P,D]=O.useState({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""}),[k,M]=O.useState(!1),[F,R]=O.useState(null),[E,B]=O.useState(!1),[A,I]=O.useState(!1),{notifications:$,markAsRead:L,markAllAsRead:_,clearAll:G,refreshNotifications:ee}=pa("Central Kitchen"),ue=$.filter(K=>{var se,pe,We,ve;return K.isTransferOrder&&(K.itemType==="Raw Material"||K.itemType==="Mixed")&&(((se=K.title)==null?void 0:se.includes("Transfer Request from Kuwait City"))||((pe=K.title)==null?void 0:pe.includes("Transfer Request from 360 Mall"))||((We=K.title)==null?void 0:We.includes("Transfer Request from Vibe Complex"))||((ve=K.title)==null?void 0:ve.includes("Transfer Request from Taiba Hospital")))});O.useEffect(()=>{X()},[]),O.useEffect(()=>{c||ae()},[h,j,b,S,d]);const X=async()=>{try{u(!0),m(null);const K=await Q.getCentralKitchens();if(K.success&&K.data.length>0){const se=K.data[0];i({id:se._id,outletCode:se.kitchenCode,outletName:se.kitchenName,outletType:"Central Kitchen",isCentralKitchen:!0}),await ae()}else m("Central Kitchen not found")}catch(K){m(K instanceof Error?K.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",K)}finally{u(!1)}},ae=async()=>{try{console.log("Loading raw materials from Central Kitchen dedicated database");const K=await Q.getCentralKitchenRawMaterials({limit:1e3,search:h,subCategory:j,status:b,sortBy:S==="materialName"?"materialName":S,sortOrder:d});if(K.success)if(console.log("Loaded Central Kitchen Raw Materials:",K.data),K.data&&K.data.length>0){const se=K.data.map(pe=>({id:pe._id||pe.id,outletId:"central-kitchen",outletCode:"CK001",outletName:"Central Kitchen",materialId:pe._id,materialCode:pe.materialCode,materialName:pe.materialName,category:pe.subCategory,unitOfMeasure:pe.unitOfMeasure,unitPrice:pe.unitPrice,currentStock:pe.currentStock,reservedStock:0,availableStock:pe.currentStock,minimumStock:pe.minimumStock,maximumStock:pe.maximumStock,reorderPoint:pe.reorderPoint,totalValue:pe.currentStock*pe.unitPrice,location:"Main Storage",batchNumber:"",supplier:"",lastUpdated:pe.lastStockUpdate||pe.updatedAt,status:pe.status,notes:pe.notes||"",isActive:!0}));o(se)}else console.log("No raw materials inventory found for this central kitchen"),o([]);else console.error("Failed to load raw materials inventory:",K.error||"API Error"),m(`Failed to load inventory from server: ${K.error||"Unknown error"}`)}catch(K){m(K instanceof Error?K.message:"Failed to load inventory"),console.error("Error loading inventory:",K)}},Ne=()=>{v(""),y(""),N(""),x("materialName"),p("asc")},W=K=>{w(K),D({currentStock:K.currentStock.toString(),minimumStock:K.minimumStock.toString(),maximumStock:K.maximumStock.toString(),reorderPoint:K.reorderPoint.toString(),unitPrice:K.unitPrice.toString(),notes:K.notes||""}),T(!0)},ie=async()=>{if(g)try{u(!0);const K={currentStock:parseFloat(P.currentStock)||0,minimumStock:parseFloat(P.minimumStock)||0,maximumStock:parseFloat(P.maximumStock)||0,reorderPoint:parseFloat(P.reorderPoint)||0,unitPrice:parseFloat(P.unitPrice)||0,notes:P.notes,updatedBy:"user"},se=await Q.updateCentralKitchenRawMaterial(g.id,K);if(se.success)alert("Raw material updated successfully!"),T(!1),w(null),await ae();else throw new Error(se.message||"Failed to update raw material")}catch(K){console.error("Error updating raw material:",K),alert(`Failed to update raw material: ${K instanceof Error?K.message:"Unknown error"}`)}finally{u(!1)}},de=()=>{T(!1),w(null),D({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""})},H=()=>{var K;(K=e.current)==null||K.click()},ye=async K=>{var pe;const se=(pe=K.target.files)==null?void 0:pe[0];if(se){if(!se.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const ve=(await se.text()).split(`
`).filter(nn=>nn.trim());if(ve.length<2){alert("CSV file must contain at least a header row and one data row");return}const ht=ve.slice(1);let Xt=0,Wt=0;for(const nn of ht)try{const dr=nn.split(",").map(xa=>xa.replace(/"/g,"").trim()),pt={materialCode:dr[0],materialName:dr[1],category:dr[3],unitOfMeasure:dr[4],unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplier:"",notes:""},Sm={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(s==null?void 0:s.id)||"central-kitchen-001",outletCode:(s==null?void 0:s.outletCode)||"",outletName:(s==null?void 0:s.outletName)||"",materialId:pt.materialCode,materialCode:pt.materialCode,materialName:pt.materialName,category:pt.category,unitOfMeasure:pt.unitOfMeasure,unitPrice:pt.unitPrice,currentStock:pt.currentStock,reservedStock:0,availableStock:pt.currentStock,minimumStock:pt.minimumStock,maximumStock:pt.maximumStock,reorderPoint:Math.ceil(pt.minimumStock*1.5),totalValue:pt.currentStock*pt.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:pt.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:pt.notes,isActive:!0};o(xa=>[...xa,Sm]),Xt++}catch{Wt++}alert(`Import completed!

Successfully imported: ${Xt} items
Errors: ${Wt}`)}catch(We){alert("Error importing file: "+(We instanceof Error?We.message:"Unknown error"))}finally{e.current&&(e.current.value="")}}},me=async K=>{try{const se=await Q.getTransferOrderById(K);if(se.success)return se.data;throw new Error(se.error||"Failed to fetch transfer order")}catch(se){throw console.error("Error fetching transfer order:",se),se}},z=async K=>{try{console.log("handleViewTransferOrder called with transferOrderId:",K),B(!0);const se=await me(K);R(se),M(!0)}catch(se){console.error("Error loading transfer order:",se),alert("Failed to load transfer order details")}finally{B(!1)}},re=async K=>{var se,pe,We;try{B(!0),console.log("Starting acceptance process for transfer order:",K),console.log("Fetching transfer order details...");const ve=await me(K);console.log("Transfer order details:",ve),console.log("Updating transfer order inventory...");let ht,Xt;try{Xt=await Q.updateTransferOrderInventory(K,"approve"),console.log("Inventory update response:",Xt)}catch(Wt){throw console.error("Inventory update failed:",Wt),new Error(`Inventory update failed: ${Wt instanceof Error?Wt.message:"Unknown error"}`)}try{ht=await Q.updateTransferOrderStatus(K,{status:"Approved",approvedBy:"Central Kitchen Manager",notes:"Transfer order approved by Central Kitchen"}),console.log("Status update response:",ht)}catch(Wt){throw console.error("Status update failed:",Wt),new Error(`Status update failed: ${Wt instanceof Error?Wt.message:"Unknown error"}`)}if(ht.success&&Xt.success){const Wt=((se=ve.items[0])==null?void 0:se.itemType)||"Mixed",nn=ve.items.map(xa=>`${xa.itemName} (${xa.quantity} ${xa.unitOfMeasure||"pcs"})`).join(", "),dr=typeof ve.fromOutlet=="string"?ve.fromOutlet:((pe=ve.fromOutlet)==null?void 0:pe.outletName)||((We=ve.fromOutlet)==null?void 0:We.name)||"Unknown Outlet";if(console.log("🔍 Transfer Order Details:",{transferOrderId:K,fromOutlet:ve.fromOutlet,fromOutletType:typeof ve.fromOutlet,fromOutletString:JSON.stringify(ve.fromOutlet),toOutlet:ve.toOutlet,targetOutlet:dr,targetOutletType:typeof dr,fullTransferOrder:ve}),console.log(`Creating acceptance notification for ${dr}...`),!dr){console.error("❌ ERROR: targetOutlet is undefined! Transfer order fromOutlet:",ve.fromOutlet),alert("Error: Cannot determine target outlet for notification");return}const pt={title:"Transfer Order Accepted",message:`Transfer order #${ve.transferNumber} has been accepted. Items transferred: ${nn}`,type:"transfer_acceptance",targetOutlet:dr,sourceOutlet:"Central Kitchen",transferOrderId:K,itemType:Wt,priority:"normal"};console.log("🔔 Creating notification with data:",pt);const Sm=await Q.createNotification(pt);console.log("🔔 Notification response:",Sm),alert(`Transfer order accepted and notification sent to ${dr}`),M(!1),R(null),L(K)}else throw new Error(`Failed to update transfer order status. Status: ${ht.success}, Inventory: ${Xt.success}`)}catch(ve){console.error("Error accepting transfer order:",ve),console.error("Error details:",ve instanceof Error?ve.message:"Unknown error"),alert(`Failed to accept transfer order: ${ve instanceof Error?ve.message:"Unknown error"}`)}finally{B(!1)}},Z=async K=>{var se;try{B(!0),console.log("Starting rejection process for transfer order:",K),console.log("Fetching transfer order details...");const pe=await me(K);console.log("Transfer order details:",pe),console.log("Updating transfer order inventory...");let We,ve;try{ve=await Q.updateTransferOrderInventory(K,"reject"),console.log("Inventory update response:",ve)}catch(ht){throw console.error("Inventory update failed:",ht),new Error(`Inventory update failed: ${ht instanceof Error?ht.message:"Unknown error"}`)}try{We=await Q.updateTransferOrderStatus(K,{status:"Rejected",approvedBy:"Central Kitchen Manager",notes:"Transfer order rejected by Central Kitchen"}),console.log("Status update response:",We)}catch(ht){throw console.error("Status update failed:",ht),new Error(`Status update failed: ${ht instanceof Error?ht.message:"Unknown error"}`)}if(We.success&&ve.success){const ht=((se=pe.items[0])==null?void 0:se.itemType)||"Mixed",Xt=pe.items.map(nn=>`${nn.itemName} (${nn.quantity} ${nn.unitOfMeasure||"pcs"})`).join(", ");console.log("Creating notification for Kuwait City...");const Wt=await Q.createNotification({title:"Transfer Order Rejected",message:`Transfer order #${pe.transferNumber} has been rejected. Requested items: ${Xt}`,type:"transfer_rejection",targetOutlet:"Kuwait City",sourceOutlet:"Central Kitchen",transferOrderId:K,itemType:ht,priority:"normal"});console.log("Notification response:",Wt),alert("Transfer order rejected and notification sent to Kuwait City"),M(!1),R(null),L(K)}else throw new Error(`Failed to update transfer order status. Status: ${We.success}, Inventory: ${ve.success}`)}catch(pe){console.error("Error rejecting transfer order:",pe),console.error("Error details:",pe instanceof Error?pe.message:"Unknown error"),alert(`Failed to reject transfer order: ${pe instanceof Error?pe.message:"Unknown error"}`)}finally{B(!1)}},U=async()=>{I(!0);try{console.log("🔄 Starting Zoho sync...");const K=await Q.syncWithZoho();K.success?(r("Sync Completed Successfully!",`📊 Sync Results:
• Total items processed: ${K.data.totalItems}
• New items added: ${K.data.addedItems}
• Items updated: ${K.data.updatedItems}
• Errors: ${K.data.errorItems}

🕒 Sync completed at: ${new Date(K.data.syncTimestamp).toLocaleString()}`,"success"),await X()):r("Sync Failed",K.message||"Unknown error occurred during sync","error")}catch(K){console.error("❌ Zoho sync failed:",K),r("Sync Failed",`Failed to sync with Zoho: ${K instanceof Error?K.message:"Unknown error"}`,"error")}finally{I(!1)}},J=l.length,be=l.reduce((K,se)=>K+se.totalValue,0),te=l.filter(K=>K.status==="Low Stock").length,Ee=l.filter(K=>K.status==="Out of Stock").length,bt=[...new Set(l.map(K=>K.category))];return c?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Raw Materials..."})]})}):f?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:f}),n.jsx("button",{onClick:X,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Raw Material Inventory"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",s==null?void 0:s.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:U,disabled:A,className:`flex items-center ${A?"btn-disabled":"btn-primary"}`,title:"Sync inventory with Zoho",children:[n.jsx(Z0,{className:`h-4 w-4 mr-2 ${A?"animate-spin":""}`}),A?"Syncing...":"Sync Inventory"]}),n.jsxs("button",{onClick:X,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsx(ha,{notifications:ue,onMarkAsRead:L,onMarkAllAsRead:_,onClearAll:G,onViewTransferOrder:z,onRefresh:ee})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:J})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[be.toFixed(2)," KWD"]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Zr,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:te})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(xy,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Ee})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search raw materials by name, code, or supplier...",className:"input-field pl-10",value:h,onChange:K=>v(K.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:Ne,className:"btn-secondary flex items-center",title:"Clear all filters",children:"Clear Filters"}),n.jsxs("button",{onClick:H,className:"btn-secondary flex items-center",title:"Import inventory from CSV",children:[n.jsx(pi,{className:"h-4 w-4 mr-2"}),"Import"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"input-field",value:j,onChange:K=>y(K.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),bt.map(K=>n.jsx("option",{value:K,children:K},K))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:b,onChange:K=>N(K.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"In Stock",children:"In Stock"}),n.jsx("option",{value:"Low Stock",children:"Low Stock"}),n.jsx("option",{value:"Out of Stock",children:"Out of Stock"}),n.jsx("option",{value:"Overstock",children:"Overstock"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:S,onChange:K=>x(K.target.value),children:[n.jsx("option",{value:"materialName",children:"Material Name"}),n.jsx("option",{value:"currentStock",children:"Current Stock"}),n.jsx("option",{value:"totalValue",children:"Total Value"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"lastUpdated",children:"Last Updated"})]}),n.jsx("button",{onClick:()=>p(d==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${d==="asc"?"Descending":"Ascending"}`,children:d==="asc"?"↑":"↓"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",l.length," raw material items",(h||j||b)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(h||j||b)&&n.jsx("button",{onClick:Ne,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),n.jsxs("div",{className:"card overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials Inventory"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Complete inventory list with all fields"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-green-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-12 text-center",children:n.jsxs("div",{className:"text-gray-500",children:[n.jsx(xe,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"No raw materials found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:'Click "Sync Inventory" to import items from Zoho Inventory'}),n.jsxs("button",{onClick:U,disabled:A,className:`inline-flex items-center px-4 py-2 rounded-md text-sm font-medium ${A?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[n.jsx(Z0,{className:`h-4 w-4 mr-2 ${A?"animate-spin":""}`}),A?"Syncing...":"Sync Inventory"]})]})})}):l.map(K=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:K.materialCode}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:K.materialName}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:K.category}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:K.unitOfMeasure}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:["KWD ",K.unitPrice?Number(K.unitPrice).toFixed(3):"0.000"]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:K.currentStock}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{onClick:()=>W(K),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:"Edit"})})]},K.id))})]})})]}),n.jsx("input",{ref:e,type:"file",accept:".csv",onChange:ye,style:{display:"none"}}),C&&g&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Edit Raw Material: ",g.materialName]}),n.jsx("button",{onClick:de,className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Stock (",g.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:P.currentStock,onChange:K=>D(se=>({...se,currentStock:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Minimum Stock (",g.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:P.minimumStock,onChange:K=>D(se=>({...se,minimumStock:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Maximum Stock (",g.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:P.maximumStock,onChange:K=>D(se=>({...se,maximumStock:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reorder Point (",g.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:P.reorderPoint,onChange:K=>D(se=>({...se,reorderPoint:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",value:P.unitPrice,onChange:K=>D(se=>({...se,unitPrice:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:P.notes,onChange:K=>D(se=>({...se,notes:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Optional notes..."})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:de,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),n.jsx("button",{onClick:ie,disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:c?"Saving...":"Save Changes"})]})]})}),n.jsx(Sk,{isOpen:t.isOpen,onClose:a,onConfirm:t.onConfirm,onCancel:t.onCancel,title:t.title,message:t.message,type:t.type,confirmText:t.confirmText,cancelText:t.cancelText,showCancel:t.showCancel}),n.jsx(Ck,{isOpen:k,onClose:()=>{M(!1),R(null)},transferOrder:F,onAccept:re,onReject:Z,loading:E})]})},_Z=()=>{const e=ge(),t=O.useRef(null),{confirmation:r,showAlert:a,closeConfirmation:s}=wk(),[i,l]=O.useState(null),[o,c]=O.useState([]),[u,f]=O.useState(!0),[m,h]=O.useState(null),[v,j]=O.useState(""),[y,b]=O.useState(""),[N,S]=O.useState(""),[x,d]=O.useState("productName"),[p,g]=O.useState("asc"),[w,C]=O.useState(!1),[T,P]=O.useState(null),[D,k]=O.useState(!1),{notifications:M,markAsRead:F,markAllAsRead:R,clearAll:E,refreshNotifications:B}=pa("Central Kitchen"),A=M.filter(z=>{var re,Z,U,J;return z.isTransferOrder&&(z.itemType==="Finished Goods"||z.itemType==="Mixed")&&(((re=z.title)==null?void 0:re.includes("Transfer Request from Kuwait City"))||((Z=z.title)==null?void 0:Z.includes("Transfer Request from 360 Mall"))||((U=z.title)==null?void 0:U.includes("Transfer Request from Vibe Complex"))||((J=z.title)==null?void 0:J.includes("Transfer Request from Taiba Hospital")))});O.useEffect(()=>{I(),$()},[]),O.useEffect(()=>{u||$()},[u,v,y,N,x,p]);const I=async()=>{try{f(!0),h(null);const z=await Q.getCentralKitchens();if(z.success&&z.data.length>0){const re=z.data[0];l({id:re._id,outletCode:re.outletCode||re.kitchenCode,outletName:re.outletName||re.kitchenName,outletType:"Central Kitchen",isCentralKitchen:!0})}else h("Central Kitchen not found")}catch(z){h(z instanceof Error?z.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",z)}finally{f(!1)}},$=async()=>{try{console.log("Loading finished goods from Central Kitchen dedicated database");const z=await Q.getCentralKitchenFinishedProducts({limit:1e3,search:v,subCategory:y,status:N,sortBy:x==="productName"?"productName":x,sortOrder:p});if(z.success)if(console.log("Loaded Central Kitchen Finished Goods:",z.data),z.data&&z.data.length>0){const re=z.data.map(Z=>({id:Z._id||Z.id,outletId:"central-kitchen",outletCode:"CK001",outletName:"Central Kitchen",productId:Z._id,productCode:Z.productCode,productName:Z.productName,category:Z.category,subCategory:Z.subCategory,unitOfMeasure:Z.unitOfMeasure,unitPrice:Z.unitPrice,costPrice:Z.costPrice,currentStock:Z.currentStock,availableStock:Z.currentStock,minimumStock:Z.minimumStock,maximumStock:Z.maximumStock,totalValue:Z.currentStock*Z.unitPrice,productionDate:new Date().toISOString(),expiryDate:Z.shelfLife?new Date(Date.now()+Z.shelfLife*24*60*60*1e3).toISOString():new Date(Date.now()+6048e5).toISOString(),qualityStatus:"Good",batchNumber:`FG-${Z.productCode}-${Date.now()}`,location:"Main Storage",status:Z.status,notes:Z.notes||"",isActive:Z.isActive,reservedStock:Z.reservedStock||0,reorderPoint:Z.reorderPoint||Z.minimumStock||0,storageLocation:Z.storageLocation||"Default Location",storageTemperature:Z.storageTemperature||"Room Temperature",lastStockCount:Z.lastStockCount||new Date().toISOString(),shelfLife:Z.shelfLife||0,qualityNotes:Z.qualityNotes||"",transferSource:Z.transferSource||"Central Kitchen",lastUpdated:Z.lastUpdated||new Date().toISOString()}));c(re)}else console.log("No finished goods inventory found for this central kitchen"),c([]),h("No finished goods inventory found. Please add some finished goods to the central kitchen.");else console.error("Failed to load finished goods inventory:",z.error||"API Error"),h(`Failed to load inventory from server: ${z.error||"Unknown error"}`)}catch(z){h(z instanceof Error?z.message:"Failed to load inventory"),console.error("Error loading inventory:",z)}},L=()=>{j(""),b(""),S(""),d("productName"),g("asc")},_=()=>{var z;(z=t.current)==null||z.click()},G=async z=>{var Z;const re=(Z=z.target.files)==null?void 0:Z[0];if(re){if(!re.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const J=(await re.text()).split(`
`).filter(bt=>bt.trim());if(J.length<2){alert("CSV file must contain at least a header row and one data row");return}const be=J.slice(1);let te=0,Ee=0;for(const bt of be)try{const K=bt.split(",").map(We=>We.replace(/"/g,"").trim()),se={productCode:K[0],productName:K[1],category:K[2],unitOfMeasure:K[3],unitPrice:parseFloat(K[4])||0,costPrice:parseFloat(K[5])||0,currentStock:parseInt(K[6])||0,minimumStock:parseInt(K[8])||0,maximumStock:parseInt(K[9])||0,productionDate:K[12]||new Date().toISOString().split("T")[0],expiryDate:K[13]||new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],batchNumber:K[14]||`BATCH-${Date.now()}`,storageLocation:K[15]||"Cold Storage",storageTemperature:K[16]||"4°C",qualityStatus:K[17]||"Good",notes:K[19]||""},pe={id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(i==null?void 0:i.id)||"central-kitchen-001",outletCode:(i==null?void 0:i.outletCode)||"",outletName:(i==null?void 0:i.outletName)||"",productId:se.productCode,productCode:se.productCode,productName:se.productName,category:se.category,unitOfMeasure:se.unitOfMeasure,unitPrice:se.unitPrice,costPrice:se.costPrice,currentStock:se.currentStock,reservedStock:0,availableStock:se.currentStock,minimumStock:se.minimumStock,maximumStock:se.maximumStock,reorderPoint:Math.ceil(se.minimumStock*1.5),totalValue:se.currentStock*se.unitPrice,productionDate:se.productionDate,expiryDate:se.expiryDate,batchNumber:se.batchNumber,storageLocation:se.storageLocation,storageTemperature:se.storageTemperature,qualityStatus:se.qualityStatus,qualityNotes:"Imported from CSV",status:"In Stock",transferSource:"Import",lastUpdated:new Date().toISOString(),notes:se.notes,isActive:!0};c(We=>[...We,pe]),te++}catch{Ee++}alert(`Import completed!

Successfully imported: ${te} items
Errors: ${Ee}`)}catch(U){alert("Error importing file: "+(U instanceof Error?U.message:"Unknown error"))}finally{t.current&&(t.current.value="")}}},ee=async()=>{const z=o.filter(Z=>Z.status==="Low Stock"||Z.status==="Out of Stock");if(z.length===0){await a("All Items In Stock","No finished goods need to be produced at this time. All items are in stock.","info");return}const re=`Requested Finished Goods Notification:

Total items needing production: ${z.length}

Items to produce:
`+z.map(Z=>`• ${Z.productName} (${Z.productCode}) - Current Stock: ${Z.currentStock} ${Z.unitOfMeasure}`).join(`
`)+`

Please schedule production for these finished goods.`;await a("Requested Finished Goods Notification",re,"warning"),console.log("Requested finished goods notification generated:",z)},ue=async z=>{try{const re=await Q.getTransferOrderById(z);if(re.success)return re.data;throw new Error(re.error||"Failed to fetch transfer order")}catch(re){throw console.error("Error fetching transfer order:",re),re}},X=async z=>{try{console.log("handleViewTransferOrder called with transferOrderId:",z),k(!0);const re=await ue(z);P(re),C(!0)}catch(re){console.error("Error loading transfer order:",re),alert("Failed to load transfer order details")}finally{k(!1)}},ae=async z=>{var re,Z,U;try{k(!0),console.log("Starting acceptance process for transfer order:",z),console.log("Fetching transfer order details...");const J=await ue(z);console.log("Transfer order details:",J),console.log("Updating transfer order inventory...");let be,te;try{te=await Q.updateTransferOrderInventory(z,"approve"),console.log("Inventory update response:",te)}catch(Ee){throw console.error("Inventory update failed:",Ee),new Error(`Inventory update failed: ${Ee instanceof Error?Ee.message:"Unknown error"}`)}try{be=await Q.updateTransferOrderStatus(z,{status:"Approved",approvedBy:"Central Kitchen Manager",notes:"Transfer order approved by Central Kitchen"}),console.log("Status update response:",be)}catch(Ee){throw console.error("Status update failed:",Ee),new Error(`Status update failed: ${Ee instanceof Error?Ee.message:"Unknown error"}`)}if(be.success&&te.success){const Ee=((re=J.items[0])==null?void 0:re.itemType)||"Mixed",bt=J.items.map(pe=>`${pe.itemName} (${pe.quantity} ${pe.unitOfMeasure||"pcs"})`).join(", "),K=typeof J.fromOutlet=="string"?J.fromOutlet:((Z=J.fromOutlet)==null?void 0:Z.outletName)||((U=J.fromOutlet)==null?void 0:U.name)||"Unknown Outlet";if(console.log("🔍 Transfer Order Details:",{transferOrderId:z,fromOutlet:J.fromOutlet,fromOutletType:typeof J.fromOutlet,fromOutletString:JSON.stringify(J.fromOutlet),toOutlet:J.toOutlet,targetOutlet:K,targetOutletType:typeof K,fullTransferOrder:J}),console.log(`Creating acceptance notification for ${K}...`),!K){console.error("❌ ERROR: targetOutlet is undefined! Transfer order fromOutlet:",J.fromOutlet),alert("Error: Cannot determine target outlet for notification");return}const se=await Q.createNotification({title:"Transfer Order Accepted",message:`Transfer order #${J.transferNumber} has been accepted. Items transferred: ${bt}`,type:"transfer_acceptance",targetOutlet:K,sourceOutlet:"Central Kitchen",transferOrderId:z,itemType:Ee,priority:"normal"});console.log("Notification response:",se),alert(`Transfer order accepted and notification sent to ${K}`),C(!1),P(null),F(z)}else throw new Error(`Failed to update transfer order status. Status: ${be.success}, Inventory: ${te.success}`)}catch(J){console.error("Error accepting transfer order:",J),console.error("Error details:",J instanceof Error?J.message:"Unknown error"),alert(`Failed to accept transfer order: ${J instanceof Error?J.message:"Unknown error"}`)}finally{k(!1)}},Ne=async z=>{var re;try{k(!0),console.log("Starting rejection process for transfer order:",z),console.log("Fetching transfer order details...");const Z=await ue(z);console.log("Transfer order details:",Z),console.log("Updating transfer order inventory...");let U,J;try{J=await Q.updateTransferOrderInventory(z,"reject"),console.log("Inventory update response:",J)}catch(be){throw console.error("Inventory update failed:",be),new Error(`Inventory update failed: ${be instanceof Error?be.message:"Unknown error"}`)}try{U=await Q.updateTransferOrderStatus(z,{status:"Rejected",approvedBy:"Central Kitchen Manager",notes:"Transfer order rejected by Central Kitchen"}),console.log("Status update response:",U)}catch(be){throw console.error("Status update failed:",be),new Error(`Status update failed: ${be instanceof Error?be.message:"Unknown error"}`)}if(U.success&&J.success){const be=((re=Z.items[0])==null?void 0:re.itemType)||"Mixed",te=Z.items.map(bt=>`${bt.itemName} (${bt.quantity} ${bt.unitOfMeasure||"pcs"})`).join(", ");console.log("Creating notification for Kuwait City...");const Ee=await Q.createNotification({title:"Transfer Order Rejected",message:`Transfer order #${Z.transferNumber} has been rejected. Requested items: ${te}`,type:"transfer_rejection",targetOutlet:"Kuwait City",sourceOutlet:"Central Kitchen",transferOrderId:z,itemType:be,priority:"normal"});console.log("Notification response:",Ee),alert("Transfer order rejected and notification sent to Kuwait City"),C(!1),P(null),F(z)}else throw new Error(`Failed to update transfer order status. Status: ${U.success}, Inventory: ${J.success}`)}catch(Z){console.error("Error rejecting transfer order:",Z),console.error("Error details:",Z instanceof Error?Z.message:"Unknown error"),alert(`Failed to reject transfer order: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{k(!1)}},W=o.length,ie=o.reduce((z,re)=>z+re.totalValue,0),de=o.filter(z=>z.status==="Low Stock").length,H=o.filter(z=>z.status==="Out of Stock").length,ye=o.filter(z=>z.status==="Expired").length,me=[...new Set(o.map(z=>z.category))];return u?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Finished Goods..."})]})}):m?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:m}),n.jsx("button",{onClick:I,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Finished Good Inventory"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",i==null?void 0:i.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:I,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/central-kitchen/make-finished-good"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Make Finished Good"]}),n.jsxs("button",{onClick:ee,className:"btn-secondary flex items-center",title:"Requested Item",children:[n.jsx(Fh,{className:"h-4 w-4 mr-2"}),"Requested Item"]}),n.jsx(ha,{notifications:A,onMarkAsRead:F,onMarkAllAsRead:R,onClearAll:E,onViewTransferOrder:X,onRefresh:B})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:W})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[ie.toFixed(2)," KWD"]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Zr,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:de})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(xy,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:H})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(Zr,{className:"h-6 w-6 text-orange-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expired Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ye})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search finished goods by name, code, or category...",className:"input-field pl-10",value:v,onChange:z=>j(z.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:L,className:"btn-secondary flex items-center",title:"Clear all filters",children:"Clear Filters"}),n.jsxs("button",{onClick:_,className:"btn-secondary flex items-center",title:"Import inventory from CSV",children:[n.jsx(pi,{className:"h-4 w-4 mr-2"}),"Import"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"input-field",value:y,onChange:z=>b(z.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),me.map(z=>n.jsx("option",{value:z,children:z},z))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:N,onChange:z=>S(z.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"In Stock",children:"In Stock"}),n.jsx("option",{value:"Low Stock",children:"Low Stock"}),n.jsx("option",{value:"Out of Stock",children:"Out of Stock"}),n.jsx("option",{value:"Overstock",children:"Overstock"}),n.jsx("option",{value:"Expired",children:"Expired"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:x,onChange:z=>d(z.target.value),children:[n.jsx("option",{value:"productName",children:"Product Name"}),n.jsx("option",{value:"currentStock",children:"Current Stock"}),n.jsx("option",{value:"totalValue",children:"Total Value"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"expiryDate",children:"Expiry Date"}),n.jsx("option",{value:"lastUpdated",children:"Last Updated"})]}),n.jsx("button",{onClick:()=>g(p==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${p==="asc"?"Descending":"Ascending"}`,children:p==="asc"?"↑":"↓"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",o.length," finished good items",(v||y||N)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(v||y||N)&&n.jsx("button",{onClick:L,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),n.jsxs("div",{className:"card overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods Inventory"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Complete finished goods inventory list"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"SKU"}),n.jsx("th",{className:"table-header",children:"Name of Finished Good"}),n.jsx("th",{className:"table-header",children:"Sub Category"}),n.jsx("th",{className:"table-header",children:"Current Stock Quantity"}),n.jsx("th",{className:"table-header",children:"Value"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(z=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900 font-medium",children:z.productCode})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900 font-medium",children:z.productName})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900",children:z.subCategory||"-"})}),n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"text-gray-900 font-medium",children:z.currentStock}),n.jsx("div",{className:"text-gray-500 text-sm",children:z.unitOfMeasure})]}),n.jsxs("td",{className:"table-cell",children:[n.jsxs("div",{className:"text-gray-900 font-medium",children:[z.totalValue.toFixed(2)," KWD"]}),n.jsxs("div",{className:"text-gray-500 text-sm",children:[z.unitPrice.toFixed(2)," per ",z.unitOfMeasure]})]})]},z.id))})]})})]}),n.jsx("input",{ref:t,type:"file",accept:".csv",onChange:G,style:{display:"none"}}),n.jsx(Sk,{isOpen:r.isOpen,onClose:s,onConfirm:r.onConfirm,onCancel:r.onCancel,title:r.title,message:r.message,type:r.type,confirmText:r.confirmText,cancelText:r.cancelText,showCancel:r.showCancel}),n.jsx(Ck,{isOpen:w,onClose:()=>{C(!1),P(null)},transferOrder:T,onAccept:ae,onReject:Ne,loading:D})]})},RZ=()=>{const e=ge(),[t,r]=O.useState(null),[a,s]=O.useState(!0),[i,l]=O.useState(null),[o,c]=O.useState([]),[u,f]=O.useState(!1),[m,h]=O.useState({productCode:"",productName:"",category:"",unitOfMeasure:"pcs",quantity:1,costPrice:0,unitPrice:0,expiryDays:1,notes:""});O.useEffect(()=>{v()},[]);const v=async()=>{try{s(!0),l(null);const d=await Q.getCentralKitchens();if(d.success&&d.data.length>0){const p=d.data[0];r(p)}else l("Central Kitchen not found")}catch(d){l(d instanceof Error?d.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",d)}finally{s(!1)}},j=()=>{if(!m.productCode||!m.productName||!m.category){alert("Please fill in all required fields (Product Code, Product Name, Category)");return}const d={id:`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,productCode:m.productCode,productName:m.productName,category:m.category,unitOfMeasure:m.unitOfMeasure||"pcs",quantity:m.quantity||1,costPrice:m.costPrice||0,unitPrice:m.unitPrice||0,expiryDays:m.expiryDays||1,notes:m.notes||""};c(p=>[...p,d]),h({productCode:"",productName:"",category:"",unitOfMeasure:"pcs",quantity:1,costPrice:0,unitPrice:0,expiryDays:1,notes:""}),f(!1)},y=d=>{c(p=>p.filter(g=>g.id!==d))},b=(d,p,g)=>{c(w=>w.map(C=>C.id===d?{...C,[p]:g}:C))},N=async()=>{if(o.length===0){alert("Please add at least one item to produce");return}try{s(!0);for(const d of o){const p={outletId:t==null?void 0:t.id,outletCode:t==null?void 0:t.outletCode,outletName:t==null?void 0:t.outletName,productId:d.productCode,productCode:d.productCode,productName:d.productName,category:d.category,unitOfMeasure:d.unitOfMeasure,unitPrice:d.unitPrice,costPrice:d.costPrice,currentStock:d.quantity,reservedStock:0,availableStock:d.quantity,minimumStock:Math.ceil(d.quantity*.2),maximumStock:d.quantity*2,reorderPoint:Math.ceil(d.quantity*.3),totalValue:d.quantity*d.unitPrice,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+d.expiryDays*24*60*60*1e3).toISOString(),batchNumber:`BATCH-${d.productCode}-${Date.now()}`,storageLocation:"Production Area",storageTemperature:"Room Temperature",qualityStatus:"Good",qualityNotes:"Freshly produced",status:"In Stock",transferSource:"Production",lastUpdated:new Date().toISOString(),notes:d.notes,isActive:!0};console.log("Producing item:",p)}alert(`Production completed successfully!

Produced ${o.length} items:
${o.map(d=>`- ${d.productName} (${d.quantity} ${d.unitOfMeasure})`).join(`
`)}`),c([])}catch(d){console.error("Error saving production:",d),alert("Failed to save production. Please try again.")}finally{s(!1)}},S=["Beverages","Meals","Bakery","Snacks","Desserts","Salads","Soups","Sandwiches"],x=["pcs","kg","L","g","ml","box","pack","serving"];return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Make Finished Good..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:v,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(pu,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Make Finished Good"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",t==null?void 0:t.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:v,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/central-kitchen/finished-goods"),className:"btn-secondary flex items-center",children:[n.jsx(xe,{className:"h-4 w-4 mr-2"}),"View Finished Goods"]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Production Form"}),n.jsxs("button",{onClick:()=>f(!u),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),u&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add Production Item"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Code *"}),n.jsx("input",{type:"text",className:"input-field",value:m.productCode||"",onChange:d=>h(p=>({...p,productCode:d.target.value})),placeholder:"e.g., FG001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),n.jsx("input",{type:"text",className:"input-field",value:m.productName||"",onChange:d=>h(p=>({...p,productName:d.target.value})),placeholder:"e.g., Espresso"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsxs("select",{className:"input-field",value:m.category||"",onChange:d=>h(p=>({...p,category:d.target.value})),children:[n.jsx("option",{value:"",children:"Select Category"}),S.map(d=>n.jsx("option",{value:d,children:d},d))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit of Measure"}),n.jsx("select",{className:"input-field",value:m.unitOfMeasure||"pcs",onChange:d=>h(p=>({...p,unitOfMeasure:d.target.value})),children:x.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field",value:m.quantity||1,onChange:d=>h(p=>({...p,quantity:parseInt(d.target.value)||1})),min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:m.costPrice||0,onChange:d=>h(p=>({...p,costPrice:parseFloat(d.target.value)||0})),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:m.unitPrice||0,onChange:d=>h(p=>({...p,unitPrice:parseFloat(d.target.value)||0})),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Days"}),n.jsx("input",{type:"number",className:"input-field",value:m.expiryDays||1,onChange:d=>h(p=>({...p,expiryDays:parseInt(d.target.value)||1})),min:"1"})]}),n.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Production Notes"}),n.jsx("textarea",{className:"input-field",rows:2,value:m.notes||"",onChange:d=>h(p=>({...p,notes:d.target.value})),placeholder:"Additional notes about this production..."})]})]}),n.jsxs("div",{className:"flex gap-3 mt-4",children:[n.jsxs("button",{onClick:j,className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add to Production"]}),n.jsx("button",{onClick:()=>f(!1),className:"btn-secondary",children:"Cancel"})]})]}),o.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Production Items (",o.length,")"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiry Days"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(d=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.productName}),n.jsxs("div",{className:"text-sm text-gray-500",children:[d.productCode," • ",d.category]})]})}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[n.jsx("input",{type:"number",className:"input-field w-20",value:d.quantity,onChange:p=>b(d.id,"quantity",parseInt(p.target.value)||1),min:"1"}),n.jsx("span",{className:"ml-2 text-sm text-gray-500",children:d.unitOfMeasure})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",step:"0.01",className:"input-field w-24",value:d.costPrice,onChange:p=>b(d.id,"costPrice",parseFloat(p.target.value)||0),min:"0"})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",step:"0.01",className:"input-field w-24",value:d.unitPrice,onChange:p=>b(d.id,"unitPrice",parseFloat(p.target.value)||0),min:"0"})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",className:"input-field w-20",value:d.expiryDays,onChange:p=>b(d.id,"expiryDays",parseInt(p.target.value)||1),min:"1"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("input",{type:"text",className:"input-field w-full",value:d.notes,onChange:p=>b(d.id,"notes",p.target.value),placeholder:"Production notes..."})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("button",{onClick:()=>y(d.id),className:"text-red-600 hover:text-red-900 text-sm",children:"Remove"})})]},d.id))})]})}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Production Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o.length})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Quantity"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o.reduce((d,p)=>d+p.quantity,0)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[o.reduce((d,p)=>d+p.quantity*p.unitPrice,0).toFixed(2)," KWD"]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Production Notes"}),n.jsx("textarea",{className:"input-field",rows:3,placeholder:"Additional notes about this production batch..."})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:N,disabled:a,className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Production"]})})]}),o.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(pu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Production Items"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Add items to start a production batch"}),n.jsxs("button",{onClick:()=>f(!0),className:"btn-primary flex items-center mx-auto",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add First Item"]})]})]})]})},LZ=()=>{const e=ge(),[t,r]=O.useState(null),[a,s]=O.useState(!0),[i,l]=O.useState(null),[o,c]=O.useState([]),[u,f]=O.useState([]),[m,h]=O.useState([]),[v,j]=O.useState(!1),[y,b]=O.useState({toOutlet:"",transferDate:new Date().toISOString().split("T")[0],priority:"Normal",notes:""});O.useEffect(()=>{N(),S()},[]);const N=async()=>{try{s(!0),l(null);const D=await Q.getCentralKitchens();if(D.success&&D.data.length>0){const k=D.data[0];r(k)}else l("Central Kitchen not found")}catch(D){l(D instanceof Error?D.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",D)}finally{s(!1)}},S=async()=>{try{j(!0),console.log("Loading raw materials and finished goods data...");const D=await Q.getCentralKitchenRawMaterials({limit:1e3});D.success?(f(D.data),console.log("Loaded raw materials:",D.data.length)):console.error("Failed to load raw materials:",D.error||"API Error");const k=await Q.getCentralKitchenFinishedProducts({limit:1e3});k.success?(h(k.data),console.log("Loaded finished goods:",k.data.length)):console.error("Failed to load finished goods:",k.error||"API Error")}catch(D){console.error("Error loading materials data:",D)}finally{j(!1)}},x=()=>{console.log("Add Item button clicked!");const D=`form-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;console.log("Creating new form with ID:",D),c(k=>{const M=[...k,{id:D,data:{itemType:"Raw Material",itemCode:"",itemName:"",category:"",unitOfMeasure:"pcs",quantity:1,unitPrice:0,notes:""}}];return console.log("Updated forms array:",M),M})},d=(D,k,M)=>{c(F=>F.map(R=>{if(R.id===D){const E={...R,data:{...R.data,[k]:M}};if(k==="itemType"&&(E.data.itemCode="",E.data.itemName="",E.data.category=""),k==="itemCode"&&M){const B=p(E.data.itemType||"Raw Material",M);B&&(E.data.itemName=B.materialName||B.productName||"",E.data.category=B.category||B.subCategory||"",E.data.unitOfMeasure=B.unitOfMeasure||"pcs",E.data.unitPrice=B.unitPrice||0)}return E}return R}))},p=(D,k)=>D==="Raw Material"?u.find(M=>M.materialCode===k):D==="Finished Goods"?m.find(M=>M.productCode===k):null,g=D=>{c(k=>k.filter(M=>M.id!==D))},w=async()=>{if(o.length===0){alert("Please add at least one item to transfer");return}if(!y.toOutlet){alert("Please select a destination outlet");return}if(o.filter(M=>!M.data.itemType||!M.data.itemCode||!M.data.itemName).length>0){alert("Please fill in all required fields (Item Type, Item Code) for all items");return}if(o.filter(M=>!M.data.quantity||M.data.quantity<=0).length>0){alert("Please enter valid quantities (greater than 0) for all items");return}try{s(!0);const M=o.map(E=>({itemType:E.data.itemType,itemCode:E.data.itemCode,itemName:E.data.itemName||E.data.itemCode,category:E.data.category||"",subCategory:E.data.subCategory||"",unitOfMeasure:E.data.unitOfMeasure||"pcs",quantity:E.data.quantity||1,unitPrice:E.data.unitPrice||0,notes:E.data.notes||""})),F={fromOutlet:(t==null?void 0:t.outletName)||"Central Kitchen",toOutlet:y.toOutlet,transferDate:y.transferDate,priority:y.priority,items:M,totalValue:M.reduce((E,B)=>E+B.quantity*B.unitPrice,0),notes:y.notes};console.log("Creating transfer with data:",F),console.log("🚀 Calling apiService.createTransfer...");const R=await Q.createTransfer(F);if(console.log("📥 Transfer API response:",R),R.success){if(F.toOutlet==="Kuwait City"||F.toOutlet==="360 Mall"||F.toOutlet==="Vibe Complex"||F.toOutlet==="Taiba Hospital")try{const E=M.map(_=>_.itemType),B=[...new Set(E)],A=B.length===1?B[0]:"Mixed",I=M.map(_=>`${_.itemName} (${_.quantity} ${_.unitOfMeasure})`).join(", "),$={title:`New Transfer from Central Kitchen - ${A}`,message:`Transfer order #${R.data.transferNumber||"N/A"} from Central Kitchen. Items: ${I}`,type:`transfer_from_central_kitchen_${A.toLowerCase().replace(" ","_")}`,targetOutlet:F.toOutlet,sourceOutlet:"Central Kitchen",transferOrderId:R.data._id||R.data.id,itemType:A,priority:F.priority==="Urgent"?"high":"normal"},L=await Q.createNotification($);console.log(`Notification sent to ${F.toOutlet}:`,L)}catch(E){console.error(`Failed to send notification to ${F.toOutlet}:`,E)}alert(`Transfer created successfully!

Transfer Details:
From: ${t==null?void 0:t.outletName}
To: ${F.toOutlet}
Items: ${M.length}
Total Value: ${F.totalValue.toFixed(2)} KWD

Transfer ID: ${R.data.transferId}

Stock has been updated in both Central Kitchen and destination outlet.${F.toOutlet==="Kuwait City"||F.toOutlet==="360 Mall"||F.toOutlet==="Vibe Complex"||F.toOutlet==="Taiba Hospital"?`

Notification sent to ${F.toOutlet}.`:""}`),c([]),b({toOutlet:"",transferDate:new Date().toISOString().split("T")[0],priority:"Normal",notes:""}),await S()}else alert(`Transfer failed: ${R.message}`)}catch(M){console.error("❌ Error creating transfer:",M),console.error("❌ Error details:",{message:M instanceof Error?M.message:"Unknown error",stack:M instanceof Error?M.stack:void 0,response:M==null?void 0:M.response}),alert(`Failed to create transfer order: ${M instanceof Error?M.message:"Unknown error"}`)}finally{s(!1)}},C=["pcs","kg","L","g","ml","box","pack","serving"],T=["Kuwait City","360 Mall","Vibe Complex","Taiba Hospital"],P=["Low","Normal","High","Urgent"];return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Create Transfer..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:N,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(Ot,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Transfer"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",t==null?void 0:t.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:N,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"View All Transfers"]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Transfer Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Outlet"}),n.jsx("input",{type:"text",className:"input-field",value:(t==null?void 0:t.outletName)||"Central Kitchen",disabled:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Outlet *"}),n.jsxs("select",{className:"input-field",value:y.toOutlet,onChange:D=>b(k=>({...k,toOutlet:D.target.value})),children:[n.jsx("option",{value:"",children:"Select Destination"}),T.map(D=>n.jsx("option",{value:D,children:D},D))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer Date"}),n.jsx("input",{type:"date",className:"input-field",value:y.transferDate,onChange:D=>b(k=>({...k,transferDate:D.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsx("select",{className:"input-field",value:y.priority,onChange:D=>b(k=>({...k,priority:D.target.value})),children:P.map(D=>n.jsx("option",{value:D,children:D},D))})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer Notes"}),n.jsx("textarea",{className:"input-field",rows:2,value:y.notes,onChange:D=>b(k=>({...k,notes:D.target.value})),placeholder:"Additional notes about this transfer..."})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Transfer Items"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:S,disabled:v,className:"btn-secondary flex items-center text-sm",title:"Refresh materials data",children:[n.jsx(_t,{className:`h-4 w-4 mr-2 ${v?"animate-spin":""}`}),v?"Loading...":"Refresh Items"]}),n.jsxs("button",{onClick:x,className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),o.map((D,k)=>n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Item #",k+1]}),n.jsx("button",{onClick:()=>g(D.id),className:"text-red-600 hover:text-red-900 text-sm",children:"Remove Item"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Type *"}),n.jsxs("select",{className:"input-field",value:D.data.itemType||"",onChange:M=>d(D.id,"itemType",M.target.value),children:[n.jsx("option",{value:"",children:"Select Item Type"}),n.jsx("option",{value:"Raw Material",children:"Raw Material"}),n.jsx("option",{value:"Finished Goods",children:"Finished Goods"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Code *"}),n.jsxs("select",{className:"input-field",value:D.data.itemCode||"",onChange:M=>d(D.id,"itemCode",M.target.value),disabled:!D.data.itemType||v,children:[n.jsx("option",{value:"",children:"Select Item"}),D.data.itemType==="Raw Material"&&u.map(M=>n.jsxs("option",{value:M.materialCode,children:[M.materialCode," - ",M.materialName]},M._id)),D.data.itemType==="Finished Goods"&&m.map(M=>n.jsxs("option",{value:M.productCode,children:[M.productCode," - ",M.productName]},M._id))]}),v&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading items..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name"}),n.jsx("input",{type:"text",className:"input-field",value:D.data.itemName||"",readOnly:!0,placeholder:"Auto-filled from selection"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsx("input",{type:"text",className:"input-field",value:D.data.category||"",readOnly:!0,placeholder:"Auto-filled from selection"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit of Measure"}),n.jsx("select",{className:"input-field",value:D.data.unitOfMeasure||"pcs",onChange:M=>d(D.id,"unitOfMeasure",M.target.value),children:C.map(M=>n.jsx("option",{value:M,children:M},M))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field",value:D.data.quantity||1,onChange:M=>d(D.id,"quantity",parseInt(M.target.value)||1),min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:D.data.unitPrice||0,onChange:M=>d(D.id,"unitPrice",parseFloat(M.target.value)||0),min:"0",placeholder:"Auto-filled from selection"})]}),n.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Notes"}),n.jsx("textarea",{className:"input-field",rows:2,value:D.data.notes||"",onChange:M=>d(D.id,"notes",M.target.value),placeholder:"Additional notes about this item..."})]})]})]},D.id)),o.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Transfer Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o.length})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Quantity"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o.reduce((D,k)=>D+(k.data.quantity||1),0)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[o.reduce((D,k)=>D+(k.data.quantity||1)*(k.data.unitPrice||0),0).toFixed(2)," KWD"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Priority"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:y.priority})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:w,disabled:a,className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),a?"Creating Transfer Order...":"Create Transfer Order"]})})]}),o.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ot,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Items Added"}),n.jsx("p",{className:"text-gray-600 mb-4",children:'Click "Add Item" to start adding items to your transfer order'})]})]})]})},Mf=()=>{const e=ge(),t=Cr(),[r,a]=O.useState(null),[s,i]=O.useState([]),[l,o]=O.useState([]),[c,u]=O.useState(!0),[f,m]=O.useState(null),[h]=O.useState(""),[v]=O.useState(""),[j]=O.useState(""),[y]=O.useState("materialName"),[b]=O.useState("asc"),N=O.useRef(null),{notifications:S,markAsRead:x,markAllAsRead:d,clearAll:p,refreshNotifications:g}=pa("Kuwait City"),w=()=>{const A=C();return A==="raw-materials"?S.filter(I=>I.isTransferOrder&&(I.itemType==="Raw Material"||I.itemType==="Mixed")):A==="finished-goods"?S.filter(I=>I.isTransferOrder&&(I.itemType==="Finished Goods"||I.itemType==="Mixed")):S},C=()=>{const A=t.pathname;return A.includes("/raw-materials")?"raw-materials":A.includes("/finished-goods")?"finished-goods":A.includes("/sales-orders")?"sales-orders":"overview"},T=C();O.useEffect(()=>{P(),D()},[]),O.useEffect(()=>{c||D()},[c,h,v,j,y,b]),O.useEffect(()=>{S.length>0&&S.some(I=>{var $;return!I.read&&I.type==="success"&&(($=I.title)==null?void 0:$.includes("Transfer Order Accepted"))})&&(console.log("New transfer acceptance notification detected, refreshing inventory..."),D())},[S]);const P=async()=>{try{u(!0),m(null);const A=await Q.getOutlets({limit:1e3});if(A.success){const I=A.data.find($=>$.outletCode==="OUT-001");I?a(I):m("Kuwait City not found")}else m("Failed to load outlet data")}catch(A){m(A instanceof Error?A.message:"Failed to load outlet data"),console.error("Error loading outlet data:",A)}finally{u(!1)}},D=async()=>{try{console.log("Loading Kuwait City inventory from dedicated database");const A=await Q.getKuwaitCityRawMaterials({limit:1e3,search:h,subCategory:v,status:j,sortBy:y==="materialName"?"materialName":y,sortOrder:b});if(A.success)if(console.log("Loaded Kuwait City Raw Materials:",A.data),A.data&&A.data.length>0){const $=A.data.map(L=>({id:L._id||L.id,outletId:"kuwait-city",outletCode:"OUT-001",outletName:"Kuwait City",materialId:L._id,materialCode:L.materialCode,materialName:L.materialName,category:L.subCategory||L.category,unitOfMeasure:L.unitOfMeasure,unitPrice:L.unitPrice,currentStock:L.currentStock,reservedStock:0,availableStock:L.currentStock,minimumStock:L.minimumStock,maximumStock:L.maximumStock,reorderPoint:L.reorderPoint,totalValue:L.currentStock*L.unitPrice,location:"Main Storage",batchNumber:`KCBATCH-${L.materialCode}-${Date.now()}`,supplier:"Various Suppliers",lastUpdated:L.updatedAt,status:L.status,notes:L.notes||"",isActive:L.isActive}));i($)}else console.log("No raw materials inventory found for Kuwait City"),i([]),m("No raw materials inventory found. Please add some raw materials to Kuwait City.");else console.error("Failed to load raw materials inventory:","API Error"),m("Failed to load inventory from server: Unknown error");const I=await Q.getKuwaitCityFinishedProducts({limit:1e3,search:h,subCategory:v,status:j,sortBy:y==="productName"?"productName":y,sortOrder:b});if(I.success)if(console.log("Loaded Kuwait City Finished Products:",I.data),I.data&&I.data.length>0){const $=I.data.map(L=>{var _;return{id:L._id||L.id,outletId:"kuwait-city",outletCode:"OUT-001",outletName:"Kuwait City",productId:L._id,productCode:L.productCode,productName:L.productName,category:L.subCategory||L.category,unitOfMeasure:L.unitOfMeasure,unitPrice:L.unitPrice,costPrice:L.costPrice,currentStock:L.currentStock,reservedStock:0,availableStock:L.currentStock,minimumStock:L.minimumStock,maximumStock:L.maximumStock,reorderPoint:L.reorderPoint,totalValue:L.currentStock*L.unitPrice,productionDate:new Date().toISOString(),expiryDate:L.shelfLife?new Date(Date.now()+L.shelfLife*24*60*60*1e3).toISOString():new Date(Date.now()+6048e5).toISOString(),batchNumber:`KCFG-${L.productCode}-${Date.now()}`,storageLocation:"Main Storage",storageTemperature:((_=L.storageRequirements)==null?void 0:_.temperature)||"Room Temperature",qualityStatus:"Good",qualityNotes:"",status:L.status,transferSource:"Production",lastUpdated:L.updatedAt,notes:L.notes||"",isActive:L.isActive}});o($)}else console.log("No finished goods inventory found for Kuwait City"),o([]);else console.error("Failed to load finished goods inventory:","API Error")}catch(A){m(A instanceof Error?A.message:"Failed to load inventory"),console.error("Error loading inventory:",A)}},k=async A=>{var $;const I=($=A.target.files)==null?void 0:$[0];if(I){if(!I.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const _=(await I.text()).split(`
`).filter(X=>X.trim());if(_.length<2){alert("CSV file must contain at least a header row and one data row");return}const G=_.slice(1);let ee=0,ue=0;for(const X of G)try{const ae=X.split(",").map(W=>W.replace(/"/g,"").trim()),Ne=ae[0];if(Ne==="Raw Material"){const W={materialCode:ae[1],materialName:ae[2],category:ae[3],unitOfMeasure:ae[4],unitPrice:parseFloat(ae[5])||0,currentStock:parseInt(ae[6])||0,minimumStock:parseInt(ae[8])||0,maximumStock:parseInt(ae[9])||0,supplier:ae[12]||"",notes:ae[14]||""},ie={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"downtown-restaurant-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",materialId:W.materialCode,materialCode:W.materialCode,materialName:W.materialName,category:W.category,unitOfMeasure:W.unitOfMeasure,unitPrice:W.unitPrice,currentStock:W.currentStock,reservedStock:0,availableStock:W.currentStock,minimumStock:W.minimumStock,maximumStock:W.maximumStock,reorderPoint:Math.ceil(W.minimumStock*1.5),totalValue:W.currentStock*W.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:W.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:W.notes,isActive:!0};i(de=>[...de,ie]),ee++}else if(Ne==="Finished Good"){const W={productCode:ae[1],productName:ae[2],category:ae[3],unitOfMeasure:ae[4],unitPrice:parseFloat(ae[5])||0,currentStock:parseInt(ae[6])||0,minimumStock:parseInt(ae[8])||0,maximumStock:parseInt(ae[9])||0,supplier:ae[12]||"",notes:ae[14]||""},ie={id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"downtown-restaurant-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",productId:W.productCode,productCode:W.productCode,productName:W.productName,category:W.category,unitOfMeasure:W.unitOfMeasure,unitPrice:W.unitPrice,costPrice:W.unitPrice*.7,currentStock:W.currentStock,reservedStock:0,availableStock:W.currentStock,minimumStock:W.minimumStock,maximumStock:W.maximumStock,reorderPoint:Math.ceil(W.minimumStock*1.5),totalValue:W.currentStock*W.unitPrice,productionDate:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],batchNumber:`BATCH-${Date.now()}`,storageLocation:"Cold Storage",storageTemperature:"4°C",qualityStatus:"Good",qualityNotes:"Imported from CSV",status:"In Stock",transferSource:"Import",lastUpdated:new Date().toISOString(),notes:W.notes,isActive:!0};o(de=>[...de,ie]),ee++}}catch{ue++}alert(`Import completed!

Successfully imported: ${ee} items
Errors: ${ue}`)}catch(L){alert("Error importing file: "+(L instanceof Error?L.message:"Unknown error"))}finally{N.current&&(N.current.value="")}}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Kuwait City..."})]})});if(f)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:f}),n.jsx("button",{onClick:P,className:"btn-primary",children:"Retry"})]})});const M=()=>{switch(T){case"raw-materials":return F();case"finished-goods":return R();case"sales-orders":return E();default:return B()}},F=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-blue-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(A=>A.materialId&&A.materialCode&&A.materialName).map(A=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.unitOfMeasure}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:["KWD ",A.unitPrice?Number(A.unitPrice).toFixed(3):"0.000"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.currentStock})]},A.id))})]})})]})}),R=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit of Measure"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Maximum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.filter(A=>A.productId&&A.productCode&&A.productName).map(A=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.unitOfMeasure}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",A.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.currentStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.availableStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.minimumStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.maximumStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",A.totalValue.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${A.status==="In Stock"?"bg-green-100 text-green-800":A.status==="Low Stock"?"bg-yellow-100 text-yellow-800":A.status==="Out of Stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:A.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.lastUpdated}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:A.notes})]},A.id))})]})})]})}),E=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"POS Sales"}),n.jsxs("button",{onClick:()=>e("/downtown-restaurant/pos-sales/create-order",{state:{outletName:"Kuwait City"}}),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Point of Sale system for Kuwait City outlet"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:[n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/pos-sales/create-order",{state:{outletName:"Kuwait City"}}),children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(ut,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"New Order"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Create a new sales order"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(QS,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Order History"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View past orders"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(fy,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Payment Reports"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View payment summaries"})]})]})})]})]})}),B=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-blue-50 to-green-50 border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(ar,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType," • ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(xe,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Raw Materials"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(A=>A.materialId&&A.materialCode&&A.materialName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(xe,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Finished Goods"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.filter(A=>A.productId&&A.productCode&&A.productName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:n.jsx(ut,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(s.reduce((A,I)=>A+I.totalValue,0)+l.reduce((A,I)=>A+I.totalValue,0)).toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:n.jsx(Zr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(A=>A.status==="Low Stock").length+l.filter(A=>A.status==="Low Stock").length})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(ut,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(ar,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kuwait City"}),n.jsxs("p",{className:"text-gray-600",children:[T==="raw-materials"?"Raw Materials Inventory":T==="finished-goods"?"Finished Goods Inventory":T==="sales-orders"?"Sales Orders":"Premium dining restaurant"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>{P(),D()},className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),T==="raw-materials"&&n.jsxs("button",{onClick:()=>e("/downtown-restaurant/request-raw-materials"),className:"btn-primary flex items-center",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Request Raw Materials"]}),T==="finished-goods"&&n.jsxs("button",{onClick:()=>e("/downtown-restaurant/request-finished-goods"),className:"btn-primary flex items-center",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Request Finished Goods"]}),n.jsx(ha,{notifications:w(),onMarkAsRead:x,onMarkAllAsRead:d,onClearAll:p,onRefresh:g})]})]}),M(),n.jsx("input",{ref:N,type:"file",accept:".csv,.xlsx,.xls",onChange:k,className:"hidden"})]})},If=()=>{const e=ge(),t=Cr(),[r,a]=O.useState(null),[s,i]=O.useState([]),[l,o]=O.useState([]),[c,u]=O.useState(!0),[f,m]=O.useState(null),[h]=O.useState(""),[v]=O.useState(""),[j]=O.useState(""),[y]=O.useState("materialName"),[b]=O.useState("asc"),N=O.useRef(null),{notifications:S,markAsRead:x,markAllAsRead:d,clearAll:p,refreshNotifications:g}=pa("Vibe Complex");O.useEffect(()=>{console.log("🔔 Vibes Complex: Notifications updated:",S),console.log(`🔔 Vibes Complex: Number of notifications: ${S.length}`),S.length>0&&console.log("🔔 Vibes Complex: First notification:",S[0])},[S]),O.useEffect(()=>{console.log('🔔 Vibes Complex: Component mounted, loading notifications for: "Vibe Complex"')},[]);const w=()=>{const A=t.pathname;return A.includes("/raw-materials")?"raw-materials":A.includes("/finished-goods")?"finished-goods":A.includes("/sales-orders")?"sales-orders":"overview"},C=w(),T=()=>{const A=w();console.log(`🔔 Vibes Complex: Current section: ${A}`),console.log("🔔 Vibes Complex: All notifications:",S);let I=[];return A==="raw-materials"?I=S.filter($=>$.isTransferOrder&&($.itemType==="Raw Material"||$.itemType==="Mixed")):A==="finished-goods"?I=S.filter($=>$.isTransferOrder&&($.itemType==="Finished Goods"||$.itemType==="Mixed")):I=S,console.log(`🔔 Vibes Complex: Filtered notifications for ${A}:`,I),I};O.useEffect(()=>{P()},[]),O.useEffect(()=>{S.length>0&&S.some(I=>{var $;return!I.read&&(($=I.title)==null?void 0:$.includes("Transfer from Central Kitchen"))})&&(console.log("New transfer notification detected for Vibes Complex, refreshing inventory..."),D())},[S]),O.useEffect(()=>{const A=setInterval(()=>{console.log("🔄 Vibes Complex: Auto-refreshing notifications..."),g()},5e3);return()=>clearInterval(A)},[g]),O.useEffect(()=>{c||D()},[h,v,j,y,b]);const P=async()=>{try{u(!0),m(null);const A=await Q.getOutlets({limit:1e3});if(A.success){const I=A.data.find($=>$.outletCode==="OUT-002");I?(a(I),await D()):m("Vibe Complex not found")}else m("Failed to load outlet data")}catch(A){m(A instanceof Error?A.message:"Failed to load outlet data"),console.error("Error loading outlet data:",A)}finally{u(!1)}},D=async()=>{try{console.log("Loading Vibe Complex inventory from dedicated database");const A=await Q.getVibeComplexRawMaterials({limit:1e3,search:h,subCategory:v,status:j,sortBy:y==="materialName"?"materialName":y,sortOrder:b});if(A.success)if(console.log("Loaded Vibe Complex Raw Materials:",A.data),A.data&&A.data.length>0){const $=A.data.map(L=>{var _;return{id:L._id||L.id,outletId:"vibe-complex",outletCode:"OUT-002",outletName:"Vibe Complex",materialId:L._id,materialCode:L.materialCode,materialName:L.materialName,category:L.subCategory||L.category,unitOfMeasure:L.unitOfMeasure,unitPrice:L.unitPrice||0,currentStock:L.currentStock||0,reservedStock:0,availableStock:L.currentStock||0,minimumStock:L.minimumStock||0,maximumStock:L.maximumStock||0,reorderPoint:L.reorderPoint||0,totalValue:(L.currentStock||0)*(L.unitPrice||0),location:((_=L.storageRequirements)==null?void 0:_.location)||"Main Storage",batchNumber:L.batchNumber||"",supplier:L.supplierName||"",lastUpdated:L.lastUpdated||L.updatedAt,status:L.status,notes:L.notes||"",isActive:L.isActive}});i($)}else console.log("No raw materials inventory found for Vibe Complex"),i([]),m("No raw materials inventory found. Please add some raw materials to Vibe Complex.");else console.error("Failed to load raw materials inventory:",A.error||"API Error"),m(`Failed to load inventory from server: ${A.error||"Unknown error"}`);const I=await Q.getVibeComplexFinishedProducts({limit:1e3,search:h,subCategory:v,status:j,sortBy:y==="productName"?"productName":y,sortOrder:b});if(I.success)if(console.log("Loaded Vibe Complex Finished Products:",I.data),I.data&&I.data.length>0){const $=I.data.map(L=>({id:L._id||L.id,outletId:"vibe-complex",outletCode:"OUT-002",outletName:"Vibe Complex",productId:L._id,productCode:L.productCode,productName:L.productName,category:L.subCategory||L.category,unitOfMeasure:L.unitOfMeasure,unitPrice:L.unitPrice||0,costPrice:L.costPrice||0,currentStock:L.currentStock||0,reservedStock:0,availableStock:L.currentStock||0,minimumStock:L.minimumStock||0,maximumStock:L.maximumStock||0,reorderPoint:L.reorderPoint||0,totalValue:(L.currentStock||0)*(L.unitPrice||0),productionDate:L.productionDate||new Date().toISOString(),expiryDate:L.expiryDate||new Date(Date.now()+864e5).toISOString(),batchNumber:L.batchNumber||"",storageLocation:L.storageLocation||"Cold Storage",storageTemperature:L.storageTemperature||"Cold",qualityStatus:L.qualityStatus||"Good",qualityNotes:L.qualityNotes||"",status:L.status,transferSource:"Transfer",lastUpdated:L.lastUpdated||L.updatedAt,notes:L.notes||"",isActive:L.isActive}));o($)}else console.log("No finished goods inventory found for Vibe Complex"),o([]);else console.error("Failed to load finished goods inventory:",I.error||"API Error")}catch(A){m(A instanceof Error?A.message:"Failed to load inventory"),console.error("Error loading inventory:",A)}},k=async A=>{var $;const I=($=A.target.files)==null?void 0:$[0];if(I){if(!I.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const _=(await I.text()).split(`
`).filter(X=>X.trim());if(_.length<2){alert("CSV file must contain at least a header row and one data row");return}const G=_.slice(1);let ee=0,ue=0;for(const X of G)try{const ae=X.split(",").map(W=>W.replace(/"/g,"").trim()),Ne=ae[0];if(Ne==="Raw Material"){const W={materialCode:ae[1],materialName:ae[2],category:ae[3],unitOfMeasure:ae[4],unitPrice:parseFloat(ae[5])||0,currentStock:parseInt(ae[6])||0,minimumStock:parseInt(ae[8])||0,maximumStock:parseInt(ae[9])||0,supplier:ae[12]||"",notes:ae[14]||""},ie={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"marina-walk-cafe-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",materialId:W.materialCode,materialCode:W.materialCode,materialName:W.materialName,category:W.category,unitOfMeasure:W.unitOfMeasure,unitPrice:W.unitPrice,currentStock:W.currentStock,reservedStock:0,availableStock:W.currentStock,minimumStock:W.minimumStock,maximumStock:W.maximumStock,reorderPoint:Math.ceil(W.minimumStock*1.5),totalValue:W.currentStock*W.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:W.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:W.notes,isActive:!0};i(de=>[...de,ie]),ee++}else if(Ne==="Finished Good"){const W={productCode:ae[1],productName:ae[2],category:ae[3],unitOfMeasure:ae[4],unitPrice:parseFloat(ae[5])||0,currentStock:parseInt(ae[6])||0,minimumStock:parseInt(ae[8])||0,maximumStock:parseInt(ae[9])||0,supplier:ae[12]||"",notes:ae[14]||""},ie={id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"marina-walk-cafe-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",productId:W.productCode,productCode:W.productCode,productName:W.productName,category:W.category,unitOfMeasure:W.unitOfMeasure,unitPrice:W.unitPrice,costPrice:W.unitPrice*.7,currentStock:W.currentStock,reservedStock:0,availableStock:W.currentStock,minimumStock:W.minimumStock,maximumStock:W.maximumStock,reorderPoint:Math.ceil(W.minimumStock*1.5),totalValue:W.currentStock*W.unitPrice,productionDate:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],batchNumber:`BATCH-${Date.now()}`,storageLocation:"Cold Storage",storageTemperature:"4°C",qualityStatus:"Good",qualityNotes:"Imported from CSV",status:"In Stock",transferSource:"Import",lastUpdated:new Date().toISOString(),notes:W.notes,isActive:!0};o(de=>[...de,ie]),ee++}}catch{ue++}alert(`Import completed!

Successfully imported: ${ee} items
Errors: ${ue}`)}catch(L){alert("Error importing file: "+(L instanceof Error?L.message:"Unknown error"))}finally{N.current&&(N.current.value="")}}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading 360 Mall..."})]})});if(f)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:f}),n.jsx("button",{onClick:P,className:"btn-primary",children:"Retry"})]})});const M=()=>{switch(C){case"raw-materials":return F();case"finished-goods":return R();case"sales-orders":return E();default:return B()}},F=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-blue-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(A=>A.materialId&&A.materialCode&&A.materialName).map(A=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.currentStock})]},A.id))})]})})]})}),R=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit of Measure"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Maximum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.filter(A=>A.productId&&A.productCode&&A.productName).map(A=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.unitOfMeasure}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",A.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.currentStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.availableStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.minimumStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.maximumStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",A.totalValue.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${A.status==="In Stock"?"bg-green-100 text-green-800":A.status==="Low Stock"?"bg-yellow-100 text-yellow-800":A.status==="Out of Stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:A.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.lastUpdated}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:A.notes})]},A.id))})]})})]})}),E=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"POS Sales"}),n.jsxs("button",{onClick:()=>e("/marina-walk-cafe/pos-sales/create-order",{state:{outletName:"360 Mall"}}),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Point of Sale system for 360 Mall outlet"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:[n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/pos-sales/create-order",{state:{outletName:"360 Mall"}}),children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(ut,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"New Order"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Create a new sales order"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(QS,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Order History"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View past orders"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(fy,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Payment Reports"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View payment summaries"})]})]})})]})]})}),B=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(_l,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType," • ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:(r==null?void 0:r.status)||"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(xe,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Raw Materials"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(A=>A.materialId&&A.materialCode&&A.materialName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(xe,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Finished Goods"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.filter(A=>A.productId&&A.productCode&&A.productName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:n.jsx(ut,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(s.reduce((A,I)=>A+I.totalValue,0)+l.reduce((A,I)=>A+I.totalValue,0)).toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:n.jsx(Zr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(A=>A.status==="Low Stock").length+l.filter(A=>A.status==="Low Stock").length})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(ut,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(_l,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Vibes Complex"}),n.jsxs("p",{className:"text-gray-600",children:[C==="raw-materials"?"Raw Materials Inventory":C==="finished-goods"?"Finished Goods Inventory":C==="sales-orders"?"Sales Orders":"Cozy waterfront cafe"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:P,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),C==="raw-materials"&&n.jsxs("button",{onClick:()=>e("/marina-walk-cafe/request-raw-materials"),className:"btn-primary flex items-center",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Request Raw Materials"]}),C==="finished-goods"&&n.jsxs("button",{onClick:()=>e("/marina-walk-cafe/request-finished-goods"),className:"btn-primary flex items-center",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Request Finished Goods"]}),n.jsx(ha,{notifications:T(),onMarkAsRead:x,onMarkAllAsRead:d,onClearAll:p,onRefresh:g})]})]}),M(),n.jsx("input",{ref:N,type:"file",accept:".csv,.xlsx,.xls",onChange:k,className:"hidden"})]})},$f=()=>{const e=ge(),t=Cr(),[r,a]=O.useState(null),[s,i]=O.useState([]),[l,o]=O.useState([]),[c,u]=O.useState(!0),[f,m]=O.useState(null),[h,v]=O.useState(""),[j]=O.useState(""),[y]=O.useState(""),[b]=O.useState("materialName"),[N]=O.useState("asc"),S=O.useRef(null),{notifications:x,markAsRead:d,markAllAsRead:p,clearAll:g,refreshNotifications:w}=pa("360 Mall"),C=()=>{const $=T();console.log(`🔔 360 Mall: Current section: ${$}`),console.log("🔔 360 Mall: All notifications:",x);let L=[];return $==="raw-materials"?L=x.filter(_=>_.isTransferOrder&&(_.itemType==="Raw Material"||_.itemType==="Mixed")):$==="finished-goods"?L=x.filter(_=>_.isTransferOrder&&(_.itemType==="Finished Goods"||_.itemType==="Mixed")):L=x,console.log(`🔔 360 Mall: Filtered notifications for ${$}:`,L),L},T=()=>{const $=t.pathname;return $.includes("/raw-materials")?"raw-materials":$.includes("/finished-goods")?"finished-goods":$.includes("/sales-orders")?"sales-orders":"overview"},P=T();O.useEffect(()=>{D()},[]),O.useEffect(()=>{console.log("🔔 360 Mall: Notifications updated:",x),console.log(`🔔 360 Mall: Number of notifications: ${x.length}`),x.length>0&&console.log("🔔 360 Mall: First notification:",x[0])},[x]),O.useEffect(()=>{console.log('🔔 360 Mall: Component mounted, loading notifications for: "360 Mall"')},[]),O.useEffect(()=>{c||k()},[h,j,y,b,N]),O.useEffect(()=>{x.length>0&&x.some(L=>{var _;return!L.read&&((_=L.title)==null?void 0:_.includes("Transfer from Central Kitchen"))})&&(console.log("New transfer notification detected for 360 Mall, refreshing inventory..."),k())},[x]),O.useEffect(()=>{const $=setInterval(()=>{console.log("🔄 360 Mall: Auto-refreshing notifications..."),w()},5e3);return()=>clearInterval($)},[w]);const D=async()=>{try{u(!0),m(null);const $=await Q.getOutlets({limit:1e3});if($.success){const L=$.data.find(_=>_.outletCode==="OUT-003");L?(a(L),await k()):m("360 Mall not found")}else m("Failed to load outlet data")}catch($){m($ instanceof Error?$.message:"Failed to load outlet data"),console.error("Error loading outlet data:",$)}finally{u(!1)}},k=async()=>{var $,L,_;try{console.log("🔍 Loading 360 Mall inventory from dedicated database"),console.log("   Search params:",{searchTerm:h,filterCategory:j,filterStatus:y,sortBy:b,sortOrder:N});const G=await Q.get360MallRawMaterials({limit:1e3,search:h,subCategory:j,status:y,sortBy:b==="materialName"?"materialName":b,sortOrder:N});if(console.log("📦 Raw Materials API Response:",{success:G.success,dataLength:(($=G.data)==null?void 0:$.length)||0}),G.success)if(console.log("✅ Loaded 360 Mall Raw Materials:",((L=G.data)==null?void 0:L.length)||0,"items"),console.log("   First few items:",(_=G.data)==null?void 0:_.slice(0,3)),G.data&&G.data.length>0){const ue=G.data.map(X=>{var ae;return{id:X._id||X.id,outletId:"360-mall",outletCode:"OUT-003",outletName:"360 Mall",materialId:X._id,materialCode:X.materialCode,materialName:X.materialName,category:X.subCategory||X.category,unitOfMeasure:X.unitOfMeasure,unitPrice:X.unitPrice||0,currentStock:X.currentStock||0,reservedStock:0,availableStock:X.currentStock||0,minimumStock:X.minimumStock||0,maximumStock:X.maximumStock||0,reorderPoint:X.reorderPoint||0,totalValue:(X.currentStock||0)*(X.unitPrice||0),location:((ae=X.storageRequirements)==null?void 0:ae.location)||"Main Storage",batchNumber:X.batchNumber||"",supplier:X.supplierName||"",lastUpdated:X.lastUpdated||X.updatedAt,status:X.status,notes:X.notes||"",isActive:X.isActive}});i(ue)}else console.log("No raw materials inventory found for 360 Mall"),i([]),m("No raw materials inventory found. Please add some raw materials to 360 Mall.");else console.error("Failed to load raw materials inventory:",G.error||"API Error"),m(`Failed to load inventory from server: ${G.error||"Unknown error"}`);const ee=await Q.get360MallFinishedProducts({limit:1e3,search:h,subCategory:j,status:y,sortBy:b==="productName"?"productName":b,sortOrder:N});if(ee.success)if(console.log("Loaded 360 Mall Finished Products:",ee.data),ee.data&&ee.data.length>0){const ue=ee.data.map(X=>({id:X._id||X.id,outletId:"360-mall",outletCode:"OUT-003",outletName:"360 Mall",productId:X._id,productCode:X.productCode,productName:X.productName,category:X.subCategory||X.category,unitOfMeasure:X.unitOfMeasure,unitPrice:X.unitPrice||0,costPrice:X.costPrice||0,currentStock:X.currentStock||0,reservedStock:0,availableStock:X.currentStock||0,minimumStock:X.minimumStock||0,maximumStock:X.maximumStock||0,reorderPoint:X.reorderPoint||0,totalValue:(X.currentStock||0)*(X.unitPrice||0),productionDate:X.productionDate||new Date().toISOString(),expiryDate:X.expiryDate||new Date(Date.now()+864e5).toISOString(),batchNumber:X.batchNumber||"",storageLocation:X.storageLocation||"Cold Storage",storageTemperature:X.storageTemperature||"Cold",qualityStatus:X.qualityStatus||"Good",qualityNotes:X.qualityNotes||"",status:X.status,transferSource:"Transfer",lastUpdated:X.lastUpdated||X.updatedAt,notes:X.notes||"",isActive:X.isActive}));o(ue)}else console.log("No finished goods inventory found for 360 Mall"),o([]);else console.error("Failed to load finished goods inventory:",ee.error||"API Error")}catch(G){m(G instanceof Error?G.message:"Failed to load inventory"),console.error("Error loading inventory:",G)}},M=$=>{switch($){case"In Stock":return"bg-green-100 text-green-800";case"Low Stock":return"bg-yellow-100 text-yellow-800";case"Out of Stock":return"bg-red-100 text-red-800";case"Overstock":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading 360 Mall..."})]})});if(f)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:f}),n.jsx("button",{onClick:D,className:"btn-primary",children:"Retry"})]})});const F=()=>{switch(P){case"raw-materials":return E();case"finished-goods":return B();case"sales-orders":return A();default:return I()}},R=async $=>{var _;const L=(_=$.target.files)==null?void 0:_[0];if(L){if(!L.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const ee=(await L.text()).split(`
`).filter(Ne=>Ne.trim());if(ee.length<2){alert("CSV file must contain at least a header row and one data row");return}const ue=ee.slice(1);let X=0,ae=0;for(const Ne of ue)try{const W=Ne.split(",").map(H=>H.replace(/"/g,"").trim()),ie={materialCode:W[0],materialName:W[1],category:W[3],unitOfMeasure:W[4],unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplier:"",notes:""},de={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(r==null?void 0:r.id)||"mall-food-court-001",outletCode:(r==null?void 0:r.outletCode)||"OUT-003",outletName:(r==null?void 0:r.outletName)||"360 Mall",materialId:ie.materialCode,materialCode:ie.materialCode,materialName:ie.materialName,category:ie.category,unitOfMeasure:ie.unitOfMeasure,unitPrice:ie.unitPrice,currentStock:ie.currentStock,reservedStock:0,availableStock:ie.currentStock,minimumStock:ie.minimumStock,maximumStock:ie.maximumStock,reorderPoint:0,totalValue:0,location:"Main Storage",batchNumber:"",supplier:ie.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:ie.notes,isActive:!0};i(H=>[...H,de]),X++}catch(W){ae++,console.error("Error processing row:",W)}alert(`Import completed!
Successfully imported: ${X} items
Errors: ${ae}`),S.current&&(S.current.value="")}catch(G){console.error("Error importing file:",G),alert("Error importing file. Please check the file format.")}finally{}}},E=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})}),n.jsx("div",{className:"mb-6 space-y-4",children:n.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",placeholder:"Search raw materials...",value:h,onChange:$=>v($.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})})}),n.jsx("input",{ref:S,type:"file",accept:".csv",onChange:R,style:{display:"none"}}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter($=>$.materialId&&$.materialCode&&$.materialName).filter($=>h===""||$.materialCode.toLowerCase().includes(h.toLowerCase())||$.materialName.toLowerCase().includes(h.toLowerCase())||$.category.toLowerCase().includes(h.toLowerCase())).map($=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:$.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.currentStock})]},$.id))})]})})]})}),B=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.filter($=>$.productId&&$.productCode&&$.productName).filter($=>h===""||$.productCode.toLowerCase().includes(h.toLowerCase())||$.productName.toLowerCase().includes(h.toLowerCase())||$.category.toLowerCase().includes(h.toLowerCase())).map($=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:$.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.currentStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",$.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${M($.status)}`,children:$.status})})]},$.id))})]})})]})}),A=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Sales orders functionality will be implemented here."})]})}),I=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-orange-50 to-red-50 border-orange-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(Rl,{className:"h-8 w-8 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType," • ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:(r==null?void 0:r.status)||"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/mall-food-court/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/mall-food-court/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/mall-food-court/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(ut,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(Rl,{className:"h-8 w-8 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"360 Mall"}),n.jsxs("p",{className:"text-gray-600",children:[P==="raw-materials"?"Raw Materials Inventory":P==="finished-goods"?"Finished Goods Inventory":P==="sales-orders"?"Sales Orders":"Fast-service food court outlet"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:D,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),P==="raw-materials"&&n.jsxs("button",{onClick:()=>e("/mall-food-court/request-raw-materials"),className:"btn-primary flex items-center",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Request Raw Materials"]}),P==="finished-goods"&&n.jsxs("button",{onClick:()=>e("/mall-food-court/request-finished-goods"),className:"btn-primary flex items-center",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Request Finished Goods"]}),n.jsx(ha,{notifications:C(),onMarkAsRead:d,onMarkAllAsRead:p,onClearAll:g,onRefresh:w})]})]}),F()]})},_f=()=>{const e=ge(),t=Cr(),[r,a]=O.useState(null),[s,i]=O.useState([]),[l,o]=O.useState([]),[c,u]=O.useState(!0),[f,m]=O.useState(null),[h,v]=O.useState(""),[j]=O.useState(""),[y]=O.useState(""),[b]=O.useState("materialName"),[N]=O.useState("asc"),[,S]=O.useState(!1),x=O.useRef(null),{notifications:d,markAsRead:p,markAllAsRead:g,clearAll:w,refreshNotifications:C}=pa("Taiba Hospital"),[T,P]=O.useState(null),[D,k]=O.useState(!1),[M,F]=O.useState({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""}),[R,E]=O.useState(null),[B,A]=O.useState(!1),[I,$]=O.useState({currentStock:"",unitPrice:"",costPrice:"",minimumStock:"",maximumStock:"",reorderPoint:"",storageLocation:"",storageTemperature:"",qualityStatus:"",qualityNotes:"",notes:""}),L=()=>{const U=t.pathname;return U.includes("/raw-materials")?"raw-materials":U.includes("/finished-goods")?"finished-goods":U.includes("/sales-orders")?"sales-orders":"overview"},_=L(),G=()=>{const U=L();return U==="raw-materials"?d.filter(J=>J.isTransferOrder&&(J.itemType==="Raw Material"||J.itemType==="Mixed")):U==="finished-goods"?d.filter(J=>J.isTransferOrder&&(J.itemType==="Finished Goods"||J.itemType==="Mixed")):d};O.useEffect(()=>{ee()},[]),O.useEffect(()=>{d.length>0&&d.some(J=>{var be;return!J.read&&((be=J.title)==null?void 0:be.includes("Transfer from Central Kitchen"))})&&(console.log("New transfer notification detected for Taiba Hospital, refreshing inventory..."),ue())},[d]),O.useEffect(()=>{r&&!c&&ue()},[h,j,y,b,N]);const ee=async()=>{try{u(!0),m(null);const U=await Q.getOutlets({limit:1e3});if(U.success){const J=U.data.find(be=>be.outletCode==="OUT-004");J?(a(J),await ue()):m("Taiba Hospital not found")}else m("Failed to load outlet data")}catch(U){m(U instanceof Error?U.message:"Failed to load outlet data"),console.error("Error loading outlet data:",U)}finally{u(!1)}},ue=async()=>{try{console.log("Loading Taiba Kitchen inventory...");const U=await Q.getTaibaKitchenRawMaterials({limit:1e3,search:h,category:j,status:y,sortBy:b==="materialName"?"materialName":b,sortOrder:N});if(U.success)if(console.log("Loaded outlet raw materials inventory:",U.data),U.data&&U.data.length>0){const be=U.data.map(te=>{var Ee;return{id:te._id||te.id,outletId:"taiba-kitchen",outletCode:"OUT-004",outletName:"Taiba Hospital",materialId:te._id||te.id,materialCode:te.materialCode,materialName:te.materialName,category:te.category,unitOfMeasure:te.unitOfMeasure,unitPrice:te.unitPrice,currentStock:te.currentStock,reservedStock:0,availableStock:te.currentStock,minimumStock:te.minimumStock,maximumStock:te.maximumStock,reorderPoint:te.reorderPoint,totalValue:te.currentStock*te.unitPrice,location:((Ee=te.storageRequirements)==null?void 0:Ee.location)||"Main Storage",batchNumber:te.batchNumber||"",supplier:te.supplierName||"",lastUpdated:te.updatedAt||new Date().toISOString(),status:te.status,notes:te.notes||"",isActive:te.isActive}});i(be)}else console.log("No raw materials inventory found for Taiba Kitchen"),i([]),m("No raw materials inventory found. Please add some raw materials to Taiba Kitchen.");else console.error("Failed to load raw materials inventory:",U.error||"API Error"),m(`Failed to load inventory from server: ${U.error||"Unknown error"}`);const J=await Q.getTaibaKitchenFinishedProducts({limit:1e3,search:h,category:j,status:y,sortBy:b==="productName"?"productName":b,sortOrder:N});if(J.success)if(console.log("Loaded outlet finished goods inventory:",J.data),J.data&&J.data.length>0){const be=J.data.map(te=>({id:te._id||te.id,outletId:"taiba-kitchen",outletCode:"OUT-004",outletName:"Taiba Hospital",productId:te._id||te.id,productCode:te.productCode,productName:te.productName,category:te.category,unitOfMeasure:te.unitOfMeasure,unitPrice:te.unitPrice,costPrice:te.costPrice||0,currentStock:te.currentStock,reservedStock:0,availableStock:te.currentStock,minimumStock:te.minimumStock,maximumStock:te.maximumStock,reorderPoint:te.reorderPoint,totalValue:te.currentStock*te.unitPrice,productionDate:te.productionDate||new Date().toISOString(),expiryDate:te.expiryDate||new Date(Date.now()+864e5).toISOString(),batchNumber:te.batchNumber||"",storageLocation:te.storageLocation||"Cold Storage",storageTemperature:te.storageTemperature||"Cold",qualityStatus:te.qualityStatus||"Good",qualityNotes:te.qualityNotes||"",status:te.status,transferSource:"Transfer",lastUpdated:te.lastUpdated||te.updatedAt,notes:te.notes||"",isActive:te.isActive}));o(be)}else console.log("No finished goods inventory found for this outlet"),o([]);else console.error("Failed to load finished goods inventory:",J.error||"API Error")}catch(U){m(U instanceof Error?U.message:"Failed to load inventory"),console.error("Error loading inventory:",U)}},X=async()=>{if(T)try{const U={currentStock:parseFloat(M.currentStock),minimumStock:parseFloat(M.minimumStock),maximumStock:parseFloat(M.maximumStock),reorderPoint:parseFloat(M.reorderPoint),unitPrice:parseFloat(M.unitPrice),notes:M.notes},J=await Q.updateTaibaKitchenRawMaterial(T.id,U);J.success?(i(be=>be.map(te=>te.id===T.id?{...te,...U,totalValue:U.currentStock*U.unitPrice}:te)),k(!1),P(null)):alert(`Failed to update inventory item: ${J.error||"Unknown error"}`)}catch(U){console.error("Error updating inventory item:",U),alert("Failed to update inventory item")}},ae=()=>{k(!1),P(null),F({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""})},Ne=U=>{E(U),$({currentStock:U.currentStock.toString(),unitPrice:U.unitPrice.toString(),costPrice:U.costPrice.toString(),minimumStock:U.minimumStock.toString(),maximumStock:U.maximumStock.toString(),reorderPoint:U.reorderPoint.toString(),storageLocation:U.storageLocation||"",storageTemperature:U.storageTemperature||"",qualityStatus:U.qualityStatus||"",qualityNotes:U.qualityNotes||"",notes:U.notes||""}),A(!0)},W=async()=>{if(R)try{const U={currentStock:parseFloat(I.currentStock),unitPrice:parseFloat(I.unitPrice),costPrice:parseFloat(I.costPrice),minimumStock:parseFloat(I.minimumStock),maximumStock:parseFloat(I.maximumStock),reorderPoint:parseFloat(I.reorderPoint),storageLocation:I.storageLocation,storageTemperature:I.storageTemperature,qualityStatus:I.qualityStatus,qualityNotes:I.qualityNotes,notes:I.notes},J=await Q.updateTaibaKitchenFinishedProduct(R.id,U);J.success?(o(be=>be.map(te=>te.id===R.id?{...te,...U,totalValue:U.currentStock*U.unitPrice}:te)),A(!1),E(null)):alert(`Failed to update finished good inventory item: ${J.error||"Unknown error"}`)}catch(U){console.error("Error updating finished good inventory item:",U),alert("Failed to update finished good inventory item")}},ie=()=>{A(!1),E(null),$({currentStock:"",unitPrice:"",costPrice:"",minimumStock:"",maximumStock:"",reorderPoint:"",storageLocation:"",storageTemperature:"",qualityStatus:"",qualityNotes:"",notes:""})},de=U=>{switch(U){case"In Stock":return"bg-green-100 text-green-800";case"Low Stock":return"bg-yellow-100 text-yellow-800";case"Out of Stock":return"bg-red-100 text-red-800";case"Overstock":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Taiba Hospital..."})]})});if(f)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:f}),n.jsx("button",{onClick:ee,className:"btn-primary",children:"Retry"})]})});const H=()=>{switch(_){case"raw-materials":return me();case"finished-goods":return z();case"sales-orders":return re();default:return Z()}},ye=async U=>{var be;const J=(be=U.target.files)==null?void 0:be[0];if(J){if(!J.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{S(!0);const Ee=(await J.text()).split(`
`).filter(pe=>pe.trim());if(Ee.length<2){alert("CSV file must contain at least a header row and one data row");return}const bt=Ee.slice(1);let K=0,se=0;for(const pe of bt)try{const We=pe.split(",").map(Xt=>Xt.replace(/"/g,"").trim()),ve={materialCode:We[0],materialName:We[1],category:We[3],unitOfMeasure:We[4],unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplier:"",notes:""},ht={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(r==null?void 0:r.id)||"drive-thru-express-001",outletCode:(r==null?void 0:r.outletCode)||"DTE001",outletName:(r==null?void 0:r.outletName)||"Taiba Hospital",materialId:ve.materialCode,materialCode:ve.materialCode,materialName:ve.materialName,category:ve.category,unitOfMeasure:ve.unitOfMeasure,unitPrice:ve.unitPrice,currentStock:ve.currentStock,reservedStock:0,availableStock:ve.currentStock,minimumStock:ve.minimumStock,maximumStock:ve.maximumStock,reorderPoint:0,totalValue:0,location:"Main Storage",batchNumber:"",supplier:ve.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:ve.notes,isActive:!0};i(Xt=>[...Xt,ht]),K++}catch(We){se++,console.error("Error processing row:",We)}alert(`Import completed!
Successfully imported: ${K} items
Errors: ${se}`),x.current&&(x.current.value="")}catch(te){console.error("Error importing file:",te),alert("Error importing file. Please check the file format.")}finally{S(!1)}}},me=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})}),n.jsx("div",{className:"mb-6 space-y-4",children:n.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",placeholder:"Search raw materials...",value:h,onChange:U=>v(U.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})})}),n.jsx("input",{ref:x,type:"file",accept:".csv",onChange:ye,style:{display:"none"}}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(U=>U.materialId&&U.materialCode&&U.materialName).filter(U=>h===""||U.materialCode.toLowerCase().includes(h.toLowerCase())||U.materialName.toLowerCase().includes(h.toLowerCase())||U.category.toLowerCase().includes(h.toLowerCase())).map(U=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:U.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.currentStock})]},U.id))})]})})]})}),z=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.filter(U=>U.productId&&U.productCode&&U.productName).filter(U=>h===""||U.productCode.toLowerCase().includes(h.toLowerCase())||U.productName.toLowerCase().includes(h.toLowerCase())||U.category.toLowerCase().includes(h.toLowerCase())).map(U=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:U.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.currentStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",U.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${de(U.status)}`,children:U.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{onClick:()=>Ne(U),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:"Edit"})})]},U.id))})]})})]})}),re=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Sales orders functionality will be implemented here."})]})}),Z=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx($l,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType," • ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:(r==null?void 0:r.status)||"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/drive-thru-express/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/drive-thru-express/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/drive-thru-express/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(ut,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx($l,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Taiba Hospital"}),n.jsxs("p",{className:"text-gray-600",children:[_==="raw-materials"?"Raw Materials Inventory":_==="finished-goods"?"Finished Goods Inventory":_==="sales-orders"?"Sales Orders":"Express drive-thru outlet"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:ee,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),_==="raw-materials"&&n.jsxs("button",{onClick:()=>e("/drive-thru-express/request-raw-materials"),className:"btn-primary flex items-center",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Request Raw Materials"]}),_==="finished-goods"&&n.jsxs("button",{onClick:()=>e("/drive-thru-express/request-finished-goods"),className:"btn-primary flex items-center",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Request Finished Goods"]}),n.jsx(ha,{notifications:G(),onMarkAsRead:p,onMarkAllAsRead:g,onClearAll:w,onRefresh:C})]})]}),H(),D&&T&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Edit Inventory Item"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[T.materialCode," - ",T.materialName]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock"}),n.jsx("input",{type:"number",step:"0.01",value:M.currentStock,onChange:U=>F(J=>({...J,currentStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",value:M.unitPrice,onChange:U=>F(J=>({...J,unitPrice:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:M.minimumStock,onChange:U=>F(J=>({...J,minimumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:M.maximumStock,onChange:U=>F(J=>({...J,maximumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reorder Point"}),n.jsx("input",{type:"number",step:"0.01",value:M.reorderPoint,onChange:U=>F(J=>({...J,reorderPoint:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:M.notes,onChange:U=>F(J=>({...J,notes:U.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:ae,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:X,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})}),B&&R&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Edit Finished Good Inventory Item"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[R.productCode," - ",R.productName]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock"}),n.jsx("input",{type:"number",step:"0.01",value:I.currentStock,onChange:U=>$(J=>({...J,currentStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",value:I.unitPrice,onChange:U=>$(J=>({...J,unitPrice:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price"}),n.jsx("input",{type:"number",step:"0.01",value:I.costPrice,onChange:U=>$(J=>({...J,costPrice:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:I.minimumStock,onChange:U=>$(J=>({...J,minimumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:I.maximumStock,onChange:U=>$(J=>({...J,maximumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reorder Point"}),n.jsx("input",{type:"number",step:"0.01",value:I.reorderPoint,onChange:U=>$(J=>({...J,reorderPoint:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Location"}),n.jsx("input",{type:"text",value:I.storageLocation,onChange:U=>$(J=>({...J,storageLocation:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Temperature"}),n.jsxs("select",{value:I.storageTemperature,onChange:U=>$(J=>({...J,storageTemperature:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"Cold",children:"Cold"}),n.jsx("option",{value:"Frozen",children:"Frozen"}),n.jsx("option",{value:"Hot",children:"Hot"}),n.jsx("option",{value:"Room Temperature",children:"Room Temperature"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quality Status"}),n.jsxs("select",{value:I.qualityStatus,onChange:U=>$(J=>({...J,qualityStatus:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Damaged",children:"Damaged"}),n.jsx("option",{value:"Expired",children:"Expired"}),n.jsx("option",{value:"Under Review",children:"Under Review"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quality Notes"}),n.jsx("textarea",{value:I.qualityNotes,onChange:U=>$(J=>({...J,qualityNotes:U.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:I.notes,onChange:U=>$(J=>({...J,notes:U.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:ie,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:W,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})})]})},FZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState(!0),[i,l]=O.useState(null),[o,c]=O.useState(null),[u,f]=O.useState(!1),[m,h]=O.useState(""),[v,j]=O.useState(""),[y,b]=O.useState(""),[N,S]=O.useState("createdAt"),[x,d]=O.useState("desc");O.useEffect(()=>{p()},[]),O.useEffect(()=>{a||p()},[m,v,y,N,x]);const p=async()=>{try{s(!0),l(null);const k=await Q.getRawMaterialForecasts({limit:1e3,search:m,status:v,forecastPeriod:y,sortBy:N,sortOrder:x});k.success?(console.log("Loaded Raw Material Forecasts:",k.data),r(k.data)):l("Failed to load forecasts")}catch(k){l(k instanceof Error?k.message:"Failed to load forecasts"),console.error("Error loading forecasts:",k)}finally{s(!1)}},g=t,w=()=>{h(""),j(""),b(""),S("createdAt"),d("desc"),p()},C=k=>{c(k),f(!0)},T=async k=>{if(window.confirm("Are you sure you want to delete this forecast?"))try{(await Q.deleteRawMaterialForecast(k)).success?await p():alert("Failed to delete forecast")}catch(M){alert("Error deleting forecast: "+(M instanceof Error?M.message:"Unknown error")),console.error("Error deleting forecast:",M)}},P=k=>{switch(k){case"Active":return"bg-green-100 text-green-800";case"Draft":return"bg-yellow-100 text-yellow-800";case"Completed":return"bg-blue-100 text-blue-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=k=>{switch(k){case"High":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading forecasts..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:p,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ingredient Forecast"}),n.jsx("p",{className:"text-gray-600",children:"Plan and predict your ingredient requirements based on Job Orders"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:p,className:"btn-secondary flex items-center",title:"Refresh forecasts",children:[n.jsx(Un,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/raw-material-forecast/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Forecast"]})]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search forecasts by name, number, or description...",className:"input-field pl-10",value:m,onChange:k=>h(k.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:w,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:v,onChange:k=>j(k.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),n.jsxs("select",{className:"input-field",value:y,onChange:k=>b(k.target.value),children:[n.jsx("option",{value:"",children:"All Periods"}),n.jsx("option",{value:"Weekly",children:"Weekly"}),n.jsx("option",{value:"Monthly",children:"Monthly"}),n.jsx("option",{value:"Quarterly",children:"Quarterly"}),n.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:N,onChange:k=>S(k.target.value),children:[n.jsx("option",{value:"createdAt",children:"Date Created"}),n.jsx("option",{value:"forecastNumber",children:"Forecast Number"}),n.jsx("option",{value:"forecastName",children:"Forecast Name"}),n.jsx("option",{value:"totalValue",children:"Total Value"}),n.jsx("option",{value:"forecastStartDate",children:"Start Date"})]}),n.jsx("button",{onClick:()=>d(x==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${x==="asc"?"Descending":"Ascending"}`,children:x==="asc"?"↑":"↓"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",g.length," forecasts",(m||v||y)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(m||v||y)&&n.jsx("button",{onClick:w,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Forecast #"}),n.jsx("th",{className:"table-header",children:"Name"}),n.jsx("th",{className:"table-header",children:"Period"}),n.jsx("th",{className:"table-header",children:"Start Date"}),n.jsx("th",{className:"table-header",children:"End Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Confidence"}),n.jsx("th",{className:"table-header",children:"Total Value"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(k=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:k.forecastNumber}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900 font-medium",children:k.forecastName}),n.jsx("div",{className:"text-gray-500 text-sm max-w-xs truncate",children:k.forecastDescription})]})}),n.jsx("td",{className:"table-cell",children:k.forecastPeriod}),n.jsx("td",{className:"table-cell",children:new Date(k.forecastStartDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:new Date(k.forecastEndDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P(k.status)}`,children:k.status})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(k.confidenceLevel)}`,children:k.confidenceLevel})}),n.jsxs("td",{className:"table-cell font-semibold",children:[k.totalValue.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>C(k),className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(tn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/raw-material-forecast/edit/${k.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Wr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>T(k.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},k.id))})]})})}),u&&o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Forecast Details"}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Oe,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forecast Number"}),n.jsx("p",{className:"text-gray-900 font-mono",children:o.forecastNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forecast Name"}),n.jsx("p",{className:"text-gray-900",children:o.forecastName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),n.jsx("p",{className:"text-gray-900",children:o.forecastPeriod})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P(o.status)}`,children:o.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.forecastStartDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.forecastEndDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confidence Level"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(o.confidenceLevel)}`,children:o.confidenceLevel})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Value"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:[o.totalValue.toFixed(2)," KWD"]})]})]}),o.forecastDescription&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("p",{className:"text-gray-900",children:o.forecastDescription})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Forecast Items (",o.items.length," items)"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.items.map((k,M)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-mono",children:k.materialCode}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:k.materialName}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[k.requiredQuantity.toFixed(2)," ",k.unitOfMeasure]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[k.availableQuantity.toFixed(2)," ",k.unitOfMeasure]}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.shortfall>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[k.shortfall.toFixed(2)," ",k.unitOfMeasure]})}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[k.unitPrice.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[k.forecastValue.toFixed(2)," KWD"]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-mono text-xs",children:k.jobOrderNumber}),n.jsx("div",{className:"text-xs",children:k.bomCode})]})})]},M))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),n.jsx("p",{className:"text-gray-900",children:o.createdBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),n.jsx("p",{className:"text-gray-900",children:o.updatedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.updatedAt).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>f(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{f(!1),e(`/raw-material-forecast/edit/${o.id}`)},className:"btn-primary",children:"Edit Forecast"})]})]})})]})},BZ=()=>{const e=ge(),[t,r]=O.useState({selectedJobOrderId:"",items:[]}),[a,s]=O.useState({}),[i,l]=O.useState([]),[o,c]=O.useState([]),[u,f]=O.useState(!1),[m,h]=O.useState(null),[v,j]=O.useState(new Set);O.useEffect(()=>{y(),b()},[]);const y=async()=>{try{f(!0),console.log("Loading job orders from backend...");const p=await Q.getJobOrders({limit:1e3});console.log("Job orders response:",p),p.success&&p.data&&p.data.length>0?(l(p.data),console.log("✅ Loaded job orders from backend:",p.data.length)):(console.log("⚠️ No job orders found in backend"),l([]))}catch(p){console.error("❌ Error loading job orders from backend:",p),l([])}finally{f(!1)}},b=async()=>{try{console.log("Loading BOMs from backend...");const p=await Q.getBillOfMaterials({limit:1e3});p.success&&p.data&&p.data.length>0?(c(p.data),console.log("✅ Loaded BOMs from backend:",p.data.length)):(console.log("⚠️ No BOMs found in backend"),c([]))}catch(p){console.error("❌ Error loading BOMs from backend:",p),c([])}},N=p=>{const g=i.find(C=>C.id===p);if(!g)return;h(g),r(C=>({...C,selectedJobOrderId:p}));const w=new Map;g.items.forEach(C=>{const T=o.find(P=>P.id===C.bomId);T&&T.items.forEach(P=>{const D=P.materialCode,k=C.totalQuantity*P.quantity;if(w.has(D)){const M=w.get(D);M.requiredQuantity+=k,M.forecastQuantity=M.requiredQuantity,M.forecastValue=M.forecastQuantity*M.unitPrice,M.shortfall=Math.max(0,M.requiredQuantity-M.availableQuantity)}else{const M={materialId:P.materialId,materialCode:P.materialCode,materialName:P.materialName,currentStock:0,unitOfMeasure:P.unitOfMeasure,unitPrice:P.unitCost,forecastQuantity:k,forecastValue:k*P.unitCost,leadTime:3,requiredQuantity:k,availableQuantity:0,shortfall:k,jobOrderId:g.id,jobOrderNumber:g.jobOrderNumber,bomId:T.id,bomCode:T.bomCode,notes:`Required for ${C.product} (${C.totalQuantity} units)`};w.set(D,M)}})}),r(C=>({...C,items:Array.from(w.values())}))},S=()=>{const p={};return t.selectedJobOrderId||(p.selectedJobOrderId="Please select a Recipe Order"),t.items.length===0&&(p.items="No forecast items generated. Please select a Recipe Order with valid BOMs."),s(p),Object.keys(p).length===0},x=async p=>{if(p.preventDefault(),!!S())try{const g=t.items.reduce((P,D)=>P+D.forecastValue,0),C={forecastNumber:`FC-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`,forecastName:`Forecast for ${m==null?void 0:m.jobOrderNumber}`,forecastDescription:`Material forecast based on Job Order ${m==null?void 0:m.jobOrderNumber}`,forecastPeriod:"Monthly",forecastStartDate:new Date().toISOString().split("T")[0],forecastEndDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],status:"Draft",totalValue:Math.round(g*100)/100,items:t.items,basedOnJobOrders:!0,basedOnHistoricalData:!1,confidenceLevel:"Medium",createdBy:"admin",updatedBy:"admin"};console.log("Creating Forecast:",C);const T=await Q.createRawMaterialForecast(C);if(T.success){let P="Forecast created successfully!";if(T.data&&T.data.generatedPurchaseOrder){const D=T.data.generatedPurchaseOrder;P+=`

📦 Purchase Order Generated:
PO Number: ${D.poNumber}
Total Amount: ${D.totalAmount.toFixed(2)} KWD
Items: ${D.items.length} materials
Status: ${D.status}`}alert(P),e("/raw-material-forecast")}else alert("Error creating forecast: "+(T.message||"Unknown error"))}catch(g){console.error("Error creating forecast:",g),alert("Error creating forecast: "+(g instanceof Error?g.message:"Unknown error"))}},d=p=>{const g=new Set(v);g.has(p)?g.delete(p):g.add(p),j(g)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Ingredient Forecast"}),n.jsx("p",{className:"text-gray-600",children:"Create an ingredient forecast based on Job Orders"})]}),n.jsxs("button",{onClick:()=>e("/raw-material-forecast"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Forecasts"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:x,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Step 1: Select Recipe Order"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Recipe Order *"}),n.jsxs("select",{className:`input-field ${a.selectedJobOrderId?"border-red-500":""}`,value:t.selectedJobOrderId,onChange:p=>N(p.target.value),children:[n.jsx("option",{value:"",children:"Select a Recipe Order"}),u?n.jsx("option",{disabled:!0,children:"Loading recipe orders..."}):i.map(p=>n.jsxs("option",{value:p.id,children:["Recipe Order #",p.jobOrderNumber," - ",p.customerName," (",p.items.length," items)"]},p.id))]}),a.selectedJobOrderId&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.selectedJobOrderId})]}),m&&n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Selected Recipe Order Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Order Number:"})," ",m.jobOrderNumber]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Customer:"})," ",m.customerName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Total Items:"})," ",m.items.length]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",m.totalAmount.toFixed(2)," KWD"]})]})]})]})]}),m&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Step 2: Recipe Order Items & Ingredients"}),n.jsx("div",{className:"space-y-4",children:m.items.map((p,g)=>{const w=o.find(P=>P.id===p.bomId),C=`item-${g}`,T=v.has(C);return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(vD,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:p.product}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",p.totalQuantity," units | Unit Price: ",p.unitPrice.toFixed(2)," KWD | Total: ",p.totalPrice.toFixed(2)," KWD"]})]})]}),n.jsx("button",{type:"button",onClick:()=>d(C),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:T?"Hide Ingredients":"Show Ingredients"})]}),T&&w&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(xe,{className:"h-4 w-4 text-green-600"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Recipe: ",w.productName," (",w.bomCode,")"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingredient"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Per Unit"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Cost"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.items.map((P,D)=>{const k=p.totalQuantity*P.quantity,M=0,F=Math.max(0,k-M),R=k*P.unitCost;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.materialName}),n.jsx("div",{className:"text-sm text-gray-500 font-mono",children:P.materialCode})]})}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:P.unitOfMeasure}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:P.quantity}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-semibold",children:k.toFixed(2)}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.toFixed(2)}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:F.toFixed(2)})}),n.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:[P.unitCost.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900 font-semibold",children:[R.toFixed(2)," KWD"]})]},D)})})]})})]})]},g)})})]}),t.items.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Step 3: Forecast Summary"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-red-800 font-semibold text-lg",children:t.items.reduce((p,g)=>p+g.shortfall,0).toFixed(2)}),n.jsx("div",{className:"text-red-600 text-sm",children:"Total Shortfall"})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-blue-800 font-semibold text-lg",children:t.items.reduce((p,g)=>p+g.requiredQuantity,0).toFixed(2)}),n.jsx("div",{className:"text-blue-600 text-sm",children:"Total Required"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-green-800 font-semibold text-lg",children:t.items.reduce((p,g)=>p+g.availableQuantity,0).toFixed(2)}),n.jsx("div",{className:"text-green-600 text-sm",children:"Total Available"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.items.map((p,g)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("div",{className:"text-sm text-gray-500 font-mono",children:p.materialCode})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:p.unitOfMeasure}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:p.requiredQuantity.toFixed(2)}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:p.availableQuantity.toFixed(2)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.shortfall>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:p.shortfall.toFixed(2)})}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[p.unitPrice.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[p.forecastValue.toFixed(2)," KWD"]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-mono text-xs",children:p.jobOrderNumber}),n.jsx("div",{className:"text-xs",children:p.bomCode})]})})]},g))})]})}),n.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx("div",{children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Forecast Value: ",t.items.reduce((p,g)=>p+g.forecastValue,0).toFixed(2)," KWD"]})}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-red-600",children:["Total Shortfall Value: ",t.items.reduce((p,g)=>p+g.shortfall*g.unitPrice,0).toFixed(2)," KWD"]})})]}),t.items.some(p=>p.shortfall>0)&&n.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"📦 Purchase Order will be automatically generated for shortfall quantities"}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Total PO Value: ",t.items.reduce((p,g)=>p+g.shortfall*g.unitPrice,0).toFixed(2)," KWD"]})]})]})})]})]})]}),t.items.length>0&&n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/raw-material-forecast"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Generate Forecast"]})]})]})})]})},Vi=()=>{const e=ge(),t=Cr(),[r,a]=O.useState([]),[s,i]=O.useState(!0),[l,o]=O.useState(null),[c,u]=O.useState(""),[f,m]=O.useState(""),[h,v]=O.useState(""),[j,y]=O.useState(""),[b,N]=O.useState(""),[S,x]=O.useState(null),[d,p]=O.useState(!1),[g,w]=O.useState([]),[C,T]=O.useState(null),P=()=>{const _=t.pathname;return _.includes("/downtown-restaurant/sales-orders")?"Kuwait City":_.includes("/marina-walk-cafe/sales-orders")?"360 Mall":_.includes("/mall-food-court/sales-orders")?"Vibes Complex":_.includes("/drive-thru-express/sales-orders")?"Taiba Hospital":null},D=["Pending","Confirmed","Preparing","Ready","Served","Completed","Cancelled"],k=["Dine-in","Takeaway","Delivery","Drive-thru"],M=["Pending","Paid","Partially Paid","Refunded"],F=async()=>{i(!0),o(null);try{const _=await Q.getSalesOrders({search:c,outletId:f,orderStatus:h,orderType:j,paymentStatus:b,limit:1e3,sortBy:"orderTiming.orderDate",sortOrder:"desc"});_.success?a(_.data):(console.log("API failed, loading sample data"),R())}catch(_){console.log("API error, loading sample data:",_),R()}finally{i(!1)}},R=()=>{const _=[{_id:"so-001",orderNumber:"SO-DT-001-001",outletId:{_id:"outlet-downtown-001",outletCode:"DT-001",outletName:"Kuwait City"},outletCode:"DT-001",outletName:"Kuwait City",customerInfo:{customerName:"John Smith",customerPhone:"+965-1234-5678",customerEmail:"john.smith@email.com",tableNumber:"T-05",orderType:"Dine-in"},orderItems:[{productId:{_id:"fg-001",productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages"},productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages",quantity:2,unitPrice:4.5,totalPrice:9,specialInstructions:"Extra ice"},{productId:{_id:"fg-002",productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals"},productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals",quantity:1,unitPrice:8.75,totalPrice:8.75,specialInstructions:"No nuts"}],orderSummary:{subtotal:17.75,taxAmount:2.66,discountAmount:0,totalAmount:20.41,paymentMethod:"Card",paymentStatus:"Paid"},orderStatus:"Ready",orderTiming:{orderDate:new Date().toISOString(),estimatedPrepTime:15,servedAt:new Date().toISOString()},notes:"Regular customer",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"so-002",orderNumber:"SO-MW-001-002",outletId:{_id:"outlet-marina-001",outletCode:"MW-001",outletName:"360 Mall"},outletCode:"MW-001",outletName:"360 Mall",customerInfo:{customerName:"Sarah Johnson",customerPhone:"+965-9876-5432",customerEmail:"sarah.j@email.com",orderType:"Takeaway"},orderItems:[{productId:{_id:"fg-003",productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages"},productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages",quantity:1,unitPrice:5.25,totalPrice:5.25}],orderSummary:{subtotal:5.25,taxAmount:.79,discountAmount:0,totalAmount:6.04,paymentMethod:"Cash",paymentStatus:"Paid"},orderStatus:"Completed",orderTiming:{orderDate:new Date(Date.now()-18e5).toISOString(),estimatedPrepTime:10,servedAt:new Date(Date.now()-12e5).toISOString(),completedAt:new Date(Date.now()-6e5).toISOString()},notes:"Quick takeaway order",createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-6e5).toISOString()},{_id:"so-003",orderNumber:"SO-MF-001-003",outletId:{_id:"outlet-mall-001",outletCode:"MF-001",outletName:"Vibes Complex"},outletCode:"MF-001",outletName:"Vibes Complex",customerInfo:{customerName:"Ahmed Al-Rashid",customerPhone:"+965-5555-1234",tableNumber:"T-12",orderType:"Dine-in"},orderItems:[{productId:{_id:"fg-004",productCode:"FG-004",productName:"Quinoa Salad",category:"Meals"},productCode:"FG-004",productName:"Quinoa Salad",category:"Meals",quantity:2,unitPrice:7.5,totalPrice:15,specialInstructions:"Extra dressing"},{productId:{_id:"fg-005",productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks"},productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks",quantity:1,unitPrice:3.25,totalPrice:3.25}],orderSummary:{subtotal:18.25,taxAmount:2.74,discountAmount:1,totalAmount:19.99,paymentMethod:"Digital Wallet",paymentStatus:"Paid"},orderStatus:"Preparing",orderTiming:{orderDate:new Date(Date.now()-6e5).toISOString(),estimatedPrepTime:20},notes:"Family lunch order",createdAt:new Date(Date.now()-6e5).toISOString(),updatedAt:new Date(Date.now()-3e5).toISOString()}];a(_),o(null)},E=async()=>{try{const _=await Q.getOutlets({limit:1e3});if(_.success){w(_.data);const G=P();if(G){const ee=_.data.find(ue=>ue.outletName===G);ee&&(T(ee),m(ee._id))}}}catch(_){console.error("Error loading outlets:",_)}};O.useEffect(()=>{E()},[]),O.useEffect(()=>{F()},[c,f,h,j,b]);const B=_=>{x(_),p(!0)},A=async _=>{if(window.confirm("Are you sure you want to delete this sales order?"))try{const G=await Q.deleteSalesOrder(_);G.success?(alert(G.message),F()):alert(G.message||"Failed to delete sales order")}catch(G){alert(G.message||"An error occurred during deletion")}},I=_=>{switch(_){case"Pending":return"bg-yellow-100 text-yellow-800";case"Confirmed":return"bg-blue-100 text-blue-800";case"Preparing":return"bg-orange-100 text-orange-800";case"Ready":return"bg-green-100 text-green-800";case"Served":return"bg-green-100 text-green-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$=_=>{switch(_){case"Pending":return"bg-yellow-100 text-yellow-800";case"Paid":return"bg-green-100 text-green-800";case"Partially Paid":return"bg-blue-100 text-blue-800";case"Refunded":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=_=>{switch(_){case"Dine-in":return"🍽️";case"Takeaway":return"🥡";case"Delivery":return"🚚";case"Drive-thru":return"🚗";default:return"📋"}};return n.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Sales Orders",C&&n.jsxs("span",{className:"text-lg font-normal text-gray-600 ml-2",children:["- ",C.outletName]})]}),C&&n.jsxs("p",{className:"text-gray-600 mt-1",children:["Managing sales orders for ",C.outletName]})]}),n.jsxs("button",{onClick:()=>{const _=P();if(_){const G=_.toLowerCase().replace(/\s+/g,"-");e(`/${G}/sales-orders/add`)}else e("/sales-orders/add")},className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[n.jsx(we,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Create Order"]})]}),n.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Bt,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),n.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search orders...",value:c,onChange:_=>u(_.target.value)})]})]}),!C&&n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"outletFilter",className:"block text-sm font-medium text-gray-700",children:"Outlet"}),n.jsxs("select",{id:"outletFilter",name:"outletFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:f,onChange:_=>m(_.target.value),children:[n.jsx("option",{value:"",children:"All Outlets"}),g.map(_=>n.jsx("option",{value:_._id,children:_.outletName},_._id))]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"statusFilter",className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsxs("select",{id:"statusFilter",name:"statusFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:h,onChange:_=>v(_.target.value),children:[n.jsx("option",{value:"",children:"All Statuses"}),D.map(_=>n.jsx("option",{value:_,children:_},_))]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"orderTypeFilter",className:"block text-sm font-medium text-gray-700",children:"Order Type"}),n.jsxs("select",{id:"orderTypeFilter",name:"orderTypeFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:j,onChange:_=>y(_.target.value),children:[n.jsx("option",{value:"",children:"All Types"}),k.map(_=>n.jsx("option",{value:_,children:_},_))]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"paymentStatusFilter",className:"block text-sm font-medium text-gray-700",children:"Payment"}),n.jsxs("select",{id:"paymentStatusFilter",name:"paymentStatusFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:b,onChange:_=>N(_.target.value),children:[n.jsx("option",{value:"",children:"All Payments"}),M.map(_=>n.jsx("option",{value:_,children:_},_))]})]})]}),n.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[n.jsxs("button",{onClick:()=>{u(""),C||m(""),v(""),y(""),N("")},className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[n.jsx(Oe,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Clear Filters"]}),n.jsxs("button",{onClick:F,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[n.jsx(_t,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Refresh"]})]})]}),s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full"}),n.jsx("p",{className:"text-gray-600 mt-3",children:"Loading sales orders..."})]}):l?n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[n.jsx("strong",{className:"font-bold",children:"Error!"}),n.jsxs("span",{className:"block sm:inline",children:[" ",l]}),n.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:n.jsx(Oe,{className:"h-6 w-6 text-red-500 cursor-pointer",onClick:()=>o(null)})})]}):r.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ut,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-lg",children:"No sales orders found."}),n.jsx("p",{className:"text-sm",children:"Try adjusting your filters or create a new order."})]}):n.jsx("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order #"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{scope:"col",className:"relative px-6 py-3",children:n.jsx("span",{className:"sr-only",children:"Actions"})})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(_=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.orderNumber}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:_.customerInfo.customerName}),_.customerInfo.customerPhone&&n.jsx("div",{className:"text-gray-400",children:_.customerInfo.customerPhone})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.outletName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("span",{className:"flex items-center",children:[n.jsx("span",{className:"mr-1",children:L(_.customerInfo.orderType)}),_.customerInfo.orderType]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[_.orderItems.length," item",_.orderItems.length!==1?"s":""]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",_.orderSummary.totalAmount.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I(_.orderStatus)}`,children:_.orderStatus})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$(_.orderSummary.paymentStatus)}`,children:_.orderSummary.paymentStatus})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(_.orderTiming.orderDate).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[n.jsx("button",{onClick:()=>B(_),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"View Details",children:n.jsx(tn,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>e(`/sales-orders/edit/${_._id}`),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"Edit",children:n.jsx(Wr,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>A(_._id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-5 w-5"})})]})]},_._id))})]})}),d&&S&&n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-800 bg-opacity-75 flex justify-center items-center",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-4xl mx-4 my-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Order Details: ",S.orderNumber]}),n.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(Oe,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Customer Information"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",S.customerInfo.customerName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",S.customerInfo.customerPhone||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",S.customerInfo.customerEmail||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Order Type:"})," ",L(S.customerInfo.orderType)," ",S.customerInfo.orderType]}),S.customerInfo.tableNumber&&n.jsxs("p",{children:[n.jsx("strong",{children:"Table:"})," ",S.customerInfo.tableNumber]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Order Summary"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Outlet:"})," ",S.outletName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I(S.orderStatus)}`,children:S.orderStatus})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Payment:"})," ",n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$(S.orderSummary.paymentStatus)}`,children:S.orderSummary.paymentStatus})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Method:"})," ",S.orderSummary.paymentMethod]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total:"})," $",S.orderSummary.totalAmount.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Order Items"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.orderItems.map((_,G)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:_.productName}),n.jsx("div",{className:"text-gray-500",children:_.productCode}),_.specialInstructions&&n.jsx("div",{className:"text-gray-400 text-xs italic",children:_.specialInstructions})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.quantity}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",_.unitPrice.toFixed(2)]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",_.totalPrice.toFixed(2)]})]},G))})]})})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Close"})})]})})]})},Gi=()=>{const e=ge(),t=Cr(),[r,a]=O.useState(null),[s,i]=O.useState([]),[l,o]=O.useState(!0),[c,u]=O.useState({orderNumber:"",outletId:"",outletCode:"",outletName:"",customerInfo:{customerName:"",customerPhone:"",customerEmail:"",tableNumber:"",orderType:"Dine-in"},orderItems:[],orderSummary:{subtotal:0,taxAmount:0,discountAmount:0,totalAmount:0,paymentMethod:"Cash",paymentStatus:"Pending"},orderStatus:"Pending",orderTiming:{orderDate:new Date().toISOString().split("T")[0],estimatedPrepTime:15},notes:""}),[f,m]=O.useState({}),[h]=O.useState("");O.useEffect(()=>{const M=new URLSearchParams(t.search).get("outlet");M?v(M):j()},[t.search]);const v=async k=>{try{o(!0);const F={"downtown-restaurant":{id:"outlet-downtown-001",outletCode:"DT-001",outletName:"Kuwait City",outletType:"Restaurant"},"marina-walk-cafe":{id:"outlet-marina-001",outletCode:"MW-001",outletName:"360 Mall",outletType:"Cafe"},"mall-food-court":{id:"outlet-mall-001",outletCode:"MF-001",outletName:"Vibes Complex",outletType:"Food Court"},"drive-thru-express":{id:"outlet-drive-001",outletCode:"DTE-001",outletName:"Taiba Hospital",outletType:"Drive-Thru"},"central-kitchen":{id:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Kitchen"},"Central Kitchen":{id:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Kitchen"}}[k];F&&(a(F),u(R=>({...R,outletId:F.id,outletCode:F.outletCode,outletName:F.outletName,orderNumber:`SO-${F.outletCode}-${Date.now().toString().slice(-6)}`}))),await y()}catch(M){console.error("Error loading outlet data:",M)}finally{o(!1)}},j=async()=>{try{o(!0);const k=await Q.getOutlets({limit:1e3});if(k.success&&k.data.length>0){const M=k.data[0];a(M),u(F=>({...F,outletId:M._id||M.id,outletCode:M.outletCode,outletName:M.outletName,orderNumber:`SO-${M.outletCode}-${Date.now().toString().slice(-6)}`}))}await y()}catch(k){console.error("Error loading default outlet:",k)}finally{o(!1)}},y=async()=>{try{const k=await Q.getFinishedGoods({limit:1e3});k.success?i(k.data):(console.log("API failed, loading sample products"),b())}catch(k){console.error("Error loading products:",k),b()}},b=()=>{i([{_id:"fg-001",id:"fg-001",productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages",unitPrice:4.5,description:"Fresh green smoothie with spinach, banana, and apple"},{_id:"fg-002",id:"fg-002",productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals",unitPrice:8.75,description:"High protein meal bowl with quinoa and vegetables"},{_id:"fg-003",id:"fg-003",productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages",unitPrice:5.25,description:"Fresh detox juice blend with celery and cucumber"},{_id:"fg-004",id:"fg-004",productCode:"FG-004",productName:"Quinoa Salad",category:"Meals",unitPrice:7.5,description:"Healthy quinoa salad with mixed vegetables"},{_id:"fg-005",id:"fg-005",productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks",unitPrice:3.25,description:"High protein energy bar for quick nutrition"},{_id:"fg-006",id:"fg-006",productCode:"FG-006",productName:"Fresh Fruit Bowl",category:"Meals",unitPrice:6,description:"Mixed fresh fruit bowl with seasonal fruits"},{_id:"fg-007",id:"fg-007",productCode:"FG-007",productName:"Acai Bowl",category:"Meals",unitPrice:9.5,description:"Nutritious acai bowl with granola and berries"},{_id:"fg-008",id:"fg-008",productCode:"FG-008",productName:"Cold Brew Coffee",category:"Beverages",unitPrice:3.75,description:"Smooth cold brew coffee with natural sweetness"}])},N=["Dine-in","Takeaway","Delivery","Drive-thru"],S=["Cash","Card","Digital Wallet","Credit","Mixed"],x=["Pending","Paid","Partially Paid","Refunded"],d=["Pending","Confirmed","Preparing","Ready","Served","Completed","Cancelled"],p=()=>{const k={};return c.orderNumber.trim()||(k.orderNumber="Order number is required"),c.customerInfo.customerName.trim()||(k.customerName="Customer name is required"),c.customerInfo.orderType||(k.orderType="Order type is required"),c.orderItems.length===0&&(k.orderItems="At least one item is required"),m(k),Object.keys(k).length===0},g=async k=>{if(k.preventDefault(),!!p())try{const M=c.orderItems.reduce((A,I)=>A+I.totalPrice,0),F=M*.15,R=M+F-c.orderSummary.discountAmount,E={orderNumber:c.orderNumber,outletId:c.outletId,outletCode:c.outletCode,outletName:c.outletName,customerInfo:c.customerInfo,orderItems:c.orderItems,orderSummary:{...c.orderSummary,subtotal:M,taxAmount:F,totalAmount:R},orderStatus:c.orderStatus,orderTiming:c.orderTiming,notes:c.notes};console.log("Creating Sales Order:",E);const B=await Q.createSalesOrder(E);if(B.success){alert("Sales Order created successfully!");const A=new URLSearchParams(t.search).get("outlet");if(A)if(A==="Central Kitchen")e("/central-kitchen");else{const I=A.toLowerCase().replace(/\s+/g,"-");e(`/${I}/sales-orders`)}else e("/sales-orders")}else alert("Failed to create Sales Order: "+B.message)}catch(M){console.error("Error creating Sales Order:",M),alert("Error creating Sales Order: "+(M instanceof Error?M.message:"Unknown error"))}},w=(k,M)=>{if(k.includes(".")){const[F,R]=k.split(".");u(E=>({...E,[F]:{...E[F]||{},[R]:M}}))}else u(F=>({...F,[k]:M}));f[k]&&m(F=>({...F,[k]:""}))},C=()=>{const k={productId:"",productCode:"",productName:"",category:"",quantity:1,unitPrice:0,totalPrice:0,specialInstructions:""};u(M=>({...M,orderItems:[...M.orderItems,k]}))},T=(k,M,F)=>{const R=[...c.orderItems];if(R[k]={...R[k],[M]:F},M==="quantity"||M==="unitPrice"){const E=M==="quantity"?Number(F):R[k].quantity,B=M==="unitPrice"?Number(F):R[k].unitPrice;R[k].totalPrice=E*B}if(M==="productId"&&typeof F=="string"){const E=s.find(B=>B._id===F||B.id===F);E&&(R[k].productCode=E.productCode,R[k].productName=E.productName,R[k].category=E.category,R[k].unitPrice=E.unitPrice,R[k].totalPrice=R[k].quantity*E.unitPrice)}u(E=>({...E,orderItems:R}))},P=k=>{const M=c.orderItems.filter((F,R)=>R!==k);u(F=>({...F,orderItems:M}))},D=s.filter(k=>k.productName.toLowerCase().includes(h.toLowerCase())||k.productCode.toLowerCase().includes(h.toLowerCase())||k.category.toLowerCase().includes(h.toLowerCase()));return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading sales order form..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Sales Order"}),n.jsx("p",{className:"text-gray-600",children:r?`${r.outletName} (${r.outletCode})`:"Select an outlet"})]}),n.jsxs("button",{onClick:()=>e("/sales-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Back to Sales Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:g,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(xe,{className:"h-5 w-5 mr-2"}),"Order Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${f.orderNumber?"border-red-500":""}`,value:c.orderNumber,onChange:k=>w("orderNumber",k.target.value),placeholder:"Enter order number"}),f.orderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.orderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${f.orderDate?"border-red-500":""}`,value:c.orderTiming.orderDate,onChange:k=>w("orderTiming.orderDate",k.target.value)}),f.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.orderDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Ao,{className:"h-5 w-5 mr-2"}),"Customer Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),n.jsx("input",{type:"text",className:`input-field ${f.customerName?"border-red-500":""}`,value:c.customerInfo.customerName,onChange:k=>w("customerInfo.customerName",k.target.value),placeholder:"Enter customer name"}),f.customerName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type *"}),n.jsx("select",{className:`input-field ${f.orderType?"border-red-500":""}`,value:c.customerInfo.orderType,onChange:k=>w("customerInfo.orderType",k.target.value),children:N.map(k=>n.jsx("option",{value:k,children:k},k))}),f.orderType&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.orderType})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(kD,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),n.jsx("input",{type:"tel",className:"input-field",value:c.customerInfo.customerPhone,onChange:k=>w("customerInfo.customerPhone",k.target.value),placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(SD,{className:"h-4 w-4 inline mr-1"}),"Email Address"]}),n.jsx("input",{type:"email",className:"input-field",value:c.customerInfo.customerEmail,onChange:k=>w("customerInfo.customerEmail",k.target.value),placeholder:"Enter email address"})]}),c.customerInfo.orderType==="Dine-in"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(hu,{className:"h-4 w-4 inline mr-1"}),"Table Number"]}),n.jsx("input",{type:"text",className:"input-field",value:c.customerInfo.tableNumber,onChange:k=>w("customerInfo.tableNumber",k.target.value),placeholder:"Enter table number"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(ut,{className:"h-5 w-5 mr-2"}),"Order Items"]}),n.jsxs("button",{type:"button",onClick:C,className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),c.orderItems.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ut,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:'No items added yet. Click "Add Item" to start building the order.'})]}):n.jsx("div",{className:"space-y-4",children:c.orderItems.map((k,M)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-medium text-gray-900",children:["Item ",M+1]}),n.jsx("button",{type:"button",onClick:()=>P(M),className:"text-red-600 hover:text-red-800",children:n.jsx(Ae,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product *"}),n.jsxs("select",{className:"input-field",value:k.productId,onChange:F=>T(M,"productId",F.target.value),children:[n.jsx("option",{value:"",children:"Select Product"}),D.map(F=>n.jsxs("option",{value:F._id||F.id,children:[F.productName," - ",F.unitPrice.toFixed(2)," KWD"]},F._id||F.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),n.jsx("input",{type:"number",min:"1",className:"input-field",value:k.quantity,onChange:F=>T(M,"quantity",parseInt(F.target.value)||1)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:k.unitPrice,onChange:F=>T(M,"unitPrice",parseFloat(F.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:k.totalPrice.toFixed(2),readOnly:!0})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:2,value:k.specialInstructions,onChange:F=>T(M,"specialInstructions",F.target.value),placeholder:"Any special instructions for this item..."})]})]},M))}),f.orderItems&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:f.orderItems})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtotal (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:c.orderItems.reduce((k,M)=>k+M.totalPrice,0).toFixed(2),readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Amount (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:c.orderSummary.discountAmount,onChange:k=>w("orderSummary.discountAmount",(parseFloat(k.target.value)||0).toString())})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Amount (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:(c.orderItems.reduce((k,M)=>k+M.totalPrice,0)*.15).toFixed(2),readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-blue-50 font-semibold",value:(c.orderItems.reduce((k,M)=>k+M.totalPrice,0)+c.orderItems.reduce((k,M)=>k+M.totalPrice,0)*.15-c.orderSummary.discountAmount).toFixed(2),readOnly:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),n.jsx("select",{className:"input-field",value:c.orderSummary.paymentMethod,onChange:k=>w("orderSummary.paymentMethod",k.target.value),children:S.map(k=>n.jsx("option",{value:k,children:k},k))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status"}),n.jsx("select",{className:"input-field",value:c.orderSummary.paymentStatus,onChange:k=>w("orderSummary.paymentStatus",k.target.value),children:x.map(k=>n.jsx("option",{value:k,children:k},k))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Status"}),n.jsx("select",{className:"input-field",value:c.orderStatus,onChange:k=>w("orderStatus",k.target.value),children:d.map(k=>n.jsx("option",{value:k,children:k},k))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx($d,{className:"h-4 w-4 inline mr-1"}),"Estimated Prep Time (minutes)"]}),n.jsx("input",{type:"number",min:"1",className:"input-field",value:c.orderTiming.estimatedPrepTime,onChange:k=>w("orderTiming.estimatedPrepTime",(parseInt(k.target.value)||15).toString())})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:c.notes,onChange:k=>w("notes",k.target.value),placeholder:"Any additional notes for this order..."})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>e("/sales-orders"),className:"btn-secondary",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Sales Order"]})]})]})})]})},Sc=()=>{var R;const e=ge(),r=((R=Cr().state)==null?void 0:R.outletName)||"Outlet",[a,s]=O.useState([]),[i,l]=O.useState([]),[o,c]=O.useState(""),[u,f]=O.useState(""),[m,h]=O.useState(null),[v,j]=O.useState("cash"),[y,b]=O.useState(0),[N]=O.useState(0),[S,x]=O.useState(!1);O.useEffect(()=>{s([{id:"prod-001",name:"Caesar Salad",price:8.5,category:"Salads",description:"Fresh romaine lettuce with caesar dressing",isAvailable:!0},{id:"prod-002",name:"Chicken Burger",price:12,category:"Burgers",description:"Grilled chicken breast with fresh vegetables",isAvailable:!0},{id:"prod-003",name:"Margherita Pizza",price:15,category:"Pizza",description:"Classic tomato and mozzarella pizza",isAvailable:!0},{id:"prod-004",name:"Chicken Shawarma",price:10.5,category:"Middle Eastern",description:"Traditional chicken shawarma wrap",isAvailable:!0},{id:"prod-005",name:"Fresh Juice",price:4,category:"Beverages",description:"Freshly squeezed orange juice",isAvailable:!0},{id:"prod-006",name:"Coffee",price:3.5,category:"Beverages",description:"Freshly brewed coffee",isAvailable:!0},{id:"prod-007",name:"Chocolate Cake",price:6,category:"Desserts",description:"Rich chocolate cake slice",isAvailable:!0},{id:"prod-008",name:"Fish & Chips",price:14,category:"Main Course",description:"Beer-battered fish with crispy fries",isAvailable:!0}])},[]);const d=["All",...Array.from(new Set(a.map(E=>E.category)))],p=a.filter(E=>{const B=E.name.toLowerCase().includes(o.toLowerCase())||E.description.toLowerCase().includes(o.toLowerCase()),A=u===""||u==="All"||E.category===u;return B&&A&&E.isAvailable}),g=E=>{const B=i.find(A=>A.product.id===E.id);l(B?i.map(A=>A.product.id===E.id?{...A,quantity:A.quantity+1,subtotal:(A.quantity+1)*E.price}:A):[...i,{product:E,quantity:1,subtotal:E.price}])},w=(E,B)=>{if(B<=0){C(E);return}l(i.map(A=>A.product.id===E?{...A,quantity:B,subtotal:B*A.product.price}:A))},C=E=>{l(i.filter(B=>B.product.id!==E))},T=()=>i.reduce((E,B)=>E+B.subtotal,0),P=()=>T()*N/100,D=()=>T()*y/100,k=()=>T()+P()-D(),M=async()=>{if(i.length===0){alert("Please add items to cart before checkout");return}x(!0);try{await new Promise(B=>setTimeout(B,1e3));const E={id:`ORD-${Date.now()}`,outletName:r,customer:m||{name:"Walk-in Customer",phone:"",email:""},items:i,subtotal:T(),tax:P(),discount:D(),total:k(),paymentMethod:v,status:"Completed",createdAt:new Date().toISOString()};console.log("Order created:",E),alert(`Order ${E.id} created successfully!
Total: KD ${E.total.toFixed(2)}`),l([]),h(null),b(0)}catch(E){alert("Error creating order. Please try again."),console.error("Error creating order:",E)}finally{x(!1)}},F=()=>{i.length>0&&window.confirm("Are you sure you want to clear the cart?")&&l([])};return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:n.jsx(Ue,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"POS - Create Order"}),n.jsx("p",{className:"text-gray-600",children:r})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx($d,{className:"h-4 w-4"}),n.jsx("span",{children:new Date().toLocaleString()})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search products...",value:o,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsx("select",{value:u,onChange:E=>f(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:d.map(E=>n.jsx("option",{value:E,children:E},E))})]})}),n.jsxs("div",{className:"card p-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Products"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:p.map(E=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>g(E),children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:E.name}),n.jsxs("span",{className:"text-green-600 font-semibold",children:["KD ",E.price.toFixed(2)]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:E.description}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:E.category}),n.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Add to Cart"})]})]},E.id))})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n.jsx(ut,{className:"h-5 w-5 mr-2"}),"Cart (",i.length,")"]}),i.length>0&&n.jsx("button",{onClick:F,className:"text-red-600 hover:text-red-800 text-sm",children:"Clear Cart"})]}),i.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Cart is empty"}),n.jsx("p",{className:"text-sm",children:"Add products to get started"})]}):n.jsx("div",{className:"space-y-3",children:i.map(E=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-sm",children:E.product.name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["KD ",E.product.price.toFixed(2)," each"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>w(E.product.id,E.quantity-1),className:"p-1 hover:bg-gray-200 rounded",children:n.jsx(OD,{className:"h-3 w-3"})}),n.jsx("span",{className:"w-8 text-center text-sm",children:E.quantity}),n.jsx("button",{onClick:()=>w(E.product.id,E.quantity+1),className:"p-1 hover:bg-gray-200 rounded",children:n.jsx(we,{className:"h-3 w-3"})}),n.jsx("button",{onClick:()=>C(E.product.id),className:"p-1 text-red-600 hover:bg-red-50 rounded ml-2",children:n.jsx(Ae,{className:"h-3 w-3"})})]}),n.jsx("div",{className:"text-right ml-4",children:n.jsxs("p",{className:"font-medium text-sm",children:["KD ",E.subtotal.toFixed(2)]})})]},E.product.id))})]}),i.length>0&&n.jsxs("div",{className:"card p-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["KD ",T().toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Tax (",N,"%):"]}),n.jsxs("span",{children:["KD ",P().toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Discount (",y,"%):"]}),n.jsxs("span",{className:"text-red-600",children:["-KD ",D().toFixed(2)]})]}),n.jsx("hr",{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["KD ",k().toFixed(2)]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Customer Info (Optional)"}),n.jsx("input",{type:"text",placeholder:"Customer name",value:(m==null?void 0:m.name)||"",onChange:E=>h({...m,name:E.target.value,phone:(m==null?void 0:m.phone)||""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),n.jsx("input",{type:"tel",placeholder:"Phone number",value:(m==null?void 0:m.phone)||"",onChange:E=>h({...m,phone:E.target.value,name:(m==null?void 0:m.name)||""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Payment Method"}),n.jsxs("select",{value:v,onChange:E=>j(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"card",children:"Credit/Debit Card"}),n.jsx("option",{value:"knet",children:"KNET"}),n.jsx("option",{value:"apple_pay",children:"Apple Pay"}),n.jsx("option",{value:"google_pay",children:"Google Pay"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discount (%)"}),n.jsx("input",{type:"number",min:"0",max:"100",value:y,onChange:E=>b(Number(E.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),n.jsx("button",{onClick:M,disabled:S||i.length===0,className:"w-full mt-6 bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:S?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fy,{className:"h-4 w-4 mr-2"}),"Complete Order - KD ",k().toFixed(2)]})})]})]})]})]})})},qZ=({user:e,permissions:t,onClose:r,onSave:a})=>{const[s,i]=O.useState((e==null?void 0:e.permissions)||[]),l=t.reduce((f,m)=>(f[m.module]||(f[m.module]=[]),f[m.module].push(m),f),{}),o=(f,m)=>{i(m?h=>[...h,f]:h=>h.filter(v=>v!==f))},c=(f,m)=>{const h=l[f].map(v=>v.id);i(m?v=>[...new Set([...v,...h])]:v=>v.filter(j=>!h.includes(j)))},u=()=>{e&&(a(e.id,s),r())};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Ao,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Permissions"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[e.name," (",e.email,")"]})]})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Oe,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.role})]})]})}),Object.entries(l).map(([f,m])=>{const h=m.every(j=>s.includes(j.id)),v=m.some(j=>s.includes(j.id));return n.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:h,ref:j=>{j&&(j.indeterminate=v&&!h)},onChange:j=>c(f,j.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(py,{className:"h-4 w-4 text-gray-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:f}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",m.filter(j=>s.includes(j.id)).length,"/",m.length,")"]})]})]})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(j=>n.jsxs("label",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",checked:s.includes(j.id),onChange:y=>o(j.id,y.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:j.name}),n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:j.category})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:j.description})]})]},j.id))})})]},f)})]})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx(HS,{className:"h-4 w-4 inline mr-1"}),s.length," permissions selected"]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:r,className:"btn-secondary",children:"Cancel"}),n.jsxs("button",{onClick:u,className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})}):null},UZ=({role:e,permissions:t,onClose:r,onSave:a,onDelete:s})=>{const[i,l]=O.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",permissions:(e==null?void 0:e.permissions)||[]}),o=t.reduce((h,v)=>(h[v.module]||(h[v.module]=[]),h[v.module].push(v),h),{}),c=(h,v)=>{l(v?j=>({...j,permissions:[...j.permissions,h]}):j=>({...j,permissions:j.permissions.filter(y=>y!==h)}))},u=(h,v)=>{const j=o[h].map(y=>y.id);l(v?y=>({...y,permissions:[...new Set([...y.permissions,...j])]}):y=>({...y,permissions:y.permissions.filter(b=>!j.includes(b))}))},f=()=>{i.name.trim()&&i.description.trim()&&(a(i),r())},m=()=>{e&&s&&(s(e.id),r())};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(py,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?"Edit Role":"Create New Role"}),n.jsx("p",{className:"text-sm text-gray-600",children:e?"Modify role permissions and settings":"Define a new role with specific permissions"})]})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Oe,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name *"}),n.jsx("input",{type:"text",value:i.name,onChange:h=>l(v=>({...v,name:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter role name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Count"}),n.jsx("input",{type:"text",value:(e==null?void 0:e.userCount)||0,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),n.jsx("textarea",{value:i.description,onChange:h=>l(v=>({...v,description:h.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter role description"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Permissions"}),n.jsx("div",{className:"space-y-4",children:Object.entries(o).map(([h,v])=>{const j=v.every(b=>i.permissions.includes(b.id)),y=v.some(b=>i.permissions.includes(b.id));return n.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:j,ref:b=>{b&&(b.indeterminate=y&&!j)},onChange:b=>u(h,b.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"font-medium text-gray-900",children:h}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",v.filter(b=>i.permissions.includes(b.id)).length,"/",v.length,")"]})]})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(b=>n.jsxs("label",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",checked:i.permissions.includes(b.id),onChange:N=>c(b.id,N.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:b.name}),n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:b.category})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:b.description})]})]},b.id))})})]},h)})})]})]})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[i.permissions.length," permissions selected"]}),e&&s&&n.jsxs("button",{onClick:m,className:"text-red-600 hover:text-red-800 flex items-center space-x-1",children:[n.jsx(Ae,{className:"h-4 w-4"}),n.jsx("span",{children:"Delete Role"})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:r,className:"btn-secondary",children:"Cancel"}),n.jsxs("button",{onClick:f,className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),e?"Update Role":"Create Role"]})]})]})]})})},WZ=()=>{const[e,t]=O.useState("users"),[r,a]=O.useState([{id:"1",name:"John Doe",email:"john.doe@company.com",role:"Admin",status:"active",lastLogin:"2024-01-15 10:30",permissions:["all"]},{id:"2",name:"Jane Smith",email:"jane.smith@company.com",role:"Manager",status:"active",lastLogin:"2024-01-15 09:15",permissions:["inventory.view","inventory.edit","reports.view"]},{id:"3",name:"Mike Johnson",email:"mike.johnson@company.com",role:"Staff",status:"active",lastLogin:"2024-01-14 16:45",permissions:["inventory.view"]}]),[s,i]=O.useState([{id:"1",name:"Admin",description:"Full system access",permissions:["all"],userCount:1},{id:"2",name:"Manager",description:"Management level access",permissions:["inventory.view","inventory.edit","reports.view","users.view"],userCount:1},{id:"3",name:"Staff",description:"Basic operational access",permissions:["inventory.view","sales.view"],userCount:1}]),[l]=O.useState([{id:"dashboard.view",name:"View Dashboard",description:"Access to main dashboard",category:"Dashboard",module:"Dashboard"},{id:"inventory.view",name:"View Inventory",description:"View inventory items",category:"Inventory",module:"Inventory Management"},{id:"inventory.edit",name:"Edit Inventory",description:"Modify inventory items",category:"Inventory",module:"Inventory Management"},{id:"inventory.add",name:"Add Inventory",description:"Add new inventory items",category:"Inventory",module:"Inventory Management"},{id:"inventory.delete",name:"Delete Inventory",description:"Delete inventory items",category:"Inventory",module:"Inventory Management"},{id:"rawmaterials.view",name:"View Raw Materials",description:"View raw materials",category:"Raw Materials",module:"Raw Materials"},{id:"rawmaterials.edit",name:"Edit Raw Materials",description:"Edit raw materials",category:"Raw Materials",module:"Raw Materials"},{id:"rawmaterials.add",name:"Add Raw Materials",description:"Add new raw materials",category:"Raw Materials",module:"Raw Materials"},{id:"centralkitchen.view",name:"View Central Kitchen",description:"Access central kitchen",category:"Central Kitchen",module:"Central Kitchen"},{id:"centralkitchen.edit",name:"Edit Central Kitchen",description:"Modify central kitchen data",category:"Central Kitchen",module:"Central Kitchen"},{id:"centralkitchen.transfer",name:"Create Transfers",description:"Create transfer orders",category:"Central Kitchen",module:"Central Kitchen"},{id:"outlets.view",name:"View Outlets",description:"View outlet information",category:"Outlets",module:"Outlet Management"},{id:"outlets.edit",name:"Edit Outlets",description:"Modify outlet data",category:"Outlets",module:"Outlet Management"},{id:"outlets.kuwait",name:"Kuwait City Access",description:"Access Kuwait City outlet",category:"Outlets",module:"Outlet Management"},{id:"outlets.mall360",name:"360 Mall Access",description:"Access 360 Mall outlets",category:"Outlets",module:"Outlet Management"},{id:"outlets.taiba",name:"Taiba Hospital Access",description:"Access Taiba Hospital outlet",category:"Outlets",module:"Outlet Management"},{id:"sales.view",name:"View Sales",description:"View sales data",category:"Sales",module:"Sales Management"},{id:"sales.edit",name:"Edit Sales",description:"Modify sales data",category:"Sales",module:"Sales Management"},{id:"sales.create",name:"Create Sales",description:"Create new sales orders",category:"Sales",module:"Sales Management"},{id:"reports.view",name:"View Reports",description:"Access reports",category:"Reports",module:"Reporting"},{id:"reports.export",name:"Export Reports",description:"Export report data",category:"Reports",module:"Reporting"},{id:"users.view",name:"View Users",description:"View user information",category:"Users",module:"User Management"},{id:"users.edit",name:"Edit Users",description:"Modify user data",category:"Users",module:"User Management"},{id:"users.add",name:"Add Users",description:"Add new users",category:"Users",module:"User Management"},{id:"users.delete",name:"Delete Users",description:"Delete users",category:"Users",module:"User Management"},{id:"settings.view",name:"View Settings",description:"Access system settings",category:"Settings",module:"System Settings"},{id:"settings.edit",name:"Edit Settings",description:"Modify system settings",category:"Settings",module:"System Settings"}]),[o,c]=O.useState(null),[u,f]=O.useState(null),[m,h]=O.useState(!1),[v,j]=O.useState(!1),y=l.reduce((C,T)=>(C[T.module]||(C[T.module]=[]),C[T.module].push(T),C),{}),b=(C,T,P)=>{a(D=>D.map(k=>k.id===C?P?{...k,permissions:[...k.permissions,T]}:{...k,permissions:k.permissions.filter(M=>M!==T)}:k))},N=(C,T)=>{a(P=>P.map(D=>D.id===C?{...D,permissions:T}:D))},S=C=>{if(u)i(T=>T.map(P=>P.id===u.id?{...P,...C}:P));else{const T={id:Date.now().toString(),...C,userCount:0};i(P=>[...P,T])}},x=C=>{i(T=>T.filter(P=>P.id!==C))},d=C=>{c(C),h(!0)},p=C=>{f(C),j(!0)},g=()=>{f(null),j(!0)},w=[{id:"users",name:"Users",icon:yy},{id:"roles",name:"Roles",icon:py},{id:"permissions",name:"Permissions",icon:HS}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(hy,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings & Permissions"}),n.jsx("p",{className:"text-gray-600",children:"Manage user access and system permissions"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:w.map(C=>n.jsxs("button",{onClick:()=>t(C.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${e===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(C.icon,{className:"h-4 w-4"}),n.jsx("span",{children:C.name})]},C.id))})}),e==="users"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),n.jsxs("button",{onClick:()=>{},className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(C=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name}),n.jsx("div",{className:"text-sm text-gray-500",children:C.email})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:C.role})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.lastLogin}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>d(C),className:"text-blue-600 hover:text-blue-900",children:n.jsx(Wr,{className:"h-4 w-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},C.id))})]})})})]}),e==="roles"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Role Management"}),n.jsxs("button",{onClick:g,className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Role"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(C=>n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.name}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>p(C),className:"text-blue-600 hover:text-blue-900",children:n.jsx(Wr,{className:"h-4 w-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",children:n.jsx(Ae,{className:"h-4 w-4"})})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:C.description}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[n.jsxs("span",{children:[C.permissions.length," permissions"]}),n.jsxs("span",{children:[C.userCount," users"]})]})]},C.id))})]}),e==="permissions"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Permission Management"}),Object.entries(y).map(([C,T])=>n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:C}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(P=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:P.name}),n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:P.category})]}),n.jsx("p",{className:"text-xs text-gray-600",children:P.description})]},P.id))})]},C))]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit Permissions - ",o.name]}),n.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Oe,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"space-y-6",children:Object.entries(y).map(([C,T])=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:C}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map(P=>n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:o.permissions.includes(P.id),onChange:D=>b(o.id,P.id,D.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),n.jsx("div",{className:"text-xs text-gray-500",children:P.description})]})]},P.id))})]},C))}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>c(null),className:"btn-secondary",children:"Cancel"}),n.jsx("button",{onClick:()=>c(null),className:"btn-primary",children:"Save Changes"})]})]})}),m&&o&&n.jsx(qZ,{user:o,permissions:l,onClose:()=>{h(!1),c(null)},onSave:N}),v&&n.jsx(UZ,{role:u,permissions:l,onClose:()=>{j(!1),f(null)},onSave:S,onDelete:x})]})},KZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState({transferNumber:"",fromWarehouseId:"Kuwait City",fromWarehouseName:"Kuwait City",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=O.useState({}),[o,c]=O.useState(!0);O.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const d=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],g=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(C=>({...C,transferNumber:g,transferDate:d,expectedDeliveryDate:p}));const w=await Q.getKuwaitCityRawMaterials({limit:1e3});w.success&&w.data&&r(w.data)}catch(d){console.error("Error loading data:",d)}finally{c(!1)}},f=(d,p)=>{s(g=>({...g,[d]:p})),i[d]&&l(g=>({...g,[d]:""}))},m=()=>{const d={materialId:"",materialCode:"",materialName:"",itemType:"raw-material",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,d]}))},h=(d,p,g)=>{s(w=>({...w,items:w.items.map((C,T)=>{if(T===d){const P={...C,[p]:g};return(p==="quantity"||p==="unitPrice")&&(P.totalPrice=P.quantity*P.unitPrice),P}return C})}))},v=(d,p)=>{if(!a.items[d])return;const w=t.find(C=>C.materialCode===p);w?(h(d,"materialId",w.id||w._id),h(d,"materialCode",p),h(d,"materialName",w.materialName),h(d,"unitOfMeasure",w.unitOfMeasure),h(d,"unitPrice",w.unitPrice)):(h(d,"materialId",""),h(d,"materialCode",p),h(d,"materialName",""),h(d,"unitOfMeasure",""),h(d,"unitPrice",0))},j=d=>{s(p=>({...p,items:p.items.filter((g,w)=>w!==d)}))},y=()=>{const d={};return a.transferNumber.trim()||(d.transferNumber="Transfer number is required"),a.transferDate||(d.transferDate="Transfer date is required"),a.expectedDeliveryDate||(d.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(d.items="At least one transfer item is required"),l(d),Object.keys(d).length===0},b=async d=>{if(d.preventDefault(),!!y())try{const p={fromOutlet:"Kuwait City",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Raw Material",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Kuwait City Manager"},g=await Q.createTransferOrder(p);if(g.success){try{const w=a.items.map(()=>"Raw Material"),C=[...new Set(w)],T=C.length===1?C[0]:"Mixed",P=a.items.map(M=>`${M.materialName} (${M.quantity} ${M.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Kuwait City - ${T}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Kuwait City. Items: ${P}`,type:`transfer_request_${T.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Kuwait City",transferOrderId:g.data._id||g.data.id,itemType:T,priority:a.priority==="Urgent"?"high":"normal"},k=await Q.createNotification(D);console.log("Notification sent to Central Kitchen:",k)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/downtown-restaurant/raw-materials")}else throw new Error(g.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],x=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/downtown-restaurant/raw-materials"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Back to Raw Materials"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Raw Materials"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:b,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:d=>f("transferNumber",d.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:d=>f("transferType",d.target.value),children:x.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:d=>f("priority",d.target.value),children:S.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:d=>f("status",d.target.value),children:N.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:d=>f("transferDate",d.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:d=>f("expectedDeliveryDate",d.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Raw Materials (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:m,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Raw Material"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No raw materials added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Raw Material" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((d,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-blue-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsxs("select",{className:"input-field text-sm",value:d.materialCode,onChange:g=>v(p,g.target.value),children:[n.jsx("option",{value:"",children:"Select Raw Material"}),t.map(g=>n.jsxs("option",{value:g.materialCode,children:[g.materialCode," - ",g.materialName]},g.id||g._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.materialName,placeholder:"Material Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:d.quantity,onChange:g=>h(p,"quantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:d.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.remarks||"",onChange:g=>h(p,"remarks",g.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>j(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",d.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((d,p)=>d+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:d=>f("notes",d.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/downtown-restaurant/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},zZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState({transferNumber:"",fromWarehouseId:"Kuwait City",fromWarehouseName:"Kuwait City",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=O.useState({}),[o,c]=O.useState(!0);O.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const d=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],g=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(C=>({...C,transferNumber:g,transferDate:d,expectedDeliveryDate:p}));const w=await Q.getKuwaitCityFinishedProducts({limit:1e3});w.success&&w.data&&r(w.data)}catch(d){console.error("Error loading data:",d)}finally{c(!1)}},f=(d,p)=>{s(g=>({...g,[d]:p})),i[d]&&l(g=>({...g,[d]:""}))},m=()=>{const d={materialId:"",materialCode:"",materialName:"",itemType:"finished-good",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,d]}))},h=(d,p,g)=>{s(w=>({...w,items:w.items.map((C,T)=>{if(T===d){const P={...C,[p]:g};return(p==="quantity"||p==="unitPrice")&&(P.totalPrice=P.quantity*P.unitPrice),P}return C})}))},v=(d,p)=>{if(!a.items[d])return;const w=t.find(C=>C.productCode===p);w?(h(d,"materialId",w.id||w._id),h(d,"materialCode",p),h(d,"materialName",w.productName),h(d,"unitOfMeasure",w.unitOfMeasure),h(d,"unitPrice",w.unitPrice)):(h(d,"materialId",""),h(d,"materialCode",p),h(d,"materialName",""),h(d,"unitOfMeasure",""),h(d,"unitPrice",0))},j=d=>{s(p=>({...p,items:p.items.filter((g,w)=>w!==d)}))},y=()=>{const d={};return a.transferNumber.trim()||(d.transferNumber="Transfer number is required"),a.transferDate||(d.transferDate="Transfer date is required"),a.expectedDeliveryDate||(d.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(d.items="At least one transfer item is required"),l(d),Object.keys(d).length===0},b=async d=>{if(d.preventDefault(),!!y())try{const p={fromOutlet:"Kuwait City",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Finished Goods",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Kuwait City Manager"},g=await Q.createTransferOrder(p);if(g.success){try{const w=a.items.map(()=>"Finished Goods"),C=[...new Set(w)],T=C.length===1?C[0]:"Mixed",P=a.items.map(M=>`${M.materialName} (${M.quantity} ${M.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Kuwait City - ${T}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Kuwait City. Items: ${P}`,type:`transfer_request_${T.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Kuwait City",transferOrderId:g.data._id||g.data.id,itemType:T,priority:a.priority==="Urgent"?"high":"normal"},k=await Q.createNotification(D);console.log("Notification sent to Central Kitchen:",k)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/downtown-restaurant/finished-goods")}else throw new Error(g.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],x=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/downtown-restaurant/finished-goods"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Back to Finished Goods"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Finished Goods"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:b,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:d=>f("transferNumber",d.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:d=>f("transferType",d.target.value),children:x.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:d=>f("priority",d.target.value),children:S.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:d=>f("status",d.target.value),children:N.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:d=>f("transferDate",d.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:d=>f("expectedDeliveryDate",d.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Finished Goods (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:m,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Finished Good"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No finished goods added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Finished Good" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((d,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-green-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Code"}),n.jsxs("select",{className:"input-field text-sm",value:d.materialCode,onChange:g=>v(p,g.target.value),children:[n.jsx("option",{value:"",children:"Select Finished Good"}),t.map(g=>n.jsxs("option",{value:g.productCode,children:[g.productCode," - ",g.productName]},g.id||g._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.materialName,placeholder:"Product Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:d.quantity,onChange:g=>h(p,"quantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:d.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.remarks||"",onChange:g=>h(p,"remarks",g.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>j(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",d.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((d,p)=>d+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:d=>f("notes",d.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/downtown-restaurant/finished-goods"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},VZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState({transferNumber:"",fromWarehouseId:"360 Mall",fromWarehouseName:"360 Mall",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=O.useState({}),[o,c]=O.useState(!0);O.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const d=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],g=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(C=>({...C,transferNumber:g,transferDate:d,expectedDeliveryDate:p}));const w=await Q.get360MallRawMaterials({limit:1e3});w.success&&w.data&&r(w.data)}catch(d){console.error("Error loading data:",d)}finally{c(!1)}},f=(d,p)=>{s(g=>({...g,[d]:p})),i[d]&&l(g=>({...g,[d]:""}))},m=()=>{const d={materialId:"",materialCode:"",materialName:"",itemType:"raw-material",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,d]}))},h=(d,p,g)=>{s(w=>({...w,items:w.items.map((C,T)=>{if(T===d){const P={...C,[p]:g};return(p==="quantity"||p==="unitPrice")&&(P.totalPrice=P.quantity*P.unitPrice),P}return C})}))},v=(d,p)=>{if(!a.items[d])return;const w=t.find(C=>C.materialCode===p);w?(h(d,"materialId",w.id||w._id),h(d,"materialCode",p),h(d,"materialName",w.materialName),h(d,"unitOfMeasure",w.unitOfMeasure),h(d,"unitPrice",w.unitPrice)):(h(d,"materialId",""),h(d,"materialCode",p),h(d,"materialName",""),h(d,"unitOfMeasure",""),h(d,"unitPrice",0))},j=d=>{s(p=>({...p,items:p.items.filter((g,w)=>w!==d)}))},y=()=>{const d={};return a.transferNumber.trim()||(d.transferNumber="Transfer number is required"),a.transferDate||(d.transferDate="Transfer date is required"),a.expectedDeliveryDate||(d.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(d.items="At least one transfer item is required"),l(d),Object.keys(d).length===0},b=async d=>{if(d.preventDefault(),!!y())try{const p={fromOutlet:"360 Mall",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Raw Material",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"360 Mall Manager"},g=await Q.createTransferOrder(p);if(g.success){try{const w=a.items.map(()=>"Raw Material"),C=[...new Set(w)],T=C.length===1?C[0]:"Mixed",P=a.items.map(M=>`${M.materialName} (${M.quantity} ${M.unitOfMeasure})`).join(", "),D={title:`Transfer Request from 360 Mall - ${T}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from 360 Mall. Items: ${P}`,type:`transfer_request_${T.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"360 Mall",transferOrderId:g.data._id||g.data.id,itemType:T,priority:a.priority==="Urgent"?"high":"normal"},k=await Q.createNotification(D);console.log("Notification sent to Central Kitchen:",k)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/mall-food-court/raw-materials")}else throw new Error(g.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],x=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/mall-food-court/raw-materials"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Back to Raw Materials"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Raw Materials"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:b,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:d=>f("transferNumber",d.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:d=>f("transferType",d.target.value),children:x.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:d=>f("priority",d.target.value),children:S.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:d=>f("status",d.target.value),children:N.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:d=>f("transferDate",d.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:d=>f("expectedDeliveryDate",d.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Raw Materials (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:m,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Raw Material"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No raw materials added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Raw Material" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((d,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-blue-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsxs("select",{className:"input-field text-sm",value:d.materialCode,onChange:g=>v(p,g.target.value),children:[n.jsx("option",{value:"",children:"Select Raw Material"}),t.map(g=>n.jsxs("option",{value:g.materialCode,children:[g.materialCode," - ",g.materialName]},g.id||g._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.materialName,placeholder:"Material Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:d.quantity,onChange:g=>h(p,"quantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:d.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.remarks||"",onChange:g=>h(p,"remarks",g.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>j(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",d.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((d,p)=>d+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:d=>f("notes",d.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/mall-food-court/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},GZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState({transferNumber:"",fromWarehouseId:"360 Mall",fromWarehouseName:"360 Mall",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=O.useState({}),[o,c]=O.useState(!0);O.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const d=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],g=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(C=>({...C,transferNumber:g,transferDate:d,expectedDeliveryDate:p}));const w=await Q.get360MallFinishedProducts({limit:1e3});w.success&&w.data&&r(w.data)}catch(d){console.error("Error loading data:",d)}finally{c(!1)}},f=(d,p)=>{s(g=>({...g,[d]:p})),i[d]&&l(g=>({...g,[d]:""}))},m=()=>{const d={materialId:"",materialCode:"",materialName:"",itemType:"finished-good",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,d]}))},h=(d,p,g)=>{s(w=>({...w,items:w.items.map((C,T)=>{if(T===d){const P={...C,[p]:g};return(p==="quantity"||p==="unitPrice")&&(P.totalPrice=P.quantity*P.unitPrice),P}return C})}))},v=(d,p)=>{if(!a.items[d])return;const w=t.find(C=>C.productCode===p);w?(h(d,"materialId",w.id||w._id),h(d,"materialCode",p),h(d,"materialName",w.productName),h(d,"unitOfMeasure",w.unitOfMeasure),h(d,"unitPrice",w.unitPrice)):(h(d,"materialId",""),h(d,"materialCode",p),h(d,"materialName",""),h(d,"unitOfMeasure",""),h(d,"unitPrice",0))},j=d=>{s(p=>({...p,items:p.items.filter((g,w)=>w!==d)}))},y=()=>{const d={};return a.transferNumber.trim()||(d.transferNumber="Transfer number is required"),a.transferDate||(d.transferDate="Transfer date is required"),a.expectedDeliveryDate||(d.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(d.items="At least one transfer item is required"),l(d),Object.keys(d).length===0},b=async d=>{if(d.preventDefault(),!!y())try{const p={fromOutlet:"360 Mall",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Finished Goods",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"360 Mall Manager"},g=await Q.createTransferOrder(p);if(g.success){try{const w=a.items.map(()=>"Finished Goods"),C=[...new Set(w)],T=C.length===1?C[0]:"Mixed",P=a.items.map(M=>`${M.materialName} (${M.quantity} ${M.unitOfMeasure})`).join(", "),D={title:`Transfer Request from 360 Mall - ${T}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from 360 Mall. Items: ${P}`,type:`transfer_request_${T.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"360 Mall",transferOrderId:g.data._id||g.data.id,itemType:T,priority:a.priority==="Urgent"?"high":"normal"},k=await Q.createNotification(D);console.log("Notification sent to Central Kitchen:",k)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/mall-food-court/finished-goods")}else throw new Error(g.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],x=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/mall-food-court/finished-goods"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Back to Finished Goods"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Finished Goods"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:b,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:d=>f("transferNumber",d.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:d=>f("transferType",d.target.value),children:x.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:d=>f("priority",d.target.value),children:S.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:d=>f("status",d.target.value),children:N.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:d=>f("transferDate",d.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:d=>f("expectedDeliveryDate",d.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Finished Goods (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:m,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Finished Good"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No finished goods added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Finished Good" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((d,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-green-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Code"}),n.jsxs("select",{className:"input-field text-sm",value:d.materialCode,onChange:g=>v(p,g.target.value),children:[n.jsx("option",{value:"",children:"Select Finished Good"}),t.map(g=>n.jsxs("option",{value:g.productCode,children:[g.productCode," - ",g.productName]},g.id||g._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.materialName,placeholder:"Product Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:d.quantity,onChange:g=>h(p,"quantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:d.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.remarks||"",onChange:g=>h(p,"remarks",g.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>j(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",d.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((d,p)=>d+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:d=>f("notes",d.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/mall-food-court/finished-goods"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},HZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState({transferNumber:"",fromWarehouseId:"Vibe Complex",fromWarehouseName:"Vibe Complex",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=O.useState({}),[o,c]=O.useState(!0);O.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const d=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],g=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(C=>({...C,transferNumber:g,transferDate:d,expectedDeliveryDate:p}));const w=await Q.getVibeComplexRawMaterials({limit:1e3});w.success&&w.data&&r(w.data)}catch(d){console.error("Error loading data:",d)}finally{c(!1)}},f=(d,p)=>{s(g=>({...g,[d]:p})),i[d]&&l(g=>({...g,[d]:""}))},m=()=>{const d={materialId:"",materialCode:"",materialName:"",itemType:"raw-material",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,d]}))},h=(d,p,g)=>{s(w=>({...w,items:w.items.map((C,T)=>{if(T===d){const P={...C,[p]:g};return(p==="quantity"||p==="unitPrice")&&(P.totalPrice=P.quantity*P.unitPrice),P}return C})}))},v=(d,p)=>{if(!a.items[d])return;const w=t.find(C=>C.materialCode===p);w?(h(d,"materialId",w.id||w._id),h(d,"materialCode",p),h(d,"materialName",w.materialName),h(d,"unitOfMeasure",w.unitOfMeasure),h(d,"unitPrice",w.unitPrice)):(h(d,"materialId",""),h(d,"materialCode",p),h(d,"materialName",""),h(d,"unitOfMeasure",""),h(d,"unitPrice",0))},j=d=>{s(p=>({...p,items:p.items.filter((g,w)=>w!==d)}))},y=()=>{const d={};return a.transferNumber.trim()||(d.transferNumber="Transfer number is required"),a.transferDate||(d.transferDate="Transfer date is required"),a.expectedDeliveryDate||(d.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(d.items="At least one transfer item is required"),l(d),Object.keys(d).length===0},b=async d=>{if(d.preventDefault(),!!y())try{const p={fromOutlet:"Vibe Complex",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Raw Material",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Vibe Complex Manager"},g=await Q.createTransferOrder(p);if(g.success){try{const w=a.items.map(()=>"Raw Material"),C=[...new Set(w)],T=C.length===1?C[0]:"Mixed",P=a.items.map(M=>`${M.materialName} (${M.quantity} ${M.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Vibe Complex - ${T}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Vibe Complex. Items: ${P}`,type:`transfer_request_${T.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Vibe Complex",transferOrderId:g.data._id||g.data.id,itemType:T,priority:a.priority==="Urgent"?"high":"normal"},k=await Q.createNotification(D);console.log("Notification sent to Central Kitchen:",k)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/marina-walk-cafe/raw-materials")}else throw new Error(g.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],x=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/marina-walk-cafe/raw-materials"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Back to Raw Materials"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Raw Materials"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:b,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:d=>f("transferNumber",d.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:d=>f("transferType",d.target.value),children:x.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:d=>f("priority",d.target.value),children:S.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:d=>f("status",d.target.value),children:N.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:d=>f("transferDate",d.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:d=>f("expectedDeliveryDate",d.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Raw Materials (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:m,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Raw Material"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No raw materials added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Raw Material" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((d,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-blue-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsxs("select",{className:"input-field text-sm",value:d.materialCode,onChange:g=>v(p,g.target.value),children:[n.jsx("option",{value:"",children:"Select Raw Material"}),t.map(g=>n.jsxs("option",{value:g.materialCode,children:[g.materialCode," - ",g.materialName]},g.id||g._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.materialName,placeholder:"Material Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:d.quantity,onChange:g=>h(p,"quantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:d.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.remarks||"",onChange:g=>h(p,"remarks",g.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>j(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",d.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((d,p)=>d+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:d=>f("notes",d.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/marina-walk-cafe/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},QZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState({transferNumber:"",fromWarehouseId:"Vibe Complex",fromWarehouseName:"Vibe Complex",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=O.useState({}),[o,c]=O.useState(!0);O.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const d=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],g=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(C=>({...C,transferNumber:g,transferDate:d,expectedDeliveryDate:p}));const w=await Q.getVibeComplexFinishedProducts({limit:1e3});w.success&&w.data&&r(w.data)}catch(d){console.error("Error loading data:",d)}finally{c(!1)}},f=(d,p)=>{s(g=>({...g,[d]:p})),i[d]&&l(g=>({...g,[d]:""}))},m=()=>{const d={materialId:"",materialCode:"",materialName:"",itemType:"finished-good",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,d]}))},h=(d,p,g)=>{s(w=>({...w,items:w.items.map((C,T)=>{if(T===d){const P={...C,[p]:g};return(p==="quantity"||p==="unitPrice")&&(P.totalPrice=P.quantity*P.unitPrice),P}return C})}))},v=(d,p)=>{if(!a.items[d])return;const w=t.find(C=>C.productCode===p);w?(h(d,"materialId",w.id||w._id),h(d,"materialCode",p),h(d,"materialName",w.productName),h(d,"unitOfMeasure",w.unitOfMeasure),h(d,"unitPrice",w.unitPrice)):(h(d,"materialId",""),h(d,"materialCode",p),h(d,"materialName",""),h(d,"unitOfMeasure",""),h(d,"unitPrice",0))},j=d=>{s(p=>({...p,items:p.items.filter((g,w)=>w!==d)}))},y=()=>{const d={};return a.transferNumber.trim()||(d.transferNumber="Transfer number is required"),a.transferDate||(d.transferDate="Transfer date is required"),a.expectedDeliveryDate||(d.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(d.items="At least one transfer item is required"),l(d),Object.keys(d).length===0},b=async d=>{if(d.preventDefault(),!!y())try{const p={fromOutlet:"Vibe Complex",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Finished Goods",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Vibe Complex Manager"},g=await Q.createTransferOrder(p);if(g.success){try{const w=a.items.map(()=>"Finished Goods"),C=[...new Set(w)],T=C.length===1?C[0]:"Mixed",P=a.items.map(k=>`${k.materialName} (${k.quantity} ${k.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Vibe Complex - ${T}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Vibe Complex. Items: ${P}`,type:`transfer_request_${T.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Vibe Complex",transferOrderId:g.data._id||g.data.id,itemType:T,priority:a.priority==="Urgent"?"high":"normal"};await Q.createNotification(D)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/marina-walk-cafe/finished-goods")}else throw new Error(g.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],x=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/marina-walk-cafe/finished-goods"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Back to Finished Goods"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Finished Goods"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:b,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:d=>f("transferNumber",d.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:d=>f("transferType",d.target.value),children:x.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:d=>f("priority",d.target.value),children:S.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:d=>f("status",d.target.value),children:N.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:d=>f("transferDate",d.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:d=>f("expectedDeliveryDate",d.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Finished Goods (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:m,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Finished Good"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No finished goods added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Finished Good" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((d,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-green-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Code"}),n.jsxs("select",{className:"input-field text-sm",value:d.materialCode,onChange:g=>v(p,g.target.value),children:[n.jsx("option",{value:"",children:"Select Finished Good"}),t.map(g=>n.jsxs("option",{value:g.productCode,children:[g.productCode," - ",g.productName]},g.id||g._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.materialName,placeholder:"Product Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:d.quantity,onChange:g=>h(p,"quantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:d.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.remarks||"",onChange:g=>h(p,"remarks",g.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>j(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",d.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((d,p)=>d+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:d=>f("notes",d.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/marina-walk-cafe/finished-goods"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},JZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState({transferNumber:"",fromWarehouseId:"Taiba Hospital",fromWarehouseName:"Taiba Hospital",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=O.useState({}),[o,c]=O.useState(!0);O.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const d=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],g=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(C=>({...C,transferNumber:g,transferDate:d,expectedDeliveryDate:p}));const w=await Q.getTaibaKitchenRawMaterials({limit:1e3});w.success&&w.data&&r(w.data)}catch(d){console.error("Error loading data:",d)}finally{c(!1)}},f=(d,p)=>{s(g=>({...g,[d]:p})),i[d]&&l(g=>({...g,[d]:""}))},m=()=>{const d={materialId:"",materialCode:"",materialName:"",itemType:"raw-material",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,d]}))},h=(d,p,g)=>{s(w=>({...w,items:w.items.map((C,T)=>{if(T===d){const P={...C,[p]:g};return(p==="quantity"||p==="unitPrice")&&(P.totalPrice=P.quantity*P.unitPrice),P}return C})}))},v=(d,p)=>{if(!a.items[d])return;const w=t.find(C=>C.materialCode===p);w?(h(d,"materialId",w.id||w._id),h(d,"materialCode",p),h(d,"materialName",w.materialName),h(d,"unitOfMeasure",w.unitOfMeasure),h(d,"unitPrice",w.unitPrice)):(h(d,"materialId",""),h(d,"materialCode",p),h(d,"materialName",""),h(d,"unitOfMeasure",""),h(d,"unitPrice",0))},j=d=>{s(p=>({...p,items:p.items.filter((g,w)=>w!==d)}))},y=()=>{const d={};return a.transferNumber.trim()||(d.transferNumber="Transfer number is required"),a.transferDate||(d.transferDate="Transfer date is required"),a.expectedDeliveryDate||(d.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(d.items="At least one transfer item is required"),l(d),Object.keys(d).length===0},b=async d=>{if(d.preventDefault(),!!y())try{const p={fromOutlet:"Taiba Hospital",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Raw Material",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Taiba Hospital Manager"},g=await Q.createTransferOrder(p);if(g.success){try{const w=a.items.map(()=>"Raw Material"),C=[...new Set(w)],T=C.length===1?C[0]:"Mixed",P=a.items.map(k=>`${k.materialName} (${k.quantity} ${k.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Taiba Hospital - ${T}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Taiba Hospital. Items: ${P}`,type:`transfer_request_${T.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Taiba Hospital",transferOrderId:g.data._id||g.data.id,itemType:T,priority:a.priority==="Urgent"?"high":"normal"};await Q.createNotification(D)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/drive-thru-express/raw-materials")}else throw new Error(g.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],x=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/drive-thru-express/raw-materials"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Back to Raw Materials"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Raw Materials"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:b,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:d=>f("transferNumber",d.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:d=>f("transferType",d.target.value),children:x.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:d=>f("priority",d.target.value),children:S.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:d=>f("status",d.target.value),children:N.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:d=>f("transferDate",d.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:d=>f("expectedDeliveryDate",d.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Raw Materials (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:m,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Raw Material"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No raw materials added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Raw Material" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((d,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-blue-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsxs("select",{className:"input-field text-sm",value:d.materialCode,onChange:g=>v(p,g.target.value),children:[n.jsx("option",{value:"",children:"Select Raw Material"}),t.map(g=>n.jsxs("option",{value:g.materialCode,children:[g.materialCode," - ",g.materialName]},g.id||g._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.materialName,placeholder:"Material Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:d.quantity,onChange:g=>h(p,"quantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:d.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.remarks||"",onChange:g=>h(p,"remarks",g.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>j(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",d.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((d,p)=>d+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:d=>f("notes",d.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/drive-thru-express/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},XZ=()=>{const e=ge(),[t,r]=O.useState([]),[a,s]=O.useState({transferNumber:"",fromWarehouseId:"Taiba Hospital",fromWarehouseName:"Taiba Hospital",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=O.useState({}),[o,c]=O.useState(!0);O.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const d=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],g=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(C=>({...C,transferNumber:g,transferDate:d,expectedDeliveryDate:p}));const w=await Q.getTaibaKitchenFinishedProducts({limit:1e3});w.success&&w.data&&r(w.data)}catch(d){console.error("Error loading data:",d)}finally{c(!1)}},f=(d,p)=>{s(g=>({...g,[d]:p})),i[d]&&l(g=>({...g,[d]:""}))},m=()=>{const d={materialId:"",materialCode:"",materialName:"",itemType:"finished-good",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,d]}))},h=(d,p,g)=>{s(w=>({...w,items:w.items.map((C,T)=>{if(T===d){const P={...C,[p]:g};return(p==="quantity"||p==="unitPrice")&&(P.totalPrice=P.quantity*P.unitPrice),P}return C})}))},v=(d,p)=>{if(!a.items[d])return;const w=t.find(C=>C.productCode===p);w?(h(d,"materialId",w.id||w._id),h(d,"materialCode",p),h(d,"materialName",w.productName),h(d,"unitOfMeasure",w.unitOfMeasure),h(d,"unitPrice",w.unitPrice)):(h(d,"materialId",""),h(d,"materialCode",p),h(d,"materialName",""),h(d,"unitOfMeasure",""),h(d,"unitPrice",0))},j=d=>{s(p=>({...p,items:p.items.filter((g,w)=>w!==d)}))},y=()=>{const d={};return a.transferNumber.trim()||(d.transferNumber="Transfer number is required"),a.transferDate||(d.transferDate="Transfer date is required"),a.expectedDeliveryDate||(d.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(d.items="At least one transfer item is required"),l(d),Object.keys(d).length===0},b=async d=>{if(d.preventDefault(),!!y())try{const p={fromOutlet:"Taiba Hospital",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Finished Goods",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Taiba Hospital Manager"},g=await Q.createTransferOrder(p);if(g.success){try{const w=a.items.map(()=>"Finished Goods"),C=[...new Set(w)],T=C.length===1?C[0]:"Mixed",P=a.items.map(k=>`${k.materialName} (${k.quantity} ${k.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Taiba Hospital - ${T}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Taiba Hospital. Items: ${P}`,type:`transfer_request_${T.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Taiba Hospital",transferOrderId:g.data._id||g.data.id,itemType:T,priority:a.priority==="Urgent"?"high":"normal"};await Q.createNotification(D)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/drive-thru-express/finished-goods")}else throw new Error(g.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],x=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/drive-thru-express/finished-goods"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Back to Finished Goods"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Finished Goods"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:b,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:d=>f("transferNumber",d.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:d=>f("transferType",d.target.value),children:x.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:d=>f("priority",d.target.value),children:S.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:d=>f("status",d.target.value),children:N.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:d=>f("transferDate",d.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:d=>f("expectedDeliveryDate",d.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Finished Goods (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:m,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Finished Good"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No finished goods added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Finished Good" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((d,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-green-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Code"}),n.jsxs("select",{className:"input-field text-sm",value:d.materialCode,onChange:g=>v(p,g.target.value),children:[n.jsx("option",{value:"",children:"Select Finished Good"}),t.map(g=>n.jsxs("option",{value:g.productCode,children:[g.productCode," - ",g.productName]},g.id||g._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.materialName,placeholder:"Product Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:d.quantity,onChange:g=>h(p,"quantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:d.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:d.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:d.remarks||"",onChange:g=>h(p,"remarks",g.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>j(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",d.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((d,p)=>d+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:d=>f("notes",d.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/drive-thru-express/finished-goods"),className:"btn-secondary flex items-center",children:[n.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})};function YZ(){return n.jsx(PD,{children:n.jsxs(W4,{children:[n.jsx(le,{path:"/",element:n.jsx(iw,{})}),n.jsx(le,{path:"/dashboard",element:n.jsx(iw,{})}),n.jsx(le,{path:"/raw-materials",element:n.jsx(uZ,{})}),n.jsx(le,{path:"/raw-materials/add",element:n.jsx(dZ,{})}),n.jsx(le,{path:"/raw-materials/edit/:id",element:n.jsx(mZ,{})}),n.jsx(le,{path:"/bill-of-materials",element:n.jsx(fZ,{})}),n.jsx(le,{path:"/bill-of-materials/add",element:n.jsx(hZ,{})}),n.jsx(le,{path:"/bill-of-materials/edit/:id",element:n.jsx(pZ,{})}),n.jsx(le,{path:"/job-orders",element:n.jsx(xZ,{})}),n.jsx(le,{path:"/job-orders/add",element:n.jsx(yZ,{})}),n.jsx(le,{path:"/job-orders/edit/:id",element:n.jsx(gZ,{})}),n.jsx(le,{path:"/purchase-orders",element:n.jsx(vZ,{})}),n.jsx(le,{path:"/purchase-orders/add",element:n.jsx(bZ,{})}),n.jsx(le,{path:"/purchase-orders/edit/:id",element:n.jsx(jZ,{})}),n.jsx(le,{path:"/good-receipt-notes",element:n.jsx(NZ,{})}),n.jsx(le,{path:"/good-receipt-notes/add",element:n.jsx(wZ,{})}),n.jsx(le,{path:"/good-receipt-notes/edit/:id",element:n.jsx(SZ,{})}),n.jsx(le,{path:"/warehouse-master",element:n.jsx(CZ,{})}),n.jsx(le,{path:"/warehouse-master/add",element:n.jsx(OZ,{})}),n.jsx(le,{path:"/warehouse-master/edit/:id",element:n.jsx(kZ,{})}),n.jsx(le,{path:"/transfer-orders",element:n.jsx(PZ,{})}),n.jsx(le,{path:"/transfer-orders/edit/:id",element:n.jsx(TZ,{})}),n.jsx(le,{path:"/inventory",element:n.jsx(AZ,{})}),n.jsx(le,{path:"/outlets",element:n.jsx(DZ,{})}),n.jsx(le,{path:"/outlets/add",element:n.jsx(EZ,{})}),n.jsx(le,{path:"/outlets/edit/:id",element:n.jsx(MZ,{})}),n.jsx(le,{path:"/central-kitchen",element:n.jsx(IZ,{})}),n.jsx(le,{path:"/central-kitchen/raw-materials",element:n.jsx($Z,{})}),n.jsx(le,{path:"/central-kitchen/finished-goods",element:n.jsx(_Z,{})}),n.jsx(le,{path:"/central-kitchen/make-finished-good",element:n.jsx(RZ,{})}),n.jsx(le,{path:"/central-kitchen/create-transfer",element:n.jsx(LZ,{})}),n.jsx(le,{path:"/downtown-restaurant",element:n.jsx(Mf,{})}),n.jsx(le,{path:"/downtown-restaurant/raw-materials",element:n.jsx(Mf,{})}),n.jsx(le,{path:"/downtown-restaurant/finished-goods",element:n.jsx(Mf,{})}),n.jsx(le,{path:"/downtown-restaurant/request-raw-materials",element:n.jsx(KZ,{})}),n.jsx(le,{path:"/downtown-restaurant/request-finished-goods",element:n.jsx(zZ,{})}),n.jsx(le,{path:"/marina-walk-cafe",element:n.jsx(If,{})}),n.jsx(le,{path:"/marina-walk-cafe/raw-materials",element:n.jsx(If,{})}),n.jsx(le,{path:"/marina-walk-cafe/finished-goods",element:n.jsx(If,{})}),n.jsx(le,{path:"/marina-walk-cafe/request-raw-materials",element:n.jsx(HZ,{})}),n.jsx(le,{path:"/marina-walk-cafe/request-finished-goods",element:n.jsx(QZ,{})}),n.jsx(le,{path:"/mall-food-court",element:n.jsx($f,{})}),n.jsx(le,{path:"/mall-food-court/raw-materials",element:n.jsx($f,{})}),n.jsx(le,{path:"/mall-food-court/finished-goods",element:n.jsx($f,{})}),n.jsx(le,{path:"/mall-food-court/request-raw-materials",element:n.jsx(VZ,{})}),n.jsx(le,{path:"/mall-food-court/request-finished-goods",element:n.jsx(GZ,{})}),n.jsx(le,{path:"/drive-thru-express",element:n.jsx(_f,{})}),n.jsx(le,{path:"/drive-thru-express/raw-materials",element:n.jsx(_f,{})}),n.jsx(le,{path:"/drive-thru-express/finished-goods",element:n.jsx(_f,{})}),n.jsx(le,{path:"/drive-thru-express/request-raw-materials",element:n.jsx(JZ,{})}),n.jsx(le,{path:"/drive-thru-express/request-finished-goods",element:n.jsx(XZ,{})}),n.jsx(le,{path:"/raw-material-forecast",element:n.jsx(FZ,{})}),n.jsx(le,{path:"/raw-material-forecast/add",element:n.jsx(BZ,{})}),n.jsx(le,{path:"/sales-orders",element:n.jsx(Vi,{})}),n.jsx(le,{path:"/sales-orders/add",element:n.jsx(Gi,{})}),n.jsx(le,{path:"/downtown-restaurant/sales-orders",element:n.jsx(Vi,{})}),n.jsx(le,{path:"/downtown-restaurant/sales-orders/add",element:n.jsx(Gi,{})}),n.jsx(le,{path:"/downtown-restaurant/pos-sales/create-order",element:n.jsx(Sc,{})}),n.jsx(le,{path:"/marina-walk-cafe/sales-orders",element:n.jsx(Vi,{})}),n.jsx(le,{path:"/marina-walk-cafe/sales-orders/add",element:n.jsx(Gi,{})}),n.jsx(le,{path:"/marina-walk-cafe/pos-sales/create-order",element:n.jsx(Sc,{})}),n.jsx(le,{path:"/mall-food-court/sales-orders",element:n.jsx(Vi,{})}),n.jsx(le,{path:"/mall-food-court/sales-orders/add",element:n.jsx(Gi,{})}),n.jsx(le,{path:"/mall-food-court/pos-sales/create-order",element:n.jsx(Sc,{})}),n.jsx(le,{path:"/drive-thru-express/sales-orders",element:n.jsx(Vi,{})}),n.jsx(le,{path:"/drive-thru-express/sales-orders/add",element:n.jsx(Gi,{})}),n.jsx(le,{path:"/drive-thru-express/pos-sales/create-order",element:n.jsx(Sc,{})}),n.jsx(le,{path:"/settings",element:n.jsx(WZ,{})})]})})}Rf.createRoot(document.getElementById("root")).render(n.jsx(q.StrictMode,{children:n.jsx(vA,{store:hD,children:n.jsx(J4,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsx(YZ,{})})})}));
