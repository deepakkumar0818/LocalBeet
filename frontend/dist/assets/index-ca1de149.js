function QO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Me(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _N={exports:{}},ld={},RN={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),XO=Symbol.for("react.portal"),YO=Symbol.for("react.fragment"),JO=Symbol.for("react.strict_mode"),ZO=Symbol.for("react.profiler"),ek=Symbol.for("react.provider"),tk=Symbol.for("react.context"),rk=Symbol.for("react.forward_ref"),nk=Symbol.for("react.suspense"),ak=Symbol.for("react.memo"),ik=Symbol.for("react.lazy"),ey=Symbol.iterator;function sk(e){return e===null||typeof e!="object"?null:(e=ey&&e[ey]||e["@@iterator"],typeof e=="function"?e:null)}var LN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BN=Object.assign,FN={};function ps(e,t,r){this.props=e,this.context=t,this.refs=FN,this.updater=r||LN}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UN(){}UN.prototype=ps.prototype;function Xp(e,t,r){this.props=e,this.context=t,this.refs=FN,this.updater=r||LN}var Yp=Xp.prototype=new UN;Yp.constructor=Xp;BN(Yp,ps.prototype);Yp.isPureReactComponent=!0;var ty=Array.isArray,WN=Object.prototype.hasOwnProperty,Jp={current:null},qN={key:!0,ref:!0,__self:!0,__source:!0};function zN(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)WN.call(t,n)&&!qN.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Nl,type:e,key:s,ref:o,props:i,_owner:Jp.current}}function ok(e,t){return{$$typeof:Nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nl}function lk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ry=/\/+/g;function jm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lk(""+e.key):t.toString(36)}function vc(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Nl:case XO:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+jm(o,0):n,ty(i)?(r="",e!=null&&(r=e.replace(ry,"$&/")+"/"),vc(i,t,r,"",function(u){return u})):i!=null&&(Zp(i)&&(i=ok(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ry,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",ty(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+jm(s,l);o+=vc(s,t,r,c,i)}else if(c=sk(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+jm(s,l++),o+=vc(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Fl(e,t,r){if(e==null)return e;var n=[],i=0;return vc(e,n,"","",function(s){return t.call(r,s,i++)}),n}function ck(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vt={current:null},bc={transition:null},uk={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:bc,ReactCurrentOwner:Jp};function VN(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Fl,forEach:function(e,t,r){Fl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fl(e,function(){t++}),t},toArray:function(e){return Fl(e,function(t){return t})||[]},only:function(e){if(!Zp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=ps;Ce.Fragment=YO;Ce.Profiler=ZO;Ce.PureComponent=Xp;Ce.StrictMode=JO;Ce.Suspense=nk;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uk;Ce.act=VN;Ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=BN({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Jp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)WN.call(t,c)&&!qN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Nl,type:e.type,key:i,ref:s,props:n,_owner:o}};Ce.createContext=function(e){return e={$$typeof:tk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ek,_context:e},e.Consumer=e};Ce.createElement=zN;Ce.createFactory=function(e){var t=zN.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:rk,render:e}};Ce.isValidElement=Zp;Ce.lazy=function(e){return{$$typeof:ik,_payload:{_status:-1,_result:e},_init:ck}};Ce.memo=function(e,t){return{$$typeof:ak,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=bc.transition;bc.transition={};try{e()}finally{bc.transition=t}};Ce.unstable_act=VN;Ce.useCallback=function(e,t){return Vt.current.useCallback(e,t)};Ce.useContext=function(e){return Vt.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return Vt.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return Vt.current.useEffect(e,t)};Ce.useId=function(){return Vt.current.useId()};Ce.useImperativeHandle=function(e,t,r){return Vt.current.useImperativeHandle(e,t,r)};Ce.useInsertionEffect=function(e,t){return Vt.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return Vt.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return Vt.current.useMemo(e,t)};Ce.useReducer=function(e,t,r){return Vt.current.useReducer(e,t,r)};Ce.useRef=function(e){return Vt.current.useRef(e)};Ce.useState=function(e){return Vt.current.useState(e)};Ce.useSyncExternalStore=function(e,t,r){return Vt.current.useSyncExternalStore(e,t,r)};Ce.useTransition=function(){return Vt.current.useTransition()};Ce.version="18.3.1";RN.exports=Ce;var k=RN.exports;const _=Me(k),dk=QO({__proto__:null,default:_},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk=k,fk=Symbol.for("react.element"),hk=Symbol.for("react.fragment"),pk=Object.prototype.hasOwnProperty,xk=mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yk={key:!0,ref:!0,__self:!0,__source:!0};function KN(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)pk.call(t,n)&&!yk.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:fk,type:e,key:s,ref:o,props:i,_owner:xk.current}}ld.Fragment=hk;ld.jsx=KN;ld.jsxs=KN;_N.exports=ld;var a=_N.exports,Sf={},GN={exports:{}},fr={},HN={exports:{}},QN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,D){var U=L.length;L.push(D);e:for(;0<U;){var F=U-1>>>1,$=L[F];if(0<i($,D))L[F]=D,L[U]=$,U=F;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var D=L[0],U=L.pop();if(U!==D){L[0]=U;e:for(var F=0,$=L.length,K=$>>>1;F<K;){var ee=2*(F+1)-1,Q=L[ee],fe=ee+1,ge=L[fe];if(0>i(Q,U))fe<$&&0>i(ge,Q)?(L[F]=ge,L[fe]=U,F=fe):(L[F]=Q,L[ee]=U,F=ee);else if(fe<$&&0>i(ge,U))L[F]=ge,L[fe]=U,F=fe;else break e}}return D}function i(L,D){var U=L.sortIndex-D.sortIndex;return U!==0?U:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],m=1,d=null,f=3,y=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(L){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=L)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function w(L){if(p=!1,h(L),!g)if(r(c)!==null)g=!0,R(x);else{var D=r(u);D!==null&&W(w,D.startTime-L)}}function x(L,D){g=!1,p&&(p=!1,b(C),C=-1),y=!0;var U=f;try{for(h(D),d=r(c);d!==null&&(!(d.expirationTime>D)||L&&!E());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var $=F(d.expirationTime<=D);D=e.unstable_now(),typeof $=="function"?d.callback=$:d===r(c)&&n(c),h(D)}else n(c);d=r(c)}if(d!==null)var K=!0;else{var ee=r(u);ee!==null&&W(w,ee.startTime-D),K=!1}return K}finally{d=null,f=U,y=!1}}var N=!1,S=null,C=-1,P=5,A=-1;function E(){return!(e.unstable_now()-A<P)}function O(){if(S!==null){var L=e.unstable_now();A=L;var D=!0;try{D=S(!0,L)}finally{D?I():(N=!1,S=null)}}else N=!1}var I;if(typeof j=="function")I=function(){j(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,M=T.port2;T.port1.onmessage=O,I=function(){M.postMessage(null)}}else I=function(){v(O,0)};function R(L){S=L,N||(N=!0,I())}function W(L,D){C=v(function(){L(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,R(x))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var U=f;f=D;try{return L()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return D()}finally{f=U}},e.unstable_scheduleCallback=function(L,D,U){var F=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?F+U:F):U=F,L){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=U+$,L={id:m++,callback:D,priorityLevel:L,startTime:U,expirationTime:$,sortIndex:-1},U>F?(L.sortIndex=U,t(u,L),r(c)===null&&L===r(u)&&(p?(b(C),C=-1):p=!0,W(w,U-F))):(L.sortIndex=$,t(c,L),g||y||(g=!0,R(x))),L},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(L){var D=f;return function(){var U=f;f=D;try{return L.apply(this,arguments)}finally{f=U}}}})(QN);HN.exports=QN;var gk=HN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk=k,mr=gk;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XN=new Set,No={};function Ya(e,t){_i(e,t),_i(e+"Capture",t)}function _i(e,t){for(No[e]=t,e=0;e<t.length;e++)XN.add(t[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=Object.prototype.hasOwnProperty,bk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ny={},ay={};function jk(e){return Cf.call(ay,e)?!0:Cf.call(ny,e)?!1:bk.test(e)?ay[e]=!0:(ny[e]=!0,!1)}function Nk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wk(e,t,r,n){if(t===null||typeof t>"u"||Nk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ex=/[\-:]([a-z])/g;function tx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ex,tx);Et[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ex,tx);Et[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ex,tx);Et[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function rx(e,t,r,n){var i=Et.hasOwnProperty(t)?Et[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wk(t,r,i,n)&&(r=null),n||i===null?jk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var En=vk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),ci=Symbol.for("react.portal"),ui=Symbol.for("react.fragment"),nx=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),YN=Symbol.for("react.provider"),JN=Symbol.for("react.context"),ax=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),Pf=Symbol.for("react.suspense_list"),ix=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),ZN=Symbol.for("react.offscreen"),iy=Symbol.iterator;function Ms(e){return e===null||typeof e!="object"?null:(e=iy&&e[iy]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,Nm;function eo(e){if(Nm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nm=t&&t[1]||""}return`
`+Nm+e}var wm=!1;function Sm(e,t){if(!e||wm)return"";wm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{wm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?eo(e):""}function Sk(e){switch(e.tag){case 5:return eo(e.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 2:case 15:return e=Sm(e.type,!1),e;case 11:return e=Sm(e.type.render,!1),e;case 1:return e=Sm(e.type,!0),e;default:return""}}function Af(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ui:return"Fragment";case ci:return"Portal";case Of:return"Profiler";case nx:return"StrictMode";case kf:return"Suspense";case Pf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JN:return(e.displayName||"Context")+".Consumer";case YN:return(e._context.displayName||"Context")+".Provider";case ax:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ix:return t=e.displayName||null,t!==null?t:Af(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return Af(e(t))}catch{}}return null}function Ck(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Af(t);case 8:return t===nx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ia(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function e1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ok(e){var t=e1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wl(e){e._valueTracker||(e._valueTracker=Ok(e))}function t1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=e1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Mc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ef(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ia(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r1(e,t){t=t.checked,t!=null&&rx(e,"checked",t,!1)}function Tf(e,t){r1(e,t);var r=ia(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?If(e,t.type,r):t.hasOwnProperty("defaultValue")&&If(e,t.type,ia(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function If(e,t,r){(t!=="number"||Mc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var to=Array.isArray;function Oi(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ia(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Df(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ly(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(to(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ia(r)}}function n1(e,t){var r=ia(t.value),n=ia(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function cy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ql,i1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kk=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(e){kk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),io[t]=io[e]})});function s1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||io.hasOwnProperty(e)&&io[e]?(""+t).trim():t+"px"}function o1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=s1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Pk=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $f(e,t){if(t){if(Pk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function _f(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=null;function sx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lf=null,ki=null,Pi=null;function uy(e){if(e=Cl(e)){if(typeof Lf!="function")throw Error(H(280));var t=e.stateNode;t&&(t=fd(t),Lf(e.stateNode,e.type,t))}}function l1(e){ki?Pi?Pi.push(e):Pi=[e]:ki=e}function c1(){if(ki){var e=ki,t=Pi;if(Pi=ki=null,uy(e),t)for(e=0;e<t.length;e++)uy(t[e])}}function u1(e,t){return e(t)}function d1(){}var Cm=!1;function m1(e,t,r){if(Cm)return e(t,r);Cm=!0;try{return u1(e,t,r)}finally{Cm=!1,(ki!==null||Pi!==null)&&(d1(),c1())}}function So(e,t){var r=e.stateNode;if(r===null)return null;var n=fd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var Bf=!1;if(wn)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Bf=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Bf=!1}function Ak(e,t,r,n,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(m){this.onError(m)}}var so=!1,$c=null,_c=!1,Ff=null,Ek={onError:function(e){so=!0,$c=e}};function Tk(e,t,r,n,i,s,o,l,c){so=!1,$c=null,Ak.apply(Ek,arguments)}function Ik(e,t,r,n,i,s,o,l,c){if(Tk.apply(this,arguments),so){if(so){var u=$c;so=!1,$c=null}else throw Error(H(198));_c||(_c=!0,Ff=u)}}function Ja(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dy(e){if(Ja(e)!==e)throw Error(H(188))}function Dk(e){var t=e.alternate;if(!t){if(t=Ja(e),t===null)throw Error(H(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return dy(i),e;if(s===n)return dy(i),t;s=s.sibling}throw Error(H(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?e:t}function h1(e){return e=Dk(e),e!==null?p1(e):null}function p1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=p1(e);if(t!==null)return t;e=e.sibling}return null}var x1=mr.unstable_scheduleCallback,my=mr.unstable_cancelCallback,Mk=mr.unstable_shouldYield,$k=mr.unstable_requestPaint,nt=mr.unstable_now,_k=mr.unstable_getCurrentPriorityLevel,ox=mr.unstable_ImmediatePriority,y1=mr.unstable_UserBlockingPriority,Rc=mr.unstable_NormalPriority,Rk=mr.unstable_LowPriority,g1=mr.unstable_IdlePriority,cd=null,Jr=null;function Lk(e){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(cd,e,void 0,(e.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:Uk,Bk=Math.log,Fk=Math.LN2;function Uk(e){return e>>>=0,e===0?32:31-(Bk(e)/Fk|0)|0}var zl=64,Vl=4194304;function ro(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=ro(l):(s&=o,s!==0&&(n=ro(s)))}else o=r&~i,o!==0?n=ro(o):s!==0&&(n=ro(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Fr(t),i=1<<r,n|=e[r],t&=~i;return n}function Wk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qk(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Fr(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=Wk(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Uf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function v1(){var e=zl;return zl<<=1,!(zl&4194240)&&(zl=64),e}function Om(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fr(t),e[t]=r}function zk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Fr(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function lx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Fr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var De=0;function b1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var j1,cx,N1,w1,S1,Wf=!1,Kl=[],Hn=null,Qn=null,Xn=null,Co=new Map,Oo=new Map,Un=[],Vk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fy(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":Co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(t.pointerId)}}function _s(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Cl(t),t!==null&&cx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Kk(e,t,r,n,i){switch(t){case"focusin":return Hn=_s(Hn,e,t,r,n,i),!0;case"dragenter":return Qn=_s(Qn,e,t,r,n,i),!0;case"mouseover":return Xn=_s(Xn,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Co.set(s,_s(Co.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Oo.set(s,_s(Oo.get(s)||null,e,t,r,n,i)),!0}return!1}function C1(e){var t=ka(e.target);if(t!==null){var r=Ja(t);if(r!==null){if(t=r.tag,t===13){if(t=f1(r),t!==null){e.blockedOn=t,S1(e.priority,function(){N1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Rf=n,r.target.dispatchEvent(n),Rf=null}else return t=Cl(r),t!==null&&cx(t),e.blockedOn=r,!1;t.shift()}return!0}function hy(e,t,r){jc(e)&&r.delete(t)}function Gk(){Wf=!1,Hn!==null&&jc(Hn)&&(Hn=null),Qn!==null&&jc(Qn)&&(Qn=null),Xn!==null&&jc(Xn)&&(Xn=null),Co.forEach(hy),Oo.forEach(hy)}function Rs(e,t){e.blockedOn===t&&(e.blockedOn=null,Wf||(Wf=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,Gk)))}function ko(e){function t(i){return Rs(i,e)}if(0<Kl.length){Rs(Kl[0],e);for(var r=1;r<Kl.length;r++){var n=Kl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Hn!==null&&Rs(Hn,e),Qn!==null&&Rs(Qn,e),Xn!==null&&Rs(Xn,e),Co.forEach(t),Oo.forEach(t),r=0;r<Un.length;r++)n=Un[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Un.length&&(r=Un[0],r.blockedOn===null);)C1(r),r.blockedOn===null&&Un.shift()}var Ai=En.ReactCurrentBatchConfig,Bc=!0;function Hk(e,t,r,n){var i=De,s=Ai.transition;Ai.transition=null;try{De=1,ux(e,t,r,n)}finally{De=i,Ai.transition=s}}function Qk(e,t,r,n){var i=De,s=Ai.transition;Ai.transition=null;try{De=4,ux(e,t,r,n)}finally{De=i,Ai.transition=s}}function ux(e,t,r,n){if(Bc){var i=qf(e,t,r,n);if(i===null)_m(e,t,n,Fc,r),fy(e,n);else if(Kk(i,e,t,r,n))n.stopPropagation();else if(fy(e,n),t&4&&-1<Vk.indexOf(e)){for(;i!==null;){var s=Cl(i);if(s!==null&&j1(s),s=qf(e,t,r,n),s===null&&_m(e,t,n,Fc,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else _m(e,t,n,null,r)}}var Fc=null;function qf(e,t,r,n){if(Fc=null,e=sx(n),e=ka(e),e!==null)if(t=Ja(e),t===null)e=null;else if(r=t.tag,r===13){if(e=f1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fc=e,null}function O1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_k()){case ox:return 1;case y1:return 4;case Rc:case Rk:return 16;case g1:return 536870912;default:return 16}default:return 16}}var zn=null,dx=null,Nc=null;function k1(){if(Nc)return Nc;var e,t=dx,r=t.length,n,i="value"in zn?zn.value:zn.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Nc=i.slice(e,1<n?1-n:void 0)}function wc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function py(){return!1}function hr(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gl:py,this.isPropagationStopped=py,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mx=hr(xs),Sl=et({},xs,{view:0,detail:0}),Xk=hr(Sl),km,Pm,Ls,ud=et({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?(km=e.screenX-Ls.screenX,Pm=e.screenY-Ls.screenY):Pm=km=0,Ls=e),km)},movementY:function(e){return"movementY"in e?e.movementY:Pm}}),xy=hr(ud),Yk=et({},ud,{dataTransfer:0}),Jk=hr(Yk),Zk=et({},Sl,{relatedTarget:0}),Am=hr(Zk),eP=et({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),tP=hr(eP),rP=et({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nP=hr(rP),aP=et({},xs,{data:0}),yy=hr(aP),iP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oP[e])?!!t[e]:!1}function fx(){return lP}var cP=et({},Sl,{key:function(e){if(e.key){var t=iP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fx,charCode:function(e){return e.type==="keypress"?wc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uP=hr(cP),dP=et({},ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gy=hr(dP),mP=et({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fx}),fP=hr(mP),hP=et({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),pP=hr(hP),xP=et({},ud,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yP=hr(xP),gP=[9,13,27,32],hx=wn&&"CompositionEvent"in window,oo=null;wn&&"documentMode"in document&&(oo=document.documentMode);var vP=wn&&"TextEvent"in window&&!oo,P1=wn&&(!hx||oo&&8<oo&&11>=oo),vy=String.fromCharCode(32),by=!1;function A1(e,t){switch(e){case"keyup":return gP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var di=!1;function bP(e,t){switch(e){case"compositionend":return E1(t);case"keypress":return t.which!==32?null:(by=!0,vy);case"textInput":return e=t.data,e===vy&&by?null:e;default:return null}}function jP(e,t){if(di)return e==="compositionend"||!hx&&A1(e,t)?(e=k1(),Nc=dx=zn=null,di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return P1&&t.locale!=="ko"?null:t.data;default:return null}}var NP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NP[e.type]:t==="textarea"}function T1(e,t,r,n){l1(n),t=Uc(t,"onChange"),0<t.length&&(r=new mx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var lo=null,Po=null;function wP(e){W1(e,0)}function dd(e){var t=hi(e);if(t1(t))return e}function SP(e,t){if(e==="change")return t}var I1=!1;if(wn){var Em;if(wn){var Tm="oninput"in document;if(!Tm){var Ny=document.createElement("div");Ny.setAttribute("oninput","return;"),Tm=typeof Ny.oninput=="function"}Em=Tm}else Em=!1;I1=Em&&(!document.documentMode||9<document.documentMode)}function wy(){lo&&(lo.detachEvent("onpropertychange",D1),Po=lo=null)}function D1(e){if(e.propertyName==="value"&&dd(Po)){var t=[];T1(t,Po,e,sx(e)),m1(wP,t)}}function CP(e,t,r){e==="focusin"?(wy(),lo=t,Po=r,lo.attachEvent("onpropertychange",D1)):e==="focusout"&&wy()}function OP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dd(Po)}function kP(e,t){if(e==="click")return dd(t)}function PP(e,t){if(e==="input"||e==="change")return dd(t)}function AP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qr=typeof Object.is=="function"?Object.is:AP;function Ao(e,t){if(qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Cf.call(t,i)||!qr(e[i],t[i]))return!1}return!0}function Sy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cy(e,t){var r=Sy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sy(r)}}function M1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?M1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $1(){for(var e=window,t=Mc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Mc(e.document)}return t}function px(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function EP(e){var t=$1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&M1(r.ownerDocument.documentElement,r)){if(n!==null&&px(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Cy(r,s);var o=Cy(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TP=wn&&"documentMode"in document&&11>=document.documentMode,mi=null,zf=null,co=null,Vf=!1;function Oy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vf||mi==null||mi!==Mc(n)||(n=mi,"selectionStart"in n&&px(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),co&&Ao(co,n)||(co=n,n=Uc(zf,"onSelect"),0<n.length&&(t=new mx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mi)))}function Hl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fi={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},Im={},_1={};wn&&(_1=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function md(e){if(Im[e])return Im[e];if(!fi[e])return e;var t=fi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _1)return Im[e]=t[r];return e}var R1=md("animationend"),L1=md("animationiteration"),B1=md("animationstart"),F1=md("transitionend"),U1=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oa(e,t){U1.set(e,t),Ya(t,[e])}for(var Dm=0;Dm<ky.length;Dm++){var Mm=ky[Dm],IP=Mm.toLowerCase(),DP=Mm[0].toUpperCase()+Mm.slice(1);oa(IP,"on"+DP)}oa(R1,"onAnimationEnd");oa(L1,"onAnimationIteration");oa(B1,"onAnimationStart");oa("dblclick","onDoubleClick");oa("focusin","onFocus");oa("focusout","onBlur");oa(F1,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MP=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Py(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ik(n,t,void 0,e),e.currentTarget=null}function W1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Py(i,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Py(i,l,u),s=c}}}if(_c)throw e=Ff,_c=!1,Ff=null,e}function ze(e,t){var r=t[Xf];r===void 0&&(r=t[Xf]=new Set);var n=e+"__bubble";r.has(n)||(q1(t,e,2,!1),r.add(n))}function $m(e,t,r){var n=0;t&&(n|=4),q1(r,e,n,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Eo(e){if(!e[Ql]){e[Ql]=!0,XN.forEach(function(r){r!=="selectionchange"&&(MP.has(r)||$m(r,!1,e),$m(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,$m("selectionchange",!1,t))}}function q1(e,t,r,n){switch(O1(t)){case 1:var i=Hk;break;case 4:i=Qk;break;default:i=ux}r=i.bind(null,t,r,e),i=void 0,!Bf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function _m(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ka(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}m1(function(){var u=s,m=sx(r),d=[];e:{var f=U1.get(e);if(f!==void 0){var y=mx,g=e;switch(e){case"keypress":if(wc(r)===0)break e;case"keydown":case"keyup":y=uP;break;case"focusin":g="focus",y=Am;break;case"focusout":g="blur",y=Am;break;case"beforeblur":case"afterblur":y=Am;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Jk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=fP;break;case R1:case L1:case B1:y=tP;break;case F1:y=pP;break;case"scroll":y=Xk;break;case"wheel":y=yP;break;case"copy":case"cut":case"paste":y=nP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=gy}var p=(t&4)!==0,v=!p&&e==="scroll",b=p?f!==null?f+"Capture":null:f;p=[];for(var j=u,h;j!==null;){h=j;var w=h.stateNode;if(h.tag===5&&w!==null&&(h=w,b!==null&&(w=So(j,b),w!=null&&p.push(To(j,w,h)))),v)break;j=j.return}0<p.length&&(f=new y(f,g,null,r,m),d.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==Rf&&(g=r.relatedTarget||r.fromElement)&&(ka(g)||g[Sn]))break e;if((y||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=u,g=g?ka(g):null,g!==null&&(v=Ja(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(p=xy,w="onMouseLeave",b="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(p=gy,w="onPointerLeave",b="onPointerEnter",j="pointer"),v=y==null?f:hi(y),h=g==null?f:hi(g),f=new p(w,j+"leave",y,r,m),f.target=v,f.relatedTarget=h,w=null,ka(m)===u&&(p=new p(b,j+"enter",g,r,m),p.target=h,p.relatedTarget=v,w=p),v=w,y&&g)t:{for(p=y,b=g,j=0,h=p;h;h=ai(h))j++;for(h=0,w=b;w;w=ai(w))h++;for(;0<j-h;)p=ai(p),j--;for(;0<h-j;)b=ai(b),h--;for(;j--;){if(p===b||b!==null&&p===b.alternate)break t;p=ai(p),b=ai(b)}p=null}else p=null;y!==null&&Ay(d,f,y,p,!1),g!==null&&v!==null&&Ay(d,v,g,p,!0)}}e:{if(f=u?hi(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var x=SP;else if(jy(f))if(I1)x=PP;else{x=OP;var N=CP}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=kP);if(x&&(x=x(e,u))){T1(d,x,r,m);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&If(f,"number",f.value)}switch(N=u?hi(u):window,e){case"focusin":(jy(N)||N.contentEditable==="true")&&(mi=N,zf=u,co=null);break;case"focusout":co=zf=mi=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Oy(d,r,m);break;case"selectionchange":if(TP)break;case"keydown":case"keyup":Oy(d,r,m)}var S;if(hx)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else di?A1(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(P1&&r.locale!=="ko"&&(di||C!=="onCompositionStart"?C==="onCompositionEnd"&&di&&(S=k1()):(zn=m,dx="value"in zn?zn.value:zn.textContent,di=!0)),N=Uc(u,C),0<N.length&&(C=new yy(C,e,null,r,m),d.push({event:C,listeners:N}),S?C.data=S:(S=E1(r),S!==null&&(C.data=S)))),(S=vP?bP(e,r):jP(e,r))&&(u=Uc(u,"onBeforeInput"),0<u.length&&(m=new yy("onBeforeInput","beforeinput",null,r,m),d.push({event:m,listeners:u}),m.data=S))}W1(d,t)})}function To(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Uc(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=So(e,r),s!=null&&n.unshift(To(e,s,i)),s=So(e,t),s!=null&&n.push(To(e,s,i))),e=e.return}return n}function ai(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ay(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=So(r,s),c!=null&&o.unshift(To(r,c,l))):i||(c=So(r,s),c!=null&&o.push(To(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var $P=/\r\n?/g,_P=/\u0000|\uFFFD/g;function Ey(e){return(typeof e=="string"?e:""+e).replace($P,`
`).replace(_P,"")}function Xl(e,t,r){if(t=Ey(t),Ey(e)!==t&&r)throw Error(H(425))}function Wc(){}var Kf=null,Gf=null;function Hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,RP=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,LP=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(e){return Ty.resolve(null).then(e).catch(BP)}:Qf;function BP(e){setTimeout(function(){throw e})}function Rm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),ko(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ko(t)}function Yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Xr="__reactFiber$"+ys,Io="__reactProps$"+ys,Sn="__reactContainer$"+ys,Xf="__reactEvents$"+ys,FP="__reactListeners$"+ys,UP="__reactHandles$"+ys;function ka(e){var t=e[Xr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sn]||r[Xr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Iy(e);e!==null;){if(r=e[Xr])return r;e=Iy(e)}return t}e=r,r=e.parentNode}return null}function Cl(e){return e=e[Xr]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function fd(e){return e[Io]||null}var Yf=[],pi=-1;function la(e){return{current:e}}function Ge(e){0>pi||(e.current=Yf[pi],Yf[pi]=null,pi--)}function We(e,t){pi++,Yf[pi]=e.current,e.current=t}var sa={},Bt=la(sa),Yt=la(!1),La=sa;function Ri(e,t){var r=e.type.contextTypes;if(!r)return sa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(e){return e=e.childContextTypes,e!=null}function qc(){Ge(Yt),Ge(Bt)}function Dy(e,t,r){if(Bt.current!==sa)throw Error(H(168));We(Bt,t),We(Yt,r)}function z1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(H(108,Ck(e)||"Unknown",i));return et({},r,n)}function zc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sa,La=Bt.current,We(Bt,e),We(Yt,Yt.current),!0}function My(e,t,r){var n=e.stateNode;if(!n)throw Error(H(169));r?(e=z1(e,t,La),n.__reactInternalMemoizedMergedChildContext=e,Ge(Yt),Ge(Bt),We(Bt,e)):Ge(Yt),We(Yt,r)}var fn=null,hd=!1,Lm=!1;function V1(e){fn===null?fn=[e]:fn.push(e)}function WP(e){hd=!0,V1(e)}function ca(){if(!Lm&&fn!==null){Lm=!0;var e=0,t=De;try{var r=fn;for(De=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fn=null,hd=!1}catch(i){throw fn!==null&&(fn=fn.slice(e+1)),x1(ox,ca),i}finally{De=t,Lm=!1}}return null}var xi=[],yi=0,Vc=null,Kc=0,gr=[],vr=0,Ba=null,hn=1,pn="";function ja(e,t){xi[yi++]=Kc,xi[yi++]=Vc,Vc=e,Kc=t}function K1(e,t,r){gr[vr++]=hn,gr[vr++]=pn,gr[vr++]=Ba,Ba=e;var n=hn;e=pn;var i=32-Fr(n)-1;n&=~(1<<i),r+=1;var s=32-Fr(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,hn=1<<32-Fr(t)+i|r<<i|n,pn=s+e}else hn=1<<s|r<<i|n,pn=e}function xx(e){e.return!==null&&(ja(e,1),K1(e,1,0))}function yx(e){for(;e===Vc;)Vc=xi[--yi],xi[yi]=null,Kc=xi[--yi],xi[yi]=null;for(;e===Ba;)Ba=gr[--vr],gr[vr]=null,pn=gr[--vr],gr[vr]=null,hn=gr[--vr],gr[vr]=null}var cr=null,lr=null,He=!1,Lr=null;function G1(e,t){var r=Nr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $y(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cr=e,lr=Yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cr=e,lr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ba!==null?{id:hn,overflow:pn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Nr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cr=e,lr=null,!0):!1;default:return!1}}function Jf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zf(e){if(He){var t=lr;if(t){var r=t;if(!$y(e,t)){if(Jf(e))throw Error(H(418));t=Yn(r.nextSibling);var n=cr;t&&$y(e,t)?G1(n,r):(e.flags=e.flags&-4097|2,He=!1,cr=e)}}else{if(Jf(e))throw Error(H(418));e.flags=e.flags&-4097|2,He=!1,cr=e}}}function _y(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cr=e}function Yl(e){if(e!==cr)return!1;if(!He)return _y(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hf(e.type,e.memoizedProps)),t&&(t=lr)){if(Jf(e))throw H1(),Error(H(418));for(;t;)G1(e,t),t=Yn(t.nextSibling)}if(_y(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){lr=Yn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}lr=null}}else lr=cr?Yn(e.stateNode.nextSibling):null;return!0}function H1(){for(var e=lr;e;)e=Yn(e.nextSibling)}function Li(){lr=cr=null,He=!1}function gx(e){Lr===null?Lr=[e]:Lr.push(e)}var qP=En.ReactCurrentBatchConfig;function Bs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,e))}return e}function Jl(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ry(e){var t=e._init;return t(e._payload)}function Q1(e){function t(b,j){if(e){var h=b.deletions;h===null?(b.deletions=[j],b.flags|=16):h.push(j)}}function r(b,j){if(!e)return null;for(;j!==null;)t(b,j),j=j.sibling;return null}function n(b,j){for(b=new Map;j!==null;)j.key!==null?b.set(j.key,j):b.set(j.index,j),j=j.sibling;return b}function i(b,j){return b=ta(b,j),b.index=0,b.sibling=null,b}function s(b,j,h){return b.index=h,e?(h=b.alternate,h!==null?(h=h.index,h<j?(b.flags|=2,j):h):(b.flags|=2,j)):(b.flags|=1048576,j)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,j,h,w){return j===null||j.tag!==6?(j=Vm(h,b.mode,w),j.return=b,j):(j=i(j,h),j.return=b,j)}function c(b,j,h,w){var x=h.type;return x===ui?m(b,j,h.props.children,w,h.key):j!==null&&(j.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ln&&Ry(x)===j.type)?(w=i(j,h.props),w.ref=Bs(b,j,h),w.return=b,w):(w=Ec(h.type,h.key,h.props,null,b.mode,w),w.ref=Bs(b,j,h),w.return=b,w)}function u(b,j,h,w){return j===null||j.tag!==4||j.stateNode.containerInfo!==h.containerInfo||j.stateNode.implementation!==h.implementation?(j=Km(h,b.mode,w),j.return=b,j):(j=i(j,h.children||[]),j.return=b,j)}function m(b,j,h,w,x){return j===null||j.tag!==7?(j=$a(h,b.mode,w,x),j.return=b,j):(j=i(j,h),j.return=b,j)}function d(b,j,h){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Vm(""+j,b.mode,h),j.return=b,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ul:return h=Ec(j.type,j.key,j.props,null,b.mode,h),h.ref=Bs(b,null,j),h.return=b,h;case ci:return j=Km(j,b.mode,h),j.return=b,j;case Ln:var w=j._init;return d(b,w(j._payload),h)}if(to(j)||Ms(j))return j=$a(j,b.mode,h,null),j.return=b,j;Jl(b,j)}return null}function f(b,j,h,w){var x=j!==null?j.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return x!==null?null:l(b,j,""+h,w);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ul:return h.key===x?c(b,j,h,w):null;case ci:return h.key===x?u(b,j,h,w):null;case Ln:return x=h._init,f(b,j,x(h._payload),w)}if(to(h)||Ms(h))return x!==null?null:m(b,j,h,w,null);Jl(b,h)}return null}function y(b,j,h,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(h)||null,l(j,b,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ul:return b=b.get(w.key===null?h:w.key)||null,c(j,b,w,x);case ci:return b=b.get(w.key===null?h:w.key)||null,u(j,b,w,x);case Ln:var N=w._init;return y(b,j,h,N(w._payload),x)}if(to(w)||Ms(w))return b=b.get(h)||null,m(j,b,w,x,null);Jl(j,w)}return null}function g(b,j,h,w){for(var x=null,N=null,S=j,C=j=0,P=null;S!==null&&C<h.length;C++){S.index>C?(P=S,S=null):P=S.sibling;var A=f(b,S,h[C],w);if(A===null){S===null&&(S=P);break}e&&S&&A.alternate===null&&t(b,S),j=s(A,j,C),N===null?x=A:N.sibling=A,N=A,S=P}if(C===h.length)return r(b,S),He&&ja(b,C),x;if(S===null){for(;C<h.length;C++)S=d(b,h[C],w),S!==null&&(j=s(S,j,C),N===null?x=S:N.sibling=S,N=S);return He&&ja(b,C),x}for(S=n(b,S);C<h.length;C++)P=y(S,b,C,h[C],w),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?C:P.key),j=s(P,j,C),N===null?x=P:N.sibling=P,N=P);return e&&S.forEach(function(E){return t(b,E)}),He&&ja(b,C),x}function p(b,j,h,w){var x=Ms(h);if(typeof x!="function")throw Error(H(150));if(h=x.call(h),h==null)throw Error(H(151));for(var N=x=null,S=j,C=j=0,P=null,A=h.next();S!==null&&!A.done;C++,A=h.next()){S.index>C?(P=S,S=null):P=S.sibling;var E=f(b,S,A.value,w);if(E===null){S===null&&(S=P);break}e&&S&&E.alternate===null&&t(b,S),j=s(E,j,C),N===null?x=E:N.sibling=E,N=E,S=P}if(A.done)return r(b,S),He&&ja(b,C),x;if(S===null){for(;!A.done;C++,A=h.next())A=d(b,A.value,w),A!==null&&(j=s(A,j,C),N===null?x=A:N.sibling=A,N=A);return He&&ja(b,C),x}for(S=n(b,S);!A.done;C++,A=h.next())A=y(S,b,C,A.value,w),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?C:A.key),j=s(A,j,C),N===null?x=A:N.sibling=A,N=A);return e&&S.forEach(function(O){return t(b,O)}),He&&ja(b,C),x}function v(b,j,h,w){if(typeof h=="object"&&h!==null&&h.type===ui&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Ul:e:{for(var x=h.key,N=j;N!==null;){if(N.key===x){if(x=h.type,x===ui){if(N.tag===7){r(b,N.sibling),j=i(N,h.props.children),j.return=b,b=j;break e}}else if(N.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ln&&Ry(x)===N.type){r(b,N.sibling),j=i(N,h.props),j.ref=Bs(b,N,h),j.return=b,b=j;break e}r(b,N);break}else t(b,N);N=N.sibling}h.type===ui?(j=$a(h.props.children,b.mode,w,h.key),j.return=b,b=j):(w=Ec(h.type,h.key,h.props,null,b.mode,w),w.ref=Bs(b,j,h),w.return=b,b=w)}return o(b);case ci:e:{for(N=h.key;j!==null;){if(j.key===N)if(j.tag===4&&j.stateNode.containerInfo===h.containerInfo&&j.stateNode.implementation===h.implementation){r(b,j.sibling),j=i(j,h.children||[]),j.return=b,b=j;break e}else{r(b,j);break}else t(b,j);j=j.sibling}j=Km(h,b.mode,w),j.return=b,b=j}return o(b);case Ln:return N=h._init,v(b,j,N(h._payload),w)}if(to(h))return g(b,j,h,w);if(Ms(h))return p(b,j,h,w);Jl(b,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,j!==null&&j.tag===6?(r(b,j.sibling),j=i(j,h),j.return=b,b=j):(r(b,j),j=Vm(h,b.mode,w),j.return=b,b=j),o(b)):r(b,j)}return v}var Bi=Q1(!0),X1=Q1(!1),Gc=la(null),Hc=null,gi=null,vx=null;function bx(){vx=gi=Hc=null}function jx(e){var t=Gc.current;Ge(Gc),e._currentValue=t}function eh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ei(e,t){Hc=e,vx=gi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qt=!0),e.firstContext=null)}function Cr(e){var t=e._currentValue;if(vx!==e)if(e={context:e,memoizedValue:t,next:null},gi===null){if(Hc===null)throw Error(H(308));gi=e,Hc.dependencies={lanes:0,firstContext:e}}else gi=gi.next=e;return t}var Pa=null;function Nx(e){Pa===null?Pa=[e]:Pa.push(e)}function Y1(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Nx(t)):(r.next=i.next,i.next=r),t.interleaved=r,Cn(e,n)}function Cn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bn=!1;function wx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Cn(e,r)}return i=n.interleaved,i===null?(t.next=t,Nx(n)):(t.next=i.next,i.next=t),n.interleaved=t,Cn(e,r)}function Sc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lx(e,r)}}function Ly(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qc(e,t,r,n){var i=e.updateQueue;Bn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,m=u=c=null,l=s;do{var f=l.lane,y=l.eventTime;if((n&f)===f){m!==null&&(m=m.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(f=t,y=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(y,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(y,d,f):g,f==null)break e;d=et({},d,f);break e;case 2:Bn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(u=m=y,c=d):m=m.next=y,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(m===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ua|=o,e.lanes=o,e.memoizedState=d}}function By(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(H(191,i));i.call(n)}}}var Ol={},Zr=la(Ol),Do=la(Ol),Mo=la(Ol);function Aa(e){if(e===Ol)throw Error(H(174));return e}function Sx(e,t){switch(We(Mo,t),We(Do,e),We(Zr,Ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mf(t,e)}Ge(Zr),We(Zr,t)}function Fi(){Ge(Zr),Ge(Do),Ge(Mo)}function Z1(e){Aa(Mo.current);var t=Aa(Zr.current),r=Mf(t,e.type);t!==r&&(We(Do,e),We(Zr,r))}function Cx(e){Do.current===e&&(Ge(Zr),Ge(Do))}var Je=la(0);function Xc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bm=[];function Ox(){for(var e=0;e<Bm.length;e++)Bm[e]._workInProgressVersionPrimary=null;Bm.length=0}var Cc=En.ReactCurrentDispatcher,Fm=En.ReactCurrentBatchConfig,Fa=0,Ze=null,ft=null,vt=null,Yc=!1,uo=!1,$o=0,zP=0;function Dt(){throw Error(H(321))}function kx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qr(e[r],t[r]))return!1;return!0}function Px(e,t,r,n,i,s){if(Fa=s,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cc.current=e===null||e.memoizedState===null?HP:QP,e=r(n,i),uo){s=0;do{if(uo=!1,$o=0,25<=s)throw Error(H(301));s+=1,vt=ft=null,t.updateQueue=null,Cc.current=XP,e=r(n,i)}while(uo)}if(Cc.current=Jc,t=ft!==null&&ft.next!==null,Fa=0,vt=ft=Ze=null,Yc=!1,t)throw Error(H(300));return e}function Ax(){var e=$o!==0;return $o=0,e}function Qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ze.memoizedState=vt=e:vt=vt.next=e,vt}function Or(){if(ft===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=vt===null?Ze.memoizedState:vt.next;if(t!==null)vt=t,ft=e;else{if(e===null)throw Error(H(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Ze.memoizedState=vt=e:vt=vt.next=e}return vt}function _o(e,t){return typeof t=="function"?t(e):t}function Um(e){var t=Or(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=ft,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,c=null,u=s;do{var m=u.lane;if((Fa&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,Ze.lanes|=m,Ua|=m}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,qr(n,t.memoizedState)||(Qt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Ze.lanes|=s,Ua|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wm(e){var t=Or(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);qr(s,t.memoizedState)||(Qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function ew(){}function tw(e,t){var r=Ze,n=Or(),i=t(),s=!qr(n.memoizedState,i);if(s&&(n.memoizedState=i,Qt=!0),n=n.queue,Ex(aw.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,Ro(9,nw.bind(null,r,n,i,t),void 0,null),jt===null)throw Error(H(349));Fa&30||rw(r,t,i)}return i}function rw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function nw(e,t,r,n){t.value=r,t.getSnapshot=n,iw(t)&&sw(e)}function aw(e,t,r){return r(function(){iw(t)&&sw(e)})}function iw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qr(e,r)}catch{return!0}}function sw(e){var t=Cn(e,1);t!==null&&Ur(t,e,1,-1)}function Fy(e){var t=Qr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=GP.bind(null,Ze,e),[t.memoizedState,e]}function Ro(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ow(){return Or().memoizedState}function Oc(e,t,r,n){var i=Qr();Ze.flags|=e,i.memoizedState=Ro(1|t,r,void 0,n===void 0?null:n)}function pd(e,t,r,n){var i=Or();n=n===void 0?null:n;var s=void 0;if(ft!==null){var o=ft.memoizedState;if(s=o.destroy,n!==null&&kx(n,o.deps)){i.memoizedState=Ro(t,r,s,n);return}}Ze.flags|=e,i.memoizedState=Ro(1|t,r,s,n)}function Uy(e,t){return Oc(8390656,8,e,t)}function Ex(e,t){return pd(2048,8,e,t)}function lw(e,t){return pd(4,2,e,t)}function cw(e,t){return pd(4,4,e,t)}function uw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dw(e,t,r){return r=r!=null?r.concat([e]):null,pd(4,4,uw.bind(null,t,e),r)}function Tx(){}function mw(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fw(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hw(e,t,r){return Fa&21?(qr(r,t)||(r=v1(),Ze.lanes|=r,Ua|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=r)}function VP(e,t){var r=De;De=r!==0&&4>r?r:4,e(!0);var n=Fm.transition;Fm.transition={};try{e(!1),t()}finally{De=r,Fm.transition=n}}function pw(){return Or().memoizedState}function KP(e,t,r){var n=ea(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xw(e))yw(t,r);else if(r=Y1(e,t,r,n),r!==null){var i=zt();Ur(r,e,n,i),gw(r,t,n)}}function GP(e,t,r){var n=ea(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xw(e))yw(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,qr(l,o)){var c=t.interleaved;c===null?(i.next=i,Nx(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=Y1(e,t,i,n),r!==null&&(i=zt(),Ur(r,e,n,i),gw(r,t,n))}}function xw(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function yw(e,t){uo=Yc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function gw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lx(e,r)}}var Jc={readContext:Cr,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},HP={readContext:Cr,useCallback:function(e,t){return Qr().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:Uy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Oc(4194308,4,uw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Oc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oc(4,2,e,t)},useMemo:function(e,t){var r=Qr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KP.bind(null,Ze,e),[n.memoizedState,e]},useRef:function(e){var t=Qr();return e={current:e},t.memoizedState=e},useState:Fy,useDebugValue:Tx,useDeferredValue:function(e){return Qr().memoizedState=e},useTransition:function(){var e=Fy(!1),t=e[0];return e=VP.bind(null,e[1]),Qr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ze,i=Qr();if(He){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),jt===null)throw Error(H(349));Fa&30||rw(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Uy(aw.bind(null,n,s,e),[e]),n.flags|=2048,Ro(9,nw.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Qr(),t=jt.identifierPrefix;if(He){var r=pn,n=hn;r=(n&~(1<<32-Fr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$o++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QP={readContext:Cr,useCallback:mw,useContext:Cr,useEffect:Ex,useImperativeHandle:dw,useInsertionEffect:lw,useLayoutEffect:cw,useMemo:fw,useReducer:Um,useRef:ow,useState:function(){return Um(_o)},useDebugValue:Tx,useDeferredValue:function(e){var t=Or();return hw(t,ft.memoizedState,e)},useTransition:function(){var e=Um(_o)[0],t=Or().memoizedState;return[e,t]},useMutableSource:ew,useSyncExternalStore:tw,useId:pw,unstable_isNewReconciler:!1},XP={readContext:Cr,useCallback:mw,useContext:Cr,useEffect:Ex,useImperativeHandle:dw,useInsertionEffect:lw,useLayoutEffect:cw,useMemo:fw,useReducer:Wm,useRef:ow,useState:function(){return Wm(_o)},useDebugValue:Tx,useDeferredValue:function(e){var t=Or();return ft===null?t.memoizedState=e:hw(t,ft.memoizedState,e)},useTransition:function(){var e=Wm(_o)[0],t=Or().memoizedState;return[e,t]},useMutableSource:ew,useSyncExternalStore:tw,useId:pw,unstable_isNewReconciler:!1};function Dr(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function th(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xd={isMounted:function(e){return(e=e._reactInternals)?Ja(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=zt(),i=ea(e),s=vn(n,i);s.payload=t,r!=null&&(s.callback=r),t=Jn(e,s,i),t!==null&&(Ur(t,e,i,n),Sc(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=zt(),i=ea(e),s=vn(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Jn(e,s,i),t!==null&&(Ur(t,e,i,n),Sc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zt(),n=ea(e),i=vn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Jn(e,i,n),t!==null&&(Ur(t,e,n,r),Sc(t,e,n))}};function Wy(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ao(r,n)||!Ao(i,s):!0}function vw(e,t,r){var n=!1,i=sa,s=t.contextType;return typeof s=="object"&&s!==null?s=Cr(s):(i=Jt(t)?La:Bt.current,n=t.contextTypes,s=(n=n!=null)?Ri(e,i):sa),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function qy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xd.enqueueReplaceState(t,t.state,null)}function rh(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},wx(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Cr(s):(s=Jt(t)?La:Bt.current,i.context=Ri(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(th(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xd.enqueueReplaceState(i,i.state,null),Qc(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ui(e,t){try{var r="",n=t;do r+=Sk(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function qm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function nh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var YP=typeof WeakMap=="function"?WeakMap:Map;function bw(e,t,r){r=vn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){eu||(eu=!0,fh=n),nh(e,t)},r}function jw(e,t,r){r=vn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){nh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){nh(e,t),typeof n!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function zy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new YP;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=dA.bind(null,e,t,r),t.then(e,e))}function Vy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ky(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vn(-1,1),t.tag=2,Jn(r,t,1))),r.lanes|=1),e)}var JP=En.ReactCurrentOwner,Qt=!1;function Ft(e,t,r,n){t.child=e===null?X1(t,null,r,n):Bi(t,e.child,r,n)}function Gy(e,t,r,n,i){r=r.render;var s=t.ref;return Ei(t,i),n=Px(e,t,r,n,s,i),r=Ax(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,On(e,t,i)):(He&&r&&xx(t),t.flags|=1,Ft(e,t,n,i),t.child)}function Hy(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Bx(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Nw(e,t,s,n,i)):(e=Ec(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ao,r(o,n)&&e.ref===t.ref)return On(e,t,i)}return t.flags|=1,e=ta(s,n),e.ref=t.ref,e.return=t,t.child=e}function Nw(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Ao(s,n)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,On(e,t,i)}return ah(e,t,r,n,i)}function ww(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(bi,ar),ar|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(bi,ar),ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,We(bi,ar),ar|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,We(bi,ar),ar|=n;return Ft(e,t,i,r),t.child}function Sw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ah(e,t,r,n,i){var s=Jt(r)?La:Bt.current;return s=Ri(t,s),Ei(t,i),r=Px(e,t,r,n,s,i),n=Ax(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,On(e,t,i)):(He&&n&&xx(t),t.flags|=1,Ft(e,t,r,i),t.child)}function Qy(e,t,r,n,i){if(Jt(r)){var s=!0;zc(t)}else s=!1;if(Ei(t,i),t.stateNode===null)kc(e,t),vw(t,r,n),rh(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Cr(u):(u=Jt(r)?La:Bt.current,u=Ri(t,u));var m=r.getDerivedStateFromProps,d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&qy(t,o,n,u),Bn=!1;var f=t.memoizedState;o.state=f,Qc(t,n,o,i),c=t.memoizedState,l!==n||f!==c||Yt.current||Bn?(typeof m=="function"&&(th(t,r,m,n),c=t.memoizedState),(l=Bn||Wy(t,r,l,n,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,J1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Dr(t.type,l),o.props=u,d=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=Jt(r)?La:Bt.current,c=Ri(t,c));var y=r.getDerivedStateFromProps;(m=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==c)&&qy(t,o,n,c),Bn=!1,f=t.memoizedState,o.state=f,Qc(t,n,o,i);var g=t.memoizedState;l!==d||f!==g||Yt.current||Bn?(typeof y=="function"&&(th(t,r,y,n),g=t.memoizedState),(u=Bn||Wy(t,r,u,n,f,g,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return ih(e,t,r,n,s,i)}function ih(e,t,r,n,i,s){Sw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&My(t,r,!1),On(e,t,s);n=t.stateNode,JP.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Bi(t,e.child,null,s),t.child=Bi(t,null,l,s)):Ft(e,t,l,s),t.memoizedState=n.state,i&&My(t,r,!0),t.child}function Cw(e){var t=e.stateNode;t.pendingContext?Dy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dy(e,t.context,!1),Sx(e,t.containerInfo)}function Xy(e,t,r,n,i){return Li(),gx(i),t.flags|=256,Ft(e,t,r,n),t.child}var sh={dehydrated:null,treeContext:null,retryLane:0};function oh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ow(e,t,r){var n=t.pendingProps,i=Je.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),We(Je,i&1),e===null)return Zf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vd(o,n,0,null),e=$a(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=oh(r),t.memoizedState=sh,e):Ix(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ZP(e,t,o,n,l,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ta(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ta(l,s):(s=$a(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?oh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=sh,n}return s=e.child,e=s.sibling,n=ta(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ix(e,t){return t=vd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zl(e,t,r,n){return n!==null&&gx(n),Bi(t,e.child,null,r),e=Ix(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZP(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=qm(Error(H(422))),Zl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=vd({mode:"visible",children:n.children},i,0,null),s=$a(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Bi(t,e.child,null,o),t.child.memoizedState=oh(o),t.memoizedState=sh,s);if(!(t.mode&1))return Zl(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(H(419)),n=qm(s,n,void 0),Zl(e,t,o,n)}if(l=(o&e.childLanes)!==0,Qt||l){if(n=jt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cn(e,i),Ur(n,e,i,-1))}return Lx(),n=qm(Error(H(421))),Zl(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=mA.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,lr=Yn(i.nextSibling),cr=t,He=!0,Lr=null,e!==null&&(gr[vr++]=hn,gr[vr++]=pn,gr[vr++]=Ba,hn=e.id,pn=e.overflow,Ba=t),t=Ix(t,n.children),t.flags|=4096,t)}function Yy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),eh(e.return,t,r)}function zm(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function kw(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Ft(e,t,n.children,r),n=Je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yy(e,r,t);else if(e.tag===19)Yy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(We(Je,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Xc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),zm(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}zm(t,!0,r,null,s);break;case"together":zm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function On(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ua|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,r=ta(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ta(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function eA(e,t,r){switch(t.tag){case 3:Cw(t),Li();break;case 5:Z1(t);break;case 1:Jt(t.type)&&zc(t);break;case 4:Sx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;We(Gc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(We(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?Ow(e,t,r):(We(Je,Je.current&1),e=On(e,t,r),e!==null?e.sibling:null);We(Je,Je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kw(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(Je,Je.current),n)break;return null;case 22:case 23:return t.lanes=0,ww(e,t,r)}return On(e,t,r)}var Pw,lh,Aw,Ew;Pw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lh=function(){};Aw=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Aa(Zr.current);var s=null;switch(r){case"input":i=Ef(e,i),n=Ef(e,n),s=[];break;case"select":i=et({},i,{value:void 0}),n=et({},n,{value:void 0}),s=[];break;case"textarea":i=Df(e,i),n=Df(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wc)}$f(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(No.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(No.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Ew=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fs(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function tA(e,t,r){var n=t.pendingProps;switch(yx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return Jt(t.type)&&qc(),Mt(t),null;case 3:return n=t.stateNode,Fi(),Ge(Yt),Ge(Bt),Ox(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lr!==null&&(xh(Lr),Lr=null))),lh(e,t),Mt(t),null;case 5:Cx(t);var i=Aa(Mo.current);if(r=t.type,e!==null&&t.stateNode!=null)Aw(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return Mt(t),null}if(e=Aa(Zr.current),Yl(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Xr]=t,n[Io]=s,e=(t.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(i=0;i<no.length;i++)ze(no[i],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":sy(n,s),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ze("invalid",n);break;case"textarea":ly(n,s),ze("invalid",n)}$f(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Xl(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Xl(n.textContent,l,e),i=["children",""+l]):No.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ze("scroll",n)}switch(r){case"input":Wl(n),oy(n,s,!0);break;case"textarea":Wl(n),cy(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Wc)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Xr]=t,e[Io]=n,Pw(e,t,!1,!1),t.stateNode=e;e:{switch(o=_f(r,n),r){case"dialog":ze("cancel",e),ze("close",e),i=n;break;case"iframe":case"object":case"embed":ze("load",e),i=n;break;case"video":case"audio":for(i=0;i<no.length;i++)ze(no[i],e);i=n;break;case"source":ze("error",e),i=n;break;case"img":case"image":case"link":ze("error",e),ze("load",e),i=n;break;case"details":ze("toggle",e),i=n;break;case"input":sy(e,n),i=Ef(e,n),ze("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=et({},n,{value:void 0}),ze("invalid",e);break;case"textarea":ly(e,n),i=Df(e,n),ze("invalid",e);break;default:i=n}$f(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?o1(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&i1(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wo(e,c):typeof c=="number"&&wo(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(No.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ze("scroll",e):c!=null&&rx(e,s,c,o))}switch(r){case"input":Wl(e),oy(e,n,!1);break;case"textarea":Wl(e),cy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ia(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Oi(e,!!n.multiple,s,!1):n.defaultValue!=null&&Oi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Wc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mt(t),null;case 6:if(e&&t.stateNode!=null)Ew(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(r=Aa(Mo.current),Aa(Zr.current),Yl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xr]=t,(s=n.nodeValue!==r)&&(e=cr,e!==null))switch(e.tag){case 3:Xl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xl(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xr]=t,t.stateNode=n}return Mt(t),null;case 13:if(Ge(Je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&lr!==null&&t.mode&1&&!(t.flags&128))H1(),Li(),t.flags|=98560,s=!1;else if(s=Yl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(H(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Xr]=t}else Li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mt(t),s=!1}else Lr!==null&&(xh(Lr),Lr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?pt===0&&(pt=3):Lx())),t.updateQueue!==null&&(t.flags|=4),Mt(t),null);case 4:return Fi(),lh(e,t),e===null&&Eo(t.stateNode.containerInfo),Mt(t),null;case 10:return jx(t.type._context),Mt(t),null;case 17:return Jt(t.type)&&qc(),Mt(t),null;case 19:if(Ge(Je),s=t.memoizedState,s===null)return Mt(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Fs(s,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xc(e),o!==null){for(t.flags|=128,Fs(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return We(Je,Je.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Wi&&(t.flags|=128,n=!0,Fs(s,!1),t.lanes=4194304)}else{if(!n)if(e=Xc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!He)return Mt(t),null}else 2*nt()-s.renderingStartTime>Wi&&r!==1073741824&&(t.flags|=128,n=!0,Fs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,r=Je.current,We(Je,n?r&1|2:r&1),t):(Mt(t),null);case 22:case 23:return Rx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ar&1073741824&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function rA(e,t){switch(yx(t),t.tag){case 1:return Jt(t.type)&&qc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fi(),Ge(Yt),Ge(Bt),Ox(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cx(t),null;case 13:if(Ge(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Je),null;case 4:return Fi(),null;case 10:return jx(t.type._context),null;case 22:case 23:return Rx(),null;case 24:return null;default:return null}}var ec=!1,_t=!1,nA=typeof WeakSet=="function"?WeakSet:Set,ne=null;function vi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){tt(e,t,n)}else r.current=null}function ch(e,t,r){try{r()}catch(n){tt(e,t,n)}}var Jy=!1;function aA(e,t){if(Kf=Bc,e=$1(),px(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,m=0,d=e,f=null;t:for(;;){for(var y;d!==r||i!==0&&d.nodeType!==3||(l=o+i),d!==s||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===e)break t;if(f===r&&++u===i&&(l=o),f===s&&++m===n&&(c=o),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gf={focusedElem:e,selectionRange:r},Bc=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,b=t.stateNode,j=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Dr(t.type,p),v);b.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){tt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return g=Jy,Jy=!1,g}function mo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&ch(t,r,s)}i=i.next}while(i!==n)}}function yd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Tw(e){var t=e.alternate;t!==null&&(e.alternate=null,Tw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xr],delete t[Io],delete t[Xf],delete t[FP],delete t[UP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iw(e){return e.tag===5||e.tag===3||e.tag===4}function Zy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wc));else if(n!==4&&(e=e.child,e!==null))for(dh(e,t,r),e=e.sibling;e!==null;)dh(e,t,r),e=e.sibling}function mh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mh(e,t,r),e=e.sibling;e!==null;)mh(e,t,r),e=e.sibling}var kt=null,Mr=!1;function Rn(e,t,r){for(r=r.child;r!==null;)Dw(e,t,r),r=r.sibling}function Dw(e,t,r){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(cd,r)}catch{}switch(r.tag){case 5:_t||vi(r,t);case 6:var n=kt,i=Mr;kt=null,Rn(e,t,r),kt=n,Mr=i,kt!==null&&(Mr?(e=kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&(Mr?(e=kt,r=r.stateNode,e.nodeType===8?Rm(e.parentNode,r):e.nodeType===1&&Rm(e,r),ko(e)):Rm(kt,r.stateNode));break;case 4:n=kt,i=Mr,kt=r.stateNode.containerInfo,Mr=!0,Rn(e,t,r),kt=n,Mr=i;break;case 0:case 11:case 14:case 15:if(!_t&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ch(r,t,o),i=i.next}while(i!==n)}Rn(e,t,r);break;case 1:if(!_t&&(vi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){tt(r,t,l)}Rn(e,t,r);break;case 21:Rn(e,t,r);break;case 22:r.mode&1?(_t=(n=_t)||r.memoizedState!==null,Rn(e,t,r),_t=n):Rn(e,t,r);break;default:Rn(e,t,r)}}function eg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new nA),t.forEach(function(n){var i=fA.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Tr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,Mr=!1;break e;case 3:kt=l.stateNode.containerInfo,Mr=!0;break e;case 4:kt=l.stateNode.containerInfo,Mr=!0;break e}l=l.return}if(kt===null)throw Error(H(160));Dw(s,o,i),kt=null,Mr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){tt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mw(t,e),t=t.sibling}function Mw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tr(t,e),Hr(e),n&4){try{mo(3,e,e.return),yd(3,e)}catch(p){tt(e,e.return,p)}try{mo(5,e,e.return)}catch(p){tt(e,e.return,p)}}break;case 1:Tr(t,e),Hr(e),n&512&&r!==null&&vi(r,r.return);break;case 5:if(Tr(t,e),Hr(e),n&512&&r!==null&&vi(r,r.return),e.flags&32){var i=e.stateNode;try{wo(i,"")}catch(p){tt(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&r1(i,s),_f(l,o);var u=_f(l,s);for(o=0;o<c.length;o+=2){var m=c[o],d=c[o+1];m==="style"?o1(i,d):m==="dangerouslySetInnerHTML"?i1(i,d):m==="children"?wo(i,d):rx(i,m,d,u)}switch(l){case"input":Tf(i,s);break;case"textarea":n1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Oi(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?Oi(i,!!s.multiple,s.defaultValue,!0):Oi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Io]=s}catch(p){tt(e,e.return,p)}}break;case 6:if(Tr(t,e),Hr(e),n&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){tt(e,e.return,p)}}break;case 3:if(Tr(t,e),Hr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ko(t.containerInfo)}catch(p){tt(e,e.return,p)}break;case 4:Tr(t,e),Hr(e);break;case 13:Tr(t,e),Hr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($x=nt())),n&4&&eg(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(_t=(u=_t)||m,Tr(t,e),_t=u):Tr(t,e),Hr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(ne=e,m=e.child;m!==null;){for(d=ne=m;ne!==null;){switch(f=ne,y=f.child,f.tag){case 0:case 11:case 14:case 15:mo(4,f,f.return);break;case 1:vi(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){tt(n,r,p)}}break;case 5:vi(f,f.return);break;case 22:if(f.memoizedState!==null){rg(d);continue}}y!==null?(y.return=f,ne=y):rg(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=s1("display",o))}catch(p){tt(e,e.return,p)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){tt(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tr(t,e),Hr(e),n&4&&eg(e);break;case 21:break;default:Tr(t,e),Hr(e)}}function Hr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Iw(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wo(i,""),n.flags&=-33);var s=Zy(e);mh(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Zy(e);dh(e,l,o);break;default:throw Error(H(161))}}catch(c){tt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iA(e,t,r){ne=e,$w(e)}function $w(e,t,r){for(var n=(e.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ec;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||_t;l=ec;var u=_t;if(ec=o,(_t=c)&&!u)for(ne=i;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?ng(i):c!==null?(c.return=o,ne=c):ng(i);for(;s!==null;)ne=s,$w(s),s=s.sibling;ne=i,ec=l,_t=u}tg(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):tg(e)}}function tg(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||yd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_t)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Dr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&By(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}By(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&ko(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}_t||t.flags&512&&uh(t)}catch(f){tt(t,t.return,f)}}if(t===e){ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,ne=r;break}ne=t.return}}function rg(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ne=r;break}ne=t.return}}function ng(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yd(4,t)}catch(c){tt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){tt(t,i,c)}}var s=t.return;try{uh(t)}catch(c){tt(t,s,c)}break;case 5:var o=t.return;try{uh(t)}catch(c){tt(t,o,c)}}}catch(c){tt(t,t.return,c)}if(t===e){ne=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ne=l;break}ne=t.return}}var sA=Math.ceil,Zc=En.ReactCurrentDispatcher,Dx=En.ReactCurrentOwner,Sr=En.ReactCurrentBatchConfig,ke=0,jt=null,lt=null,At=0,ar=0,bi=la(0),pt=0,Lo=null,Ua=0,gd=0,Mx=0,fo=null,Ht=null,$x=0,Wi=1/0,dn=null,eu=!1,fh=null,Zn=null,tc=!1,Vn=null,tu=0,ho=0,hh=null,Pc=-1,Ac=0;function zt(){return ke&6?nt():Pc!==-1?Pc:Pc=nt()}function ea(e){return e.mode&1?ke&2&&At!==0?At&-At:qP.transition!==null?(Ac===0&&(Ac=v1()),Ac):(e=De,e!==0||(e=window.event,e=e===void 0?16:O1(e.type)),e):1}function Ur(e,t,r,n){if(50<ho)throw ho=0,hh=null,Error(H(185));wl(e,r,n),(!(ke&2)||e!==jt)&&(e===jt&&(!(ke&2)&&(gd|=r),pt===4&&Wn(e,At)),Zt(e,n),r===1&&ke===0&&!(t.mode&1)&&(Wi=nt()+500,hd&&ca()))}function Zt(e,t){var r=e.callbackNode;qk(e,t);var n=Lc(e,e===jt?At:0);if(n===0)r!==null&&my(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&my(r),t===1)e.tag===0?WP(ag.bind(null,e)):V1(ag.bind(null,e)),LP(function(){!(ke&6)&&ca()}),r=null;else{switch(b1(n)){case 1:r=ox;break;case 4:r=y1;break;case 16:r=Rc;break;case 536870912:r=g1;break;default:r=Rc}r=qw(r,_w.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _w(e,t){if(Pc=-1,Ac=0,ke&6)throw Error(H(327));var r=e.callbackNode;if(Ti()&&e.callbackNode!==r)return null;var n=Lc(e,e===jt?At:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ru(e,n);else{t=n;var i=ke;ke|=2;var s=Lw();(jt!==e||At!==t)&&(dn=null,Wi=nt()+500,Ma(e,t));do try{cA();break}catch(l){Rw(e,l)}while(1);bx(),Zc.current=s,ke=i,lt!==null?t=0:(jt=null,At=0,t=pt)}if(t!==0){if(t===2&&(i=Uf(e),i!==0&&(n=i,t=ph(e,i))),t===1)throw r=Lo,Ma(e,0),Wn(e,n),Zt(e,nt()),r;if(t===6)Wn(e,n);else{if(i=e.current.alternate,!(n&30)&&!oA(i)&&(t=ru(e,n),t===2&&(s=Uf(e),s!==0&&(n=s,t=ph(e,s))),t===1))throw r=Lo,Ma(e,0),Wn(e,n),Zt(e,nt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:Na(e,Ht,dn);break;case 3:if(Wn(e,n),(n&130023424)===n&&(t=$x+500-nt(),10<t)){if(Lc(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){zt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qf(Na.bind(null,e,Ht,dn),t);break}Na(e,Ht,dn);break;case 4:if(Wn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Fr(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sA(n/1960))-n,10<n){e.timeoutHandle=Qf(Na.bind(null,e,Ht,dn),n);break}Na(e,Ht,dn);break;case 5:Na(e,Ht,dn);break;default:throw Error(H(329))}}}return Zt(e,nt()),e.callbackNode===r?_w.bind(null,e):null}function ph(e,t){var r=fo;return e.current.memoizedState.isDehydrated&&(Ma(e,t).flags|=256),e=ru(e,t),e!==2&&(t=Ht,Ht=r,t!==null&&xh(t)),e}function xh(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function oA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!qr(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t){for(t&=~Mx,t&=~gd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fr(t),n=1<<r;e[r]=-1,t&=~n}}function ag(e){if(ke&6)throw Error(H(327));Ti();var t=Lc(e,0);if(!(t&1))return Zt(e,nt()),null;var r=ru(e,t);if(e.tag!==0&&r===2){var n=Uf(e);n!==0&&(t=n,r=ph(e,n))}if(r===1)throw r=Lo,Ma(e,0),Wn(e,t),Zt(e,nt()),r;if(r===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Na(e,Ht,dn),Zt(e,nt()),null}function _x(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(Wi=nt()+500,hd&&ca())}}function Wa(e){Vn!==null&&Vn.tag===0&&!(ke&6)&&Ti();var t=ke;ke|=1;var r=Sr.transition,n=De;try{if(Sr.transition=null,De=1,e)return e()}finally{De=n,Sr.transition=r,ke=t,!(ke&6)&&ca()}}function Rx(){ar=bi.current,Ge(bi)}function Ma(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,RP(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(yx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qc();break;case 3:Fi(),Ge(Yt),Ge(Bt),Ox();break;case 5:Cx(n);break;case 4:Fi();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:jx(n.type._context);break;case 22:case 23:Rx()}r=r.return}if(jt=e,lt=e=ta(e.current,null),At=ar=t,pt=0,Lo=null,Mx=gd=Ua=0,Ht=fo=null,Pa!==null){for(t=0;t<Pa.length;t++)if(r=Pa[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Pa=null}return e}function Rw(e,t){do{var r=lt;try{if(bx(),Cc.current=Jc,Yc){for(var n=Ze.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yc=!1}if(Fa=0,vt=ft=Ze=null,uo=!1,$o=0,Dx.current=null,r===null||r.return===null){pt=1,Lo=t,lt=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=At,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=l,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var f=m.alternate;f?(m.updateQueue=f.updateQueue,m.memoizedState=f.memoizedState,m.lanes=f.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Vy(o);if(y!==null){y.flags&=-257,Ky(y,o,l,s,t),y.mode&1&&zy(s,u,t),t=y,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){zy(s,u,t),Lx();break e}c=Error(H(426))}}else if(He&&l.mode&1){var v=Vy(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Ky(v,o,l,s,t),gx(Ui(c,l));break e}}s=c=Ui(c,l),pt!==4&&(pt=2),fo===null?fo=[s]:fo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=bw(s,c,t);Ly(s,b);break e;case 1:l=c;var j=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof j.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Zn===null||!Zn.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=jw(s,l,t);Ly(s,w);break e}}s=s.return}while(s!==null)}Fw(r)}catch(x){t=x,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(1)}function Lw(){var e=Zc.current;return Zc.current=Jc,e===null?Jc:e}function Lx(){(pt===0||pt===3||pt===2)&&(pt=4),jt===null||!(Ua&268435455)&&!(gd&268435455)||Wn(jt,At)}function ru(e,t){var r=ke;ke|=2;var n=Lw();(jt!==e||At!==t)&&(dn=null,Ma(e,t));do try{lA();break}catch(i){Rw(e,i)}while(1);if(bx(),ke=r,Zc.current=n,lt!==null)throw Error(H(261));return jt=null,At=0,pt}function lA(){for(;lt!==null;)Bw(lt)}function cA(){for(;lt!==null&&!Mk();)Bw(lt)}function Bw(e){var t=Ww(e.alternate,e,ar);e.memoizedProps=e.pendingProps,t===null?Fw(e):lt=t,Dx.current=null}function Fw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rA(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,lt=null;return}}else if(r=tA(r,t,ar),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);pt===0&&(pt=5)}function Na(e,t,r){var n=De,i=Sr.transition;try{Sr.transition=null,De=1,uA(e,t,r,n)}finally{Sr.transition=i,De=n}return null}function uA(e,t,r,n){do Ti();while(Vn!==null);if(ke&6)throw Error(H(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(zk(e,s),e===jt&&(lt=jt=null,At=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tc||(tc=!0,qw(Rc,function(){return Ti(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Sr.transition,Sr.transition=null;var o=De;De=1;var l=ke;ke|=4,Dx.current=null,aA(e,r),Mw(r,e),EP(Gf),Bc=!!Kf,Gf=Kf=null,e.current=r,iA(r),$k(),ke=l,De=o,Sr.transition=s}else e.current=r;if(tc&&(tc=!1,Vn=e,tu=i),s=e.pendingLanes,s===0&&(Zn=null),Lk(r.stateNode),Zt(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(eu)throw eu=!1,e=fh,fh=null,e;return tu&1&&e.tag!==0&&Ti(),s=e.pendingLanes,s&1?e===hh?ho++:(ho=0,hh=e):ho=0,ca(),null}function Ti(){if(Vn!==null){var e=b1(tu),t=Sr.transition,r=De;try{if(Sr.transition=null,De=16>e?16:e,Vn===null)var n=!1;else{if(e=Vn,Vn=null,tu=0,ke&6)throw Error(H(331));var i=ke;for(ke|=4,ne=e.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ne=u;ne!==null;){var m=ne;switch(m.tag){case 0:case 11:case 15:mo(8,m,s)}var d=m.child;if(d!==null)d.return=m,ne=d;else for(;ne!==null;){m=ne;var f=m.sibling,y=m.return;if(Tw(m),m===u){ne=null;break}if(f!==null){f.return=y,ne=f;break}ne=y}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mo(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ne=b;break e}ne=s.return}}var j=e.current;for(ne=j;ne!==null;){o=ne;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,ne=h;else e:for(o=j;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yd(9,l)}}catch(x){tt(l,l.return,x)}if(l===o){ne=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,ne=w;break e}ne=l.return}}if(ke=i,ca(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(cd,e)}catch{}n=!0}return n}finally{De=r,Sr.transition=t}}return!1}function ig(e,t,r){t=Ui(r,t),t=bw(e,t,1),e=Jn(e,t,1),t=zt(),e!==null&&(wl(e,1,t),Zt(e,t))}function tt(e,t,r){if(e.tag===3)ig(e,e,r);else for(;t!==null;){if(t.tag===3){ig(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zn===null||!Zn.has(n))){e=Ui(r,e),e=jw(t,e,1),t=Jn(t,e,1),e=zt(),t!==null&&(wl(t,1,e),Zt(t,e));break}}t=t.return}}function dA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&r,jt===e&&(At&r)===r&&(pt===4||pt===3&&(At&130023424)===At&&500>nt()-$x?Ma(e,0):Mx|=r),Zt(e,t)}function Uw(e,t){t===0&&(e.mode&1?(t=Vl,Vl<<=1,!(Vl&130023424)&&(Vl=4194304)):t=1);var r=zt();e=Cn(e,t),e!==null&&(wl(e,t,r),Zt(e,r))}function mA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Uw(e,r)}function fA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),Uw(e,r)}var Ww;Ww=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)Qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qt=!1,eA(e,t,r);Qt=!!(e.flags&131072)}else Qt=!1,He&&t.flags&1048576&&K1(t,Kc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;kc(e,t),e=t.pendingProps;var i=Ri(t,Bt.current);Ei(t,r),i=Px(null,t,n,e,i,r);var s=Ax();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(n)?(s=!0,zc(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wx(t),i.updater=xd,t.stateNode=i,i._reactInternals=t,rh(t,n,e,r),t=ih(null,t,n,!0,s,r)):(t.tag=0,He&&s&&xx(t),Ft(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(kc(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=pA(n),e=Dr(n,e),i){case 0:t=ah(null,t,n,e,r);break e;case 1:t=Qy(null,t,n,e,r);break e;case 11:t=Gy(null,t,n,e,r);break e;case 14:t=Hy(null,t,n,Dr(n.type,e),r);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),ah(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),Qy(e,t,n,i,r);case 3:e:{if(Cw(t),e===null)throw Error(H(387));n=t.pendingProps,s=t.memoizedState,i=s.element,J1(e,t),Qc(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ui(Error(H(423)),t),t=Xy(e,t,n,r,i);break e}else if(n!==i){i=Ui(Error(H(424)),t),t=Xy(e,t,n,r,i);break e}else for(lr=Yn(t.stateNode.containerInfo.firstChild),cr=t,He=!0,Lr=null,r=X1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Li(),n===i){t=On(e,t,r);break e}Ft(e,t,n,r)}t=t.child}return t;case 5:return Z1(t),e===null&&Zf(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Hf(n,i)?o=null:s!==null&&Hf(n,s)&&(t.flags|=32),Sw(e,t),Ft(e,t,o,r),t.child;case 6:return e===null&&Zf(t),null;case 13:return Ow(e,t,r);case 4:return Sx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bi(t,null,n,r):Ft(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),Gy(e,t,n,i,r);case 7:return Ft(e,t,t.pendingProps,r),t.child;case 8:return Ft(e,t,t.pendingProps.children,r),t.child;case 12:return Ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,We(Gc,n._currentValue),n._currentValue=o,s!==null)if(qr(s.value,o)){if(s.children===i.children&&!Yt.current){t=On(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=vn(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),eh(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),eh(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ft(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ei(t,r),i=Cr(i),n=n(i),t.flags|=1,Ft(e,t,n,r),t.child;case 14:return n=t.type,i=Dr(n,t.pendingProps),i=Dr(n.type,i),Hy(e,t,n,i,r);case 15:return Nw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dr(n,i),kc(e,t),t.tag=1,Jt(n)?(e=!0,zc(t)):e=!1,Ei(t,r),vw(t,n,i),rh(t,n,i,r),ih(null,t,n,!0,e,r);case 19:return kw(e,t,r);case 22:return ww(e,t,r)}throw Error(H(156,t.tag))};function qw(e,t){return x1(e,t)}function hA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(e,t,r,n){return new hA(e,t,r,n)}function Bx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pA(e){if(typeof e=="function")return Bx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ax)return 11;if(e===ix)return 14}return 2}function ta(e,t){var r=e.alternate;return r===null?(r=Nr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ec(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Bx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ui:return $a(r.children,i,s,t);case nx:o=8,i|=8;break;case Of:return e=Nr(12,r,t,i|2),e.elementType=Of,e.lanes=s,e;case kf:return e=Nr(13,r,t,i),e.elementType=kf,e.lanes=s,e;case Pf:return e=Nr(19,r,t,i),e.elementType=Pf,e.lanes=s,e;case ZN:return vd(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case YN:o=10;break e;case JN:o=9;break e;case ax:o=11;break e;case ix:o=14;break e;case Ln:o=16,n=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Nr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function $a(e,t,r,n){return e=Nr(7,e,n,t),e.lanes=r,e}function vd(e,t,r,n){return e=Nr(22,e,n,t),e.elementType=ZN,e.lanes=r,e.stateNode={isHidden:!1},e}function Vm(e,t,r){return e=Nr(6,e,null,t),e.lanes=r,e}function Km(e,t,r){return t=Nr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xA(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Om(0),this.expirationTimes=Om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Om(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fx(e,t,r,n,i,s,o,l,c){return e=new xA(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Nr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wx(s),e}function yA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ci,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zw(e){if(!e)return sa;e=e._reactInternals;e:{if(Ja(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var r=e.type;if(Jt(r))return z1(e,r,t)}return t}function Vw(e,t,r,n,i,s,o,l,c){return e=Fx(r,n,!0,e,i,s,o,l,c),e.context=zw(null),r=e.current,n=zt(),i=ea(r),s=vn(n,i),s.callback=t??null,Jn(r,s,i),e.current.lanes=i,wl(e,i,n),Zt(e,n),e}function bd(e,t,r,n){var i=t.current,s=zt(),o=ea(i);return r=zw(r),t.context===null?t.context=r:t.pendingContext=r,t=vn(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Jn(i,t,o),e!==null&&(Ur(e,i,o,s),Sc(e,i,o)),o}function nu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ux(e,t){sg(e,t),(e=e.alternate)&&sg(e,t)}function gA(){return null}var Kw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wx(e){this._internalRoot=e}jd.prototype.render=Wx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));bd(e,t,null,null)};jd.prototype.unmount=Wx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wa(function(){bd(null,e,null,null)}),t[Sn]=null}};function jd(e){this._internalRoot=e}jd.prototype.unstable_scheduleHydration=function(e){if(e){var t=w1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Un.length&&t!==0&&t<Un[r].priority;r++);Un.splice(r,0,e),r===0&&C1(e)}};function qx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function og(){}function vA(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=nu(o);s.call(u)}}var o=Vw(t,n,e,0,null,!1,!1,"",og);return e._reactRootContainer=o,e[Sn]=o.current,Eo(e.nodeType===8?e.parentNode:e),Wa(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=nu(c);l.call(u)}}var c=Fx(e,0,!1,null,null,!1,!1,"",og);return e._reactRootContainer=c,e[Sn]=c.current,Eo(e.nodeType===8?e.parentNode:e),Wa(function(){bd(t,c,r,n)}),c}function wd(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=nu(o);l.call(c)}}bd(t,o,e,i)}else o=vA(r,t,e,i,n);return nu(o)}j1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ro(t.pendingLanes);r!==0&&(lx(t,r|1),Zt(t,nt()),!(ke&6)&&(Wi=nt()+500,ca()))}break;case 13:Wa(function(){var n=Cn(e,1);if(n!==null){var i=zt();Ur(n,e,1,i)}}),Ux(e,1)}};cx=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var r=zt();Ur(t,e,134217728,r)}Ux(e,134217728)}};N1=function(e){if(e.tag===13){var t=ea(e),r=Cn(e,t);if(r!==null){var n=zt();Ur(r,e,t,n)}Ux(e,t)}};w1=function(){return De};S1=function(e,t){var r=De;try{return De=e,t()}finally{De=r}};Lf=function(e,t,r){switch(t){case"input":if(Tf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=fd(n);if(!i)throw Error(H(90));t1(n),Tf(n,i)}}}break;case"textarea":n1(e,r);break;case"select":t=r.value,t!=null&&Oi(e,!!r.multiple,t,!1)}};u1=_x;d1=Wa;var bA={usingClientEntryPoint:!1,Events:[Cl,hi,fd,l1,c1,_x]},Us={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jA={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=h1(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||gA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{cd=rc.inject(jA),Jr=rc}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bA;fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qx(t))throw Error(H(200));return yA(e,t,null,r)};fr.createRoot=function(e,t){if(!qx(e))throw Error(H(299));var r=!1,n="",i=Kw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Fx(e,1,!1,null,null,r,!1,n,i),e[Sn]=t.current,Eo(e.nodeType===8?e.parentNode:e),new Wx(t)};fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=h1(t),e=e===null?null:e.stateNode,e};fr.flushSync=function(e){return Wa(e)};fr.hydrate=function(e,t,r){if(!Nd(t))throw Error(H(200));return wd(null,e,t,!0,r)};fr.hydrateRoot=function(e,t,r){if(!qx(e))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Kw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Vw(t,null,e,1,r??null,i,!1,s,o),e[Sn]=t.current,Eo(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new jd(t)};fr.render=function(e,t,r){if(!Nd(t))throw Error(H(200));return wd(null,e,t,!1,r)};fr.unmountComponentAtNode=function(e){if(!Nd(e))throw Error(H(40));return e._reactRootContainer?(Wa(function(){wd(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};fr.unstable_batchedUpdates=_x;fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Nd(r))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return wd(e,t,r,!1,n)};fr.version="18.3.1-next-f1338f8080-20240426";function Gw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gw)}catch(e){console.error(e)}}Gw(),GN.exports=fr;var NA=GN.exports,lg=NA;Sf.createRoot=lg.createRoot,Sf.hydrateRoot=lg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bo.apply(this,arguments)}var Kn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Kn||(Kn={}));const cg="popstate";function wA(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:l}=n.location;return yh("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:au(i)}return CA(t,r,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SA(){return Math.random().toString(36).substr(2,8)}function ug(e,t){return{usr:e.state,key:e.key,idx:t}}function yh(e,t,r,n){return r===void 0&&(r=null),Bo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gs(t):t,{state:r,key:t&&t.key||n||SA()})}function au(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function CA(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=Kn.Pop,c=null,u=m();u==null&&(u=0,o.replaceState(Bo({},o.state,{idx:u}),""));function m(){return(o.state||{idx:null}).idx}function d(){l=Kn.Pop;let v=m(),b=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:b})}function f(v,b){l=Kn.Push;let j=yh(p.location,v,b);r&&r(j,v),u=m()+1;let h=ug(j,u),w=p.createHref(j);try{o.pushState(h,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(w)}s&&c&&c({action:l,location:p.location,delta:1})}function y(v,b){l=Kn.Replace;let j=yh(p.location,v,b);r&&r(j,v),u=m();let h=ug(j,u),w=p.createHref(j);o.replaceState(h,"",w),s&&c&&c({action:l,location:p.location,delta:0})}function g(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof v=="string"?v:au(v);return j=j.replace(/ $/,"%20"),ct(b,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,b)}let p={get action(){return l},get location(){return e(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(cg,d),c=v,()=>{i.removeEventListener(cg,d),c=null}},createHref(v){return t(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:y,go(v){return o.go(v)}};return p}var dg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dg||(dg={}));function OA(e,t,r){return r===void 0&&(r="/"),kA(e,t,r,!1)}function kA(e,t,r,n){let i=typeof t=="string"?gs(t):t,s=zx(i.pathname||"/",r);if(s==null)return null;let o=Qw(e);PA(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=BA(s);l=RA(o[c],u,n)}return l}function Qw(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ra([n,c.relativePath]),m=r.concat(c);s.children&&s.children.length>0&&(ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Qw(s.children,t,m,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:$A(u,s.index),routesMeta:m})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Xw(s.path))i(s,o,c)}),t}function Xw(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Xw(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function PA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:_A(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AA=/^:[\w-]+$/,EA=3,TA=2,IA=1,DA=10,MA=-2,mg=e=>e==="*";function $A(e,t){let r=e.split("/"),n=r.length;return r.some(mg)&&(n+=MA),t&&(n+=TA),r.filter(i=>!mg(i)).reduce((i,s)=>i+(AA.test(s)?EA:s===""?IA:DA),n)}function _A(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function RA(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,m=s==="/"?t:t.slice(s.length)||"/",d=fg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},m),f=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=fg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ra([s,d.pathname]),pathnameBase:qA(ra([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=ra([s,d.pathnameBase]))}return o}function fg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=LA(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,m,d)=>{let{paramName:f,isOptional:y}=m;if(f==="*"){let p=l[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[d];return y&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function LA(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Hw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function BA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function FA(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?gs(e):e;return{pathname:r?r.startsWith("/")?r:UA(r,t):t,search:zA(n),hash:VA(i)}}function UA(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Gm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WA(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yw(e,t){let r=WA(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jw(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=gs(e):(i=Bo({},e),ct(!i.pathname||!i.pathname.includes("?"),Gm("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),Gm("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),Gm("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?t[d]:"/"}let c=FA(i,l),u=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||m)&&(c.pathname+="/"),c}const ra=e=>e.join("/").replace(/\/\/+/g,"/"),qA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,VA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function KA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zw=["post","put","patch","delete"];new Set(Zw);const GA=["get",...Zw];new Set(GA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fo.apply(this,arguments)}const Vx=k.createContext(null),HA=k.createContext(null),Za=k.createContext(null),Sd=k.createContext(null),ua=k.createContext({outlet:null,matches:[],isDataRoute:!1}),eS=k.createContext(null);function QA(e,t){let{relative:r}=t===void 0?{}:t;kl()||ct(!1);let{basename:n,navigator:i}=k.useContext(Za),{hash:s,pathname:o,search:l}=rS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ra([n,o])),i.createHref({pathname:c,search:l,hash:s})}function kl(){return k.useContext(Sd)!=null}function da(){return kl()||ct(!1),k.useContext(Sd).location}function tS(e){k.useContext(Za).static||k.useLayoutEffect(e)}function Oe(){let{isDataRoute:e}=k.useContext(ua);return e?lE():XA()}function XA(){kl()||ct(!1);let e=k.useContext(Vx),{basename:t,future:r,navigator:n}=k.useContext(Za),{matches:i}=k.useContext(ua),{pathname:s}=da(),o=JSON.stringify(Yw(i,r.v7_relativeSplatPath)),l=k.useRef(!1);return tS(()=>{l.current=!0}),k.useCallback(function(u,m){if(m===void 0&&(m={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Jw(u,JSON.parse(o),s,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ra([t,d.pathname])),(m.replace?n.replace:n.push)(d,m.state,m)},[t,n,o,s,e])}function ma(){let{matches:e}=k.useContext(ua),t=e[e.length-1];return t?t.params:{}}function rS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Za),{matches:i}=k.useContext(ua),{pathname:s}=da(),o=JSON.stringify(Yw(i,n.v7_relativeSplatPath));return k.useMemo(()=>Jw(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function YA(e,t){return JA(e,t)}function JA(e,t,r,n){kl()||ct(!1);let{navigator:i}=k.useContext(Za),{matches:s}=k.useContext(ua),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=da(),m;if(t){var d;let v=typeof t=="string"?gs(t):t;c==="/"||(d=v.pathname)!=null&&d.startsWith(c)||ct(!1),m=v}else m=u;let f=m.pathname||"/",y=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=OA(e,{pathname:y}),p=nE(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ra([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:ra([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&p?k.createElement(Sd.Provider,{value:{location:Fo({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Kn.Pop}},p):p}function ZA(){let e=oE(),t=KA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:i},r):null,s)}const eE=k.createElement(ZA,null);class tE extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(ua.Provider,{value:this.props.routeContext},k.createElement(eS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rE(e){let{routeContext:t,match:r,children:n}=e,i=k.useContext(Vx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(ua.Provider,{value:t},n)}function nE(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let m=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);m>=0||ct(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<o.length;m++){let d=o[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=m),d.route.id){let{loaderData:f,errors:y}=r,g=d.route.loader&&f[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((m,d,f)=>{let y,g=!1,p=null,v=null;r&&(y=l&&d.route.id?l[d.route.id]:void 0,p=d.route.errorElement||eE,c&&(u<0&&f===0?(cE("route-fallback",!1),g=!0,v=null):u===f&&(g=!0,v=d.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,f+1)),j=()=>{let h;return y?h=p:g?h=v:d.route.Component?h=k.createElement(d.route.Component,null):d.route.element?h=d.route.element:h=m,k.createElement(rE,{match:d,routeContext:{outlet:m,matches:b,isDataRoute:r!=null},children:h})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(tE,{location:r.location,revalidation:r.revalidation,component:p,error:y,children:j(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):j()},null)}var nS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nS||{}),iu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(iu||{});function aE(e){let t=k.useContext(Vx);return t||ct(!1),t}function iE(e){let t=k.useContext(HA);return t||ct(!1),t}function sE(e){let t=k.useContext(ua);return t||ct(!1),t}function aS(e){let t=sE(),r=t.matches[t.matches.length-1];return r.route.id||ct(!1),r.route.id}function oE(){var e;let t=k.useContext(eS),r=iE(iu.UseRouteError),n=aS(iu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function lE(){let{router:e}=aE(nS.UseNavigateStable),t=aS(iu.UseNavigateStable),r=k.useRef(!1);return tS(()=>{r.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Fo({fromRouteId:t},s)))},[e,t])}const hg={};function cE(e,t,r){!t&&!hg[e]&&(hg[e]=!0)}function uE(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function he(e){ct(!1)}function dE(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Kn.Pop,navigator:s,static:o=!1,future:l}=e;kl()&&ct(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:s,static:o,future:Fo({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=gs(n));let{pathname:m="/",search:d="",hash:f="",state:y=null,key:g="default"}=n,p=k.useMemo(()=>{let v=zx(m,c);return v==null?null:{location:{pathname:v,search:d,hash:f,state:y,key:g},navigationType:i}},[c,m,d,f,y,g,i]);return p==null?null:k.createElement(Za.Provider,{value:u},k.createElement(Sd.Provider,{children:r,value:p}))}function mE(e){let{children:t,location:r}=e;return YA(gh(t),r)}new Promise(()=>{});function gh(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,i)=>{if(!k.isValidElement(n))return;let s=[...t,i];if(n.type===k.Fragment){r.push.apply(r,gh(n.props.children,s));return}n.type!==he&&ct(!1),!n.props.index||!n.props.children||ct(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gh(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(this,arguments)}function fE(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function hE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pE(e,t){return e.button===0&&(!t||t==="_self")&&!hE(e)}const xE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yE="6";try{window.__reactRouterVersion=yE}catch{}const gE="startTransition",pg=dk[gE];function vE(e){let{basename:t,children:r,future:n,window:i}=e,s=k.useRef();s.current==null&&(s.current=wA({window:i,v5Compat:!0}));let o=s.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},m=k.useCallback(d=>{u&&pg?pg(()=>c(d)):c(d)},[c,u]);return k.useLayoutEffect(()=>o.listen(m),[o,m]),k.useEffect(()=>uE(n),[n]),k.createElement(dE,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const bE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nc=k.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:m,viewTransition:d}=t,f=fE(t,xE),{basename:y}=k.useContext(Za),g,p=!1;if(typeof u=="string"&&jE.test(u)&&(g=u,bE))try{let h=new URL(window.location.href),w=u.startsWith("//")?new URL(h.protocol+u):new URL(u),x=zx(w.pathname,y);w.origin===h.origin&&x!=null?u=x+w.search+w.hash:p=!0}catch{}let v=QA(u,{relative:i}),b=NE(u,{replace:o,state:l,target:c,preventScrollReset:m,relative:i,viewTransition:d});function j(h){n&&n(h),h.defaultPrevented||b(h)}return k.createElement("a",vh({},f,{href:g||v,onClick:p||s?n:j,ref:r,target:c}))});var xg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xg||(xg={}));var yg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yg||(yg={}));function NE(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Oe(),u=da(),m=rS(e,{relative:o});return k.useCallback(d=>{if(pE(d,r)){d.preventDefault();let f=n!==void 0?n:au(u)===au(m);c(e,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,m,n,i,r,e,s,o,l])}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},m)=>k.createElement("svg",{ref:m,...wE,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${SE(e)}`,l].join(" "),...u},[...t.map(([d,f])=>k.createElement(d,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ye("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ye("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=ye("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ye("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=ye("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=ye("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=ye("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=ye("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ye("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=ye("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ye("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=ye("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ye("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ye("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=ye("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bg=[{name:"Dashboard",href:"/dashboard",icon:AE},{name:"Ingredient Master",href:"/raw-materials",icon:Re},{name:"Recipes (BOM)",href:"/bill-of-materials",icon:PE},{name:"Job Orders",href:"/job-orders",icon:bh},{name:"Ingredient Forecast",href:"/raw-material-forecast",icon:Pt},{name:"Purchase Orders",href:"/purchase-orders",icon:br},{name:"Good Receipt Notes",href:"/good-receipt-notes",icon:iS},{name:"Outlet Master",href:"/outlets",icon:na},{name:"Central Kitchen",icon:na,href:"/central-kitchen"},{name:"Downtown Restaurant",icon:na,hasDropdown:!0,children:[{name:"Inventory",href:"/downtown-restaurant",icon:ac},{name:"Sales Orders",href:"/downtown-restaurant/sales-orders",icon:br}]},{name:"Marina Walk Cafe",icon:jh,hasDropdown:!0,children:[{name:"Inventory",href:"/marina-walk-cafe",icon:ac},{name:"Sales Orders",href:"/marina-walk-cafe/sales-orders",icon:br}]},{name:"Mall Food Court",icon:Ic,hasDropdown:!0,children:[{name:"Inventory",href:"/mall-food-court",icon:ac},{name:"Sales Orders",href:"/mall-food-court/sales-orders",icon:br}]},{name:"Drive-Thru Express",icon:Tc,hasDropdown:!0,children:[{name:"Inventory",href:"/drive-thru-express",icon:ac},{name:"Sales Orders",href:"/drive-thru-express/sales-orders",icon:br}]},{name:"Warehouse Master",href:"/warehouse-master",icon:sS},{name:"Transfer Orders",href:"/transfer-orders",icon:qa},{name:"Inventory",href:"/inventory",icon:en}],_E=({children:e})=>{const[t,r]=k.useState(!1),[n,i]=k.useState(new Set),s=da(),o=l=>{const c=new Set(n);c.has(l)?c.delete(l):c.add(l),i(c)};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${t?"block":"hidden"}`,children:[a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),a.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[a.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"L"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"localbeet"})})]}),a.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ye,{className:"h-6 w-6"})})]}),a.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:bg.map(l=>{const c=l.icon,u=s.pathname===l.href,m=l.hasDropdown,d=n.has(l.name);return m?a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>o(l.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),l.name]}),d?a.jsx(gg,{className:"h-4 w-4"}):a.jsx(vg,{className:"h-4 w-4"})]}),d&&l.children&&a.jsx("div",{className:"ml-6 mt-1 space-y-1",children:l.children.map(f=>{const y=f.icon,g=s.pathname===f.href;return a.jsxs(nc,{to:f.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${g?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(y,{className:"mr-3 h-4 w-4 flex-shrink-0"}),f.name]},f.name)})})]},l.name):a.jsxs(nc,{to:l.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${u?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),l.name]},l.name)})})]})]}),a.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:a.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[a.jsx("div",{className:"flex h-16 items-center px-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"L"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"localbeet"})})]})}),a.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:bg.map(l=>{const c=l.icon,u=s.pathname===l.href,m=l.hasDropdown,d=n.has(l.name);return m?a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>o(l.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),l.name]}),d?a.jsx(gg,{className:"h-4 w-4"}):a.jsx(vg,{className:"h-4 w-4"})]}),d&&l.children&&a.jsx("div",{className:"ml-6 mt-1 space-y-1",children:l.children.map(f=>{const y=f.icon,g=s.pathname===f.href;return a.jsxs(nc,{to:f.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${g?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(y,{className:"mr-3 h-4 w-4 flex-shrink-0"}),f.name]},f.name)})})]},l.name):a.jsxs(nc,{to:l.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${u?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),l.name]},l.name)})}),a.jsxs("div",{className:"flex-shrink-0 border-t border-gray-200 p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Kx,{className:"h-8 w-8 text-gray-400"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Admin User"}),a.jsx("p",{className:"text-xs text-gray-500",children:"admin@locbeat.com"})]})]}),a.jsxs("div",{className:"mt-3 space-y-1",children:[a.jsxs("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg w-full",children:[a.jsx(ME,{className:"mr-3 h-4 w-4"}),"Settings"]}),a.jsxs("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg w-full",children:[a.jsx(EE,{className:"mr-3 h-4 w-4"}),"Sign out"]})]})]})]})}),a.jsxs("div",{className:"lg:pl-64",children:[a.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[a.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>r(!0),children:a.jsx(IE,{className:"h-6 w-6"})}),a.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[a.jsx("div",{className:"flex flex-1"}),a.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[a.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200"}),a.jsx("div",{className:"flex items-center gap-x-2",children:a.jsx("span",{className:"text-sm text-gray-700",children:"Welcome back, Admin"})})]})]})]}),a.jsx("main",{className:"py-6",children:a.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})};function oS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=oS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ne(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=oS(e))&&(n&&(n+=" "),n+=t);return n}var RE=Array.isArray,er=RE,LE=typeof Bl=="object"&&Bl&&Bl.Object===Object&&Bl,lS=LE,BE=lS,FE=typeof self=="object"&&self&&self.Object===Object&&self,UE=BE||FE||Function("return this")(),ln=UE,WE=ln,qE=WE.Symbol,Pl=qE,jg=Pl,cS=Object.prototype,zE=cS.hasOwnProperty,VE=cS.toString,Ws=jg?jg.toStringTag:void 0;function KE(e){var t=zE.call(e,Ws),r=e[Ws];try{e[Ws]=void 0;var n=!0}catch{}var i=VE.call(e);return n&&(t?e[Ws]=r:delete e[Ws]),i}var GE=KE,HE=Object.prototype,QE=HE.toString;function XE(e){return QE.call(e)}var YE=XE,Ng=Pl,JE=GE,ZE=YE,eT="[object Null]",tT="[object Undefined]",wg=Ng?Ng.toStringTag:void 0;function rT(e){return e==null?e===void 0?tT:eT:wg&&wg in Object(e)?JE(e):ZE(e)}var Dn=rT;function nT(e){return e!=null&&typeof e=="object"}var Mn=nT,aT=Dn,iT=Mn,sT="[object Symbol]";function oT(e){return typeof e=="symbol"||iT(e)&&aT(e)==sT}var js=oT,lT=er,cT=js,uT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dT=/^\w*$/;function mT(e,t){if(lT(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||cT(e)?!0:dT.test(e)||!uT.test(e)||t!=null&&e in Object(t)}var Gx=mT;function fT(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ha=fT;const Ns=Me(ha);var hT=Dn,pT=ha,xT="[object AsyncFunction]",yT="[object Function]",gT="[object GeneratorFunction]",vT="[object Proxy]";function bT(e){if(!pT(e))return!1;var t=hT(e);return t==yT||t==gT||t==xT||t==vT}var Hx=bT;const me=Me(Hx);var jT=ln,NT=jT["__core-js_shared__"],wT=NT,Hm=wT,Sg=function(){var e=/[^.]+$/.exec(Hm&&Hm.keys&&Hm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ST(e){return!!Sg&&Sg in e}var CT=ST,OT=Function.prototype,kT=OT.toString;function PT(e){if(e!=null){try{return kT.call(e)}catch{}try{return e+""}catch{}}return""}var uS=PT,AT=Hx,ET=CT,TT=ha,IT=uS,DT=/[\\^$.*+?()[\]{}|]/g,MT=/^\[object .+?Constructor\]$/,$T=Function.prototype,_T=Object.prototype,RT=$T.toString,LT=_T.hasOwnProperty,BT=RegExp("^"+RT.call(LT).replace(DT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FT(e){if(!TT(e)||ET(e))return!1;var t=AT(e)?BT:MT;return t.test(IT(e))}var UT=FT;function WT(e,t){return e==null?void 0:e[t]}var qT=WT,zT=UT,VT=qT;function KT(e,t){var r=VT(e,t);return zT(r)?r:void 0}var ei=KT,GT=ei,HT=GT(Object,"create"),Cd=HT,Cg=Cd;function QT(){this.__data__=Cg?Cg(null):{},this.size=0}var XT=QT;function YT(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var JT=YT,ZT=Cd,eI="__lodash_hash_undefined__",tI=Object.prototype,rI=tI.hasOwnProperty;function nI(e){var t=this.__data__;if(ZT){var r=t[e];return r===eI?void 0:r}return rI.call(t,e)?t[e]:void 0}var aI=nI,iI=Cd,sI=Object.prototype,oI=sI.hasOwnProperty;function lI(e){var t=this.__data__;return iI?t[e]!==void 0:oI.call(t,e)}var cI=lI,uI=Cd,dI="__lodash_hash_undefined__";function mI(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=uI&&t===void 0?dI:t,this}var fI=mI,hI=XT,pI=JT,xI=aI,yI=cI,gI=fI;function ws(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ws.prototype.clear=hI;ws.prototype.delete=pI;ws.prototype.get=xI;ws.prototype.has=yI;ws.prototype.set=gI;var vI=ws;function bI(){this.__data__=[],this.size=0}var jI=bI;function NI(e,t){return e===t||e!==e&&t!==t}var Qx=NI,wI=Qx;function SI(e,t){for(var r=e.length;r--;)if(wI(e[r][0],t))return r;return-1}var Od=SI,CI=Od,OI=Array.prototype,kI=OI.splice;function PI(e){var t=this.__data__,r=CI(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():kI.call(t,r,1),--this.size,!0}var AI=PI,EI=Od;function TI(e){var t=this.__data__,r=EI(t,e);return r<0?void 0:t[r][1]}var II=TI,DI=Od;function MI(e){return DI(this.__data__,e)>-1}var $I=MI,_I=Od;function RI(e,t){var r=this.__data__,n=_I(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var LI=RI,BI=jI,FI=AI,UI=II,WI=$I,qI=LI;function Ss(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ss.prototype.clear=BI;Ss.prototype.delete=FI;Ss.prototype.get=UI;Ss.prototype.has=WI;Ss.prototype.set=qI;var kd=Ss,zI=ei,VI=ln,KI=zI(VI,"Map"),Xx=KI,Og=vI,GI=kd,HI=Xx;function QI(){this.size=0,this.__data__={hash:new Og,map:new(HI||GI),string:new Og}}var XI=QI;function YI(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var JI=YI,ZI=JI;function eD(e,t){var r=e.__data__;return ZI(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Pd=eD,tD=Pd;function rD(e){var t=tD(this,e).delete(e);return this.size-=t?1:0,t}var nD=rD,aD=Pd;function iD(e){return aD(this,e).get(e)}var sD=iD,oD=Pd;function lD(e){return oD(this,e).has(e)}var cD=lD,uD=Pd;function dD(e,t){var r=uD(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var mD=dD,fD=XI,hD=nD,pD=sD,xD=cD,yD=mD;function Cs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Cs.prototype.clear=fD;Cs.prototype.delete=hD;Cs.prototype.get=pD;Cs.prototype.has=xD;Cs.prototype.set=yD;var Yx=Cs,dS=Yx,gD="Expected a function";function Jx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gD);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Jx.Cache||dS),r}Jx.Cache=dS;var mS=Jx;const vD=Me(mS);var bD=mS,jD=500;function ND(e){var t=bD(e,function(n){return r.size===jD&&r.clear(),n}),r=t.cache;return t}var wD=ND,SD=wD,CD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OD=/\\(\\)?/g,kD=SD(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(CD,function(r,n,i,s){t.push(i?s.replace(OD,"$1"):n||r)}),t}),PD=kD;function AD(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Zx=AD,kg=Pl,ED=Zx,TD=er,ID=js,DD=1/0,Pg=kg?kg.prototype:void 0,Ag=Pg?Pg.toString:void 0;function fS(e){if(typeof e=="string")return e;if(TD(e))return ED(e,fS)+"";if(ID(e))return Ag?Ag.call(e):"";var t=e+"";return t=="0"&&1/e==-DD?"-0":t}var MD=fS,$D=MD;function _D(e){return e==null?"":$D(e)}var hS=_D,RD=er,LD=Gx,BD=PD,FD=hS;function UD(e,t){return RD(e)?e:LD(e,t)?[e]:BD(FD(e))}var pS=UD,WD=js,qD=1/0;function zD(e){if(typeof e=="string"||WD(e))return e;var t=e+"";return t=="0"&&1/e==-qD?"-0":t}var Ad=zD,VD=pS,KD=Ad;function GD(e,t){t=VD(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[KD(t[r++])];return r&&r==n?e:void 0}var e0=GD,HD=e0;function QD(e,t,r){var n=e==null?void 0:HD(e,t);return n===void 0?r:n}var xS=QD;const ur=Me(xS);function XD(e){return e==null}var YD=XD;const xe=Me(YD);var JD=Dn,ZD=er,e4=Mn,t4="[object String]";function r4(e){return typeof e=="string"||!ZD(e)&&e4(e)&&JD(e)==t4}var n4=r4;const za=Me(n4);var yS={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0=Symbol.for("react.element"),r0=Symbol.for("react.portal"),Ed=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),Id=Symbol.for("react.profiler"),Dd=Symbol.for("react.provider"),Md=Symbol.for("react.context"),a4=Symbol.for("react.server_context"),$d=Symbol.for("react.forward_ref"),_d=Symbol.for("react.suspense"),Rd=Symbol.for("react.suspense_list"),Ld=Symbol.for("react.memo"),Bd=Symbol.for("react.lazy"),i4=Symbol.for("react.offscreen"),gS;gS=Symbol.for("react.module.reference");function Pr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case t0:switch(e=e.type,e){case Ed:case Id:case Td:case _d:case Rd:return e;default:switch(e=e&&e.$$typeof,e){case a4:case Md:case $d:case Bd:case Ld:case Dd:return e;default:return t}}case r0:return t}}}$e.ContextConsumer=Md;$e.ContextProvider=Dd;$e.Element=t0;$e.ForwardRef=$d;$e.Fragment=Ed;$e.Lazy=Bd;$e.Memo=Ld;$e.Portal=r0;$e.Profiler=Id;$e.StrictMode=Td;$e.Suspense=_d;$e.SuspenseList=Rd;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(e){return Pr(e)===Md};$e.isContextProvider=function(e){return Pr(e)===Dd};$e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===t0};$e.isForwardRef=function(e){return Pr(e)===$d};$e.isFragment=function(e){return Pr(e)===Ed};$e.isLazy=function(e){return Pr(e)===Bd};$e.isMemo=function(e){return Pr(e)===Ld};$e.isPortal=function(e){return Pr(e)===r0};$e.isProfiler=function(e){return Pr(e)===Id};$e.isStrictMode=function(e){return Pr(e)===Td};$e.isSuspense=function(e){return Pr(e)===_d};$e.isSuspenseList=function(e){return Pr(e)===Rd};$e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ed||e===Id||e===Td||e===_d||e===Rd||e===i4||typeof e=="object"&&e!==null&&(e.$$typeof===Bd||e.$$typeof===Ld||e.$$typeof===Dd||e.$$typeof===Md||e.$$typeof===$d||e.$$typeof===gS||e.getModuleId!==void 0)};$e.typeOf=Pr;yS.exports=$e;var s4=yS.exports,o4=Dn,l4=Mn,c4="[object Number]";function u4(e){return typeof e=="number"||l4(e)&&o4(e)==c4}var vS=u4;const d4=Me(vS);var m4=vS;function f4(e){return m4(e)&&e!=+e}var h4=f4;const Al=Me(h4);var Ut=function(t){return t===0?0:t>0?1:-1},Ea=function(t){return za(t)&&t.indexOf("%")===t.length-1},X=function(t){return d4(t)&&!Al(t)},p4=function(t){return xe(t)},xt=function(t){return X(t)||za(t)},x4=0,Os=function(t){var r=++x4;return"".concat(t||"").concat(r)},Wt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!X(t)&&!za(t))return n;var s;if(Ea(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Al(s)&&(s=n),i&&s>r&&(s=r),s},qn=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},y4=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},sr=function(t,r){return X(t)&&X(r)?function(n){return t+n*(r-t)}:function(){return r}};function ou(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ur(n,t))===r})}var g4=function(t,r){return X(t)&&X(r)?t-r:za(t)&&za(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ii(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}var v4=["viewBox","children"],b4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Eg=["points","pathLength"],Qm={svg:v4,polygon:Eg,polyline:Eg},n0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lu=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),!Ns(n))return null;var i={};return Object.keys(n).forEach(function(s){n0.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},j4=function(t,r,n){return function(i){return t(r,n,i),null}},Va=function(t,r,n){if(!Ns(t)||Nh(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];n0.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=j4(o,r,n))}),i},N4=["children"],w4=["children"];function Tg(e,t){if(e==null)return{};var r=S4(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}var Ig={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Dg=null,Xm=null,a0=function e(t){if(t===Dg&&Array.isArray(Xm))return Xm;var r=[];return k.Children.forEach(t,function(n){xe(n)||(s4.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Xm=r,Dg=t,r};function dr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return bn(i)}):n=[bn(t)],a0(e).forEach(function(i){var s=ur(i,"type.displayName")||ur(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ir(e,t){var r=dr(e,t);return r&&r[0]}var Mg=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!X(n)||n<=0||!X(i)||i<=0)},C4=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],O4=function(t){return t&&t.type&&za(t.type)&&C4.indexOf(t.type)>=0},k4=function(t){return t&&wh(t)==="object"&&"clipDot"in t},P4=function(t,r,n,i){var s,o=(s=Qm==null?void 0:Qm[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!me(t)&&(i&&o.includes(r)||b4.includes(r))||n&&n0.includes(r)},ce=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(k.isValidElement(t)&&(i=t.props),!Ns(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;P4((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},Sh=function e(t,r){if(t===r)return!0;var n=k.Children.count(t);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return $g(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!$g(s,o))return!1}return!0},$g=function(t,r){if(xe(t)&&xe(r))return!0;if(!xe(t)&&!xe(r)){var n=t.props||{},i=n.children,s=Tg(n,N4),o=r.props||{},l=o.children,c=Tg(o,w4);return i&&l?Ii(s,c)&&Sh(i,l):!i&&!l?Ii(s,c):!1}return!1},_g=function(t,r){var n=[],i={};return a0(t).forEach(function(s,o){if(O4(s))n.push(s);else if(s){var l=bn(s.type),c=r[l]||{},u=c.handler,m=c.once;if(u&&(!m||!i[l])){var d=u(s,l,o);n.push(d),i[l]=!0}}}),n},A4=function(t){var r=t&&t.type;return r&&Ig[r]?Ig[r]:null},E4=function(t,r){return a0(r).indexOf(t)},T4=["children","width","height","viewBox","className","style","title","desc"];function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(this,arguments)}function I4(e,t){if(e==null)return{};var r=D4(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oh(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=I4(e,T4),m=i||{width:r,height:n,x:0,y:0},d=Ne("recharts-surface",s);return _.createElement("svg",Ch({},ce(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),_.createElement("title",null,l),_.createElement("desc",null,c),t)}var M4=["children","className"];function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(this,arguments)}function $4(e,t){if(e==null)return{};var r=_4(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Pe=_.forwardRef(function(e,t){var r=e.children,n=e.className,i=$4(e,M4),s=Ne("recharts-layer",n);return _.createElement("g",kh({className:s},ce(i,!0),{ref:t}),r)}),Wr=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function R4(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var L4=R4,B4=L4;function F4(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:B4(e,t,r)}var U4=F4,W4="\\ud800-\\udfff",q4="\\u0300-\\u036f",z4="\\ufe20-\\ufe2f",V4="\\u20d0-\\u20ff",K4=q4+z4+V4,G4="\\ufe0e\\ufe0f",H4="\\u200d",Q4=RegExp("["+H4+W4+K4+G4+"]");function X4(e){return Q4.test(e)}var bS=X4;function Y4(e){return e.split("")}var J4=Y4,jS="\\ud800-\\udfff",Z4="\\u0300-\\u036f",eM="\\ufe20-\\ufe2f",tM="\\u20d0-\\u20ff",rM=Z4+eM+tM,nM="\\ufe0e\\ufe0f",aM="["+jS+"]",Ph="["+rM+"]",Ah="\\ud83c[\\udffb-\\udfff]",iM="(?:"+Ph+"|"+Ah+")",NS="[^"+jS+"]",wS="(?:\\ud83c[\\udde6-\\uddff]){2}",SS="[\\ud800-\\udbff][\\udc00-\\udfff]",sM="\\u200d",CS=iM+"?",OS="["+nM+"]?",oM="(?:"+sM+"(?:"+[NS,wS,SS].join("|")+")"+OS+CS+")*",lM=OS+CS+oM,cM="(?:"+[NS+Ph+"?",Ph,wS,SS,aM].join("|")+")",uM=RegExp(Ah+"(?="+Ah+")|"+cM+lM,"g");function dM(e){return e.match(uM)||[]}var mM=dM,fM=J4,hM=bS,pM=mM;function xM(e){return hM(e)?pM(e):fM(e)}var yM=xM,gM=U4,vM=bS,bM=yM,jM=hS;function NM(e){return function(t){t=jM(t);var r=vM(t)?bM(t):void 0,n=r?r[0]:t.charAt(0),i=r?gM(r,1).join(""):t.slice(1);return n[e]()+i}}var wM=NM,SM=wM,CM=SM("toUpperCase"),OM=CM;const Fd=Me(OM);function Ue(e){return function(){return e}}const kS=Math.cos,cu=Math.sin,Kr=Math.sqrt,uu=Math.PI,Ud=2*uu,Eh=Math.PI,Th=2*Eh,wa=1e-6,kM=Th-wa;function PS(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function PM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return PS;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class AM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?PS:PM(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,m=o-t,d=l-r,f=m*m+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>wa)if(!(Math.abs(d*c-u*m)>wa)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-o,g=i-l,p=c*c+u*u,v=y*y+g*g,b=Math.sqrt(p),j=Math.sqrt(f),h=s*Math.tan((Eh-Math.acos((p+f-v)/(2*b*j)))/2),w=h/j,x=h/b;Math.abs(w-1)>wa&&this._append`L${t+w*m},${r+w*d}`,this._append`A${s},${s},0,0,${+(d*y>m*g)},${this._x1=t+x*c},${this._y1=r+x*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,m=r+c,d=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${m}`:(Math.abs(this._x1-u)>wa||Math.abs(this._y1-m)>wa)&&this._append`L${u},${m}`,n&&(f<0&&(f=f%Th+Th),f>kM?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=m}`:f>wa&&this._append`A${n},${n},0,${+(f>=Eh)},${d},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function i0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new AM(t)}function s0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AS(e){this._context=e}AS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wd(e){return new AS(e)}function ES(e){return e[0]}function TS(e){return e[1]}function IS(e,t){var r=Ue(!0),n=null,i=Wd,s=null,o=i0(l);e=typeof e=="function"?e:e===void 0?ES:Ue(e),t=typeof t=="function"?t:t===void 0?TS:Ue(t);function l(c){var u,m=(c=s0(c)).length,d,f=!1,y;for(n==null&&(s=i(y=o())),u=0;u<=m;++u)!(u<m&&r(d=c[u],u,c))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(d,u,c),+t(d,u,c));if(y)return s=null,y+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ue(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ue(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ue(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function ic(e,t,r){var n=null,i=Ue(!0),s=null,o=Wd,l=null,c=i0(u);e=typeof e=="function"?e:e===void 0?ES:Ue(+e),t=typeof t=="function"?t:Ue(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?TS:Ue(+r);function u(d){var f,y,g,p=(d=s0(d)).length,v,b=!1,j,h=new Array(p),w=new Array(p);for(s==null&&(l=o(j=c())),f=0;f<=p;++f){if(!(f<p&&i(v=d[f],f,d))===b)if(b=!b)y=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=y;--g)l.point(h[g],w[g]);l.lineEnd(),l.areaEnd()}b&&(h[f]=+e(v,f,d),w[f]=+t(v,f,d),l.point(n?+n(v,f,d):h[f],r?+r(v,f,d):w[f]))}if(j)return l=null,j+""||null}function m(){return IS().defined(i).curve(o).context(s)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ue(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ue(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ue(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ue(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ue(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ue(+d),u):r},u.lineX0=u.lineY0=function(){return m().x(e).y(t)},u.lineY1=function(){return m().x(e).y(r)},u.lineX1=function(){return m().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ue(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,s!=null&&(l=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=l=null:l=o(s=d),u):s},u}class DS{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function EM(e){return new DS(e,!0)}function TM(e){return new DS(e,!1)}const o0={draw(e,t){const r=Kr(t/uu);e.moveTo(r,0),e.arc(0,0,r,0,Ud)}},IM={draw(e,t){const r=Kr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},MS=Kr(1/3),DM=MS*2,MM={draw(e,t){const r=Kr(t/DM),n=r*MS;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$M={draw(e,t){const r=Kr(t),n=-r/2;e.rect(n,n,r,r)}},_M=.8908130915292852,$S=cu(uu/10)/cu(7*uu/10),RM=cu(Ud/10)*$S,LM=-kS(Ud/10)*$S,BM={draw(e,t){const r=Kr(t*_M),n=RM*r,i=LM*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=Ud*s/5,l=kS(o),c=cu(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},Ym=Kr(3),FM={draw(e,t){const r=-Kr(t/(Ym*3));e.moveTo(0,r*2),e.lineTo(-Ym*r,-r),e.lineTo(Ym*r,-r),e.closePath()}},pr=-.5,xr=Kr(3)/2,Ih=1/Kr(12),UM=(Ih/2+1)*3,WM={draw(e,t){const r=Kr(t/UM),n=r/2,i=r*Ih,s=n,o=r*Ih+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(pr*n-xr*i,xr*n+pr*i),e.lineTo(pr*s-xr*o,xr*s+pr*o),e.lineTo(pr*l-xr*c,xr*l+pr*c),e.lineTo(pr*n+xr*i,pr*i-xr*n),e.lineTo(pr*s+xr*o,pr*o-xr*s),e.lineTo(pr*l+xr*c,pr*c-xr*l),e.closePath()}};function qM(e,t){let r=null,n=i0(i);e=typeof e=="function"?e:Ue(e||o0),t=typeof t=="function"?t:Ue(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ue(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ue(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function du(){}function mu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _S(e){this._context=e}_S.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zM(e){return new _S(e)}function RS(e){this._context=e}RS.prototype={areaStart:du,areaEnd:du,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VM(e){return new RS(e)}function LS(e){this._context=e}LS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:mu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KM(e){return new LS(e)}function BS(e){this._context=e}BS.prototype={areaStart:du,areaEnd:du,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function GM(e){return new BS(e)}function Rg(e){return e<0?-1:1}function Lg(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(Rg(s)+Rg(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Bg(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Jm(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function fu(e){this._context=e}fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jm(this,this._t0,Bg(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jm(this,Bg(this,r=Lg(this,e,t)),r);break;default:Jm(this,this._t0,r=Lg(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function FS(e){this._context=new US(e)}(FS.prototype=Object.create(fu.prototype)).point=function(e,t){fu.prototype.point.call(this,t,e)};function US(e){this._context=e}US.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function HM(e){return new fu(e)}function QM(e){return new FS(e)}function WS(e){this._context=e}WS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Fg(e),i=Fg(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Fg(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function XM(e){return new WS(e)}function qd(e,t){this._context=e,this._t=t}qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function YM(e){return new qd(e,.5)}function JM(e){return new qd(e,0)}function ZM(e){return new qd(e,1)}function qi(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Dh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function e$(e,t){return e[t]}function t$(e){const t=[];return t.key=e,t}function r$(){var e=Ue([]),t=Dh,r=qi,n=e$;function i(s){var o=Array.from(e.apply(this,arguments),t$),l,c=o.length,u=-1,m;for(const d of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,s)]).data=d;for(l=0,m=s0(t(o));l<c;++l)o[m[l]].index=l;return r(o,m),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ue(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ue(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Dh:typeof s=="function"?s:Ue(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??qi,i):r},i}function n$(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}qi(e,t)}}function a$(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}qi(e,t)}}function i$(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var m=e[t[l]],d=m[n][1]||0,f=m[n-1][1]||0,y=(d-f)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,b=p[n-1][1]||0;y+=v-b}c+=d,u+=y*d}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,qi(e,t)}}function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}var s$=["type","size","sizeType"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(this,arguments)}function Ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ug(Object(r),!0).forEach(function(n){o$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ug(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o$(e,t,r){return t=l$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l$(e){var t=c$(e,"string");return Uo(t)=="symbol"?t:t+""}function c$(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u$(e,t){if(e==null)return{};var r=d$(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qS={symbolCircle:o0,symbolCross:IM,symbolDiamond:MM,symbolSquare:$M,symbolStar:BM,symbolTriangle:FM,symbolWye:WM},m$=Math.PI/180,f$=function(t){var r="symbol".concat(Fd(t));return qS[r]||o0},h$=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*m$;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},p$=function(t,r){qS["symbol".concat(Fd(t))]=r},l0=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=u$(t,s$),u=Wg(Wg({},c),{},{type:n,size:s,sizeType:l}),m=function(){var v=f$(n),b=qM().type(v).size(h$(s,l,n));return b()},d=u.className,f=u.cx,y=u.cy,g=ce(u,!0);return f===+f&&y===+y&&s===+s?_.createElement("path",Mh({},g,{className:Ne("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(y,")"),d:m()})):null};l0.registerSymbol=p$;function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(this,arguments)}function qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qg(Object(r),!0).forEach(function(n){Wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VS(n.key),n)}}function g$(e,t,r){return t&&zg(e.prototype,t),r&&zg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v$(e,t,r){return t=hu(t),b$(e,zS()?Reflect.construct(t,r||[],hu(e).constructor):t.apply(e,r))}function b$(e,t){if(t&&(zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j$(e)}function j$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zS=function(){return!!e})()}function hu(e){return hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hu(e)}function N$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_h(e,t)}function _h(e,t){return _h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_h(e,t)}function Wo(e,t,r){return t=VS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VS(e){var t=w$(e,"string");return zi(t)=="symbol"?t:t+""}function w$(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yr=32,c0=function(e){function t(){return y$(this,t),v$(this,t,arguments)}return N$(t,e),g$(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=yr/2,o=yr/6,l=yr/3,c=n.inactive?i:n.color;if(n.type==="plainline")return _.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:yr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(yr,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return _.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(yr/8,"h").concat(yr,"v").concat(yr*3/4,"h").concat(-yr,"z"),className:"recharts-legend-icon"});if(_.isValidElement(n.legendIcon)){var u=x$({},n);return delete u.legendIcon,_.cloneElement(n.legendIcon,u)}return _.createElement(l0,{fill:c,cx:s,cy:s,size:yr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,m={x:0,y:0,width:yr,height:yr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(y,g){var p=y.formatter||c,v=Ne(Wo(Wo({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",y.inactive));if(y.type==="none")return null;var b=me(y.value)?null:y.value;Wr(!me(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=y.inactive?u:y.color;return _.createElement("li",$h({className:v,style:d,key:"legend-item-".concat(g)},Va(n.props,y,g)),_.createElement(Oh,{width:o,height:o,viewBox:m,style:f},n.renderIcon(y)),_.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},p?p(b,y,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(k.PureComponent);Wo(c0,"displayName","Legend");Wo(c0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var S$=kd;function C$(){this.__data__=new S$,this.size=0}var O$=C$;function k$(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var P$=k$;function A$(e){return this.__data__.get(e)}var E$=A$;function T$(e){return this.__data__.has(e)}var I$=T$,D$=kd,M$=Xx,$$=Yx,_$=200;function R$(e,t){var r=this.__data__;if(r instanceof D$){var n=r.__data__;if(!M$||n.length<_$-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $$(n)}return r.set(e,t),this.size=r.size,this}var L$=R$,B$=kd,F$=O$,U$=P$,W$=E$,q$=I$,z$=L$;function ks(e){var t=this.__data__=new B$(e);this.size=t.size}ks.prototype.clear=F$;ks.prototype.delete=U$;ks.prototype.get=W$;ks.prototype.has=q$;ks.prototype.set=z$;var KS=ks,V$="__lodash_hash_undefined__";function K$(e){return this.__data__.set(e,V$),this}var G$=K$;function H$(e){return this.__data__.has(e)}var Q$=H$,X$=Yx,Y$=G$,J$=Q$;function pu(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new X$;++t<r;)this.add(e[t])}pu.prototype.add=pu.prototype.push=Y$;pu.prototype.has=J$;var GS=pu;function Z$(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var HS=Z$;function e_(e,t){return e.has(t)}var QS=e_,t_=GS,r_=HS,n_=QS,a_=1,i_=2;function s_(e,t,r,n,i,s){var o=r&a_,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),m=s.get(t);if(u&&m)return u==t&&m==e;var d=-1,f=!0,y=r&i_?new t_:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var g=e[d],p=t[d];if(n)var v=o?n(p,g,d,t,e,s):n(g,p,d,e,t,s);if(v!==void 0){if(v)continue;f=!1;break}if(y){if(!r_(t,function(b,j){if(!n_(y,j)&&(g===b||i(g,b,r,n,s)))return y.push(j)})){f=!1;break}}else if(!(g===p||i(g,p,r,n,s))){f=!1;break}}return s.delete(e),s.delete(t),f}var XS=s_,o_=ln,l_=o_.Uint8Array,c_=l_;function u_(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var d_=u_;function m_(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var u0=m_,Vg=Pl,Kg=c_,f_=Qx,h_=XS,p_=d_,x_=u0,y_=1,g_=2,v_="[object Boolean]",b_="[object Date]",j_="[object Error]",N_="[object Map]",w_="[object Number]",S_="[object RegExp]",C_="[object Set]",O_="[object String]",k_="[object Symbol]",P_="[object ArrayBuffer]",A_="[object DataView]",Gg=Vg?Vg.prototype:void 0,Zm=Gg?Gg.valueOf:void 0;function E_(e,t,r,n,i,s,o){switch(r){case A_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P_:return!(e.byteLength!=t.byteLength||!s(new Kg(e),new Kg(t)));case v_:case b_:case w_:return f_(+e,+t);case j_:return e.name==t.name&&e.message==t.message;case S_:case O_:return e==t+"";case N_:var l=p_;case C_:var c=n&y_;if(l||(l=x_),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=g_,o.set(e,t);var m=h_(l(e),l(t),n,i,s,o);return o.delete(e),m;case k_:if(Zm)return Zm.call(e)==Zm.call(t)}return!1}var T_=E_;function I_(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var YS=I_,D_=YS,M_=er;function $_(e,t,r){var n=t(e);return M_(e)?n:D_(n,r(e))}var __=$_;function R_(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var L_=R_;function B_(){return[]}var F_=B_,U_=L_,W_=F_,q_=Object.prototype,z_=q_.propertyIsEnumerable,Hg=Object.getOwnPropertySymbols,V_=Hg?function(e){return e==null?[]:(e=Object(e),U_(Hg(e),function(t){return z_.call(e,t)}))}:W_,K_=V_;function G_(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var H_=G_,Q_=Dn,X_=Mn,Y_="[object Arguments]";function J_(e){return X_(e)&&Q_(e)==Y_}var Z_=J_,Qg=Z_,e6=Mn,JS=Object.prototype,t6=JS.hasOwnProperty,r6=JS.propertyIsEnumerable,n6=Qg(function(){return arguments}())?Qg:function(e){return e6(e)&&t6.call(e,"callee")&&!r6.call(e,"callee")},d0=n6,xu={exports:{}};function a6(){return!1}var i6=a6;xu.exports;(function(e,t){var r=ln,n=i6,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(xu,xu.exports);var ZS=xu.exports,s6=9007199254740991,o6=/^(?:0|[1-9]\d*)$/;function l6(e,t){var r=typeof e;return t=t??s6,!!t&&(r=="number"||r!="symbol"&&o6.test(e))&&e>-1&&e%1==0&&e<t}var m0=l6,c6=9007199254740991;function u6(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=c6}var f0=u6,d6=Dn,m6=f0,f6=Mn,h6="[object Arguments]",p6="[object Array]",x6="[object Boolean]",y6="[object Date]",g6="[object Error]",v6="[object Function]",b6="[object Map]",j6="[object Number]",N6="[object Object]",w6="[object RegExp]",S6="[object Set]",C6="[object String]",O6="[object WeakMap]",k6="[object ArrayBuffer]",P6="[object DataView]",A6="[object Float32Array]",E6="[object Float64Array]",T6="[object Int8Array]",I6="[object Int16Array]",D6="[object Int32Array]",M6="[object Uint8Array]",$6="[object Uint8ClampedArray]",_6="[object Uint16Array]",R6="[object Uint32Array]",Ve={};Ve[A6]=Ve[E6]=Ve[T6]=Ve[I6]=Ve[D6]=Ve[M6]=Ve[$6]=Ve[_6]=Ve[R6]=!0;Ve[h6]=Ve[p6]=Ve[k6]=Ve[x6]=Ve[P6]=Ve[y6]=Ve[g6]=Ve[v6]=Ve[b6]=Ve[j6]=Ve[N6]=Ve[w6]=Ve[S6]=Ve[C6]=Ve[O6]=!1;function L6(e){return f6(e)&&m6(e.length)&&!!Ve[d6(e)]}var B6=L6;function F6(e){return function(t){return e(t)}}var e2=F6,yu={exports:{}};yu.exports;(function(e,t){var r=lS,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(yu,yu.exports);var U6=yu.exports,W6=B6,q6=e2,Xg=U6,Yg=Xg&&Xg.isTypedArray,z6=Yg?q6(Yg):W6,t2=z6,V6=H_,K6=d0,G6=er,H6=ZS,Q6=m0,X6=t2,Y6=Object.prototype,J6=Y6.hasOwnProperty;function Z6(e,t){var r=G6(e),n=!r&&K6(e),i=!r&&!n&&H6(e),s=!r&&!n&&!i&&X6(e),o=r||n||i||s,l=o?V6(e.length,String):[],c=l.length;for(var u in e)(t||J6.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Q6(u,c)))&&l.push(u);return l}var e5=Z6,t5=Object.prototype;function r5(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||t5;return e===r}var n5=r5;function a5(e,t){return function(r){return e(t(r))}}var r2=a5,i5=r2,s5=i5(Object.keys,Object),o5=s5,l5=n5,c5=o5,u5=Object.prototype,d5=u5.hasOwnProperty;function m5(e){if(!l5(e))return c5(e);var t=[];for(var r in Object(e))d5.call(e,r)&&r!="constructor"&&t.push(r);return t}var f5=m5,h5=Hx,p5=f0;function x5(e){return e!=null&&p5(e.length)&&!h5(e)}var El=x5,y5=e5,g5=f5,v5=El;function b5(e){return v5(e)?y5(e):g5(e)}var zd=b5,j5=__,N5=K_,w5=zd;function S5(e){return j5(e,w5,N5)}var C5=S5,Jg=C5,O5=1,k5=Object.prototype,P5=k5.hasOwnProperty;function A5(e,t,r,n,i,s){var o=r&O5,l=Jg(e),c=l.length,u=Jg(t),m=u.length;if(c!=m&&!o)return!1;for(var d=c;d--;){var f=l[d];if(!(o?f in t:P5.call(t,f)))return!1}var y=s.get(e),g=s.get(t);if(y&&g)return y==t&&g==e;var p=!0;s.set(e,t),s.set(t,e);for(var v=o;++d<c;){f=l[d];var b=e[f],j=t[f];if(n)var h=o?n(j,b,f,t,e,s):n(b,j,f,e,t,s);if(!(h===void 0?b===j||i(b,j,r,n,s):h)){p=!1;break}v||(v=f=="constructor")}if(p&&!v){var w=e.constructor,x=t.constructor;w!=x&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(p=!1)}return s.delete(e),s.delete(t),p}var E5=A5,T5=ei,I5=ln,D5=T5(I5,"DataView"),M5=D5,$5=ei,_5=ln,R5=$5(_5,"Promise"),L5=R5,B5=ei,F5=ln,U5=B5(F5,"Set"),n2=U5,W5=ei,q5=ln,z5=W5(q5,"WeakMap"),V5=z5,Rh=M5,Lh=Xx,Bh=L5,Fh=n2,Uh=V5,a2=Dn,Ps=uS,Zg="[object Map]",K5="[object Object]",ev="[object Promise]",tv="[object Set]",rv="[object WeakMap]",nv="[object DataView]",G5=Ps(Rh),H5=Ps(Lh),Q5=Ps(Bh),X5=Ps(Fh),Y5=Ps(Uh),Sa=a2;(Rh&&Sa(new Rh(new ArrayBuffer(1)))!=nv||Lh&&Sa(new Lh)!=Zg||Bh&&Sa(Bh.resolve())!=ev||Fh&&Sa(new Fh)!=tv||Uh&&Sa(new Uh)!=rv)&&(Sa=function(e){var t=a2(e),r=t==K5?e.constructor:void 0,n=r?Ps(r):"";if(n)switch(n){case G5:return nv;case H5:return Zg;case Q5:return ev;case X5:return tv;case Y5:return rv}return t});var J5=Sa,ef=KS,Z5=XS,e3=T_,t3=E5,av=J5,iv=er,sv=ZS,r3=t2,n3=1,ov="[object Arguments]",lv="[object Array]",sc="[object Object]",a3=Object.prototype,cv=a3.hasOwnProperty;function i3(e,t,r,n,i,s){var o=iv(e),l=iv(t),c=o?lv:av(e),u=l?lv:av(t);c=c==ov?sc:c,u=u==ov?sc:u;var m=c==sc,d=u==sc,f=c==u;if(f&&sv(e)){if(!sv(t))return!1;o=!0,m=!1}if(f&&!m)return s||(s=new ef),o||r3(e)?Z5(e,t,r,n,i,s):e3(e,t,c,r,n,i,s);if(!(r&n3)){var y=m&&cv.call(e,"__wrapped__"),g=d&&cv.call(t,"__wrapped__");if(y||g){var p=y?e.value():e,v=g?t.value():t;return s||(s=new ef),i(p,v,r,n,s)}}return f?(s||(s=new ef),t3(e,t,r,n,i,s)):!1}var s3=i3,o3=s3,uv=Mn;function i2(e,t,r,n,i){return e===t?!0:e==null||t==null||!uv(e)&&!uv(t)?e!==e&&t!==t:o3(e,t,r,n,i2,i)}var h0=i2,l3=KS,c3=h0,u3=1,d3=2;function m3(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=r[i];var c=l[0],u=e[c],m=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new l3;if(n)var f=n(u,m,c,e,t,d);if(!(f===void 0?c3(m,u,u3|d3,n,d):f))return!1}}return!0}var f3=m3,h3=ha;function p3(e){return e===e&&!h3(e)}var s2=p3,x3=s2,y3=zd;function g3(e){for(var t=y3(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,x3(i)]}return t}var v3=g3;function b3(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var o2=b3,j3=f3,N3=v3,w3=o2;function S3(e){var t=N3(e);return t.length==1&&t[0][2]?w3(t[0][0],t[0][1]):function(r){return r===e||j3(r,e,t)}}var C3=S3;function O3(e,t){return e!=null&&t in Object(e)}var k3=O3,P3=pS,A3=d0,E3=er,T3=m0,I3=f0,D3=Ad;function M3(e,t,r){t=P3(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=D3(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&I3(i)&&T3(o,i)&&(E3(e)||A3(e)))}var $3=M3,_3=k3,R3=$3;function L3(e,t){return e!=null&&R3(e,t,_3)}var B3=L3,F3=h0,U3=xS,W3=B3,q3=Gx,z3=s2,V3=o2,K3=Ad,G3=1,H3=2;function Q3(e,t){return q3(e)&&z3(t)?V3(K3(e),t):function(r){var n=U3(r,e);return n===void 0&&n===t?W3(r,e):F3(t,n,G3|H3)}}var X3=Q3;function Y3(e){return e}var As=Y3;function J3(e){return function(t){return t==null?void 0:t[e]}}var Z3=J3,eR=e0;function tR(e){return function(t){return eR(t,e)}}var rR=tR,nR=Z3,aR=rR,iR=Gx,sR=Ad;function oR(e){return iR(e)?nR(sR(e)):aR(e)}var lR=oR,cR=C3,uR=X3,dR=As,mR=er,fR=lR;function hR(e){return typeof e=="function"?e:e==null?dR:typeof e=="object"?mR(e)?uR(e[0],e[1]):cR(e):fR(e)}var cn=hR;function pR(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var l2=pR;function xR(e){return e!==e}var yR=xR;function gR(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var vR=gR,bR=l2,jR=yR,NR=vR;function wR(e,t,r){return t===t?NR(e,t,r):bR(e,jR,r)}var SR=wR,CR=SR;function OR(e,t){var r=e==null?0:e.length;return!!r&&CR(e,t,0)>-1}var kR=OR;function PR(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var AR=PR;function ER(){}var TR=ER,tf=n2,IR=TR,DR=u0,MR=1/0,$R=tf&&1/DR(new tf([,-0]))[1]==MR?function(e){return new tf(e)}:IR,_R=$R,RR=GS,LR=kR,BR=AR,FR=QS,UR=_R,WR=u0,qR=200;function zR(e,t,r){var n=-1,i=LR,s=e.length,o=!0,l=[],c=l;if(r)o=!1,i=BR;else if(s>=qR){var u=t?null:UR(e);if(u)return WR(u);o=!1,i=FR,c=new RR}else c=t?[]:l;e:for(;++n<s;){var m=e[n],d=t?t(m):m;if(m=r||m!==0?m:0,o&&d===d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),l.push(m)}else i(c,d,r)||(c!==l&&c.push(d),l.push(m))}return l}var VR=zR,KR=cn,GR=VR;function HR(e,t){return e&&e.length?GR(e,KR(t)):[]}var QR=HR;const dv=Me(QR);function c2(e,t,r){return t===!0?dv(e,r):me(t)?dv(e,t):e}function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}var XR=["ref"];function mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mv(Object(r),!0).forEach(function(n){Vd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d2(n.key),n)}}function JR(e,t,r){return t&&fv(e.prototype,t),r&&fv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZR(e,t,r){return t=gu(t),eL(e,u2()?Reflect.construct(t,r||[],gu(e).constructor):t.apply(e,r))}function eL(e,t){if(t&&(Vi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tL(e)}function tL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u2=function(){return!!e})()}function gu(e){return gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gu(e)}function rL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wh(e,t)}function Wh(e,t){return Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wh(e,t)}function Vd(e,t,r){return t=d2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d2(e){var t=nL(e,"string");return Vi(t)=="symbol"?t:t+""}function nL(e,t){if(Vi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aL(e,t){if(e==null)return{};var r=iL(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sL(e){return e.value}function oL(e,t){if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return _.createElement(e,t);t.ref;var r=aL(t,XR);return _.createElement(c0,r)}var hv=1,Di=function(e){function t(){var r;YR(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=ZR(this,t,[].concat(i)),Vd(r,"lastBoundingBox",{width:-1,height:-1}),r}return rL(t,e),JR(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hv||Math.abs(i.height-this.lastBoundingBox.height)>hv)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?un({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,m=i.chartHeight,d,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var y=this.getBBoxSnapshot();d={left:((u||0)-y.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();f={top:((m||0)-g.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return un(un({},d),f)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,m=i.payload,d=un(un({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return _.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(y){n.wrapperNode=y}},oL(s,un(un({},this.props),{},{payload:c2(m,u,sL)})))}}],[{key:"getWithHeight",value:function(n,i){var s=un(un({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&X(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(k.PureComponent);Vd(Di,"displayName","Legend");Vd(Di,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pv=Pl,lL=d0,cL=er,xv=pv?pv.isConcatSpreadable:void 0;function uL(e){return cL(e)||lL(e)||!!(xv&&e&&e[xv])}var dL=uL,mL=YS,fL=dL;function m2(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=fL),i||(i=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?m2(l,t-1,r,n,i):mL(i,l):n||(i[i.length]=l)}return i}var f2=m2;function hL(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++i];if(r(s[c],c,s)===!1)break}return t}}var pL=hL,xL=pL,yL=xL(),gL=yL,vL=gL,bL=zd;function jL(e,t){return e&&vL(e,t,bL)}var h2=jL,NL=El;function wL(e,t){return function(r,n){if(r==null)return r;if(!NL(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var SL=wL,CL=h2,OL=SL,kL=OL(CL),p0=kL,PL=p0,AL=El;function EL(e,t){var r=-1,n=AL(e)?Array(e.length):[];return PL(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var p2=EL;function TL(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var IL=TL,yv=js;function DL(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=yv(e),o=t!==void 0,l=t===null,c=t===t,u=yv(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}var ML=DL,$L=ML;function _L(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,l=r.length;++n<o;){var c=$L(i[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var RL=_L,rf=Zx,LL=e0,BL=cn,FL=p2,UL=IL,WL=e2,qL=RL,zL=As,VL=er;function KL(e,t,r){t.length?t=rf(t,function(s){return VL(s)?function(o){return LL(o,s.length===1?s[0]:s)}:s}):t=[zL];var n=-1;t=rf(t,WL(BL));var i=FL(e,function(s,o,l){var c=rf(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return UL(i,function(s,o){return qL(s,o,r)})}var GL=KL;function HL(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var QL=HL,XL=QL,gv=Math.max;function YL(e,t,r){return t=gv(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=gv(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),XL(e,this,l)}}var JL=YL;function ZL(e){return function(){return e}}var eB=ZL,tB=ei,rB=function(){try{var e=tB(Object,"defineProperty");return e({},"",{}),e}catch{}}(),x2=rB,nB=eB,vv=x2,aB=As,iB=vv?function(e,t){return vv(e,"toString",{configurable:!0,enumerable:!1,value:nB(t),writable:!0})}:aB,sB=iB,oB=800,lB=16,cB=Date.now;function uB(e){var t=0,r=0;return function(){var n=cB(),i=lB-(n-r);if(r=n,i>0){if(++t>=oB)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var dB=uB,mB=sB,fB=dB,hB=fB(mB),pB=hB,xB=As,yB=JL,gB=pB;function vB(e,t){return gB(yB(e,t,xB),e+"")}var bB=vB,jB=Qx,NB=El,wB=m0,SB=ha;function CB(e,t,r){if(!SB(r))return!1;var n=typeof t;return(n=="number"?NB(r)&&wB(t,r.length):n=="string"&&t in r)?jB(r[t],e):!1}var Kd=CB,OB=f2,kB=GL,PB=bB,bv=Kd,AB=PB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&bv(e,t[0],t[1])?t=[]:r>2&&bv(t[0],t[1],t[2])&&(t=[t[0]]),kB(e,OB(t,1),[])}),EB=AB;const x0=Me(EB);function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qh.apply(this,arguments)}function TB(e,t){return $B(e)||MB(e,t)||DB(e,t)||IB()}function IB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DB(e,t){if(e){if(typeof e=="string")return jv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jv(e,t)}}function jv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function $B(e){if(Array.isArray(e))return e}function Nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nv(Object(r),!0).forEach(function(n){_B(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _B(e,t,r){return t=RB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=LB(e,"string");return qo(t)=="symbol"?t:t+""}function LB(e,t){if(qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BB(e){return Array.isArray(e)&&xt(e[0])&&xt(e[1])?e.join(" ~ "):e}var FB=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,m=t.payload,d=t.formatter,f=t.itemSorter,y=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,b=t.accessibilityLayer,j=b===void 0?!1:b,h=function(){if(m&&m.length){var O={padding:0,margin:0},I=(f?x0(m,f):m).map(function(T,M){if(T.type==="none")return null;var R=nf({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},l),W=T.formatter||d||BB,L=T.value,D=T.name,U=L,F=D;if(W&&U!=null&&F!=null){var $=W(L,D,T,M,m);if(Array.isArray($)){var K=TB($,2);U=K[0],F=K[1]}else U=$}return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:R},xt(F)?_.createElement("span",{className:"recharts-tooltip-item-name"},F):null,xt(F)?_.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,_.createElement("span",{className:"recharts-tooltip-item-value"},U),_.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:O},I)}return null},w=nf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),x=nf({margin:0},u),N=!xe(p),S=N?p:"",C=Ne("recharts-default-tooltip",y),P=Ne("recharts-tooltip-label",g);N&&v&&m!==void 0&&m!==null&&(S=v(p,m));var A=j?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",qh({className:C,style:w},A),_.createElement("p",{className:P,style:x},_.isValidElement(S)?S:"".concat(S)),h())};function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function oc(e,t,r){return t=UB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=WB(e,"string");return zo(t)=="symbol"?t:t+""}function WB(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qs="recharts-tooltip-wrapper",qB={visibility:"hidden"};function zB(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ne(qs,oc(oc(oc(oc({},"".concat(qs,"-right"),X(r)&&t&&X(t.x)&&r>=t.x),"".concat(qs,"-left"),X(r)&&t&&X(t.x)&&r<t.x),"".concat(qs,"-bottom"),X(n)&&t&&X(t.y)&&n>=t.y),"".concat(qs,"-top"),X(n)&&t&&X(t.y)&&n<t.y))}function wv(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&X(s[n]))return s[n];var m=r[n]-l-i,d=r[n]+i;if(t[n])return o[n]?m:d;if(o[n]){var f=m,y=c[n];return f<y?Math.max(d,c[n]):Math.max(m,c[n])}var g=d+l,p=c[n]+u;return g>p?Math.max(m,c[n]):Math.max(d,c[n])}function VB(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function KB(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,m,d;return o.height>0&&o.width>0&&r?(m=wv({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=wv({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=VB({translateX:m,translateY:d,useTranslate3d:l})):u=qB,{cssProperties:u,cssClasses:zB({translateX:m,translateY:d,coordinate:r})}}function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function Sv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sv(Object(r),!0).forEach(function(n){Vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ov(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g2(n.key),n)}}function HB(e,t,r){return t&&Ov(e.prototype,t),r&&Ov(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QB(e,t,r){return t=vu(t),XB(e,y2()?Reflect.construct(t,r||[],vu(e).constructor):t.apply(e,r))}function XB(e,t){if(t&&(Ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YB(e)}function YB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y2=function(){return!!e})()}function vu(e){return vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vu(e)}function JB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zh(e,t)}function zh(e,t){return zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zh(e,t)}function Vh(e,t,r){return t=g2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g2(e){var t=ZB(e,"string");return Ki(t)=="symbol"?t:t+""}function ZB(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kv=1,eF=function(e){function t(){var r;GB(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=QB(this,t,[].concat(i)),Vh(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Vh(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&u!==void 0?u:0}})}}),r}return JB(t,e),HB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>kv||Math.abs(n.height-this.state.lastBoundingBox.height)>kv)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,m=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,y=i.offset,g=i.position,p=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,j=i.wrapperStyle,h=KB({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:y,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),w=h.cssClasses,x=h.cssProperties,N=Cv(Cv({transition:f&&s?"transform ".concat(l,"ms ").concat(c):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},j);return _.createElement("div",{tabIndex:-1,className:w,style:N,ref:function(C){n.wrapperNode=C}},u)}}])}(k.PureComponent),tF=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},tn={isSsr:tF(),get:function(t){return tn[t]},set:function(t,r){if(typeof t=="string")tn[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){tn[i]=t[i]})}}};function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function Pv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Av(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pv(Object(r),!0).forEach(function(n){y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ev(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b2(n.key),n)}}function nF(e,t,r){return t&&Ev(e.prototype,t),r&&Ev(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aF(e,t,r){return t=bu(t),iF(e,v2()?Reflect.construct(t,r||[],bu(e).constructor):t.apply(e,r))}function iF(e,t){if(t&&(Gi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sF(e)}function sF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v2=function(){return!!e})()}function bu(e){return bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bu(e)}function oF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kh(e,t)}function Kh(e,t){return Kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kh(e,t)}function y0(e,t,r){return t=b2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b2(e){var t=lF(e,"string");return Gi(t)=="symbol"?t:t+""}function lF(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cF(e){return e.dataKey}function uF(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(FB,t)}var $r=function(e){function t(){return rF(this,t),aF(this,t,arguments)}return oF(t,e),nF(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,m=i.coordinate,d=i.filterNull,f=i.isAnimationActive,y=i.offset,g=i.payload,p=i.payloadUniqBy,v=i.position,b=i.reverseDirection,j=i.useTranslate3d,h=i.viewBox,w=i.wrapperStyle,x=g??[];d&&x.length&&(x=c2(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),p,cF));var N=x.length>0;return _.createElement(eF,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:s,coordinate:m,hasPayload:N,offset:y,position:v,reverseDirection:b,useTranslate3d:j,viewBox:h,wrapperStyle:w},uF(u,Av(Av({},this.props),{},{payload:x})))}}])}(k.PureComponent);y0($r,"displayName","Tooltip");y0($r,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!tn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dF=ln,mF=function(){return dF.Date.now()},fF=mF,hF=/\s/;function pF(e){for(var t=e.length;t--&&hF.test(e.charAt(t)););return t}var xF=pF,yF=xF,gF=/^\s+/;function vF(e){return e&&e.slice(0,yF(e)+1).replace(gF,"")}var bF=vF,jF=bF,Tv=ha,NF=js,Iv=0/0,wF=/^[-+]0x[0-9a-f]+$/i,SF=/^0b[01]+$/i,CF=/^0o[0-7]+$/i,OF=parseInt;function kF(e){if(typeof e=="number")return e;if(NF(e))return Iv;if(Tv(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tv(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=jF(e);var r=SF.test(e);return r||CF.test(e)?OF(e.slice(2),r?2:8):wF.test(e)?Iv:+e}var j2=kF,PF=ha,af=fF,Dv=j2,AF="Expected a function",EF=Math.max,TF=Math.min;function IF(e,t,r){var n,i,s,o,l,c,u=0,m=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(AF);t=Dv(t)||0,PF(r)&&(m=!!r.leading,d="maxWait"in r,s=d?EF(Dv(r.maxWait)||0,t):s,f="trailing"in r?!!r.trailing:f);function y(N){var S=n,C=i;return n=i=void 0,u=N,o=e.apply(C,S),o}function g(N){return u=N,l=setTimeout(b,t),m?y(N):o}function p(N){var S=N-c,C=N-u,P=t-S;return d?TF(P,s-C):P}function v(N){var S=N-c,C=N-u;return c===void 0||S>=t||S<0||d&&C>=s}function b(){var N=af();if(v(N))return j(N);l=setTimeout(b,p(N))}function j(N){return l=void 0,f&&n?y(N):(n=i=void 0,o)}function h(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function w(){return l===void 0?o:j(af())}function x(){var N=af(),S=v(N);if(n=arguments,i=this,c=N,S){if(l===void 0)return g(c);if(d)return clearTimeout(l),l=setTimeout(b,t),y(c)}return l===void 0&&(l=setTimeout(b,t)),o}return x.cancel=h,x.flush=w,x}var DF=IF,MF=DF,$F=ha,_F="Expected a function";function RF(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(_F);return $F(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),MF(e,t,{leading:n,maxWait:t,trailing:i})}var LF=RF;const N2=Me(LF);function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function Mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mv(Object(r),!0).forEach(function(n){BF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BF(e,t,r){return t=FF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=UF(e,"string");return Vo(t)=="symbol"?t:t+""}function UF(e,t){if(Vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WF(e,t){return KF(e)||VF(e,t)||zF(e,t)||qF()}function qF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zF(e,t){if(e){if(typeof e=="string")return $v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $v(e,t)}}function $v(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function KF(e){if(Array.isArray(e))return e}var _v=k.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,m=u===void 0?0:u,d=e.minHeight,f=e.maxHeight,y=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,b=e.className,j=e.onResize,h=e.style,w=h===void 0?{}:h,x=k.useRef(null),N=k.useRef();N.current=j,k.useImperativeHandle(t,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var S=k.useState({containerWidth:i.width,containerHeight:i.height}),C=WF(S,2),P=C[0],A=C[1],E=k.useCallback(function(I,T){A(function(M){var R=Math.round(I),W=Math.round(T);return M.containerWidth===R&&M.containerHeight===W?M:{containerWidth:R,containerHeight:W}})},[]);k.useEffect(function(){var I=function(D){var U,F=D[0].contentRect,$=F.width,K=F.height;E($,K),(U=N.current)===null||U===void 0||U.call(N,$,K)};p>0&&(I=N2(I,p,{trailing:!0,leading:!1}));var T=new ResizeObserver(I),M=x.current.getBoundingClientRect(),R=M.width,W=M.height;return E(R,W),T.observe(x.current),function(){T.disconnect()}},[E,p]);var O=k.useMemo(function(){var I=P.containerWidth,T=P.containerHeight;if(I<0||T<0)return null;Wr(Ea(o)||Ea(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Wr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Ea(o)?I:o,R=Ea(c)?T:c;r&&r>0&&(M?R=M/r:R&&(M=R*r),f&&R>f&&(R=f)),Wr(M>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,R,o,c,m,d,r);var W=!Array.isArray(y)&&bn(y.type).endsWith("Chart");return _.Children.map(y,function(L){return _.isValidElement(L)?k.cloneElement(L,lc({width:M,height:R},W?{style:lc({height:"100%",width:"100%",maxHeight:R,maxWidth:M},L.props.style)}:{})):L})},[r,y,c,f,d,m,P,o]);return _.createElement("div",{id:v?"".concat(v):void 0,className:Ne("recharts-responsive-container",b),style:lc(lc({},w),{},{width:o,height:c,minWidth:m,minHeight:d,maxHeight:f}),ref:x},O)}),Gd=function(t){return null};Gd.displayName="Cell";function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function Rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rv(Object(r),!0).forEach(function(n){GF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GF(e,t,r){return t=HF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HF(e){var t=QF(e,"string");return Ko(t)=="symbol"?t:t+""}function QF(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ii={widthCache:{},cacheCount:0},XF=2e3,YF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Lv="recharts_measurement_span";function JF(e){var t=Gh({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var po=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||tn.isSsr)return{width:0,height:0};var n=JF(r),i=JSON.stringify({text:t,copyStyle:n});if(ii.widthCache[i])return ii.widthCache[i];try{var s=document.getElementById(Lv);s||(s=document.createElement("span"),s.setAttribute("id",Lv),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Gh(Gh({},YF),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return ii.widthCache[i]=c,++ii.cacheCount>XF&&(ii.cacheCount=0,ii.widthCache={}),c}catch{return{width:0,height:0}}},ZF=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}function ju(e,t){return n7(e)||r7(e,t)||t7(e,t)||e7()}function e7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t7(e,t){if(e){if(typeof e=="string")return Bv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bv(e,t)}}function Bv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function n7(e){if(Array.isArray(e))return e}function a7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s7(n.key),n)}}function i7(e,t,r){return t&&Fv(e.prototype,t),r&&Fv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s7(e){var t=o7(e,"string");return Go(t)=="symbol"?t:t+""}function o7(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,l7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,c7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,w2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},u7=Object.keys(w2),ji="NaN";function d7(e,t){return e*w2[t]}var cc=function(){function e(t,r){a7(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!l7.test(r)&&(this.num=NaN,this.unit=""),u7.includes(r)&&(this.num=d7(t,r),this.unit="px")}return i7(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=c7.exec(r))!==null&&n!==void 0?n:[],s=ju(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function S2(e){if(e.includes(ji))return ji;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Uv.exec(t))!==null&&r!==void 0?r:[],i=ju(n,4),s=i[1],o=i[2],l=i[3],c=cc.parse(s??""),u=cc.parse(l??""),m=o==="*"?c.multiply(u):c.divide(u);if(m.isNaN())return ji;t=t.replace(Uv,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,f=(d=Wv.exec(t))!==null&&d!==void 0?d:[],y=ju(f,4),g=y[1],p=y[2],v=y[3],b=cc.parse(g??""),j=cc.parse(v??""),h=p==="+"?b.add(j):b.subtract(j);if(h.isNaN())return ji;t=t.replace(Wv,h.toString())}return t}var qv=/\(([^()]*)\)/;function m7(e){for(var t=e;t.includes("(");){var r=qv.exec(t),n=ju(r,2),i=n[1];t=t.replace(qv,S2(i))}return t}function f7(e){var t=e.replace(/\s+/g,"");return t=m7(t),t=S2(t),t}function h7(e){try{return f7(e)}catch{return ji}}function sf(e){var t=h7(e.slice(5,-1));return t===ji?"":t}var p7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],x7=["dx","dy","angle","className","breakAll"];function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(this,arguments)}function zv(e,t){if(e==null)return{};var r=y7(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vv(e,t){return j7(e)||b7(e,t)||v7(e,t)||g7()}function g7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7(e,t){if(e){if(typeof e=="string")return Kv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kv(e,t)}}function Kv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function j7(e){if(Array.isArray(e))return e}var C2=/[ \f\n\r\t\v\u2028\u2029]+/,O2=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];xe(r)||(n?s=r.toString().split(""):s=r.toString().split(C2));var o=s.map(function(c){return{word:c,width:po(c,i).width}}),l=n?0:po(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},N7=function(t,r,n,i,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,m=X(o),d=l,f=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(R,W){var L=W.word,D=W.width,U=R[R.length-1];if(U&&(i==null||s||U.width+D+n<Number(i)))U.words.push(L),U.width+=D+n;else{var F={words:[L],width:D};R.push(F)}return R},[])},y=f(r),g=function(M){return M.reduce(function(R,W){return R.width>W.width?R:W})};if(!m)return y;for(var p="…",v=function(M){var R=d.slice(0,M),W=O2({breakAll:u,style:c,children:R+p}).wordsWithComputedWidth,L=f(W),D=L.length>o||g(L).width>Number(i);return[D,L]},b=0,j=d.length-1,h=0,w;b<=j&&h<=d.length-1;){var x=Math.floor((b+j)/2),N=x-1,S=v(N),C=Vv(S,2),P=C[0],A=C[1],E=v(x),O=Vv(E,1),I=O[0];if(!P&&!I&&(b=x+1),P&&I&&(j=x-1),!P&&I){w=A;break}h++}return w||y},Gv=function(t){var r=xe(t)?[]:t.toString().split(C2);return[{words:r}]},w7=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!tn.isSsr){var c,u,m=O2({breakAll:o,children:i,style:s});if(m){var d=m.wordsWithComputedWidth,f=m.spaceWidth;c=d,u=f}else return Gv(i);return N7({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return Gv(i)},Hv="#808080",Ka=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,m=t.scaleToFit,d=m===void 0?!1:m,f=t.textAnchor,y=f===void 0?"start":f,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,b=v===void 0?Hv:v,j=zv(t,p7),h=k.useMemo(function(){return w7({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:d,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,d,j.style,j.width]),w=j.dx,x=j.dy,N=j.angle,S=j.className,C=j.breakAll,P=zv(j,x7);if(!xt(n)||!xt(s))return null;var A=n+(X(w)?w:0),E=s+(X(x)?x:0),O;switch(p){case"start":O=sf("calc(".concat(u,")"));break;case"middle":O=sf("calc(".concat((h.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=sf("calc(".concat(h.length-1," * -").concat(l,")"));break}var I=[];if(d){var T=h[0].width,M=j.width;I.push("scale(".concat((X(M)?M/T:1)/T,")"))}return N&&I.push("rotate(".concat(N,", ").concat(A,", ").concat(E,")")),I.length&&(P.transform=I.join(" ")),_.createElement("text",Hh({},ce(P,!0),{x:A,y:E,className:Ne("recharts-text",S),textAnchor:y,fill:b.includes("url")?Hv:b}),h.map(function(R,W){var L=R.words.join(C?"":" ");return _.createElement("tspan",{x:A,dy:W===0?O:l,key:"".concat(L,"-").concat(W)},L)}))};function aa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function S7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function g0(e){let t,r,n;e.length!==2?(t=aa,r=(l,c)=>aa(e(l),c),n=(l,c)=>e(l)-c):(t=e===aa||e===S7?e:C7,r=e,n=e);function i(l,c,u=0,m=l.length){if(u<m){if(t(c,c)!==0)return m;do{const d=u+m>>>1;r(l[d],c)<0?u=d+1:m=d}while(u<m)}return u}function s(l,c,u=0,m=l.length){if(u<m){if(t(c,c)!==0)return m;do{const d=u+m>>>1;r(l[d],c)<=0?u=d+1:m=d}while(u<m)}return u}function o(l,c,u=0,m=l.length){const d=i(l,c,u,m-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:i,center:o,right:s}}function C7(){return 0}function k2(e){return e===null?NaN:+e}function*O7(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const k7=g0(aa),P7=k7.right;g0(k2).center;const Tl=P7;class Qv extends Map{constructor(t,r=T7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Xv(this,t))}has(t){return super.has(Xv(this,t))}set(t,r){return super.set(A7(this,t),r)}delete(t){return super.delete(E7(this,t))}}function Xv({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function A7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function E7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function T7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function I7(e=aa){if(e===aa)return P2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function P2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const D7=Math.sqrt(50),M7=Math.sqrt(10),$7=Math.sqrt(2);function Nu(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=D7?10:s>=M7?5:s>=$7?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Nu(e,t,r*2):[l,c,u]}function Qh(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?Nu(t,e,r):Nu(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function Xh(e,t,r){return t=+t,e=+e,r=+r,Nu(e,t,r)[2]}function Yh(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Xh(t,e,r):Xh(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Yv(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Jv(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function A2(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?P2:I7(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,m=Math.log(c),d=.5*Math.exp(2*m/3),f=.5*Math.sqrt(m*d*(c-d)/c)*(u-c/2<0?-1:1),y=Math.max(r,Math.floor(t-u*d/c+f)),g=Math.min(n,Math.floor(t+(c-u)*d/c+f));A2(e,t,y,g,i)}const s=e[t];let o=r,l=n;for(zs(e,r,t),i(e[n],s)>0&&zs(e,r,n);o<l;){for(zs(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?zs(e,r,l):(++l,zs(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function zs(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _7(e,t,r){if(e=Float64Array.from(O7(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Jv(e);if(t>=1)return Yv(e);var n,i=(n-1)*t,s=Math.floor(i),o=Yv(A2(e,s).subarray(0,s+1)),l=Jv(e.subarray(s+1));return o+(l-o)*(i-s)}}function R7(e,t,r=k2){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function L7(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Ar(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $n(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Jh=Symbol("implicit");function v0(){var e=new Qv,t=[],r=[],n=Jh;function i(s){let o=e.get(s);if(o===void 0){if(n!==Jh)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Qv;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return v0(t,r).unknown(n)},Ar.apply(i,arguments),i}function Ho(){var e=v0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,u=0,m=.5;delete e.unknown;function d(){var f=t().length,y=i<n,g=y?i:n,p=y?n:i;s=(p-g)/Math.max(1,f-c+u*2),l&&(s=Math.floor(s)),g+=(p-g-s*(f-c))*m,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=L7(f).map(function(b){return g+s*b});return r(y?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(l=!!f,d()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),d()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),d()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(m=Math.max(0,Math.min(1,f)),d()):m},e.copy=function(){return Ho(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(m)},Ar.apply(d(),arguments)}function E2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return E2(t())},e}function xo(){return E2(Ho.apply(null,arguments).paddingInner(1))}function b0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function T2(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Il(){}var Qo=.7,wu=1/Qo,Mi="\\s*([+-]?\\d+)\\s*",Xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B7=/^#([0-9a-f]{3,8})$/,F7=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),U7=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),W7=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${Xo}\\)$`),q7=new RegExp(`^rgba\\(${rn},${rn},${rn},${Xo}\\)$`),z7=new RegExp(`^hsl\\(${Xo},${rn},${rn}\\)$`),V7=new RegExp(`^hsla\\(${Xo},${rn},${rn},${Xo}\\)$`),Zv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b0(Il,Yo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eb,formatHex:eb,formatHex8:K7,formatHsl:G7,formatRgb:tb,toString:tb});function eb(){return this.rgb().formatHex()}function K7(){return this.rgb().formatHex8()}function G7(){return I2(this).formatHsl()}function tb(){return this.rgb().formatRgb()}function Yo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=B7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?rb(t):r===3?new Xt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?uc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?uc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=F7.exec(e))?new Xt(t[1],t[2],t[3],1):(t=U7.exec(e))?new Xt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=W7.exec(e))?uc(t[1],t[2],t[3],t[4]):(t=q7.exec(e))?uc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=z7.exec(e))?ib(t[1],t[2]/100,t[3]/100,1):(t=V7.exec(e))?ib(t[1],t[2]/100,t[3]/100,t[4]):Zv.hasOwnProperty(e)?rb(Zv[e]):e==="transparent"?new Xt(NaN,NaN,NaN,0):null}function rb(e){return new Xt(e>>16&255,e>>8&255,e&255,1)}function uc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xt(e,t,r,n)}function H7(e){return e instanceof Il||(e=Yo(e)),e?(e=e.rgb(),new Xt(e.r,e.g,e.b,e.opacity)):new Xt}function Zh(e,t,r,n){return arguments.length===1?H7(e):new Xt(e,t,r,n??1)}function Xt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}b0(Xt,Zh,T2(Il,{brighter(e){return e=e==null?wu:Math.pow(wu,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xt(_a(this.r),_a(this.g),_a(this.b),Su(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nb,formatHex:nb,formatHex8:Q7,formatRgb:ab,toString:ab}));function nb(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}`}function Q7(){return`#${Ta(this.r)}${Ta(this.g)}${Ta(this.b)}${Ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function ab(){const e=Su(this.opacity);return`${e===1?"rgb(":"rgba("}${_a(this.r)}, ${_a(this.g)}, ${_a(this.b)}${e===1?")":`, ${e})`}`}function Su(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _a(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ta(e){return e=_a(e),(e<16?"0":"")+e.toString(16)}function ib(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Br(e,t,r,n)}function I2(e){if(e instanceof Br)return new Br(e.h,e.s,e.l,e.opacity);if(e instanceof Il||(e=Yo(e)),!e)return new Br;if(e instanceof Br)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Br(o,l,c,e.opacity)}function X7(e,t,r,n){return arguments.length===1?I2(e):new Br(e,t,r,n??1)}function Br(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}b0(Br,X7,T2(Il,{brighter(e){return e=e==null?wu:Math.pow(wu,e),new Br(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new Br(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Xt(of(e>=240?e-240:e+120,i,n),of(e,i,n),of(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Br(sb(this.h),dc(this.s),dc(this.l),Su(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Su(this.opacity);return`${e===1?"hsl(":"hsla("}${sb(this.h)}, ${dc(this.s)*100}%, ${dc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sb(e){return e=(e||0)%360,e<0?e+360:e}function dc(e){return Math.max(0,Math.min(1,e||0))}function of(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const j0=e=>()=>e;function Y7(e,t){return function(r){return e+r*t}}function J7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Z7(e){return(e=+e)==1?D2:function(t,r){return r-t?J7(t,r,e):j0(isNaN(t)?r:t)}}function D2(e,t){var r=t-e;return r?Y7(e,r):j0(isNaN(e)?t:e)}const ob=function e(t){var r=Z7(t);function n(i,s){var o=r((i=Zh(i)).r,(s=Zh(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=D2(i.opacity,s.opacity);return function(m){return i.r=o(m),i.g=l(m),i.b=c(m),i.opacity=u(m),i+""}}return n.gamma=e,n}(1);function e8(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function t8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function r8(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Es(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function n8(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Cu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function a8(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Es(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var ep=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lf=new RegExp(ep.source,"g");function i8(e){return function(){return e}}function s8(e){return function(t){return e(t)+""}}function o8(e,t){var r=ep.lastIndex=lf.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ep.exec(e))&&(i=lf.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Cu(n,i)})),r=lf.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?s8(c[0].x):i8(t):(t=c.length,function(u){for(var m=0,d;m<t;++m)l[(d=c[m]).i]=d.x(u);return l.join("")})}function Es(e,t){var r=typeof t,n;return t==null||r==="boolean"?j0(t):(r==="number"?Cu:r==="string"?(n=Yo(t))?(t=n,ob):o8:t instanceof Yo?ob:t instanceof Date?n8:t8(t)?e8:Array.isArray(t)?r8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?a8:Cu)(e,t)}function N0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function l8(e,t){t===void 0&&(t=e,e=Es);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function c8(e){return function(){return e}}function Ou(e){return+e}var lb=[0,1];function qt(e){return e}function tp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:c8(isNaN(t)?NaN:.5)}function u8(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function d8(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=tp(i,n),s=r(o,s)):(n=tp(n,i),s=r(s,o)),function(l){return s(n(l))}}function m8(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=tp(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Tl(e,l,1,n)-1;return s[c](i[c](l))}}function Dl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hd(){var e=lb,t=lb,r=Es,n,i,s,o=qt,l,c,u;function m(){var f=Math.min(e.length,t.length);return o!==qt&&(o=u8(e[0],e[f-1])),l=f>2?m8:d8,c=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return d.invert=function(f){return o(i((u||(u=l(t,e.map(n),Cu)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Ou),m()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),m()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=N0,m()},d.clamp=function(f){return arguments.length?(o=f?!0:qt,m()):o!==qt},d.interpolate=function(f){return arguments.length?(r=f,m()):r},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,y){return n=f,i=y,m()}}function w0(){return Hd()(qt,qt)}function f8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ku(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Hi(e){return e=ku(Math.abs(e)),e?e[1]:NaN}function h8(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function p8(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var x8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jo(e){if(!(t=x8.exec(e)))throw new Error("invalid format: "+e);var t;return new S0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jo.prototype=S0.prototype;function S0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}S0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function y8(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var M2;function g8(e,t){var r=ku(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(M2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ku(e,Math.max(0,t+s-1))[0]}function cb(e,t){var r=ku(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ub={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:f8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cb(e*100,t),r:cb,s:g8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function db(e){return e}var mb=Array.prototype.map,fb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function v8(e){var t=e.grouping===void 0||e.thousands===void 0?db:h8(mb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?db:p8(mb.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Jo(d);var f=d.fill,y=d.align,g=d.sign,p=d.symbol,v=d.zero,b=d.width,j=d.comma,h=d.precision,w=d.trim,x=d.type;x==="n"?(j=!0,x="g"):ub[x]||(h===void 0&&(h=12),w=!0,x="g"),(v||f==="0"&&y==="=")&&(v=!0,f="0",y="=");var N=p==="$"?r:p==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S=p==="$"?n:/[%p]/.test(x)?o:"",C=ub[x],P=/[defgprs%]/.test(x);h=h===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h));function A(E){var O=N,I=S,T,M,R;if(x==="c")I=C(E)+I,E="";else{E=+E;var W=E<0||1/E<0;if(E=isNaN(E)?c:C(Math.abs(E),h),w&&(E=y8(E)),W&&+E==0&&g!=="+"&&(W=!1),O=(W?g==="("?g:l:g==="-"||g==="("?"":g)+O,I=(x==="s"?fb[8+M2/3]:"")+I+(W&&g==="("?")":""),P){for(T=-1,M=E.length;++T<M;)if(R=E.charCodeAt(T),48>R||R>57){I=(R===46?i+E.slice(T+1):E.slice(T))+I,E=E.slice(0,T);break}}}j&&!v&&(E=t(E,1/0));var L=O.length+E.length+I.length,D=L<b?new Array(b-L+1).join(f):"";switch(j&&v&&(E=t(D+E,D.length?b-I.length:1/0),D=""),y){case"<":E=O+E+I+D;break;case"=":E=O+D+E+I;break;case"^":E=D.slice(0,L=D.length>>1)+O+E+I+D.slice(L);break;default:E=D+O+E+I;break}return s(E)}return A.toString=function(){return d+""},A}function m(d,f){var y=u((d=Jo(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Hi(f)/3)))*3,p=Math.pow(10,-g),v=fb[8+g/3];return function(b){return y(p*b)+v}}return{format:u,formatPrefix:m}}var mc,C0,$2;b8({thousands:",",grouping:[3],currency:["$",""]});function b8(e){return mc=v8(e),C0=mc.format,$2=mc.formatPrefix,mc}function j8(e){return Math.max(0,-Hi(Math.abs(e)))}function N8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hi(t)/3)))*3-Hi(Math.abs(e)))}function w8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hi(t)-Hi(e))+1}function _2(e,t,r,n){var i=Yh(e,t,r),s;switch(n=Jo(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=N8(i,o))&&(n.precision=s),$2(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=w8(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=j8(i))&&(n.precision=s-(n.type==="%")*2);break}}return C0(n)}function pa(e){var t=e.domain;return e.ticks=function(r){var n=t();return Qh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return _2(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,m=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);m-- >0;){if(u=Xh(o,l,r),u===c)return n[i]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Pu(){var e=w0();return e.copy=function(){return Dl(e,Pu())},Ar.apply(e,arguments),pa(e)}function R2(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ou),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return R2(e).unknown(t)},e=arguments.length?Array.from(e,Ou):[0,1],pa(r)}function L2(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function hb(e){return Math.log(e)}function pb(e){return Math.exp(e)}function S8(e){return-Math.log(-e)}function C8(e){return-Math.exp(-e)}function O8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function k8(e){return e===10?O8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function P8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function xb(e){return(t,r)=>-e(-t,r)}function O0(e){const t=e(hb,pb),r=t.domain;let n=10,i,s;function o(){return i=P8(n),s=k8(n),r()[0]<0?(i=xb(i),s=xb(s),e(S8,C8)):e(hb,pb),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],m=c[c.length-1];const d=m<u;d&&([u,m]=[m,u]);let f=i(u),y=i(m),g,p;const v=l==null?10:+l;let b=[];if(!(n%1)&&y-f<v){if(f=Math.floor(f),y=Math.ceil(y),u>0){for(;f<=y;++f)for(g=1;g<n;++g)if(p=f<0?g/s(-f):g*s(f),!(p<u)){if(p>m)break;b.push(p)}}else for(;f<=y;++f)for(g=n-1;g>=1;--g)if(p=f>0?g/s(-f):g*s(f),!(p<u)){if(p>m)break;b.push(p)}b.length*2<v&&(b=Qh(u,m,v))}else b=Qh(f,y,Math.min(y-f,v)).map(s);return d?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Jo(c)).precision==null&&(c.trim=!0),c=C0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return m=>{let d=m/s(Math.round(i(m)));return d*n<n-.5&&(d*=n),d<=u?c(m):""}},t.nice=()=>r(L2(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function B2(){const e=O0(Hd()).domain([1,10]);return e.copy=()=>Dl(e,B2()).base(e.base()),Ar.apply(e,arguments),e}function yb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function gb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function k0(e){var t=1,r=e(yb(t),gb(t));return r.constant=function(n){return arguments.length?e(yb(t=+n),gb(t)):t},pa(r)}function F2(){var e=k0(Hd());return e.copy=function(){return Dl(e,F2()).constant(e.constant())},Ar.apply(e,arguments)}function vb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function A8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function E8(e){return e<0?-e*e:e*e}function P0(e){var t=e(qt,qt),r=1;function n(){return r===1?e(qt,qt):r===.5?e(A8,E8):e(vb(r),vb(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},pa(t)}function A0(){var e=P0(Hd());return e.copy=function(){return Dl(e,A0()).exponent(e.exponent())},Ar.apply(e,arguments),e}function T8(){return A0.apply(null,arguments).exponent(.5)}function bb(e){return Math.sign(e)*e*e}function I8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function U2(){var e=w0(),t=[0,1],r=!1,n;function i(s){var o=I8(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(bb(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Ou)).map(bb)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return U2(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ar.apply(i,arguments),pa(i)}function W2(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=R7(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Tl(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(aa),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return W2().domain(e).range(t).unknown(n)},Ar.apply(s,arguments)}function q2(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Tl(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return q2().domain([e,t]).range(i).unknown(s)},Ar.apply(pa(o),arguments)}function z2(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Tl(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return z2().domain(e).range(t).unknown(r)},Ar.apply(i,arguments)}const cf=new Date,uf=new Date;function yt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>yt(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(cf.setTime(+s),uf.setTime(+o),e(cf),e(uf),Math.floor(r(cf,uf))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Au=yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Au.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Au);Au.range;const xn=1e3,wr=xn*60,yn=wr*60,kn=yn*24,E0=kn*7,jb=kn*30,df=kn*365,Ia=yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getUTCSeconds());Ia.range;const T0=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xn)},(e,t)=>{e.setTime(+e+t*wr)},(e,t)=>(t-e)/wr,e=>e.getMinutes());T0.range;const I0=yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*wr)},(e,t)=>(t-e)/wr,e=>e.getUTCMinutes());I0.range;const D0=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xn-e.getMinutes()*wr)},(e,t)=>{e.setTime(+e+t*yn)},(e,t)=>(t-e)/yn,e=>e.getHours());D0.range;const M0=yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yn)},(e,t)=>(t-e)/yn,e=>e.getUTCHours());M0.range;const Ml=yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wr)/kn,e=>e.getDate()-1);Ml.range;const Qd=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kn,e=>e.getUTCDate()-1);Qd.range;const V2=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kn,e=>Math.floor(e/kn));V2.range;function ti(e){return yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*wr)/E0)}const Xd=ti(0),Eu=ti(1),D8=ti(2),M8=ti(3),Qi=ti(4),$8=ti(5),_8=ti(6);Xd.range;Eu.range;D8.range;M8.range;Qi.range;$8.range;_8.range;function ri(e){return yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/E0)}const Yd=ri(0),Tu=ri(1),R8=ri(2),L8=ri(3),Xi=ri(4),B8=ri(5),F8=ri(6);Yd.range;Tu.range;R8.range;L8.range;Xi.range;B8.range;F8.range;const $0=yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$0.range;const _0=yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_0.range;const Pn=yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Pn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Pn.range;const An=yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());An.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});An.range;function K2(e,t,r,n,i,s){const o=[[Ia,1,xn],[Ia,5,5*xn],[Ia,15,15*xn],[Ia,30,30*xn],[s,1,wr],[s,5,5*wr],[s,15,15*wr],[s,30,30*wr],[i,1,yn],[i,3,3*yn],[i,6,6*yn],[i,12,12*yn],[n,1,kn],[n,2,2*kn],[r,1,E0],[t,1,jb],[t,3,3*jb],[e,1,df]];function l(u,m,d){const f=m<u;f&&([u,m]=[m,u]);const y=d&&typeof d.range=="function"?d:c(u,m,d),g=y?y.range(u,+m+1):[];return f?g.reverse():g}function c(u,m,d){const f=Math.abs(m-u)/d,y=g0(([,,v])=>v).right(o,f);if(y===o.length)return e.every(Yh(u/df,m/df,d));if(y===0)return Au.every(Math.max(Yh(u,m,d),1));const[g,p]=o[f/o[y-1][2]<o[y][2]/f?y-1:y];return g.every(p)}return[l,c]}const[U8,W8]=K2(An,_0,Yd,V2,M0,I0),[q8,z8]=K2(Pn,$0,Xd,Ml,D0,T0);function mf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ff(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function V8(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ks(i),m=Gs(i),d=Ks(s),f=Gs(s),y=Ks(o),g=Gs(o),p=Ks(l),v=Gs(l),b=Ks(c),j=Gs(c),h={a:W,A:L,b:D,B:U,c:null,d:kb,e:kb,f:h9,g:S9,G:O9,H:d9,I:m9,j:f9,L:G2,m:p9,M:x9,p:F,q:$,Q:Eb,s:Tb,S:y9,u:g9,U:v9,V:b9,w:j9,W:N9,x:null,X:null,y:w9,Y:C9,Z:k9,"%":Ab},w={a:K,A:ee,b:Q,B:fe,c:null,d:Pb,e:Pb,f:T9,g:U9,G:q9,H:P9,I:A9,j:E9,L:Q2,m:I9,M:D9,p:ge,q:Ie,Q:Eb,s:Tb,S:M9,u:$9,U:_9,V:R9,w:L9,W:B9,x:null,X:null,y:F9,Y:W9,Z:z9,"%":Ab},x={a:A,A:E,b:O,B:I,c:T,d:Cb,e:Cb,f:o9,g:Sb,G:wb,H:Ob,I:Ob,j:n9,L:s9,m:r9,M:a9,p:P,q:t9,Q:c9,s:u9,S:i9,u:X8,U:Y8,V:J8,w:Q8,W:Z8,x:M,X:R,y:Sb,Y:wb,Z:e9,"%":l9};h.x=N(r,h),h.X=N(n,h),h.c=N(t,h),w.x=N(r,w),w.X=N(n,w),w.c=N(t,w);function N(J,ie){return function(re){var G=[],we=-1,be=0,je=J.length,z,q,B;for(re instanceof Date||(re=new Date(+re));++we<je;)J.charCodeAt(we)===37&&(G.push(J.slice(be,we)),(q=Nb[z=J.charAt(++we)])!=null?z=J.charAt(++we):q=z==="e"?" ":"0",(B=ie[z])&&(z=B(re,q)),G.push(z),be=we+1);return G.push(J.slice(be,we)),G.join("")}}function S(J,ie){return function(re){var G=Vs(1900,void 0,1),we=C(G,J,re+="",0),be,je;if(we!=re.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ie&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(be=ff(Vs(G.y,0,1)),je=be.getUTCDay(),be=je>4||je===0?Tu.ceil(be):Tu(be),be=Qd.offset(be,(G.V-1)*7),G.y=be.getUTCFullYear(),G.m=be.getUTCMonth(),G.d=be.getUTCDate()+(G.w+6)%7):(be=mf(Vs(G.y,0,1)),je=be.getDay(),be=je>4||je===0?Eu.ceil(be):Eu(be),be=Ml.offset(be,(G.V-1)*7),G.y=be.getFullYear(),G.m=be.getMonth(),G.d=be.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),je="Z"in G?ff(Vs(G.y,0,1)).getUTCDay():mf(Vs(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(je+5)%7:G.w+G.U*7-(je+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,ff(G)):mf(G)}}function C(J,ie,re,G){for(var we=0,be=ie.length,je=re.length,z,q;we<be;){if(G>=je)return-1;if(z=ie.charCodeAt(we++),z===37){if(z=ie.charAt(we++),q=x[z in Nb?ie.charAt(we++):z],!q||(G=q(J,re,G))<0)return-1}else if(z!=re.charCodeAt(G++))return-1}return G}function P(J,ie,re){var G=u.exec(ie.slice(re));return G?(J.p=m.get(G[0].toLowerCase()),re+G[0].length):-1}function A(J,ie,re){var G=y.exec(ie.slice(re));return G?(J.w=g.get(G[0].toLowerCase()),re+G[0].length):-1}function E(J,ie,re){var G=d.exec(ie.slice(re));return G?(J.w=f.get(G[0].toLowerCase()),re+G[0].length):-1}function O(J,ie,re){var G=b.exec(ie.slice(re));return G?(J.m=j.get(G[0].toLowerCase()),re+G[0].length):-1}function I(J,ie,re){var G=p.exec(ie.slice(re));return G?(J.m=v.get(G[0].toLowerCase()),re+G[0].length):-1}function T(J,ie,re){return C(J,t,ie,re)}function M(J,ie,re){return C(J,r,ie,re)}function R(J,ie,re){return C(J,n,ie,re)}function W(J){return o[J.getDay()]}function L(J){return s[J.getDay()]}function D(J){return c[J.getMonth()]}function U(J){return l[J.getMonth()]}function F(J){return i[+(J.getHours()>=12)]}function $(J){return 1+~~(J.getMonth()/3)}function K(J){return o[J.getUTCDay()]}function ee(J){return s[J.getUTCDay()]}function Q(J){return c[J.getUTCMonth()]}function fe(J){return l[J.getUTCMonth()]}function ge(J){return i[+(J.getUTCHours()>=12)]}function Ie(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ie=N(J+="",h);return ie.toString=function(){return J},ie},parse:function(J){var ie=S(J+="",!1);return ie.toString=function(){return J},ie},utcFormat:function(J){var ie=N(J+="",w);return ie.toString=function(){return J},ie},utcParse:function(J){var ie=S(J+="",!0);return ie.toString=function(){return J},ie}}}var Nb={"-":"",_:" ",0:"0"},St=/^\s*\d+/,K8=/^%/,G8=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function H8(e){return e.replace(G8,"\\$&")}function Ks(e){return new RegExp("^(?:"+e.map(H8).join("|")+")","i")}function Gs(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Q8(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function X8(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Y8(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function J8(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Z8(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function wb(e,t,r){var n=St.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Sb(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function e9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function t9(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function r9(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Cb(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function n9(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ob(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function a9(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function i9(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function s9(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function o9(e,t,r){var n=St.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function l9(e,t,r){var n=K8.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function c9(e,t,r){var n=St.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function u9(e,t,r){var n=St.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function kb(e,t){return Ae(e.getDate(),t,2)}function d9(e,t){return Ae(e.getHours(),t,2)}function m9(e,t){return Ae(e.getHours()%12||12,t,2)}function f9(e,t){return Ae(1+Ml.count(Pn(e),e),t,3)}function G2(e,t){return Ae(e.getMilliseconds(),t,3)}function h9(e,t){return G2(e,t)+"000"}function p9(e,t){return Ae(e.getMonth()+1,t,2)}function x9(e,t){return Ae(e.getMinutes(),t,2)}function y9(e,t){return Ae(e.getSeconds(),t,2)}function g9(e){var t=e.getDay();return t===0?7:t}function v9(e,t){return Ae(Xd.count(Pn(e)-1,e),t,2)}function H2(e){var t=e.getDay();return t>=4||t===0?Qi(e):Qi.ceil(e)}function b9(e,t){return e=H2(e),Ae(Qi.count(Pn(e),e)+(Pn(e).getDay()===4),t,2)}function j9(e){return e.getDay()}function N9(e,t){return Ae(Eu.count(Pn(e)-1,e),t,2)}function w9(e,t){return Ae(e.getFullYear()%100,t,2)}function S9(e,t){return e=H2(e),Ae(e.getFullYear()%100,t,2)}function C9(e,t){return Ae(e.getFullYear()%1e4,t,4)}function O9(e,t){var r=e.getDay();return e=r>=4||r===0?Qi(e):Qi.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function k9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function Pb(e,t){return Ae(e.getUTCDate(),t,2)}function P9(e,t){return Ae(e.getUTCHours(),t,2)}function A9(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function E9(e,t){return Ae(1+Qd.count(An(e),e),t,3)}function Q2(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function T9(e,t){return Q2(e,t)+"000"}function I9(e,t){return Ae(e.getUTCMonth()+1,t,2)}function D9(e,t){return Ae(e.getUTCMinutes(),t,2)}function M9(e,t){return Ae(e.getUTCSeconds(),t,2)}function $9(e){var t=e.getUTCDay();return t===0?7:t}function _9(e,t){return Ae(Yd.count(An(e)-1,e),t,2)}function X2(e){var t=e.getUTCDay();return t>=4||t===0?Xi(e):Xi.ceil(e)}function R9(e,t){return e=X2(e),Ae(Xi.count(An(e),e)+(An(e).getUTCDay()===4),t,2)}function L9(e){return e.getUTCDay()}function B9(e,t){return Ae(Tu.count(An(e)-1,e),t,2)}function F9(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function U9(e,t){return e=X2(e),Ae(e.getUTCFullYear()%100,t,2)}function W9(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function q9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xi(e):Xi.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function z9(){return"+0000"}function Ab(){return"%"}function Eb(e){return+e}function Tb(e){return Math.floor(+e/1e3)}var si,Y2,J2;V9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function V9(e){return si=V8(e),Y2=si.format,si.parse,J2=si.utcFormat,si.utcParse,si}function K9(e){return new Date(e)}function G9(e){return e instanceof Date?+e:+new Date(+e)}function R0(e,t,r,n,i,s,o,l,c,u){var m=w0(),d=m.invert,f=m.domain,y=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),j=u("%b %d"),h=u("%B"),w=u("%Y");function x(N){return(c(N)<N?y:l(N)<N?g:o(N)<N?p:s(N)<N?v:n(N)<N?i(N)<N?b:j:r(N)<N?h:w)(N)}return m.invert=function(N){return new Date(d(N))},m.domain=function(N){return arguments.length?f(Array.from(N,G9)):f().map(K9)},m.ticks=function(N){var S=f();return e(S[0],S[S.length-1],N??10)},m.tickFormat=function(N,S){return S==null?x:u(S)},m.nice=function(N){var S=f();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?f(L2(S,N)):m},m.copy=function(){return Dl(m,R0(e,t,r,n,i,s,o,l,c,u))},m}function H9(){return Ar.apply(R0(q8,z8,Pn,$0,Xd,Ml,D0,T0,Ia,Y2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Q9(){return Ar.apply(R0(U8,W8,An,_0,Yd,Qd,M0,I0,Ia,J2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jd(){var e=0,t=1,r,n,i,s,o=qt,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(i===0?.5:(d=(s(d)-r)*i,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function m(d){return function(f){var y,g;return arguments.length?([y,g]=f,o=d(y,g),u):[o(0),o(1)]}}return u.range=m(Es),u.rangeRound=m(N0),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return s=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function xa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Z2(){var e=pa(Jd()(qt));return e.copy=function(){return xa(e,Z2())},$n.apply(e,arguments)}function eC(){var e=O0(Jd()).domain([1,10]);return e.copy=function(){return xa(e,eC()).base(e.base())},$n.apply(e,arguments)}function tC(){var e=k0(Jd());return e.copy=function(){return xa(e,tC()).constant(e.constant())},$n.apply(e,arguments)}function L0(){var e=P0(Jd());return e.copy=function(){return xa(e,L0()).exponent(e.exponent())},$n.apply(e,arguments)}function X9(){return L0.apply(null,arguments).exponent(.5)}function rC(){var e=[],t=qt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Tl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(aa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>_7(e,s/n))},r.copy=function(){return rC(t).domain(e)},$n.apply(r,arguments)}function Zd(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,u=qt,m,d=!1,f;function y(p){return isNaN(p=+p)?f:(p=.5+((p=+m(p))-s)*(n*p<n*s?l:c),u(d?Math.max(0,Math.min(1,p)):p))}y.domain=function(p){return arguments.length?([e,t,r]=p,i=m(e=+e),s=m(t=+t),o=m(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,y):[e,t,r]},y.clamp=function(p){return arguments.length?(d=!!p,y):d},y.interpolator=function(p){return arguments.length?(u=p,y):u};function g(p){return function(v){var b,j,h;return arguments.length?([b,j,h]=v,u=l8(p,[b,j,h]),y):[u(0),u(.5),u(1)]}}return y.range=g(Es),y.rangeRound=g(N0),y.unknown=function(p){return arguments.length?(f=p,y):f},function(p){return m=p,i=p(e),s=p(t),o=p(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,y}}function nC(){var e=pa(Zd()(qt));return e.copy=function(){return xa(e,nC())},$n.apply(e,arguments)}function aC(){var e=O0(Zd()).domain([.1,1,10]);return e.copy=function(){return xa(e,aC()).base(e.base())},$n.apply(e,arguments)}function iC(){var e=k0(Zd());return e.copy=function(){return xa(e,iC()).constant(e.constant())},$n.apply(e,arguments)}function B0(){var e=P0(Zd());return e.copy=function(){return xa(e,B0()).exponent(e.exponent())},$n.apply(e,arguments)}function Y9(){return B0.apply(null,arguments).exponent(.5)}const Ib=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ho,scaleDiverging:nC,scaleDivergingLog:aC,scaleDivergingPow:B0,scaleDivergingSqrt:Y9,scaleDivergingSymlog:iC,scaleIdentity:R2,scaleImplicit:Jh,scaleLinear:Pu,scaleLog:B2,scaleOrdinal:v0,scalePoint:xo,scalePow:A0,scaleQuantile:W2,scaleQuantize:q2,scaleRadial:U2,scaleSequential:Z2,scaleSequentialLog:eC,scaleSequentialPow:L0,scaleSequentialQuantile:rC,scaleSequentialSqrt:X9,scaleSequentialSymlog:tC,scaleSqrt:T8,scaleSymlog:F2,scaleThreshold:z2,scaleTime:H9,scaleUtc:Q9,tickFormat:_2},Symbol.toStringTag,{value:"Module"}));var J9=js;function Z9(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!J9(o):r(o,l)))var l=o,c=s}return c}var em=Z9;function eU(e,t){return e>t}var sC=eU,tU=em,rU=sC,nU=As;function aU(e){return e&&e.length?tU(e,nU,rU):void 0}var iU=aU;const tm=Me(iU);function sU(e,t){return e<t}var oC=sU,oU=em,lU=oC,cU=As;function uU(e){return e&&e.length?oU(e,cU,lU):void 0}var dU=uU;const rm=Me(dU);var mU=Zx,fU=cn,hU=p2,pU=er;function xU(e,t){var r=pU(e)?mU:hU;return r(e,fU(t))}var yU=xU,gU=f2,vU=yU;function bU(e,t){return gU(vU(e,t),1)}var jU=bU;const NU=Me(jU);var wU=h0;function SU(e,t){return wU(e,t)}var CU=SU;const $l=Me(CU);var Ts=1e9,OU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},U0,Qe=!0,kr="[DecimalError] ",Ra=kr+"Invalid argument: ",F0=kr+"Exponent out of range: ",Is=Math.floor,Ca=Math.pow,kU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,or,gt=1e7,Ke=7,lC=9007199254740991,Iu=Is(lC/Ke),ae={};ae.absoluteValue=ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ae.comparedTo=ae.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ke;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(e){return jn(this,new this.constructor(e))};ae.dividedToIntegerBy=ae.idiv=function(e){var t=this,r=t.constructor;return Be(jn(t,new r(e),0,1),r.precision)};ae.equals=ae.eq=function(e){return!this.cmp(e)};ae.exponent=function(){return ut(this)};ae.greaterThan=ae.gt=function(e){return this.cmp(e)>0};ae.greaterThanOrEqualTo=ae.gte=function(e){return this.cmp(e)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(e){return this.cmp(e)<0};ae.lessThanOrEqualTo=ae.lte=function(e){return this.cmp(e)<1};ae.logarithm=ae.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(or))throw Error(kr+"NaN");if(r.s<1)throw Error(kr+(r.s?"NaN":"-Infinity"));return r.eq(or)?new n(0):(Qe=!1,t=jn(Zo(r,s),Zo(e,s),s),Qe=!0,Be(t,i))};ae.minus=ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dC(t,e):cC(t,(e.s=-e.s,e))};ae.modulo=ae.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(kr+"NaN");return r.s?(Qe=!1,t=jn(r,e,0,1).times(e),Qe=!0,r.minus(t)):Be(new n(r),i)};ae.naturalExponential=ae.exp=function(){return uC(this)};ae.naturalLogarithm=ae.ln=function(){return Zo(this)};ae.negated=ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ae.plus=ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cC(t,e):dC(t,(e.s=-e.s,e))};ae.precision=ae.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ra+e);if(t=ut(i)+1,n=i.d.length-1,r=n*Ke+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ae.squareRoot=ae.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(kr+"NaN")}for(e=ut(l),Qe=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Yr(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Is((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(jn(l,s,o+2)).times(.5),Yr(s.d).slice(0,o)===(t=Yr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Be(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Qe=!0,Be(n,r)};ae.times=ae.mul=function(e){var t,r,n,i,s,o,l,c,u,m=this,d=m.constructor,f=m.d,y=(e=new d(e)).d;if(!m.s||!e.s)return new d(0);for(e.s*=m.s,r=m.e+e.e,c=f.length,u=y.length,c<u&&(s=f,f=y,y=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+y[n]*f[i-n-1]+t,s[i--]=l%gt|0,t=l/gt|0;s[i]=(s[i]+t)%gt|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Qe?Be(e,d.precision):e};ae.toDecimalPlaces=ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(sn(e,0,Ts),t===void 0?t=n.rounding:sn(t,0,8),Be(r,e+ut(r)+1,t))};ae.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ga(n,!0):(sn(e,0,Ts),t===void 0?t=i.rounding:sn(t,0,8),n=Be(new i(n),e+1,t),r=Ga(n,!0,e+1)),r};ae.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ga(i):(sn(e,0,Ts),t===void 0?t=s.rounding:sn(t,0,8),n=Be(new s(i),e+ut(i)+1,t),r=Ga(n.abs(),!1,e+ut(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var e=this,t=e.constructor;return Be(new t(e),ut(e)+1,t.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,u=12,m=+(e=new c(e));if(!e.s)return new c(or);if(l=new c(l),!l.s){if(e.s<1)throw Error(kr+"Infinity");return l}if(l.eq(or))return l;if(n=c.precision,e.eq(or))return Be(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=m<0?-m:m)<=lC){for(i=new c(or),t=Math.ceil(n/Ke+4),Qe=!1;r%2&&(i=i.times(l),Mb(i.d,t)),r=Is(r/2),r!==0;)l=l.times(l),Mb(l.d,t);return Qe=!0,e.s<0?new c(or).div(i):Be(i,n)}}else if(s<0)throw Error(kr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Qe=!1,i=e.times(Zo(l,n+u)),Qe=!0,i=uC(i),i.s=s,i};ae.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=ut(i),n=Ga(i,r<=s.toExpNeg||r>=s.toExpPos)):(sn(e,1,Ts),t===void 0?t=s.rounding:sn(t,0,8),i=Be(new s(i),e,t),r=ut(i),n=Ga(i,e<=r||r<=s.toExpNeg,e)),n};ae.toSignificantDigits=ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(sn(e,1,Ts),t===void 0?t=n.rounding:sn(t,0,8)),Be(new n(r),e,t)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ut(e),r=e.constructor;return Ga(e,t<=r.toExpNeg||t>=r.toExpPos)};function cC(e,t){var r,n,i,s,o,l,c,u,m=e.constructor,d=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Qe?Be(t,d):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(d/Ke),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/gt|0,c[s]%=gt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Qe?Be(t,d):t}function sn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ra+e)}function Yr(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=Ke-n.length,r&&(s+=Fn(r)),s+=n;o=e[t],n=o+"",r=Ke-n.length,r&&(s+=Fn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var jn=function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%gt|0,o=s/gt|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*gt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,m,d,f,y,g,p,v,b,j,h,w,x,N,S,C,P=n.constructor,A=n.s==i.s?1:-1,E=n.d,O=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(kr+"Division by zero");for(c=n.e-i.e,S=O.length,x=E.length,y=new P(A),g=y.d=[],u=0;O[u]==(E[u]||0);)++u;if(O[u]>(E[u]||0)&&--c,s==null?j=s=P.precision:o?j=s+(ut(n)-ut(i))+1:j=s,j<0)return new P(0);if(j=j/Ke+2|0,u=0,S==1)for(m=0,O=O[0],j++;(u<x||m)&&j--;u++)h=m*gt+(E[u]||0),g[u]=h/O|0,m=h%O|0;else{for(m=gt/(O[0]+1)|0,m>1&&(O=e(O,m),E=e(E,m),S=O.length,x=E.length),w=S,p=E.slice(0,S),v=p.length;v<S;)p[v++]=0;C=O.slice(),C.unshift(0),N=O[0],O[1]>=gt/2&&++N;do m=0,l=t(O,p,S,v),l<0?(b=p[0],S!=v&&(b=b*gt+(p[1]||0)),m=b/N|0,m>1?(m>=gt&&(m=gt-1),d=e(O,m),f=d.length,v=p.length,l=t(d,p,f,v),l==1&&(m--,r(d,S<f?C:O,f))):(m==0&&(l=m=1),d=O.slice()),f=d.length,f<v&&d.unshift(0),r(p,d,v),l==-1&&(v=p.length,l=t(O,p,S,v),l<1&&(m++,r(p,S<v?C:O,v))),v=p.length):l===0&&(m++,p=[0]),g[u++]=m,l&&p[0]?p[v++]=E[w]||0:(p=[E[w]],v=1);while((w++<x||p[0]!==void 0)&&j--)}return g[0]||g.shift(),y.e=c,Be(y,o?s+ut(y)+1:s)}}();function uC(e,t){var r,n,i,s,o,l,c=0,u=0,m=e.constructor,d=m.precision;if(ut(e)>16)throw Error(F0+ut(e));if(!e.s)return new m(or);for(t==null?(Qe=!1,l=d):l=t,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ca(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new m(or),m.precision=l;;){if(i=Be(i.times(e),l),r=r.times(++c),o=s.plus(jn(i,r,l)),Yr(o.d).slice(0,l)===Yr(s.d).slice(0,l)){for(;u--;)s=Be(s.times(s),l);return m.precision=d,t==null?(Qe=!0,Be(s,d)):s}s=o}}function ut(e){for(var t=e.e*Ke,r=e.d[0];r>=10;r/=10)t++;return t}function hf(e,t,r){if(t>e.LN10.sd())throw Qe=!0,r&&(e.precision=r),Error(kr+"LN10 precision limit exceeded");return Be(new e(e.LN10),t)}function Fn(e){for(var t="";e--;)t+="0";return t}function Zo(e,t){var r,n,i,s,o,l,c,u,m,d=1,f=10,y=e,g=y.d,p=y.constructor,v=p.precision;if(y.s<1)throw Error(kr+(y.s?"NaN":"-Infinity"));if(y.eq(or))return new p(0);if(t==null?(Qe=!1,u=v):u=t,y.eq(10))return t==null&&(Qe=!0),hf(p,u);if(u+=f,p.precision=u,r=Yr(g),n=r.charAt(0),s=ut(y),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=Yr(y.d),n=r.charAt(0),d++;s=ut(y),n>1?(y=new p("0."+r),s++):y=new p(n+"."+r.slice(1))}else return c=hf(p,u+2,v).times(s+""),y=Zo(new p(n+"."+r.slice(1)),u-f).plus(c),p.precision=v,t==null?(Qe=!0,Be(y,v)):y;for(l=o=y=jn(y.minus(or),y.plus(or),u),m=Be(y.times(y),u),i=3;;){if(o=Be(o.times(m),u),c=l.plus(jn(o,new p(i),u)),Yr(c.d).slice(0,u)===Yr(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(hf(p,u+2,v).times(s+""))),l=jn(l,new p(d),u),p.precision=v,t==null?(Qe=!0,Be(l,v)):l;l=c,i+=2}}function Db(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Is(r/Ke),e.d=[],n=(r+1)%Ke,r<0&&(n+=Ke),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ke;n<i;)e.d.push(+t.slice(n,n+=Ke));t=t.slice(n),n=Ke-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Qe&&(e.e>Iu||e.e<-Iu))throw Error(F0+r)}else e.s=0,e.e=0,e.d=[0];return e}function Be(e,t,r){var n,i,s,o,l,c,u,m,d=e.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Ke,i=t,u=d[m=0];else{if(m=Math.ceil((n+1)/Ke),s=d.length,m>=s)return e;for(u=s=d[m],o=1;s>=10;s/=10)o++;n%=Ke,i=n-Ke+o}if(r!==void 0&&(s=Ca(10,o-i-1),l=u/s%10|0,c=t<0||d[m+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Ca(10,o-i):0:d[m-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(s=ut(e),d.length=1,t=t-s-1,d[0]=Ca(10,(Ke-t%Ke)%Ke),e.e=Is(-t/Ke)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=m,s=1,m--):(d.length=m+1,s=Ca(10,Ke-n),d[m]=i>0?(u/Ca(10,o-i)%Ca(10,i)|0)*s:0),c)for(;;)if(m==0){(d[0]+=s)==gt&&(d[0]=1,++e.e);break}else{if(d[m]+=s,d[m]!=gt)break;d[m--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(Qe&&(e.e>Iu||e.e<-Iu))throw Error(F0+ut(e));return e}function dC(e,t){var r,n,i,s,o,l,c,u,m,d,f=e.constructor,y=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Qe?Be(t,y):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(m=o<0,m?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),i=Math.max(Math.ceil(y/Ke),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=d.length,m=i<l,m&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){m=c[i]<d[i];break}o=0}for(m&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(s=i;s&&c[--s]===0;)c[s]=gt-1;--c[s],c[i]+=gt}c[i]-=d[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Qe?Be(t,y):t):new f(0)}function Ga(e,t,r){var n,i=ut(e),s=Yr(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Fn(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Fn(-i-1)+s,r&&(n=r-o)>0&&(s+=Fn(n))):i>=o?(s+=Fn(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Fn(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Fn(n))),e.s<0?"-"+s:s}function Mb(e,t){if(e.length>t)return e.length=t,!0}function mC(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ra+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Db(o,s.toString())}else if(typeof s!="string")throw Error(Ra+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,kU.test(s))Db(o,s);else throw Error(Ra+s)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mC,i.config=i.set=PU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function PU(e){if(!e||typeof e!="object")throw Error(kr+"Object expected");var t,r,n,i=["precision",1,Ts,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Is(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ra+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ra+r+": "+n);return this}var U0=mC(OU);or=new U0(1);const _e=U0;function AU(e){return DU(e)||IU(e)||TU(e)||EU()}function EU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TU(e,t){if(e){if(typeof e=="string")return rp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rp(e,t)}}function IU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function DU(e){if(Array.isArray(e))return rp(e)}function rp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MU=function(t){return t},fC={"@@functional/placeholder":!0},hC=function(t){return t===fC},$b=function(t){return function r(){return arguments.length===0||arguments.length===1&&hC(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},$U=function e(t,r){return t===1?r:$b(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==fC}).length;return o>=t?r.apply(void 0,i):e(t-o,$b(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var m=i.map(function(d){return hC(d)?c.shift():d});return r.apply(void 0,AU(m).concat(c))}))})},nm=function(t){return $U(t.length,t)},np=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},_U=nm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),RU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return MU;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},ap=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},pC=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function LU(e){var t;return e===0?t=1:t=Math.floor(new _e(e).abs().log(10).toNumber())+1,t}function BU(e,t,r){for(var n=new _e(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var FU=nm(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),UU=nm(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),WU=nm(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const am={rangeStep:BU,getDigitCount:LU,interpolateNumber:FU,uninterpolateNumber:UU,uninterpolateTruncation:WU};function ip(e){return VU(e)||zU(e)||xC(e)||qU()}function qU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zU(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function VU(e){if(Array.isArray(e))return sp(e)}function el(e,t){return HU(e)||GU(e,t)||xC(e,t)||KU()}function KU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xC(e,t){if(e){if(typeof e=="string")return sp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sp(e,t)}}function sp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GU(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function HU(e){if(Array.isArray(e))return e}function yC(e){var t=el(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function gC(e,t,r){if(e.lte(0))return new _e(0);var n=am.getDigitCount(e.toNumber()),i=new _e(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new _e(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new _e(Math.ceil(c))}function QU(e,t,r){var n=1,i=new _e(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new _e(10).pow(am.getDigitCount(e)-1),i=new _e(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new _e(Math.floor(e)))}else e===0?i=new _e(Math.floor((t-1)/2)):r||(i=new _e(Math.floor(e)));var o=Math.floor((t-1)/2),l=RU(_U(function(c){return i.add(new _e(c-o).mul(n)).toNumber()}),np);return l(0,t)}function vC(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new _e(0),tickMin:new _e(0),tickMax:new _e(0)};var s=gC(new _e(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new _e(0):(o=new _e(e).add(t).div(2),o=o.sub(new _e(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new _e(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?vC(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new _e(l).mul(s)),tickMax:o.add(new _e(c).mul(s))})}function XU(e){var t=el(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=yC([r,n]),c=el(l,2),u=c[0],m=c[1];if(u===-1/0||m===1/0){var d=m===1/0?[u].concat(ip(np(0,i-1).map(function(){return 1/0}))):[].concat(ip(np(0,i-1).map(function(){return-1/0})),[m]);return r>n?ap(d):d}if(u===m)return QU(u,i,s);var f=vC(u,m,o,s),y=f.step,g=f.tickMin,p=f.tickMax,v=am.rangeStep(g,p.add(new _e(.1).mul(y)),y);return r>n?ap(v):v}function YU(e,t){var r=el(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=yC([n,i]),l=el(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var m=Math.max(t,2),d=gC(new _e(u).sub(c).div(m-1),s,0),f=[].concat(ip(am.rangeStep(new _e(c),new _e(u).sub(new _e(.99).mul(d)),d)),[u]);return n>i?ap(f):f}var JU=pC(XU),ZU=pC(YU),eW=!0,pf="Invariant failed";function Ha(e,t){if(!e){if(eW)throw new Error(pf);var r=typeof t=="function"?t():t,n=r?"".concat(pf,": ").concat(r):pf;throw new Error(n)}}var tW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Du.apply(this,arguments)}function rW(e,t){return sW(e)||iW(e,t)||aW(e,t)||nW()}function nW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aW(e,t){if(e){if(typeof e=="string")return _b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _b(e,t)}}function _b(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function sW(e){if(Array.isArray(e))return e}function oW(e,t){if(e==null)return{};var r=lW(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NC(n.key),n)}}function uW(e,t,r){return t&&Rb(e.prototype,t),r&&Rb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dW(e,t,r){return t=Mu(t),mW(e,bC()?Reflect.construct(t,r||[],Mu(e).constructor):t.apply(e,r))}function mW(e,t){if(t&&(Yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fW(e)}function fW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bC=function(){return!!e})()}function Mu(e){return Mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mu(e)}function hW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&op(e,t)}function op(e,t){return op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},op(e,t)}function jC(e,t,r){return t=NC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NC(e){var t=pW(e,"string");return Yi(t)=="symbol"?t:t+""}function pW(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _l=function(e){function t(){return cW(this,t),dW(this,t,arguments)}return hW(t,e),uW(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,m=n.xAxis,d=n.yAxis,f=oW(n,tW),y=ce(f,!1);this.props.direction==="x"&&m.type!=="number"&&Ha(!1);var g=c.map(function(p){var v=u(p,l),b=v.x,j=v.y,h=v.value,w=v.errorVal;if(!w)return null;var x=[],N,S;if(Array.isArray(w)){var C=rW(w,2);N=C[0],S=C[1]}else N=S=w;if(s==="vertical"){var P=m.scale,A=j+i,E=A+o,O=A-o,I=P(h-N),T=P(h+S);x.push({x1:T,y1:E,x2:T,y2:O}),x.push({x1:I,y1:A,x2:T,y2:A}),x.push({x1:I,y1:E,x2:I,y2:O})}else if(s==="horizontal"){var M=d.scale,R=b+i,W=R-o,L=R+o,D=M(h-N),U=M(h+S);x.push({x1:W,y1:U,x2:L,y2:U}),x.push({x1:R,y1:D,x2:R,y2:U}),x.push({x1:W,y1:D,x2:L,y2:D})}return _.createElement(Pe,Du({className:"recharts-errorBar",key:"bar-".concat(x.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},y),x.map(function(F){return _.createElement("line",Du({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return _.createElement(Pe,{className:"recharts-errorBars"},g)}}])}(_.Component);jC(_l,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});jC(_l,"displayName","ErrorBar");function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){xW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xW(e,t,r){return t=yW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=gW(e,"string");return tl(t)=="symbol"?t:t+""}function gW(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wC=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=ir(r,Di);if(!o)return null;var l=Di.defaultProps,c=l!==void 0?ga(ga({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(m,d){var f=d.item,y=d.props,g=y.sectors||y.data||[];return m.concat(g.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(m){var d=m.item,f=d.type.defaultProps,y=f!==void 0?ga(ga({},f),d.props):{},g=y.dataKey,p=y.name,v=y.legendType,b=y.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:W0(d),value:p||g,payload:y}}),ga(ga(ga({},c),Di.getWithHeight(o,i)),{},{payload:u,item:o})};function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function Bb(e){return NW(e)||jW(e)||bW(e)||vW()}function vW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bW(e,t){if(e){if(typeof e=="string")return lp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lp(e,t)}}function jW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NW(e){if(Array.isArray(e))return lp(e)}function lp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){$i(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $i(e,t,r){return t=wW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wW(e){var t=SW(e,"string");return rl(t)=="symbol"?t:t+""}function SW(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ht(e,t,r){return xe(e)||xe(t)?r:xt(t)?ur(e,t,r):me(t)?t(e):r}function yo(e,t,r,n){var i=NU(e,function(l){return ht(l,t)});if(r==="number"){var s=i.filter(function(l){return X(l)||parseFloat(l)});return s.length?[rm(s),tm(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!xe(l)}):i;return o.map(function(l){return xt(l)||l instanceof Date?l:""})}var CW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var m=u>0?i[u-1].coordinate:i[l-1].coordinate,d=i[u].coordinate,f=u>=l-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Ut(d-m)!==Ut(f-d)){var g=[];if(Ut(f-d)===Ut(c[1]-c[0])){y=f;var p=d+c[1]-c[0];g[0]=Math.min(p,(p+m)/2),g[1]=Math.max(p,(p+m)/2)}else{y=m;var v=f+c[1]-c[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=i[u].index;break}}else{var j=Math.min(m,f),h=Math.max(m,f);if(t>(j+d)/2&&t<=(h+d)/2){o=i[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},W0=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},OW=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var m=s[l[c]].stackGroups,d=Object.keys(m),f=0,y=d.length;f<y;f++){var g=m[d[f]],p=g.items,v=g.cateAxisId,b=p.filter(function(S){return bn(S.type).indexOf("Bar")>=0});if(b&&b.length){var j=b[0].type.defaultProps,h=j!==void 0?rt(rt({},j),b[0].props):b[0].props,w=h.barSize,x=h[v];o[x]||(o[x]=[]);var N=xe(w)?r:w;o[x].push({item:b[0],stackList:b.slice(1),barSize:xe(N)?void 0:Wt(N,n,0)})}}return o},kW=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Wt(r,i,0,!0),m,d=[];if(o[0].barSize===+o[0].barSize){var f=!1,y=i/c,g=o.reduce(function(w,x){return w+x.barSize||0},0);g+=(c-1)*u,g>=i&&(g-=(c-1)*u,u=0),g>=i&&y>0&&(f=!0,y*=.9,g=c*y);var p=(i-g)/2>>0,v={offset:p-u,size:0};m=o.reduce(function(w,x){var N={item:x.item,position:{offset:v.offset+v.size+u,size:f?y:x.barSize}},S=[].concat(Bb(w),[N]);return v=S[S.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(C){S.push({item:C,position:v})}),S},d)}else{var b=Wt(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var j=(i-2*b-(c-1)*u)/c;j>1&&(j>>=0);var h=l===+l?Math.min(j,l):j;m=o.reduce(function(w,x,N){var S=[].concat(Bb(w),[{item:x.item,position:{offset:b+(j+u)*N+(j-h)/2,size:h}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},d)}return m},PW=function(t,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=wC({children:s,legendWidth:c});if(u){var m=i||{},d=m.width,f=m.height,y=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&y!=="center"&&X(t[y]))return rt(rt({},t),{},$i({},y,t[y]+(d||0)));if((p==="horizontal"||p==="vertical"&&y==="center")&&g!=="middle"&&X(t[g]))return rt(rt({},t),{},$i({},g,t[g]+(f||0)))}return t},AW=function(t,r,n){return xe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},SC=function(t,r,n,i,s){var o=r.props.children,l=dr(o,_l).filter(function(u){return AW(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,m){var d=ht(m,n);if(xe(d))return u;var f=Array.isArray(d)?[rm(d),tm(d)]:[d,d],y=c.reduce(function(g,p){var v=ht(m,p,0),b=f[0]-Math.abs(Array.isArray(v)?v[0]:v),j=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(j,g[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},EW=function(t,r,n,i,s){var o=r.map(function(l){return SC(t,l,n,s,i)}).filter(function(l){return!xe(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},CC=function(t,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&SC(t,c,u,i)||yo(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var m=0,d=u.length;m<d;m++)l[u[m]]||(l[u[m]]=!0,c.push(u[m]));return c},[])},OC=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},kC=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},gn=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ut(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(d){var f=s?s.indexOf(d):d;return{coordinate:i(f)+u,value:d,offset:u}});return m.filter(function(d){return!Al(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,f){return{coordinate:i(d)+u,value:d,index:f,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,f){return{coordinate:i(d)+u,value:s?s[d]:d,index:f,offset:u}})},xf=new WeakMap,fc=function(t,r){if(typeof r!="function")return t;xf.has(t)||xf.set(t,new WeakMap);var n=xf.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},PC=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ho(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Pu(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xo(),realScaleType:"point"}:s==="category"?{scale:Ho(),realScaleType:"band"}:{scale:Pu(),realScaleType:"linear"};if(za(i)){var c="scale".concat(Fd(i));return{scale:(Ib[c]||xo)(),realScaleType:Ib[c]?c:"point"}}return me(i)?{scale:i}:{scale:xo(),realScaleType:"point"}},Ub=1e-4,AC=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-Ub,o=Math.max(i[0],i[1])+Ub,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},TW=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},IW=function(t,r){if(!r||r.length!==2||!X(r[0])||!X(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!X(t[0])||t[0]<n)&&(s[0]=n),(!X(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},DW=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Al(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},MW=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Al(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},$W={sign:DW,expand:n$,none:qi,silhouette:a$,wiggle:i$,positive:MW},_W=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=$W[n],o=r$().keys(i).value(function(l,c){return+ht(l,c,0)}).order(Dh).offset(s);return o(t)},RW=function(t,r,n,i,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,f){var y,g=(y=f.type)!==null&&y!==void 0&&y.defaultProps?rt(rt({},f.type.defaultProps),f.props):f.props,p=g.stackId,v=g.hide;if(v)return d;var b=g[n],j=d[b]||{hasStack:!1,stackGroups:{}};if(xt(p)){var h=j.stackGroups[p]||{numericAxisId:n,cateAxisId:i,items:[]};h.items.push(f),j.hasStack=!0,j.stackGroups[p]=h}else j.stackGroups[Os("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return rt(rt({},d),{},$i({},b,j))},c),m={};return Object.keys(u).reduce(function(d,f){var y=u[f];if(y.hasStack){var g={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(p,v){var b=y.stackGroups[v];return rt(rt({},p),{},$i({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:_W(t,b.items,s)}))},g)}return rt(rt({},d),{},$i({},f,y))},m)},EC=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var m=JU(u,s,l);return t.domain([rm(m),tm(m)]),{niceTicks:m}}if(s&&i==="number"){var d=t.domain(),f=ZU(d,s,l);return{niceTicks:f}}return null};function Wb(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xe(i[t.dataKey])){var l=ou(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=ht(i,xe(o)?t.dataKey:o);return xe(c)?null:t.scale(c)}var qb=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=ht(o,r.dataKey,r.domain[l]);return xe(c)?null:r.scale(c)-s/2+i},LW=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},BW=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(xt(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},FW=function(t){return t.reduce(function(r,n){return[rm(n.concat([r[0]]).filter(X)),tm(n.concat([r[1]]).filter(X))]},[1/0,-1/0])},TC=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,m){var d=FW(m.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},zb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cp=function(t,r,n){if(me(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(X(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(zb.test(t[0])){var s=+zb.exec(t[0])[1];i[0]=r[0]-s}else me(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(X(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(Vb.test(t[1])){var o=+Vb.exec(t[1])[1];i[1]=r[1]+o}else me(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},$u=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=x0(r,function(d){return d.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],m=s[l-1];o=Math.min((u.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Kb=function(t,r,n){return!t||!t.length||$l(t,ur(n,"type.defaultProps.domain"))?r:t},IC=function(t,r){var n=t.type.defaultProps?rt(rt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,m=n.hide;return rt(rt({},ce(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:W0(t),value:ht(r,i),type:c,payload:r,chartType:u,hide:m})};function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function Gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gb(Object(r),!0).forEach(function(n){DC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DC(e,t,r){return t=UW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UW(e){var t=WW(e,"string");return nl(t)=="symbol"?t:t+""}function WW(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qW(e,t){return GW(e)||KW(e,t)||VW(e,t)||zW()}function zW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VW(e,t){if(e){if(typeof e=="string")return Hb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hb(e,t)}}function Hb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function GW(e){if(Array.isArray(e))return e}var _u=Math.PI/180,HW=function(t){return t*180/Math.PI},qe=function(t,r,n,i){return{x:t+Math.cos(-_u*i)*n,y:r+Math.sin(-_u*i)*n}},MC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},QW=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,m=Wt(t.cx,o,o/2),d=Wt(t.cy,l,l/2),f=MC(o,l,n),y=Wt(t.innerRadius,f,0),g=Wt(t.outerRadius,f,f*.8),p=Object.keys(r);return p.reduce(function(v,b){var j=r[b],h=j.domain,w=j.reversed,x;if(xe(j.range))i==="angleAxis"?x=[c,u]:i==="radiusAxis"&&(x=[y,g]),w&&(x=[x[1],x[0]]);else{x=j.range;var N=x,S=qW(N,2);c=S[0],u=S[1]}var C=PC(j,s),P=C.realScaleType,A=C.scale;A.domain(h).range(x),AC(A);var E=EC(A,mn(mn({},j),{},{realScaleType:P})),O=mn(mn(mn({},j),E),{},{range:x,radius:g,realScaleType:P,scale:A,cx:m,cy:d,innerRadius:y,outerRadius:g,startAngle:c,endAngle:u});return mn(mn({},v),{},DC({},b,O))},{})},XW=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},YW=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,l=XW({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:HW(u),angleInRadian:u}},JW=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},ZW=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},Qb=function(t,r){var n=t.x,i=t.y,s=YW({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var m=JW(r),d=m.startAngle,f=m.endAngle,y=l,g;if(d<=f){for(;y>f;)y-=360;for(;y<d;)y+=360;g=y>=d&&y<=f}else{for(;y>d;)y-=360;for(;y<f;)y+=360;g=y>=f&&y<=d}return g?mn(mn({},r),{},{radius:o,angle:ZW(y,r)}):null},$C=function(t){return!k.isValidElement(t)&&!me(t)&&typeof t!="boolean"?t.className:""};function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}var eq=["offset"];function tq(e){return iq(e)||aq(e)||nq(e)||rq()}function rq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nq(e,t){if(e){if(typeof e=="string")return up(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return up(e,t)}}function aq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iq(e){if(Array.isArray(e))return up(e)}function up(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sq(e,t){if(e==null)return{};var r=oq(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xb(Object(r),!0).forEach(function(n){lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lq(e,t,r){return t=cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=uq(e,"string");return al(t)=="symbol"?t:t+""}function uq(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(this,arguments)}var dq=function(t){var r=t.value,n=t.formatter,i=xe(t.children)?r:t.children;return me(n)?n(i):i},mq=function(t,r){var n=Ut(r-t),i=Math.min(Math.abs(r-t),360);return n*i},fq=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,m=c.cy,d=c.innerRadius,f=c.outerRadius,y=c.startAngle,g=c.endAngle,p=c.clockWise,v=(d+f)/2,b=mq(y,g),j=b>=0?1:-1,h,w;i==="insideStart"?(h=y+j*o,w=p):i==="insideEnd"?(h=g-j*o,w=!p):i==="end"&&(h=g+j*o,w=p),w=b<=0?w:!w;var x=qe(u,m,v,h),N=qe(u,m,v,h+(w?1:-1)*359),S="M".concat(x.x,",").concat(x.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),C=xe(t.id)?Os("recharts-radial-line-"):t.id;return _.createElement("text",il({},n,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:C,d:S})),_.createElement("textPath",{xlinkHref:"#".concat(C)},r))},hq=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,m=s.startAngle,d=s.endAngle,f=(m+d)/2;if(i==="outside"){var y=qe(o,l,u+n,f),g=y.x,p=y.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=qe(o,l,v,f),j=b.x,h=b.y;return{x:j,y:h,textAnchor:"middle",verticalAnchor:"middle"}},pq=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,m=o.height,d=m>=0?1:-1,f=d*i,y=d>0?"end":"start",g=d>0?"start":"end",p=u>=0?1:-1,v=p*i,b=p>0?"end":"start",j=p>0?"start":"end";if(s==="top"){var h={x:l+u/2,y:c-d*i,textAnchor:"middle",verticalAnchor:y};return mt(mt({},h),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var w={x:l+u/2,y:c+m+f,textAnchor:"middle",verticalAnchor:g};return mt(mt({},w),n?{height:Math.max(n.y+n.height-(c+m),0),width:u}:{})}if(s==="left"){var x={x:l-v,y:c+m/2,textAnchor:b,verticalAnchor:"middle"};return mt(mt({},x),n?{width:Math.max(x.x-n.x,0),height:m}:{})}if(s==="right"){var N={x:l+u+v,y:c+m/2,textAnchor:j,verticalAnchor:"middle"};return mt(mt({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:m}:{})}var S=n?{width:u,height:m}:{};return s==="insideLeft"?mt({x:l+v,y:c+m/2,textAnchor:j,verticalAnchor:"middle"},S):s==="insideRight"?mt({x:l+u-v,y:c+m/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideTop"?mt({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:g},S):s==="insideBottom"?mt({x:l+u/2,y:c+m-f,textAnchor:"middle",verticalAnchor:y},S):s==="insideTopLeft"?mt({x:l+v,y:c+f,textAnchor:j,verticalAnchor:g},S):s==="insideTopRight"?mt({x:l+u-v,y:c+f,textAnchor:b,verticalAnchor:g},S):s==="insideBottomLeft"?mt({x:l+v,y:c+m-f,textAnchor:j,verticalAnchor:y},S):s==="insideBottomRight"?mt({x:l+u-v,y:c+m-f,textAnchor:b,verticalAnchor:y},S):Ns(s)&&(X(s.x)||Ea(s.x))&&(X(s.y)||Ea(s.y))?mt({x:l+Wt(s.x,u),y:c+Wt(s.y,m),textAnchor:"end",verticalAnchor:"end"},S):mt({x:l+u/2,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},S)},xq=function(t){return"cx"in t&&X(t.cx)};function bt(e){var t=e.offset,r=t===void 0?5:t,n=sq(e,eq),i=mt({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,m=i.className,d=m===void 0?"":m,f=i.textBreakAll;if(!s||xe(l)&&xe(c)&&!k.isValidElement(u)&&!me(u))return null;if(k.isValidElement(u))return k.cloneElement(u,i);var y;if(me(u)){if(y=k.createElement(u,i),k.isValidElement(y))return y}else y=dq(i);var g=xq(s),p=ce(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return fq(i,y,p);var v=g?hq(i):pq(i);return _.createElement(Ka,il({className:Ne("recharts-label",d)},p,v,{breakAll:f}),y)}bt.displayName="Label";var _C=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,m=t.outerRadius,d=t.x,f=t.y,y=t.top,g=t.left,p=t.width,v=t.height,b=t.clockWise,j=t.labelViewBox;if(j)return j;if(X(p)&&X(v)){if(X(d)&&X(f))return{x:d,y:f,width:p,height:v};if(X(y)&&X(g))return{x:y,y:g,width:p,height:v}}return X(d)&&X(f)?{x:d,y:f,width:0,height:0}:X(r)&&X(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:m||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},yq=function(t,r){return t?t===!0?_.createElement(bt,{key:"label-implicit",viewBox:r}):xt(t)?_.createElement(bt,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===bt?k.cloneElement(t,{key:"label-implicit",viewBox:r}):_.createElement(bt,{key:"label-implicit",content:t,viewBox:r}):me(t)?_.createElement(bt,{key:"label-implicit",content:t,viewBox:r}):Ns(t)?_.createElement(bt,il({viewBox:r},t,{key:"label-implicit"})):null:null},gq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=_C(t),o=dr(i,bt).map(function(c,u){return k.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=yq(t.label,r||s);return[l].concat(tq(o))};bt.parseViewBox=_C;bt.renderCallByParent=gq;function vq(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bq=vq;const jq=Me(bq);function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}var Nq=["valueAccessor"],wq=["data","dataKey","clockWise","id","textBreakAll"];function Sq(e){return Pq(e)||kq(e)||Oq(e)||Cq()}function Cq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(e,t){if(e){if(typeof e=="string")return dp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dp(e,t)}}function kq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pq(e){if(Array.isArray(e))return dp(e)}function dp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ru.apply(this,arguments)}function Yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yb(Object(r),!0).forEach(function(n){Aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aq(e,t,r){return t=Eq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Tq(e,"string");return sl(t)=="symbol"?t:t+""}function Tq(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zb(e,t){if(e==null)return{};var r=Iq(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dq=function(t){return Array.isArray(t.value)?jq(t.value):t.value};function Nn(e){var t=e.valueAccessor,r=t===void 0?Dq:t,n=Zb(e,Nq),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Zb(n,wq);return!i||!i.length?null:_.createElement(Pe,{className:"recharts-label-list"},i.map(function(m,d){var f=xe(s)?r(m,d):ht(m&&m.payload,s),y=xe(l)?{}:{id:"".concat(l,"-").concat(d)};return _.createElement(bt,Ru({},ce(m,!0),u,y,{parentViewBox:m.parentViewBox,value:f,textBreakAll:c,viewBox:bt.parseViewBox(xe(o)?m:Jb(Jb({},m),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Nn.displayName="LabelList";function Mq(e,t){return e?e===!0?_.createElement(Nn,{key:"labelList-implicit",data:t}):_.isValidElement(e)||me(e)?_.createElement(Nn,{key:"labelList-implicit",data:t,content:e}):Ns(e)?_.createElement(Nn,Ru({data:t},e,{key:"labelList-implicit"})):null:null}function $q(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=dr(n,Nn).map(function(o,l){return k.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=Mq(e.label,t);return[s].concat(Sq(i))}Nn.renderCallByParent=$q;function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){_q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _q(e,t,r){return t=Rq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=Lq(e,"string");return ol(t)=="symbol"?t:t+""}function Lq(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bq=function(t,r){var n=Ut(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},hc=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,m=c*(l?1:-1)+i,d=Math.asin(c/m)/_u,f=u?s:s+o*d,y=qe(r,n,m,f),g=qe(r,n,i,f),p=u?s-o*d:s,v=qe(r,n,m*Math.cos(d*_u),p);return{center:y,circleTangency:g,lineTangency:v,theta:d}},RC=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Bq(o,l),u=o+c,m=qe(r,n,s,o),d=qe(r,n,s,u),f="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var y=qe(r,n,i,o),g=qe(r,n,i,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},Fq=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,m=t.endAngle,d=Ut(m-u),f=hc({cx:r,cy:n,radius:s,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),y=f.circleTangency,g=f.lineTangency,p=f.theta,v=hc({cx:r,cy:n,radius:s,angle:m,sign:-d,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,j=v.lineTangency,h=v.theta,w=c?Math.abs(u-m):Math.abs(u-m)-p-h;if(w<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):RC({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:m});var x="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var N=hc({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,C=N.lineTangency,P=N.theta,A=hc({cx:r,cy:n,radius:i,angle:m,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=A.circleTangency,O=A.lineTangency,I=A.theta,T=c?Math.abs(u-m):Math.abs(u-m)-P-I;if(T<0&&o===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},Uq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LC=function(t){var r=tj(tj({},Uq),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,m=r.startAngle,d=r.endAngle,f=r.className;if(o<s||m===d)return null;var y=Ne("recharts-sector",f),g=o-s,p=Wt(l,g,0,!0),v;return p>0&&Math.abs(m-d)<360?v=Fq({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:d}):v=RC({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:m,endAngle:d}),_.createElement("path",mp({},ce(r,!0),{className:y,d:v,role:"img"}))};function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(this,arguments)}function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){Wq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wq(e,t,r){return t=qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qq(e){var t=zq(e,"string");return ll(t)=="symbol"?t:t+""}function zq(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aj={curveBasisClosed:VM,curveBasisOpen:KM,curveBasis:zM,curveBumpX:EM,curveBumpY:TM,curveLinearClosed:GM,curveLinear:Wd,curveMonotoneX:HM,curveMonotoneY:QM,curveNatural:XM,curveStep:YM,curveStepAfter:ZM,curveStepBefore:JM},pc=function(t){return t.x===+t.x&&t.y===+t.y},Hs=function(t){return t.x},Qs=function(t){return t.y},Vq=function(t,r){if(me(t))return t;var n="curve".concat(Fd(t));return(n==="curveMonotone"||n==="curveBump")&&r?aj["".concat(n).concat(r==="vertical"?"Y":"X")]:aj[n]||Wd},Kq=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,m=Vq(n,l),d=u?s.filter(function(p){return pc(p)}):s,f;if(Array.isArray(o)){var y=u?o.filter(function(p){return pc(p)}):o,g=d.map(function(p,v){return nj(nj({},p),{},{base:y[v]})});return l==="vertical"?f=ic().y(Qs).x1(Hs).x0(function(p){return p.base.x}):f=ic().x(Hs).y1(Qs).y0(function(p){return p.base.y}),f.defined(pc).curve(m),f(g)}return l==="vertical"&&X(o)?f=ic().y(Qs).x1(Hs).x0(o):X(o)?f=ic().x(Hs).y1(Qs).y0(o):f=IS().x(Hs).y(Qs),f.defined(pc).curve(m),f(d)},Lu=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Kq(t):i;return k.createElement("path",fp({},ce(t,!1),lu(t),{className:Ne("recharts-curve",r),d:o,ref:s}))},BC={exports:{}},Gq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Hq=Gq,Qq=Hq;function FC(){}function UC(){}UC.resetWarningCache=FC;var Xq=function(){function e(n,i,s,o,l,c){if(c!==Qq){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:UC,resetWarningCache:FC};return r.PropTypes=r,r};BC.exports=Xq();var Yq=BC.exports;const Te=Me(Yq);var Jq=Object.getOwnPropertyNames,Zq=Object.getOwnPropertySymbols,ez=Object.prototype.hasOwnProperty;function ij(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function xc(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,i);return s.delete(r),s.delete(n),c}}function sj(e){return Jq(e).concat(Zq(e))}var tz=Object.hasOwn||function(e,t){return ez.call(e,t)};function ni(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var rz="__v",nz="__o",az="_owner",oj=Object.getOwnPropertyDescriptor,lj=Object.keys;function iz(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function sz(e,t){return ni(e.getTime(),t.getTime())}function oz(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function lz(e,t){return e===t}function cj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),m=!1,d=0;(l=u.next())&&!l.done;){if(i[d]){d++;continue}var f=o.value,y=l.value;if(r.equals(f[0],y[0],c,d,e,t,r)&&r.equals(f[1],y[1],f[0],y[0],e,t,r)){m=i[d]=!0;break}d++}if(!m)return!1;c++}return!0}var cz=ni;function uz(e,t,r){var n=lj(e),i=n.length;if(lj(t).length!==i)return!1;for(;i-- >0;)if(!WC(e,t,r,n[i]))return!1;return!0}function Xs(e,t,r){var n=sj(e),i=n.length;if(sj(t).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!WC(e,t,r,s)||(o=oj(e,s),l=oj(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function dz(e,t){return ni(e.valueOf(),t.valueOf())}function mz(e,t){return e.source===t.source&&e.flags===t.flags}function uj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,m=0;(l=c.next())&&!l.done;){if(!i[m]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=i[m]=!0;break}m++}if(!u)return!1}return!0}function fz(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function hz(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function WC(e,t,r,n){return(n===az||n===nz||n===rz)&&(e.$$typeof||t.$$typeof)?!0:tz(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var pz="[object Arguments]",xz="[object Boolean]",yz="[object Date]",gz="[object Error]",vz="[object Map]",bz="[object Number]",jz="[object Object]",Nz="[object RegExp]",wz="[object Set]",Sz="[object String]",Cz="[object URL]",Oz=Array.isArray,dj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,mj=Object.assign,kz=Object.prototype.toString.call.bind(Object.prototype.toString);function Pz(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,m=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var b=typeof g;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?o(g,p,v):b==="function"?i(g,p,v):!1;var j=g.constructor;if(j!==p.constructor)return!1;if(j===Object)return l(g,p,v);if(Oz(g))return t(g,p,v);if(dj!=null&&dj(g))return d(g,p,v);if(j===Date)return r(g,p,v);if(j===RegExp)return u(g,p,v);if(j===Map)return s(g,p,v);if(j===Set)return m(g,p,v);var h=kz(g);return h===yz?r(g,p,v):h===Nz?u(g,p,v):h===vz?s(g,p,v):h===wz?m(g,p,v):h===jz?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,v):h===Cz?f(g,p,v):h===gz?n(g,p,v):h===pz?l(g,p,v):h===xz||h===bz||h===Sz?c(g,p,v):!1}}function Az(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Xs:iz,areDatesEqual:sz,areErrorsEqual:oz,areFunctionsEqual:lz,areMapsEqual:n?ij(cj,Xs):cj,areNumbersEqual:cz,areObjectsEqual:n?Xs:uz,arePrimitiveWrappersEqual:dz,areRegExpsEqual:mz,areSetsEqual:n?ij(uj,Xs):uj,areTypedArraysEqual:n?Xs:fz,areUrlsEqual:hz};if(r&&(i=mj({},i,r(i))),t){var s=xc(i.areArraysEqual),o=xc(i.areMapsEqual),l=xc(i.areObjectsEqual),c=xc(i.areSetsEqual);i=mj({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function Ez(e){return function(t,r,n,i,s,o,l){return e(t,r,l)}}function Tz(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(c,u){var m=n(),d=m.cache,f=d===void 0?t?new WeakMap:void 0:d,y=m.meta;return r(c,u,{cache:f,equals:i,meta:y,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var Iz=ya();ya({strict:!0});ya({circular:!0});ya({circular:!0,strict:!0});ya({createInternalComparator:function(){return ni}});ya({strict:!0,createInternalComparator:function(){return ni}});ya({circular:!0,createInternalComparator:function(){return ni}});ya({circular:!0,createInternalComparator:function(){return ni},strict:!0});function ya(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,o=s===void 0?!1:s,l=Az(e),c=Pz(l),u=n?n(c):Ez(c);return Tz({circular:r,comparator:c,createState:i,equals:u,strict:o})}function Dz(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function fj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):Dz(i)};requestAnimationFrame(n)}function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function Mz(e){return Lz(e)||Rz(e)||_z(e)||$z()}function $z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _z(e,t){if(e){if(typeof e=="string")return hj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hj(e,t)}}function hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lz(e){if(Array.isArray(e))return e}function Bz(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=Mz(o),c=l[0],u=l.slice(1);if(typeof c=="number"){fj(i.bind(null,u),c);return}i(c),fj(i.bind(null,u));return}hp(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){qC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qC(e,t,r){return t=Fz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fz(e){var t=Uz(e,"string");return cl(t)==="symbol"?t:String(t)}function Uz(e,t){if(cl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wz=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},qz=function(t){return t},zz=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},go=function(t,r){return Object.keys(r).reduce(function(n,i){return xj(xj({},n),{},qC({},i,t(i,r[i])))},{})},yj=function(t,r,n){return t.map(function(i){return"".concat(zz(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Vz(e,t){return Hz(e)||Gz(e,t)||zC(e,t)||Kz()}function Kz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Hz(e){if(Array.isArray(e))return e}function Qz(e){return Jz(e)||Yz(e)||zC(e)||Xz()}function Xz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zC(e,t){if(e){if(typeof e=="string")return pp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pp(e,t)}}function Yz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jz(e){if(Array.isArray(e))return pp(e)}function pp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bu=1e-4,VC=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},KC=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},gj=function(t,r){return function(n){var i=VC(t,r);return KC(i,n)}},Zz=function(t,r){return function(n){var i=VC(t,r),s=[].concat(Qz(i.map(function(o,l){return o*l}).slice(1)),[0]);return KC(s,n)}},vj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),m=Vz(u,4);i=m[0],s=m[1],o=m[2],l=m[3]}}}var d=gj(i,o),f=gj(s,l),y=Zz(i,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var j=b>1?1:b,h=j,w=0;w<8;++w){var x=d(h)-j,N=y(h);if(Math.abs(x-j)<Bu||N<Bu)return f(h);h=g(h-x/N)}return f(h)};return p.isStepper=!1,p},eV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(m,d,f){var y=-(m-d)*n,g=f*s,p=f+(y-g)*l/1e3,v=f*l/1e3+m;return Math.abs(v-d)<Bu&&Math.abs(p)<Bu?[d,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},tV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vj(i);case"spring":return eV();default:if(i.split("(")[0]==="cubic-bezier")return vj(i)}return typeof i=="function"?i:null};function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function bj(e){return aV(e)||nV(e)||GC(e)||rV()}function rV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aV(e){if(Array.isArray(e))return yp(e)}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){xp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xp(e,t,r){return t=iV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=sV(e,"string");return ul(t)==="symbol"?t:String(t)}function sV(e,t){if(ul(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ul(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oV(e,t){return uV(e)||cV(e,t)||GC(e,t)||lV()}function lV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GC(e,t){if(e){if(typeof e=="string")return yp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yp(e,t)}}function yp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function uV(e){if(Array.isArray(e))return e}var Fu=function(t,r,n){return t+(r-t)*n},gp=function(t){var r=t.from,n=t.to;return r!==n},dV=function e(t,r,n){var i=go(function(s,o){if(gp(o)){var l=t(o.from,o.to,o.velocity),c=oV(l,2),u=c[0],m=c[1];return Ot(Ot({},o),{},{from:u,velocity:m})}return o},r);return n<1?go(function(s,o){return gp(o)?Ot(Ot({},o),{},{velocity:Fu(o.velocity,i[s].velocity,n),from:Fu(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const mV=function(e,t,r,n,i){var s=Wz(e,t),o=s.reduce(function(v,b){return Ot(Ot({},v),{},xp({},b,[e[b],t[b]]))},{}),l=s.reduce(function(v,b){return Ot(Ot({},v),{},xp({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,m,d=function(){return null},f=function(){return go(function(b,j){return j.from},l)},y=function(){return!Object.values(l).filter(gp).length},g=function(b){u||(u=b);var j=b-u,h=j/r.dt;l=dV(r,l,h),i(Ot(Ot(Ot({},e),t),f())),u=b,y()||(c=requestAnimationFrame(d))},p=function(b){m||(m=b);var j=(b-m)/n,h=go(function(x,N){return Fu.apply(void 0,bj(N).concat([r(j)]))},o);if(i(Ot(Ot(Ot({},e),t),h)),j<1)c=requestAnimationFrame(d);else{var w=go(function(x,N){return Fu.apply(void 0,bj(N).concat([r(1)]))},o);i(Ot(Ot(Ot({},e),t),w))}};return d=r.isStepper?g:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}var fV=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hV(e,t){if(e==null)return{};var r=pV(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pV(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function yf(e){return vV(e)||gV(e)||yV(e)||xV()}function xV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yV(e,t){if(e){if(typeof e=="string")return vp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vp(e,t)}}function gV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vV(e){if(Array.isArray(e))return vp(e)}function vp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){ao(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ao(e,t,r){return t=HC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HC(n.key),n)}}function jV(e,t,r){return t&&wj(e.prototype,t),r&&wj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HC(e){var t=NV(e,"string");return Ji(t)==="symbol"?t:String(t)}function NV(e,t){if(Ji(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ji(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bp(e,t)}function bp(e,t){return bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bp(e,t)}function SV(e){var t=CV();return function(){var n=Uu(e),i;if(t){var s=Uu(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return jp(this,i)}}function jp(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Np(e)}function Np(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uu(e)}var im=function(e){wV(r,e);var t=SV(r);function r(n,i){var s;bV(this,r),s=t.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,m=o.to,d=o.steps,f=o.children,y=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Np(s)),s.changeStyle=s.changeStyle.bind(Np(s)),!l||y<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:m}),jp(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof f=="function")return s.state={style:u},jp(s);s.state={style:c?ao({},c,u):u}}else s.state={style:{}};return s}return jV(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,m=s.to,d=s.from,f=this.state.style;if(l){if(!o){var y={style:c?ao({},c,m):m};this.state&&f&&(c&&f[c]!==m||!c&&f!==m)&&this.setState(y);return}if(!(Iz(i.to,m)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?d:i.to;if(this.state&&f){var v={style:c?ao({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(v)}this.runAnimation(Ir(Ir({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,m=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,y=mV(o,l,tV(u),c,this.changeStyle),g=function(){s.stopJSAnimation=y()};this.manager.start([f,m,g,c,d])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],m=u.style,d=u.duration,f=d===void 0?0:d,y=function(p,v,b){if(b===0)return p;var j=v.duration,h=v.easing,w=h===void 0?"ease":h,x=v.style,N=v.properties,S=v.onAnimationEnd,C=b>0?o[b-1]:v,P=N||Object.keys(x);if(typeof w=="function"||w==="spring")return[].concat(yf(p),[s.runJSAnimation.bind(s,{from:C.style,to:x,duration:j,easing:w}),j]);var A=yj(P,j,w),E=Ir(Ir(Ir({},C.style),x),{},{transition:A});return[].concat(yf(p),[E,j,S]).filter(qz)};return this.manager.start([c].concat(yf(o.reduce(y,[m,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Bz());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,m=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,y=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var p=l?ao({},l,c):c,v=yj(Object.keys(p),o,u);g.start([m,s,Ir(Ir({},p),{},{transition:v}),o,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=hV(i,fV),u=k.Children.count(s),m=this.state.style;if(typeof s=="function")return s(m);if(!l||u===0||o<=0)return s;var d=function(y){var g=y.props,p=g.style,v=p===void 0?{}:p,b=g.className,j=k.cloneElement(y,Ir(Ir({},c),{},{style:Ir(Ir({},v),m),className:b}));return j};return u===1?d(k.Children.only(s)):_.createElement("div",null,k.Children.map(s,function(f){return d(f)}))}}]),r}(k.PureComponent);im.displayName="Animate";im.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};im.propTypes={from:Te.oneOfType([Te.object,Te.string]),to:Te.oneOfType([Te.object,Te.string]),attributeName:Te.string,duration:Te.number,begin:Te.number,easing:Te.oneOfType([Te.string,Te.func]),steps:Te.arrayOf(Te.shape({duration:Te.number.isRequired,style:Te.object.isRequired,easing:Te.oneOfType([Te.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Te.func]),properties:Te.arrayOf("string"),onAnimationEnd:Te.func})),children:Te.oneOfType([Te.node,Te.func]),isActive:Te.bool,canBegin:Te.bool,onAnimationEnd:Te.func,shouldReAnimate:Te.bool,onAnimationStart:Te.func,onAnimationReStart:Te.func};const Qa=im;function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(this,arguments)}function OV(e,t){return EV(e)||AV(e,t)||PV(e,t)||kV()}function kV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PV(e,t){if(e){if(typeof e=="string")return Sj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sj(e,t)}}function Sj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function EV(e){if(Array.isArray(e))return e}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){TV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TV(e,t,r){return t=IV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IV(e){var t=DV(e,"string");return dl(t)=="symbol"?t:t+""}function DV(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kj=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,m;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,y=4;f<y;f++)d[f]=s[f]>o?o:s[f];m="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(m+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),m+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(m+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),m+="L ".concat(t+n,",").concat(r+i-l*d[2]),d[2]>0&&(m+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+i)),m+="L ".concat(t+c*d[3],",").concat(r+i),d[3]>0&&(m+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*d[3])),m+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);m="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+i-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+i,`
            L `).concat(t+c*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*g," Z")}else m="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return m},MV=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),m=Math.max(s,s+l),d=Math.min(o,o+c),f=Math.max(o,o+c);return n>=u&&n<=m&&i>=d&&i<=f}return!1},$V={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},q0=function(t){var r=Oj(Oj({},$V),t),n=k.useRef(),i=k.useState(-1),s=OV(i,2),o=s[0],l=s[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,m=r.width,d=r.height,f=r.radius,y=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||m!==+m||d!==+d||m===0||d===0)return null;var h=Ne("recharts-rectangle",y);return j?_.createElement(Qa,{canBegin:o>0,from:{width:m,height:d,x:c,y:u},to:{width:m,height:d,x:c,y:u},duration:p,animationEasing:g,isActive:j},function(w){var x=w.width,N=w.height,S=w.x,C=w.y;return _.createElement(Qa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:b,easing:g},_.createElement("path",Wu({},ce(r,!0),{className:h,d:kj(S,C,x,N,f),ref:n})))}):_.createElement("path",Wu({},ce(r,!0),{className:h,d:kj(c,u,m,d,f)}))},_V=["points","className","baseLinePoints","connectNulls"];function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}function RV(e,t){if(e==null)return{};var r=LV(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pj(e){return WV(e)||UV(e)||FV(e)||BV()}function BV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FV(e,t){if(e){if(typeof e=="string")return wp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wp(e,t)}}function UV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WV(e){if(Array.isArray(e))return wp(e)}function wp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Aj=function(t){return t&&t.x===+t.x&&t.y===+t.y},qV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Aj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Aj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vo=function(t,r){var n=qV(t);r&&(n=[n.reduce(function(s,o){return[].concat(Pj(s),Pj(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},zV=function(t,r,n){var i=vo(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(vo(r.reverse(),n).slice(1))},VV=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,s=t.connectNulls,o=RV(t,_V);if(!r||!r.length)return null;var l=Ne("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=zV(r,i,s);return _.createElement("g",{className:l},_.createElement("path",Ni({},ce(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?_.createElement("path",Ni({},ce(o,!0),{fill:"none",d:vo(r,s)})):null,c?_.createElement("path",Ni({},ce(o,!0),{fill:"none",d:vo(i,s)})):null)}var m=vo(r,s);return _.createElement("path",Ni({},ce(o,!0),{fill:m.slice(-1)==="Z"?o.fill:"none",className:l,d:m}))};function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sp.apply(this,arguments)}var sm=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=Ne("recharts-dot",s);return r===+r&&n===+n&&i===+i?k.createElement("circle",Sp({},ce(t,!1),lu(t),{className:o,cx:r,cy:n,r:i})):null};function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}var KV=["x","y","top","left","width","height","className"];function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(this,arguments)}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){HV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HV(e,t,r){return t=QV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QV(e){var t=XV(e,"string");return ml(t)=="symbol"?t:t+""}function XV(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YV(e,t){if(e==null)return{};var r=JV(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ZV=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},eK=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,m=t.width,d=m===void 0?0:m,f=t.height,y=f===void 0?0:f,g=t.className,p=YV(t,KV),v=GV({x:n,y:s,top:l,left:u,width:d,height:y},p);return!X(n)||!X(s)||!X(d)||!X(y)||!X(l)||!X(u)?null:_.createElement("path",Cp({},ce(v,!0),{className:Ne("recharts-cross",g),d:ZV(n,s,d,y,l,u)}))},tK=em,rK=sC,nK=cn;function aK(e,t){return e&&e.length?tK(e,nK(t),rK):void 0}var iK=aK;const sK=Me(iK);var oK=em,lK=cn,cK=oC;function uK(e,t){return e&&e.length?oK(e,lK(t),cK):void 0}var dK=uK;const mK=Me(dK);var fK=["cx","cy","angle","ticks","axisLine"],hK=["ticks","tick","angle","tickFormatter","stroke"];function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bo.apply(this,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){om(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ij(e,t){if(e==null)return{};var r=pK(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XC(n.key),n)}}function yK(e,t,r){return t&&Dj(e.prototype,t),r&&Dj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gK(e,t,r){return t=qu(t),vK(e,QC()?Reflect.construct(t,r||[],qu(e).constructor):t.apply(e,r))}function vK(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bK(e)}function bK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QC=function(){return!!e})()}function qu(e){return qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qu(e)}function jK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Op(e,t)}function Op(e,t){return Op=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Op(e,t)}function om(e,t,r){return t=XC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XC(e){var t=NK(e,"string");return Zi(t)=="symbol"?t:t+""}function NK(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lm=function(e){function t(){return xK(this,t),gK(this,t,arguments)}return jK(t,e),yK(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return qe(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=sK(l,function(m){return m.coordinate||0}),u=mK(l,function(m){return m.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=Ij(n,fK),m=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),d=qe(i,s,m[0],o),f=qe(i,s,m[1],o),y=va(va(va({},ce(u,!1)),{},{fill:"none"},ce(c,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return _.createElement("line",bo({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,m=Ij(i,hK),d=this.getTickTextAnchor(),f=ce(m,!1),y=ce(o,!1),g=s.map(function(p,v){var b=n.getTickValueCoord(p),j=va(va(va(va({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:u},y),{},{index:v},b),{},{payload:p});return _.createElement(Pe,bo({className:Ne("recharts-polar-radius-axis-tick",$C(o)),key:"tick-".concat(p.coordinate)},Va(n.props,p,v)),t.renderTickItem(o,j,c?c(p.value,v):p.value))});return _.createElement(Pe,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:_.createElement(Pe,{className:Ne("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),bt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return _.isValidElement(n)?o=_.cloneElement(n,i):me(n)?o=n(i):o=_.createElement(Ka,bo({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(k.PureComponent);om(lm,"displayName","PolarRadiusAxis");om(lm,"axisType","radiusAxis");om(lm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(this,arguments)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){cm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JC(n.key),n)}}function SK(e,t,r){return t&&$j(e.prototype,t),r&&$j(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CK(e,t,r){return t=zu(t),OK(e,YC()?Reflect.construct(t,r||[],zu(e).constructor):t.apply(e,r))}function OK(e,t){if(t&&(es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kK(e)}function kK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YC=function(){return!!e})()}function zu(e){return zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zu(e)}function PK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kp(e,t)}function kp(e,t){return kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kp(e,t)}function cm(e,t,r){return t=JC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JC(e){var t=AK(e,"string");return es(t)=="symbol"?t:t+""}function AK(e,t){if(es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EK=Math.PI/180,_j=1e-5,um=function(e){function t(){return wK(this,t),CK(this,t,arguments)}return PK(t,e),SK(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,m=u||8,d=qe(s,o,l,n.coordinate),f=qe(s,o,l+(c==="inner"?-1:1)*m,n.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*EK),o;return s>_j?o=i==="outer"?"start":"end":s<-_j?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=ba(ba({},ce(this.props,!1)),{},{fill:"none"},ce(l,!1));if(c==="circle")return _.createElement(sm,Oa({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var m=this.props.ticks,d=m.map(function(f){return qe(i,s,o,f.coordinate)});return _.createElement(VV,Oa({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,m=ce(this.props,!1),d=ce(o,!1),f=ba(ba({},m),{},{fill:"none"},ce(l,!1)),y=s.map(function(g,p){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),j=ba(ba(ba({textAnchor:b},m),{},{stroke:"none",fill:u},d),{},{index:p,payload:g,x:v.x2,y:v.y2});return _.createElement(Pe,Oa({className:Ne("recharts-polar-angle-axis-tick",$C(o)),key:"tick-".concat(g.coordinate)},Va(n.props,g,p)),l&&_.createElement("line",Oa({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&t.renderTickItem(o,j,c?c(g.value,p):g.value))});return _.createElement(Pe,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:_.createElement(Pe,{className:Ne("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return _.isValidElement(n)?o=_.cloneElement(n,i):me(n)?o=n(i):o=_.createElement(Ka,Oa({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(k.PureComponent);cm(um,"displayName","PolarAngleAxis");cm(um,"axisType","angleAxis");cm(um,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var TK=r2,IK=TK(Object.getPrototypeOf,Object),DK=IK,MK=Dn,$K=DK,_K=Mn,RK="[object Object]",LK=Function.prototype,BK=Object.prototype,ZC=LK.toString,FK=BK.hasOwnProperty,UK=ZC.call(Object);function WK(e){if(!_K(e)||MK(e)!=RK)return!1;var t=$K(e);if(t===null)return!0;var r=FK.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ZC.call(r)==UK}var qK=WK;const zK=Me(qK);var VK=Dn,KK=Mn,GK="[object Boolean]";function HK(e){return e===!0||e===!1||KK(e)&&VK(e)==GK}var QK=HK;const XK=Me(QK);function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vu.apply(this,arguments)}function YK(e,t){return tG(e)||eG(e,t)||ZK(e,t)||JK()}function JK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZK(e,t){if(e){if(typeof e=="string")return Rj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rj(e,t)}}function Rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function tG(e){if(Array.isArray(e))return e}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){rG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rG(e,t,r){return t=nG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=aG(e,"string");return fl(t)=="symbol"?t:t+""}function aG(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fj=function(t,r,n,i,s){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},iG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sG=function(t){var r=Bj(Bj({},iG),t),n=k.useRef(),i=k.useState(-1),s=YK(i,2),o=s[0],l=s[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var h=n.current.getTotalLength();h&&l(h)}catch{}},[]);var c=r.x,u=r.y,m=r.upperWidth,d=r.lowerWidth,f=r.height,y=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||m!==+m||d!==+d||f!==+f||m===0&&d===0||f===0)return null;var j=Ne("recharts-trapezoid",y);return b?_.createElement(Qa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:m,lowerWidth:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(h){var w=h.upperWidth,x=h.lowerWidth,N=h.height,S=h.x,C=h.y;return _.createElement(Qa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},_.createElement("path",Vu({},ce(r,!0),{className:j,d:Fj(S,C,w,x,N),ref:n})))}):_.createElement("g",null,_.createElement("path",Vu({},ce(r,!0),{className:j,d:Fj(c,u,m,d,f)})))},oG=["option","shapeType","propTransformer","activeClassName","isActive"];function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function lG(e,t){if(e==null)return{};var r=cG(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return t=dG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dG(e){var t=mG(e,"string");return hl(t)=="symbol"?t:t+""}function mG(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fG(e,t){return Ku(Ku({},t),e)}function hG(e,t){return e==="symbols"}function Wj(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return _.createElement(q0,r);case"trapezoid":return _.createElement(sG,r);case"sector":return _.createElement(LC,r);case"symbols":if(hG(t))return _.createElement(l0,r);break;default:return null}}function pG(e){return k.isValidElement(e)?e.props:e}function eO(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?fG:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=lG(e,oG),u;if(k.isValidElement(t))u=k.cloneElement(t,Ku(Ku({},c),pG(t)));else if(me(t))u=t(c);else if(zK(t)&&!XK(t)){var m=i(t,c);u=_.createElement(Wj,{shapeType:r,elementProps:m})}else{var d=c;u=_.createElement(Wj,{shapeType:r,elementProps:d})}return l?_.createElement(Pe,{className:o},u):u}function dm(e,t){return t!=null&&"trapezoids"in e.props}function mm(e,t){return t!=null&&"sectors"in e.props}function pl(e,t){return t!=null&&"points"in e.props}function xG(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function yG(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function gG(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function vG(e,t){var r;return dm(e,t)?r=xG:mm(e,t)?r=yG:pl(e,t)&&(r=gG),r}function bG(e,t){var r;return dm(e,t)?r="trapezoids":mm(e,t)?r="sectors":pl(e,t)&&(r="points"),r}function jG(e,t){if(dm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(mm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return pl(e,t)?t.payload:{}}function NG(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=bG(r,t),s=jG(r,t),o=n.filter(function(c,u){var m=$l(s,c),d=r.props[i].filter(function(g){var p=vG(r,t);return p(g,t)}),f=r.props[i].indexOf(d[d.length-1]),y=u===f;return m&&y}),l=n.indexOf(o[o.length-1]);return l}var Dc;function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(this,arguments)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){jr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rO(n.key),n)}}function SG(e,t,r){return t&&zj(e.prototype,t),r&&zj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CG(e,t,r){return t=Gu(t),OG(e,tO()?Reflect.construct(t,r||[],Gu(e).constructor):t.apply(e,r))}function OG(e,t){if(t&&(ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kG(e)}function kG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tO=function(){return!!e})()}function Gu(e){return Gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gu(e)}function PG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pp(e,t)}function Pp(e,t){return Pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pp(e,t)}function jr(e,t,r){return t=rO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rO(e){var t=AG(e,"string");return ts(t)=="symbol"?t:t+""}function AG(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _n=function(e){function t(r){var n;return wG(this,t),n=CG(this,t,[r]),jr(n,"pieRef",null),jr(n,"sectorRefs",[]),jr(n,"id",Os("recharts-pie-")),jr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),me(i)&&i()}),jr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),me(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return PG(t,e),SG(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,m=ce(this.props,!1),d=ce(o,!1),f=ce(l,!1),y=o&&o.offsetRadius||20,g=n.map(function(p,v){var b=(p.startAngle+p.endAngle)/2,j=qe(p.cx,p.cy,p.outerRadius+y,b),h=Fe(Fe(Fe(Fe({},m),p),{},{stroke:"none"},d),{},{index:v,textAnchor:t.getTextAnchor(j.x,p.cx)},j),w=Fe(Fe(Fe(Fe({},m),p),{},{fill:"none",stroke:p.fill},f),{},{index:v,points:[qe(p.cx,p.cy,p.outerRadius,b),j]}),x=c;return xe(c)&&xe(u)?x="value":xe(c)&&(x=u),_.createElement(Pe,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,h,ht(p,x)))});return _.createElement(Pe,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,m){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(m),f=c&&i.hasActiveIndex()?c:null,y=d?o:f,g=Fe(Fe({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return _.createElement(Pe,wi({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Va(i.props,u,m),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(m)}),_.createElement(eO,wi({option:y,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,m=i.animationId,d=this.state,f=d.prevSectors,y=d.prevIsAnimationActive;return _.createElement(Qa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],b=s&&s[0],j=b.startAngle;return s.forEach(function(h,w){var x=f&&f[w],N=w>0?ur(h,"paddingAngle",0):0;if(x){var S=sr(x.endAngle-x.startAngle,h.endAngle-h.startAngle),C=Fe(Fe({},h),{},{startAngle:j+N,endAngle:j+S(p)+N});v.push(C),j=C.endAngle}else{var P=h.endAngle,A=h.startAngle,E=sr(0,P-A),O=E(p),I=Fe(Fe({},h),{},{startAngle:j+N,endAngle:j+O+N});v.push(I),j=I.endAngle}}),_.createElement(Pe,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!$l(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,m=i.cy,d=i.innerRadius,f=i.outerRadius,y=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!o||!o.length||!X(u)||!X(m)||!X(d)||!X(f))return null;var p=Ne("recharts-pie",l);return _.createElement(Pe,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),bt.renderCallByParent(this.props,null,!1),(!y||g)&&Nn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(_.isValidElement(n))return _.cloneElement(n,i);if(me(n))return n(i);var o=Ne("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return _.createElement(Lu,wi({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(_.isValidElement(n))return _.cloneElement(n,i);var o=s;if(me(n)&&(o=n(i),_.isValidElement(o)))return o;var l=Ne("recharts-pie-label-text",typeof n!="boolean"&&!me(n)?n.className:"");return _.createElement(Ka,wi({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(k.PureComponent);Dc=_n;jr(_n,"displayName","Pie");jr(_n,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!tn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});jr(_n,"parseDeltaAngle",function(e,t){var r=Ut(t-e),n=Math.min(Math.abs(t-e),360);return r*n});jr(_n,"getRealPieData",function(e){var t=e.data,r=e.children,n=ce(e,!1),i=dr(r,Gd);return t&&t.length?t.map(function(s,o){return Fe(Fe(Fe({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return Fe(Fe({},n),s.props)}):[]});jr(_n,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,o=MC(i,s),l=n+Wt(e.cx,i,i/2),c=r+Wt(e.cy,s,s/2),u=Wt(e.innerRadius,o,0),m=Wt(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:m,maxRadius:d}});jr(_n,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Fe(Fe({},t.type.defaultProps),t.props):t.props,i=Dc.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,m=n.nameKey,d=n.valueKey,f=n.tooltipType,y=Math.abs(n.minAngle),g=Dc.parseCoordinateOfPie(n,r),p=Dc.parseDeltaAngle(o,l),v=Math.abs(p),b=u;xe(u)&&xe(d)?(Wr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):xe(u)&&(Wr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var j=i.filter(function(C){return ht(C,b,0)!==0}).length,h=(v>=360?j:j-1)*c,w=v-j*y-h,x=i.reduce(function(C,P){var A=ht(P,b,0);return C+(X(A)?A:0)},0),N;if(x>0){var S;N=i.map(function(C,P){var A=ht(C,b,0),E=ht(C,m,P),O=(X(A)?A:0)/x,I;P?I=S.endAngle+Ut(p)*c*(A!==0?1:0):I=o;var T=I+Ut(p)*((A!==0?y:0)+O*w),M=(I+T)/2,R=(g.innerRadius+g.outerRadius)/2,W=[{name:E,value:A,payload:C,dataKey:b,type:f}],L=qe(g.cx,g.cy,R,M);return S=Fe(Fe(Fe({percent:O,cornerRadius:s,name:E,tooltipPayload:W,midAngle:M,middleRadius:R,tooltipPosition:L},C),g),{},{value:ht(C,b),startAngle:I,endAngle:T,payload:C,paddingAngle:Ut(p)*c}),S})}return Fe(Fe({},g),{},{sectors:N,data:i})});var EG=Math.ceil,TG=Math.max;function IG(e,t,r,n){for(var i=-1,s=TG(EG((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var DG=IG,MG=j2,Vj=1/0,$G=17976931348623157e292;function _G(e){if(!e)return e===0?e:0;if(e=MG(e),e===Vj||e===-Vj){var t=e<0?-1:1;return t*$G}return e===e?e:0}var nO=_G,RG=DG,LG=Kd,gf=nO;function BG(e){return function(t,r,n){return n&&typeof n!="number"&&LG(t,r,n)&&(r=n=void 0),t=gf(t),r===void 0?(r=t,t=0):r=gf(r),n=n===void 0?t<r?1:-1:gf(n),RG(t,r,n,e)}}var FG=BG,UG=FG,WG=UG(),qG=WG;const Hu=Me(qG);function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){aO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aO(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=VG(e,"string");return xl(t)=="symbol"?t:t+""}function VG(e,t){if(xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KG=["Webkit","Moz","O","ms"],GG=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=KG.reduce(function(s,o){return Gj(Gj({},s),{},aO({},o+n,r))},{});return i[t]=r,i};function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qu.apply(this,arguments)}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){nr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sO(n.key),n)}}function QG(e,t,r){return t&&Qj(e.prototype,t),r&&Qj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XG(e,t,r){return t=Xu(t),YG(e,iO()?Reflect.construct(t,r||[],Xu(e).constructor):t.apply(e,r))}function YG(e,t){if(t&&(rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JG(e)}function JG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iO=function(){return!!e})()}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xu(e)}function ZG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ap(e,t)}function Ap(e,t){return Ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ap(e,t)}function nr(e,t,r){return t=sO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sO(e){var t=eH(e,"string");return rs(t)=="symbol"?t:t+""}function eH(e,t){if(rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tH=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=xo().domain(Hu(0,c)).range([s,s+o-l]),m=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:m}},Xj=function(t){return t.changedTouches&&!!t.changedTouches.length},ns=function(e){function t(r){var n;return HG(this,t),n=XG(this,t,[r]),nr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),nr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),nr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),nr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),nr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),nr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),nr(n,"handleSlideDragStart",function(i){var s=Xj(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ZG(t,e),QG(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,m=u.length-1,d=Math.min(i,s),f=Math.max(i,s),y=t.getIndexInRange(o,d),g=t.getIndexInRange(o,f);return{startIndex:y-y%c,endIndex:g===m?m:g-g%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=ht(s[n],l,n);return me(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,m=c.width,d=c.travellerWidth,f=c.startIndex,y=c.endIndex,g=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+m-d-l,u+m-d-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==f||v.endIndex!==y)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=Xj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],m=this.props,d=m.x,f=m.width,y=m.travellerWidth,g=m.onChange,p=m.gap,v=m.data,b={startX:this.state.startX,endX:this.state.endX},j=n.pageX-s;j>0?j=Math.min(j,d+f-y-u):j<0&&(j=Math.max(j,d-u)),b[o]=u+j;var h=this.getIndex(b),w=h.startIndex,x=h.endIndex,N=function(){var C=v.length-1;return o==="startX"&&(l>c?w%p===0:x%p===0)||l<c&&x===C||o==="endX"&&(l>c?x%p===0:w%p===0)||l>c&&x===C};this.setState(nr(nr({},o,u+j),"brushMoveStartX",n.pageX),function(){g&&N()&&g(h)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,m=this.state[i],d=l.indexOf(m);if(d!==-1){var f=d+n;if(!(f===-1||f>=l.length)){var y=l[f];i==="startX"&&y>=u||i==="endX"&&y<=c||this.setState(nr({},i,y),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return _.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,m=n.padding,d=k.Children.only(u);return d?_.cloneElement(d,{x:i,y:s,width:o,height:l,margin:m,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,m=c.travellerWidth,d=c.height,f=c.traveller,y=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),j=vf(vf({},ce(this.props,!1)),{},{x:b,y:u,width:m,height:d}),h=y||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return _.createElement(Pe,{tabIndex:0,role:"slider","aria-label":h,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),l.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,j))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,m=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return _.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:m,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,m=this.state,d=m.startX,f=m.endX,y=5,g={pointerEvents:"none",fill:u};return _.createElement(Pe,{className:"recharts-brush-texts"},_.createElement(Ka,Qu({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-y,y:o+l/2},g),this.getTextOfTick(i)),_.createElement(Ka,Qu({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+c+y,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,m=n.height,d=n.alwaysShowText,f=this.state,y=f.startX,g=f.endX,p=f.isTextActive,v=f.isSlideMoving,b=f.isTravellerMoving,j=f.isTravellerFocused;if(!i||!i.length||!X(l)||!X(c)||!X(u)||!X(m)||u<=0||m<=0)return null;var h=Ne("recharts-brush",s),w=_.Children.count(o)===1,x=GG("userSelect","none");return _.createElement(Pe,{className:h,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(y,g),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||b||j||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return _.createElement(_.Fragment,null,_.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),_.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),_.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return _.isValidElement(n)?s=_.cloneElement(n,i):me(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,m=n.startIndex,d=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return vf({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?tH({data:s,width:o,x:l,travellerWidth:c,startIndex:m,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var f=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(k.PureComponent);nr(ns,"displayName","Brush");nr(ns,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rH=p0;function nH(e,t){var r;return rH(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var aH=nH,iH=HS,sH=cn,oH=aH,lH=er,cH=Kd;function uH(e,t,r){var n=lH(e)?iH:oH;return r&&cH(e,t,r)&&(t=void 0),n(e,sH(t))}var dH=uH;const mH=Me(dH);var nn=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Yj=x2;function fH(e,t,r){t=="__proto__"&&Yj?Yj(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var hH=fH,pH=hH,xH=h2,yH=cn;function gH(e,t){var r={};return t=yH(t),xH(e,function(n,i,s){pH(r,i,t(n,i,s))}),r}var vH=gH;const bH=Me(vH);function jH(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var NH=jH,wH=p0;function SH(e,t){var r=!0;return wH(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var CH=SH,OH=NH,kH=CH,PH=cn,AH=er,EH=Kd;function TH(e,t,r){var n=AH(e)?OH:kH;return r&&EH(e,t,r)&&(t=void 0),n(e,PH(t))}var IH=TH;const oO=Me(IH);var DH=["x","y"];function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(this,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){MH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MH(e,t,r){return t=$H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=_H(e,"string");return yl(t)=="symbol"?t:t+""}function _H(e,t){if(yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RH(e,t){if(e==null)return{};var r=LH(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BH(e,t){var r=e.x,n=e.y,i=RH(e,DH),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),m=parseInt(u,10),d="".concat(t.width||i.width),f=parseInt(d,10);return Ys(Ys(Ys(Ys(Ys({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:m,width:f,name:t.name,radius:t.radius})}function Zj(e){return _.createElement(eO,Ep({shapeType:"rectangle",propTransformer:BH,activeClassName:"recharts-active-bar"},e))}var FH=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=X(n)||p4(n);return s?t(n,i):(s||Ha(!1),r)}},UH=["value","background"],lO;function as(e){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function WH(e,t){if(e==null)return{};var r=qH(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(this,arguments)}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){Gn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uO(n.key),n)}}function VH(e,t,r){return t&&tN(e.prototype,t),r&&tN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KH(e,t,r){return t=Ju(t),GH(e,cO()?Reflect.construct(t,r||[],Ju(e).constructor):t.apply(e,r))}function GH(e,t){if(t&&(as(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HH(e)}function HH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!e})()}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ju(e)}function QH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tp(e,t)}function Tp(e,t){return Tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tp(e,t)}function Gn(e,t,r){return t=uO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uO(e){var t=XH(e,"string");return as(t)=="symbol"?t:t+""}function XH(e,t){if(as(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(as(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rl=function(e){function t(){var r;zH(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=KH(this,t,[].concat(i)),Gn(r,"state",{isAnimationFinished:!1}),Gn(r,"id",Os("recharts-bar-")),Gn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Gn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return QH(t,e),VH(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,m=ce(this.props,!1);return n&&n.map(function(d,f){var y=f===c,g=y?u:o,p=ot(ot(ot({},m),d),{},{isActive:y,option:g,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return _.createElement(Pe,Yu({className:"recharts-bar-rectangle"},Va(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),_.createElement(Zj,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,m=i.animationEasing,d=i.animationId,f=this.state.prevData;return _.createElement(Qa,{begin:c,duration:u,isActive:l,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t,p=s.map(function(v,b){var j=f&&f[b];if(j){var h=sr(j.x,v.x),w=sr(j.y,v.y),x=sr(j.width,v.width),N=sr(j.height,v.height);return ot(ot({},v),{},{x:h(g),y:w(g),width:x(g),height:N(g)})}if(o==="horizontal"){var S=sr(0,v.height),C=S(g);return ot(ot({},v),{},{y:v.y+v.height-C,height:C})}var P=sr(0,v.width),A=P(g);return ot(ot({},v),{},{width:A})});return _.createElement(Pe,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!$l(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=ce(this.props.background,!1);return s.map(function(u,m){u.value;var d=u.background,f=WH(u,UH);if(!d)return null;var y=ot(ot(ot(ot(ot({},f),{},{fill:"#eee"},d),c),Va(n.props,u,m)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return _.createElement(Zj,Yu({key:"background-bar-".concat(m),option:n.props.background,isActive:m===l},y))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,m=s.children,d=dr(m,_l);if(!d)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,y=function(v,b){var j=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:j,errorVal:ht(v,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return _.createElement(Pe,g,d.map(function(p){return _.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,m=n.top,d=n.width,f=n.height,y=n.isAnimationActive,g=n.background,p=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=Ne("recharts-bar",o),j=l&&l.allowDataOverflow,h=c&&c.allowDataOverflow,w=j||h,x=xe(p)?this.id:p;return _.createElement(Pe,{className:b},j||h?_.createElement("defs",null,_.createElement("clipPath",{id:"clipPath-".concat(x)},_.createElement("rect",{x:j?u:u-d/2,y:h?m:m-f/2,width:j?d:d*2,height:h?f:f*2}))):null,_.createElement(Pe,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(x,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,x),(!y||v)&&Nn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(k.PureComponent);lO=Rl;Gn(Rl,"displayName","Bar");Gn(Rl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!tn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gn(Rl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,m=e.dataStartIndex,d=e.displayedData,f=e.offset,y=TW(n,r);if(!y)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?ot(ot({},p),r.props):r.props,b=v.dataKey,j=v.children,h=v.minPointSize,w=g==="horizontal"?o:s,x=u?w.scale.domain():null,N=LW({numericAxis:w}),S=dr(j,Gd),C=d.map(function(P,A){var E,O,I,T,M,R;u?E=IW(u[m+A],x):(E=ht(P,b),Array.isArray(E)||(E=[N,E]));var W=FH(h,lO.defaultProps.minPointSize)(E[1],A);if(g==="horizontal"){var L,D=[o.scale(E[0]),o.scale(E[1])],U=D[0],F=D[1];O=qb({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:P,index:A}),I=(L=F??U)!==null&&L!==void 0?L:void 0,T=y.size;var $=U-F;if(M=Number.isNaN($)?0:$,R={x:O,y:o.y,width:T,height:o.height},Math.abs(W)>0&&Math.abs(M)<Math.abs(W)){var K=Ut(M||W)*(Math.abs(W)-Math.abs(M));I-=K,M+=K}}else{var ee=[s.scale(E[0]),s.scale(E[1])],Q=ee[0],fe=ee[1];if(O=Q,I=qb({axis:o,ticks:c,bandSize:i,offset:y.offset,entry:P,index:A}),T=fe-Q,M=y.size,R={x:s.x,y:I,width:s.width,height:M},Math.abs(W)>0&&Math.abs(T)<Math.abs(W)){var ge=Ut(T||W)*(Math.abs(W)-Math.abs(T));T+=ge}}return ot(ot(ot({},P),{},{x:O,y:I,width:T,height:M,value:u?E:E[1],payload:P,background:R},S&&S[A]&&S[A].props),{},{tooltipPayload:[IC(r,P)],tooltipPosition:{x:O+T/2,y:I+M/2}})});return ot({data:C,layout:g},f)});function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function YH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dO(n.key),n)}}function JH(e,t,r){return t&&rN(e.prototype,t),r&&rN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){fm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fm(e,t,r){return t=dO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dO(e){var t=ZH(e,"string");return gl(t)=="symbol"?t:t+""}function ZH(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eQ=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.layout,u=t.children,m=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!ir(u,Rl);return m.reduce(function(y,g){var p=r[g],v=p.orientation,b=p.domain,j=p.padding,h=j===void 0?{}:j,w=p.mirror,x=p.reversed,N="".concat(v).concat(w?"Mirror":""),S,C,P,A,E;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=b[1]-b[0],I=1/0,T=p.categoricalDomain.sort(g4);if(T.forEach(function(ee,Q){Q>0&&(I=Math.min((ee||0)-(T[Q-1]||0),I))}),Number.isFinite(I)){var M=I/O,R=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(S=M*R/2),p.padding==="no-gap"){var W=Wt(t.barCategoryGap,M*R),L=M*R/2;S=L-W-(L-W)/R*W}}}i==="xAxis"?C=[n.left+(h.left||0)+(S||0),n.left+n.width-(h.right||0)-(S||0)]:i==="yAxis"?C=c==="horizontal"?[n.top+n.height-(h.bottom||0),n.top+(h.top||0)]:[n.top+(h.top||0)+(S||0),n.top+n.height-(h.bottom||0)-(S||0)]:C=p.range,x&&(C=[C[1],C[0]]);var D=PC(p,s,f),U=D.scale,F=D.realScaleType;U.domain(b).range(C),AC(U);var $=EC(U,_r(_r({},p),{},{realScaleType:F}));i==="xAxis"?(E=v==="top"&&!w||v==="bottom"&&w,P=n.left,A=d[N]-E*p.height):i==="yAxis"&&(E=v==="left"&&!w||v==="right"&&w,P=d[N]-E*p.width,A=n.top);var K=_r(_r(_r({},p),$),{},{realScaleType:F,x:P,y:A,scale:U,width:i==="xAxis"?n.width:p.width,height:i==="yAxis"?n.height:p.height});return K.bandSize=$u(K,$),!p.hide&&i==="xAxis"?d[N]+=(E?-1:1)*K.height:p.hide||(d[N]+=(E?-1:1)*K.width),_r(_r({},y),{},fm({},g,K))},{})},mO=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},tQ=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return mO({x:r,y:n},{x:i,y:s})},fO=function(){function e(t){YH(this,e),this.scale=t}return JH(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();fm(fO,"EPS",1e-4);var z0=function(t){var r=Object.keys(t).reduce(function(n,i){return _r(_r({},n),{},fm({},i,fO.create(t[i])))},{});return _r(_r({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return bH(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return oO(i,function(s,o){return r[o].isInRange(s)})}})};function rQ(e){return(e%180+180)%180}var nQ=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=rQ(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},aQ=cn,iQ=El,sQ=zd;function oQ(e){return function(t,r,n){var i=Object(t);if(!iQ(t)){var s=aQ(r);t=sQ(t),r=function(l){return s(i[l],l,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var lQ=oQ,cQ=nO;function uQ(e){var t=cQ(e),r=t%1;return t===t?r?t-r:t:0}var dQ=uQ,mQ=l2,fQ=cn,hQ=dQ,pQ=Math.max;function xQ(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:hQ(r);return i<0&&(i=pQ(n+i,0)),mQ(e,fQ(t),i)}var yQ=xQ,gQ=lQ,vQ=yQ,bQ=gQ(vQ),jQ=bQ;const NQ=Me(jQ);var wQ=vD(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),V0=k.createContext(void 0),K0=k.createContext(void 0),hO=k.createContext(void 0),pO=k.createContext({}),xO=k.createContext(void 0),yO=k.createContext(0),gO=k.createContext(0),aN=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,m=wQ(s);return _.createElement(V0.Provider,{value:n},_.createElement(K0.Provider,{value:i},_.createElement(pO.Provider,{value:s},_.createElement(hO.Provider,{value:m},_.createElement(xO.Provider,{value:o},_.createElement(yO.Provider,{value:u},_.createElement(gO.Provider,{value:c},l)))))))},SQ=function(){return k.useContext(xO)},vO=function(t){var r=k.useContext(V0);r==null&&Ha(!1);var n=r[t];return n==null&&Ha(!1),n},CQ=function(){var t=k.useContext(V0);return qn(t)},OQ=function(){var t=k.useContext(K0),r=NQ(t,function(n){return oO(n.domain,Number.isFinite)});return r||qn(t)},bO=function(t){var r=k.useContext(K0);r==null&&Ha(!1);var n=r[t];return n==null&&Ha(!1),n},kQ=function(){var t=k.useContext(hO);return t},PQ=function(){return k.useContext(pO)},G0=function(){return k.useContext(gO)},H0=function(){return k.useContext(yO)};function is(e){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function AQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NO(n.key),n)}}function EQ(e,t,r){return t&&iN(e.prototype,t),r&&iN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TQ(e,t,r){return t=Zu(t),IQ(e,jO()?Reflect.construct(t,r||[],Zu(e).constructor):t.apply(e,r))}function IQ(e,t){if(t&&(is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DQ(e)}function DQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jO=function(){return!!e})()}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zu(e)}function MQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ip(e,t)}function Ip(e,t){return Ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ip(e,t)}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){Q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q0(e,t,r){return t=NO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NO(e){var t=$Q(e,"string");return is(t)=="symbol"?t:t+""}function $Q(e,t){if(is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Q(e,t){return FQ(e)||BQ(e,t)||LQ(e,t)||RQ()}function RQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LQ(e,t){if(e){if(typeof e=="string")return lN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(e,t)}}function lN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function FQ(e){if(Array.isArray(e))return e}function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(this,arguments)}var UQ=function(t,r){var n;return _.isValidElement(t)?n=_.cloneElement(t,r):me(t)?n=t(r):n=_.createElement("line",Dp({},r,{className:"recharts-reference-line-line"})),n},WQ=function(t,r,n,i,s,o,l,c,u){var m=s.x,d=s.y,f=s.width,y=s.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(nn(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:m+f,y:p},{x:m,y:p}];return c==="left"?v.reverse():v}if(r){var b=u.x,j=t.x.apply(b,{position:o});if(nn(u,"discard")&&!t.x.isInRange(j))return null;var h=[{x:j,y:d+y},{x:j,y:d}];return l==="top"?h.reverse():h}if(i){var w=u.segment,x=w.map(function(N){return t.apply(N,{position:o})});return nn(u,"discard")&&mH(x,function(N){return!t.isInRange(N)})?null:x}return null};function qQ(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=SQ(),m=vO(i),d=bO(s),f=kQ();if(!u||!f)return null;Wr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=z0({x:m.scale,y:d.scale}),g=xt(t),p=xt(r),v=n&&n.length===2,b=WQ(y,g,p,v,f,e.position,m.orientation,d.orientation,e);if(!b)return null;var j=_Q(b,2),h=j[0],w=h.x,x=h.y,N=j[1],S=N.x,C=N.y,P=nn(e,"hidden")?"url(#".concat(u,")"):void 0,A=oN(oN({clipPath:P},ce(e,!0)),{},{x1:w,y1:x,x2:S,y2:C});return _.createElement(Pe,{className:Ne("recharts-reference-line",l)},UQ(o,A),bt.renderCallByParent(e,tQ({x1:w,y1:x,x2:S,y2:C})))}var X0=function(e){function t(){return AQ(this,t),TQ(this,t,arguments)}return MQ(t,e),EQ(t,[{key:"render",value:function(){return _.createElement(qQ,this.props)}}])}(_.Component);Q0(X0,"displayName","ReferenceLine");Q0(X0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mp.apply(this,arguments)}function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){hm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SO(n.key),n)}}function VQ(e,t,r){return t&&dN(e.prototype,t),r&&dN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KQ(e,t,r){return t=ed(t),GQ(e,wO()?Reflect.construct(t,r||[],ed(e).constructor):t.apply(e,r))}function GQ(e,t){if(t&&(ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HQ(e)}function HQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wO=function(){return!!e})()}function ed(e){return ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ed(e)}function QQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$p(e,t)}function $p(e,t){return $p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$p(e,t)}function hm(e,t,r){return t=SO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SO(e){var t=XQ(e,"string");return ss(t)=="symbol"?t:t+""}function XQ(e,t){if(ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YQ=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=z0({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return nn(t,"discard")&&!o.isInRange(l)?null:l},pm=function(e){function t(){return zQ(this,t),KQ(this,t,arguments)}return QQ(t,e),VQ(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=xt(i),m=xt(s);if(Wr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!m)return null;var d=YQ(this.props);if(!d)return null;var f=d.x,y=d.y,g=this.props,p=g.shape,v=g.className,b=nn(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=uN(uN({clipPath:b},ce(this.props,!0)),{},{cx:f,cy:y});return _.createElement(Pe,{className:Ne("recharts-reference-dot",v)},t.renderDot(p,j),bt.renderCallByParent(this.props,{x:f-o,y:y-o,width:2*o,height:2*o}))}}])}(_.Component);hm(pm,"displayName","ReferenceDot");hm(pm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hm(pm,"renderDot",function(e,t){var r;return _.isValidElement(e)?r=_.cloneElement(e,t):me(e)?r=e(t):r=_.createElement(sm,Mp({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(this,arguments)}function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){xm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OO(n.key),n)}}function ZQ(e,t,r){return t&&hN(e.prototype,t),r&&hN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eX(e,t,r){return t=td(t),tX(e,CO()?Reflect.construct(t,r||[],td(e).constructor):t.apply(e,r))}function tX(e,t){if(t&&(os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rX(e)}function rX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!e})()}function td(e){return td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},td(e)}function nX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rp(e,t)}function Rp(e,t){return Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rp(e,t)}function xm(e,t,r){return t=OO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OO(e){var t=aX(e,"string");return os(t)=="symbol"?t:t+""}function aX(e,t){if(os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iX=function(t,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,m=s.xAxis,d=s.yAxis;if(!m||!d)return null;var f=z0({x:m.scale,y:d.scale}),y={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},g={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return nn(s,"discard")&&(!f.isInRange(y)||!f.isInRange(g))?null:mO(y,g)},ym=function(e){function t(){return JQ(this,t),eX(this,t,arguments)}return nX(t,e),ZQ(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,m=n.clipPathId;Wr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=xt(i),f=xt(s),y=xt(o),g=xt(l),p=this.props.shape;if(!d&&!f&&!y&&!g&&!p)return null;var v=iX(d,f,y,g,this.props);if(!v&&!p)return null;var b=nn(this.props,"hidden")?"url(#".concat(m,")"):void 0;return _.createElement(Pe,{className:Ne("recharts-reference-area",c)},t.renderRect(p,fN(fN({clipPath:b},ce(this.props,!0)),v)),bt.renderCallByParent(this.props,v))}}])}(_.Component);xm(ym,"displayName","ReferenceArea");xm(ym,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xm(ym,"renderRect",function(e,t){var r;return _.isValidElement(e)?r=_.cloneElement(e,t):me(e)?r=e(t):r=_.createElement(q0,_p({},t,{className:"recharts-reference-area-rect"})),r});function kO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)if(r===void 0||r(e[i])===!0)n.push(e[i]);else return;return n}function sX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return nQ(n,r)}function oX(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function rd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function lX(e,t){return kO(e,t+1)}function cX(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,m=o,d=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:kO(n,u)};var p=c,v,b=function(){return v===void 0&&(v=r(g,p)),v},j=g.coordinate,h=c===0||rd(e,j,b,m,l);h||(c=0,m=o,u+=1),h&&(m=j+e*(b()/2+i),c+=u)},f;u<=s.length;)if(f=d(),f)return f.v;return[]}function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){uX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uX(e,t,r){return t=dX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dX(e){var t=mX(e,"string");return vl(t)=="symbol"?t:t+""}function mX(e,t){if(vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fX(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(f){var y=s[f],g,p=function(){return g===void 0&&(g=r(y,f)),g};if(f===o-1){var v=e*(y.coordinate+e*p()/2-c);s[f]=y=$t($t({},y),{},{tickCoord:v>0?y.coordinate-v*e:y.coordinate})}else s[f]=y=$t($t({},y),{},{tickCoord:y.coordinate});var b=rd(e,y.tickCoord,p,l,c);b&&(c=y.tickCoord-e*(p()/2+i),s[f]=$t($t({},y),{},{isShow:!0}))},m=o-1;m>=0;m--)u(m);return s}function hX(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var m=n[l-1],d=r(m,l-1),f=e*(m.coordinate+e*d/2-u);o[l-1]=m=$t($t({},m),{},{tickCoord:f>0?m.coordinate-f*e:m.coordinate});var y=rd(e,m.tickCoord,function(){return d},c,u);y&&(u=m.tickCoord-e*(d/2+i),o[l-1]=$t($t({},m),{},{isShow:!0}))}for(var g=s?l-1:l,p=function(j){var h=o[j],w,x=function(){return w===void 0&&(w=r(h,j)),w};if(j===0){var N=e*(h.coordinate-e*x()/2-c);o[j]=h=$t($t({},h),{},{tickCoord:N<0?h.coordinate-N*e:h.coordinate})}else o[j]=h=$t($t({},h),{},{tickCoord:h.coordinate});var S=rd(e,h.tickCoord,x,c,u);S&&(c=h.tickCoord+e*(x()/2+i),o[j]=$t($t({},h),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function Y0(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,m=e.unit,d=e.angle;if(!i||!i.length||!n)return[];if(X(c)||tn.isSsr)return lX(i,typeof c=="number"&&X(c)?c:0);var f=[],y=l==="top"||l==="bottom"?"width":"height",g=m&&y==="width"?po(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(h,w){var x=me(u)?u(h.value,w):h.value;return y==="width"?sX(po(x,{fontSize:t,letterSpacing:r}),g,d):po(x,{fontSize:t,letterSpacing:r})[y]},v=i.length>=2?Ut(i[1].coordinate-i[0].coordinate):1,b=oX(s,v,y);return c==="equidistantPreserveStart"?cX(v,b,p,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=hX(v,b,p,i,o,c==="preserveStartEnd"):f=fX(v,b,p,i,o),f.filter(function(j){return j.isShow}))}var pX=["viewBox"],xX=["viewBox"],yX=["ticks"];function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(this,arguments)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){J0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bf(e,t){if(e==null)return{};var r=gX(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AO(n.key),n)}}function bX(e,t,r){return t&&yN(e.prototype,t),r&&yN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jX(e,t,r){return t=nd(t),NX(e,PO()?Reflect.construct(t,r||[],nd(e).constructor):t.apply(e,r))}function NX(e,t){if(t&&(ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wX(e)}function wX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PO=function(){return!!e})()}function nd(e){return nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nd(e)}function SX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lp(e,t)}function Lp(e,t){return Lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lp(e,t)}function J0(e,t,r){return t=AO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AO(e){var t=CX(e,"string");return ls(t)=="symbol"?t:t+""}function CX(e,t){if(ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ds=function(e){function t(r){var n;return vX(this,t),n=jX(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return SX(t,e),bX(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=bf(n,pX),l=this.props,c=l.viewBox,u=bf(l,xX);return!Ii(s,c)||!Ii(o,u)||!Ii(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,m=i.tickSize,d=i.mirror,f=i.tickMargin,y,g,p,v,b,j,h=d?-1:1,w=n.tickSize||m,x=X(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":y=g=n.coordinate,v=o+ +!d*c,p=v-h*w,j=p-h*f,b=x;break;case"left":p=v=n.coordinate,g=s+ +!d*l,y=g-h*w,b=y-h*f,j=x;break;case"right":p=v=n.coordinate,g=s+ +d*l,y=g+h*w,b=y+h*f,j=x;break;default:y=g=n.coordinate,v=o+ +d*c,p=v+h*w,j=p+h*f,b=x;break}return{line:{x1:y,y1:p,x2:g,y2:v},tick:{x:b,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,m=n.axisLine,d=dt(dt(dt({},ce(this.props,!1)),ce(m,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);d=dt(dt({},d),{},{x1:i,y1:s+f*l,x2:i+o,y2:s+f*l})}else{var y=+(c==="left"&&!u||c==="right"&&u);d=dt(dt({},d),{},{x1:i+y*o,y1:s,x2:i+y*o,y2:s+l})}return _.createElement("line",Si({},d,{className:Ne("recharts-cartesian-axis-line",ur(m,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,m=l.tick,d=l.tickFormatter,f=l.unit,y=Y0(dt(dt({},this.props),{},{ticks:n}),i,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=ce(this.props,!1),b=ce(m,!1),j=dt(dt({},v),{},{fill:"none"},ce(c,!1)),h=y.map(function(w,x){var N=o.getTickLineCoord(w),S=N.line,C=N.tick,P=dt(dt(dt(dt({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},b),C),{},{index:x,payload:w,visibleTicksCount:y.length,tickFormatter:d});return _.createElement(Pe,Si({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Va(o.props,w,x)),c&&_.createElement("line",Si({},j,S,{className:Ne("recharts-cartesian-axis-tick-line",ur(c,"className"))})),m&&t.renderTickItem(m,P,"".concat(me(d)?d(w.value,x):w.value).concat(f||"")))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks"},h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,m=i.hide;if(m)return null;var d=this.props,f=d.ticks,y=bf(d,yX),g=f;return me(c)&&(g=f&&f.length>0?c(this.props):c(y)),o<=0||l<=0||!g||!g.length?null:_.createElement(Pe,{className:Ne("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),bt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=Ne(i.className,"recharts-cartesian-axis-tick-value");return _.isValidElement(n)?o=_.cloneElement(n,dt(dt({},i),{},{className:l})):me(n)?o=n(dt(dt({},i),{},{className:l})):o=_.createElement(Ka,Si({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(k.Component);J0(Ds,"displayName","CartesianAxis");J0(Ds,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var OX=["x1","y1","x2","y2","key"],kX=["offset"];function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){PX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PX(e,t,r){return t=AX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AX(e){var t=EX(e,"string");return Xa(t)=="symbol"?t:t+""}function EX(e,t){if(Xa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Da.apply(this,arguments)}function vN(e,t){if(e==null)return{};var r=TX(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var IX=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return _.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function EO(e,t){var r;if(_.isValidElement(e))r=_.cloneElement(e,t);else if(me(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=vN(t,OX),u=ce(c,!1);u.offset;var m=vN(u,kX);r=_.createElement("line",Da({},m,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function DX(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=Rt(Rt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return EO(i,u)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function MX(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=Rt(Rt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return EO(i,u)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function $X(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var m=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,y){return f-y});i!==m[0]&&m.unshift(0);var d=m.map(function(f,y){var g=!m[y+1],p=g?i+o-f:m[y+1]-f;if(p<=0)return null;var v=y%t.length;return _.createElement("rect",{key:"react-".concat(y),y:f,x:n,height:p,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function _X(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var m=u.map(function(f){return Math.round(f+s-s)}).sort(function(f,y){return f-y});s!==m[0]&&m.unshift(0);var d=m.map(function(f,y){var g=!m[y+1],p=g?s+l-f:m[y+1]-f;if(p<=0)return null;var v=y%n.length;return _.createElement("rect",{key:"react-".concat(y),x:f,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var RX=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return kC(Y0(Rt(Rt(Rt({},Ds.defaultProps),n),{},{ticks:gn(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},LX=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return kC(Y0(Rt(Rt(Rt({},Ds.defaultProps),n),{},{ticks:gn(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},oi={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function TO(e){var t,r,n,i,s,o,l=G0(),c=H0(),u=PQ(),m=Rt(Rt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:oi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:oi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:oi.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:oi.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:oi.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:oi.verticalFill,x:X(e.x)?e.x:u.left,y:X(e.y)?e.y:u.top,width:X(e.width)?e.width:u.width,height:X(e.height)?e.height:u.height}),d=m.x,f=m.y,y=m.width,g=m.height,p=m.syncWithTicks,v=m.horizontalValues,b=m.verticalValues,j=CQ(),h=OQ();if(!X(y)||y<=0||!X(g)||g<=0||!X(d)||d!==+d||!X(f)||f!==+f)return null;var w=m.verticalCoordinatesGenerator||RX,x=m.horizontalCoordinatesGenerator||LX,N=m.horizontalPoints,S=m.verticalPoints;if((!N||!N.length)&&me(x)){var C=v&&v.length,P=x({yAxis:h?Rt(Rt({},h),{},{ticks:C?v:h.ticks}):void 0,width:l,height:c,offset:u},C?!0:p);Wr(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xa(P),"]")),Array.isArray(P)&&(N=P)}if((!S||!S.length)&&me(w)){var A=b&&b.length,E=w({xAxis:j?Rt(Rt({},j),{},{ticks:A?b:j.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);Wr(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xa(E),"]")),Array.isArray(E)&&(S=E)}return _.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(IX,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),_.createElement(DX,Da({},m,{offset:u,horizontalPoints:N,xAxis:j,yAxis:h})),_.createElement(MX,Da({},m,{offset:u,verticalPoints:S,xAxis:j,yAxis:h})),_.createElement($X,Da({},m,{horizontalPoints:N})),_.createElement(_X,Da({},m,{verticalPoints:S})))}TO.displayName="CartesianGrid";var BX=["type","layout","connectNulls","ref"],FX=["key"];function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function bN(e,t){if(e==null)return{};var r=UX(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jo.apply(this,arguments)}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){Rr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function li(e){return VX(e)||zX(e)||qX(e)||WX()}function WX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qX(e,t){if(e){if(typeof e=="string")return Bp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bp(e,t)}}function zX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VX(e){if(Array.isArray(e))return Bp(e)}function Bp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DO(n.key),n)}}function GX(e,t,r){return t&&NN(e.prototype,t),r&&NN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HX(e,t,r){return t=ad(t),QX(e,IO()?Reflect.construct(t,r||[],ad(e).constructor):t.apply(e,r))}function QX(e,t){if(t&&(cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XX(e)}function XX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IO=function(){return!!e})()}function ad(e){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ad(e)}function YX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fp(e,t)}function Fp(e,t){return Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fp(e,t)}function Rr(e,t,r){return t=DO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DO(e){var t=JX(e,"string");return cs(t)=="symbol"?t:t+""}function JX(e,t){if(cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var us=function(e){function t(){var r;KX(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=HX(this,t,[].concat(i)),Rr(r,"state",{isAnimationFinished:!0,totalLength:0}),Rr(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Rr(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,j){return b+j});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var m=Math.floor(o/u),d=o%u,f=l-o,y=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>d){y=[].concat(li(c.slice(0,g)),[d-p]);break}var v=y.length%2===0?[0,f]:[f];return[].concat(li(t.repeat(c,m)),li(y),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Rr(r,"id",Os("recharts-line-")),Rr(r,"pathRef",function(o){r.mainCurve=o}),Rr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Rr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return YX(t,e),GX(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,m=s.children,d=dr(m,_l);if(!d)return null;var f=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:ht(p.payload,v)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return _.createElement(Pe,y,d.map(function(g){return _.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,m=l.dataKey,d=ce(this.props,!1),f=ce(c,!0),y=u.map(function(p,v){var b=rr(rr(rr({key:"dot-".concat(v),r:3},d),f),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:m,payload:p.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return _.createElement(Pe,jo({className:"recharts-line-dots",key:"dots"},g),y)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,m=l.connectNulls;l.ref;var d=bN(l,BX),f=rr(rr(rr({},ce(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:m});return _.createElement(Lu,jo({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,m=o.animationBegin,d=o.animationDuration,f=o.animationEasing,y=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,b=this.state,j=b.prevPoints,h=b.totalLength;return _.createElement(Qa,{begin:m,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var x=w.t;if(j){var N=j.length/l.length,S=l.map(function(O,I){var T=Math.floor(I*N);if(j[T]){var M=j[T],R=sr(M.x,O.x),W=sr(M.y,O.y);return rr(rr({},O),{},{x:R(x),y:W(x)})}if(g){var L=sr(p*2,O.x),D=sr(v/2,O.y);return rr(rr({},O),{},{x:L(x),y:D(x)})}return rr(rr({},O),{},{x:O.x,y:O.y})});return s.renderCurveStatically(S,n,i)}var C=sr(0,h),P=C(x),A;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});A=s.getStrokeDasharray(P,h,E)}else A=s.generateSimpleStrokeDasharray(h,P);return s.renderCurveStatically(l,n,i,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,m=c.totalLength;return l&&o&&o.length&&(!u&&m>0||!$l(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,m=i.yAxis,d=i.top,f=i.left,y=i.width,g=i.height,p=i.isAnimationActive,v=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,j=l.length===1,h=Ne("recharts-line",c),w=u&&u.allowDataOverflow,x=m&&m.allowDataOverflow,N=w||x,S=xe(v)?this.id:v,C=(n=ce(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=C.r,A=P===void 0?3:P,E=C.strokeWidth,O=E===void 0?2:E,I=k4(o)?o:{},T=I.clipDot,M=T===void 0?!0:T,R=A*2+O;return _.createElement(Pe,{className:h},w||x?_.createElement("defs",null,_.createElement("clipPath",{id:"clipPath-".concat(S)},_.createElement("rect",{x:w?f:f-y/2,y:x?d:d-g/2,width:w?y:y*2,height:x?g:g*2})),!M&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:f-R/2,y:d-R/2,width:y+R,height:g+R}))):null,!j&&this.renderCurve(N,S),this.renderErrorBar(N,S),(j||o)&&this.renderDots(N,M,S),(!p||b)&&Nn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(li(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(li(o),li(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(_.isValidElement(n))s=_.cloneElement(n,i);else if(me(n))s=n(i);else{var o=i.key,l=bN(i,FX),c=Ne("recharts-line-dot",typeof n!="boolean"?n.className:"");s=_.createElement(sm,jo({key:o},l,{className:c}))}return s}}])}(k.PureComponent);Rr(us,"displayName","Line");Rr(us,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!tn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Rr(us,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,m=t.layout,d=c.map(function(f,y){var g=ht(f,o);return m==="horizontal"?{x:Wb({axis:r,ticks:i,bandSize:l,entry:f,index:y}),y:xe(g)?null:n.scale(g),value:g,payload:f}:{x:xe(g)?null:r.scale(g),y:Wb({axis:n,ticks:s,bandSize:l,entry:f,index:y}),value:g,payload:f}});return rr({points:d,layout:m},u)});function ds(e){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function ZX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_O(n.key),n)}}function eY(e,t,r){return t&&wN(e.prototype,t),r&&wN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tY(e,t,r){return t=id(t),rY(e,MO()?Reflect.construct(t,r||[],id(e).constructor):t.apply(e,r))}function rY(e,t){if(t&&(ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nY(e)}function nY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MO=function(){return!!e})()}function id(e){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},id(e)}function aY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Up(e,t)}function Up(e,t){return Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Up(e,t)}function $O(e,t,r){return t=_O(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _O(e){var t=iY(e,"string");return ds(t)=="symbol"?t:t+""}function iY(e,t){if(ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(this,arguments)}function sY(e){var t=e.xAxisId,r=G0(),n=H0(),i=vO(t);return i==null?null:k.createElement(Ds,Wp({},i,{className:Ne("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return gn(o,!0)}}))}var gm=function(e){function t(){return ZX(this,t),tY(this,t,arguments)}return aY(t,e),eY(t,[{key:"render",value:function(){return k.createElement(sY,this.props)}}])}(k.Component);$O(gm,"displayName","XAxis");$O(gm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function oY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BO(n.key),n)}}function lY(e,t,r){return t&&SN(e.prototype,t),r&&SN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cY(e,t,r){return t=sd(t),uY(e,RO()?Reflect.construct(t,r||[],sd(e).constructor):t.apply(e,r))}function uY(e,t){if(t&&(ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dY(e)}function dY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!e})()}function sd(e){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sd(e)}function mY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qp(e,t)}function qp(e,t){return qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qp(e,t)}function LO(e,t,r){return t=BO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BO(e){var t=fY(e,"string");return ms(t)=="symbol"?t:t+""}function fY(e,t){if(ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zp.apply(this,arguments)}var hY=function(t){var r=t.yAxisId,n=G0(),i=H0(),s=bO(r);return s==null?null:k.createElement(Ds,zp({},s,{className:Ne("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return gn(l,!0)}}))},vm=function(e){function t(){return oY(this,t),cY(this,t,arguments)}return mY(t,e),lY(t,[{key:"render",value:function(){return k.createElement(hY,this.props)}}])}(k.Component);LO(vm,"displayName","YAxis");LO(vm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function CN(e){return gY(e)||yY(e)||xY(e)||pY()}function pY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xY(e,t){if(e){if(typeof e=="string")return Vp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vp(e,t)}}function yY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gY(e){if(Array.isArray(e))return Vp(e)}function Vp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kp=function(t,r,n,i,s){var o=dr(t,X0),l=dr(t,pm),c=[].concat(CN(o),CN(l)),u=dr(t,ym),m="".concat(i,"Id"),d=i[0],f=r;if(c.length&&(f=c.reduce(function(p,v){if(v.props[m]===n&&nn(v.props,"extendDomain")&&X(v.props[d])){var b=v.props[d];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},f)),u.length){var y="".concat(d,"1"),g="".concat(d,"2");f=u.reduce(function(p,v){if(v.props[m]===n&&nn(v.props,"extendDomain")&&X(v.props[y])&&X(v.props[g])){var b=v.props[y],j=v.props[g];return[Math.min(p[0],b,j),Math.max(p[1],b,j)]}return p},f)}return s&&s.length&&(f=s.reduce(function(p,v){return X(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},f)),f},FO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,m){this.fn=c,this.context=u,this.once=m||!1}function s(c,u,m,d,f){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new i(m,d||c,f),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],y]:c._events[g].push(y):(c._events[g]=y,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],m,d;if(this._eventsCount===0)return u;for(d in m=this._events)t.call(m,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(m)):u},l.prototype.listeners=function(u){var m=r?r+u:u,d=this._events[m];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,y=d.length,g=new Array(y);f<y;f++)g[f]=d[f].fn;return g},l.prototype.listenerCount=function(u){var m=r?r+u:u,d=this._events[m];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,m,d,f,y,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,j,h;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,m),!0;case 3:return v.fn.call(v.context,m,d),!0;case 4:return v.fn.call(v.context,m,d,f),!0;case 5:return v.fn.call(v.context,m,d,f,y),!0;case 6:return v.fn.call(v.context,m,d,f,y,g),!0}for(h=1,j=new Array(b-1);h<b;h++)j[h-1]=arguments[h];v.fn.apply(v.context,j)}else{var w=v.length,x;for(h=0;h<w;h++)switch(v[h].once&&this.removeListener(u,v[h].fn,void 0,!0),b){case 1:v[h].fn.call(v[h].context);break;case 2:v[h].fn.call(v[h].context,m);break;case 3:v[h].fn.call(v[h].context,m,d);break;case 4:v[h].fn.call(v[h].context,m,d,f);break;default:if(!j)for(x=1,j=new Array(b-1);x<b;x++)j[x-1]=arguments[x];v[h].fn.apply(v[h].context,j)}}return!0},l.prototype.on=function(u,m,d){return s(this,u,m,d,!1)},l.prototype.once=function(u,m,d){return s(this,u,m,d,!0)},l.prototype.removeListener=function(u,m,d,f){var y=r?r+u:u;if(!this._events[y])return this;if(!m)return o(this,y),this;var g=this._events[y];if(g.fn)g.fn===m&&(!f||g.once)&&(!d||g.context===d)&&o(this,y);else{for(var p=0,v=[],b=g.length;p<b;p++)(g[p].fn!==m||f&&!g[p].once||d&&g[p].context!==d)&&v.push(g[p]);v.length?this._events[y]=v.length===1?v[0]:v:o(this,y)}return this},l.prototype.removeAllListeners=function(u){var m;return u?(m=r?r+u:u,this._events[m]&&o(this,m)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(FO);var vY=FO.exports;const bY=Me(vY);var jf=new bY,Nf="recharts.syncMouseEvents";function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function jY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ON(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UO(n.key),n)}}function NY(e,t,r){return t&&ON(e.prototype,t),r&&ON(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wf(e,t,r){return t=UO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UO(e){var t=wY(e,"string");return bl(t)=="symbol"?t:t+""}function wY(e,t){if(bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SY=function(){function e(){jY(this,e),wf(this,"activeIndex",0),wf(this,"coordinateList",[]),wf(this,"layout","horizontal")}return NY(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,m=r.offset,d=m===void 0?null:m,f=r.mouseHandlerCallback,y=f===void 0?null:f;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+c+u,f=o+this.offset.top+l/2+m;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function CY(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&X(n)&&X(i))return!0}return!1}function OY(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function WO(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=qe(t,r,n,i),l=qe(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function kY(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,m=t.outerRadius,d=t.angle,f=qe(l,c,u,d),y=qe(l,c,m,d);n=f.x,i=f.y,s=y.x,o=y.y}else return WO(t);return[{x:n,y:i},{x:s,y:o}]}function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return t=AY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AY(e){var t=EY(e,"string");return jl(t)=="symbol"?t:t+""}function EY(e,t){if(jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TY(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,m=e.tooltipAxisBandSize,d=e.layout,f=e.chartName,y=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!s||!o||f!=="ScatterChart"&&i!=="axis")return null;var g,p=Lu;if(f==="ScatterChart")g=o,p=eK;else if(f==="BarChart")g=OY(d,o,c,m),p=q0;else if(d==="radial"){var v=WO(o),b=v.cx,j=v.cy,h=v.radius,w=v.startAngle,x=v.endAngle;g={cx:b,cy:j,startAngle:w,endAngle:x,innerRadius:h,outerRadius:h},p=LC}else g={points:kY(d,o,c)},p=Lu;var N=yc(yc(yc(yc({stroke:"#ccc",pointerEvents:"none"},c),g),ce(y,!1)),{},{payload:l,payloadIndex:u,className:Ne("recharts-tooltip-cursor",y.className)});return k.isValidElement(y)?k.cloneElement(y,N):k.createElement(p,N)}var IY=["item"],DY=["children","className","width","height","style","compact","title","desc"];function fs(e){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}function PN(e,t){return _Y(e)||$Y(e,t)||zO(e,t)||MY()}function MY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Y(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(m){u=!0,i=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _Y(e){if(Array.isArray(e))return e}function AN(e,t){if(e==null)return{};var r=RY(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VO(n.key),n)}}function BY(e,t,r){return t&&EN(e.prototype,t),r&&EN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FY(e,t,r){return t=od(t),UY(e,qO()?Reflect.construct(t,r||[],od(e).constructor):t.apply(e,r))}function UY(e,t){if(t&&(fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WY(e)}function WY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qO=function(){return!!e})()}function od(e){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},od(e)}function qY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gp(e,t)}function Gp(e,t){return Gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gp(e,t)}function hs(e){return KY(e)||VY(e)||zO(e)||zY()}function zY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zO(e,t){if(e){if(typeof e=="string")return Hp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hp(e,t)}}function VY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KY(e){if(Array.isArray(e))return Hp(e)}function Hp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ue(e,t,r){return t=VO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VO(e){var t=GY(e,"string");return fs(t)=="symbol"?t:t+""}function GY(e,t){if(fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HY={xAxis:["bottom","top"],yAxis:["left","right"]},QY={width:"100%",height:"100%"},KO={x:0,y:0};function gc(e){return e}var XY=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},YY=function(t,r,n,i){var s=r.find(function(m){return m&&m.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return V(V(V({},i),qe(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return V(V(V({},i),qe(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return KO},bm=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(hs(l),hs(u)):l},[]);return o.length>0?o:t&&t.length&&X(i)&&X(s)?t.slice(i,s+1):[]};function GO(e){return e==="number"?[0,"auto"]:void 0}var Qp=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,l=bm(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var m,d=(m=u.props.data)!==null&&m!==void 0?m:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var y=d===void 0?l:d;f=ou(y,o.dataKey,i)}else f=d&&d[n]||l[n];return f?[].concat(hs(c),[IC(u,f)]):c},[])},IN=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=XY(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,m=CW(o,l,u,c);if(m>=0&&u){var d=u[m]&&u[m].value,f=Qp(t,r,m,d),y=YY(n,l,m,s);return{activeTooltipIndex:m,activeLabel:d,activePayload:f,activeCoordinate:y}}return null},JY=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,m=t.layout,d=t.children,f=t.stackOffset,y=OC(m,s);return n.reduce(function(g,p){var v,b=p.type.defaultProps!==void 0?V(V({},p.type.defaultProps),p.props):p.props,j=b.type,h=b.dataKey,w=b.allowDataOverflow,x=b.allowDuplicatedCategory,N=b.scale,S=b.ticks,C=b.includeHidden,P=b[o];if(g[P])return g;var A=bm(t.data,{graphicalItems:i.filter(function($){var K,ee=o in $.props?$.props[o]:(K=$.type.defaultProps)===null||K===void 0?void 0:K[o];return ee===P}),dataStartIndex:c,dataEndIndex:u}),E=A.length,O,I,T;CY(b.domain,w,j)&&(O=cp(b.domain,null,w),y&&(j==="number"||N!=="auto")&&(T=yo(A,h,"category")));var M=GO(j);if(!O||O.length===0){var R,W=(R=b.domain)!==null&&R!==void 0?R:M;if(h){if(O=yo(A,h,j),j==="category"&&y){var L=y4(O);x&&L?(I=O,O=Hu(0,E)):x||(O=Kb(W,O,p).reduce(function($,K){return $.indexOf(K)>=0?$:[].concat(hs($),[K])},[]))}else if(j==="category")x?O=O.filter(function($){return $!==""&&!xe($)}):O=Kb(W,O,p).reduce(function($,K){return $.indexOf(K)>=0||K===""||xe(K)?$:[].concat(hs($),[K])},[]);else if(j==="number"){var D=EW(A,i.filter(function($){var K,ee,Q=o in $.props?$.props[o]:(K=$.type.defaultProps)===null||K===void 0?void 0:K[o],fe="hide"in $.props?$.props.hide:(ee=$.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return Q===P&&(C||!fe)}),h,s,m);D&&(O=D)}y&&(j==="number"||N!=="auto")&&(T=yo(A,h,"category"))}else y?O=Hu(0,E):l&&l[P]&&l[P].hasStack&&j==="number"?O=f==="expand"?[0,1]:TC(l[P].stackGroups,c,u):O=CC(A,i.filter(function($){var K=o in $.props?$.props[o]:$.type.defaultProps[o],ee="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return K===P&&(C||!ee)}),j,m,!0);if(j==="number")O=Kp(d,O,P,s,S),W&&(O=cp(W,O,w));else if(j==="category"&&W){var U=W,F=O.every(function($){return U.indexOf($)>=0});F&&(O=U)}}return V(V({},g),{},ue({},P,V(V({},b),{},{axisType:s,domain:O,categoricalDomain:T,duplicateDomain:I,originalDomain:(v=b.domain)!==null&&v!==void 0?v:M,isCategorical:y,layout:m})))},{})},ZY=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,m=t.layout,d=t.children,f=bm(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),y=f.length,g=OC(m,s),p=-1;return n.reduce(function(v,b){var j=b.type.defaultProps!==void 0?V(V({},b.type.defaultProps),b.props):b.props,h=j[o],w=GO("number");if(!v[h]){p++;var x;return g?x=Hu(0,y):l&&l[h]&&l[h].hasStack?(x=TC(l[h].stackGroups,c,u),x=Kp(d,x,h,s)):(x=cp(w,CC(f,n.filter(function(N){var S,C,P=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],A="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===h&&!A}),"number",m),i.defaultProps.allowDataOverflow),x=Kp(d,x,h,s)),V(V({},v),{},ue({},h,V(V({axisType:s},i.defaultProps),{},{hide:!0,orientation:ur(HY,"".concat(s,".").concat(p%2),null),domain:x,originalDomain:w,isCategorical:g,layout:m})))}return v},{})},eJ=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,m=t.children,d="".concat(i,"Id"),f=dr(m,s),y={};return f&&f.length?y=JY(t,{axes:f,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(y=ZY(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),y},tJ=function(t){var r=qn(t),n=gn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:x0(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:$u(r,n)}},DN=function(t){var r=t.children,n=t.defaultShowTooltip,i=ir(r,ns),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},rJ=function(t){return!t||!t.length?!1:t.some(function(r){var n=bn(r&&r.type);return n&&n.indexOf("Bar")>=0})},MN=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nJ=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,m=n.height,d=n.children,f=n.margin||{},y=ir(d,ns),g=ir(d,Di),p=Object.keys(c).reduce(function(x,N){var S=c[N],C=S.orientation;return!S.mirror&&!S.hide?V(V({},x),{},ue({},C,x[C]+S.width)):x},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(x,N){var S=o[N],C=S.orientation;return!S.mirror&&!S.hide?V(V({},x),{},ue({},C,ur(x,"".concat(C))+S.height)):x},{top:f.top||0,bottom:f.bottom||0}),b=V(V({},v),p),j=b.bottom;y&&(b.bottom+=y.props.height||ns.defaultProps.height),g&&r&&(b=PW(b,i,n,r));var h=u-b.left-b.right,w=m-b.top-b.bottom;return V(V({brushBottom:j},b),{},{width:Math.max(h,0),height:Math.max(w,0)})},aJ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},HO=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,m=t.formatAxisMap,d=t.defaultProps,f=function(b,j){var h=j.graphicalItems,w=j.stackGroups,x=j.offset,N=j.updateId,S=j.dataStartIndex,C=j.dataEndIndex,P=b.barSize,A=b.layout,E=b.barGap,O=b.barCategoryGap,I=b.maxBarSize,T=MN(A),M=T.numericAxisName,R=T.cateAxisName,W=rJ(h),L=[];return h.forEach(function(D,U){var F=bm(b.data,{graphicalItems:[D],dataStartIndex:S,dataEndIndex:C}),$=D.type.defaultProps!==void 0?V(V({},D.type.defaultProps),D.props):D.props,K=$.dataKey,ee=$.maxBarSize,Q=$["".concat(M,"Id")],fe=$["".concat(R,"Id")],ge={},Ie=c.reduce(function(te,oe){var Le=j["".concat(oe.axisType,"Map")],se=$["".concat(oe.axisType,"Id")];Le&&Le[se]||oe.axisType==="zAxis"||Ha(!1);var de=Le[se];return V(V({},te),{},ue(ue({},oe.axisType,de),"".concat(oe.axisType,"Ticks"),gn(de)))},ge),J=Ie[R],ie=Ie["".concat(R,"Ticks")],re=w&&w[Q]&&w[Q].hasStack&&BW(D,w[Q].stackGroups),G=bn(D.type).indexOf("Bar")>=0,we=$u(J,ie),be=[],je=W&&OW({barSize:P,stackGroups:w,totalSize:aJ(Ie,R)});if(G){var z,q,B=xe(ee)?I:ee,Y=(z=(q=$u(J,ie,!0))!==null&&q!==void 0?q:B)!==null&&z!==void 0?z:0;be=kW({barGap:E,barCategoryGap:O,bandSize:Y!==we?Y:we,sizeList:je[fe],maxBarSize:B}),Y!==we&&(be=be.map(function(te){return V(V({},te),{},{position:V(V({},te.position),{},{offset:te.position.offset-Y/2})})}))}var Z=D&&D.type&&D.type.getComposedData;Z&&L.push({props:V(V({},Z(V(V({},Ie),{},{displayedData:F,props:b,dataKey:K,item:D,bandSize:we,barPosition:be,offset:x,stackedData:re,layout:A,dataStartIndex:S,dataEndIndex:C}))),{},ue(ue(ue({key:D.key||"item-".concat(U)},M,Ie[M]),R,Ie[R]),"animationId",N)),childIndex:E4(D,b.children),item:D})}),L},y=function(b,j){var h=b.props,w=b.dataStartIndex,x=b.dataEndIndex,N=b.updateId;if(!Mg({props:h}))return null;var S=h.children,C=h.layout,P=h.stackOffset,A=h.data,E=h.reverseStackOrder,O=MN(C),I=O.numericAxisName,T=O.cateAxisName,M=dr(S,n),R=RW(A,M,"".concat(I,"Id"),"".concat(T,"Id"),P,E),W=c.reduce(function($,K){var ee="".concat(K.axisType,"Map");return V(V({},$),{},ue({},ee,eJ(h,V(V({},K),{},{graphicalItems:M,stackGroups:K.axisType===I&&R,dataStartIndex:w,dataEndIndex:x}))))},{}),L=nJ(V(V({},W),{},{props:h,graphicalItems:M}),j==null?void 0:j.legendBBox);Object.keys(W).forEach(function($){W[$]=m(h,W[$],L,$.replace("Map",""),r)});var D=W["".concat(T,"Map")],U=tJ(D),F=f(h,V(V({},W),{},{dataStartIndex:w,dataEndIndex:x,updateId:N,graphicalItems:M,stackGroups:R,offset:L}));return V(V({formattedGraphicalItems:F,graphicalItems:M,offset:L,stackGroups:R},U),W)},g=function(v){function b(j){var h,w,x;return LY(this,b),x=FY(this,b,[j]),ue(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ue(x,"accessibilityManager",new SY),ue(x,"handleLegendBBoxUpdate",function(N){if(N){var S=x.state,C=S.dataStartIndex,P=S.dataEndIndex,A=S.updateId;x.setState(V({legendBBox:N},y({props:x.props,dataStartIndex:C,dataEndIndex:P,updateId:A},V(V({},x.state),{},{legendBBox:N}))))}}),ue(x,"handleReceiveSyncEvent",function(N,S,C){if(x.props.syncId===N){if(C===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(S)}}),ue(x,"handleBrushChange",function(N){var S=N.startIndex,C=N.endIndex;if(S!==x.state.dataStartIndex||C!==x.state.dataEndIndex){var P=x.state.updateId;x.setState(function(){return V({dataStartIndex:S,dataEndIndex:C},y({props:x.props,dataStartIndex:S,dataEndIndex:C,updateId:P},x.state))}),x.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),ue(x,"handleMouseEnter",function(N){var S=x.getMouseInfo(N);if(S){var C=V(V({},S),{},{isTooltipActive:!0});x.setState(C),x.triggerSyncEvent(C);var P=x.props.onMouseEnter;me(P)&&P(C,N)}}),ue(x,"triggeredAfterMouseMove",function(N){var S=x.getMouseInfo(N),C=S?V(V({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(C),x.triggerSyncEvent(C);var P=x.props.onMouseMove;me(P)&&P(C,N)}),ue(x,"handleItemMouseEnter",function(N){x.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),ue(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),ue(x,"handleMouseMove",function(N){N.persist(),x.throttleTriggeredAfterMouseMove(N)}),ue(x,"handleMouseLeave",function(N){x.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};x.setState(S),x.triggerSyncEvent(S);var C=x.props.onMouseLeave;me(C)&&C(S,N)}),ue(x,"handleOuterEvent",function(N){var S=A4(N),C=ur(x.props,"".concat(S));if(S&&me(C)){var P,A;/.*touch.*/i.test(S)?A=x.getMouseInfo(N.changedTouches[0]):A=x.getMouseInfo(N),C((P=A)!==null&&P!==void 0?P:{},N)}}),ue(x,"handleClick",function(N){var S=x.getMouseInfo(N);if(S){var C=V(V({},S),{},{isTooltipActive:!0});x.setState(C),x.triggerSyncEvent(C);var P=x.props.onClick;me(P)&&P(C,N)}}),ue(x,"handleMouseDown",function(N){var S=x.props.onMouseDown;if(me(S)){var C=x.getMouseInfo(N);S(C,N)}}),ue(x,"handleMouseUp",function(N){var S=x.props.onMouseUp;if(me(S)){var C=x.getMouseInfo(N);S(C,N)}}),ue(x,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),ue(x,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.handleMouseDown(N.changedTouches[0])}),ue(x,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&x.handleMouseUp(N.changedTouches[0])}),ue(x,"handleDoubleClick",function(N){var S=x.props.onDoubleClick;if(me(S)){var C=x.getMouseInfo(N);S(C,N)}}),ue(x,"handleContextMenu",function(N){var S=x.props.onContextMenu;if(me(S)){var C=x.getMouseInfo(N);S(C,N)}}),ue(x,"triggerSyncEvent",function(N){x.props.syncId!==void 0&&jf.emit(Nf,x.props.syncId,N,x.eventEmitterSymbol)}),ue(x,"applySyncEvent",function(N){var S=x.props,C=S.layout,P=S.syncMethod,A=x.state.updateId,E=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)x.setState(V({dataStartIndex:E,dataEndIndex:O},y({props:x.props,dataStartIndex:E,dataEndIndex:O,updateId:A},x.state)));else if(N.activeTooltipIndex!==void 0){var I=N.chartX,T=N.chartY,M=N.activeTooltipIndex,R=x.state,W=R.offset,L=R.tooltipTicks;if(!W)return;if(typeof P=="function")M=P(L,N);else if(P==="value"){M=-1;for(var D=0;D<L.length;D++)if(L[D].value===N.activeLabel){M=D;break}}var U=V(V({},W),{},{x:W.left,y:W.top}),F=Math.min(I,U.x+U.width),$=Math.min(T,U.y+U.height),K=L[M]&&L[M].value,ee=Qp(x.state,x.props.data,M),Q=L[M]?{x:C==="horizontal"?L[M].coordinate:F,y:C==="horizontal"?$:L[M].coordinate}:KO;x.setState(V(V({},N),{},{activeLabel:K,activeCoordinate:Q,activePayload:ee,activeTooltipIndex:M}))}else x.setState(N)}),ue(x,"renderCursor",function(N){var S,C=x.state,P=C.isTooltipActive,A=C.activeCoordinate,E=C.activePayload,O=C.offset,I=C.activeTooltipIndex,T=C.tooltipAxisBandSize,M=x.getTooltipEventType(),R=(S=N.props.active)!==null&&S!==void 0?S:P,W=x.props.layout,L=N.key||"_recharts-cursor";return _.createElement(TY,{key:L,activeCoordinate:A,activePayload:E,activeTooltipIndex:I,chartName:r,element:N,isActive:R,layout:W,offset:O,tooltipAxisBandSize:T,tooltipEventType:M})}),ue(x,"renderPolarAxis",function(N,S,C){var P=ur(N,"type.axisType"),A=ur(x.state,"".concat(P,"Map")),E=N.type.defaultProps,O=E!==void 0?V(V({},E),N.props):N.props,I=A&&A[O["".concat(P,"Id")]];return k.cloneElement(N,V(V({},I),{},{className:Ne(P,I.className),key:N.key||"".concat(S,"-").concat(C),ticks:gn(I,!0)}))}),ue(x,"renderPolarGrid",function(N){var S=N.props,C=S.radialLines,P=S.polarAngles,A=S.polarRadius,E=x.state,O=E.radiusAxisMap,I=E.angleAxisMap,T=qn(O),M=qn(I),R=M.cx,W=M.cy,L=M.innerRadius,D=M.outerRadius;return k.cloneElement(N,{polarAngles:Array.isArray(P)?P:gn(M,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(A)?A:gn(T,!0).map(function(U){return U.coordinate}),cx:R,cy:W,innerRadius:L,outerRadius:D,key:N.key||"polar-grid",radialLines:C})}),ue(x,"renderLegend",function(){var N=x.state.formattedGraphicalItems,S=x.props,C=S.children,P=S.width,A=S.height,E=x.props.margin||{},O=P-(E.left||0)-(E.right||0),I=wC({children:C,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!I)return null;var T=I.item,M=AN(I,IY);return k.cloneElement(T,V(V({},M),{},{chartWidth:P,chartHeight:A,margin:E,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),ue(x,"renderTooltip",function(){var N,S=x.props,C=S.children,P=S.accessibilityLayer,A=ir(C,$r);if(!A)return null;var E=x.state,O=E.isTooltipActive,I=E.activeCoordinate,T=E.activePayload,M=E.activeLabel,R=E.offset,W=(N=A.props.active)!==null&&N!==void 0?N:O;return k.cloneElement(A,{viewBox:V(V({},R),{},{x:R.left,y:R.top}),active:W,label:M,payload:W?T:[],coordinate:I,accessibilityLayer:P})}),ue(x,"renderBrush",function(N){var S=x.props,C=S.margin,P=S.data,A=x.state,E=A.offset,O=A.dataStartIndex,I=A.dataEndIndex,T=A.updateId;return k.cloneElement(N,{key:N.key||"_recharts-brush",onChange:fc(x.handleBrushChange,N.props.onChange),data:P,x:X(N.props.x)?N.props.x:E.left,y:X(N.props.y)?N.props.y:E.top+E.height+E.brushBottom-(C.bottom||0),width:X(N.props.width)?N.props.width:E.width,startIndex:O,endIndex:I,updateId:"brush-".concat(T)})}),ue(x,"renderReferenceElement",function(N,S,C){if(!N)return null;var P=x,A=P.clipPathId,E=x.state,O=E.xAxisMap,I=E.yAxisMap,T=E.offset,M=N.type.defaultProps||{},R=N.props,W=R.xAxisId,L=W===void 0?M.xAxisId:W,D=R.yAxisId,U=D===void 0?M.yAxisId:D;return k.cloneElement(N,{key:N.key||"".concat(S,"-").concat(C),xAxis:O[L],yAxis:I[U],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:A})}),ue(x,"renderActivePoints",function(N){var S=N.item,C=N.activePoint,P=N.basePoint,A=N.childIndex,E=N.isRange,O=[],I=S.props.key,T=S.item.type.defaultProps!==void 0?V(V({},S.item.type.defaultProps),S.item.props):S.item.props,M=T.activeDot,R=T.dataKey,W=V(V({index:A,dataKey:R,cx:C.x,cy:C.y,r:4,fill:W0(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ce(M,!1)),lu(M));return O.push(b.renderActiveDot(M,W,"".concat(I,"-activePoint-").concat(A))),P?O.push(b.renderActiveDot(M,V(V({},W),{},{cx:P.x,cy:P.y}),"".concat(I,"-basePoint-").concat(A))):E&&O.push(null),O}),ue(x,"renderGraphicChild",function(N,S,C){var P=x.filterFormatItem(N,S,C);if(!P)return null;var A=x.getTooltipEventType(),E=x.state,O=E.isTooltipActive,I=E.tooltipAxis,T=E.activeTooltipIndex,M=E.activeLabel,R=x.props.children,W=ir(R,$r),L=P.props,D=L.points,U=L.isRange,F=L.baseLine,$=P.item.type.defaultProps!==void 0?V(V({},P.item.type.defaultProps),P.item.props):P.item.props,K=$.activeDot,ee=$.hide,Q=$.activeBar,fe=$.activeShape,ge=!!(!ee&&O&&W&&(K||Q||fe)),Ie={};A!=="axis"&&W&&W.props.trigger==="click"?Ie={onClick:fc(x.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(Ie={onMouseLeave:fc(x.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:fc(x.handleItemMouseEnter,N.props.onMouseEnter)});var J=k.cloneElement(N,V(V({},P.props),Ie));function ie(oe){return typeof I.dataKey=="function"?I.dataKey(oe.payload):null}if(ge)if(T>=0){var re,G;if(I.dataKey&&!I.allowDuplicatedCategory){var we=typeof I.dataKey=="function"?ie:"payload.".concat(I.dataKey.toString());re=ou(D,we,M),G=U&&F&&ou(F,we,M)}else re=D==null?void 0:D[T],G=U&&F&&F[T];if(fe||Q){var be=N.props.activeIndex!==void 0?N.props.activeIndex:T;return[k.cloneElement(N,V(V(V({},P.props),Ie),{},{activeIndex:be})),null,null]}if(!xe(re))return[J].concat(hs(x.renderActivePoints({item:P,activePoint:re,basePoint:G,childIndex:T,isRange:U})))}else{var je,z=(je=x.getItemByXY(x.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:J},q=z.graphicalItem,B=q.item,Y=B===void 0?N:B,Z=q.childIndex,te=V(V(V({},P.props),Ie),{},{activeIndex:Z});return[k.cloneElement(Y,te),null,null]}return U?[J,null,null]:[J,null]}),ue(x,"renderCustomized",function(N,S,C){return k.cloneElement(N,V(V({key:"recharts-customized-".concat(C)},x.props),x.state))}),ue(x,"renderMap",{CartesianGrid:{handler:gc,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:gc},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:gc},YAxis:{handler:gc},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((h=j.id)!==null&&h!==void 0?h:Os("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=N2(x.triggeredAfterMouseMove,(w=j.throttleDelay)!==null&&w!==void 0?w:1e3/60),x.state={},x}return qY(b,v),BY(b,[{key:"componentDidMount",value:function(){var h,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(h=this.props.margin.left)!==null&&h!==void 0?h:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var h=this.props,w=h.children,x=h.data,N=h.height,S=h.layout,C=ir(w,$r);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,E=Qp(this.state,x,P,A),O=this.state.tooltipTicks[P].coordinate,I=(this.state.offset.top+N)/2,T=S==="horizontal",M=T?{x:O,y:I}:{y:O,x:I},R=this.state.formattedGraphicalItems.find(function(L){var D=L.item;return D.type.name==="Scatter"});R&&(M=V(V({},M),R.props.points[P].tooltipPosition),E=R.props.points[P].tooltipPayload);var W={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:A,activePayload:E,activeCoordinate:M};this.setState(W),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(h,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==h.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==h.margin){var x,N;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(h){Sh([ir(h.children,$r)],[ir(this.props.children,$r)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var h=ir(this.props.children,$r);if(h&&typeof h.props.shared=="boolean"){var w=h.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(h){if(!this.container)return null;var w=this.container,x=w.getBoundingClientRect(),N=ZF(x),S={chartX:Math.round(h.pageX-N.left),chartY:Math.round(h.pageY-N.top)},C=x.width/w.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,C);if(!P)return null;var A=this.state,E=A.xAxisMap,O=A.yAxisMap,I=this.getTooltipEventType(),T=IN(this.state,this.props.data,this.props.layout,P);if(I!=="axis"&&E&&O){var M=qn(E).scale,R=qn(O).scale,W=M&&M.invert?M.invert(S.chartX):null,L=R&&R.invert?R.invert(S.chartY):null;return V(V({},S),{},{xValue:W,yValue:L},T)}return T?V(V({},S),T):null}},{key:"inRange",value:function(h,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=h/x,C=w/x;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,A=S>=P.left&&S<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return A?{x:S,y:C}:null}var E=this.state,O=E.angleAxisMap,I=E.radiusAxisMap;if(O&&I){var T=qn(O);return Qb({x:S,y:C},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var h=this.props.children,w=this.getTooltipEventType(),x=ir(h,$r),N={};x&&w==="axis"&&(x.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=lu(this.props,this.handleOuterEvent);return V(V({},S),N)}},{key:"addListener",value:function(){jf.on(Nf,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jf.removeListener(Nf,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(h,w,x){for(var N=this.state.formattedGraphicalItems,S=0,C=N.length;S<C;S++){var P=N[S];if(P.item===h||P.props.key===h.key||w===bn(P.item.type)&&x===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var h=this.clipPathId,w=this.state.offset,x=w.left,N=w.top,S=w.height,C=w.width;return _.createElement("defs",null,_.createElement("clipPath",{id:h},_.createElement("rect",{x,y:N,height:S,width:C})))}},{key:"getXScales",value:function(){var h=this.state.xAxisMap;return h?Object.entries(h).reduce(function(w,x){var N=PN(x,2),S=N[0],C=N[1];return V(V({},w),{},ue({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var h=this.state.yAxisMap;return h?Object.entries(h).reduce(function(w,x){var N=PN(x,2),S=N[0],C=N[1];return V(V({},w),{},ue({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(h){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[h])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(h){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[h])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(h){var w=this.state,x=w.formattedGraphicalItems,N=w.activeItem;if(x&&x.length)for(var S=0,C=x.length;S<C;S++){var P=x[S],A=P.props,E=P.item,O=E.type.defaultProps!==void 0?V(V({},E.type.defaultProps),E.props):E.props,I=bn(E.type);if(I==="Bar"){var T=(A.data||[]).find(function(L){return MV(h,L)});if(T)return{graphicalItem:P,payload:T}}else if(I==="RadialBar"){var M=(A.data||[]).find(function(L){return Qb(h,L)});if(M)return{graphicalItem:P,payload:M}}else if(dm(P,N)||mm(P,N)||pl(P,N)){var R=NG({graphicalItem:P,activeTooltipItem:N,itemData:O.data}),W=O.activeIndex===void 0?R:O.activeIndex;return{graphicalItem:V(V({},P),{},{childIndex:W}),payload:pl(P,N)?O.data[R]:P.props.data[R]}}}return null}},{key:"render",value:function(){var h=this;if(!Mg(this))return null;var w=this.props,x=w.children,N=w.className,S=w.width,C=w.height,P=w.style,A=w.compact,E=w.title,O=w.desc,I=AN(w,DY),T=ce(I,!1);if(A)return _.createElement(aN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_.createElement(Oh,Ci({},T,{width:S,height:C,title:E,desc:O}),this.renderClipPath(),_g(x,this.renderMap)));if(this.props.accessibilityLayer){var M,R;T.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,T.role=(R=this.props.role)!==null&&R!==void 0?R:"application",T.onKeyDown=function(L){h.accessibilityManager.keyboardEvent(L)},T.onFocus=function(){h.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return _.createElement(aN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_.createElement("div",Ci({className:Ne("recharts-wrapper",N),style:V({position:"relative",cursor:"default",width:S,height:C},P)},W,{ref:function(D){h.container=D}}),_.createElement(Oh,Ci({},T,{width:S,height:C,title:E,desc:O,style:QY}),this.renderClipPath(),_g(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);ue(g,"displayName",r),ue(g,"defaultProps",V({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ue(g,"getDerivedStateFromProps",function(v,b){var j=v.dataKey,h=v.data,w=v.children,x=v.width,N=v.height,S=v.layout,C=v.stackOffset,P=v.margin,A=b.dataStartIndex,E=b.dataEndIndex;if(b.updateId===void 0){var O=DN(v);return V(V(V({},O),{},{updateId:0},y(V(V({props:v},O),{},{updateId:0}),b)),{},{prevDataKey:j,prevData:h,prevWidth:x,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:P,prevChildren:w})}if(j!==b.prevDataKey||h!==b.prevData||x!==b.prevWidth||N!==b.prevHeight||S!==b.prevLayout||C!==b.prevStackOffset||!Ii(P,b.prevMargin)){var I=DN(v),T={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},M=V(V({},IN(b,h,S)),{},{updateId:b.updateId+1}),R=V(V(V({},I),T),M);return V(V(V({},R),y(V({props:v},R),b)),{},{prevDataKey:j,prevData:h,prevWidth:x,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:P,prevChildren:w})}if(!Sh(w,b.prevChildren)){var W,L,D,U,F=ir(w,ns),$=F&&(W=(L=F.props)===null||L===void 0?void 0:L.startIndex)!==null&&W!==void 0?W:A,K=F&&(D=(U=F.props)===null||U===void 0?void 0:U.endIndex)!==null&&D!==void 0?D:E,ee=$!==A||K!==E,Q=!xe(h),fe=Q&&!ee?b.updateId:b.updateId+1;return V(V({updateId:fe},y(V(V({props:v},b),{},{updateId:fe,dataStartIndex:$,dataEndIndex:K}),b)),{},{prevChildren:w,dataStartIndex:$,dataEndIndex:K})}return null}),ue(g,"renderActiveDot",function(v,b,j){var h;return k.isValidElement(v)?h=k.cloneElement(v,b):me(v)?h=v(b):h=_.createElement(sm,b),_.createElement(Pe,{className:"recharts-active-dot",key:j},h)});var p=k.forwardRef(function(b,j){return _.createElement(g,Ci({},b,{ref:j}))});return p.displayName=g.displayName,p},iJ=HO({chartName:"LineChart",GraphicalChild:us,axisComponents:[{axisType:"xAxis",AxisComp:gm},{axisType:"yAxis",AxisComp:vm}],formatAxisMap:eQ}),sJ=HO({chartName:"PieChart",GraphicalChild:_n,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:um},{axisType:"radiusAxis",AxisComp:lm}],formatAxisMap:QW,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const $N=()=>{const e=[{name:"Total Recipe Orders",value:"156",icon:bh,color:"bg-blue-500",change:"+12%"},{name:"Pending Orders",value:"23",icon:Lt,color:"bg-yellow-500",change:"-5%"},{name:"Completed Orders",value:"133",icon:OE,color:"bg-green-500",change:"+18%"},{name:"Ingredients",value:"1,247",icon:Re,color:"bg-purple-500",change:"+8%"},{name:"Purchase Orders",value:"89",icon:br,color:"bg-indigo-500",change:"+15%"},{name:"Warehouses",value:"12",icon:sS,color:"bg-pink-500",change:"+2%"}],t=[{month:"Jan",orders:45,completed:38},{month:"Feb",orders:52,completed:48},{month:"Mar",orders:48,completed:42},{month:"Apr",orders:61,completed:55},{month:"May",orders:55,completed:50},{month:"Jun",orders:67,completed:62}],r=[{name:"Fresh Produce",value:35,color:"#3B82F6"},{name:"Dairy",value:25,color:"#10B981"},{name:"Pantry Items",value:20,color:"#F59E0B"},{name:"Supplements",value:15,color:"#EF4444"},{name:"Others",value:5,color:"#8B5CF6"}],n=[{id:1,type:"Recipe Order",description:"New recipe order #JO-2024-001 created",time:"2 hours ago",status:"success"},{id:2,type:"Purchase Order",description:"Purchase order #PO-2024-045 approved",time:"4 hours ago",status:"success"},{id:3,type:"Ingredient",description:"Low stock alert for Fresh Bananas",time:"6 hours ago",status:"warning"},{id:4,type:"GRN",description:"Good receipt note #GRN-2024-023 received",time:"8 hours ago",status:"success"},{id:5,type:"Store Issue",description:"Store issue voucher #SIV-2024-012 issued",time:"10 hours ago",status:"success"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Welcome to localbeet ERP System"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx(Pt,{className:"h-4 w-4"}),a.jsxs("span",{children:["Last updated: ",new Date().toLocaleString()]})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(i=>{const s=i.icon;return a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-3 rounded-lg ${i.color}`,children:a.jsx(s,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"ml-4 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:i.name}),a.jsxs("div",{className:"flex items-baseline",children:[a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:i.value}),a.jsx("p",{className:"ml-2 text-sm font-medium text-green-600",children:i.change})]})]})]})},i.name)})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Trends"}),a.jsx(_v,{width:"100%",height:300,children:a.jsxs(iJ,{data:t,children:[a.jsx(TO,{strokeDasharray:"3 3"}),a.jsx(gm,{dataKey:"month"}),a.jsx(vm,{}),a.jsx($r,{}),a.jsx(us,{type:"monotone",dataKey:"orders",stroke:"#3B82F6",strokeWidth:2,name:"Total Orders"}),a.jsx(us,{type:"monotone",dataKey:"completed",stroke:"#10B981",strokeWidth:2,name:"Completed Orders"})]})})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ingredient Categories"}),a.jsx(_v,{width:"100%",height:300,children:a.jsxs(sJ,{children:[a.jsx(_n,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:s})=>`${i} ${(s*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((i,s)=>a.jsx(Gd,{fill:i.color},`cell-${s}`))}),a.jsx($r,{})]})})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activities"}),a.jsx("div",{className:"space-y-4",children:n.map(i=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`flex-shrink-0 w-2 h-2 rounded-full mt-2 ${i.status==="success"?"bg-green-400":"bg-yellow-400"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.type}),a.jsx("p",{className:"text-sm text-gray-600",children:i.description}),a.jsx("p",{className:"text-xs text-gray-500",children:i.time})]})]},i.id))})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("button",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(bh,{className:"h-5 w-5 text-blue-500 mr-3"}),a.jsx("span",{className:"text-sm font-medium",children:"Create Recipe Order"})]}),a.jsxs("button",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(br,{className:"h-5 w-5 text-indigo-500 mr-3"}),a.jsx("span",{className:"text-sm font-medium",children:"Create Purchase Order"})]}),a.jsxs("button",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(Re,{className:"h-5 w-5 text-purple-500 mr-3"}),a.jsx("span",{className:"text-sm font-medium",children:"Add Ingredient"})]}),a.jsxs("button",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(iS,{className:"h-5 w-5 text-green-500 mr-3"}),a.jsx("span",{className:"text-sm font-medium",children:"Create GRN"})]})]})]})]})},oJ="http://localhost:5000/api";class lJ{async request(t,r={}){const n=`${oJ}${t}`,i={headers:{"Content-Type":"application/json",...r.headers},...r};try{const s=await fetch(n,i);if(!s.ok){const o=await s.json().catch(()=>({}));throw new Error(o.message||`HTTP error! status: ${s.status}`)}return await s.json()}catch(s){throw console.error("API request failed:",s),s}}async getRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status);const n=r.toString(),i=`/raw-materials${n?`?${n}`:""}`;return this.request(i)}async getRawMaterial(t){return this.request(`/raw-materials/${t}`)}async createRawMaterial(t){return this.request("/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateRawMaterial(t,r){return this.request(`/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteRawMaterial(t){return this.request(`/raw-materials/${t}`,{method:"DELETE"})}async getRawMaterialCategories(){return this.request("/raw-materials/categories/list")}async getBillOfMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const n=r.toString(),i=`/bill-of-materials${n?`?${n}`:""}`;return this.request(i)}async getBillOfMaterial(t){return this.request(`/bill-of-materials/${t}`)}async createBillOfMaterial(t){return this.request("/bill-of-materials",{method:"POST",body:JSON.stringify(t)})}async updateBillOfMaterial(t,r){return this.request(`/bill-of-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteBillOfMaterial(t){return this.request(`/bill-of-materials/${t}`,{method:"DELETE"})}async getBillOfMaterialByCode(t){return this.request(`/bill-of-materials/code/${t}`)}async getJobOrders(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.priority&&r.append("priority",t.priority),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const n=r.toString(),i=`/job-orders${n?`?${n}`:""}`;return this.request(i)}async getJobOrder(t){return this.request(`/job-orders/${t}`)}async createJobOrder(t){return this.request("/job-orders",{method:"POST",body:JSON.stringify(t)})}async updateJobOrder(t,r){return this.request(`/job-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteJobOrder(t){return this.request(`/job-orders/${t}`,{method:"DELETE"})}async getRawMaterialForecasts(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.forecastPeriod&&r.append("forecastPeriod",t.forecastPeriod),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const n=r.toString(),i=`/raw-material-forecasts${n?`?${n}`:""}`;return this.request(i)}async getRawMaterialForecast(t){return this.request(`/raw-material-forecasts/${t}`)}async createRawMaterialForecast(t){return this.request("/raw-material-forecasts",{method:"POST",body:JSON.stringify(t)})}async updateRawMaterialForecast(t,r){return this.request(`/raw-material-forecasts/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteRawMaterialForecast(t){return this.request(`/raw-material-forecasts/${t}`,{method:"DELETE"})}async getPurchaseOrders(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const n=r.toString(),i=`/purchase-orders${n?`?${n}`:""}`;return this.request(i)}async getPurchaseOrder(t){return this.request(`/purchase-orders/${t}`)}async createPurchaseOrder(t){return this.request("/purchase-orders",{method:"POST",body:JSON.stringify(t)})}async updatePurchaseOrder(t,r){return this.request(`/purchase-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deletePurchaseOrder(t){return this.request(`/purchase-orders/${t}`,{method:"DELETE"})}async getOutlets(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.outletType&&r.append("outletType",t.outletType),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.isCentralKitchen&&r.append("isCentralKitchen",t.isCentralKitchen),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const n=r.toString(),i=`/outlets${n?`?${n}`:""}`;return this.request(i)}async getOutlet(t){return this.request(`/outlets/${t}`)}async createOutlet(t){return this.request("/outlets",{method:"POST",body:JSON.stringify(t)})}async updateOutlet(t,r){return this.request(`/outlets/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteOutlet(t){return this.request(`/outlets/${t}`,{method:"DELETE"})}async getCentralKitchens(){return this.request("/outlets/central-kitchen/list")}async getRegularOutlets(){return this.request("/outlets/regular/list")}async getOutletInventoryByOutlet(t,r){const n=new URLSearchParams;r!=null&&r.page&&n.append("page",r.page.toString()),r!=null&&r.limit&&n.append("limit",r.limit.toString()),r!=null&&r.search&&n.append("search",r.search),r!=null&&r.category&&n.append("category",r.category),r!=null&&r.status&&n.append("status",r.status),r!=null&&r.sortBy&&n.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&n.append("sortOrder",r.sortOrder);const i=n.toString(),s=`/outlet-inventory/outlet/${t}${i?`?${i}`:""}`;return this.request(s)}async getFinishedGoods(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status),(t==null?void 0:t.isSeasonal)!==void 0&&r.append("isSeasonal",t.isSeasonal.toString()),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const n=r.toString(),i=`/finished-goods${n?`?${n}`:""}`;return this.request(i)}async getFinishedGood(t){return this.request(`/finished-goods/${t}`)}async createFinishedGood(t){return this.request("/finished-goods",{method:"POST",body:JSON.stringify(t)})}async updateFinishedGood(t,r){return this.request(`/finished-goods/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteFinishedGood(t){return this.request(`/finished-goods/${t}`,{method:"DELETE"})}async getFinishedGoodCategories(){return this.request("/finished-goods/category/list")}async getFinishedGoodsByBOM(t){return this.request(`/finished-goods/bom/${t}`)}async getFinishedGoodInventory(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.outletId&&r.append("outletId",t.outletId),t!=null&&t.outletCode&&r.append("outletCode",t.outletCode),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.qualityStatus&&r.append("qualityStatus",t.qualityStatus),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const n=r.toString(),i=`/finished-good-inventory${n?`?${n}`:""}`;return this.request(i)}async getFinishedGoodInventoryItem(t){return this.request(`/finished-good-inventory/${t}`)}async createFinishedGoodInventoryItem(t){return this.request("/finished-good-inventory",{method:"POST",body:JSON.stringify(t)})}async updateFinishedGoodInventoryItem(t,r){return this.request(`/finished-good-inventory/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteFinishedGoodInventoryItem(t){return this.request(`/finished-good-inventory/${t}`,{method:"DELETE"})}async getFinishedGoodInventoryByOutlet(t,r){const n=new URLSearchParams;r!=null&&r.limit&&n.append("limit",r.limit.toString()),r!=null&&r.search&&n.append("search",r.search),r!=null&&r.category&&n.append("category",r.category),r!=null&&r.status&&n.append("status",r.status),r!=null&&r.qualityStatus&&n.append("qualityStatus",r.qualityStatus),r!=null&&r.sortBy&&n.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&n.append("sortOrder",r.sortOrder);const i=n.toString(),s=`/finished-good-inventory/outlet/${t}${i?`?${i}`:""}`;return this.request(s)}async adjustFinishedGoodInventoryStock(t,r){return this.request(`/finished-good-inventory/${t}/adjust-stock`,{method:"PUT",body:JSON.stringify(r)})}async getFinishedGoodInventorySummary(t){return this.request(`/finished-good-inventory/summary/${t}`)}async getSalesOrders(t){const r=t?`?${new URLSearchParams(t).toString()}`:"";return this.request(`/sales-orders${r}`)}async getSalesOrder(t){return this.request(`/sales-orders/${t}`)}async createSalesOrder(t){return this.request("/sales-orders",{method:"POST",body:JSON.stringify(t)})}async updateSalesOrder(t,r){return this.request(`/sales-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteSalesOrder(t){return this.request(`/sales-orders/${t}`,{method:"DELETE"})}async getSalesOrdersByOutlet(t,r){const n=r?`?${new URLSearchParams(r).toString()}`:"";return this.request(`/sales-orders/outlet/${t}${n}`)}async updateSalesOrderStatus(t,r){return this.request(`/sales-orders/${t}/status`,{method:"PUT",body:JSON.stringify(r)})}}const le=new lJ,cJ=()=>{const e=Oe(),t=k.useRef(null),[r,n]=k.useState([]),[i,s]=k.useState(!0),[o,l]=k.useState(null),[c,u]=k.useState(!1),[m,d]=k.useState(""),[f,y]=k.useState(""),[g,p]=k.useState(""),[v,b]=k.useState(""),[j,h]=k.useState(""),[w,x]=k.useState("materialCode"),[N,S]=k.useState("asc");k.useEffect(()=>{C()},[]);const C=async()=>{try{s(!0),l(null);const D=await le.getRawMaterials({limit:1e3});D.success?n(D.data):l("Failed to load materials")}catch(D){l(D instanceof Error?D.message:"Failed to load materials"),console.error("Error loading materials:",D)}finally{s(!1)}},P=(D,U)=>D<=U?{status:"Low",color:"text-red-600 bg-red-100"}:D<=U*1.5?{status:"Medium",color:"text-yellow-600 bg-yellow-100"}:{status:"Good",color:"text-green-600 bg-green-100"},A=r.filter(D=>{const U=D.materialName.toLowerCase().includes(m.toLowerCase())||D.materialCode.toLowerCase().includes(m.toLowerCase())||D.description.toLowerCase().includes(m.toLowerCase()),F=f===""||D.category===f,$=g===""||g==="active"&&D.isActive||g==="inactive"&&!D.isActive,K=P(D.currentStock,D.minimumStock),ee=v===""||K.status.toLowerCase()===v.toLowerCase(),Q=j===""||D.supplierId===j;return U&&F&&$&&ee&&Q}).sort((D,U)=>{let F,$;switch(w){case"materialCode":F=D.materialCode,$=U.materialCode;break;case"materialName":F=D.materialName,$=U.materialName;break;case"category":F=D.category,$=U.category;break;case"unitPrice":F=D.unitPrice,$=U.unitPrice;break;case"currentStock":F=D.currentStock,$=U.currentStock;break;case"createdAt":F=new Date(D.createdAt).getTime(),$=new Date(U.createdAt).getTime();break;default:F=D.materialCode,$=U.materialCode}return N==="asc"?F>$?1:-1:F<$?1:-1}),E=[...new Set(r.map(D=>D.category))],O=[{id:"SUP-FP-001",name:"Fresh Produce Co"},{id:"SUP-PT-001",name:"Pantry Essentials"},{id:"SUP-DA-001",name:"Dairy Alternatives Inc"},{id:"SUP-SW-001",name:"Sweeteners & Syrups"},{id:"SUP-BV-001",name:"Beverage Solutions"},{id:"SUP-SP-001",name:"Supplements Plus"},{id:"SUP-SF-001",name:"Superfoods Direct"},{id:"SUP-DY-001",name:"Dairy Farm Fresh"},{id:"SUP-BK-001",name:"Artisan Bakery"}],I=()=>{d(""),y(""),p(""),b(""),h(""),x("materialCode"),S("asc")},T=async D=>{if(window.confirm("Are you sure you want to delete this material?"))try{(await le.deleteRawMaterial(D)).success?await C():alert("Failed to delete material")}catch(U){alert("Error deleting material: "+(U instanceof Error?U.message:"Unknown error")),console.error("Error deleting material:",U)}},M=()=>{try{const D=A.map(Q=>({"Material Code":Q.materialCode,"Material Name":Q.materialName,Description:Q.description,Category:Q.category,"Unit of Measure":Q.unitOfMeasure,"Unit Price":Q.unitPrice,"Current Stock":Q.currentStock,"Minimum Stock":Q.minimumStock,"Maximum Stock":Q.maximumStock,"Supplier ID":Q.supplierId,Status:Q.isActive?"Active":"Inactive","Created At":new Date(Q.createdAt).toLocaleDateString()})),U=Object.keys(D[0]||{}),F=[U.join(","),...D.map(Q=>U.map(fe=>{const ge=Q[fe];return typeof ge=="string"&&(ge.includes(",")||ge.includes('"'))?`"${ge.replace(/"/g,'""')}"`:ge}).join(","))].join(`
`),$=new Blob([F],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),ee=URL.createObjectURL($);K.setAttribute("href",ee),K.setAttribute("download",`raw-materials-export-${new Date().toISOString().split("T")[0]}.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K),console.log("Export completed successfully")}catch(D){console.error("Export failed:",D),alert("Export failed. Please try again.")}},R=()=>{console.log("Import button clicked"),t.current?(console.log("File input ref found, clicking..."),t.current.click()):console.error("File input ref not found")},W=()=>{const D=[{"Material Code":"MAT-001","Material Name":"Sample Material",Description:"This is a sample material for import",Category:"Fresh Produce","Unit of Measure":"KG","Unit Price":"5.50","Current Stock":"100","Minimum Stock":"10","Maximum Stock":"500","Supplier ID":"SUP-001",Status:"Active"},{"Material Code":"MAT-002","Material Name":"Another Sample",Description:"Another sample material",Category:"Pantry","Unit of Measure":"PC","Unit Price":"2.25","Current Stock":"50","Minimum Stock":"5","Maximum Stock":"200","Supplier ID":"SUP-002",Status:"Active"}],U=Object.keys(D[0]),F=[U.join(","),...D.map(Q=>U.map(fe=>{const ge=Q[fe];return typeof ge=="string"&&(ge.includes(",")||ge.includes('"'))?`"${ge.replace(/"/g,'""')}"`:ge}).join(","))].join(`
`),$=new Blob([F],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),ee=URL.createObjectURL($);K.setAttribute("href",ee),K.setAttribute("download","sample-raw-materials-import.csv"),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K)},L=async D=>{var F,$;const U=(F=D.target.files)==null?void 0:F[0];if(!U){console.log("No file selected");return}if(console.log("File selected:",U.name,"Size:",U.size,"Type:",U.type),!U.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{u(!0),console.log("Starting import process...");const K=await U.text();console.log("File content length:",K.length);const ee=K.split(`
`).filter(je=>je.trim());if(console.log("Number of lines:",ee.length),ee.length<2){alert("CSV file must contain at least a header row and one data row");return}const Q=je=>{const z=[];let q="",B=!1;for(let Y=0;Y<je.length;Y++){const Z=je[Y];Z==='"'?B&&je[Y+1]==='"'?(q+='"',Y++):B=!B:Z===","&&!B?(z.push(q.trim()),q=""):q+=Z}return z.push(q.trim()),z},fe=Q(ee[0]);console.log("Headers:",fe);const ge=ee.slice(1).map((je,z)=>{const q=Q(je),B={};return fe.forEach((Y,Z)=>{B[Y]=q[Z]||""}),console.log(`Row ${z+1}:`,B),B}),Ie=["Material Code","Material Name","Category","Unit of Measure","Unit Price"],J=Ie.filter(je=>!fe.includes(je));if(J.length>0){alert(`Missing required columns: ${J.join(", ")}

Required columns: ${Ie.join(", ")}

Found columns: ${fe.join(", ")}`);return}console.log("Starting to process",ge.length,"rows...");let ie=0,re=0,G=0;const we=[],be=new Set;for(let je=0;je<ge.length;je++){const z=ge[je];try{console.log(`Processing row ${je+1}:`,z);const q=z["Material Code"],B=parseFloat(z["Current Stock"])||0;if(be.has(q)){console.log(`Material ${q} already processed in this import, adding stock...`);const te=r.find(oe=>oe.materialCode===q);if(te){const oe=te.currentStock+B,Le={...te,currentStock:oe};console.log(`Adding ${B} stock to ${q}. New total: ${oe}`);const se=await le.updateRawMaterial(te.id,Le);if(se.success)G++,console.log(`Successfully added stock to ${q}`);else{re++;const de=`Failed to add stock to ${q}: ${se.message||"Unknown error"}`;we.push(de),console.error(de)}}else{re++;const oe=`Material ${q} not found for stock addition`;we.push(oe),console.error(oe)}continue}const Y={materialCode:q,materialName:z["Material Name"],description:z.Description||"",category:z.Category,unitOfMeasure:z["Unit of Measure"],unitPrice:parseFloat(z["Unit Price"])||0,currentStock:B,minimumStock:parseFloat(z["Minimum Stock"])||0,maximumStock:parseFloat(z["Maximum Stock"])||0,supplierId:z["Supplier ID"]||"",isActive:(($=z.Status)==null?void 0:$.toLowerCase())==="active"||!0};console.log("Processed material data:",Y);const Z=r.find(te=>te.materialCode===Y.materialCode);if(Z){console.log("Material exists, adding stock to existing material:",Z.id);const te=Z.currentStock+B,oe={...Z,currentStock:te};console.log(`Adding ${B} stock to existing ${q}. Previous: ${Z.currentStock}, New: ${te}`);const Le=await le.updateRawMaterial(Z.id,oe);if(console.log("Update response:",Le),Le.success)G++,console.log(`Successfully added stock to ${Y.materialCode}`);else{re++;const se=`Failed to add stock to ${Y.materialCode}: ${Le.message||"Unknown error"}`;we.push(se),console.error(se)}}else{console.log("Creating new material:",Y.materialCode);const te=await le.createRawMaterial(Y);if(console.log("Create response:",te),te.success)ie++,console.log(`Successfully created ${Y.materialCode}`);else{re++;const oe=`Failed to create ${Y.materialCode}: ${te.message||"Unknown error"}`;we.push(oe),console.error(oe)}}be.add(q)}catch(q){re++;const B=`Error processing row ${je+1} (${z["Material Code"]||"Unknown"}): ${q instanceof Error?q.message:"Unknown error"}`;we.push(B),console.error(B,q)}}console.log("Import processing complete. Created:",ie,"Stock Updated:",G,"Errors:",re),await C(),re>0?alert(`Import completed with errors:

New Materials Created: ${ie}
Stock Added to Existing: ${G}
Errors: ${re}

Errors:
${we.slice(0,5).join(`
`)}${we.length>5?`
...`:""}`):alert(`Import completed successfully!

New Materials Created: ${ie}
Stock Added to Existing: ${G}`)}catch(K){console.error("Import failed:",K),alert(`Import failed: ${K instanceof Error?K.message:"Unknown error"}

Please check your CSV file format and try again.`)}finally{u(!1),t.current&&(t.current.value="")}};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading materials..."})]})}):o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-red-600 mb-4",children:o}),a.jsx("button",{onClick:C,className:"btn-primary",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ingredient Master"}),a.jsx("p",{className:"text-gray-600",children:"Manage your restaurant ingredients and raw material inventory"})]}),a.jsxs("button",{onClick:()=>e("/raw-materials/add"),className:"btn-primary flex items-center",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Ingredient"]})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search materials by name, code, or description...",className:"input-field pl-10",value:m,onChange:D=>d(D.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:I,className:"btn-secondary flex items-center",title:"Clear all filters",children:[a.jsx(In,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),a.jsxs("button",{onClick:M,className:"btn-secondary flex items-center",title:"Export materials to CSV",disabled:A.length===0,children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs("button",{onClick:R,className:"btn-secondary flex items-center",title:"Import materials from CSV",disabled:c,children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),c?"Importing...":"Import"]}),a.jsxs("button",{onClick:W,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{className:"input-field",value:f,onChange:D=>y(D.target.value),children:[a.jsx("option",{value:"",children:"All Categories"}),E.map(D=>a.jsx("option",{value:D,children:D},D))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{className:"input-field",value:g,onChange:D=>p(D.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Status"}),a.jsxs("select",{className:"input-field",value:v,onChange:D=>b(D.target.value),children:[a.jsx("option",{value:"",children:"All Stock Levels"}),a.jsx("option",{value:"low",children:"Low Stock"}),a.jsx("option",{value:"medium",children:"Medium Stock"}),a.jsx("option",{value:"good",children:"Good Stock"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),a.jsxs("select",{className:"input-field",value:j,onChange:D=>h(D.target.value),children:[a.jsx("option",{value:"",children:"All Suppliers"}),O.map(D=>a.jsx("option",{value:D.id,children:D.name},D.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("select",{className:"input-field flex-1",value:w,onChange:D=>x(D.target.value),children:[a.jsx("option",{value:"materialCode",children:"Material Code"}),a.jsx("option",{value:"materialName",children:"Name"}),a.jsx("option",{value:"category",children:"Category"}),a.jsx("option",{value:"unitPrice",children:"Unit Price"}),a.jsx("option",{value:"currentStock",children:"Current Stock"}),a.jsx("option",{value:"createdAt",children:"Date Created"})]}),a.jsx("button",{onClick:()=>S(N==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${N==="asc"?"Descending":"Ascending"}`,children:N==="asc"?"↑":"↓"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Showing ",A.length," of ",r.length," materials",(m||f||g||v||j)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),A.length!==r.length&&a.jsx("button",{onClick:I,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Material Code"}),a.jsx("th",{className:"table-header",children:"Name"}),a.jsx("th",{className:"table-header",children:"Category"}),a.jsx("th",{className:"table-header",children:"Unit"}),a.jsx("th",{className:"table-header",children:"Unit Price"}),a.jsx("th",{className:"table-header",children:"Current Stock"}),a.jsx("th",{className:"table-header",children:"Stock Status"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(D=>{const U=P(D.currentStock,D.minimumStock);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell font-medium",children:D.materialCode}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:D.materialName}),a.jsx("div",{className:"text-gray-500 text-sm",children:D.description})]})}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:D.category})}),a.jsx("td",{className:"table-cell",children:D.unitOfMeasure}),a.jsxs("td",{className:"table-cell",children:[D.unitPrice.toFixed(2)," KWD"]}),a.jsx("td",{className:"table-cell",children:D.currentStock}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${U.color}`,children:U.status})}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>e(`/raw-materials/edit/${D.id}`),className:"text-blue-600 hover:text-blue-900",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>T(D.id),className:"text-red-600 hover:text-red-900",children:a.jsx(it,{className:"h-4 w-4"})})]})})]},D.id)})})]})})}),a.jsx("input",{ref:t,type:"file",accept:".csv",onChange:L,style:{display:"none"}})]})},uJ=()=>{const e=Oe(),[t,r]=k.useState({materialCode:"",materialName:"",description:"",category:"",unitOfMeasure:"",unitPrice:"",minimumStock:"",maximumStock:"",currentStock:"",supplierId:"",isActive:!0}),[n,i]=k.useState({}),s=["Fresh Produce","Pantry","Dairy Alternatives","Sweeteners","Beverages","Supplements","Superfoods","Dairy","Bakery","Spices","Other"],o=["PC","TBSP","CUP","TSP","PINCH","SCOOP","HANDFUL","SLICE","OZ","LB","KG","LTR","Other"],l=()=>{const m={};return t.materialCode.trim()||(m.materialCode="Material code is required"),t.materialName.trim()||(m.materialName="Material name is required"),t.category||(m.category="Category is required"),t.unitOfMeasure||(m.unitOfMeasure="Unit of measure is required"),(!t.unitPrice||parseFloat(t.unitPrice)<0)&&(m.unitPrice="Valid unit price is required"),(!t.minimumStock||parseInt(t.minimumStock)<0)&&(m.minimumStock="Valid minimum stock is required"),(!t.maximumStock||parseInt(t.maximumStock)<0)&&(m.maximumStock="Valid maximum stock is required"),(!t.currentStock||parseInt(t.currentStock)<0)&&(m.currentStock="Valid current stock is required"),i(m),Object.keys(m).length===0},c=async m=>{if(m.preventDefault(),!!l())try{const d=await le.createRawMaterial(t);d.success?e("/raw-materials"):alert("Failed to create material: "+d.message)}catch(d){alert("Error creating material: "+(d instanceof Error?d.message:"Unknown error")),console.error("Error creating material:",d)}},u=(m,d)=>{r(f=>({...f,[m]:d})),n[m]&&i(f=>({...f,[m]:""}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Material"}),a.jsx("p",{className:"text-gray-600",children:"Create a new raw material entry"})]}),a.jsxs("button",{onClick:()=>e("/raw-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Raw Materials"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:c,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Code *"}),a.jsx("input",{type:"text",className:`input-field ${n.materialCode?"border-red-500":""}`,value:t.materialCode,onChange:m=>u("materialCode",m.target.value),placeholder:"RM-001"}),n.materialCode&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.materialCode})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Name *"}),a.jsx("input",{type:"text",className:`input-field ${n.materialName?"border-red-500":""}`,value:t.materialName,onChange:m=>u("materialName",m.target.value),placeholder:"Steel Rod 12mm"}),n.materialName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.materialName})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.description,onChange:m=>u("description",m.target.value),placeholder:"Material description"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{className:`input-field ${n.category?"border-red-500":""}`,value:t.category,onChange:m=>u("category",m.target.value),children:[a.jsx("option",{value:"",children:"Select Category"}),s.map(m=>a.jsx("option",{value:m,children:m},m))]}),n.category&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.category})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure *"}),a.jsxs("select",{className:`input-field ${n.unitOfMeasure?"border-red-500":""}`,value:t.unitOfMeasure,onChange:m=>u("unitOfMeasure",m.target.value),children:[a.jsx("option",{value:"",children:"Select Unit"}),o.map(m=>a.jsx("option",{value:m,children:m},m))]}),n.unitOfMeasure&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.unitOfMeasure})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pricing & Stock Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),a.jsx("input",{type:"number",step:"0.01",className:`input-field pl-8 ${n.unitPrice?"border-red-500":""}`,value:t.unitPrice,onChange:m=>u("unitPrice",m.target.value),placeholder:"0.00"})]}),n.unitPrice&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.unitPrice})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock *"}),a.jsx("input",{type:"number",className:`input-field ${n.currentStock?"border-red-500":""}`,value:t.currentStock,onChange:m=>u("currentStock",m.target.value),placeholder:"0"}),n.currentStock&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.currentStock})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock *"}),a.jsx("input",{type:"number",className:`input-field ${n.minimumStock?"border-red-500":""}`,value:t.minimumStock,onChange:m=>u("minimumStock",m.target.value),placeholder:"0"}),n.minimumStock&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.minimumStock})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Stock *"}),a.jsx("input",{type:"number",className:`input-field ${n.maximumStock?"border-red-500":""}`,value:t.maximumStock,onChange:m=>u("maximumStock",m.target.value),placeholder:"0"}),n.maximumStock&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.maximumStock})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier ID"}),a.jsx("input",{type:"text",className:"input-field",value:t.supplierId,onChange:m=>u("supplierId",m.target.value),placeholder:"SUP-001"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:t.isActive,onChange:m=>u("isActive",m.target.checked)}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Active Material"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/raw-materials"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Save Material"]})]})]})})]})},dJ=()=>{const e=Oe(),{id:t}=ma(),[r,n]=k.useState({materialCode:"",materialName:"",description:"",category:"",unitOfMeasure:"",unitPrice:"",minimumStock:"",maximumStock:"",currentStock:"",supplierId:"",isActive:!0}),[i,s]=k.useState({}),[o,l]=k.useState(!0),c=["Fresh Produce","Pantry","Dairy Alternatives","Sweeteners","Beverages","Supplements","Superfoods","Dairy","Bakery","Spices","Other"],u=["PC","TBSP","CUP","TSP","PINCH","SCOOP","HANDFUL","SLICE","OZ","LB","KG","LTR","Other"];k.useEffect(()=>{t&&m()},[t]);const m=async()=>{try{l(!0);const g=await le.getRawMaterial(t);if(g.success){const p=g.data;n({materialCode:p.materialCode,materialName:p.materialName,description:p.description,category:p.category,unitOfMeasure:p.unitOfMeasure,unitPrice:p.unitPrice.toString(),minimumStock:p.minimumStock.toString(),maximumStock:p.maximumStock.toString(),currentStock:p.currentStock.toString(),supplierId:p.supplierId||"",isActive:p.isActive})}else alert("Failed to load material"),e("/raw-materials")}catch(g){alert("Error loading material: "+(g instanceof Error?g.message:"Unknown error")),e("/raw-materials")}finally{l(!1)}},d=()=>{const g={};return r.materialCode.trim()||(g.materialCode="Material code is required"),r.materialName.trim()||(g.materialName="Material name is required"),r.category||(g.category="Category is required"),r.unitOfMeasure||(g.unitOfMeasure="Unit of measure is required"),(!r.unitPrice||parseFloat(r.unitPrice)<0)&&(g.unitPrice="Valid unit price is required"),(!r.minimumStock||parseInt(r.minimumStock)<0)&&(g.minimumStock="Valid minimum stock is required"),(!r.maximumStock||parseInt(r.maximumStock)<0)&&(g.maximumStock="Valid maximum stock is required"),(!r.currentStock||parseInt(r.currentStock)<0)&&(g.currentStock="Valid current stock is required"),s(g),Object.keys(g).length===0},f=async g=>{if(g.preventDefault(),!!d())try{const p=await le.updateRawMaterial(t,r);p.success?e("/raw-materials"):alert("Failed to update material: "+p.message)}catch(p){alert("Error updating material: "+(p instanceof Error?p.message:"Unknown error")),console.error("Error updating material:",p)}},y=(g,p)=>{n(v=>({...v,[g]:p})),i[g]&&s(v=>({...v,[g]:""}))};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading material data..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Material"}),a.jsx("p",{className:"text-gray-600",children:"Update material information"})]}),a.jsxs("button",{onClick:()=>e("/raw-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Raw Materials"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:f,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Code *"}),a.jsx("input",{type:"text",className:`input-field ${i.materialCode?"border-red-500":""}`,value:r.materialCode,onChange:g=>y("materialCode",g.target.value),placeholder:"RM-001"}),i.materialCode&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.materialCode})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Name *"}),a.jsx("input",{type:"text",className:`input-field ${i.materialName?"border-red-500":""}`,value:r.materialName,onChange:g=>y("materialName",g.target.value),placeholder:"Steel Rod 12mm"}),i.materialName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.materialName})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.description,onChange:g=>y("description",g.target.value),placeholder:"Material description"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{className:`input-field ${i.category?"border-red-500":""}`,value:r.category,onChange:g=>y("category",g.target.value),children:[a.jsx("option",{value:"",children:"Select Category"}),c.map(g=>a.jsx("option",{value:g,children:g},g))]}),i.category&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.category})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure *"}),a.jsxs("select",{className:`input-field ${i.unitOfMeasure?"border-red-500":""}`,value:r.unitOfMeasure,onChange:g=>y("unitOfMeasure",g.target.value),children:[a.jsx("option",{value:"",children:"Select Unit"}),u.map(g=>a.jsx("option",{value:g,children:g},g))]}),i.unitOfMeasure&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.unitOfMeasure})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pricing & Stock Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),a.jsx("input",{type:"number",step:"0.01",className:`input-field pl-8 ${i.unitPrice?"border-red-500":""}`,value:r.unitPrice,onChange:g=>y("unitPrice",g.target.value),placeholder:"0.00"})]}),i.unitPrice&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.unitPrice})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock *"}),a.jsx("input",{type:"number",className:`input-field ${i.currentStock?"border-red-500":""}`,value:r.currentStock,onChange:g=>y("currentStock",g.target.value),placeholder:"0"}),i.currentStock&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.currentStock})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock *"}),a.jsx("input",{type:"number",className:`input-field ${i.minimumStock?"border-red-500":""}`,value:r.minimumStock,onChange:g=>y("minimumStock",g.target.value),placeholder:"0"}),i.minimumStock&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.minimumStock})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Stock *"}),a.jsx("input",{type:"number",className:`input-field ${i.maximumStock?"border-red-500":""}`,value:r.maximumStock,onChange:g=>y("maximumStock",g.target.value),placeholder:"0"}),i.maximumStock&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.maximumStock})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier ID"}),a.jsx("input",{type:"text",className:"input-field",value:r.supplierId,onChange:g=>y("supplierId",g.target.value),placeholder:"SUP-001"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:r.isActive,onChange:g=>y("isActive",g.target.checked)}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Active Material"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/raw-materials"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Update Material"]})]})]})})]})},mJ=()=>{const e=Oe(),[t,r]=k.useState([]),[n,i]=k.useState(!0),[s,o]=k.useState(null),[l,c]=k.useState(null),[u,m]=k.useState(!1),[d,f]=k.useState(""),[y,g]=k.useState(""),[p,v]=k.useState("createdAt"),[b,j]=k.useState("desc"),[h,w]=k.useState(!1),x=k.useRef(null);k.useEffect(()=>{N()},[]);const N=async()=>{try{i(!0),o(null);const M=await le.getBillOfMaterials({limit:1e3,search:d,status:y,sortBy:p,sortOrder:b});M.success?(console.log("Loaded BOMs:",M.data),r(M.data)):o("Failed to load BOMs")}catch(M){o(M instanceof Error?M.message:"Failed to load BOMs"),console.error("Error loading BOMs:",M)}finally{i(!1)}};k.useEffect(()=>{n||N()},[d,y,p,b]);const S=t.filter(M=>{const R=M.productName.toLowerCase().includes(d.toLowerCase())||M.bomCode.toLowerCase().includes(d.toLowerCase())||M.productDescription.toLowerCase().includes(d.toLowerCase()),W=y===""||M.status===y;return R&&W}),C=()=>{f(""),g(""),v("createdAt"),j("desc")},P=M=>{c(M),m(!0)},A=async M=>{if(console.log("Deleting BOM with ID:",M),!M){alert("Error: BOM ID is missing");return}if(window.confirm("Are you sure you want to delete this BOM?"))try{(await le.deleteBillOfMaterial(M)).success?await N():alert("Failed to delete BOM")}catch(R){alert("Error deleting BOM: "+(R instanceof Error?R.message:"Unknown error")),console.error("Error deleting BOM:",R)}},E=()=>{if(S.length===0){alert("No BOMs to export");return}const M=[["BOM Code","Product Name","Product Description","Status","Version","Created At","Updated At","Notes"].join(","),...S.map(D=>[D.bomCode,D.productName,D.productDescription,D.status,D.version,new Date(D.createdAt).toLocaleDateString(),new Date(D.updatedAt).toLocaleDateString(),""].map(U=>`"${U}"`).join(","))].join(`
`),R=new Blob([M],{type:"text/csv;charset=utf-8;"}),W=document.createElement("a"),L=URL.createObjectURL(R);W.setAttribute("href",L),W.setAttribute("download",`bom-recipes-${new Date().toISOString().split("T")[0]}.csv`),W.style.visibility="hidden",document.body.appendChild(W),W.click(),document.body.removeChild(W)},O=()=>{var M;(M=x.current)==null||M.click()},I=async M=>{var W;const R=(W=M.target.files)==null?void 0:W[0];if(R){if(!R.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{w(!0);const D=(await R.text()).split(`
`).filter(K=>K.trim());if(D.length<2){alert("CSV file must contain at least a header row and one data row");return}const U=D.slice(1);let F=0,$=0;for(const K of U)try{const ee=K.split(",").map(ge=>ge.replace(/"/g,"").trim()),Q={bomCode:ee[0]||"",productName:ee[1]||"",productDescription:ee[2]||"",status:ee[3]||"Draft",version:ee[4]||"1.0",notes:ee[7]||""};(await le.createBillOfMaterial(Q)).success?F++:$++}catch{$++}alert(`Import completed!

Successfully imported: ${F} BOMs
Errors: ${$}`),await N()}catch(L){alert("Error importing file: "+(L instanceof Error?L.message:"Unknown error"))}finally{w(!1),x.current&&(x.current.value="")}}},T=()=>{const R=[["BOM Code","Product Name","Product Description","Status","Version","Created At","Updated At","Notes"],["BOM-001","Fresh Green Smoothie","Healthy smoothie with spinach and fruits","Active","1.0","2024-01-15","2024-01-15","Popular breakfast item"],["BOM-002","Protein Power Bowl","High protein meal bowl","Active","1.0","2024-01-15","2024-01-15","Post-workout meal"]].map(U=>U.map(F=>`"${F}"`).join(",")).join(`
`),W=new Blob([R],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a"),D=URL.createObjectURL(W);L.setAttribute("href",D),L.setAttribute("download","bom-sample-template.csv"),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L)};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading BOMs..."})]})}):s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-red-600 mb-4",children:s}),a.jsx("button",{onClick:N,className:"btn-primary",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recipes (BOM)"}),a.jsx("p",{className:"text-gray-600",children:"Manage your restaurant recipes and product formulations"})]}),a.jsxs("button",{onClick:()=>e("/bill-of-materials/add"),className:"btn-primary flex items-center",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Create Recipe"]})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search recipes by name, code, or description...",className:"input-field pl-10",value:d,onChange:M=>f(M.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:C,className:"btn-secondary flex items-center",title:"Clear all filters",children:[a.jsx(In,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),a.jsxs("button",{onClick:E,className:"btn-secondary flex items-center",title:"Export BOMs to CSV",disabled:S.length===0,children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs("button",{onClick:O,className:"btn-secondary flex items-center",title:"Import BOMs from CSV",disabled:h,children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),h?"Importing...":"Import"]}),a.jsxs("button",{onClick:T,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{className:"input-field",value:y,onChange:M=>g(M.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"}),a.jsx("option",{value:"Obsolete",children:"Obsolete"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("select",{className:"input-field flex-1",value:p,onChange:M=>v(M.target.value),children:[a.jsx("option",{value:"bomCode",children:"BOM Code"}),a.jsx("option",{value:"productName",children:"Product Name"}),a.jsx("option",{value:"totalCost",children:"Total Cost"}),a.jsx("option",{value:"status",children:"Status"}),a.jsx("option",{value:"createdAt",children:"Date Created"})]}),a.jsx("button",{onClick:()=>j(b==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${b==="asc"?"Descending":"Ascending"}`,children:b==="asc"?"↑":"↓"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Showing ",S.length," of ",t.length," recipes",(d||y)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),S.length!==t.length&&a.jsx("button",{onClick:C,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"BOM Code"}),a.jsx("th",{className:"table-header",children:"Product Name"}),a.jsx("th",{className:"table-header",children:"Description"}),a.jsx("th",{className:"table-header",children:"Version"}),a.jsx("th",{className:"table-header",children:"Total Cost"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Items"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(M=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell font-medium",children:M.bomCode}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"text-gray-900",children:M.productName})}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"text-gray-600 text-sm max-w-xs truncate",children:M.productDescription})}),a.jsx("td",{className:"table-cell",children:M.version}),a.jsxs("td",{className:"table-cell",children:[M.totalCost.toFixed(2)," KWD"]}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M.status==="Active"?"bg-green-100 text-green-800":M.status==="Draft"?"bg-yellow-100 text-yellow-800":M.status==="Obsolete"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:M.status})}),a.jsx("td",{className:"table-cell",children:a.jsxs("span",{className:"text-sm text-gray-600",children:[M.items.length," ingredients"]})}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>P(M),className:"text-green-600 hover:text-green-900",title:"View Details",children:a.jsx(Tn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>e(`/bill-of-materials/edit/${M.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>A(M.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:a.jsx(it,{className:"h-4 w-4"})})]})})]},M.id))})]})})}),a.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Total Recipes: ",a.jsx("span",{className:"font-semibold text-blue-600",children:t.length})]}),u&&l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"BOM Details"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ye,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"BOM Code"}),a.jsx("p",{className:"text-gray-900 font-mono",children:l.bomCode})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),a.jsx("p",{className:"text-gray-900",children:l.productName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),a.jsx("p",{className:"text-gray-900",children:l.version})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l.status==="Active"?"bg-green-100 text-green-800":l.status==="Draft"?"bg-yellow-100 text-yellow-800":l.status==="Obsolete"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:l.status})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost"}),a.jsxs("p",{className:"text-gray-900 font-semibold",children:[l.totalCost.toFixed(2)," KWD"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(l.effectiveDate).toLocaleDateString()})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("p",{className:"text-gray-900",children:l.productDescription})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Ingredients (",l.items.length," items)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Code"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Cost"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.items.map((M,R)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-mono",children:M.materialCode}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:M.materialName}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:M.quantity}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:M.unitOfMeasure}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[M.unitCost.toFixed(2)," KWD"]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[M.totalCost.toFixed(2)," KWD"]})]},R))})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),a.jsx("p",{className:"text-gray-900",children:l.createdBy})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(l.createdAt).toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),a.jsx("p",{className:"text-gray-900",children:l.updatedBy})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(l.updatedAt).toLocaleString()})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[a.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",children:"Close"}),a.jsx("button",{onClick:()=>{m(!1),e(`/bill-of-materials/edit/${l.id}`)},className:"btn-primary",children:"Edit BOM"})]})]})}),a.jsx("input",{type:"file",ref:x,onChange:I,accept:".csv",style:{display:"none"}})]})},fJ=()=>{const e=Oe(),[t,r]=k.useState({bomCode:"",productName:"",productDescription:"",version:"1.0",effectiveDate:new Date().toISOString().split("T")[0],status:"Draft",items:[]}),[n,i]=k.useState({}),s=["Draft","Active","Obsolete"],o=()=>{const f={};if(t.bomCode.trim()?t.bomCode.trim().length<3&&(f.bomCode="BOM code must be at least 3 characters"):f.bomCode="BOM code is required",t.productName.trim()||(f.productName="Product name is required"),t.productDescription.trim()||(f.productDescription="Product description is required"),t.version.trim()?/^\d+\.\d+$/.test(t.version.trim())||(f.version="Version must be in format X.X (e.g., 1.0)"):f.version="Version is required",!t.effectiveDate)f.effectiveDate="Effective date is required";else{const y=new Date(t.effectiveDate);(isNaN(y.getTime())||y<new Date("2020-01-01"))&&(f.effectiveDate="Please select a valid date after 2020")}return t.items.length===0?f.items="At least one BOM item is required":t.items.forEach((y,g)=>{y.materialCode.trim()||(f[`item_${g}_code`]="Material code is required"),y.materialName.trim()||(f[`item_${g}_name`]="Material name is required"),(!y.quantity||y.quantity<=0)&&(f[`item_${g}_quantity`]="Quantity must be greater than 0"),y.unitOfMeasure.trim()||(f[`item_${g}_unit`]="Unit of measure is required"),(!y.unitCost||y.unitCost<=0)&&(f[`item_${g}_cost`]="Unit cost must be greater than 0")}),i(f),Object.keys(f).length===0},l=async f=>{if(f.preventDefault(),!!o())try{const y=t.items.reduce((v,b)=>{const j=b.quantity*b.unitCost;return v+j},0),g={bomCode:t.bomCode.trim().toUpperCase().replace(/\s+/g,"-"),productName:t.productName.trim(),productDescription:t.productDescription.trim(),version:t.version.trim(),effectiveDate:t.effectiveDate,status:t.status,totalCost:Math.round(y*100)/100,items:t.items.map(v=>({materialId:v.materialId||`MAT-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,materialCode:v.materialCode.trim().toUpperCase(),materialName:v.materialName.trim(),quantity:parseFloat(v.quantity.toString()),unitOfMeasure:v.unitOfMeasure.trim(),unitCost:parseFloat(v.unitCost.toString()),totalCost:Math.round(v.quantity*v.unitCost*100)/100})),createdBy:"admin",updatedBy:"admin"};console.log("Creating BOM:",g);const p=await le.createBillOfMaterial(g);p.success?(console.log("BOM created successfully:",p.data),e("/bill-of-materials")):alert("Failed to create BOM: "+p.message)}catch(y){console.error("Error creating BOM:",y),alert("Error creating BOM: "+(y instanceof Error?y.message:"Unknown error"))}},c=(f,y)=>{r(g=>({...g,[f]:y})),n[f]&&i(g=>({...g,[f]:""}))},u=()=>{const f={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitCost:0,totalCost:0};r(y=>({...y,items:[...y.items,f]}))},m=(f,y,g)=>{r(p=>({...p,items:p.items.map((v,b)=>{if(b===f){const j={...v,[y]:g};return(y==="quantity"||y==="unitCost")&&(j.totalCost=j.quantity*j.unitCost),j}return v})}))},d=f=>{r(y=>({...y,items:y.items.filter((g,p)=>p!==f)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Recipe"}),a.jsx("p",{className:"text-gray-600",children:"Create a new bill of materials"})]}),a.jsxs("button",{onClick:()=>e("/bill-of-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Recipes"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:l,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BOM Code *"}),a.jsx("input",{type:"text",className:`input-field ${n.bomCode?"border-red-500":""}`,value:t.bomCode,onChange:f=>c("bomCode",f.target.value),placeholder:"SANDWICH-001"}),n.bomCode&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.bomCode})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Version *"}),a.jsx("input",{type:"text",className:`input-field ${n.version?"border-red-500":""}`,value:t.version,onChange:f=>c("version",f.target.value),placeholder:"1.0"}),n.version&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.version})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),a.jsx("input",{type:"text",className:`input-field ${n.productName?"border-red-500":""}`,value:t.productName,onChange:f=>c("productName",f.target.value),placeholder:"Chicken Club Sandwich"}),n.productName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.productName})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Description"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.productDescription,onChange:f=>c("productDescription",f.target.value),placeholder:"Delicious sandwich with grilled chicken, bacon, lettuce, tomato, and mayo on toasted bread"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Effective Date *"}),a.jsx("input",{type:"date",className:`input-field ${n.effectiveDate?"border-red-500":""}`,value:t.effectiveDate,onChange:f=>c("effectiveDate",f.target.value)}),n.effectiveDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.effectiveDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:t.status,onChange:f=>c("status",f.target.value),children:s.map(f=>a.jsx("option",{value:f,children:f},f))})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recipe Items"}),a.jsxs("button",{type:"button",onClick:u,className:"btn-secondary flex items-center text-sm",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),n.items&&a.jsx("p",{className:"mb-4 text-sm text-red-600",children:n.items}),a.jsx("div",{className:"space-y-4",children:t.items.map((f,y)=>a.jsxs("div",{className:"grid grid-cols-6 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:f.materialCode,onChange:g=>m(y,"materialCode",g.target.value),placeholder:"CHICKEN-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:f.materialName,onChange:g=>m(y,"materialName",g.target.value),placeholder:"Chicken Breast"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:f.quantity,onChange:g=>m(y,"quantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:f.unitOfMeasure,onChange:g=>m(y,"unitOfMeasure",g.target.value),placeholder:"grams"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Cost"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:f.unitCost,onChange:g=>m(y,"unitCost",parseFloat(g.target.value)||0),placeholder:"0.00"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>d(y),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(it,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-6",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Total Cost: ",f.totalCost.toFixed(2)," KWD"]})})]},y))}),t.items.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total BOM Cost: ",t.items.reduce((f,y)=>f+y.totalCost,0).toFixed(2)," KWD"]})})})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/bill-of-materials"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Create BOM"]})]})]})})]})},hJ=()=>{const e=Oe(),{id:t}=ma(),[r,n]=k.useState({bomCode:"",productName:"",productDescription:"",version:"",effectiveDate:"",status:"Draft",items:[]}),[i,s]=k.useState({}),[o,l]=k.useState(!0),c=["Draft","Active","Obsolete"],u={id:"1",bomCode:"BOM-001",productName:"Steel Frame Assembly",productDescription:"Complete steel frame for construction",version:"1.0",effectiveDate:new Date("2024-01-01"),status:"Active",totalCost:1250.75,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:10,unitOfMeasure:"KG",unitCost:45.5,totalCost:455},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:5,unitOfMeasure:"SQM",unitCost:125,totalCost:625}],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdBy:"admin",updatedBy:"admin"};k.useEffect(()=>{setTimeout(()=>{n({bomCode:u.bomCode,productName:u.productName,productDescription:u.productDescription,version:u.version,effectiveDate:u.effectiveDate.toISOString().split("T")[0],status:u.status,items:u.items}),l(!1)},500)},[t]);const m=()=>{const v={};return r.bomCode.trim()||(v.bomCode="BOM code is required"),r.productName.trim()||(v.productName="Product name is required"),r.version.trim()||(v.version="Version is required"),r.effectiveDate||(v.effectiveDate="Effective date is required"),r.items.length===0&&(v.items="At least one BOM item is required"),s(v),Object.keys(v).length===0},d=v=>{if(v.preventDefault(),!m())return;const b=r.items.reduce((h,w)=>h+w.totalCost,0),j={...u,bomCode:r.bomCode,productName:r.productName,productDescription:r.productDescription,version:r.version,effectiveDate:new Date(r.effectiveDate),status:r.status,totalCost:b,items:r.items,updatedAt:new Date,updatedBy:"admin"};console.log("Updating BOM:",j),e("/bill-of-materials")},f=(v,b)=>{n(j=>({...j,[v]:b})),i[v]&&s(j=>({...j,[v]:""}))},y=()=>{const v={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitCost:0,totalCost:0};n(b=>({...b,items:[...b.items,v]}))},g=(v,b,j)=>{n(h=>({...h,items:h.items.map((w,x)=>{if(x===v){const N={...w,[b]:j};return(b==="quantity"||b==="unitCost")&&(N.totalCost=N.quantity*N.unitCost),N}return w})}))},p=v=>{n(b=>({...b,items:b.items.filter((j,h)=>h!==v)}))};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading BOM data..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Recipe"}),a.jsx("p",{className:"text-gray-600",children:"Update bill of materials information"})]}),a.jsxs("button",{onClick:()=>e("/bill-of-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Recipes"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:d,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BOM Code *"}),a.jsx("input",{type:"text",className:`input-field ${i.bomCode?"border-red-500":""}`,value:r.bomCode,onChange:v=>f("bomCode",v.target.value),placeholder:"SANDWICH-001"}),i.bomCode&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.bomCode})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Version *"}),a.jsx("input",{type:"text",className:`input-field ${i.version?"border-red-500":""}`,value:r.version,onChange:v=>f("version",v.target.value),placeholder:"1.0"}),i.version&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.version})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),a.jsx("input",{type:"text",className:`input-field ${i.productName?"border-red-500":""}`,value:r.productName,onChange:v=>f("productName",v.target.value),placeholder:"Chicken Club Sandwich"}),i.productName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.productName})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Description"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.productDescription,onChange:v=>f("productDescription",v.target.value),placeholder:"Delicious sandwich with grilled chicken, bacon, lettuce, tomato, and mayo on toasted bread"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Effective Date *"}),a.jsx("input",{type:"date",className:`input-field ${i.effectiveDate?"border-red-500":""}`,value:r.effectiveDate,onChange:v=>f("effectiveDate",v.target.value)}),i.effectiveDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.effectiveDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:r.status,onChange:v=>f("status",v.target.value),children:c.map(v=>a.jsx("option",{value:v,children:v},v))})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recipe Items"}),a.jsxs("button",{type:"button",onClick:y,className:"btn-secondary flex items-center text-sm",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),i.items&&a.jsx("p",{className:"mb-4 text-sm text-red-600",children:i.items}),a.jsx("div",{className:"space-y-4",children:r.items.map((v,b)=>a.jsxs("div",{className:"grid grid-cols-6 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:v.materialCode,onChange:j=>g(b,"materialCode",j.target.value),placeholder:"CHICKEN-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:v.materialName,onChange:j=>g(b,"materialName",j.target.value),placeholder:"Chicken Breast"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:v.quantity,onChange:j=>g(b,"quantity",parseFloat(j.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:v.unitOfMeasure,onChange:j=>g(b,"unitOfMeasure",j.target.value),placeholder:"grams"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Cost"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:v.unitCost,onChange:j=>g(b,"unitCost",parseFloat(j.target.value)||0),placeholder:"0.00"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>p(b),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(it,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-6",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Total Cost: ",v.totalCost.toFixed(2)," KWD"]})})]},b))}),r.items.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total BOM Cost: ",r.items.reduce((v,b)=>v+b.totalCost,0).toFixed(2)," KWD"]})})})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/bill-of-materials"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Update BOM"]})]})]})})]})},pJ=()=>{const e=Oe(),[t,r]=k.useState([]),[n,i]=k.useState(!0),[s,o]=k.useState(null),[l,c]=k.useState(null),[u,m]=k.useState(!1),[d,f]=k.useState(""),[y,g]=k.useState(""),[p,v]=k.useState(""),[b,j]=k.useState("createdAt"),[h,w]=k.useState("desc");k.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0),o(null);const A=await le.getJobOrders({limit:1e3,search:d,status:y,priority:p,sortBy:b,sortOrder:h});A.success?(console.log("Loaded Job Orders:",A.data),r(A.data)):o("Failed to load job orders")}catch(A){o(A instanceof Error?A.message:"Failed to load job orders"),console.error("Error loading job orders:",A)}finally{i(!1)}},N=()=>{f(""),g(""),v(""),j("createdAt"),w("desc")},S=A=>{c(A),m(!0)},C=async A=>{if(console.log("Deleting Job Order with ID:",A),!A){alert("Error: Job Order ID is missing");return}if(window.confirm("Are you sure you want to delete this job order?"))try{(await le.deleteJobOrder(A)).success?await x():alert("Failed to delete job order")}catch(E){alert("Error deleting job order: "+(E instanceof Error?E.message:"Unknown error")),console.error("Error deleting job order:",E)}},P=t.filter(A=>{const E=A.jobOrderNumber.toLowerCase().includes(d.toLowerCase())||A.customerName.toLowerCase().includes(d.toLowerCase())||A.customerId.toLowerCase().includes(d.toLowerCase()),O=y===""||A.status.toLowerCase()===y.toLowerCase(),I=p===""||A.priority.toLowerCase()===p.toLowerCase();return E&&O&&I}).sort((A,E)=>{let O,I;switch(b){case"jobOrderNumber":O=A.jobOrderNumber,I=E.jobOrderNumber;break;case"customerName":O=A.customerName,I=E.customerName;break;case"totalAmount":O=A.totalAmount,I=E.totalAmount;break;case"orderDate":O=new Date(A.orderDate).getTime(),I=new Date(E.orderDate).getTime();break;case"createdAt":O=new Date(A.createdAt).getTime(),I=new Date(E.createdAt).getTime();break;default:O=new Date(A.createdAt).getTime(),I=new Date(E.createdAt).getTime()}return h==="asc"?O>I?1:-1:O<I?1:-1});return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading recipe orders..."})]})}):s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-red-600 mb-4",children:s}),a.jsx("button",{onClick:x,className:"btn-primary",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recipe Orders"}),a.jsx("p",{className:"text-gray-600",children:"Manage your restaurant's recipe orders and customer requests"})]}),a.jsxs("button",{onClick:()=>e("/job-orders/add"),className:"btn-primary flex items-center",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Create Recipe Order"]})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search orders by number, customer name, or email...",className:"input-field pl-10",value:d,onChange:A=>f(A.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:N,className:"btn-secondary flex items-center",title:"Clear all filters",children:[a.jsx(In,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),a.jsxs("button",{className:"btn-secondary flex items-center",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{className:"input-field",value:y,onChange:A=>g(A.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsxs("select",{className:"input-field",value:p,onChange:A=>v(A.target.value),children:[a.jsx("option",{value:"",children:"All Priority"}),a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("select",{className:"input-field flex-1",value:b,onChange:A=>j(A.target.value),children:[a.jsx("option",{value:"createdAt",children:"Date Created"}),a.jsx("option",{value:"jobOrderNumber",children:"Order Number"}),a.jsx("option",{value:"customerName",children:"Customer Name"}),a.jsx("option",{value:"totalAmount",children:"Total Amount"}),a.jsx("option",{value:"orderDate",children:"Order Date"})]}),a.jsx("button",{onClick:()=>w(h==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${h==="asc"?"Descending":"Ascending"}`,children:h==="asc"?"↑":"↓"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Showing ",P.length," of ",t.length," recipe orders",(d||y||p)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),P.length!==t.length&&a.jsx("button",{onClick:N,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Recipe Order #"}),a.jsx("th",{className:"table-header",children:"Customer"}),a.jsx("th",{className:"table-header",children:"Order Date"}),a.jsx("th",{className:"table-header",children:"Delivery Date"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Priority"}),a.jsx("th",{className:"table-header",children:"Total Amount"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell font-medium",children:A.jobOrderNumber}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900",children:A.customerName}),a.jsx("div",{className:"text-gray-500 text-sm",children:A.customerId})]})}),a.jsx("td",{className:"table-cell",children:new Date(A.orderDate).toLocaleDateString()}),a.jsx("td",{className:"table-cell",children:new Date(A.deliveryDate).toLocaleDateString()}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.status==="Completed"?"bg-green-100 text-green-800":A.status==="In Progress"?"bg-blue-100 text-blue-800":A.status==="Pending"?"bg-purple-100 text-purple-800":A.status==="Cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:A.status})}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.priority==="Urgent"?"bg-red-100 text-red-800":A.priority==="High"?"bg-orange-100 text-orange-800":A.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:A.priority})}),a.jsxs("td",{className:"table-cell",children:[A.totalAmount.toFixed(2)," KWD"]}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>S(A),className:"text-green-600 hover:text-green-900",title:"View Details",children:a.jsx(Tn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>e(`/job-orders/edit/${A.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>C(A.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:a.jsx(it,{className:"h-4 w-4"})})]})})]},A.id))})]})})}),a.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Total Recipe Orders: ",a.jsx("span",{className:"font-semibold text-blue-600",children:t.length})]}),u&&l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recipe Order Details"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ye,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number"}),a.jsx("p",{className:"text-gray-900 font-mono",children:l.jobOrderNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),a.jsx("p",{className:"text-gray-900",children:l.customerName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Email"}),a.jsx("p",{className:"text-gray-900",children:l.customerId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Contact"}),a.jsx("p",{className:"text-gray-900",children:l.customerId||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(l.orderDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(l.deliveryDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l.status==="Completed"?"bg-green-100 text-green-800":l.status==="In Progress"?"bg-blue-100 text-blue-800":l.status==="Pending"?"bg-purple-100 text-purple-800":l.status==="Cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:l.status})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l.priority==="Urgent"?"bg-red-100 text-red-800":l.priority==="High"?"bg-orange-100 text-orange-800":l.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:l.priority})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),a.jsxs("p",{className:"text-gray-900 font-semibold",children:[l.totalAmount.toFixed(2)," KWD"]})]})]}),l.notes&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("p",{className:"text-gray-900",children:l.notes})]}),l.notes&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),a.jsx("p",{className:"text-gray-900",children:l.notes})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Recipe Items (",l.items.length," items)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet A"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet B"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet C"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Qty"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Price"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.items.map((A,E)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:A.product}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:A.outletA}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:A.outletB}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:A.outletC}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:A.totalQuantity}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[A.unitPrice.toFixed(2)," KWD"]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[A.totalPrice.toFixed(2)," KWD"]})]},E))})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),a.jsx("p",{className:"text-gray-900",children:l.createdBy})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(l.createdAt).toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),a.jsx("p",{className:"text-gray-900",children:l.updatedBy})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(l.updatedAt).toLocaleString()})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[a.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",children:"Close"}),a.jsx("button",{onClick:()=>{m(!1),e(`/job-orders/edit/${l.id}`)},className:"btn-primary",children:"Edit Order"})]})]})})]})},xJ=()=>{const e=Oe(),[t,r]=k.useState({jobOrderNumber:"",customerName:"",customerContact:"",customerEmail:"",orderDate:"",deliveryDate:"",priority:"Medium",status:"Draft",totalAmount:0,items:[],notes:"",specialInstructions:""}),[n,i]=k.useState({}),[s,o]=k.useState([]),[l,c]=k.useState(!1),u=["Low","Medium","High","Urgent"],m=["Draft","Approved","In Progress","Completed","Cancelled"];k.useEffect(()=>{d()},[]);const d=async()=>{try{c(!0);const h=await le.getBillOfMaterials({limit:1e3,status:"Active"});h.success&&o(h.data)}catch(h){console.error("Error loading BOMs:",h)}finally{c(!1)}},f=()=>{const h={};return t.jobOrderNumber.trim()||(h.jobOrderNumber="Job order number is required"),t.customerName.trim()||(h.customerName="Customer name is required"),t.customerEmail.trim()||(h.customerEmail="Customer email is required"),t.orderDate||(h.orderDate="Order date is required"),t.deliveryDate||(h.deliveryDate="Delivery date is required"),t.items.length===0&&(h.items="At least one job order item is required"),i(h),Object.keys(h).length===0},y=async h=>{if(h.preventDefault(),!!f())try{const w=t.items.reduce((S,C)=>S+C.totalPrice,0),x={jobOrderNumber:t.jobOrderNumber.trim().toUpperCase(),customerId:`CUST-${Date.now()}`,customerName:t.customerName.trim(),customerContact:t.customerContact.trim(),customerEmail:t.customerEmail.trim(),orderDate:t.orderDate,deliveryDate:t.deliveryDate,priority:t.priority,status:t.status,totalAmount:w,items:t.items.map(S=>({bomId:S.bomId,bomCode:S.bomCode,product:S.product.trim(),outletA:parseFloat(S.outletA.toString())||0,outletB:parseFloat(S.outletB.toString())||0,outletC:parseFloat(S.outletC.toString())||0,totalQuantity:S.totalQuantity,unitPrice:parseFloat(S.unitPrice.toString()),totalPrice:S.totalPrice})),notes:t.notes.trim(),specialInstructions:t.specialInstructions.trim(),createdBy:"admin",updatedBy:"admin"};console.log("Creating Job Order:",x);const N=await le.createJobOrder(x);N.success?(console.log("Job Order created successfully:",N.data),e("/job-orders")):alert("Failed to create Job Order: "+N.message)}catch(w){console.error("Error creating Job Order:",w),alert("Error creating Job Order: "+(w instanceof Error?w.message:"Unknown error"))}},g=(h,w)=>{r(x=>({...x,[h]:w})),n[h]&&i(x=>({...x,[h]:""}))},p=()=>{const h={bomId:"",bomCode:"",product:"",outletA:0,outletB:0,outletC:0,totalQuantity:0,unitPrice:0,totalPrice:0};r(w=>({...w,items:[...w.items,h]}))},v=(h,w)=>{const x=s.find(N=>N.id===w);x&&r(N=>({...N,items:N.items.map((S,C)=>{if(C===h){const P={...S,bomId:x.id,bomCode:x.bomCode,product:x.productName,unitPrice:parseFloat((x.totalCost/x.items.length).toFixed(2))};return P.totalQuantity=P.outletA+P.outletB+P.outletC,P.totalPrice=parseFloat((P.totalQuantity*P.unitPrice).toFixed(2)),P}return S})}))},b=(h,w,x)=>{r(N=>({...N,items:N.items.map((S,C)=>{if(C===h){const P={...S,[w]:x};return(w==="outletA"||w==="outletB"||w==="outletC")&&(P.totalQuantity=P.outletA+P.outletB+P.outletC),(w==="totalQuantity"||w==="unitPrice"||w==="outletA"||w==="outletB"||w==="outletC")&&(P.totalPrice=parseFloat((P.totalQuantity*P.unitPrice).toFixed(2))),P}return S})}))},j=h=>{r(w=>({...w,items:w.items.filter((x,N)=>N!==h)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Job Order"}),a.jsx("p",{className:"text-gray-600",children:"Create a new job order for production"})]}),a.jsxs("button",{onClick:()=>e("/job-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Job Orders"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:y,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Order Number *"}),a.jsx("input",{type:"text",className:`input-field ${n.jobOrderNumber?"border-red-500":""}`,value:t.jobOrderNumber,onChange:h=>g("jobOrderNumber",h.target.value),placeholder:"JO-2024-001"}),n.jobOrderNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.jobOrderNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),a.jsx("input",{type:"text",className:`input-field ${n.customerName?"border-red-500":""}`,value:t.customerName,onChange:h=>g("customerName",h.target.value),placeholder:"ABC Manufacturing Ltd."}),n.customerName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.customerName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Contact"}),a.jsx("input",{type:"text",className:"input-field",value:t.customerContact,onChange:h=>g("customerContact",h.target.value),placeholder:"John Smith"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Email *"}),a.jsx("input",{type:"email",className:`input-field ${n.customerEmail?"border-red-500":""}`,value:t.customerEmail,onChange:h=>g("customerEmail",h.target.value),placeholder:"john@abcmfg.com"}),n.customerEmail&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.customerEmail})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),a.jsx("input",{type:"date",className:`input-field ${n.orderDate?"border-red-500":""}`,value:t.orderDate,onChange:h=>g("orderDate",h.target.value)}),n.orderDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.orderDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Date *"}),a.jsx("input",{type:"date",className:`input-field ${n.deliveryDate?"border-red-500":""}`,value:t.deliveryDate,onChange:h=>g("deliveryDate",h.target.value)}),n.deliveryDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.deliveryDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),a.jsx("select",{className:"input-field",value:t.priority,onChange:h=>g("priority",h.target.value),children:u.map(h=>a.jsx("option",{value:h,children:h},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:t.status,onChange:h=>g("status",h.target.value),children:m.map(h=>a.jsx("option",{value:h,children:h},h))})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Order Items"}),a.jsxs("button",{type:"button",onClick:p,className:"btn-secondary flex items-center text-sm",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),n.items&&a.jsx("p",{className:"mb-4 text-sm text-red-600",children:n.items}),a.jsx("div",{className:"space-y-4",children:t.items.map((h,w)=>a.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Recipe (BOM)"}),a.jsxs("select",{className:"input-field text-sm",value:h.bomId||"",onChange:x=>v(w,x.target.value),children:[a.jsx("option",{value:"",children:"Select Recipe"}),l?a.jsx("option",{disabled:!0,children:"Loading recipes..."}):s.map(x=>a.jsxs("option",{value:x.id,children:[x.bomCode," - ",x.productName]},x.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product"}),a.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:h.product,readOnly:!0,placeholder:"Auto-filled from BOM"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:h.unitPrice,readOnly:!0,placeholder:"Auto-calculated"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet A"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:h.outletA,onChange:x=>b(w,"outletA",parseFloat(x.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet B"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:h.outletB,onChange:x=>b(w,"outletB",parseFloat(x.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet C"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:h.outletC,onChange:x=>b(w,"outletC",parseFloat(x.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Total Quantity"}),a.jsx("input",{type:"number",className:"input-field text-sm bg-gray-100",value:h.totalQuantity,readOnly:!0,placeholder:"Auto-calculated"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>j(w),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(it,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-8",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",h.totalPrice.toFixed(2)," KWD"]})})]},w))}),t.items.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",t.items.reduce((h,w)=>h+w.totalPrice,0).toFixed(2)," KWD"]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:h=>g("notes",h.target.value),placeholder:"Additional notes or comments"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.specialInstructions,onChange:h=>g("specialInstructions",h.target.value),placeholder:"Special manufacturing instructions or requirements"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/job-orders"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Create Job Order"]})]})]})})]})},yJ=()=>{const e=Oe(),{id:t}=ma(),[r,n]=k.useState({jobOrderNumber:"",customerName:"",customerContact:"",customerEmail:"",orderDate:"",deliveryDate:"",priority:"Medium",status:"Draft",totalAmount:0,items:[],notes:"",specialInstructions:""}),[i,s]=k.useState({}),[o,l]=k.useState(!0),[c,u]=k.useState([]),[m,d]=k.useState(!1),f=["Low","Medium","High","Urgent"],y=["Draft","Approved","In Progress","Completed","Cancelled"];k.useEffect(()=>{(async()=>{try{d(!0);const N=await le.getBillOfMaterials({limit:1e3,status:"Active"});N.success&&u(N.data)}catch(N){console.error("Error loading BOMs:",N)}finally{d(!1)}if(!t){l(!1);return}try{l(!0);const N=await le.getJobOrder(t);if(N.success){const S=N.data;n({jobOrderNumber:S.jobOrderNumber,customerName:S.customerName,customerContact:S.customerContact||"",customerEmail:S.customerEmail,orderDate:new Date(S.orderDate).toISOString().split("T")[0],deliveryDate:new Date(S.deliveryDate).toISOString().split("T")[0],priority:S.priority,status:S.status,totalAmount:S.totalAmount,items:S.items.map(C=>({bomId:C.bomId,bomCode:C.bomCode,product:C.product,outletA:C.outletA,outletB:C.outletB,outletC:C.outletC,totalQuantity:C.totalQuantity,unitPrice:C.unitPrice,totalPrice:C.totalPrice})),notes:S.notes||"",specialInstructions:S.specialInstructions||""})}else console.error("Failed to load job order:","API Error"),alert("Failed to load job order: API Error")}catch(N){console.error("Error loading job order:",N),alert("Error loading job order: "+(N instanceof Error?N.message:"Unknown error"))}finally{l(!1)}})()},[t]);const g=()=>{const x={};return r.jobOrderNumber.trim()||(x.jobOrderNumber="Job order number is required"),r.customerName.trim()||(x.customerName="Customer name is required"),r.customerEmail.trim()||(x.customerEmail="Customer email is required"),r.orderDate||(x.orderDate="Order date is required"),r.deliveryDate||(x.deliveryDate="Delivery date is required"),r.items.length===0&&(x.items="At least one job order item is required"),s(x),Object.keys(x).length===0},p=async x=>{if(x.preventDefault(),!!g()){if(!t){alert("Job Order ID is missing");return}try{const N=r.items.reduce((P,A)=>P+A.totalPrice,0),S={jobOrderNumber:r.jobOrderNumber.trim().toUpperCase(),customerId:`CUST-${Date.now()}`,customerName:r.customerName.trim(),customerContact:r.customerContact.trim(),customerEmail:r.customerEmail.trim(),orderDate:r.orderDate,deliveryDate:r.deliveryDate,priority:r.priority,status:r.status,totalAmount:N,items:r.items.map(P=>({bomId:P.bomId,bomCode:P.bomCode,product:P.product.trim(),outletA:parseFloat(P.outletA.toString())||0,outletB:parseFloat(P.outletB.toString())||0,outletC:parseFloat(P.outletC.toString())||0,totalQuantity:P.totalQuantity,unitPrice:parseFloat(P.unitPrice.toString()),totalPrice:P.totalPrice})),notes:r.notes.trim(),specialInstructions:r.specialInstructions.trim(),updatedBy:"admin"};console.log("Updating Job Order:",S);const C=await le.updateJobOrder(t,S);C.success?(console.log("Job Order updated successfully:",C.data),e("/job-orders")):alert("Failed to update Job Order: "+C.message)}catch(N){console.error("Error updating Job Order:",N),alert("Error updating Job Order: "+(N instanceof Error?N.message:"Unknown error"))}}},v=(x,N)=>{n(S=>({...S,[x]:N})),i[x]&&s(S=>({...S,[x]:""}))},b=()=>{const x={bomId:"",bomCode:"",product:"",outletA:0,outletB:0,outletC:0,totalQuantity:0,unitPrice:0,totalPrice:0};n(N=>({...N,items:[...N.items,x]}))},j=(x,N)=>{const S=c.find(C=>C.id===N);S&&n(C=>({...C,items:C.items.map((P,A)=>{if(A===x){const E={...P,bomId:S.id,bomCode:S.bomCode,product:S.productName,unitPrice:parseFloat((S.totalCost/S.items.length).toFixed(2))};return E.totalQuantity=E.outletA+E.outletB+E.outletC,E.totalPrice=parseFloat((E.totalQuantity*E.unitPrice).toFixed(2)),E}return P})}))},h=(x,N,S)=>{n(C=>({...C,items:C.items.map((P,A)=>{if(A===x){const E={...P,[N]:S};return(N==="outletA"||N==="outletB"||N==="outletC")&&(E.totalQuantity=E.outletA+E.outletB+E.outletC),(N==="totalQuantity"||N==="unitPrice"||N==="outletA"||N==="outletB"||N==="outletC")&&(E.totalPrice=parseFloat((E.totalQuantity*E.unitPrice).toFixed(2))),E}return P})}))},w=x=>{n(N=>({...N,items:N.items.filter((S,C)=>C!==x)}))};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading job order data..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Job Order"}),a.jsx("p",{className:"text-gray-600",children:"Update job order information"})]}),a.jsxs("button",{onClick:()=>e("/job-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Job Orders"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:p,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Order Number *"}),a.jsx("input",{type:"text",className:`input-field ${i.jobOrderNumber?"border-red-500":""}`,value:r.jobOrderNumber,onChange:x=>v("jobOrderNumber",x.target.value),placeholder:"JO-2024-001"}),i.jobOrderNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.jobOrderNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),a.jsx("input",{type:"text",className:`input-field ${i.customerName?"border-red-500":""}`,value:r.customerName,onChange:x=>v("customerName",x.target.value),placeholder:"ABC Manufacturing Ltd."}),i.customerName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.customerName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Contact"}),a.jsx("input",{type:"text",className:"input-field",value:r.customerContact,onChange:x=>v("customerContact",x.target.value),placeholder:"John Smith"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Email *"}),a.jsx("input",{type:"email",className:`input-field ${i.customerEmail?"border-red-500":""}`,value:r.customerEmail,onChange:x=>v("customerEmail",x.target.value),placeholder:"john@abcmfg.com"}),i.customerEmail&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.customerEmail})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),a.jsx("input",{type:"date",className:`input-field ${i.orderDate?"border-red-500":""}`,value:r.orderDate,onChange:x=>v("orderDate",x.target.value)}),i.orderDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.orderDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Date *"}),a.jsx("input",{type:"date",className:`input-field ${i.deliveryDate?"border-red-500":""}`,value:r.deliveryDate,onChange:x=>v("deliveryDate",x.target.value)}),i.deliveryDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.deliveryDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),a.jsx("select",{className:"input-field",value:r.priority,onChange:x=>v("priority",x.target.value),children:f.map(x=>a.jsx("option",{value:x,children:x},x))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:r.status,onChange:x=>v("status",x.target.value),children:y.map(x=>a.jsx("option",{value:x,children:x},x))})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Order Items"}),a.jsxs("button",{type:"button",onClick:b,className:"btn-secondary flex items-center text-sm",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),i.items&&a.jsx("p",{className:"mb-4 text-sm text-red-600",children:i.items}),a.jsx("div",{className:"space-y-4",children:r.items.map((x,N)=>a.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Recipe (BOM)"}),a.jsxs("select",{className:"input-field text-sm",value:x.bomId||"",onChange:S=>j(N,S.target.value),children:[a.jsx("option",{value:"",children:"Select Recipe"}),m?a.jsx("option",{disabled:!0,children:"Loading recipes..."}):c.map(S=>a.jsxs("option",{value:S.id,children:[S.bomCode," - ",S.productName]},S.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product"}),a.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:x.product,readOnly:!0,placeholder:"Auto-filled from BOM"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:x.unitPrice,readOnly:!0,placeholder:"Auto-calculated"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet A"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:x.outletA,onChange:S=>h(N,"outletA",parseFloat(S.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet B"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:x.outletB,onChange:S=>h(N,"outletB",parseFloat(S.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet C"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:x.outletC,onChange:S=>h(N,"outletC",parseFloat(S.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Total Quantity"}),a.jsx("input",{type:"number",className:"input-field text-sm bg-gray-100",value:x.totalQuantity,readOnly:!0,placeholder:"Auto-calculated"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>w(N),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(it,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-8",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",x.totalPrice.toFixed(2)," KWD"]})})]},N))}),r.items.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",r.items.reduce((x,N)=>x+N.totalPrice,0).toFixed(2)," KWD"]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:x=>v("notes",x.target.value),placeholder:"Additional notes or comments"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.specialInstructions,onChange:x=>v("specialInstructions",x.target.value),placeholder:"Special manufacturing instructions or requirements"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/job-orders"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Update Job Order"]})]})]})})]})},gJ=()=>{const e=Oe(),[t,r]=k.useState([]),[n,i]=k.useState(!0),[s,o]=k.useState(null),[l,c]=k.useState(""),[u,m]=k.useState(null),[d,f]=k.useState(!1),[y,g]=k.useState(""),[p,v]=k.useState("createdAt"),[b,j]=k.useState("desc"),[h,w]=k.useState(!1),x=k.useRef(null);k.useEffect(()=>{N()},[]),k.useEffect(()=>{n||N()},[l,y,p,b]);const N=async()=>{try{i(!0),o(null);const R=await le.getPurchaseOrders({limit:1e3,search:l,status:y,sortBy:p,sortOrder:b});if(R.success){console.log("Loaded Purchase Orders:",R.data);const W=R.data.map(L=>({...L,orderDate:new Date(L.orderDate),expectedDeliveryDate:new Date(L.expectedDeliveryDate),createdAt:new Date(L.createdAt),updatedAt:new Date(L.updatedAt)}));r(W)}else o("Failed to load purchase orders")}catch(R){o(R instanceof Error?R.message:"Failed to load purchase orders"),console.error("Error loading purchase orders:",R)}finally{i(!1)}},S=t,C=R=>{switch(R){case"Completed":return"bg-green-100 text-green-800";case"Confirmed":return"bg-blue-100 text-blue-800";case"Sent":return"bg-yellow-100 text-yellow-800";case"Partial":return"bg-orange-100 text-orange-800";case"Draft":return"bg-gray-100 text-gray-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=async R=>{if(window.confirm("Are you sure you want to delete this purchase order?"))try{(await le.deletePurchaseOrder(R)).success?await N():alert("Failed to delete purchase order")}catch(W){alert("Error deleting purchase order: "+(W instanceof Error?W.message:"Unknown error")),console.error("Error deleting purchase order:",W)}},A=()=>{c(""),g(""),v("createdAt"),j("desc"),N()},E=()=>{if(t.length===0){alert("No purchase orders to export");return}const R=[["PO Number","Supplier Name","Order Date","Expected Delivery Date","Status","Payment Terms","Total Amount","Created At","Updated At","Notes"].join(","),...t.map(U=>[U.poNumber,U.supplierName,U.orderDate.toLocaleDateString(),U.expectedDeliveryDate.toLocaleDateString(),U.status,U.terms,U.totalAmount.toFixed(2),U.createdAt.toLocaleDateString(),U.updatedAt.toLocaleDateString(),U.notes||""].map(F=>`"${F}"`).join(","))].join(`
`),W=new Blob([R],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a"),D=URL.createObjectURL(W);L.setAttribute("href",D),L.setAttribute("download",`purchase-orders-${new Date().toISOString().split("T")[0]}.csv`),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L)},O=()=>{var R;(R=x.current)==null||R.click()},I=async R=>{var L;const W=(L=R.target.files)==null?void 0:L[0];if(W){if(!W.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{w(!0);const U=(await W.text()).split(`
`).filter(ee=>ee.trim());if(U.length<2){alert("CSV file must contain at least a header row and one data row");return}const F=U.slice(1);let $=0,K=0;for(const ee of F)try{const Q=ee.split(",").map(Ie=>Ie.replace(/"/g,"").trim()),fe={poNumber:Q[0]||"",supplierName:Q[1]||"",orderDate:Q[2]||new Date().toISOString().split("T")[0],expectedDeliveryDate:Q[3]||new Date().toISOString().split("T")[0],status:Q[4]||"Draft",terms:Q[5]||"Net 30",totalAmount:parseFloat(Q[6])||0,notes:Q[9]||""};(await le.createPurchaseOrder(fe)).success?$++:K++}catch{K++}alert(`Import completed!

Successfully imported: ${$} Purchase Orders
Errors: ${K}`),await N()}catch(D){alert("Error importing file: "+(D instanceof Error?D.message:"Unknown error"))}finally{w(!1),x.current&&(x.current.value="")}}},T=()=>{const W=[["PO Number","Supplier Name","Order Date","Expected Delivery Date","Status","Payment Terms","Total Amount","Created At","Updated At","Notes"],["PO-001","Fresh Foods Ltd","2024-01-15","2024-01-20","Draft","Net 30","1500.00","2024-01-15","2024-01-15","Monthly produce order"],["PO-002","Kitchen Supplies Co","2024-01-16","2024-01-22","Confirmed","Net 15","2500.00","2024-01-16","2024-01-16","Equipment purchase"]].map(F=>F.map($=>`"${$}"`).join(",")).join(`
`),L=new Blob([W],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),U=URL.createObjectURL(L);D.setAttribute("href",U),D.setAttribute("download","purchase-orders-sample-template.csv"),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D)},M=()=>a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Details"}),a.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ye,{className:"h-6 w-6"})})]}),u&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"PO Number"}),a.jsx("p",{className:"text-sm text-gray-900",children:u.poNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Supplier"}),a.jsx("p",{className:"text-sm text-gray-900",children:u.supplierName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Order Date"}),a.jsx("p",{className:"text-sm text-gray-900",children:u.orderDate.toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expected Delivery"}),a.jsx("p",{className:"text-sm text-gray-900",children:u.expectedDeliveryDate.toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(u.status)}`,children:u.status})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Terms"}),a.jsx("p",{className:"text-sm text-gray-900",children:u.terms})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Manual Creation"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Purchase Items"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Material Code"}),a.jsx("th",{className:"table-header",children:"Material Name"}),a.jsx("th",{className:"table-header",children:"Quantity"}),a.jsx("th",{className:"table-header",children:"Unit Price"}),a.jsx("th",{className:"table-header",children:"Received"}),a.jsx("th",{className:"table-header",children:"Total Price"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.items.map((R,W)=>a.jsxs("tr",{children:[a.jsx("td",{className:"table-cell",children:R.materialCode}),a.jsx("td",{className:"table-cell",children:R.materialName}),a.jsx("td",{className:"table-cell",children:R.quantity}),a.jsxs("td",{className:"table-cell",children:[R.unitPrice.toFixed(2)," KWD"]}),a.jsx("td",{className:"table-cell",children:R.receivedQuantity||0}),a.jsxs("td",{className:"table-cell font-medium",children:[R.totalPrice.toFixed(2)," KWD"]})]},W))})]})}),a.jsx("div",{className:"mt-4 text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Amount: ",u.totalAmount.toFixed(2)," KWD"]})})]}),u.notes&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-900",children:u.notes})]})]})]})})});return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading purchase orders..."})]})}):s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-red-600 mb-4",children:s}),a.jsx("button",{onClick:N,className:"btn-primary",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchase Orders"}),a.jsx("p",{className:"text-gray-600",children:"Manage supplier orders and procurement"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:N,className:"btn-secondary flex items-center",title:"Refresh purchase orders",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:()=>e("/purchase-orders/add"),className:"btn-primary flex items-center",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Create Purchase Order"]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search purchase orders...",className:"input-field pl-10",value:l,onChange:R=>c(R.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{className:"input-field",value:y,onChange:R=>g(R.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Sent",children:"Sent"}),a.jsx("option",{value:"Confirmed",children:"Confirmed"}),a.jsx("option",{value:"Partial",children:"Partial"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("button",{onClick:A,className:"btn-secondary flex items-center",title:"Clear all filters",children:[a.jsx(In,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),a.jsxs("button",{onClick:E,className:"btn-secondary flex items-center",title:"Export purchase orders to CSV",disabled:t.length===0,children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs("button",{onClick:O,className:"btn-secondary flex items-center",title:"Import purchase orders from CSV",disabled:h,children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),h?"Importing...":"Import"]}),a.jsxs("button",{onClick:T,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mt-4",children:[a.jsxs("span",{children:["Showing ",S.length," purchase orders",(l||y)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(l||y)&&a.jsx("button",{onClick:A,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"PO Number"}),a.jsx("th",{className:"table-header",children:"Supplier"}),a.jsx("th",{className:"table-header",children:"Order Date"}),a.jsx("th",{className:"table-header",children:"Expected Delivery"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Total Amount"}),a.jsx("th",{className:"table-header",children:"Source"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell font-medium",children:R.poNumber}),a.jsx("td",{className:"table-cell",children:R.supplierName}),a.jsx("td",{className:"table-cell",children:R.orderDate.toLocaleDateString()}),a.jsx("td",{className:"table-cell",children:R.expectedDeliveryDate.toLocaleDateString()}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(R.status)}`,children:R.status})}),a.jsxs("td",{className:"table-cell font-medium",children:[R.totalAmount.toFixed(2)," KWD"]}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Manual"})}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{m(R),f(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:a.jsx(Tn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>e(`/purchase-orders/edit/${R.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>P(R.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:a.jsx(it,{className:"h-4 w-4"})})]})})]},R.id))})]})})}),d&&a.jsx(M,{}),a.jsx("input",{type:"file",ref:x,onChange:I,accept:".csv",style:{display:"none"}})]})},vJ=()=>{const e=Oe(),[t,r]=k.useState({purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",supplierAddress:"",orderDate:"",expectedDeliveryDate:"",priority:"Medium",status:"Draft",paymentTerms:"Net 30",shippingMethod:"Standard",totalAmount:0,items:[],notes:"",specialInstructions:""}),[n,i]=k.useState({}),s=["Low","Medium","High","Urgent"],o=["Draft","Approved","Sent","Received","Cancelled"],l=["Net 15","Net 30","Net 45","Net 60","COD","Prepaid"],c=["Standard","Express","Overnight","Pickup"],u=()=>{const p={};return t.purchaseOrderNumber.trim()||(p.purchaseOrderNumber="Purchase order number is required"),t.supplierName.trim()||(p.supplierName="Supplier name is required"),t.supplierEmail.trim()||(p.supplierEmail="Supplier email is required"),t.orderDate||(p.orderDate="Order date is required"),t.expectedDeliveryDate||(p.expectedDeliveryDate="Expected delivery date is required"),t.items.length===0&&(p.items="At least one purchase order item is required"),i(p),Object.keys(p).length===0},m=p=>{if(p.preventDefault(),!u())return;const v=t.items.reduce((j,h)=>j+(h.totalPrice||0),0),b={id:Date.now().toString(),poNumber:t.purchaseOrderNumber,supplierId:"SUP-001",supplierName:t.supplierName,orderDate:new Date(t.orderDate),expectedDeliveryDate:new Date(t.expectedDeliveryDate),status:t.status,totalAmount:v,items:t.items.map(j=>({materialId:j.materialId,materialCode:j.materialCode,materialName:j.materialName,quantity:j.quantity,unitPrice:j.unitPrice,totalPrice:j.totalPrice})),terms:t.paymentTerms,notes:t.notes,createdAt:new Date,updatedAt:new Date,createdBy:"admin",updatedBy:"admin"};console.log("Creating Purchase Order:",b),e("/purchase-orders")},d=(p,v)=>{r(b=>({...b,[p]:v})),n[p]&&i(b=>({...b,[p]:""}))},f=()=>{const p={materialId:"",materialCode:"",materialName:"",quantity:0,unitPrice:0,totalPrice:0};r(v=>({...v,items:[...v.items,p]}))},y=(p,v,b)=>{r(j=>({...j,items:j.items.map((h,w)=>{if(w===p){const x={...h,[v]:b};return(v==="quantity"||v==="unitPrice")&&(x.totalPrice=x.quantity*x.unitPrice),x}return h})}))},g=p=>{r(v=>({...v,items:v.items.filter((b,j)=>j!==p)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Purchase Order"}),a.jsx("p",{className:"text-gray-600",children:"Create a new purchase order for materials"})]}),a.jsxs("button",{onClick:()=>e("/purchase-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Purchase Orders"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:m,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Supplier Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),a.jsx("input",{type:"text",className:`input-field ${n.purchaseOrderNumber?"border-red-500":""}`,value:t.purchaseOrderNumber,onChange:p=>d("purchaseOrderNumber",p.target.value),placeholder:"PO-2024-001"}),n.purchaseOrderNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.purchaseOrderNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),a.jsx("input",{type:"text",className:`input-field ${n.supplierName?"border-red-500":""}`,value:t.supplierName,onChange:p=>d("supplierName",p.target.value),placeholder:"ABC Steel Suppliers"}),n.supplierName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.supplierName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),a.jsx("input",{type:"text",className:"input-field",value:t.supplierContact,onChange:p=>d("supplierContact",p.target.value),placeholder:"John Smith"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email *"}),a.jsx("input",{type:"email",className:`input-field ${n.supplierEmail?"border-red-500":""}`,value:t.supplierEmail,onChange:p=>d("supplierEmail",p.target.value),placeholder:"john@abcsteel.com"}),n.supplierEmail&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.supplierEmail})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Address"}),a.jsx("textarea",{className:"input-field",rows:2,value:t.supplierAddress,onChange:p=>d("supplierAddress",p.target.value),placeholder:"123 Industrial Street, Manufacturing District, City, State 12345"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),a.jsx("input",{type:"date",className:`input-field ${n.orderDate?"border-red-500":""}`,value:t.orderDate,onChange:p=>d("orderDate",p.target.value)}),n.orderDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.orderDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),a.jsx("input",{type:"date",className:`input-field ${n.expectedDeliveryDate?"border-red-500":""}`,value:t.expectedDeliveryDate,onChange:p=>d("expectedDeliveryDate",p.target.value)}),n.expectedDeliveryDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.expectedDeliveryDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),a.jsx("select",{className:"input-field",value:t.priority,onChange:p=>d("priority",p.target.value),children:s.map(p=>a.jsx("option",{value:p,children:p},p))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:t.status,onChange:p=>d("status",p.target.value),children:o.map(p=>a.jsx("option",{value:p,children:p},p))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms"}),a.jsx("select",{className:"input-field",value:t.paymentTerms,onChange:p=>d("paymentTerms",p.target.value),children:l.map(p=>a.jsx("option",{value:p,children:p},p))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Method"}),a.jsx("select",{className:"input-field",value:t.shippingMethod,onChange:p=>d("shippingMethod",p.target.value),children:c.map(p=>a.jsx("option",{value:p,children:p},p))})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Items"}),a.jsxs("button",{type:"button",onClick:f,className:"btn-secondary flex items-center text-sm",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),n.items&&a.jsx("p",{className:"mb-4 text-sm text-red-600",children:n.items}),a.jsx("div",{className:"space-y-4",children:t.items.map((p,v)=>a.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:p.materialCode,onChange:b=>y(v,"materialCode",b.target.value),placeholder:"RM-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:p.materialName,onChange:b=>y(v,"materialName",b.target.value),placeholder:"Steel Rod"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:p.quantity,onChange:b=>y(v,"quantity",parseFloat(b.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:p.unitPrice,onChange:b=>y(v,"unitPrice",parseFloat(b.target.value)||0),placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Delivery Date"}),a.jsx("input",{type:"date",className:"input-field text-sm",value:"",onChange:b=>y(v,"deliveryDate",b.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:"",onChange:b=>y(v,"specifications",b.target.value),placeholder:"Grade A, 12mm"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>g(v),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(it,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-7",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",(p.totalPrice||0).toFixed(2)," KWD"]})})]},v))}),t.items.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",t.items.reduce((p,v)=>p+(v.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:p=>d("notes",p.target.value),placeholder:"Additional notes or comments"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.specialInstructions,onChange:p=>d("specialInstructions",p.target.value),placeholder:"Special delivery instructions or quality requirements"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/purchase-orders"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Create Purchase Order"]})]})]})})]})},bJ=()=>{const e=Oe(),{id:t}=ma(),[r,n]=k.useState({purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",supplierAddress:"",orderDate:"",expectedDeliveryDate:"",priority:"Medium",status:"Draft",shippingMethod:"Standard",totalAmount:0,items:[],notes:"",specialInstructions:""}),[i,s]=k.useState({}),[o,l]=k.useState(!0),c=["Low","Medium","High","Urgent"],u=["Draft","Approved","Sent","Received","Cancelled"],m=["Net 15","Net 30","Net 45","Net 60","COD","Prepaid"],d=["Standard","Express","Overnight","Pickup"],f={id:"1",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"ABC Steel Suppliers",orderDate:new Date("2024-01-15"),expectedDeliveryDate:new Date("2024-02-15"),status:"Confirmed",totalAmount:15750,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:100,unitPrice:45.5,totalPrice:4550},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:50,unitPrice:125,totalPrice:6250},{materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",quantity:200,unitPrice:23.75,totalPrice:4750}],notes:"Supplier requires advance payment for expedited delivery.",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20"),createdBy:"admin",updatedBy:"admin"};k.useEffect(()=>{setTimeout(()=>{n({purchaseOrderNumber:f.poNumber,supplierName:f.supplierName,supplierContact:"John Smith",supplierEmail:"john@abcsteel.com",supplierAddress:"123 Industrial Street",orderDate:f.orderDate.toISOString().split("T")[0],expectedDeliveryDate:f.expectedDeliveryDate.toISOString().split("T")[0],priority:"High",status:"Approved",shippingMethod:"Express",totalAmount:f.totalAmount,items:f.items.map(h=>({...h,totalAmount:h.totalPrice})),notes:f.notes,specialInstructions:"Special handling required"}),l(!1)},500)},[t]);const y=()=>{const h={};return r.purchaseOrderNumber.trim()||(h.purchaseOrderNumber="Purchase order number is required"),r.supplierName.trim()||(h.supplierName="Supplier name is required"),r.supplierEmail.trim()||(h.supplierEmail="Supplier email is required"),r.orderDate||(h.orderDate="Order date is required"),r.expectedDeliveryDate||(h.expectedDeliveryDate="Expected delivery date is required"),r.items.length===0&&(h.items="At least one purchase order item is required"),s(h),Object.keys(h).length===0},g=h=>{if(h.preventDefault(),!y())return;const w=r.items.reduce((N,S)=>N+(S.totalPrice||0),0),x={...f,poNumber:r.purchaseOrderNumber,supplierName:r.supplierName,orderDate:new Date(r.orderDate),expectedDeliveryDate:new Date(r.expectedDeliveryDate),status:r.status,totalAmount:w,items:r.items,notes:r.notes,updatedAt:new Date,updatedBy:"admin"};console.log("Updating Purchase Order:",x),e("/purchase-orders")},p=(h,w)=>{n(x=>({...x,[h]:w})),i[h]&&s(x=>({...x,[h]:""}))},v=()=>{const h={materialId:"",materialCode:"",materialName:"",quantity:0,unitPrice:0,totalPrice:0,totalAmount:0};n(w=>({...w,items:[...w.items,h]}))},b=(h,w,x)=>{n(N=>({...N,items:N.items.map((S,C)=>{if(C===h){const P={...S,[w]:x};return(w==="quantity"||w==="unitPrice")&&(P.totalPrice=P.quantity*P.unitPrice),P}return S})}))},j=h=>{n(w=>({...w,items:w.items.filter((x,N)=>N!==h)}))};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading purchase order data..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Purchase Order"}),a.jsx("p",{className:"text-gray-600",children:"Update purchase order information"})]}),a.jsxs("button",{onClick:()=>e("/purchase-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Purchase Orders"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:g,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Supplier Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),a.jsx("input",{type:"text",className:`input-field ${i.purchaseOrderNumber?"border-red-500":""}`,value:r.purchaseOrderNumber,onChange:h=>p("purchaseOrderNumber",h.target.value),placeholder:"PO-2024-001"}),i.purchaseOrderNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.purchaseOrderNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),a.jsx("input",{type:"text",className:`input-field ${i.supplierName?"border-red-500":""}`,value:r.supplierName,onChange:h=>p("supplierName",h.target.value),placeholder:"ABC Steel Suppliers"}),i.supplierName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.supplierName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),a.jsx("input",{type:"text",className:"input-field",value:r.supplierContact,onChange:h=>p("supplierContact",h.target.value),placeholder:"John Smith"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email *"}),a.jsx("input",{type:"email",className:`input-field ${i.supplierEmail?"border-red-500":""}`,value:r.supplierEmail,onChange:h=>p("supplierEmail",h.target.value),placeholder:"john@abcsteel.com"}),i.supplierEmail&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.supplierEmail})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Address"}),a.jsx("textarea",{className:"input-field",rows:2,value:r.supplierAddress,onChange:h=>p("supplierAddress",h.target.value),placeholder:"123 Industrial Street, Manufacturing District, City, State 12345"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),a.jsx("input",{type:"date",className:`input-field ${i.orderDate?"border-red-500":""}`,value:r.orderDate,onChange:h=>p("orderDate",h.target.value)}),i.orderDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.orderDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),a.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:r.expectedDeliveryDate,onChange:h=>p("expectedDeliveryDate",h.target.value)}),i.expectedDeliveryDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),a.jsx("select",{className:"input-field",value:r.priority,onChange:h=>p("priority",h.target.value),children:c.map(h=>a.jsx("option",{value:h,children:h},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:r.status,onChange:h=>p("status",h.target.value),children:u.map(h=>a.jsx("option",{value:h,children:h},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms"}),a.jsx("select",{className:"input-field",value:"",onChange:h=>p("paymentTerms",h.target.value),children:m.map(h=>a.jsx("option",{value:h,children:h},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Method"}),a.jsx("select",{className:"input-field",value:r.shippingMethod,onChange:h=>p("shippingMethod",h.target.value),children:d.map(h=>a.jsx("option",{value:h,children:h},h))})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Items"}),a.jsxs("button",{type:"button",onClick:v,className:"btn-secondary flex items-center text-sm",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),i.items&&a.jsx("p",{className:"mb-4 text-sm text-red-600",children:i.items}),a.jsx("div",{className:"space-y-4",children:r.items.map((h,w)=>a.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:h.materialCode,onChange:x=>b(w,"materialCode",x.target.value),placeholder:"RM-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:h.materialName,onChange:x=>b(w,"materialName",x.target.value),placeholder:"Steel Rod"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:h.quantity,onChange:x=>b(w,"quantity",parseFloat(x.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:h.unitPrice,onChange:x=>b(w,"unitPrice",parseFloat(x.target.value)||0),placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Delivery Date"}),a.jsx("input",{type:"date",className:"input-field text-sm",value:"",onChange:x=>b(w,"deliveryDate",x.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:"",onChange:x=>b(w,"specifications",x.target.value),placeholder:"Grade A, 12mm"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>j(w),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(it,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-7",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",(h.totalPrice||0).toFixed(2)," KWD"]})})]},w))}),r.items.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",r.items.reduce((h,w)=>h+(w.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:h=>p("notes",h.target.value),placeholder:"Additional notes or comments"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.specialInstructions,onChange:h=>p("specialInstructions",h.target.value),placeholder:"Special delivery instructions or quality requirements"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/purchase-orders"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Update Purchase Order"]})]})]})})]})},jJ=()=>{const e=Oe(),[t,r]=k.useState([{id:"1",grnNumber:"GRN-2024-001",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"Steel Suppliers Ltd.",receiptDate:new Date("2024-01-20"),status:"Approved",totalAmount:4550,items:[{poItemId:"PO-ITEM-001",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",orderedQuantity:100,receivedQuantity:100,unitPrice:45.5,totalPrice:4550,qualityStatus:"Accepted",remarks:"Good quality"}],warehouseId:"WH-001",warehouseName:"Main Warehouse",receivedBy:"John Doe",notes:"All items received in good condition",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20"),createdBy:"admin",updatedBy:"admin"}]),[n,i]=k.useState(""),[s,o]=k.useState(null),[l,c]=k.useState(!1),[u,m]=k.useState(!1),d=k.useRef(null),f=t.filter(h=>h.grnNumber.toLowerCase().includes(n.toLowerCase())||h.supplierName.toLowerCase().includes(n.toLowerCase())),y=h=>{switch(h){case"Approved":return"bg-green-100 text-green-800";case"Draft":return"bg-gray-100 text-gray-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=h=>{window.confirm("Are you sure you want to delete this GRN?")&&r(t.filter(w=>w.id!==h))},p=()=>{if(f.length===0){alert("No GRNs to export");return}const h=[["GRN Number","PO Number","Supplier Name","Receipt Date","Status","Total Amount","Created By","Updated By"].join(","),...f.map(S=>[S.grnNumber,S.poNumber,S.supplierName,S.receiptDate.toLocaleDateString(),S.status,S.totalAmount.toFixed(2),S.createdBy,S.updatedBy].map(C=>`"${C}"`).join(","))].join(`
`),w=new Blob([h],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a"),N=URL.createObjectURL(w);x.setAttribute("href",N),x.setAttribute("download",`grn-receipts-${new Date().toISOString().split("T")[0]}.csv`),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)},v=()=>{var h;(h=d.current)==null||h.click()},b=async h=>{var x;const w=(x=h.target.files)==null?void 0:x[0];if(w){if(!w.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{m(!0);const S=(await w.text()).split(`
`).filter(E=>E.trim());if(S.length<2){alert("CSV file must contain at least a header row and one data row");return}const C=S.slice(1);let P=0,A=0;for(const E of C)try{const O=E.split(",").map(T=>T.replace(/"/g,"").trim()),I={id:`grn-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,grnNumber:O[0]||"",poNumber:O[1]||"",supplierId:"SUP-001",supplierName:O[2]||"",warehouseId:"WH-001",warehouseName:"Main Warehouse",receiptDate:new Date(O[3]||new Date().toISOString().split("T")[0]),status:O[4]||"Draft",totalAmount:parseFloat(O[5])||0,items:[],receivedBy:O[6]||"admin",createdBy:O[6]||"admin",updatedBy:O[7]||"admin",createdAt:new Date,updatedAt:new Date};r(T=>[...T,I]),P++}catch{A++}alert(`Import completed!

Successfully imported: ${P} GRNs
Errors: ${A}`)}catch(N){alert("Error importing file: "+(N instanceof Error?N.message:"Unknown error"))}finally{m(!1),d.current&&(d.current.value="")}}},j=()=>{const w=[["GRN Number","PO Number","Supplier Name","Receipt Date","Status","Total Amount","Created By","Updated By"],["GRN-2024-003","PO-2024-003","Fresh Foods Ltd","2024-01-22","Approved","1200.00","admin","admin"],["GRN-2024-004","PO-2024-004","Kitchen Supplies Co","2024-01-23","Draft","850.00","admin","admin"]].map(C=>C.map(P=>`"${P}"`).join(",")).join(`
`),x=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),S=URL.createObjectURL(x);N.setAttribute("href",S),N.setAttribute("download","grn-sample-template.csv"),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Good Receipt Notes"}),a.jsx("p",{className:"text-gray-600",children:"Manage incoming material receipts"})]}),a.jsxs("button",{onClick:()=>e("/good-receipt-notes/add"),className:"btn-primary flex items-center",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Create GRN"]})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search GRNs...",className:"input-field pl-10",value:n,onChange:h=>i(h.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"btn-secondary flex items-center",children:[a.jsx(In,{className:"h-4 w-4 mr-2"}),"Filter"]}),a.jsxs("button",{onClick:p,className:"btn-secondary flex items-center",title:"Export GRNs to CSV",disabled:f.length===0,children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs("button",{onClick:v,className:"btn-secondary flex items-center",title:"Import GRNs from CSV",disabled:u,children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),u?"Importing...":"Import"]}),a.jsxs("button",{onClick:j,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"GRN Number"}),a.jsx("th",{className:"table-header",children:"PO Number"}),a.jsx("th",{className:"table-header",children:"Supplier"}),a.jsx("th",{className:"table-header",children:"Receipt Date"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Warehouse"}),a.jsx("th",{className:"table-header",children:"Total Amount"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(h=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell font-medium",children:h.grnNumber}),a.jsx("td",{className:"table-cell",children:h.poNumber}),a.jsx("td",{className:"table-cell",children:h.supplierName}),a.jsx("td",{className:"table-cell",children:h.receiptDate.toLocaleDateString()}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(h.status)}`,children:h.status})}),a.jsx("td",{className:"table-cell",children:h.warehouseName}),a.jsxs("td",{className:"table-cell font-medium",children:[h.totalAmount.toFixed(2)," KWD"]}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{o(h),c(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:a.jsx(Tn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>e(`/good-receipt-notes/edit/${h.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>g(h.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:a.jsx(it,{className:"h-4 w-4"})})]})})]},h.id))})]})})}),a.jsx("input",{type:"file",ref:d,onChange:b,accept:".csv",style:{display:"none"}})]})},NJ=()=>{const e=Oe(),[t,r]=k.useState({grnNumber:"",purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",receiptDate:"",receivedBy:"",inspectedBy:"",status:"Draft",warehouseLocation:"",totalAmount:0,items:[],notes:"",qualityRemarks:"",deliveryChallanNumber:"",transporterName:"",vehicleNumber:""}),[n,i]=k.useState({}),s=["Draft","Approved","Rejected"],o=()=>{const f={};return t.grnNumber.trim()||(f.grnNumber="GRN number is required"),t.purchaseOrderNumber.trim()||(f.purchaseOrderNumber="Purchase order number is required"),t.supplierName.trim()||(f.supplierName="Supplier name is required"),t.receiptDate||(f.receiptDate="Receipt date is required"),t.receivedBy.trim()||(f.receivedBy="Received by is required"),t.items.length===0&&(f.items="At least one GRN item is required"),i(f),Object.keys(f).length===0},l=f=>{if(f.preventDefault(),!o())return;const y=t.items.reduce((p,v)=>p+(v.totalPrice||0),0),g={id:Date.now().toString(),grnNumber:t.grnNumber,poNumber:t.purchaseOrderNumber,supplierId:"SUP-001",supplierName:t.supplierName,receiptDate:new Date(t.receiptDate),status:t.status,totalAmount:y,items:t.items.map(p=>({poItemId:p.poItemId,materialId:p.materialId,materialCode:p.materialCode,materialName:p.materialName,orderedQuantity:p.orderedQuantity,receivedQuantity:p.receivedQuantity,unitPrice:p.unitPrice,totalPrice:p.totalPrice,qualityStatus:p.qualityStatus,remarks:p.remarks})),warehouseId:"WH-001",warehouseName:t.warehouseLocation,receivedBy:t.receivedBy,notes:t.notes,createdAt:new Date,updatedAt:new Date,createdBy:"admin",updatedBy:"admin"};console.log("Creating GRN:",g),e("/good-receipt-notes")},c=(f,y)=>{r(g=>({...g,[f]:y})),n[f]&&i(g=>({...g,[f]:""}))},u=()=>{const f={poItemId:"",materialId:"",materialCode:"",materialName:"",orderedQuantity:0,receivedQuantity:0,unitPrice:0,totalPrice:0,qualityStatus:"Accepted",remarks:"",acceptedQuantity:0,rejectedQuantity:0,totalAmount:0,specifications:"",batchNumber:"",expiryDate:""};r(y=>({...y,items:[...y.items,f]}))},m=(f,y,g)=>{r(p=>({...p,items:p.items.map((v,b)=>{if(b===f){const j={...v,[y]:g};return(y==="receivedQuantity"||y==="unitPrice")&&(j.totalPrice=j.receivedQuantity*j.unitPrice),j}return v})}))},d=f=>{r(y=>({...y,items:y.items.filter((g,p)=>p!==f)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New GRN"}),a.jsx("p",{className:"text-gray-600",children:"Create a new good receipt note"})]}),a.jsxs("button",{onClick:()=>e("/good-receipt-notes"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to GRNs"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:l,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GRN Number *"}),a.jsx("input",{type:"text",className:`input-field ${n.grnNumber?"border-red-500":""}`,value:t.grnNumber,onChange:f=>c("grnNumber",f.target.value),placeholder:"GRN-2024-001"}),n.grnNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.grnNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),a.jsx("input",{type:"text",className:`input-field ${n.purchaseOrderNumber?"border-red-500":""}`,value:t.purchaseOrderNumber,onChange:f=>c("purchaseOrderNumber",f.target.value),placeholder:"PO-2024-001"}),n.purchaseOrderNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.purchaseOrderNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),a.jsx("input",{type:"text",className:`input-field ${n.supplierName?"border-red-500":""}`,value:t.supplierName,onChange:f=>c("supplierName",f.target.value),placeholder:"ABC Steel Suppliers"}),n.supplierName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.supplierName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),a.jsx("input",{type:"text",className:"input-field",value:t.supplierContact,onChange:f=>c("supplierContact",f.target.value),placeholder:"John Smith"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email"}),a.jsx("input",{type:"email",className:"input-field",value:t.supplierEmail,onChange:f=>c("supplierEmail",f.target.value),placeholder:"john@abcsteel.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Date *"}),a.jsx("input",{type:"date",className:`input-field ${n.receiptDate?"border-red-500":""}`,value:t.receiptDate,onChange:f=>c("receiptDate",f.target.value)}),n.receiptDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.receiptDate})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Receipt Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By *"}),a.jsx("input",{type:"text",className:`input-field ${n.receivedBy?"border-red-500":""}`,value:t.receivedBy,onChange:f=>c("receivedBy",f.target.value),placeholder:"Warehouse Manager"}),n.receivedBy&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.receivedBy})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inspected By"}),a.jsx("input",{type:"text",className:"input-field",value:t.inspectedBy,onChange:f=>c("inspectedBy",f.target.value),placeholder:"Quality Inspector"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:t.status,onChange:f=>c("status",f.target.value),children:s.map(f=>a.jsx("option",{value:f,children:f},f))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Location"}),a.jsx("input",{type:"text",className:"input-field",value:t.warehouseLocation,onChange:f=>c("warehouseLocation",f.target.value),placeholder:"Main Warehouse - Zone A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Challan Number"}),a.jsx("input",{type:"text",className:"input-field",value:t.deliveryChallanNumber,onChange:f=>c("deliveryChallanNumber",f.target.value),placeholder:"DC-2024-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transporter Name"}),a.jsx("input",{type:"text",className:"input-field",value:t.transporterName,onChange:f=>c("transporterName",f.target.value),placeholder:"ABC Logistics"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number"}),a.jsx("input",{type:"text",className:"input-field",value:t.vehicleNumber,onChange:f=>c("vehicleNumber",f.target.value),placeholder:"MH-12-AB-1234"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"GRN Items"}),a.jsxs("button",{type:"button",onClick:u,className:"btn-secondary flex items-center text-sm",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),n.items&&a.jsx("p",{className:"mb-4 text-sm text-red-600",children:n.items}),a.jsx("div",{className:"space-y-4",children:t.items.map((f,y)=>a.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:f.materialCode,onChange:g=>m(y,"materialCode",g.target.value),placeholder:"RM-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:f.materialName,onChange:g=>m(y,"materialName",g.target.value),placeholder:"Steel Rod"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ordered Qty"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:f.orderedQuantity,onChange:g=>m(y,"orderedQuantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Received Qty"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:f.receivedQuantity,onChange:g=>m(y,"receivedQuantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Accepted Qty"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:f.receivedQuantity,onChange:g=>m(y,"receivedQuantity",parseFloat(g.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:f.unitPrice,onChange:g=>m(y,"unitPrice",parseFloat(g.target.value)||0),placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Batch Number"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:f.batchNumber||"",onChange:g=>m(y,"batchNumber",g.target.value),placeholder:"B001"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>d(y),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(it,{className:"h-4 w-4"})})}),a.jsxs("div",{className:"col-span-8",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:f.specifications||"",onChange:g=>m(y,"specifications",g.target.value),placeholder:"Grade A, 12mm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Expiry Date"}),a.jsx("input",{type:"date",className:"input-field text-sm",value:f.expiryDate||"",onChange:g=>m(y,"expiryDate",g.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quality Status"}),a.jsxs("select",{className:"input-field text-sm",value:f.qualityStatus,onChange:g=>m(y,"qualityStatus",g.target.value),children:[a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Total Amount: ",(f.totalPrice||0).toFixed(2)," KWD"]})]})]},y))}),t.items.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total GRN Amount: ",t.items.reduce((f,y)=>f+(y.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:f=>c("notes",f.target.value),placeholder:"Additional notes or comments"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Remarks"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.qualityRemarks,onChange:f=>c("qualityRemarks",f.target.value),placeholder:"Quality inspection remarks and observations"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/good-receipt-notes"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Create GRN"]})]})]})})]})},wJ=()=>{const e=Oe(),{id:t}=ma(),[r,n]=k.useState({grnNumber:"",purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",receiptDate:"",receivedBy:"",inspectedBy:"",status:"Draft",warehouseLocation:"",totalAmount:0,items:[],notes:"",qualityRemarks:"",deliveryChallanNumber:"",transporterName:"",vehicleNumber:""}),[i,s]=k.useState({}),[o,l]=k.useState(!0),c=["Draft","Approved","Rejected"],u={id:"1",grnNumber:"GRN-2024-001",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"ABC Steel Suppliers",receiptDate:new Date("2024-01-20"),status:"Approved",totalAmount:15750,items:[{poItemId:"POI-001",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",orderedQuantity:100,receivedQuantity:100,unitPrice:45.5,totalPrice:4550,qualityStatus:"Accepted",remarks:"Good quality"},{poItemId:"POI-002",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",orderedQuantity:50,receivedQuantity:50,unitPrice:125,totalPrice:6250,qualityStatus:"Accepted",remarks:"Excellent quality"},{poItemId:"POI-003",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",orderedQuantity:200,receivedQuantity:200,unitPrice:23.75,totalPrice:4750,qualityStatus:"Accepted",remarks:"Good quality"}],warehouseId:"WH-001",warehouseName:"Main Warehouse",receivedBy:"Warehouse Manager",notes:"All materials received in good condition.",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-21"),createdBy:"admin",updatedBy:"admin"};k.useEffect(()=>{setTimeout(()=>{n({grnNumber:u.grnNumber,purchaseOrderNumber:u.poNumber,supplierName:u.supplierName,supplierContact:"John Smith",supplierEmail:"john@abcsteel.com",receiptDate:u.receiptDate.toISOString().split("T")[0],receivedBy:u.receivedBy,inspectedBy:"Quality Inspector",status:u.status,warehouseLocation:u.warehouseName,totalAmount:u.totalAmount,items:u.items.map(v=>({...v,acceptedQuantity:v.receivedQuantity,rejectedQuantity:0,totalAmount:v.totalPrice,specifications:"Standard specifications",batchNumber:"BATCH-001",expiryDate:"2025-12-31"})),notes:u.notes,qualityRemarks:"Quality inspection completed",deliveryChallanNumber:"DC-2024-001",transporterName:"ABC Logistics",vehicleNumber:"MH-12-AB-1234"}),l(!1)},500)},[t]);const m=()=>{const v={};return r.grnNumber.trim()||(v.grnNumber="GRN number is required"),r.purchaseOrderNumber.trim()||(v.purchaseOrderNumber="Purchase order number is required"),r.supplierName.trim()||(v.supplierName="Supplier name is required"),r.receiptDate||(v.receiptDate="Receipt date is required"),r.receivedBy.trim()||(v.receivedBy="Received by is required"),r.items.length===0&&(v.items="At least one GRN item is required"),s(v),Object.keys(v).length===0},d=v=>{if(v.preventDefault(),!m())return;const b=r.items.reduce((h,w)=>h+w.totalAmount,0),j={...u,grnNumber:r.grnNumber,poNumber:r.purchaseOrderNumber,supplierName:r.supplierName,receiptDate:new Date(r.receiptDate),receivedBy:r.receivedBy,status:r.status,warehouseName:r.warehouseLocation,totalAmount:b,items:r.items.map(h=>({poItemId:h.poItemId,materialId:h.materialId,materialCode:h.materialCode,materialName:h.materialName,orderedQuantity:h.orderedQuantity,receivedQuantity:h.receivedQuantity,unitPrice:h.unitPrice,totalPrice:h.totalAmount,qualityStatus:h.qualityStatus,remarks:h.remarks})),notes:r.notes,updatedAt:new Date,updatedBy:"admin"};console.log("Updating GRN:",j),e("/good-receipt-notes")},f=(v,b)=>{n(j=>({...j,[v]:b})),i[v]&&s(j=>({...j,[v]:""}))},y=()=>{const v={poItemId:"",materialId:"",materialCode:"",materialName:"",orderedQuantity:0,receivedQuantity:0,unitPrice:0,totalPrice:0,qualityStatus:"Accepted",remarks:"",acceptedQuantity:0,rejectedQuantity:0,totalAmount:0,specifications:"",batchNumber:"",expiryDate:""};n(b=>({...b,items:[...b.items,v]}))},g=(v,b,j)=>{n(h=>({...h,items:h.items.map((w,x)=>{if(x===v){const N={...w,[b]:j};return(b==="acceptedQuantity"||b==="unitPrice")&&(N.totalAmount=N.acceptedQuantity*N.unitPrice),N}return w})}))},p=v=>{n(b=>({...b,items:b.items.filter((j,h)=>h!==v)}))};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading GRN data..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit GRN"}),a.jsx("p",{className:"text-gray-600",children:"Update good receipt note information"})]}),a.jsxs("button",{onClick:()=>e("/good-receipt-notes"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to GRNs"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:d,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GRN Number *"}),a.jsx("input",{type:"text",className:`input-field ${i.grnNumber?"border-red-500":""}`,value:r.grnNumber,onChange:v=>f("grnNumber",v.target.value),placeholder:"GRN-2024-001"}),i.grnNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.grnNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),a.jsx("input",{type:"text",className:`input-field ${i.purchaseOrderNumber?"border-red-500":""}`,value:r.purchaseOrderNumber,onChange:v=>f("purchaseOrderNumber",v.target.value),placeholder:"PO-2024-001"}),i.purchaseOrderNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.purchaseOrderNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),a.jsx("input",{type:"text",className:`input-field ${i.supplierName?"border-red-500":""}`,value:r.supplierName,onChange:v=>f("supplierName",v.target.value),placeholder:"ABC Steel Suppliers"}),i.supplierName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.supplierName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),a.jsx("input",{type:"text",className:"input-field",value:r.supplierContact,onChange:v=>f("supplierContact",v.target.value),placeholder:"John Smith"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email"}),a.jsx("input",{type:"email",className:"input-field",value:r.supplierEmail,onChange:v=>f("supplierEmail",v.target.value),placeholder:"john@abcsteel.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Date *"}),a.jsx("input",{type:"date",className:`input-field ${i.receiptDate?"border-red-500":""}`,value:r.receiptDate,onChange:v=>f("receiptDate",v.target.value)}),i.receiptDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.receiptDate})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Receipt Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By *"}),a.jsx("input",{type:"text",className:`input-field ${i.receivedBy?"border-red-500":""}`,value:r.receivedBy,onChange:v=>f("receivedBy",v.target.value),placeholder:"Warehouse Manager"}),i.receivedBy&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.receivedBy})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inspected By"}),a.jsx("input",{type:"text",className:"input-field",value:r.inspectedBy,onChange:v=>f("inspectedBy",v.target.value),placeholder:"Quality Inspector"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:r.status,onChange:v=>f("status",v.target.value),children:c.map(v=>a.jsx("option",{value:v,children:v},v))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Location"}),a.jsx("input",{type:"text",className:"input-field",value:r.warehouseLocation,onChange:v=>f("warehouseLocation",v.target.value),placeholder:"Main Warehouse - Zone A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Challan Number"}),a.jsx("input",{type:"text",className:"input-field",value:r.deliveryChallanNumber,onChange:v=>f("deliveryChallanNumber",v.target.value),placeholder:"DC-2024-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transporter Name"}),a.jsx("input",{type:"text",className:"input-field",value:r.transporterName,onChange:v=>f("transporterName",v.target.value),placeholder:"ABC Logistics"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number"}),a.jsx("input",{type:"text",className:"input-field",value:r.vehicleNumber,onChange:v=>f("vehicleNumber",v.target.value),placeholder:"MH-12-AB-1234"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"GRN Items"}),a.jsxs("button",{type:"button",onClick:y,className:"btn-secondary flex items-center text-sm",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),i.items&&a.jsx("p",{className:"mb-4 text-sm text-red-600",children:i.items}),a.jsx("div",{className:"space-y-4",children:r.items.map((v,b)=>a.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:v.materialCode,onChange:j=>g(b,"materialCode",j.target.value),placeholder:"RM-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:v.materialName,onChange:j=>g(b,"materialName",j.target.value),placeholder:"Steel Rod"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ordered Qty"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:v.orderedQuantity,onChange:j=>g(b,"orderedQuantity",parseFloat(j.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Received Qty"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:v.receivedQuantity,onChange:j=>g(b,"receivedQuantity",parseFloat(j.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Accepted Qty"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:v.acceptedQuantity,onChange:j=>g(b,"acceptedQuantity",parseFloat(j.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:v.unitPrice,onChange:j=>g(b,"unitPrice",parseFloat(j.target.value)||0),placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Batch Number"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:v.batchNumber,onChange:j=>g(b,"batchNumber",j.target.value),placeholder:"B001"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>p(b),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(it,{className:"h-4 w-4"})})}),a.jsxs("div",{className:"col-span-8",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:v.specifications,onChange:j=>g(b,"specifications",j.target.value),placeholder:"Grade A, 12mm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Expiry Date"}),a.jsx("input",{type:"date",className:"input-field text-sm",value:v.expiryDate,onChange:j=>g(b,"expiryDate",j.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quality Status"}),a.jsxs("select",{className:"input-field text-sm",value:v.qualityStatus,onChange:j=>g(b,"qualityStatus",j.target.value),children:[a.jsx("option",{value:"Pending",children:"Pending"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Total Amount: ",v.totalAmount.toFixed(2)," KWD"]})]})]},b))}),r.items.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total GRN Amount: ",r.items.reduce((v,b)=>v+b.totalAmount,0).toFixed(2)," KWD"]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:v=>f("notes",v.target.value),placeholder:"Additional notes or comments"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Remarks"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.qualityRemarks,onChange:v=>f("qualityRemarks",v.target.value),placeholder:"Quality inspection remarks and observations"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/good-receipt-notes"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Update GRN"]})]})]})})]})},SJ=()=>{const e=Oe(),[t,r]=k.useState([{id:"1",warehouseCode:"WH-001",warehouseName:"Main Warehouse",description:"Primary storage facility",address:{street:"123 Industrial Ave",city:"Industrial City",state:"State",zipCode:"12345",country:"Country"},capacity:1e4,currentCapacity:7500,managerId:"MGR-001",managerName:"John Smith",isActive:!0,storageTypes:["Dry Storage","Cold Storage"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdBy:"admin",updatedBy:"admin"},{id:"2",warehouseCode:"WH-002",warehouseName:"Secondary Warehouse",description:"Secondary storage facility",address:{street:"456 Storage St",city:"Storage City",state:"State",zipCode:"67890",country:"Country"},capacity:5e3,currentCapacity:2e3,managerId:"MGR-002",managerName:"Jane Doe",isActive:!0,storageTypes:["Dry Storage"],createdAt:new Date("2024-01-16"),updatedAt:new Date("2024-01-16"),createdBy:"admin",updatedBy:"admin"}]),[n,i]=k.useState(""),s=t.filter(u=>u.warehouseName.toLowerCase().includes(n.toLowerCase())||u.warehouseCode.toLowerCase().includes(n.toLowerCase())),o=(u,m)=>u/m*100,l=u=>u>=90?"bg-red-500":u>=75?"bg-yellow-500":"bg-green-500",c=u=>{window.confirm("Are you sure you want to delete this warehouse?")&&r(t.filter(m=>m.id!==u))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Warehouse Master"}),a.jsx("p",{className:"text-gray-600",children:"Manage warehouse locations and capacity"})]}),a.jsxs("button",{onClick:()=>e("/warehouse-master/add"),className:"btn-primary flex items-center",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Warehouse"]})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search warehouses...",className:"input-field pl-10",value:n,onChange:u=>i(u.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"btn-secondary flex items-center",children:[a.jsx(In,{className:"h-4 w-4 mr-2"}),"Filter"]}),a.jsxs("button",{className:"btn-secondary flex items-center",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(u=>{const m=o(u.currentCapacity,u.capacity);return a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:u.warehouseName}),a.jsx("p",{className:"text-sm text-gray-600",children:u.warehouseCode})]}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.isActive?"Active":"Inactive"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(su,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:[u.address.city,", ",u.address.state]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Kx,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:u.managerName})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[a.jsx("span",{children:"Capacity Usage"}),a.jsxs("span",{children:[m.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${l(m)}`,style:{width:`${m}%`}})}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.currentCapacity.toLocaleString()," / ",u.capacity.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Storage Types:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:u.storageTypes.map((d,f)=>a.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:d},f))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-4 pt-4 border-t",children:[a.jsx("button",{onClick:()=>e(`/warehouse-master/edit/${u.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>c(u.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:a.jsx(it,{className:"h-4 w-4"})})]})]},u.id)})})]})},CJ=()=>{const e=Oe(),[t,r]=k.useState({warehouseCode:"",warehouseName:"",warehouseType:"Main",location:"",address:"",city:"",state:"",country:"",postalCode:"",contactPerson:"",contactPhone:"",contactEmail:"",capacity:"",capacityUnit:"SQM",status:"Active",operatingHours:"",timezone:"",notes:"",specialRequirements:""}),[n,i]=k.useState({}),s=["Main","Sub","Transit","Cold Storage","Hazardous"],o=["Active","Inactive","Maintenance","Closed"],l=["SQM","CBM","KG","TON"],c=()=>{const d={};return t.warehouseCode.trim()||(d.warehouseCode="Warehouse code is required"),t.warehouseName.trim()||(d.warehouseName="Warehouse name is required"),t.location.trim()||(d.location="Location is required"),t.address.trim()||(d.address="Address is required"),t.city.trim()||(d.city="City is required"),t.state.trim()||(d.state="State is required"),t.country.trim()||(d.country="Country is required"),t.contactPerson.trim()||(d.contactPerson="Contact person is required"),t.contactPhone.trim()||(d.contactPhone="Contact phone is required"),t.contactEmail.trim()||(d.contactEmail="Contact email is required"),i(d),Object.keys(d).length===0},u=d=>{if(d.preventDefault(),!c())return;const f={id:Date.now().toString(),warehouseCode:t.warehouseCode,warehouseName:t.warehouseName,description:t.notes,address:{street:t.address,city:t.city,state:t.state,country:t.country,zipCode:t.postalCode},capacity:parseFloat(t.capacity)||0,currentCapacity:0,managerId:"MGR-001",managerName:t.contactPerson,isActive:t.status==="Active",storageTypes:["Dry Storage"],createdAt:new Date,updatedAt:new Date,createdBy:"admin",updatedBy:"admin"};console.log("Creating Warehouse:",f),e("/warehouse-master")},m=(d,f)=>{r(y=>({...y,[d]:f})),n[d]&&i(y=>({...y,[d]:""}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Warehouse"}),a.jsx("p",{className:"text-gray-600",children:"Create a new warehouse location"})]}),a.jsxs("button",{onClick:()=>e("/warehouse-master"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Warehouses"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:u,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Code *"}),a.jsx("input",{type:"text",className:`input-field ${n.warehouseCode?"border-red-500":""}`,value:t.warehouseCode,onChange:d=>m("warehouseCode",d.target.value),placeholder:"WH-001"}),n.warehouseCode&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.warehouseCode})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Name *"}),a.jsx("input",{type:"text",className:`input-field ${n.warehouseName?"border-red-500":""}`,value:t.warehouseName,onChange:d=>m("warehouseName",d.target.value),placeholder:"Main Warehouse"}),n.warehouseName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.warehouseName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Type"}),a.jsx("select",{className:"input-field",value:t.warehouseType,onChange:d=>m("warehouseType",d.target.value),children:s.map(d=>a.jsx("option",{value:d,children:d},d))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),a.jsx("input",{type:"text",className:`input-field ${n.location?"border-red-500":""}`,value:t.location,onChange:d=>m("location",d.target.value),placeholder:"Industrial Zone A"}),n.location&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.location})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:t.status,onChange:d=>m("status",d.target.value),children:o.map(d=>a.jsx("option",{value:d,children:d},d))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",className:"input-field flex-1",value:t.capacity,onChange:d=>m("capacity",d.target.value),placeholder:"1000"}),a.jsx("select",{className:"input-field w-24",value:t.capacityUnit,onChange:d=>m("capacityUnit",d.target.value),children:l.map(d=>a.jsx("option",{value:d,children:d},d))})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),a.jsx("textarea",{className:`input-field ${n.address?"border-red-500":""}`,rows:3,value:t.address,onChange:d=>m("address",d.target.value),placeholder:"123 Industrial Street, Manufacturing District"}),n.address&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.address})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsx("input",{type:"text",className:`input-field ${n.city?"border-red-500":""}`,value:t.city,onChange:d=>m("city",d.target.value),placeholder:"Mumbai"}),n.city&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.city})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),a.jsx("input",{type:"text",className:`input-field ${n.state?"border-red-500":""}`,value:t.state,onChange:d=>m("state",d.target.value),placeholder:"Maharashtra"}),n.state&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.state})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),a.jsx("input",{type:"text",className:`input-field ${n.country?"border-red-500":""}`,value:t.country,onChange:d=>m("country",d.target.value),placeholder:"India"}),n.country&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.country})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),a.jsx("input",{type:"text",className:"input-field",value:t.postalCode,onChange:d=>m("postalCode",d.target.value),placeholder:"400001"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person *"}),a.jsx("input",{type:"text",className:`input-field ${n.contactPerson?"border-red-500":""}`,value:t.contactPerson,onChange:d=>m("contactPerson",d.target.value),placeholder:"John Smith"}),n.contactPerson&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.contactPerson})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone *"}),a.jsx("input",{type:"tel",className:`input-field ${n.contactPhone?"border-red-500":""}`,value:t.contactPhone,onChange:d=>m("contactPhone",d.target.value),placeholder:"+91 98765 43210"}),n.contactPhone&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.contactPhone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),a.jsx("input",{type:"email",className:`input-field ${n.contactEmail?"border-red-500":""}`,value:t.contactEmail,onChange:d=>m("contactEmail",d.target.value),placeholder:"john@company.com"}),n.contactEmail&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.contactEmail})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),a.jsx("input",{type:"text",className:"input-field",value:t.operatingHours,onChange:d=>m("operatingHours",d.target.value),placeholder:"8:00 AM - 6:00 PM"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),a.jsx("input",{type:"text",className:"input-field",value:t.timezone,onChange:d=>m("timezone",d.target.value),placeholder:"IST (UTC+5:30)"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:d=>m("notes",d.target.value),placeholder:"Additional notes or comments about the warehouse"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.specialRequirements,onChange:d=>m("specialRequirements",d.target.value),placeholder:"Special storage requirements, security measures, or operational notes"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/warehouse-master"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Create Warehouse"]})]})]})})]})},OJ=()=>{const e=Oe(),{id:t}=ma(),[r,n]=k.useState({warehouseCode:"",warehouseName:"",warehouseType:"Main",location:"",address:"",city:"",state:"",country:"",postalCode:"",contactPerson:"",contactPhone:"",contactEmail:"",capacity:"",capacityUnit:"SQM",status:"Active",operatingHours:"",timezone:"",notes:"",specialRequirements:""}),[i,s]=k.useState({}),[o,l]=k.useState(!0),c=["Main","Sub","Transit","Cold Storage","Hazardous"],u=["Active","Inactive","Maintenance","Closed"],m=["SQM","CBM","KG","TON"],d={id:"1",warehouseCode:"WH-001",warehouseName:"Main Warehouse",description:"Primary warehouse for finished goods storage",address:{street:"123 Industrial Street",city:"Mumbai",state:"Maharashtra",zipCode:"400001",country:"India"},capacity:5e3,currentCapacity:3e3,managerId:"MGR-001",managerName:"John Smith",isActive:!0,storageTypes:["Dry Storage","Cold Storage"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20"),createdBy:"admin",updatedBy:"admin"};k.useEffect(()=>{setTimeout(()=>{n({warehouseCode:d.warehouseCode,warehouseName:d.warehouseName,warehouseType:"Main",location:"Industrial Zone A",address:d.address.street,city:d.address.city,state:d.address.state,country:d.address.country,postalCode:d.address.zipCode,contactPerson:d.managerName,contactPhone:"+91 98765 43210",contactEmail:"john@company.com",capacity:d.capacity.toString(),capacityUnit:"SQM",status:"Active",operatingHours:"8:00 AM - 6:00 PM",timezone:"IST (UTC+5:30)",notes:d.description,specialRequirements:"Temperature controlled environment required"}),l(!1)},500)},[t]);const f=()=>{const p={};return r.warehouseCode.trim()||(p.warehouseCode="Warehouse code is required"),r.warehouseName.trim()||(p.warehouseName="Warehouse name is required"),r.location.trim()||(p.location="Location is required"),r.address.trim()||(p.address="Address is required"),r.city.trim()||(p.city="City is required"),r.state.trim()||(p.state="State is required"),r.country.trim()||(p.country="Country is required"),r.contactPerson.trim()||(p.contactPerson="Contact person is required"),r.contactPhone.trim()||(p.contactPhone="Contact phone is required"),r.contactEmail.trim()||(p.contactEmail="Contact email is required"),s(p),Object.keys(p).length===0},y=p=>{if(p.preventDefault(),!f())return;const v={...d,warehouseCode:r.warehouseCode,warehouseName:r.warehouseName,description:r.notes,address:{street:r.address,city:r.city,state:r.state,zipCode:r.postalCode,country:r.country},capacity:parseFloat(r.capacity)||0,currentCapacity:parseFloat(r.capacity)||0,managerId:"MGR-001",managerName:r.contactPerson,isActive:r.status==="Active",storageTypes:["Dry Storage","Cold Storage"],updatedAt:new Date,updatedBy:"admin"};console.log("Updating Warehouse:",v),e("/warehouse-master")},g=(p,v)=>{n(b=>({...b,[p]:v})),i[p]&&s(b=>({...b,[p]:""}))};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading warehouse data..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Warehouse"}),a.jsx("p",{className:"text-gray-600",children:"Update warehouse information"})]}),a.jsxs("button",{onClick:()=>e("/warehouse-master"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Warehouses"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:y,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Code *"}),a.jsx("input",{type:"text",className:`input-field ${i.warehouseCode?"border-red-500":""}`,value:r.warehouseCode,onChange:p=>g("warehouseCode",p.target.value),placeholder:"WH-001"}),i.warehouseCode&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.warehouseCode})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Name *"}),a.jsx("input",{type:"text",className:`input-field ${i.warehouseName?"border-red-500":""}`,value:r.warehouseName,onChange:p=>g("warehouseName",p.target.value),placeholder:"Main Warehouse"}),i.warehouseName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.warehouseName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Type"}),a.jsx("select",{className:"input-field",value:r.warehouseType,onChange:p=>g("warehouseType",p.target.value),children:c.map(p=>a.jsx("option",{value:p,children:p},p))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),a.jsx("input",{type:"text",className:`input-field ${i.location?"border-red-500":""}`,value:r.location,onChange:p=>g("location",p.target.value),placeholder:"Industrial Zone A"}),i.location&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.location})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:r.status,onChange:p=>g("status",p.target.value),children:u.map(p=>a.jsx("option",{value:p,children:p},p))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",className:"input-field flex-1",value:r.capacity,onChange:p=>g("capacity",p.target.value),placeholder:"1000"}),a.jsx("select",{className:"input-field w-24",value:r.capacityUnit,onChange:p=>g("capacityUnit",p.target.value),children:m.map(p=>a.jsx("option",{value:p,children:p},p))})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),a.jsx("textarea",{className:`input-field ${i.address?"border-red-500":""}`,rows:3,value:r.address,onChange:p=>g("address",p.target.value),placeholder:"123 Industrial Street, Manufacturing District"}),i.address&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.address})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),a.jsx("input",{type:"text",className:`input-field ${i.city?"border-red-500":""}`,value:r.city,onChange:p=>g("city",p.target.value),placeholder:"Mumbai"}),i.city&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.city})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),a.jsx("input",{type:"text",className:`input-field ${i.state?"border-red-500":""}`,value:r.state,onChange:p=>g("state",p.target.value),placeholder:"Maharashtra"}),i.state&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.state})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),a.jsx("input",{type:"text",className:`input-field ${i.country?"border-red-500":""}`,value:r.country,onChange:p=>g("country",p.target.value),placeholder:"India"}),i.country&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.country})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),a.jsx("input",{type:"text",className:"input-field",value:r.postalCode,onChange:p=>g("postalCode",p.target.value),placeholder:"400001"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person *"}),a.jsx("input",{type:"text",className:`input-field ${i.contactPerson?"border-red-500":""}`,value:r.contactPerson,onChange:p=>g("contactPerson",p.target.value),placeholder:"John Smith"}),i.contactPerson&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.contactPerson})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone *"}),a.jsx("input",{type:"tel",className:`input-field ${i.contactPhone?"border-red-500":""}`,value:r.contactPhone,onChange:p=>g("contactPhone",p.target.value),placeholder:"+91 98765 43210"}),i.contactPhone&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.contactPhone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),a.jsx("input",{type:"email",className:`input-field ${i.contactEmail?"border-red-500":""}`,value:r.contactEmail,onChange:p=>g("contactEmail",p.target.value),placeholder:"john@company.com"}),i.contactEmail&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.contactEmail})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),a.jsx("input",{type:"text",className:"input-field",value:r.operatingHours,onChange:p=>g("operatingHours",p.target.value),placeholder:"8:00 AM - 6:00 PM"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),a.jsx("input",{type:"text",className:"input-field",value:r.timezone,onChange:p=>g("timezone",p.target.value),placeholder:"IST (UTC+5:30)"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:p=>g("notes",p.target.value),placeholder:"Additional notes or comments about the warehouse"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.specialRequirements,onChange:p=>g("specialRequirements",p.target.value),placeholder:"Special storage requirements, security measures, or operational notes"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/warehouse-master"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Update Warehouse"]})]})]})})]})},kJ=()=>{const e=Oe(),[t,r]=k.useState([{id:"1",transferNumber:"TO-2024-001",fromWarehouseId:"WH-001",fromWarehouseName:"Main Warehouse",toWarehouseId:"WH-002",toWarehouseName:"Secondary Warehouse",transferDate:new Date("2024-01-20"),expectedDeliveryDate:new Date("2024-01-22"),status:"In Transit",priority:"High",totalAmount:1250.75,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:25,unitOfMeasure:"KG",unitPrice:45.5,totalPrice:1137.5,remarks:"Urgent transfer for production"},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:5,unitOfMeasure:"SQM",unitPrice:125,totalPrice:625,remarks:"Standard transfer"}],requestedBy:"John Smith",approvedBy:"Jane Doe",transferType:"Internal",reason:"Production requirement",notes:"Urgent transfer for ongoing production",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20"),createdBy:"admin",updatedBy:"admin"},{id:"2",transferNumber:"TO-2024-002",fromWarehouseId:"WH-002",fromWarehouseName:"Secondary Warehouse",toWarehouseId:"WH-001",toWarehouseName:"Main Warehouse",transferDate:new Date("2024-01-21"),status:"Approved",priority:"Medium",totalAmount:850.25,items:[{materialId:"RM-003",materialCode:"RM-003",materialName:"Plastic Granules",quantity:20,unitOfMeasure:"KG",unitPrice:25.75,totalPrice:515,remarks:"Consolidation transfer"}],requestedBy:"Mike Johnson",transferType:"Internal",reason:"Stock consolidation",notes:"Consolidating stock for better management",createdAt:new Date("2024-01-21"),updatedAt:new Date("2024-01-21"),createdBy:"admin",updatedBy:"admin"}]),[n,i]=k.useState(""),[s,o]=k.useState(null),[l,c]=k.useState(!1),[u,m]=k.useState(""),[d,f]=k.useState(""),y=t.filter(h=>{const w=h.transferNumber.toLowerCase().includes(n.toLowerCase())||h.fromWarehouseName.toLowerCase().includes(n.toLowerCase())||h.toWarehouseName.toLowerCase().includes(n.toLowerCase())||h.requestedBy.toLowerCase().includes(n.toLowerCase()),x=u===""||h.status===u,N=d===""||h.priority===d;return w&&x&&N}),g=h=>{switch(h){case"Delivered":return"bg-green-100 text-green-800";case"In Transit":return"bg-blue-100 text-blue-800";case"Approved":return"bg-yellow-100 text-yellow-800";case"Draft":return"bg-gray-100 text-gray-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=h=>{switch(h){case"Urgent":return"bg-red-100 text-red-800";case"High":return"bg-orange-100 text-orange-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},v=h=>{switch(h){case"Emergency":return"bg-red-100 text-red-800";case"External":return"bg-purple-100 text-purple-800";case"Internal":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},b=h=>{window.confirm("Are you sure you want to delete this transfer order?")&&r(t.filter(w=>w.id!==h))},j=()=>{var h;return a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:a.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transfer Order Details"}),a.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ye,{className:"h-6 w-6"})})]}),s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transfer Number"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.transferNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transfer Type"}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v(s.transferType)}`,children:s.transferType})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From Warehouse"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.fromWarehouseName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To Warehouse"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.toWarehouseName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transfer Date"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.transferDate.toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expected Delivery"}),a.jsx("p",{className:"text-sm text-gray-900",children:((h=s.expectedDeliveryDate)==null?void 0:h.toLocaleDateString())||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(s.status)}`,children:s.status})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(s.priority)}`,children:s.priority})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Requested By"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.requestedBy})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reason"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.reason})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Transfer Items"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Material Code"}),a.jsx("th",{className:"table-header",children:"Material Name"}),a.jsx("th",{className:"table-header",children:"Quantity"}),a.jsx("th",{className:"table-header",children:"Unit"}),a.jsx("th",{className:"table-header",children:"Unit Price"}),a.jsx("th",{className:"table-header",children:"Total Price"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.items.map((w,x)=>a.jsxs("tr",{children:[a.jsx("td",{className:"table-cell",children:w.materialCode}),a.jsx("td",{className:"table-cell",children:w.materialName}),a.jsx("td",{className:"table-cell",children:w.quantity}),a.jsx("td",{className:"table-cell",children:w.unitOfMeasure}),a.jsxs("td",{className:"table-cell",children:[w.unitPrice.toFixed(2)," KWD"]}),a.jsxs("td",{className:"table-cell font-medium",children:[w.totalPrice.toFixed(2)," KWD"]})]},x))})]})}),a.jsx("div",{className:"mt-4 text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Amount: ",s.totalAmount.toFixed(2)," KWD"]})})]}),s.notes&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.notes})]})]})]})})})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transfer Orders"}),a.jsx("p",{className:"text-gray-600",children:"Manage material transfers between warehouses"})]}),a.jsxs("button",{onClick:()=>e("/transfer-orders/add"),className:"btn-primary flex items-center",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search transfer orders...",className:"input-field pl-10",value:n,onChange:h=>i(h.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{className:"input-field",value:u,onChange:h=>m(h.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"In Transit",children:"In Transit"}),a.jsx("option",{value:"Delivered",children:"Delivered"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),a.jsxs("select",{className:"input-field",value:d,onChange:h=>f(h.target.value),children:[a.jsx("option",{value:"",children:"All Priority"}),a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Urgent",children:"Urgent"})]}),a.jsxs("button",{className:"btn-secondary flex items-center",children:[a.jsx(In,{className:"h-4 w-4 mr-2"}),"Filter"]}),a.jsxs("button",{className:"btn-secondary flex items-center",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Transfer Number"}),a.jsx("th",{className:"table-header",children:"From → To"}),a.jsx("th",{className:"table-header",children:"Transfer Date"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Priority"}),a.jsx("th",{className:"table-header",children:"Type"}),a.jsx("th",{className:"table-header",children:"Requested By"}),a.jsx("th",{className:"table-header",children:"Total Amount"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(h=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell font-medium",children:h.transferNumber}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-sm",children:h.fromWarehouseName}),a.jsx(CE,{className:"h-4 w-4 mx-2 text-gray-400"}),a.jsx("span",{className:"text-sm",children:h.toWarehouseName})]})}),a.jsx("td",{className:"table-cell",children:h.transferDate.toLocaleDateString()}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(h.status)}`,children:h.status})}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(h.priority)}`,children:h.priority})}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v(h.transferType)}`,children:h.transferType})}),a.jsx("td",{className:"table-cell",children:h.requestedBy}),a.jsxs("td",{className:"table-cell font-medium",children:[h.totalAmount.toFixed(2)," KWD"]}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{o(h),c(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:a.jsx(Tn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>e(`/transfer-orders/edit/${h.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>b(h.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:a.jsx(it,{className:"h-4 w-4"})})]})})]},h.id))})]})})}),l&&a.jsx(j,{})]})},PJ=()=>{const e=Oe(),t=da(),[r,n]=k.useState(!1),[i,s]=k.useState([]),[o,l]=k.useState(null),[c,u]=k.useState({transferNumber:"",fromWarehouseId:"",fromWarehouseName:"",toWarehouseId:"",toWarehouseName:"",transferDate:"",expectedDeliveryDate:"",status:"Draft",priority:"Medium",totalAmount:0,items:[],transferType:"Internal",notes:""}),[m,d]=k.useState({});k.useEffect(()=>{new URLSearchParams(t.search).get("from")==="central-kitchen"&&(n(!0),f())},[t.search]);const f=async()=>{try{const[C,P]=await Promise.all([le.getCentralKitchens(),le.getOutlets({limit:1e3})]);if(C.success&&C.data.length>0){const A=C.data[0];l(A),u(E=>({...E,fromWarehouseId:A._id||A.id,fromWarehouseName:A.outletName})),console.log("Central Kitchen data loaded:",A)}if(P.success){const A=P.data.filter(E=>!E.isCentralKitchen);s(A)}}catch(C){console.error("Error loading Central Kitchen data:",C)}},y=["Draft","Approved","In Transit","Delivered","Cancelled"],g=["Low","Medium","High","Urgent"],p=["Internal","External","Emergency"],v=[{id:"WH-001",name:"Main Warehouse"},{id:"WH-002",name:"Secondary Warehouse"},{id:"WH-003",name:"Cold Storage"},{id:"WH-004",name:"Hazardous Storage"}],b=()=>{const C={};return c.transferNumber.trim()||(C.transferNumber="Transfer number is required"),c.fromWarehouseId||(C.fromWarehouseId="From warehouse is required"),c.toWarehouseId||(C.toWarehouseId="To warehouse is required"),c.transferDate||(C.transferDate="Transfer date is required"),c.expectedDeliveryDate||(C.expectedDeliveryDate="Expected delivery date is required"),c.items.length===0&&(C.items="At least one transfer item is required"),d(C),Object.keys(C).length===0},j=C=>{if(C.preventDefault(),!b())return;const P=c.items.reduce((E,O)=>E+O.totalPrice,0),A={id:Date.now().toString(),transferNumber:c.transferNumber,fromWarehouseId:c.fromWarehouseId,fromWarehouseName:c.fromWarehouseName,toWarehouseId:c.toWarehouseId,toWarehouseName:c.toWarehouseName,transferDate:new Date(c.transferDate),expectedDeliveryDate:new Date(c.expectedDeliveryDate),status:c.status,priority:c.priority,totalAmount:P,items:c.items,transferType:c.transferType,notes:c.notes,createdAt:new Date,updatedAt:new Date,createdBy:"admin",updatedBy:"admin",requestedBy:"admin",reason:"Transfer request"};console.log("Creating Transfer Order:",A),e("/transfer-orders")},h=(C,P)=>{u(A=>({...A,[C]:P})),m[C]&&d(A=>({...A,[C]:""}))},w=(C,P)=>{let A="";if(r&&C==="toWarehouseId"){const E=i.find(O=>O._id===P);A=E?E.outletName:""}else{const E=v.find(O=>O.id===P);A=E?E.name:""}u(C==="fromWarehouseId"?E=>({...E,fromWarehouseId:P,fromWarehouseName:A}):E=>({...E,toWarehouseId:P,toWarehouseName:A}))},x=()=>{const C={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};u(P=>({...P,items:[...P.items,C]}))},N=(C,P,A)=>{u(E=>({...E,items:E.items.map((O,I)=>{if(I===C){const T={...O,[P]:A};return(P==="quantity"||P==="unitPrice")&&(T.totalPrice=T.quantity*T.unitPrice),T}return O})}))},S=C=>{u(P=>({...P,items:P.items.filter((A,E)=>E!==C)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Transfer Order"}),a.jsx("p",{className:"text-gray-600",children:"Create a new material transfer order"})]}),a.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Transfer Orders"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:j,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),a.jsx("input",{type:"text",className:`input-field ${m.transferNumber?"border-red-500":""}`,value:c.transferNumber,onChange:C=>h("transferNumber",C.target.value),placeholder:"TO-2024-001"}),m.transferNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.transferNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),a.jsx("select",{className:"input-field",value:c.transferType,onChange:C=>h("transferType",C.target.value),children:p.map(C=>a.jsx("option",{value:C,children:C},C))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),a.jsx("select",{className:"input-field",value:c.priority,onChange:C=>h("priority",C.target.value),children:g.map(C=>a.jsx("option",{value:C,children:C},C))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:c.status,onChange:C=>h("status",C.target.value),children:y.map(C=>a.jsx("option",{value:C,children:C},C))})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:r?"Transfer Information":"Warehouse Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["From ",r?"Location":"Warehouse"," *"]}),a.jsx("select",{className:`input-field ${m.fromWarehouseId?"border-red-500":""} ${r?"bg-gray-100":""}`,value:c.fromWarehouseId,onChange:C=>w("fromWarehouseId",C.target.value),disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"",children:"Select From Location"}),o&&a.jsxs("option",{value:o._id||o.id,children:[o.outletName," (Central Kitchen)"]},o._id||o.id)]}):a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"",children:"Select From Warehouse"}),v.map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))]})}),m.fromWarehouseId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.fromWarehouseId}),r&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Central Kitchen is pre-selected as the source location"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["To ",r?"Outlet":"Warehouse"," *"]}),a.jsxs("select",{className:`input-field ${m.toWarehouseId?"border-red-500":""}`,value:c.toWarehouseId,onChange:C=>w("toWarehouseId",C.target.value),children:[a.jsxs("option",{value:"",children:["Select To ",r?"Outlet":"Warehouse"]}),r?i.map(C=>a.jsx("option",{value:C._id,children:C.outletName},C._id)):v.filter(C=>C.id!==c.fromWarehouseId).map(C=>a.jsx("option",{value:C.id,children:C.name},C.id))]}),m.toWarehouseId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.toWarehouseId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),a.jsx("input",{type:"date",className:`input-field ${m.transferDate?"border-red-500":""}`,value:c.transferDate,onChange:C=>h("transferDate",C.target.value)}),m.transferDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.transferDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),a.jsx("input",{type:"date",className:`input-field ${m.expectedDeliveryDate?"border-red-500":""}`,value:c.expectedDeliveryDate,onChange:C=>h("expectedDeliveryDate",C.target.value)}),m.expectedDeliveryDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.expectedDeliveryDate})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transfer Items"}),a.jsxs("button",{type:"button",onClick:x,className:"btn-secondary flex items-center text-sm",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),m.items&&a.jsx("p",{className:"mb-4 text-sm text-red-600",children:m.items}),a.jsx("div",{className:"space-y-4",children:c.items.map((C,P)=>a.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:C.materialCode,onChange:A=>N(P,"materialCode",A.target.value),placeholder:"RM-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:C.materialName,onChange:A=>N(P,"materialName",A.target.value),placeholder:"Steel Rod"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:C.quantity,onChange:A=>N(P,"quantity",parseFloat(A.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:C.unitOfMeasure,onChange:A=>N(P,"unitOfMeasure",A.target.value),placeholder:"KG"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:C.unitPrice,onChange:A=>N(P,"unitPrice",parseFloat(A.target.value)||0),placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:C.remarks,onChange:A=>N(P,"remarks",A.target.value),placeholder:"Notes"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>S(P),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(it,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-7",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",C.totalPrice.toFixed(2)," KWD"]})})]},P))}),c.items.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",c.items.reduce((C,P)=>C+P.totalPrice,0).toFixed(2)," KWD"]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:c.notes,onChange:C=>h("notes",C.target.value),placeholder:"Additional notes or special instructions"})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},AJ=()=>{const e=Oe(),{id:t}=ma(),[r,n]=k.useState({transferNumber:"",fromWarehouseId:"",fromWarehouseName:"",toWarehouseId:"",toWarehouseName:"",transferDate:"",expectedDeliveryDate:"",status:"Draft",priority:"Medium",totalAmount:0,items:[],requestedBy:"",approvedBy:"",receivedBy:"",transferType:"Internal",reason:"",notes:""}),[i,s]=k.useState({}),[o,l]=k.useState(!0),c=["Draft","Approved","In Transit","Delivered","Cancelled"],u=["Low","Medium","High","Urgent"],m=["Internal","External","Emergency"],d=[{id:"WH-001",name:"Main Warehouse"},{id:"WH-002",name:"Secondary Warehouse"},{id:"WH-003",name:"Cold Storage"},{id:"WH-004",name:"Hazardous Storage"}],f={id:"1",transferNumber:"TO-2024-001",fromWarehouseId:"WH-001",fromWarehouseName:"Main Warehouse",toWarehouseId:"WH-002",toWarehouseName:"Secondary Warehouse",transferDate:new Date("2024-01-20"),expectedDeliveryDate:new Date("2024-01-22"),status:"In Transit",priority:"High",totalAmount:15750,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:100,unitOfMeasure:"KG",unitPrice:45.5,totalPrice:4550,remarks:"High priority transfer"},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:50,unitOfMeasure:"SQM",unitPrice:125,totalPrice:6250,remarks:"Handle with care"},{materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",quantity:200,unitOfMeasure:"M",unitPrice:23.75,totalPrice:4750,remarks:"Standard transfer"}],requestedBy:"John Smith",approvedBy:"Manager Name",receivedBy:"Warehouse Staff",transferType:"Internal",reason:"Inventory rebalancing between warehouses for better distribution",notes:"Transfer approved for inventory optimization. Ensure proper handling of aluminum sheets.",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-21"),createdBy:"admin",updatedBy:"admin"};k.useEffect(()=>{setTimeout(()=>{var w;n({transferNumber:f.transferNumber,fromWarehouseId:f.fromWarehouseId,fromWarehouseName:f.fromWarehouseName,toWarehouseId:f.toWarehouseId,toWarehouseName:f.toWarehouseName,transferDate:f.transferDate.toISOString().split("T")[0],expectedDeliveryDate:((w=f.expectedDeliveryDate)==null?void 0:w.toISOString().split("T")[0])||"",status:f.status,priority:f.priority,totalAmount:f.totalAmount,items:f.items,requestedBy:f.requestedBy,approvedBy:f.approvedBy,receivedBy:f.receivedBy,transferType:f.transferType,reason:f.reason,notes:f.notes}),l(!1)},500)},[t]);const y=()=>{const w={};return r.transferNumber.trim()||(w.transferNumber="Transfer number is required"),r.fromWarehouseId||(w.fromWarehouseId="From warehouse is required"),r.toWarehouseId||(w.toWarehouseId="To warehouse is required"),r.transferDate||(w.transferDate="Transfer date is required"),r.expectedDeliveryDate||(w.expectedDeliveryDate="Expected delivery date is required"),r.requestedBy.trim()||(w.requestedBy="Requested by is required"),r.reason.trim()||(w.reason="Reason is required"),r.items.length===0&&(w.items="At least one transfer item is required"),s(w),Object.keys(w).length===0},g=w=>{if(w.preventDefault(),!y())return;const x=r.items.reduce((S,C)=>S+C.totalPrice,0),N={...f,transferNumber:r.transferNumber,fromWarehouseId:r.fromWarehouseId,fromWarehouseName:r.fromWarehouseName,toWarehouseId:r.toWarehouseId,toWarehouseName:r.toWarehouseName,transferDate:new Date(r.transferDate),expectedDeliveryDate:new Date(r.expectedDeliveryDate),status:r.status,priority:r.priority,totalAmount:x,items:r.items,requestedBy:r.requestedBy,approvedBy:r.approvedBy,receivedBy:r.receivedBy,transferType:r.transferType,reason:r.reason,notes:r.notes,updatedAt:new Date,updatedBy:"admin"};console.log("Updating Transfer Order:",N),e("/transfer-orders")},p=(w,x)=>{n(N=>({...N,[w]:x})),i[w]&&s(N=>({...N,[w]:""}))},v=(w,x)=>{const N=d.find(C=>C.id===x),S=N?N.name:"";n(w==="fromWarehouseId"?C=>({...C,fromWarehouseId:x,fromWarehouseName:S}):C=>({...C,toWarehouseId:x,toWarehouseName:S}))},b=()=>{const w={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};n(x=>({...x,items:[...x.items,w]}))},j=(w,x,N)=>{n(S=>({...S,items:S.items.map((C,P)=>{if(P===w){const A={...C,[x]:N};return(x==="quantity"||x==="unitPrice")&&(A.totalPrice=A.quantity*A.unitPrice),A}return C})}))},h=w=>{n(x=>({...x,items:x.items.filter((N,S)=>S!==w)}))};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Transfer Order"}),a.jsx("p",{className:"text-gray-600",children:"Update transfer order information"})]}),a.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Transfer Orders"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:g,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),a.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:r.transferNumber,onChange:w=>p("transferNumber",w.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),a.jsx("select",{className:"input-field",value:r.transferType,onChange:w=>p("transferType",w.target.value),children:m.map(w=>a.jsx("option",{value:w,children:w},w))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),a.jsx("select",{className:"input-field",value:r.priority,onChange:w=>p("priority",w.target.value),children:u.map(w=>a.jsx("option",{value:w,children:w},w))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{className:"input-field",value:r.status,onChange:w=>p("status",w.target.value),children:c.map(w=>a.jsx("option",{value:w,children:w},w))})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Warehouse Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Warehouse *"}),a.jsxs("select",{className:`input-field ${i.fromWarehouseId?"border-red-500":""}`,value:r.fromWarehouseId,onChange:w=>v("fromWarehouseId",w.target.value),children:[a.jsx("option",{value:"",children:"Select From Warehouse"}),d.map(w=>a.jsx("option",{value:w.id,children:w.name},w.id))]}),i.fromWarehouseId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.fromWarehouseId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Warehouse *"}),a.jsxs("select",{className:`input-field ${i.toWarehouseId?"border-red-500":""}`,value:r.toWarehouseId,onChange:w=>v("toWarehouseId",w.target.value),children:[a.jsx("option",{value:"",children:"Select To Warehouse"}),d.filter(w=>w.id!==r.fromWarehouseId).map(w=>a.jsx("option",{value:w.id,children:w.name},w.id))]}),i.toWarehouseId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.toWarehouseId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),a.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:r.transferDate,onChange:w=>p("transferDate",w.target.value)}),i.transferDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),a.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:r.expectedDeliveryDate,onChange:w=>p("expectedDeliveryDate",w.target.value)}),i.expectedDeliveryDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personnel Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requested By *"}),a.jsx("input",{type:"text",className:`input-field ${i.requestedBy?"border-red-500":""}`,value:r.requestedBy,onChange:w=>p("requestedBy",w.target.value),placeholder:"John Smith"}),i.requestedBy&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.requestedBy})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approved By"}),a.jsx("input",{type:"text",className:"input-field",value:r.approvedBy,onChange:w=>p("approvedBy",w.target.value),placeholder:"Manager Name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By"}),a.jsx("input",{type:"text",className:"input-field",value:r.receivedBy,onChange:w=>p("receivedBy",w.target.value),placeholder:"Warehouse Staff"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transfer Items"}),a.jsxs("button",{type:"button",onClick:b,className:"btn-secondary flex items-center text-sm",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),i.items&&a.jsx("p",{className:"mb-4 text-sm text-red-600",children:i.items}),a.jsx("div",{className:"space-y-4",children:r.items.map((w,x)=>a.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:w.materialCode,onChange:N=>j(x,"materialCode",N.target.value),placeholder:"RM-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:w.materialName,onChange:N=>j(x,"materialName",N.target.value),placeholder:"Steel Rod"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"number",className:"input-field text-sm",value:w.quantity,onChange:N=>j(x,"quantity",parseFloat(N.target.value)||0),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:w.unitOfMeasure,onChange:N=>j(x,"unitOfMeasure",N.target.value),placeholder:"KG"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:w.unitPrice,onChange:N=>j(x,"unitPrice",parseFloat(N.target.value)||0),placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),a.jsx("input",{type:"text",className:"input-field text-sm",value:w.remarks,onChange:N=>j(x,"remarks",N.target.value),placeholder:"Notes"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:()=>h(x),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(it,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-7",children:a.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",w.totalPrice.toFixed(2)," KWD"]})})]},x))}),r.items.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",r.items.reduce((w,x)=>w+x.totalPrice,0).toFixed(2)," KWD"]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Transfer *"}),a.jsx("textarea",{className:`input-field ${i.reason?"border-red-500":""}`,rows:3,value:r.reason,onChange:w=>p("reason",w.target.value),placeholder:"Reason for material transfer"}),i.reason&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.reason})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:w=>p("notes",w.target.value),placeholder:"Additional notes or special instructions"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Update Transfer Order"]})]})]})})]})},EJ=()=>{const[e,t]=k.useState("overview"),[r,n]=k.useState(""),[i,s]=k.useState(""),[o,l]=k.useState(""),[c]=k.useState([{id:"1",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:150,reservedStock:25,availableStock:125,minimumStock:50,maximumStock:500,reorderPoint:75,unitOfMeasure:"KG",unitPrice:45.5,totalValue:6825,lastUpdated:new Date("2024-01-20"),status:"In Stock",location:"A-01-15",batchNumber:"B001",supplier:"Steel Corp",notes:"High quality steel rods"},{id:"2",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:25,reservedStock:5,availableStock:20,minimumStock:30,maximumStock:200,reorderPoint:40,unitOfMeasure:"SQM",unitPrice:125,totalValue:3125,lastUpdated:new Date("2024-01-19"),status:"Low Stock",location:"B-02-08",batchNumber:"B002",supplier:"Aluminum Ltd",notes:"Premium grade aluminum"},{id:"3",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",warehouseId:"WH-002",warehouseName:"Secondary Warehouse",currentStock:0,reservedStock:0,availableStock:0,minimumStock:100,maximumStock:1e3,reorderPoint:150,unitOfMeasure:"M",unitPrice:23.75,totalValue:0,lastUpdated:new Date("2024-01-18"),status:"Out of Stock",location:"C-03-12",batchNumber:"B003",supplier:"Wire Co",notes:"Electrical grade copper"},{id:"4",materialId:"RM-004",materialCode:"RM-004",materialName:"Plastic Pellets HDPE",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:800,reservedStock:50,availableStock:750,minimumStock:200,maximumStock:1e3,reorderPoint:300,unitOfMeasure:"KG",unitPrice:12.5,totalValue:1e4,lastUpdated:new Date("2024-01-21"),status:"Overstock",location:"D-04-20",batchNumber:"B004",supplier:"Plastic Inc",notes:"High density polyethylene"}]),[u]=k.useState([{id:"1",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",movementType:"In",movementReason:"Purchase",quantity:50,unitPrice:45.5,totalValue:2275,referenceNumber:"PO-2024-001",referenceType:"Purchase Order",movementDate:new Date("2024-01-20"),performedBy:"John Smith",notes:"Received from supplier",batchNumber:"B001"},{id:"2",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",movementType:"Out",movementReason:"Production",quantity:15,unitPrice:125,totalValue:1875,referenceNumber:"JO-2024-001",referenceType:"Production Order",movementDate:new Date("2024-01-19"),performedBy:"Jane Doe",notes:"Issued for production",batchNumber:"B002"},{id:"3",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",warehouseId:"WH-002",warehouseName:"Secondary Warehouse",movementType:"Out",movementReason:"Sale",quantity:200,unitPrice:23.75,totalValue:4750,referenceNumber:"SO-2024-001",referenceType:"Sales Order",movementDate:new Date("2024-01-18"),performedBy:"Mike Johnson",notes:"Sold to customer",batchNumber:"B003"}]),m=[{id:"WH-001",name:"Main Warehouse"},{id:"WH-002",name:"Secondary Warehouse"},{id:"WH-003",name:"Cold Storage"},{id:"WH-004",name:"Hazardous Storage"}],d=["In Stock","Low Stock","Out of Stock","Overstock"],f=c.filter(x=>{const N=x.materialCode.toLowerCase().includes(r.toLowerCase())||x.materialName.toLowerCase().includes(r.toLowerCase())||x.warehouseName.toLowerCase().includes(r.toLowerCase()),S=!i||x.status===i,C=!o||x.warehouseId===o;return N&&S&&C}),y=u.filter(x=>{var C;const N=x.materialCode.toLowerCase().includes(r.toLowerCase())||x.materialName.toLowerCase().includes(r.toLowerCase())||((C=x.referenceNumber)==null?void 0:C.toLowerCase().includes(r.toLowerCase())),S=!o||x.warehouseId===o;return N&&S}),g=c.length,p=c.reduce((x,N)=>x+N.totalValue,0),v=c.filter(x=>x.status==="Low Stock").length,b=c.filter(x=>x.status==="Out of Stock").length,j=c.filter(x=>x.status==="Overstock").length,h=x=>{switch(x){case"In Stock":return"text-green-600 bg-green-100";case"Low Stock":return"text-yellow-600 bg-yellow-100";case"Out of Stock":return"text-red-600 bg-red-100";case"Overstock":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},w=x=>{switch(x){case"In":return"text-green-600 bg-green-100";case"Out":return"text-red-600 bg-red-100";case"Transfer":return"text-blue-600 bg-blue-100";case"Adjustment":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),a.jsx("p",{className:"text-gray-600",children:"Monitor stock levels, movements, and generate reports"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{className:"btn-secondary flex items-center",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Refresh"]}),a.jsxs("button",{className:"btn-primary flex items-center",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Re,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Pt,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",p.toLocaleString()]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Lt,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(zr,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})})]}),a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"overview",name:"Overview",icon:en},{id:"stock",name:"Stock Levels",icon:Re},{id:"movements",name:"Stock Movements",icon:Pt},{id:"reports",name:"Reports",icon:Xe}].map(x=>a.jsxs("button",{onClick:()=>t(x.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${e===x.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(x.icon,{className:"h-4 w-4 mr-2"}),x.name]},x.id))})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",className:"input-field pl-10",placeholder:"Search materials, warehouses, or reference numbers...",value:r,onChange:x=>n(x.target.value)})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("select",{className:"input-field",value:i,onChange:x=>s(x.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),d.map(x=>a.jsx("option",{value:x,children:x},x))]}),a.jsxs("select",{className:"input-field",value:o,onChange:x=>l(x.target.value),children:[a.jsx("option",{value:"",children:"All Warehouses"}),m.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))]})]})]}),e==="overview"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Stock Status Distribution"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"In Stock"}),a.jsx("span",{className:"text-sm font-medium",children:c.filter(x=>x.status==="In Stock").length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Low Stock"}),a.jsx("span",{className:"text-sm font-medium",children:v})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Out of Stock"}),a.jsx("span",{className:"text-sm font-medium",children:b})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Overstock"}),a.jsx("span",{className:"text-sm font-medium",children:j})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Stock Movements"}),a.jsx("div",{className:"space-y-3",children:u.slice(0,5).map(x=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.materialName}),a.jsx("p",{className:"text-xs text-gray-500",children:x.movementDate.toLocaleDateString()})]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${w(x.movementType)}`,children:[x.movementType," ",x.quantity]})})]},x.id))})]})]})}),e==="stock"&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Warehouse"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Min/Max"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(x=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.materialName}),a.jsx("div",{className:"text-sm text-gray-500",children:x.materialCode})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:x.warehouseName}),a.jsx("div",{className:"text-sm text-gray-500",children:x.location})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[x.currentStock," ",x.unitOfMeasure]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Reserved: ",x.reservedStock]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[x.availableStock," ",x.unitOfMeasure]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[x.minimumStock,"/",x.maximumStock]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Reorder: ",x.reorderPoint]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:["$",x.totalValue.toLocaleString()]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["@ $",x.unitPrice]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${h(x.status)}`,children:x.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:a.jsx(Tn,{className:"h-4 w-4"})})})]},x.id))})]})}),e==="movements"&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Warehouse"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performed By"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(x=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.movementDate.toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.materialName}),a.jsx("div",{className:"text-sm text-gray-500",children:x.materialCode})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.warehouseName}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${w(x.movementType)}`,children:x.movementType}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:x.movementReason})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.quantity}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",x.totalValue.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:x.referenceNumber}),a.jsx("div",{className:"text-xs text-gray-500",children:x.referenceType})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.performedBy})]},x.id))})]})}),e==="reports"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(en,{className:"h-8 w-8 text-blue-600 mr-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Stock Summary"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Generate comprehensive stock level report"}),a.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),a.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Pt,{className:"h-8 w-8 text-green-600 mr-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Stock Movements"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Track all stock movements for a period"}),a.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),a.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Lt,{className:"h-8 w-8 text-yellow-600 mr-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Low Stock Alert"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Identify items below reorder point"}),a.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),a.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Pt,{className:"h-8 w-8 text-purple-600 mr-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Value Report"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Calculate total inventory value"}),a.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),a.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(en,{className:"h-8 w-8 text-indigo-600 mr-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ABC Analysis"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Classify items by value and usage"}),a.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),a.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Xe,{className:"h-8 w-8 text-gray-600 mr-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Custom Report"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create custom inventory reports"}),a.jsx("button",{className:"btn-primary w-full",children:"Create Report"})]})]})})]})]})]})},TJ=()=>{const e=Oe(),[t,r]=k.useState([]),[n,i]=k.useState(!0),[s,o]=k.useState(null),[l,c]=k.useState(""),[u,m]=k.useState(""),[d,f]=k.useState(""),[y,g]=k.useState(""),[p,v]=k.useState("createdAt"),[b,j]=k.useState("desc"),[h,w]=k.useState(null),[x,N]=k.useState(!1);k.useEffect(()=>{S()},[]),k.useEffect(()=>{n||S()},[l,u,d,y,p,b]);const S=async()=>{try{i(!0),o(null);const O=await le.getOutlets({limit:1e3,search:l,outletType:u,status:d,isCentralKitchen:y,sortBy:p,sortOrder:b});O.success?(console.log("Loaded Outlets:",O.data),r(O.data)):o("Failed to load outlets")}catch(O){o(O instanceof Error?O.message:"Failed to load outlets"),console.error("Error loading outlets:",O)}finally{i(!1)}},C=async O=>{if(window.confirm("Are you sure you want to delete this outlet?"))try{(await le.deleteOutlet(O)).success?await S():alert("Failed to delete outlet")}catch(I){alert("Error deleting outlet: "+(I instanceof Error?I.message:"Unknown error")),console.error("Error deleting outlet:",I)}},P=()=>{c(""),m(""),f(""),g(""),v("createdAt"),j("desc"),S()},A=O=>{switch(O){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-gray-100 text-gray-800";case"Maintenance":return"bg-yellow-100 text-yellow-800";case"Closed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=O=>{switch(O){case"Restaurant":return"bg-blue-100 text-blue-800";case"Cafe":return"bg-purple-100 text-purple-800";case"Food Court":return"bg-orange-100 text-orange-800";case"Drive-Thru":return"bg-green-100 text-green-800";case"Takeaway":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading outlets..."})]})}):s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-red-600 mb-4",children:s}),a.jsx("button",{onClick:S,className:"btn-primary",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Outlet Master"}),a.jsx("p",{className:"text-gray-600",children:"Manage restaurant outlets and central kitchen operations"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:S,className:"btn-secondary flex items-center",title:"Refresh outlets",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:()=>e("/outlets/add"),className:"btn-primary flex items-center",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Outlet"]})]})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search outlets by name, code, city, or manager...",className:"input-field pl-10",value:l,onChange:O=>c(O.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:P,className:"btn-secondary flex items-center",title:"Clear all filters",children:[a.jsx(In,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),a.jsxs("button",{className:"btn-secondary flex items-center",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),a.jsxs("select",{className:"input-field",value:u,onChange:O=>m(O.target.value),children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"Restaurant",children:"Restaurant"}),a.jsx("option",{value:"Cafe",children:"Cafe"}),a.jsx("option",{value:"Food Court",children:"Food Court"}),a.jsx("option",{value:"Drive-Thru",children:"Drive-Thru"}),a.jsx("option",{value:"Takeaway",children:"Takeaway"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{className:"input-field",value:d,onChange:O=>f(O.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"}),a.jsx("option",{value:"Maintenance",children:"Maintenance"}),a.jsx("option",{value:"Closed",children:"Closed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Type"}),a.jsxs("select",{className:"input-field",value:y,onChange:O=>g(O.target.value),children:[a.jsx("option",{value:"",children:"All Kitchens"}),a.jsx("option",{value:"true",children:"Central Kitchen"}),a.jsx("option",{value:"false",children:"Regular Outlet"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("select",{className:"input-field flex-1",value:p,onChange:O=>v(O.target.value),children:[a.jsx("option",{value:"createdAt",children:"Date Created"}),a.jsx("option",{value:"outletName",children:"Outlet Name"}),a.jsx("option",{value:"outletCode",children:"Outlet Code"}),a.jsx("option",{value:"outletType",children:"Outlet Type"}),a.jsx("option",{value:"status",children:"Status"})]}),a.jsx("button",{onClick:()=>j(b==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${b==="asc"?"Descending":"Ascending"}`,children:b==="asc"?"↑":"↓"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Showing ",t.length," outlets",(l||u||d||y)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(l||u||d||y)&&a.jsx("button",{onClick:P,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Outlet Code"}),a.jsx("th",{className:"table-header",children:"Outlet Name"}),a.jsx("th",{className:"table-header",children:"Type"}),a.jsx("th",{className:"table-header",children:"Location"}),a.jsx("th",{className:"table-header",children:"Manager"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Kitchen Type"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(O=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell font-medium",children:O.outletCode}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900 font-medium",children:O.outletName}),a.jsx("div",{className:"text-gray-500 text-sm max-w-xs truncate",children:O.description})]})}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E(O.outletType)}`,children:O.outletType})}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(su,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:[O.address.city,", ",O.address.state]})]})}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900 font-medium",children:O.contactInfo.managerName}),a.jsx("div",{className:"text-gray-500 text-sm",children:O.contactInfo.phone})]})}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A(O.status)}`,children:O.status})}),a.jsx("td",{className:"table-cell",children:O.isCentralKitchen?a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:"🏭 Central Kitchen"}):a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"🏪 Regular Outlet"})}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>{w(O),N(!0)},className:"text-green-600 hover:text-green-900",title:"View Details",children:a.jsx(Tn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>e(`/outlets/edit/${O.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>C(O.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:a.jsx(it,{className:"h-4 w-4"})})]})})]},O.id))})]})})}),x&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Outlet Details"}),a.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code"}),a.jsx("p",{className:"text-gray-900 font-mono",children:h.outletCode})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name"}),a.jsx("p",{className:"text-gray-900",children:h.outletName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E(h.outletType)}`,children:h.outletType})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A(h.status)}`,children:h.status})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Type"}),h.isCentralKitchen?a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:"🏭 Central Kitchen"}):a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"🏪 Regular Outlet"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),a.jsx("p",{className:"text-gray-900",children:h.timezone})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsxs("p",{className:"text-gray-900",children:[h.address.street,a.jsx("br",{}),h.address.city,", ",h.address.state," ",h.address.zipCode,a.jsx("br",{}),h.address.country]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone"}),a.jsx("p",{className:"text-gray-900",children:h.contactInfo.phone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email"}),a.jsx("p",{className:"text-gray-900",children:h.contactInfo.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name"}),a.jsx("p",{className:"text-gray-900",children:h.contactInfo.managerName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),a.jsx("p",{className:"text-gray-900",children:h.contactInfo.managerPhone||"N/A"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[a.jsx(bs,{className:"h-6 w-6 mx-auto text-blue-600 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Seating"}),a.jsx("p",{className:"text-lg font-semibold text-blue-600",children:h.capacity.seatingCapacity})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[a.jsx(na,{className:"h-6 w-6 mx-auto text-green-600 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Kitchen"}),a.jsx("p",{className:"text-lg font-semibold text-green-600",children:h.capacity.kitchenCapacity})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[a.jsx(su,{className:"h-6 w-6 mx-auto text-purple-600 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Storage"}),a.jsx("p",{className:"text-lg font-semibold text-purple-600",children:h.capacity.storageCapacity})]})]})]}),h.features.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.features.map((O,I)=>a.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:O},I))})]}),h.notes&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("p",{className:"text-gray-900",children:h.notes})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[a.jsx("button",{onClick:()=>N(!1),className:"btn-secondary",children:"Close"}),a.jsx("button",{onClick:()=>{N(!1),e(`/outlets/edit/${h.id}`)},className:"btn-primary",children:"Edit Outlet"})]})]})})]})},IJ=()=>{const e=Oe(),[t,r]=k.useState({outletCode:"",outletName:"",outletType:"Restaurant",description:"",address:{street:"",city:"",state:"",zipCode:"",country:"Kuwait"},contactInfo:{phone:"",email:"",managerName:"",managerPhone:"",managerEmail:""},operatingHours:{monday:{open:"09:00",close:"22:00",isOpen:!0},tuesday:{open:"09:00",close:"22:00",isOpen:!0},wednesday:{open:"09:00",close:"22:00",isOpen:!0},thursday:{open:"09:00",close:"22:00",isOpen:!0},friday:{open:"09:00",close:"22:00",isOpen:!0},saturday:{open:"09:00",close:"22:00",isOpen:!0},sunday:{open:"09:00",close:"22:00",isOpen:!0}},capacity:{seatingCapacity:0,kitchenCapacity:0,storageCapacity:0,capacityUnit:"SQM"},status:"Active",isCentralKitchen:!1,features:[],timezone:"Asia/Kuwait",notes:""}),[n,i]=k.useState({}),[s,o]=k.useState(!1),l=["Restaurant","Cafe","Food Court","Drive-Thru","Takeaway"],c=["Active","Inactive","Maintenance","Closed"],u=["SQM","CBM","KG","TON"],m=["Delivery","Takeaway","Dine-in","Drive-thru","Online Ordering","Catering"],d=()=>{const p={};return t.outletCode.trim()||(p.outletCode="Outlet code is required"),t.outletName.trim()||(p.outletName="Outlet name is required"),t.address.street.trim()||(p.street="Street address is required"),t.address.city.trim()||(p.city="City is required"),t.contactInfo.phone.trim()||(p.phone="Phone number is required"),t.contactInfo.email.trim()||(p.email="Email is required"),t.contactInfo.managerName.trim()||(p.managerName="Manager name is required"),i(p),Object.keys(p).length===0},f=async p=>{if(p.preventDefault(),!!d()){o(!0);try{(await le.createOutlet(t)).success?(alert("Outlet created successfully!"),e("/outlets")):alert("Failed to create outlet")}catch(v){alert("Error creating outlet: "+(v instanceof Error?v.message:"Unknown error")),console.error("Error creating outlet:",v)}finally{o(!1)}}},y=(p,v)=>{if(p.includes(".")){const[b,j]=p.split(".");r(h=>({...h,[b]:{...h[b]||{},[j]:v}}))}else r(b=>({...b,[p]:v}));n[p]&&i(b=>({...b,[p]:""}))},g=p=>{r(v=>({...v,features:v.features.includes(p)?v.features.filter(b=>b!==p):[...v.features,p]}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>e("/outlets"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[a.jsx(Nt,{className:"h-5 w-5 mr-2"}),"Back to Outlets"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Outlet"}),a.jsx("p",{className:"text-gray-600",children:"Create a new restaurant outlet or central kitchen"})]})]})}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code *"}),a.jsx("input",{type:"text",className:`input-field ${n.outletCode?"border-red-500":""}`,value:t.outletCode,onChange:p=>y("outletCode",p.target.value.toUpperCase()),placeholder:"OUTLET-001"}),n.outletCode&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.outletCode})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name *"}),a.jsx("input",{type:"text",className:`input-field ${n.outletName?"border-red-500":""}`,value:t.outletName,onChange:p=>y("outletName",p.target.value),placeholder:"Downtown Restaurant"}),n.outletName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.outletName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),a.jsx("select",{className:"input-field",value:t.outletType,onChange:p=>y("outletType",p.target.value),children:l.map(p=>a.jsx("option",{value:p,children:p},p))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("select",{className:"input-field",value:t.status,onChange:p=>y("status",p.target.value),children:c.map(p=>a.jsx("option",{value:p,children:p},p))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.description,onChange:p=>y("description",p.target.value),placeholder:"Brief description of the outlet..."})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isCentralKitchen",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.isCentralKitchen,onChange:p=>y("isCentralKitchen",p.target.checked)}),a.jsx("label",{htmlFor:"isCentralKitchen",className:"ml-2 block text-sm text-gray-900",children:"This is a Central Kitchen"})]})})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),a.jsx("input",{type:"text",className:`input-field ${n.street?"border-red-500":""}`,value:t.address.street,onChange:p=>y("address.street",p.target.value),placeholder:"123 Main Street"}),n.street&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.street})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),a.jsx("input",{type:"text",className:`input-field ${n.city?"border-red-500":""}`,value:t.address.city,onChange:p=>y("address.city",p.target.value),placeholder:"Kuwait City"}),n.city&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.city})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),a.jsx("input",{type:"text",className:"input-field",value:t.address.state,onChange:p=>y("address.state",p.target.value),placeholder:"Kuwait"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),a.jsx("input",{type:"text",className:"input-field",value:t.address.zipCode,onChange:p=>y("address.zipCode",p.target.value),placeholder:"12345"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),a.jsx("input",{type:"text",className:"input-field",value:t.address.country,onChange:p=>y("address.country",p.target.value),placeholder:"Kuwait"})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone *"}),a.jsx("input",{type:"tel",className:`input-field ${n.phone?"border-red-500":""}`,value:t.contactInfo.phone,onChange:p=>y("contactInfo.phone",p.target.value),placeholder:"+965 1234 5678"}),n.phone&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.phone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email *"}),a.jsx("input",{type:"email",className:`input-field ${n.email?"border-red-500":""}`,value:t.contactInfo.email,onChange:p=>y("contactInfo.email",p.target.value),placeholder:"outlet@restaurant.com"}),n.email&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name *"}),a.jsx("input",{type:"text",className:`input-field ${n.managerName?"border-red-500":""}`,value:t.contactInfo.managerName,onChange:p=>y("contactInfo.managerName",p.target.value),placeholder:"John Smith"}),n.managerName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.managerName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),a.jsx("input",{type:"tel",className:"input-field",value:t.contactInfo.managerPhone,onChange:p=>y("contactInfo.managerPhone",p.target.value),placeholder:"+965 9876 5432"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Email"}),a.jsx("input",{type:"email",className:"input-field",value:t.contactInfo.managerEmail,onChange:p=>y("contactInfo.managerEmail",p.target.value),placeholder:"manager@restaurant.com"})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Capacity & Features"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),a.jsx("input",{type:"number",className:"input-field",value:t.capacity.seatingCapacity,onChange:p=>y("capacity.seatingCapacity",parseInt(p.target.value)||0),min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Capacity"}),a.jsx("input",{type:"number",className:"input-field",value:t.capacity.kitchenCapacity,onChange:p=>y("capacity.kitchenCapacity",parseInt(p.target.value)||0),min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Capacity"}),a.jsx("input",{type:"number",className:"input-field",value:t.capacity.storageCapacity,onChange:p=>y("capacity.storageCapacity",parseInt(p.target.value)||0),min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity Unit"}),a.jsx("select",{className:"input-field",value:t.capacity.capacityUnit,onChange:p=>y("capacity.capacityUnit",p.target.value),children:u.map(p=>a.jsx("option",{value:p,children:p},p))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(p=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.features.includes(p),onChange:()=>g(p)}),a.jsx("span",{className:"ml-2 text-sm text-gray-900",children:p})]},p))})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),a.jsx("input",{type:"text",className:"input-field",value:t.timezone,onChange:p=>y("timezone",p.target.value),placeholder:"Asia/Kuwait"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:p=>y("notes",p.target.value),placeholder:"Additional notes about the outlet..."})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:()=>e("/outlets"),className:"btn-secondary",disabled:s,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Create Outlet"]})})]})]})]})},DJ=()=>{const e=Oe(),{id:t}=ma(),[r,n]=k.useState({outletCode:"",outletName:"",outletType:"Restaurant",description:"",address:{street:"",city:"",state:"",zipCode:"",country:"Kuwait"},contactInfo:{phone:"",email:"",managerName:"",managerPhone:"",managerEmail:""},operatingHours:{monday:{open:"09:00",close:"22:00",isOpen:!0},tuesday:{open:"09:00",close:"22:00",isOpen:!0},wednesday:{open:"09:00",close:"22:00",isOpen:!0},thursday:{open:"09:00",close:"22:00",isOpen:!0},friday:{open:"09:00",close:"22:00",isOpen:!0},saturday:{open:"09:00",close:"22:00",isOpen:!0},sunday:{open:"09:00",close:"22:00",isOpen:!0}},capacity:{seatingCapacity:0,kitchenCapacity:0,storageCapacity:0,capacityUnit:"SQM"},status:"Active",isCentralKitchen:!1,features:[],timezone:"Asia/Kuwait",notes:""}),[i,s]=k.useState({}),[o,l]=k.useState(!1),[c,u]=k.useState(!0),m=["Restaurant","Cafe","Food Court","Drive-Thru","Takeaway"],d=["Active","Inactive","Maintenance","Closed"],f=["SQM","CBM","KG","TON"],y=["Delivery","Takeaway","Dine-in","Drive-thru","Online Ordering","Catering"];k.useEffect(()=>{t&&g()},[t]);const g=async()=>{try{u(!0);const h=await le.getOutlet(t);h.success?n(h.data):(alert("Failed to load outlet"),e("/outlets"))}catch(h){alert("Error loading outlet: "+(h instanceof Error?h.message:"Unknown error")),e("/outlets")}finally{u(!1)}},p=()=>{const h={};return r.outletCode.trim()||(h.outletCode="Outlet code is required"),r.outletName.trim()||(h.outletName="Outlet name is required"),r.address.street.trim()||(h.street="Street address is required"),r.address.city.trim()||(h.city="City is required"),r.contactInfo.phone.trim()||(h.phone="Phone number is required"),r.contactInfo.email.trim()||(h.email="Email is required"),r.contactInfo.managerName.trim()||(h.managerName="Manager name is required"),s(h),Object.keys(h).length===0},v=async h=>{if(h.preventDefault(),!!p()){l(!0);try{(await le.updateOutlet(t,r)).success?(alert("Outlet updated successfully!"),e("/outlets")):alert("Failed to update outlet")}catch(w){alert("Error updating outlet: "+(w instanceof Error?w.message:"Unknown error")),console.error("Error updating outlet:",w)}finally{l(!1)}}},b=(h,w)=>{if(h.includes(".")){const[x,N]=h.split(".");n(S=>({...S,[x]:{...S[x]||{},[N]:w}}))}else n(x=>({...x,[h]:w}));i[h]&&s(x=>({...x,[h]:""}))},j=h=>{n(w=>({...w,features:w.features.includes(h)?w.features.filter(x=>x!==h):[...w.features,h]}))};return c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading outlet..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>e("/outlets"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[a.jsx(Nt,{className:"h-5 w-5 mr-2"}),"Back to Outlets"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Outlet"}),a.jsx("p",{className:"text-gray-600",children:"Update outlet information"})]})]})}),a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code *"}),a.jsx("input",{type:"text",className:`input-field ${i.outletCode?"border-red-500":""}`,value:r.outletCode,onChange:h=>b("outletCode",h.target.value.toUpperCase()),placeholder:"OUTLET-001"}),i.outletCode&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.outletCode})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name *"}),a.jsx("input",{type:"text",className:`input-field ${i.outletName?"border-red-500":""}`,value:r.outletName,onChange:h=>b("outletName",h.target.value),placeholder:"Downtown Restaurant"}),i.outletName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.outletName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),a.jsx("select",{className:"input-field",value:r.outletType,onChange:h=>b("outletType",h.target.value),children:m.map(h=>a.jsx("option",{value:h,children:h},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("select",{className:"input-field",value:r.status,onChange:h=>b("status",h.target.value),children:d.map(h=>a.jsx("option",{value:h,children:h},h))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.description,onChange:h=>b("description",h.target.value),placeholder:"Brief description of the outlet..."})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isCentralKitchen",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:r.isCentralKitchen,onChange:h=>b("isCentralKitchen",h.target.checked)}),a.jsx("label",{htmlFor:"isCentralKitchen",className:"ml-2 block text-sm text-gray-900",children:"This is a Central Kitchen"})]})})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),a.jsx("input",{type:"text",className:`input-field ${i.street?"border-red-500":""}`,value:r.address.street,onChange:h=>b("address.street",h.target.value),placeholder:"123 Main Street"}),i.street&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.street})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),a.jsx("input",{type:"text",className:`input-field ${i.city?"border-red-500":""}`,value:r.address.city,onChange:h=>b("address.city",h.target.value),placeholder:"Kuwait City"}),i.city&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.city})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),a.jsx("input",{type:"text",className:"input-field",value:r.address.state,onChange:h=>b("address.state",h.target.value),placeholder:"Kuwait"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),a.jsx("input",{type:"text",className:"input-field",value:r.address.zipCode,onChange:h=>b("address.zipCode",h.target.value),placeholder:"12345"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),a.jsx("input",{type:"text",className:"input-field",value:r.address.country,onChange:h=>b("address.country",h.target.value),placeholder:"Kuwait"})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone *"}),a.jsx("input",{type:"tel",className:`input-field ${i.phone?"border-red-500":""}`,value:r.contactInfo.phone,onChange:h=>b("contactInfo.phone",h.target.value),placeholder:"+965 1234 5678"}),i.phone&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.phone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email *"}),a.jsx("input",{type:"email",className:`input-field ${i.email?"border-red-500":""}`,value:r.contactInfo.email,onChange:h=>b("contactInfo.email",h.target.value),placeholder:"outlet@restaurant.com"}),i.email&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name *"}),a.jsx("input",{type:"text",className:`input-field ${i.managerName?"border-red-500":""}`,value:r.contactInfo.managerName,onChange:h=>b("contactInfo.managerName",h.target.value),placeholder:"John Smith"}),i.managerName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.managerName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),a.jsx("input",{type:"tel",className:"input-field",value:r.contactInfo.managerPhone,onChange:h=>b("contactInfo.managerPhone",h.target.value),placeholder:"+965 9876 5432"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Email"}),a.jsx("input",{type:"email",className:"input-field",value:r.contactInfo.managerEmail,onChange:h=>b("contactInfo.managerEmail",h.target.value),placeholder:"manager@restaurant.com"})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Capacity & Features"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),a.jsx("input",{type:"number",className:"input-field",value:r.capacity.seatingCapacity,onChange:h=>b("capacity.seatingCapacity",parseInt(h.target.value)||0),min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Capacity"}),a.jsx("input",{type:"number",className:"input-field",value:r.capacity.kitchenCapacity,onChange:h=>b("capacity.kitchenCapacity",parseInt(h.target.value)||0),min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Capacity"}),a.jsx("input",{type:"number",className:"input-field",value:r.capacity.storageCapacity,onChange:h=>b("capacity.storageCapacity",parseInt(h.target.value)||0),min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity Unit"}),a.jsx("select",{className:"input-field",value:r.capacity.capacityUnit,onChange:h=>b("capacity.capacityUnit",h.target.value),children:f.map(h=>a.jsx("option",{value:h,children:h},h))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(h=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:r.features.includes(h),onChange:()=>j(h)}),a.jsx("span",{className:"ml-2 text-sm text-gray-900",children:h})]},h))})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),a.jsx("input",{type:"text",className:"input-field",value:r.timezone,onChange:h=>b("timezone",h.target.value),placeholder:"Asia/Kuwait"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:h=>b("notes",h.target.value),placeholder:"Additional notes about the outlet..."})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:()=>e("/outlets"),className:"btn-secondary",disabled:o,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Update Outlet"]})})]})]})]})},MJ=()=>{const e=Oe(),t=k.useRef(null),[r,n]=k.useState(null),[i,s]=k.useState([]),[o,l]=k.useState([]),[c,u]=k.useState(!0),[m,d]=k.useState(null),[f,y]=k.useState(!1),[g,p]=k.useState(""),[v,b]=k.useState(""),[j,h]=k.useState(""),[w,x]=k.useState("materialName"),[N,S]=k.useState("asc");k.useEffect(()=>{C(),T()},[]),k.useEffect(()=>{r&&!c&&P()},[g,v,j,w,N]);const C=async()=>{try{u(!0),d(null);const B=await le.getCentralKitchens();if(B.success&&B.data.length>0){const Y=B.data[0];n(Y),await P(Y.id)}else d("Central Kitchen not found")}catch(B){d(B instanceof Error?B.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",B)}finally{u(!1)}},P=async B=>{const Y=B||(r==null?void 0:r.id);if(!Y){console.log("No outlet ID available for loading inventory");return}try{console.log("Loading inventory for outlet:",Y);const Z=await le.getOutletInventoryByOutlet(Y,{limit:1e3,search:g,category:v,status:j,sortBy:w,sortOrder:N});Z.success?(console.log("Loaded Central Kitchen Raw Materials Inventory:",Z.data),s(Z.data)):d("Failed to load raw materials inventory");const te=await le.getFinishedGoodInventoryByOutlet(Y,{limit:1e3,search:g,category:v,status:j,sortBy:w==="materialName"?"productName":w,sortOrder:N});te.success?(console.log("Loaded Central Kitchen Finished Goods Inventory:",te.data),l(te.data)):console.error("Failed to load finished goods inventory:","API Error")}catch(Z){d(Z instanceof Error?Z.message:"Failed to load inventory"),console.error("Error loading inventory:",Z)}},A=()=>{p(""),b(""),h(""),x("materialName"),S("asc")},E=()=>{try{const B=[...i.map(se=>({Type:"Raw Material","Item Code":se.materialCode,"Item Name":se.materialName,Category:se.category,"Unit of Measure":se.unitOfMeasure,"Unit Price":se.unitPrice,"Current Stock":se.currentStock,"Available Stock":se.availableStock,"Minimum Stock":se.minimumStock,"Maximum Stock":se.maximumStock,"Reorder Point":se.reorderPoint,"Total Value":se.totalValue,Location:se.location,"Batch Number":se.batchNumber,Supplier:"",Status:se.status,"Last Updated":new Date(se.lastUpdated).toLocaleDateString(),Notes:se.notes})),...o.map(se=>({Type:"Finished Good","Item Code":se.productCode,"Item Name":se.productName,Category:se.category,"Unit of Measure":se.unitOfMeasure,"Unit Price":se.unitPrice,"Current Stock":se.currentStock,"Available Stock":se.availableStock,"Minimum Stock":se.minimumStock,"Maximum Stock":se.maximumStock,"Reorder Point":se.reorderPoint,"Total Value":se.totalValue,Location:se.storageLocation,"Batch Number":se.batchNumber,Supplier:"",Status:se.qualityStatus,"Last Updated":new Date(se.lastUpdated).toLocaleDateString(),Notes:se.notes}))];if(B.length===0){alert("No items to export");return}const Y=Object.keys(B[0]),Z=[Y.join(","),...B.map(se=>Y.map(de=>{const pe=se[de];return typeof pe=="string"&&(pe.includes(",")||pe.includes('"'))?`"${pe.replace(/"/g,'""')}"`:pe}).join(","))].join(`
`),te=new Blob([Z],{type:"text/csv;charset=utf-8;"}),oe=document.createElement("a"),Le=URL.createObjectURL(te);oe.setAttribute("href",Le),oe.setAttribute("download",`central-kitchen-inventory-export-${new Date().toISOString().split("T")[0]}.csv`),oe.style.visibility="hidden",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),console.log("Central Kitchen export completed successfully")}catch(B){console.error("Export failed:",B),alert("Export failed. Please try again.")}},O=()=>{console.log("Import button clicked"),t.current?(console.log("File input ref found, clicking..."),t.current.click()):console.error("File input ref not found")},I=()=>{const B=[{Type:"Raw Material","Item Code":"MAT-001","Item Name":"Sample Raw Material",Category:"Fresh Produce","Unit of Measure":"KG","Unit Price":"5.50","Current Stock":"100","Available Stock":"95","Minimum Stock":"10","Maximum Stock":"500","Reorder Point":"15","Total Value":"550.00",Location:"Storage Room A","Batch Number":"BATCH-001",Supplier:"Fresh Produce Co",Status:"Good","Last Updated":new Date().toLocaleDateString(),Notes:"Sample raw material for import"},{Type:"Finished Good","Item Code":"FG-001","Item Name":"Sample Finished Good",Category:"Beverages","Unit of Measure":"PC","Unit Price":"2.25","Current Stock":"50","Available Stock":"48","Minimum Stock":"5","Maximum Stock":"200","Reorder Point":"10","Total Value":"112.50",Location:"Cold Storage","Batch Number":"BATCH-FG-001",Supplier:"Beverage Solutions",Status:"Good","Last Updated":new Date().toLocaleDateString(),Notes:"Sample finished good for import"}],Y=Object.keys(B[0]),Z=[Y.join(","),...B.map(se=>Y.map(de=>{const pe=se[de];return typeof pe=="string"&&(pe.includes(",")||pe.includes('"'))?`"${pe.replace(/"/g,'""')}"`:pe}).join(","))].join(`
`),te=new Blob([Z],{type:"text/csv;charset=utf-8;"}),oe=document.createElement("a"),Le=URL.createObjectURL(te);oe.setAttribute("href",Le),oe.setAttribute("download","sample-central-kitchen-inventory-import.csv"),oe.style.visibility="hidden",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe)},T=()=>{console.log("Automatically adding sample data to Central Kitchen...");const B=[{id:"rm-auto-001",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",materialId:"MAT-001",materialCode:"MAT-001",materialName:"Fresh Tomatoes",category:"Fresh Produce",unitOfMeasure:"KG",unitPrice:3.5,currentStock:150,reservedStock:10,availableStock:140,minimumStock:20,maximumStock:500,reorderPoint:25,totalValue:525,location:"Cold Storage A",batchNumber:"BATCH-TM-001",supplier:"Fresh Produce Co",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Premium quality tomatoes",isActive:!0},{id:"rm-auto-002",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",materialId:"MAT-002",materialCode:"MAT-002",materialName:"Organic Spinach",category:"Fresh Produce",unitOfMeasure:"KG",unitPrice:4.25,currentStock:75,reservedStock:5,availableStock:70,minimumStock:15,maximumStock:200,reorderPoint:20,totalValue:318.75,location:"Cold Storage A",batchNumber:"BATCH-SP-001",supplier:"Organic Farms Ltd",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Organic certified spinach",isActive:!0},{id:"rm-auto-003",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",materialId:"MAT-003",materialCode:"MAT-003",materialName:"Extra Virgin Olive Oil",category:"Pantry",unitOfMeasure:"LTR",unitPrice:12.5,currentStock:25,reservedStock:2,availableStock:23,minimumStock:5,maximumStock:100,reorderPoint:8,totalValue:312.5,location:"Dry Storage",batchNumber:"BATCH-OO-001",supplier:"Mediterranean Imports",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Premium Italian olive oil",isActive:!0},{id:"rm-auto-004",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",materialId:"MAT-004",materialCode:"MAT-004",materialName:"Sea Salt",category:"Pantry",unitOfMeasure:"KG",unitPrice:2.75,currentStock:200,reservedStock:15,availableStock:185,minimumStock:50,maximumStock:500,reorderPoint:60,totalValue:550,location:"Dry Storage",batchNumber:"BATCH-SS-001",supplier:"Salt Works Inc",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Fine sea salt crystals",isActive:!0},{id:"rm-auto-005",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",materialId:"MAT-005",materialCode:"MAT-005",materialName:"Black Pepper",category:"Spices",unitOfMeasure:"KG",unitPrice:8.5,currentStock:45,reservedStock:3,availableStock:42,minimumStock:10,maximumStock:100,reorderPoint:15,totalValue:382.5,location:"Spice Rack",batchNumber:"BATCH-BP-001",supplier:"Spice Masters",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Whole black peppercorns",isActive:!0},{id:"rm-auto-006",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",materialId:"MAT-006",materialCode:"MAT-006",materialName:"Fresh Basil",category:"Fresh Produce",unitOfMeasure:"KG",unitPrice:6.75,currentStock:30,reservedStock:2,availableStock:28,minimumStock:5,maximumStock:100,reorderPoint:8,totalValue:202.5,location:"Cold Storage A",batchNumber:"BATCH-BA-001",supplier:"Herb Garden Co",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Fresh aromatic basil leaves",isActive:!0},{id:"rm-auto-007",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",materialId:"MAT-007",materialCode:"MAT-007",materialName:"Quinoa",category:"Grains",unitOfMeasure:"KG",unitPrice:15,currentStock:80,reservedStock:8,availableStock:72,minimumStock:20,maximumStock:200,reorderPoint:25,totalValue:1200,location:"Dry Storage",batchNumber:"BATCH-QN-001",supplier:"Superfood Suppliers",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Organic quinoa grains",isActive:!0}],Y=[{id:"fg-auto-001",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",productId:"FG-001",productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages",unitOfMeasure:"PC",unitPrice:4.5,costPrice:2.25,currentStock:80,reservedStock:5,availableStock:75,minimumStock:20,maximumStock:200,reorderPoint:25,totalValue:360,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+3*24*60*60*1e3).toISOString(),batchNumber:"BATCH-FG-001",supplier:"Central Kitchen",lastUpdated:new Date().toISOString(),qualityStatus:"Good",storageTemperature:"4°C",storageLocation:"Cold Storage B",notes:"Freshly prepared green smoothie",isActive:!0},{id:"fg-auto-002",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",productId:"FG-002",productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals",unitOfMeasure:"PC",unitPrice:8.75,costPrice:4.5,currentStock:45,reservedStock:3,availableStock:42,minimumStock:15,maximumStock:100,reorderPoint:20,totalValue:393.75,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+2*24*60*60*1e3).toISOString(),batchNumber:"BATCH-FG-002",supplier:"Central Kitchen",lastUpdated:new Date().toISOString(),qualityStatus:"Good",storageTemperature:"2°C",storageLocation:"Cold Storage B",notes:"High protein meal bowl",isActive:!0},{id:"fg-auto-003",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",productId:"FG-003",productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages",unitOfMeasure:"PC",unitPrice:5.25,costPrice:2.75,currentStock:60,reservedStock:4,availableStock:56,minimumStock:20,maximumStock:150,reorderPoint:25,totalValue:315,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+1*24*60*60*1e3).toISOString(),batchNumber:"BATCH-FG-003",supplier:"Central Kitchen",lastUpdated:new Date().toISOString(),qualityStatus:"Good",storageTemperature:"4°C",storageLocation:"Cold Storage B",notes:"Fresh detox juice blend",isActive:!0},{id:"fg-auto-004",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",productId:"FG-004",productCode:"FG-004",productName:"Quinoa Salad",category:"Meals",unitOfMeasure:"PC",unitPrice:7.5,costPrice:3.75,currentStock:35,reservedStock:2,availableStock:33,minimumStock:10,maximumStock:80,reorderPoint:15,totalValue:262.5,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+2*24*60*60*1e3).toISOString(),batchNumber:"BATCH-FG-004",supplier:"Central Kitchen",lastUpdated:new Date().toISOString(),qualityStatus:"Good",storageTemperature:"2°C",storageLocation:"Cold Storage B",notes:"Healthy quinoa salad",isActive:!0},{id:"fg-auto-005",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",productId:"FG-005",productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks",unitOfMeasure:"PC",unitPrice:3.25,costPrice:1.5,currentStock:120,reservedStock:8,availableStock:112,minimumStock:30,maximumStock:300,reorderPoint:40,totalValue:390,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString(),batchNumber:"BATCH-FG-005",supplier:"Central Kitchen",lastUpdated:new Date().toISOString(),qualityStatus:"Good",storageTemperature:"Room Temperature",storageLocation:"Dry Storage",notes:"High protein energy bar",isActive:!0},{id:"fg-auto-006",outletId:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",productId:"FG-006",productCode:"FG-006",productName:"Fresh Fruit Bowl",category:"Meals",unitOfMeasure:"PC",unitPrice:6,costPrice:3,currentStock:25,reservedStock:2,availableStock:23,minimumStock:10,maximumStock:60,reorderPoint:15,totalValue:150,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+1*24*60*60*1e3).toISOString(),batchNumber:"BATCH-FG-006",supplier:"Central Kitchen",lastUpdated:new Date().toISOString(),qualityStatus:"Good",storageTemperature:"4°C",storageLocation:"Cold Storage B",notes:"Mixed fresh fruit bowl",isActive:!0}];s(B),console.log("Added",B.length,"raw materials automatically"),l(Y),console.log("Added",Y.length,"finished goods automatically"),console.log("Central Kitchen automatically populated with sample data")},M=async()=>{if(!r){alert("Central Kitchen outlet not found");return}try{u(!0),console.log("Adding sample data to Central Kitchen...");const B=[{outletId:r.id,outletCode:r.outletCode,outletName:r.outletName,materialId:"MAT-001",materialCode:"MAT-001",materialName:"Fresh Tomatoes",category:"Fresh Produce",unitOfMeasure:"KG",unitPrice:3.5,currentStock:150,reservedStock:10,availableStock:140,minimumStock:20,maximumStock:500,reorderPoint:25,totalValue:525,location:"Cold Storage A",batchNumber:"BATCH-TM-001",supplier:"Fresh Produce Co",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Premium quality tomatoes",isActive:!0},{outletId:r.id,outletCode:r.outletCode,outletName:r.outletName,materialId:"MAT-002",materialCode:"MAT-002",materialName:"Organic Spinach",category:"Fresh Produce",unitOfMeasure:"KG",unitPrice:4.25,currentStock:75,reservedStock:5,availableStock:70,minimumStock:15,maximumStock:200,reorderPoint:20,totalValue:318.75,location:"Cold Storage A",batchNumber:"BATCH-SP-001",supplier:"Organic Farms Ltd",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Organic certified spinach",isActive:!0},{outletId:r.id,outletCode:r.outletCode,outletName:r.outletName,materialId:"MAT-003",materialCode:"MAT-003",materialName:"Extra Virgin Olive Oil",category:"Pantry",unitOfMeasure:"LTR",unitPrice:12.5,currentStock:25,reservedStock:2,availableStock:23,minimumStock:5,maximumStock:100,reorderPoint:8,totalValue:312.5,location:"Dry Storage",batchNumber:"BATCH-OO-001",supplier:"Mediterranean Imports",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Premium Italian olive oil",isActive:!0},{outletId:r.id,outletCode:r.outletCode,outletName:r.outletName,materialId:"MAT-004",materialCode:"MAT-004",materialName:"Sea Salt",category:"Pantry",unitOfMeasure:"KG",unitPrice:2.75,currentStock:200,reservedStock:15,availableStock:185,minimumStock:50,maximumStock:500,reorderPoint:60,totalValue:550,location:"Dry Storage",batchNumber:"BATCH-SS-001",supplier:"Salt Works Inc",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Fine sea salt crystals",isActive:!0},{outletId:r.id,outletCode:r.outletCode,outletName:r.outletName,materialId:"MAT-005",materialCode:"MAT-005",materialName:"Black Pepper",category:"Spices",unitOfMeasure:"KG",unitPrice:8.5,currentStock:45,reservedStock:3,availableStock:42,minimumStock:10,maximumStock:100,reorderPoint:15,totalValue:382.5,location:"Spice Rack",batchNumber:"BATCH-BP-001",supplier:"Spice Masters",lastUpdated:new Date().toISOString(),status:"In Stock",notes:"Whole black peppercorns",isActive:!0}],Y=[{outletId:(r==null?void 0:r.id)||"central-kitchen-001",outletCode:(r==null?void 0:r.outletCode)||"CK-001",outletName:(r==null?void 0:r.outletName)||"Central Kitchen",productId:"FG-001",productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages",unitOfMeasure:"PC",unitPrice:4.5,costPrice:2.25,currentStock:80,reservedStock:5,availableStock:75,minimumStock:20,maximumStock:200,reorderPoint:25,totalValue:360,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+3*24*60*60*1e3).toISOString(),batchNumber:"BATCH-FG-001",supplier:"Central Kitchen",lastUpdated:new Date().toISOString(),qualityStatus:"Good",storageTemperature:"4°C",storageLocation:"Cold Storage B",notes:"Freshly prepared green smoothie",isActive:!0,qualityNotes:"Freshly prepared",status:"In Stock",transferSource:"Production"},{outletId:(r==null?void 0:r.id)||"central-kitchen-001",outletCode:(r==null?void 0:r.outletCode)||"CK-001",outletName:(r==null?void 0:r.outletName)||"Central Kitchen",productId:"FG-002",productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals",unitOfMeasure:"PC",unitPrice:8.75,costPrice:4.5,currentStock:45,reservedStock:3,availableStock:42,minimumStock:15,maximumStock:100,reorderPoint:20,totalValue:393.75,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+2*24*60*60*1e3).toISOString(),batchNumber:"BATCH-FG-002",supplier:"Central Kitchen",lastUpdated:new Date().toISOString(),qualityStatus:"Good",storageTemperature:"2°C",storageLocation:"Cold Storage B",notes:"High protein meal bowl",isActive:!0,qualityNotes:"High protein content",status:"In Stock",transferSource:"Production"},{outletId:(r==null?void 0:r.id)||"central-kitchen-001",outletCode:(r==null?void 0:r.outletCode)||"CK-001",outletName:(r==null?void 0:r.outletName)||"Central Kitchen",productId:"FG-003",productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages",unitOfMeasure:"PC",unitPrice:5.25,costPrice:2.75,currentStock:60,reservedStock:4,availableStock:56,minimumStock:20,maximumStock:150,reorderPoint:25,totalValue:315,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+1*24*60*60*1e3).toISOString(),batchNumber:"BATCH-FG-003",supplier:"Central Kitchen",lastUpdated:new Date().toISOString(),qualityStatus:"Good",storageTemperature:"4°C",storageLocation:"Cold Storage B",notes:"Fresh detox juice blend",isActive:!0,qualityNotes:"Fresh detox blend",status:"In Stock",transferSource:"Production"},{outletId:(r==null?void 0:r.id)||"central-kitchen-001",outletCode:(r==null?void 0:r.outletCode)||"CK-001",outletName:(r==null?void 0:r.outletName)||"Central Kitchen",productId:"FG-004",productCode:"FG-004",productName:"Quinoa Salad",category:"Meals",unitOfMeasure:"PC",unitPrice:7.5,costPrice:3.75,currentStock:35,reservedStock:2,availableStock:33,minimumStock:10,maximumStock:80,reorderPoint:15,totalValue:262.5,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+2*24*60*60*1e3).toISOString(),batchNumber:"BATCH-FG-004",supplier:"Central Kitchen",lastUpdated:new Date().toISOString(),qualityStatus:"Good",storageTemperature:"2°C",storageLocation:"Cold Storage B",notes:"Healthy quinoa salad",isActive:!0,qualityNotes:"Healthy quinoa salad",status:"In Stock",transferSource:"Production"}];let Z=0,te=0;for(const se of B)try{const de={...se,id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`};s(pe=>[...pe,de]),console.log("Added raw material:",se.materialName),Z++}catch(de){console.error("Error adding raw material:",de),te++}let oe=0,Le=0;for(const se of Y)try{const de={...se,id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`};l(pe=>[...pe,de]),console.log("Added finished good:",se.productName),oe++}catch(de){console.error("Error adding finished good:",de),Le++}alert(`Sample data added successfully!

Raw Materials: ${Z} added
Finished Goods: ${oe} added

Data is now visible in the inventory tables below.`)}catch(B){console.error("Error adding sample data:",B),alert("Failed to add sample data. Please try again.")}finally{u(!1)}},R=async B=>{var Z;const Y=(Z=B.target.files)==null?void 0:Z[0];if(!Y){console.log("No file selected");return}if(console.log("File selected:",Y.name,"Size:",Y.size,"Type:",Y.type),!Y.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{y(!0),console.log("Starting Central Kitchen import process...");const te=await Y.text();console.log("File content length:",te.length);const oe=te.split(`
`).filter(Ct=>Ct.trim());if(console.log("Number of lines:",oe.length),oe.length<2){alert("CSV file must contain at least a header row and one data row");return}const Le=Ct=>{const Er=[];let Ee="",Tt=!1;for(let Gt=0;Gt<Ct.length;Gt++){const st=Ct[Gt];st==='"'?Tt&&Ct[Gt+1]==='"'?(Ee+='"',Gt++):Tt=!Tt:st===","&&!Tt?(Er.push(Ee.trim()),Ee=""):Ee+=st}return Er.push(Ee.trim()),Er},se=Le(oe[0]);console.log("Headers:",se);const de=oe.slice(1).map((Ct,Er)=>{const Ee=Le(Ct),Tt={};return se.forEach((Gt,st)=>{Tt[Gt]=Ee[st]||""}),console.log(`Row ${Er+1}:`,Tt),Tt}),pe=["Type","Item Code","Item Name","Category","Unit of Measure","Current Stock"],Se=pe.filter(Ct=>!se.includes(Ct));if(Se.length>0){alert(`Missing required columns: ${Se.join(", ")}

Required columns: ${pe.join(", ")}

Found columns: ${se.join(", ")}`);return}console.log("Starting to process",de.length,"rows...");let ve=0,tr=0,Gr=0;const Ll=[],Z0=new Set;for(let Ct=0;Ct<de.length;Ct++){const Er=de[Ct];try{console.log(`Processing row ${Ct+1}:`,Er);const Ee=Er["Item Code"],Tt=Er.Type,Gt=parseFloat(Er["Current Stock"])||0;if(Z0.has(Ee)){console.log(`Item ${Ee} already processed in this import, adding stock...`);let st=null;if(Tt==="Raw Material"?st=i.find(It=>It.materialCode===Ee):Tt==="Finished Good"&&(st=o.find(It=>It.productCode===Ee)),st){const It=st.currentStock+Gt;console.log(`Adding ${Gt} stock to ${Ee}. New total: ${It}`),Gr++,console.log(`Successfully added stock to ${Ee}`)}else{tr++;const It=`Item ${Ee} not found for stock addition`;Ll.push(It),console.error(It)}continue}if(Tt==="Raw Material"){const st=i.find(It=>It.materialCode===Ee);if(st){console.log("Raw material exists, adding stock to existing material:",st.id);const It=st.currentStock+Gt;console.log(`Adding ${Gt} stock to existing ${Ee}. Previous: ${st.currentStock}, New: ${It}`),Gr++,console.log(`Successfully added stock to ${Ee}`)}else console.log("Creating new raw material:",Ee),ve++,console.log(`Successfully created ${Ee}`)}else if(Tt==="Finished Good"){const st=o.find(It=>It.productCode===Ee);if(st){console.log("Finished good exists, adding stock to existing item:",st.id);const It=st.currentStock+Gt;console.log(`Adding ${Gt} stock to existing ${Ee}. Previous: ${st.currentStock}, New: ${It}`),Gr++,console.log(`Successfully added stock to ${Ee}`)}else console.log("Creating new finished good:",Ee),ve++,console.log(`Successfully created ${Ee}`)}Z0.add(Ee)}catch(Ee){tr++;const Tt=`Error processing row ${Ct+1} (${Er["Item Code"]||"Unknown"}): ${Ee instanceof Error?Ee.message:"Unknown error"}`;Ll.push(Tt),console.error(Tt,Ee)}}if(console.log("Central Kitchen import processing complete. Created:",ve,"Stock Updated:",Gr,"Errors:",tr),r!=null&&r.id)try{await P(),console.log("Inventory reloaded successfully")}catch(Ct){console.error("Error reloading inventory after import:",Ct)}else console.log("No outlet available for reloading inventory");tr>0?alert(`Import completed with errors:

New Items Created: ${ve}
Stock Added to Existing: ${Gr}
Errors: ${tr}

Errors:
${Ll.slice(0,5).join(`
`)}${Ll.length>5?`
...`:""}`):alert(`Import completed successfully!

New Items Created: ${ve}
Stock Added to Existing: ${Gr}

Note: The items were processed but may not appear in the inventory until the page is refreshed.`)}catch(te){console.error("Import failed:",te),alert(`Import failed: ${te instanceof Error?te.message:"Unknown error"}

Please check your CSV file format and try again.`)}finally{y(!1),t.current&&(t.current.value="")}},W=B=>{switch(B){case"In Stock":return"bg-green-100 text-green-800";case"Low Stock":return"bg-yellow-100 text-yellow-800";case"Out of Stock":return"bg-red-100 text-red-800";case"Overstock":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},L=B=>{switch(B){case"In Stock":return a.jsx(Re,{className:"h-4 w-4"});case"Low Stock":return a.jsx(Lt,{className:"h-4 w-4"});case"Out of Stock":return a.jsx(zr,{className:"h-4 w-4"});case"Overstock":return a.jsx(Pt,{className:"h-4 w-4"});default:return a.jsx(Re,{className:"h-4 w-4"})}},D=i.length,U=i.reduce((B,Y)=>B+Y.totalValue,0),F=i.filter(B=>B.status==="Low Stock").length,$=i.filter(B=>B.status==="Out of Stock").length,K=i.filter(B=>B.status==="Overstock").length,ee=o.length,Q=o.reduce((B,Y)=>B+Y.totalValue,0),fe=o.filter(B=>B.status==="Low Stock").length,ge=o.filter(B=>B.status==="Out of Stock").length,Ie=o.filter(B=>B.status==="Overstock").length,J=o.filter(B=>B.status==="Expired").length,ie=D+ee,re=U+Q,G=F+fe,we=$+ge,be=K+Ie,je=[...new Set(i.map(B=>B.category))],z=[...new Set(o.map(B=>B.category))],q=[...new Set([...je,...z])];return c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Central Kitchen..."})]})}):m?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-red-600 mb-4",children:m}),a.jsx("button",{onClick:C,className:"btn-primary",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(na,{className:"h-8 w-8 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Central Kitchen"}),a.jsxs("p",{className:"text-gray-600",children:["Main production facility - ",r==null?void 0:r.outletName]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:C,className:"btn-secondary flex items-center",title:"Refresh data",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:()=>e("/transfer-orders/add?from=central-kitchen"),className:"btn-primary flex items-center",children:[a.jsx(qa,{className:"h-4 w-4 mr-2"}),"Create Transfer"]})]})]}),a.jsx("div",{className:"card p-6 bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(na,{className:"h-8 w-8 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),a.jsx("p",{className:"text-gray-600",children:"Central Kitchen Operations"}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(bs,{className:"h-4 w-4 mr-1"}),"Production Facility"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(vs,{className:"h-4 w-4 mr-1"}),"24/7 Operations"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(qa,{className:"h-4 w-4 mr-1"}),"Distribution Hub"]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r==null?void 0:r.outletCode}),a.jsx("div",{className:"text-sm text-gray-500",children:"Central Kitchen"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(en,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ie}),a.jsxs("p",{className:"text-xs text-gray-500",children:[D," Raw + ",ee," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Re,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[re.toFixed(2)," KWD"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[U.toFixed(2)," Raw + ",Q.toFixed(2)," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Lt,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:G}),a.jsxs("p",{className:"text-xs text-gray-500",children:[F," Raw + ",fe," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(zr,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:we}),a.jsxs("p",{className:"text-xs text-gray-500",children:[$," Raw + ",ge," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Pt,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overstock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:be}),a.jsxs("p",{className:"text-xs text-gray-500",children:[K," Raw + ",Ie," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(Lt,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expired Items"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:J}),a.jsx("p",{className:"text-xs text-gray-500",children:"Finished Goods Only"})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search raw materials and finished goods by name, code, or supplier...",className:"input-field pl-10",value:g,onChange:B=>p(B.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:A,className:"btn-secondary flex items-center",title:"Clear all filters",children:"Clear Filters"}),a.jsxs("button",{onClick:E,className:"btn-secondary flex items-center",title:"Export inventory to CSV",disabled:i.length===0&&o.length===0,children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs("button",{onClick:O,className:"btn-secondary flex items-center",title:"Import inventory from CSV",disabled:f,children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),f?"Importing...":"Import"]}),a.jsxs("button",{onClick:I,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Sample CSV"]}),a.jsxs("button",{onClick:M,className:"btn-primary flex items-center",title:"Add sample inventory data",disabled:c,children:[a.jsx(Re,{className:"h-4 w-4 mr-2"}),c?"Adding...":"Add Sample Data"]}),a.jsxs("button",{onClick:()=>e("/sales-orders/add?outlet=Central Kitchen"),className:"btn-primary flex items-center",title:"Create new sales order",children:[a.jsx($E,{className:"h-4 w-4 mr-2"}),"Create Sales Order"]}),a.jsxs("button",{onClick:()=>e("/sales-orders"),className:"btn-secondary flex items-center",title:"View all sales orders",children:[a.jsx(en,{className:"h-4 w-4 mr-2"}),"View Sales Orders"]}),a.jsxs("button",{onClick:()=>P(),className:"btn-secondary flex items-center",title:"Refresh inventory data",disabled:c||!(r!=null&&r.id),children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{className:"input-field",value:v,onChange:B=>b(B.target.value),children:[a.jsx("option",{value:"",children:"All Categories"}),q.map(B=>a.jsx("option",{value:B,children:B},B))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{className:"input-field",value:j,onChange:B=>h(B.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"In Stock",children:"In Stock"}),a.jsx("option",{value:"Low Stock",children:"Low Stock"}),a.jsx("option",{value:"Out of Stock",children:"Out of Stock"}),a.jsx("option",{value:"Overstock",children:"Overstock"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("select",{className:"input-field flex-1",value:w,onChange:B=>x(B.target.value),children:[a.jsx("option",{value:"materialName",children:"Raw Material Name"}),a.jsx("option",{value:"currentStock",children:"Current Stock"}),a.jsx("option",{value:"totalValue",children:"Total Value"}),a.jsx("option",{value:"status",children:"Status"}),a.jsx("option",{value:"lastUpdated",children:"Last Updated"})]}),a.jsx("button",{onClick:()=>S(N==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${N==="asc"?"Descending":"Ascending"}`,children:N==="asc"?"↑":"↓"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Showing ",i.length+o.length," inventory items",(g||v||j)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(g||v||j)&&a.jsx("button",{onClick:A,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Raw Material"}),a.jsx("th",{className:"table-header",children:"Current Stock"}),a.jsx("th",{className:"table-header",children:"Available"}),a.jsx("th",{className:"table-header",children:"Min/Max"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Value"}),a.jsx("th",{className:"table-header",children:"Location"}),a.jsx("th",{className:"table-header",children:"Last Updated"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(B=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900 font-medium",children:B.materialName}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.materialCode}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.category})]})}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:B.currentStock}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.unitOfMeasure})]}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:B.availableStock}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.unitOfMeasure})]}),a.jsxs("td",{className:"table-cell",children:[a.jsxs("div",{className:"text-gray-900 text-sm",children:[B.minimumStock,"/",B.maximumStock]}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.unitOfMeasure})]}),a.jsx("td",{className:"table-cell",children:a.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${W(B.status)}`,children:[L(B.status),a.jsx("span",{className:"ml-1",children:B.status})]})}),a.jsxs("td",{className:"table-cell",children:[a.jsxs("div",{className:"text-gray-900 font-medium",children:[B.totalValue.toFixed(2)," KWD"]}),a.jsxs("div",{className:"text-gray-500 text-sm",children:[B.unitPrice.toFixed(2)," per ",B.unitOfMeasure]})]}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 text-sm",children:B.location}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.batchNumber})]}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 text-sm",children:new Date(B.lastUpdated).toLocaleDateString()}),a.jsx("div",{className:"text-gray-500 text-sm",children:new Date(B.lastUpdated).toLocaleTimeString()})]}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>e(`/outlet-inventory/edit/${B.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:"Edit"})})})]},B.id))})]})})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Finished Good"}),a.jsx("th",{className:"table-header",children:"Current Stock"}),a.jsx("th",{className:"table-header",children:"Available"}),a.jsx("th",{className:"table-header",children:"Min/Max"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Value"}),a.jsx("th",{className:"table-header",children:"Production/Expiry"}),a.jsx("th",{className:"table-header",children:"Quality"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(B=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900 font-medium",children:B.productName}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.productCode}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.category})]})}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:B.currentStock}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.unitOfMeasure})]}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:B.availableStock}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.unitOfMeasure})]}),a.jsxs("td",{className:"table-cell",children:[a.jsxs("div",{className:"text-gray-900 text-sm",children:[B.minimumStock,"/",B.maximumStock]}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.unitOfMeasure})]}),a.jsx("td",{className:"table-cell",children:a.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${W(B.status)}`,children:[L(B.status),a.jsx("span",{className:"ml-1",children:B.status})]})}),a.jsxs("td",{className:"table-cell",children:[a.jsxs("div",{className:"text-gray-900 font-medium",children:[B.totalValue.toFixed(2)," KWD"]}),a.jsxs("div",{className:"text-gray-500 text-sm",children:[B.costPrice.toFixed(2)," cost / ",B.unitPrice.toFixed(2)," sell"]})]}),a.jsxs("td",{className:"table-cell",children:[a.jsxs("div",{className:"text-gray-900 text-sm",children:["Prod: ",new Date(B.productionDate).toLocaleDateString()]}),a.jsxs("div",{className:"text-gray-500 text-sm",children:["Exp: ",new Date(B.expiryDate).toLocaleDateString()]}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.batchNumber})]}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 text-sm",children:B.qualityStatus}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.storageTemperature}),a.jsx("div",{className:"text-gray-500 text-sm",children:B.storageLocation})]}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>e(`/finished-good-inventory/edit/${B.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:"Edit"})})})]},B.id))})]})})}),a.jsx("input",{ref:t,type:"file",accept:".csv",onChange:R,style:{display:"none"}})]})},$J=()=>{const e=Oe(),[t,r]=k.useState(null),[n,i]=k.useState([]),[s,o]=k.useState([]),[l,c]=k.useState(!0),[u,m]=k.useState(null),[d,f]=k.useState(""),[y,g]=k.useState(""),[p,v]=k.useState(""),[b,j]=k.useState("materialName"),[h,w]=k.useState("asc"),[x,N]=k.useState(!1),S=k.useRef(null);k.useEffect(()=>{C()},[]),k.useEffect(()=>{t&&!l&&P()},[d,y,p,b,h]);const C=async()=>{try{c(!0),m(null);const z=await le.getOutlets({limit:1e3});if(z.success){const q=z.data.find(B=>B.outletCode==="OUT-001");q?(r(q),await P(q._id)):m("Downtown Restaurant not found")}else m("Failed to load outlet data")}catch(z){m(z instanceof Error?z.message:"Failed to load outlet data"),console.error("Error loading outlet data:",z)}finally{c(!1)}},P=async z=>{if(!(!z&&!t))try{const q=await le.getOutletInventoryByOutlet(z||t._id,{limit:1e3,search:d,category:y,status:p,sortBy:b,sortOrder:h});q.success?(console.log("Loaded Downtown Restaurant Raw Materials Inventory:",q.data),i(q.data)):m("Failed to load raw materials inventory");const B=await le.getFinishedGoodInventoryByOutlet(z||t._id,{limit:1e3,search:d,category:y,status:p,sortBy:b==="materialName"?"productName":b,sortOrder:h});B.success?(console.log("Loaded Downtown Restaurant Finished Goods Inventory:",B.data),o(B.data)):console.error("Failed to load finished goods inventory:","API Error")}catch(q){m(q instanceof Error?q.message:"Failed to load inventory"),console.error("Error loading inventory:",q)}},A=()=>{f(""),g(""),v(""),j("materialName"),w("asc")},E=z=>{switch(z){case"In Stock":return"bg-green-100 text-green-800";case"Low Stock":return"bg-yellow-100 text-yellow-800";case"Out of Stock":return"bg-red-100 text-red-800";case"Overstock":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},O=z=>{switch(z){case"In Stock":return a.jsx(Re,{className:"h-4 w-4"});case"Low Stock":return a.jsx(Lt,{className:"h-4 w-4"});case"Out of Stock":return a.jsx(zr,{className:"h-4 w-4"});case"Overstock":return a.jsx(Pt,{className:"h-4 w-4"});default:return a.jsx(Re,{className:"h-4 w-4"})}},I=n.length,T=n.reduce((z,q)=>z+q.totalValue,0),M=n.filter(z=>z.status==="Low Stock").length,R=n.filter(z=>z.status==="Out of Stock").length,W=n.filter(z=>z.status==="Overstock").length,L=s.length,D=s.reduce((z,q)=>z+q.totalValue,0),U=s.filter(z=>z.status==="Low Stock").length,F=s.filter(z=>z.status==="Out of Stock").length,$=s.filter(z=>z.status==="Overstock").length,K=s.filter(z=>z.status==="Expired").length,ee=I+L,Q=T+D,fe=M+U,ge=R+F,Ie=W+$,J=[...new Set(n.map(z=>z.category))],ie=[...new Set(s.map(z=>z.category))],re=[...new Set([...J,...ie])],G=()=>{if(n.length===0&&s.length===0){alert("No inventory to export");return}const z=[["Type","Item Code","Item Name","Category","Unit of Measure","Unit Price","Current Stock","Available Stock","Minimum Stock","Maximum Stock","Total Value","Status","Supplier","Last Updated","Notes"].join(","),...n.map(Z=>["Raw Material",Z.materialCode,Z.materialName,Z.category,Z.unitOfMeasure,Z.unitPrice.toFixed(2),Z.currentStock.toString(),Z.availableStock.toString(),Z.minimumStock.toString(),Z.maximumStock.toString(),Z.totalValue.toFixed(2),Z.status,Z.supplier,new Date(Z.lastUpdated).toLocaleDateString(),Z.notes||""].map(te=>`"${te}"`).join(",")),...s.map(Z=>["Finished Good",Z.productCode,Z.productName,Z.category,Z.unitOfMeasure,Z.unitPrice.toFixed(2),Z.currentStock.toString(),Z.availableStock.toString(),Z.minimumStock.toString(),Z.maximumStock.toString(),Z.totalValue.toFixed(2),Z.status,"",new Date(Z.lastUpdated).toLocaleDateString(),Z.notes||""].map(te=>`"${te}"`).join(","))].join(`
`),q=new Blob([z],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a"),Y=URL.createObjectURL(q);B.setAttribute("href",Y),B.setAttribute("download",`downtown-restaurant-inventory-${new Date().toISOString().split("T")[0]}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)},we=()=>{var z;(z=S.current)==null||z.click()},be=async z=>{var B;const q=(B=z.target.files)==null?void 0:B[0];if(q){if(!q.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{N(!0);const Z=(await q.text()).split(`
`).filter(se=>se.trim());if(Z.length<2){alert("CSV file must contain at least a header row and one data row");return}const te=Z.slice(1);let oe=0,Le=0;for(const se of te)try{const de=se.split(",").map(Se=>Se.replace(/"/g,"").trim()),pe=de[0];if(pe==="Raw Material"){const Se={materialCode:de[1],materialName:de[2],category:de[3],unitOfMeasure:de[4],unitPrice:parseFloat(de[5])||0,currentStock:parseInt(de[6])||0,minimumStock:parseInt(de[8])||0,maximumStock:parseInt(de[9])||0,supplier:de[12]||"",notes:de[14]||""},ve={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"downtown-restaurant-001",outletCode:(t==null?void 0:t.outletCode)||"",outletName:(t==null?void 0:t.outletName)||"",materialId:Se.materialCode,materialCode:Se.materialCode,materialName:Se.materialName,category:Se.category,unitOfMeasure:Se.unitOfMeasure,unitPrice:Se.unitPrice,currentStock:Se.currentStock,reservedStock:0,availableStock:Se.currentStock,minimumStock:Se.minimumStock,maximumStock:Se.maximumStock,reorderPoint:Math.ceil(Se.minimumStock*1.5),totalValue:Se.currentStock*Se.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:Se.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:Se.notes,isActive:!0};i(tr=>[...tr,ve]),oe++}else if(pe==="Finished Good"){const Se={productCode:de[1],productName:de[2],category:de[3],unitOfMeasure:de[4],unitPrice:parseFloat(de[5])||0,currentStock:parseInt(de[6])||0,minimumStock:parseInt(de[8])||0,maximumStock:parseInt(de[9])||0,supplier:de[12]||"",notes:de[14]||""},ve={id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"downtown-restaurant-001",outletCode:(t==null?void 0:t.outletCode)||"",outletName:(t==null?void 0:t.outletName)||"",productId:Se.productCode,productCode:Se.productCode,productName:Se.productName,category:Se.category,unitOfMeasure:Se.unitOfMeasure,unitPrice:Se.unitPrice,costPrice:Se.unitPrice*.7,currentStock:Se.currentStock,reservedStock:0,availableStock:Se.currentStock,minimumStock:Se.minimumStock,maximumStock:Se.maximumStock,reorderPoint:Math.ceil(Se.minimumStock*1.5),totalValue:Se.currentStock*Se.unitPrice,productionDate:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],batchNumber:`BATCH-${Date.now()}`,storageLocation:"Cold Storage",storageTemperature:"4°C",qualityStatus:"Good",qualityNotes:"Imported from CSV",status:"In Stock",transferSource:"Import",lastUpdated:new Date().toISOString(),notes:Se.notes,isActive:!0};o(tr=>[...tr,ve]),oe++}}catch{Le++}alert(`Import completed!

Successfully imported: ${oe} items
Errors: ${Le}`)}catch(Y){alert("Error importing file: "+(Y instanceof Error?Y.message:"Unknown error"))}finally{N(!1),S.current&&(S.current.value="")}}},je=()=>{const q=[["Type","Item Code","Item Name","Category","Unit of Measure","Unit Price","Current Stock","Available Stock","Minimum Stock","Maximum Stock","Total Value","Status","Supplier","Last Updated","Notes"],["Raw Material","RM-001","Fresh Tomatoes","Vegetables","KG","3.50","50","50","10","100","175.00","In Stock","Fresh Foods Ltd","2024-01-15","Premium quality"],["Finished Good","FG-001","Caesar Salad","Salads","PORTION","8.50","25","25","5","50","212.50","In Stock","Downtown Restaurant","2024-01-15","Fresh daily"]].map(te=>te.map(oe=>`"${oe}"`).join(",")).join(`
`),B=new Blob([q],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a"),Z=URL.createObjectURL(B);Y.setAttribute("href",Z),Y.setAttribute("download","downtown-restaurant-sample-template.csv"),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)};return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Downtown Restaurant..."})]})}):u?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-red-600 mb-4",children:u}),a.jsx("button",{onClick:C,className:"btn-primary",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(na,{className:"h-8 w-8 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Downtown Restaurant"}),a.jsxs("p",{className:"text-gray-600",children:["Premium dining restaurant - ",t==null?void 0:t.outletName]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:C,className:"btn-secondary flex items-center",title:"Refresh data",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:()=>e("/transfer-orders/add"),className:"btn-primary flex items-center",children:[a.jsx(qa,{className:"h-4 w-4 mr-2"}),"Request Transfer"]})]})]}),a.jsx("div",{className:"card p-6 bg-gradient-to-r from-blue-50 to-green-50 border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(na,{className:"h-8 w-8 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t==null?void 0:t.outletName}),a.jsx("p",{className:"text-gray-600",children:"Premium Dining Restaurant"}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(bs,{className:"h-4 w-4 mr-1"}),"120 Seating Capacity"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(vs,{className:"h-4 w-4 mr-1"}),"11:00 AM - 11:00 PM"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(br,{className:"h-4 w-4 mr-1"}),"Dine-in, Takeaway, Online"]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t==null?void 0:t.outletCode}),a.jsx("div",{className:"text-sm text-gray-500",children:"Restaurant"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(en,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ee}),a.jsxs("p",{className:"text-xs text-gray-500",children:[I," Raw + ",L," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Re,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Q.toFixed(2)," KWD"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[T.toFixed(2)," Raw + ",D.toFixed(2)," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Lt,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:fe}),a.jsxs("p",{className:"text-xs text-gray-500",children:[M," Raw + ",U," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(zr,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ge}),a.jsxs("p",{className:"text-xs text-gray-500",children:[R," Raw + ",F," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Pt,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overstock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Ie}),a.jsxs("p",{className:"text-xs text-gray-500",children:[W," Raw + ",$," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(Lt,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expired Items"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:K}),a.jsx("p",{className:"text-xs text-gray-500",children:"Finished Goods Only"})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search materials and products by name, code, or category...",className:"input-field pl-10",value:d,onChange:z=>f(z.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:A,className:"btn-secondary flex items-center",title:"Clear all filters",children:"Clear Filters"}),a.jsxs("button",{onClick:G,className:"btn-secondary flex items-center",title:"Export inventory to CSV",disabled:n.length===0&&s.length===0,children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs("button",{onClick:we,className:"btn-secondary flex items-center",title:"Import inventory from CSV",disabled:x,children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),x?"Importing...":"Import"]}),a.jsxs("button",{onClick:je,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{className:"input-field",value:y,onChange:z=>g(z.target.value),children:[a.jsx("option",{value:"",children:"All Categories"}),re.map(z=>a.jsx("option",{value:z,children:z},z))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{className:"input-field",value:p,onChange:z=>v(z.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"In Stock",children:"In Stock"}),a.jsx("option",{value:"Low Stock",children:"Low Stock"}),a.jsx("option",{value:"Out of Stock",children:"Out of Stock"}),a.jsx("option",{value:"Overstock",children:"Overstock"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("select",{className:"input-field flex-1",value:b,onChange:z=>j(z.target.value),children:[a.jsx("option",{value:"materialName",children:"Material Name"}),a.jsx("option",{value:"productName",children:"Product Name"}),a.jsx("option",{value:"currentStock",children:"Current Stock"}),a.jsx("option",{value:"totalValue",children:"Total Value"}),a.jsx("option",{value:"status",children:"Status"}),a.jsx("option",{value:"lastUpdated",children:"Last Updated"}),a.jsx("option",{value:"expiryDate",children:"Expiry Date"})]}),a.jsx("button",{onClick:()=>w(h==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${h==="asc"?"Descending":"Ascending"}`,children:h==="asc"?"↑":"↓"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Showing ",n.length+s.length," inventory items",(d||y||p)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(d||y||p)&&a.jsx("button",{onClick:A,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(z=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.materialName}),a.jsx("div",{className:"text-sm text-gray-500",children:z.materialCode})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z.category}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[z.currentStock," ",z.unitOfMeasure]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Min: ",z.minimumStock," | Max: ",z.maximumStock]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(z.status)}`,children:[O(z.status),z.status]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[z.totalValue.toFixed(2)," KWD"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z.location}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(z.lastUpdated).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:"Edit"})})})]},z.id))})]})})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Production Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiry Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quality"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(z=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.productName}),a.jsx("div",{className:"text-sm text-gray-500",children:z.productCode})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z.category}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[z.currentStock," ",z.unitOfMeasure]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Min: ",z.minimumStock," | Max: ",z.maximumStock]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(z.status)}`,children:[O(z.status),z.status]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(z.productionDate).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(z.expiryDate).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${z.qualityStatus==="Fresh"?"bg-green-100 text-green-800":z.qualityStatus==="Good"?"bg-blue-100 text-blue-800":z.qualityStatus==="Expiring Soon"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:z.qualityStatus})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[z.totalValue.toFixed(2)," KWD"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:"Edit"})})})]},z.id))})]})})}),a.jsx("input",{type:"file",ref:S,onChange:be,accept:".csv",style:{display:"none"}})]})},_J=()=>{const e=Oe(),[t,r]=k.useState(null),[n,i]=k.useState([]),[s,o]=k.useState([]),[l,c]=k.useState(!0),[u,m]=k.useState(null),[d,f]=k.useState(""),[y,g]=k.useState(""),[p,v]=k.useState(""),[b,j]=k.useState("materialName"),[h,w]=k.useState("asc"),[x]=k.useState("raw-materials"),[N,S]=k.useState(!1),C=k.useRef(null);k.useEffect(()=>{P()},[]),k.useEffect(()=>{t&&!l&&A()},[d,y,p,b,h]);const P=async()=>{try{c(!0),m(null);const q=await le.getOutlets({limit:1e3});if(q.success){const B=q.data.find(Y=>Y.outletCode==="OUT-002");B?(r(B),await A(B._id)):m("Marina Walk Cafe not found")}else m("Failed to load outlet data")}catch(q){m(q instanceof Error?q.message:"Failed to load outlet data"),console.error("Error loading outlet data:",q)}finally{c(!1)}},A=async q=>{if(!(!q&&!t))try{const B=await le.getOutletInventoryByOutlet(q||t._id,{limit:1e3,search:d,category:y,status:p,sortBy:b,sortOrder:h});B.success?(console.log("Loaded Marina Walk Cafe Raw Materials Inventory:",B.data),i(B.data)):m("Failed to load raw materials inventory");const Y=await le.getFinishedGoodInventoryByOutlet(q||t._id,{limit:1e3,search:d,category:y,status:p,sortBy:b==="materialName"?"productName":b,sortOrder:h});Y.success?(console.log("Loaded Marina Walk Cafe Finished Goods Inventory:",Y.data),o(Y.data)):console.error("Failed to load finished goods inventory:","API Error")}catch(B){m(B instanceof Error?B.message:"Failed to load inventory"),console.error("Error loading inventory:",B)}},E=()=>{f(""),g(""),v(""),j("materialName"),w("asc")},O=q=>{switch(q){case"In Stock":return"bg-green-100 text-green-800";case"Low Stock":return"bg-yellow-100 text-yellow-800";case"Out of Stock":return"bg-red-100 text-red-800";case"Overstock":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},I=q=>{switch(q){case"In Stock":return a.jsx(Re,{className:"h-4 w-4"});case"Low Stock":return a.jsx(Lt,{className:"h-4 w-4"});case"Out of Stock":return a.jsx(zr,{className:"h-4 w-4"});case"Overstock":return a.jsx(Pt,{className:"h-4 w-4"});default:return a.jsx(Re,{className:"h-4 w-4"})}},T=n.length,M=n.reduce((q,B)=>q+B.totalValue,0),R=n.filter(q=>q.status==="Low Stock").length,W=n.filter(q=>q.status==="Out of Stock").length,L=n.filter(q=>q.status==="Overstock").length,D=s.length,U=s.reduce((q,B)=>q+B.totalValue,0),F=s.filter(q=>q.status==="Low Stock").length,$=s.filter(q=>q.status==="Out of Stock").length,K=s.filter(q=>q.status==="Overstock").length,ee=s.filter(q=>q.status==="Expired").length,Q=T+D,fe=M+U,ge=R+F,Ie=W+$,J=L+K,ie=[...new Set(n.map(q=>q.category))],re=[...new Set(s.map(q=>q.category))],G=[...new Set([...ie,...re])],we=()=>{if(n.length===0&&s.length===0){alert("No inventory to export");return}const q=[["Type","Item Code","Item Name","Category","Unit of Measure","Unit Price","Current Stock","Available Stock","Minimum Stock","Maximum Stock","Total Value","Status","Supplier","Last Updated","Notes"].join(","),...n.map(te=>["Raw Material",te.materialCode,te.materialName,te.category,te.unitOfMeasure,te.unitPrice.toFixed(2),te.currentStock.toString(),te.availableStock.toString(),te.minimumStock.toString(),te.maximumStock.toString(),te.totalValue.toFixed(2),te.status,te.supplier,new Date(te.lastUpdated).toLocaleDateString(),te.notes||""].map(oe=>`"${oe}"`).join(",")),...s.map(te=>["Finished Good",te.productCode,te.productName,te.category,te.unitOfMeasure,te.unitPrice.toFixed(2),te.currentStock.toString(),te.availableStock.toString(),te.minimumStock.toString(),te.maximumStock.toString(),te.totalValue.toFixed(2),te.status,"",new Date(te.lastUpdated).toLocaleDateString(),te.notes||""].map(oe=>`"${oe}"`).join(","))].join(`
`),B=new Blob([q],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a"),Z=URL.createObjectURL(B);Y.setAttribute("href",Z),Y.setAttribute("download",`marina-walk-cafe-inventory-${new Date().toISOString().split("T")[0]}.csv`),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)},be=()=>{var q;(q=C.current)==null||q.click()},je=async q=>{var Y;const B=(Y=q.target.files)==null?void 0:Y[0];if(B){if(!B.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{S(!0);const te=(await B.text()).split(`
`).filter(de=>de.trim());if(te.length<2){alert("CSV file must contain at least a header row and one data row");return}const oe=te.slice(1);let Le=0,se=0;for(const de of oe)try{const pe=de.split(",").map(ve=>ve.replace(/"/g,"").trim()),Se=pe[0];if(Se==="Raw Material"){const ve={materialCode:pe[1],materialName:pe[2],category:pe[3],unitOfMeasure:pe[4],unitPrice:parseFloat(pe[5])||0,currentStock:parseInt(pe[6])||0,minimumStock:parseInt(pe[8])||0,maximumStock:parseInt(pe[9])||0,supplier:pe[12]||"",notes:pe[14]||""},tr={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"marina-walk-cafe-001",outletCode:(t==null?void 0:t.outletCode)||"",outletName:(t==null?void 0:t.outletName)||"",materialId:ve.materialCode,materialCode:ve.materialCode,materialName:ve.materialName,category:ve.category,unitOfMeasure:ve.unitOfMeasure,unitPrice:ve.unitPrice,currentStock:ve.currentStock,reservedStock:0,availableStock:ve.currentStock,minimumStock:ve.minimumStock,maximumStock:ve.maximumStock,reorderPoint:Math.ceil(ve.minimumStock*1.5),totalValue:ve.currentStock*ve.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:ve.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:ve.notes,isActive:!0};i(Gr=>[...Gr,tr]),Le++}else if(Se==="Finished Good"){const ve={productCode:pe[1],productName:pe[2],category:pe[3],unitOfMeasure:pe[4],unitPrice:parseFloat(pe[5])||0,currentStock:parseInt(pe[6])||0,minimumStock:parseInt(pe[8])||0,maximumStock:parseInt(pe[9])||0,supplier:pe[12]||"",notes:pe[14]||""},tr={id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"marina-walk-cafe-001",outletCode:(t==null?void 0:t.outletCode)||"",outletName:(t==null?void 0:t.outletName)||"",productId:ve.productCode,productCode:ve.productCode,productName:ve.productName,category:ve.category,unitOfMeasure:ve.unitOfMeasure,unitPrice:ve.unitPrice,costPrice:ve.unitPrice*.7,currentStock:ve.currentStock,reservedStock:0,availableStock:ve.currentStock,minimumStock:ve.minimumStock,maximumStock:ve.maximumStock,reorderPoint:Math.ceil(ve.minimumStock*1.5),totalValue:ve.currentStock*ve.unitPrice,productionDate:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],batchNumber:`BATCH-${Date.now()}`,storageLocation:"Cold Storage",storageTemperature:"4°C",qualityStatus:"Good",qualityNotes:"Imported from CSV",status:"In Stock",transferSource:"Import",lastUpdated:new Date().toISOString(),notes:ve.notes,isActive:!0};o(Gr=>[...Gr,tr]),Le++}}catch{se++}alert(`Import completed!

Successfully imported: ${Le} items
Errors: ${se}`)}catch(Z){alert("Error importing file: "+(Z instanceof Error?Z.message:"Unknown error"))}finally{S(!1),C.current&&(C.current.value="")}}},z=()=>{const B=[["Type","Item Code","Item Name","Category","Unit of Measure","Unit Price","Current Stock","Available Stock","Minimum Stock","Maximum Stock","Total Value","Status","Supplier","Last Updated","Notes"],["Raw Material","RM-001","Coffee Beans","Beverages","KG","25.00","20","20","5","50","500.00","In Stock","Coffee Suppliers Ltd","2024-01-15","Premium Arabica"],["Finished Good","FG-001","Cappuccino","Coffee","CUP","4.50","30","30","10","100","135.00","In Stock","Marina Walk Cafe","2024-01-15","Fresh daily"]].map(oe=>oe.map(Le=>`"${Le}"`).join(",")).join(`
`),Y=new Blob([B],{type:"text/csv;charset=utf-8;"}),Z=document.createElement("a"),te=URL.createObjectURL(Y);Z.setAttribute("href",te),Z.setAttribute("download","marina-walk-cafe-sample-template.csv"),Z.style.visibility="hidden",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)};return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Marina Walk Cafe..."})]})}):u?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-red-600 mb-4",children:u}),a.jsx("button",{onClick:P,className:"btn-primary",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(jh,{className:"h-8 w-8 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Marina Walk Cafe"}),a.jsxs("p",{className:"text-gray-600",children:["Cozy waterfront cafe - ",t==null?void 0:t.outletName]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:P,className:"btn-secondary flex items-center",title:"Refresh data",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:()=>e("/transfer-orders/add"),className:"btn-primary flex items-center",children:[a.jsx(qa,{className:"h-4 w-4 mr-2"}),"Request Transfer"]})]})]}),a.jsx("div",{className:"card p-6 bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(jh,{className:"h-8 w-8 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t==null?void 0:t.outletName}),a.jsx("p",{className:"text-gray-600",children:"Waterfront Cafe"}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(bs,{className:"h-4 w-4 mr-1"}),"60 Seating Capacity"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(vs,{className:"h-4 w-4 mr-1"}),"7:00 AM - 10:00 PM"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(br,{className:"h-4 w-4 mr-1"}),"Dine-in, Takeaway, Online"]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:t==null?void 0:t.outletCode}),a.jsx("div",{className:"text-sm text-gray-500",children:"Cafe"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(en,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Q}),a.jsxs("p",{className:"text-xs text-gray-500",children:[T," Raw + ",D," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Re,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[fe.toFixed(2)," KWD"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[M.toFixed(2)," Raw + ",U.toFixed(2)," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Lt,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ge}),a.jsxs("p",{className:"text-xs text-gray-500",children:[R," Raw + ",F," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(zr,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Ie}),a.jsxs("p",{className:"text-xs text-gray-500",children:[W," Raw + ",$," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Pt,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overstock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:J}),a.jsxs("p",{className:"text-xs text-gray-500",children:[L," Raw + ",K," Finished"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(Lt,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expired Items"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ee}),a.jsx("p",{className:"text-xs text-gray-500",children:"Finished Goods Only"})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:x==="raw-materials"?"Search materials by name, code, or supplier...":x==="finished-goods"?"Search products by name, code, or category...":"Search sales orders by order number, customer...",className:"input-field pl-10",value:d,onChange:q=>f(q.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:E,className:"btn-secondary flex items-center",title:"Clear all filters",children:"Clear Filters"}),a.jsxs("button",{onClick:we,className:"btn-secondary flex items-center",title:"Export inventory to CSV",disabled:n.length===0&&s.length===0,children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs("button",{onClick:be,className:"btn-secondary flex items-center",title:"Import inventory from CSV",disabled:N,children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),N?"Importing...":"Import"]}),a.jsxs("button",{onClick:z,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{className:"input-field",value:y,onChange:q=>g(q.target.value),children:[a.jsx("option",{value:"",children:"All Categories"}),G.map(q=>a.jsx("option",{value:q,children:q},q))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{className:"input-field",value:p,onChange:q=>v(q.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"In Stock",children:"In Stock"}),a.jsx("option",{value:"Low Stock",children:"Low Stock"}),a.jsx("option",{value:"Out of Stock",children:"Out of Stock"}),a.jsx("option",{value:"Overstock",children:"Overstock"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("select",{className:"input-field flex-1",value:b,onChange:q=>j(q.target.value),children:[x==="raw-materials"&&a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"materialName",children:"Material Name"}),a.jsx("option",{value:"currentStock",children:"Current Stock"}),a.jsx("option",{value:"totalValue",children:"Total Value"}),a.jsx("option",{value:"status",children:"Status"}),a.jsx("option",{value:"lastUpdated",children:"Last Updated"})]}),x==="finished-goods"&&a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"productName",children:"Product Name"}),a.jsx("option",{value:"currentStock",children:"Current Stock"}),a.jsx("option",{value:"totalValue",children:"Total Value"}),a.jsx("option",{value:"status",children:"Status"}),a.jsx("option",{value:"expiryDate",children:"Expiry Date"})]}),x==="sales-orders"&&a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"orderNumber",children:"Order Number"}),a.jsx("option",{value:"customerName",children:"Customer Name"}),a.jsx("option",{value:"totalAmount",children:"Total Amount"}),a.jsx("option",{value:"status",children:"Status"}),a.jsx("option",{value:"orderDate",children:"Order Date"})]})]}),a.jsx("button",{onClick:()=>w(h==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${h==="asc"?"Descending":"Ascending"}`,children:h==="asc"?"↑":"↓"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Showing ",n.length+s.length," inventory items",(d||y||p)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(d||y||p)&&a.jsx("button",{onClick:E,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(q=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.materialName}),a.jsx("div",{className:"text-sm text-gray-500",children:q.materialCode})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q.category}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[q.currentStock," ",q.unitOfMeasure]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Min: ",q.minimumStock," | Max: ",q.maximumStock]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O(q.status)}`,children:[I(q.status),q.status]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[q.totalValue.toFixed(2)," KWD"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q.location}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(q.lastUpdated).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:"Edit"})})})]},q.id))})]})})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Production Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiry Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quality"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(q=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.productName}),a.jsx("div",{className:"text-sm text-gray-500",children:q.productCode})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q.category}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[q.currentStock," ",q.unitOfMeasure]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Min: ",q.minimumStock," | Max: ",q.maximumStock]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O(q.status)}`,children:[I(q.status),q.status]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(q.productionDate).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(q.expiryDate).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${q.qualityStatus==="Fresh"?"bg-green-100 text-green-800":q.qualityStatus==="Good"?"bg-blue-100 text-blue-800":q.qualityStatus==="Expiring Soon"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:q.qualityStatus})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[q.totalValue.toFixed(2)," KWD"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:"Edit"})})})]},q.id))})]})})}),a.jsx("input",{type:"file",ref:C,onChange:je,accept:".csv",style:{display:"none"}})]})},RJ=()=>{const e=Oe(),[t,r]=k.useState(null),[n,i]=k.useState([]),[s,o]=k.useState(!0),[l,c]=k.useState(null),[u,m]=k.useState(""),[d,f]=k.useState(""),[y,g]=k.useState(""),[p,v]=k.useState("materialName"),[b,j]=k.useState("asc"),[h,w]=k.useState(!1),x=k.useRef(null);k.useEffect(()=>{N()},[]),k.useEffect(()=>{t&&!s&&S()},[u,d,y,p,b]);const N=async()=>{try{o(!0),c(null);const F=await le.getOutlets({limit:1e3});if(F.success){const $=F.data.find(K=>K.outletCode==="OUT-003");$?(r($),await S($.id)):c("Mall Food Court not found")}else c("Failed to load outlet data")}catch(F){c(F instanceof Error?F.message:"Failed to load outlet data"),console.error("Error loading outlet data:",F)}finally{o(!1)}},S=async F=>{if(!(!F&&!t))try{const $=await le.getOutletInventoryByOutlet(F||t.id,{limit:1e3,search:u,category:d,status:y,sortBy:p,sortOrder:b});$.success?(console.log("Loaded Mall Food Court Inventory:",$.data),i($.data)):c("Failed to load inventory")}catch($){c($ instanceof Error?$.message:"Failed to load inventory"),console.error("Error loading inventory:",$)}},C=()=>{m(""),f(""),g(""),v("materialName"),j("asc")},P=F=>{switch(F){case"In Stock":return"bg-green-100 text-green-800";case"Low Stock":return"bg-yellow-100 text-yellow-800";case"Out of Stock":return"bg-red-100 text-red-800";case"Overstock":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},A=F=>{switch(F){case"In Stock":return a.jsx(Re,{className:"h-4 w-4"});case"Low Stock":return a.jsx(Lt,{className:"h-4 w-4"});case"Out of Stock":return a.jsx(zr,{className:"h-4 w-4"});case"Overstock":return a.jsx(Pt,{className:"h-4 w-4"});default:return a.jsx(Re,{className:"h-4 w-4"})}},E=n.length,O=n.reduce((F,$)=>F+$.totalValue,0),I=n.filter(F=>F.status==="Low Stock").length,T=n.filter(F=>F.status==="Out of Stock").length,M=n.filter(F=>F.status==="Overstock").length,R=[...new Set(n.map(F=>F.category))],W=()=>{if(n.length===0){alert("No inventory to export");return}const F=[["Item Code","Item Name","Category","Unit of Measure","Unit Price","Current Stock","Available Stock","Minimum Stock","Maximum Stock","Total Value","Status","Supplier","Last Updated","Notes"].join(","),...n.map(Q=>[Q.materialCode,Q.materialName,Q.category,Q.unitOfMeasure,Q.unitPrice.toFixed(2),Q.currentStock.toString(),Q.availableStock.toString(),Q.minimumStock.toString(),Q.maximumStock.toString(),Q.totalValue.toFixed(2),Q.status,Q.supplier,new Date(Q.lastUpdated).toLocaleDateString(),Q.notes||""].map(fe=>`"${fe}"`).join(","))].join(`
`),$=new Blob([F],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),ee=URL.createObjectURL($);K.setAttribute("href",ee),K.setAttribute("download",`mall-food-court-inventory-${new Date().toISOString().split("T")[0]}.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K)},L=()=>{var F;(F=x.current)==null||F.click()},D=async F=>{var K;const $=(K=F.target.files)==null?void 0:K[0];if($){if(!$.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{w(!0);const Q=(await $.text()).split(`
`).filter(J=>J.trim());if(Q.length<2){alert("CSV file must contain at least a header row and one data row");return}const fe=Q.slice(1);let ge=0,Ie=0;for(const J of fe)try{const ie=J.split(",").map(we=>we.replace(/"/g,"").trim()),re={materialCode:ie[0],materialName:ie[1],category:ie[2],unitOfMeasure:ie[3],unitPrice:parseFloat(ie[4])||0,currentStock:parseInt(ie[5])||0,minimumStock:parseInt(ie[7])||0,maximumStock:parseInt(ie[8])||0,supplier:ie[11]||"",notes:ie[13]||""},G={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(t==null?void 0:t.id)||"",outletCode:(t==null?void 0:t.outletCode)||"",outletName:(t==null?void 0:t.outletName)||"",materialId:re.materialCode,materialCode:re.materialCode,materialName:re.materialName,category:re.category,unitOfMeasure:re.unitOfMeasure,unitPrice:re.unitPrice,currentStock:re.currentStock,reservedStock:0,availableStock:re.currentStock,minimumStock:re.minimumStock,maximumStock:re.maximumStock,reorderPoint:Math.ceil(re.minimumStock*1.5),totalValue:re.currentStock*re.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:re.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:re.notes,isActive:!0};i(we=>[...we,G]),ge++}catch{Ie++}alert(`Import completed!

Successfully imported: ${ge} items
Errors: ${Ie}`)}catch(ee){alert("Error importing file: "+(ee instanceof Error?ee.message:"Unknown error"))}finally{w(!1),x.current&&(x.current.value="")}}},U=()=>{const $=[["Item Code","Item Name","Category","Unit of Measure","Unit Price","Current Stock","Available Stock","Minimum Stock","Maximum Stock","Total Value","Status","Supplier","Last Updated","Notes"],["RM-001","Burger Buns","Bakery","PIECE","0.50","100","100","20","200","50.00","In Stock","Fresh Bakery Ltd","2024-01-15","Fresh daily"],["RM-002","French Fries","Frozen","KG","2.50","50","50","10","100","125.00","In Stock","Frozen Foods Co","2024-01-15","Premium quality"]].map(fe=>fe.map(ge=>`"${ge}"`).join(",")).join(`
`),K=new Blob([$],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),Q=URL.createObjectURL(K);ee.setAttribute("href",Q),ee.setAttribute("download","mall-food-court-sample-template.csv"),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Mall Food Court..."})]})}):l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-red-600 mb-4",children:l}),a.jsx("button",{onClick:N,className:"btn-primary",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(Ic,{className:"h-8 w-8 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mall Food Court"}),a.jsxs("p",{className:"text-gray-600",children:["Fast-service food court outlet - ",t==null?void 0:t.outletName]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:N,className:"btn-secondary flex items-center",title:"Refresh data",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:()=>e("/transfer-orders/add"),className:"btn-primary flex items-center",children:[a.jsx(qa,{className:"h-4 w-4 mr-2"}),"Request Transfer"]})]})]}),a.jsx("div",{className:"card p-6 bg-gradient-to-r from-orange-50 to-red-50 border-orange-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(Ic,{className:"h-8 w-8 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t==null?void 0:t.outletName}),a.jsx("p",{className:"text-gray-600",children:"High-Traffic Food Court Location"}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(bs,{className:"h-4 w-4 mr-1"}),"40 Seating Capacity"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(vs,{className:"h-4 w-4 mr-1"}),"10:00 AM - 10:00 PM"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ic,{className:"h-4 w-4 mr-1"}),"Quick Service & Takeaway"]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t==null?void 0:t.outletCode}),a.jsx("div",{className:"text-sm text-gray-500",children:"Food Court"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(en,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:E})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Re,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[O.toFixed(2)," KWD"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Lt,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:I})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(zr,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:T})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Pt,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overstock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:M})]})]})})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search materials by name, code, or supplier...",className:"input-field pl-10",value:u,onChange:F=>m(F.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:C,className:"btn-secondary flex items-center",title:"Clear all filters",children:"Clear Filters"}),a.jsxs("button",{onClick:W,className:"btn-secondary flex items-center",title:"Export inventory to CSV",disabled:n.length===0,children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs("button",{onClick:L,className:"btn-secondary flex items-center",title:"Import inventory from CSV",disabled:h,children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),h?"Importing...":"Import"]}),a.jsxs("button",{onClick:U,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{className:"input-field",value:d,onChange:F=>f(F.target.value),children:[a.jsx("option",{value:"",children:"All Categories"}),R.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{className:"input-field",value:y,onChange:F=>g(F.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"In Stock",children:"In Stock"}),a.jsx("option",{value:"Low Stock",children:"Low Stock"}),a.jsx("option",{value:"Out of Stock",children:"Out of Stock"}),a.jsx("option",{value:"Overstock",children:"Overstock"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("select",{className:"input-field flex-1",value:p,onChange:F=>v(F.target.value),children:[a.jsx("option",{value:"materialName",children:"Material Name"}),a.jsx("option",{value:"currentStock",children:"Current Stock"}),a.jsx("option",{value:"totalValue",children:"Total Value"}),a.jsx("option",{value:"status",children:"Status"}),a.jsx("option",{value:"lastUpdated",children:"Last Updated"})]}),a.jsx("button",{onClick:()=>j(b==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${b==="asc"?"Descending":"Ascending"}`,children:b==="asc"?"↑":"↓"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Showing ",n.length," inventory items",(u||d||y)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(u||d||y)&&a.jsx("button",{onClick:C,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Material"}),a.jsx("th",{className:"table-header",children:"Current Stock"}),a.jsx("th",{className:"table-header",children:"Available"}),a.jsx("th",{className:"table-header",children:"Min/Max"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Value"}),a.jsx("th",{className:"table-header",children:"Location"}),a.jsx("th",{className:"table-header",children:"Last Updated"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(F=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900 font-medium",children:F.materialName}),a.jsx("div",{className:"text-gray-500 text-sm",children:F.materialCode}),a.jsx("div",{className:"text-gray-500 text-sm",children:F.category})]})}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:F.currentStock}),a.jsx("div",{className:"text-gray-500 text-sm",children:F.unitOfMeasure})]}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:F.availableStock}),a.jsx("div",{className:"text-gray-500 text-sm",children:F.unitOfMeasure})]}),a.jsxs("td",{className:"table-cell",children:[a.jsxs("div",{className:"text-gray-900 text-sm",children:[F.minimumStock,"/",F.maximumStock]}),a.jsx("div",{className:"text-gray-500 text-sm",children:F.unitOfMeasure})]}),a.jsx("td",{className:"table-cell",children:a.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${P(F.status)}`,children:[A(F.status),a.jsx("span",{className:"ml-1",children:F.status})]})}),a.jsxs("td",{className:"table-cell",children:[a.jsxs("div",{className:"text-gray-900 font-medium",children:[F.totalValue.toFixed(2)," KWD"]}),a.jsxs("div",{className:"text-gray-500 text-sm",children:[F.unitPrice.toFixed(2)," per ",F.unitOfMeasure]})]}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 text-sm",children:F.location}),a.jsx("div",{className:"text-gray-500 text-sm",children:F.batchNumber})]}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 text-sm",children:new Date(F.lastUpdated).toLocaleDateString()}),a.jsx("div",{className:"text-gray-500 text-sm",children:new Date(F.lastUpdated).toLocaleTimeString()})]}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>e(`/outlet-inventory/edit/${F.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:"Edit"})})})]},F.id))})]})})}),a.jsx("input",{type:"file",ref:x,onChange:D,accept:".csv",style:{display:"none"}})]})},LJ=()=>{const e=Oe(),[t,r]=k.useState(null),[n,i]=k.useState([]),[s,o]=k.useState(!0),[l,c]=k.useState(null),[u,m]=k.useState(""),[d,f]=k.useState(""),[y,g]=k.useState(""),[p,v]=k.useState("materialName"),[b,j]=k.useState("asc");k.useEffect(()=>{h()},[]),k.useEffect(()=>{t&&!s&&w()},[u,d,y,p,b]);const h=async()=>{try{o(!0),c(null);const T=await le.getOutlets({limit:1e3});if(T.success){const M=T.data.find(R=>R.outletCode==="OUT-004");M?(r(M),await w(M.id)):c("Drive-Thru Express not found")}else c("Failed to load outlet data")}catch(T){c(T instanceof Error?T.message:"Failed to load outlet data"),console.error("Error loading outlet data:",T)}finally{o(!1)}},w=async T=>{if(!(!T&&!t))try{const M=await le.getOutletInventoryByOutlet(T||t.id,{limit:1e3,search:u,category:d,status:y,sortBy:p,sortOrder:b});M.success?(console.log("Loaded Drive-Thru Express Inventory:",M.data),i(M.data)):c("Failed to load inventory")}catch(M){c(M instanceof Error?M.message:"Failed to load inventory"),console.error("Error loading inventory:",M)}},x=()=>{m(""),f(""),g(""),v("materialName"),j("asc")},N=T=>{switch(T){case"In Stock":return"bg-green-100 text-green-800";case"Low Stock":return"bg-yellow-100 text-yellow-800";case"Out of Stock":return"bg-red-100 text-red-800";case"Overstock":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},S=T=>{switch(T){case"In Stock":return a.jsx(Re,{className:"h-4 w-4"});case"Low Stock":return a.jsx(Lt,{className:"h-4 w-4"});case"Out of Stock":return a.jsx(zr,{className:"h-4 w-4"});case"Overstock":return a.jsx(Pt,{className:"h-4 w-4"});default:return a.jsx(Re,{className:"h-4 w-4"})}},C=n.length,P=n.reduce((T,M)=>T+M.totalValue,0),A=n.filter(T=>T.status==="Low Stock").length,E=n.filter(T=>T.status==="Out of Stock").length,O=n.filter(T=>T.status==="Overstock").length,I=[...new Set(n.map(T=>T.category))];return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Drive-Thru Express..."})]})}):l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-red-600 mb-4",children:l}),a.jsx("button",{onClick:h,className:"btn-primary",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Tc,{className:"h-8 w-8 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Drive-Thru Express"}),a.jsxs("p",{className:"text-gray-600",children:["Express drive-thru outlet - ",t==null?void 0:t.outletName]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:h,className:"btn-secondary flex items-center",title:"Refresh data",children:[a.jsx(an,{className:"h-4 w-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:()=>e("/transfer-orders/add"),className:"btn-primary flex items-center",children:[a.jsx(qa,{className:"h-4 w-4 mr-2"}),"Request Transfer"]})]})]}),a.jsx("div",{className:"card p-6 bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Tc,{className:"h-8 w-8 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t==null?void 0:t.outletName}),a.jsx("p",{className:"text-gray-600",children:"24/7 Drive-Thru Service"}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(bs,{className:"h-4 w-4 mr-1"}),"20 Seating Capacity"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(vs,{className:"h-4 w-4 mr-1"}),"24/7 Operations"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Tc,{className:"h-4 w-4 mr-1"}),"Drive-Thru & Takeaway"]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:t==null?void 0:t.outletCode}),a.jsx("div",{className:"text-sm text-gray-500",children:"Drive-Thru"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(en,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:C})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Re,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[P.toFixed(2)," KWD"]})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Lt,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:A})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(zr,{className:"h-6 w-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:E})]})]})}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Pt,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overstock"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:O})]})]})})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search materials by name, code, or supplier...",className:"input-field pl-10",value:u,onChange:T=>m(T.target.value)})]})}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{onClick:x,className:"btn-secondary flex items-center",title:"Clear all filters",children:"Clear Filters"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{className:"input-field",value:d,onChange:T=>f(T.target.value),children:[a.jsx("option",{value:"",children:"All Categories"}),I.map(T=>a.jsx("option",{value:T,children:T},T))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{className:"input-field",value:y,onChange:T=>g(T.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"In Stock",children:"In Stock"}),a.jsx("option",{value:"Low Stock",children:"Low Stock"}),a.jsx("option",{value:"Out of Stock",children:"Out of Stock"}),a.jsx("option",{value:"Overstock",children:"Overstock"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("select",{className:"input-field flex-1",value:p,onChange:T=>v(T.target.value),children:[a.jsx("option",{value:"materialName",children:"Material Name"}),a.jsx("option",{value:"currentStock",children:"Current Stock"}),a.jsx("option",{value:"totalValue",children:"Total Value"}),a.jsx("option",{value:"status",children:"Status"}),a.jsx("option",{value:"lastUpdated",children:"Last Updated"})]}),a.jsx("button",{onClick:()=>j(b==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${b==="asc"?"Descending":"Ascending"}`,children:b==="asc"?"↑":"↓"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Showing ",n.length," inventory items",(u||d||y)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(u||d||y)&&a.jsx("button",{onClick:x,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Material"}),a.jsx("th",{className:"table-header",children:"Current Stock"}),a.jsx("th",{className:"table-header",children:"Available"}),a.jsx("th",{className:"table-header",children:"Min/Max"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Value"}),a.jsx("th",{className:"table-header",children:"Location"}),a.jsx("th",{className:"table-header",children:"Last Updated"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(T=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900 font-medium",children:T.materialName}),a.jsx("div",{className:"text-gray-500 text-sm",children:T.materialCode}),a.jsx("div",{className:"text-gray-500 text-sm",children:T.category})]})}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:T.currentStock}),a.jsx("div",{className:"text-gray-500 text-sm",children:T.unitOfMeasure})]}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:T.availableStock}),a.jsx("div",{className:"text-gray-500 text-sm",children:T.unitOfMeasure})]}),a.jsxs("td",{className:"table-cell",children:[a.jsxs("div",{className:"text-gray-900 text-sm",children:[T.minimumStock,"/",T.maximumStock]}),a.jsx("div",{className:"text-gray-500 text-sm",children:T.unitOfMeasure})]}),a.jsx("td",{className:"table-cell",children:a.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${N(T.status)}`,children:[S(T.status),a.jsx("span",{className:"ml-1",children:T.status})]})}),a.jsxs("td",{className:"table-cell",children:[a.jsxs("div",{className:"text-gray-900 font-medium",children:[T.totalValue.toFixed(2)," KWD"]}),a.jsxs("div",{className:"text-gray-500 text-sm",children:[T.unitPrice.toFixed(2)," per ",T.unitOfMeasure]})]}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 text-sm",children:T.location}),a.jsx("div",{className:"text-gray-500 text-sm",children:T.batchNumber})]}),a.jsxs("td",{className:"table-cell",children:[a.jsx("div",{className:"text-gray-900 text-sm",children:new Date(T.lastUpdated).toLocaleDateString()}),a.jsx("div",{className:"text-gray-500 text-sm",children:new Date(T.lastUpdated).toLocaleTimeString()})]}),a.jsx("td",{className:"table-cell",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>e(`/outlet-inventory/edit/${T.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:"Edit"})})})]},T.id))})]})})})]})},BJ=()=>{const e=Oe(),[t,r]=k.useState([]),[n,i]=k.useState(!0),[s,o]=k.useState(null),[l,c]=k.useState(null),[u,m]=k.useState(!1),[d,f]=k.useState(""),[y,g]=k.useState(""),[p,v]=k.useState(""),[b,j]=k.useState("createdAt"),[h,w]=k.useState("desc");k.useEffect(()=>{x()},[]),k.useEffect(()=>{n||x()},[d,y,p,b,h]);const x=async()=>{try{i(!0),o(null);const O=await le.getRawMaterialForecasts({limit:1e3,search:d,status:y,forecastPeriod:p,sortBy:b,sortOrder:h});O.success?(console.log("Loaded Raw Material Forecasts:",O.data),r(O.data)):o("Failed to load forecasts")}catch(O){o(O instanceof Error?O.message:"Failed to load forecasts"),console.error("Error loading forecasts:",O)}finally{i(!1)}},N=t,S=()=>{f(""),g(""),v(""),j("createdAt"),w("desc"),x()},C=O=>{c(O),m(!0)},P=async O=>{if(window.confirm("Are you sure you want to delete this forecast?"))try{(await le.deleteRawMaterialForecast(O)).success?await x():alert("Failed to delete forecast")}catch(I){alert("Error deleting forecast: "+(I instanceof Error?I.message:"Unknown error")),console.error("Error deleting forecast:",I)}},A=O=>{switch(O){case"Active":return"bg-green-100 text-green-800";case"Draft":return"bg-yellow-100 text-yellow-800";case"Completed":return"bg-blue-100 text-blue-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=O=>{switch(O){case"High":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading forecasts..."})]})}):s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("p",{className:"text-red-600 mb-4",children:s}),a.jsx("button",{onClick:x,className:"btn-primary",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ingredient Forecast"}),a.jsx("p",{className:"text-gray-600",children:"Plan and predict your ingredient requirements based on Job Orders"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:x,className:"btn-secondary flex items-center",title:"Refresh forecasts",children:[a.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Refresh"]}),a.jsxs("button",{onClick:()=>e("/raw-material-forecast/add"),className:"btn-primary flex items-center",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Create Forecast"]})]})]}),a.jsx("div",{className:"card p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search forecasts by name, number, or description...",className:"input-field pl-10",value:d,onChange:O=>f(O.target.value)})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:S,className:"btn-secondary flex items-center",title:"Clear all filters",children:[a.jsx(In,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),a.jsxs("button",{className:"btn-secondary flex items-center",children:[a.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{className:"input-field",value:y,onChange:O=>g(O.target.value),children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Completed",children:"Completed"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),a.jsxs("select",{className:"input-field",value:p,onChange:O=>v(O.target.value),children:[a.jsx("option",{value:"",children:"All Periods"}),a.jsx("option",{value:"Weekly",children:"Weekly"}),a.jsx("option",{value:"Monthly",children:"Monthly"}),a.jsx("option",{value:"Quarterly",children:"Quarterly"}),a.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs("select",{className:"input-field flex-1",value:b,onChange:O=>j(O.target.value),children:[a.jsx("option",{value:"createdAt",children:"Date Created"}),a.jsx("option",{value:"forecastNumber",children:"Forecast Number"}),a.jsx("option",{value:"forecastName",children:"Forecast Name"}),a.jsx("option",{value:"totalValue",children:"Total Value"}),a.jsx("option",{value:"forecastStartDate",children:"Start Date"})]}),a.jsx("button",{onClick:()=>w(h==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${h==="asc"?"Descending":"Ascending"}`,children:h==="asc"?"↑":"↓"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Showing ",N.length," forecasts",(d||y||p)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(d||y||p)&&a.jsx("button",{onClick:S,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Forecast #"}),a.jsx("th",{className:"table-header",children:"Name"}),a.jsx("th",{className:"table-header",children:"Period"}),a.jsx("th",{className:"table-header",children:"Start Date"}),a.jsx("th",{className:"table-header",children:"End Date"}),a.jsx("th",{className:"table-header",children:"Status"}),a.jsx("th",{className:"table-header",children:"Confidence"}),a.jsx("th",{className:"table-header",children:"Total Value"}),a.jsx("th",{className:"table-header",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(O=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"table-cell font-medium",children:O.forecastNumber}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900 font-medium",children:O.forecastName}),a.jsx("div",{className:"text-gray-500 text-sm max-w-xs truncate",children:O.forecastDescription})]})}),a.jsx("td",{className:"table-cell",children:O.forecastPeriod}),a.jsx("td",{className:"table-cell",children:new Date(O.forecastStartDate).toLocaleDateString()}),a.jsx("td",{className:"table-cell",children:new Date(O.forecastEndDate).toLocaleDateString()}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A(O.status)}`,children:O.status})}),a.jsx("td",{className:"table-cell",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E(O.confidenceLevel)}`,children:O.confidenceLevel})}),a.jsxs("td",{className:"table-cell font-semibold",children:[O.totalValue.toFixed(2)," KWD"]}),a.jsx("td",{className:"table-cell",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>C(O),className:"text-green-600 hover:text-green-900",title:"View Details",children:a.jsx(Tn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>e(`/raw-material-forecast/edit/${O.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:a.jsx(on,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>P(O.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:a.jsx(it,{className:"h-4 w-4"})})]})})]},O.id))})]})})}),u&&l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Forecast Details"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ye,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forecast Number"}),a.jsx("p",{className:"text-gray-900 font-mono",children:l.forecastNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forecast Name"}),a.jsx("p",{className:"text-gray-900",children:l.forecastName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),a.jsx("p",{className:"text-gray-900",children:l.forecastPeriod})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A(l.status)}`,children:l.status})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(l.forecastStartDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(l.forecastEndDate).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confidence Level"}),a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E(l.confidenceLevel)}`,children:l.confidenceLevel})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Value"}),a.jsxs("p",{className:"text-gray-900 font-semibold",children:[l.totalValue.toFixed(2)," KWD"]})]})]}),l.forecastDescription&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("p",{className:"text-gray-900",children:l.forecastDescription})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Forecast Items (",l.items.length," items)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Code"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.items.map((O,I)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-mono",children:O.materialCode}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:O.materialName}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[O.requiredQuantity.toFixed(2)," ",O.unitOfMeasure]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[O.availableQuantity.toFixed(2)," ",O.unitOfMeasure]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O.shortfall>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[O.shortfall.toFixed(2)," ",O.unitOfMeasure]})}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[O.unitPrice.toFixed(2)," KWD"]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[O.forecastValue.toFixed(2)," KWD"]}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-mono text-xs",children:O.jobOrderNumber}),a.jsx("div",{className:"text-xs",children:O.bomCode})]})})]},I))})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),a.jsx("p",{className:"text-gray-900",children:l.createdBy})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(l.createdAt).toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),a.jsx("p",{className:"text-gray-900",children:l.updatedBy})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(l.updatedAt).toLocaleString()})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[a.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",children:"Close"}),a.jsx("button",{onClick:()=>{m(!1),e(`/raw-material-forecast/edit/${l.id}`)},className:"btn-primary",children:"Edit Forecast"})]})]})})]})},FJ=()=>{const e=Oe(),[t,r]=k.useState({selectedJobOrderId:"",items:[]}),[n,i]=k.useState({}),[s,o]=k.useState([]),[l,c]=k.useState([]),[u,m]=k.useState(!1),[d,f]=k.useState(null),[y,g]=k.useState(new Set);k.useEffect(()=>{p(),v()},[]);const p=async()=>{try{m(!0),console.log("Loading job orders from backend...");const x=await le.getJobOrders({limit:1e3});console.log("Job orders response:",x),x.success&&x.data&&x.data.length>0?(o(x.data),console.log("✅ Loaded job orders from backend:",x.data.length)):(console.log("⚠️ No job orders found in backend"),o([]))}catch(x){console.error("❌ Error loading job orders from backend:",x),o([])}finally{m(!1)}},v=async()=>{try{console.log("Loading BOMs from backend...");const x=await le.getBillOfMaterials({limit:1e3});x.success&&x.data&&x.data.length>0?(c(x.data),console.log("✅ Loaded BOMs from backend:",x.data.length)):(console.log("⚠️ No BOMs found in backend"),c([]))}catch(x){console.error("❌ Error loading BOMs from backend:",x),c([])}},b=x=>{const N=s.find(C=>C.id===x);if(!N)return;f(N),r(C=>({...C,selectedJobOrderId:x}));const S=new Map;N.items.forEach(C=>{const P=l.find(A=>A.id===C.bomId);P&&P.items.forEach(A=>{const E=A.materialCode,O=C.totalQuantity*A.quantity;if(S.has(E)){const I=S.get(E);I.requiredQuantity+=O,I.forecastQuantity=I.requiredQuantity,I.forecastValue=I.forecastQuantity*I.unitPrice,I.shortfall=Math.max(0,I.requiredQuantity-I.availableQuantity)}else{const I={materialId:A.materialId,materialCode:A.materialCode,materialName:A.materialName,currentStock:0,unitOfMeasure:A.unitOfMeasure,unitPrice:A.unitCost,forecastQuantity:O,forecastValue:O*A.unitCost,leadTime:3,requiredQuantity:O,availableQuantity:0,shortfall:O,jobOrderId:N.id,jobOrderNumber:N.jobOrderNumber,bomId:P.id,bomCode:P.bomCode,notes:`Required for ${C.product} (${C.totalQuantity} units)`};S.set(E,I)}})}),r(C=>({...C,items:Array.from(S.values())}))},j=()=>{const x={};return t.selectedJobOrderId||(x.selectedJobOrderId="Please select a Recipe Order"),t.items.length===0&&(x.items="No forecast items generated. Please select a Recipe Order with valid BOMs."),i(x),Object.keys(x).length===0},h=async x=>{if(x.preventDefault(),!!j())try{const N=t.items.reduce((A,E)=>A+E.forecastValue,0),C={forecastNumber:`FC-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`,forecastName:`Forecast for ${d==null?void 0:d.jobOrderNumber}`,forecastDescription:`Material forecast based on Job Order ${d==null?void 0:d.jobOrderNumber}`,forecastPeriod:"Monthly",forecastStartDate:new Date().toISOString().split("T")[0],forecastEndDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],status:"Draft",totalValue:Math.round(N*100)/100,items:t.items,basedOnJobOrders:!0,basedOnHistoricalData:!1,confidenceLevel:"Medium",createdBy:"admin",updatedBy:"admin"};console.log("Creating Forecast:",C);const P=await le.createRawMaterialForecast(C);if(P.success){let A="Forecast created successfully!";if(P.data&&P.data.generatedPurchaseOrder){const E=P.data.generatedPurchaseOrder;A+=`

📦 Purchase Order Generated:
PO Number: ${E.poNumber}
Total Amount: ${E.totalAmount.toFixed(2)} KWD
Items: ${E.items.length} materials
Status: ${E.status}`}alert(A),e("/raw-material-forecast")}else alert("Error creating forecast: "+(P.message||"Unknown error"))}catch(N){console.error("Error creating forecast:",N),alert("Error creating forecast: "+(N instanceof Error?N.message:"Unknown error"))}},w=x=>{const N=new Set(y);N.has(x)?N.delete(x):N.add(x),g(N)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Ingredient Forecast"}),a.jsx("p",{className:"text-gray-600",children:"Create an ingredient forecast based on Job Orders"})]}),a.jsxs("button",{onClick:()=>e("/raw-material-forecast"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Forecasts"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:h,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Step 1: Select Recipe Order"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Recipe Order *"}),a.jsxs("select",{className:`input-field ${n.selectedJobOrderId?"border-red-500":""}`,value:t.selectedJobOrderId,onChange:x=>b(x.target.value),children:[a.jsx("option",{value:"",children:"Select a Recipe Order"}),u?a.jsx("option",{disabled:!0,children:"Loading recipe orders..."}):s.map(x=>a.jsxs("option",{value:x.id,children:["Recipe Order #",x.jobOrderNumber," - ",x.customerName," (",x.items.length," items)"]},x.id))]}),n.selectedJobOrderId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.selectedJobOrderId})]}),d&&a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Selected Recipe Order Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Order Number:"})," ",d.jobOrderNumber]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Customer:"})," ",d.customerName]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Items:"})," ",d.items.length]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",d.totalAmount.toFixed(2)," KWD"]})]})]})]})]}),d&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Step 2: Recipe Order Items & Ingredients"}),a.jsx("div",{className:"space-y-4",children:d.items.map((x,N)=>{const S=l.find(A=>A.id===x.bomId),C=`item-${N}`,P=y.has(C);return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(kE,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:x.product}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",x.totalQuantity," units | Unit Price: ",x.unitPrice.toFixed(2)," KWD | Total: ",x.totalPrice.toFixed(2)," KWD"]})]})]}),a.jsx("button",{type:"button",onClick:()=>w(C),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:P?"Hide Ingredients":"Show Ingredients"})]}),P&&S&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(Re,{className:"h-4 w-4 text-green-600"}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Recipe: ",S.productName," (",S.bomCode,")"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingredient"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Per Unit"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Cost"}),a.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.items.map((A,E)=>{const O=x.totalQuantity*A.quantity,I=0,T=Math.max(0,O-I),M=O*A.unitCost;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-3 py-2",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.materialName}),a.jsx("div",{className:"text-sm text-gray-500 font-mono",children:A.materialCode})]})}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:A.unitOfMeasure}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:A.quantity}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-semibold",children:O.toFixed(2)}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:I.toFixed(2)}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:T.toFixed(2)})}),a.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:[A.unitCost.toFixed(2)," KWD"]}),a.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900 font-semibold",children:[M.toFixed(2)," KWD"]})]},E)})})]})})]})]},N)})})]}),t.items.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Step 3: Forecast Summary"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-red-800 font-semibold text-lg",children:t.items.reduce((x,N)=>x+N.shortfall,0).toFixed(2)}),a.jsx("div",{className:"text-red-600 text-sm",children:"Total Shortfall"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-blue-800 font-semibold text-lg",children:t.items.reduce((x,N)=>x+N.requiredQuantity,0).toFixed(2)}),a.jsx("div",{className:"text-blue-600 text-sm",children:"Total Required"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-green-800 font-semibold text-lg",children:t.items.reduce((x,N)=>x+N.availableQuantity,0).toFixed(2)}),a.jsx("div",{className:"text-green-600 text-sm",children:"Total Available"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.items.map((x,N)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.materialName}),a.jsx("div",{className:"text-sm text-gray-500 font-mono",children:x.materialCode})]})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:x.unitOfMeasure}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:x.requiredQuantity.toFixed(2)}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:x.availableQuantity.toFixed(2)}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.shortfall>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:x.shortfall.toFixed(2)})}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[x.unitPrice.toFixed(2)," KWD"]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[x.forecastValue.toFixed(2)," KWD"]}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-mono text-xs",children:x.jobOrderNumber}),a.jsx("div",{className:"text-xs",children:x.bomCode})]})})]},N))})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Forecast Value: ",t.items.reduce((x,N)=>x+N.forecastValue,0).toFixed(2)," KWD"]})}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:"text-lg font-semibold text-red-600",children:["Total Shortfall Value: ",t.items.reduce((x,N)=>x+N.shortfall*N.unitPrice,0).toFixed(2)," KWD"]})})]}),t.items.some(x=>x.shortfall>0)&&a.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-green-800",children:"📦 Purchase Order will be automatically generated for shortfall quantities"}),a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Total PO Value: ",t.items.reduce((x,N)=>x+N.shortfall*N.unitPrice,0).toFixed(2)," KWD"]})]})]})})]})]})]}),t.items.length>0&&a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs("button",{type:"button",onClick:()=>e("/raw-material-forecast"),className:"btn-secondary flex items-center",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Generate Forecast"]})]})]})})]})},Js=()=>{const e=Oe(),t=da(),[r,n]=k.useState([]),[i,s]=k.useState(!0),[o,l]=k.useState(null),[c,u]=k.useState(""),[m,d]=k.useState(""),[f,y]=k.useState(""),[g,p]=k.useState(""),[v,b]=k.useState(""),[j,h]=k.useState(null),[w,x]=k.useState(!1),[N,S]=k.useState([]),[C,P]=k.useState(null),A=()=>{const $=t.pathname;return $.includes("/downtown-restaurant/sales-orders")?"Downtown Restaurant":$.includes("/marina-walk-cafe/sales-orders")?"Marina Walk Cafe":$.includes("/mall-food-court/sales-orders")?"Mall Food Court":$.includes("/drive-thru-express/sales-orders")?"Drive-Thru Express":null},E=["Pending","Confirmed","Preparing","Ready","Served","Completed","Cancelled"],O=["Dine-in","Takeaway","Delivery","Drive-thru"],I=["Pending","Paid","Partially Paid","Refunded"],T=async()=>{s(!0),l(null);try{const $=await le.getSalesOrders({search:c,outletId:m,orderStatus:f,orderType:g,paymentStatus:v,limit:1e3,sortBy:"orderTiming.orderDate",sortOrder:"desc"});$.success?n($.data):(console.log("API failed, loading sample data"),M())}catch($){console.log("API error, loading sample data:",$),M()}finally{s(!1)}},M=()=>{const $=[{_id:"so-001",orderNumber:"SO-DT-001-001",outletId:{_id:"outlet-downtown-001",outletCode:"DT-001",outletName:"Downtown Restaurant"},outletCode:"DT-001",outletName:"Downtown Restaurant",customerInfo:{customerName:"John Smith",customerPhone:"+965-1234-5678",customerEmail:"john.smith@email.com",tableNumber:"T-05",orderType:"Dine-in"},orderItems:[{productId:{_id:"fg-001",productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages"},productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages",quantity:2,unitPrice:4.5,totalPrice:9,specialInstructions:"Extra ice"},{productId:{_id:"fg-002",productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals"},productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals",quantity:1,unitPrice:8.75,totalPrice:8.75,specialInstructions:"No nuts"}],orderSummary:{subtotal:17.75,taxAmount:2.66,discountAmount:0,totalAmount:20.41,paymentMethod:"Card",paymentStatus:"Paid"},orderStatus:"Ready",orderTiming:{orderDate:new Date().toISOString(),estimatedPrepTime:15,servedAt:new Date().toISOString()},notes:"Regular customer",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"so-002",orderNumber:"SO-MW-001-002",outletId:{_id:"outlet-marina-001",outletCode:"MW-001",outletName:"Marina Walk Cafe"},outletCode:"MW-001",outletName:"Marina Walk Cafe",customerInfo:{customerName:"Sarah Johnson",customerPhone:"+965-9876-5432",customerEmail:"sarah.j@email.com",orderType:"Takeaway"},orderItems:[{productId:{_id:"fg-003",productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages"},productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages",quantity:1,unitPrice:5.25,totalPrice:5.25}],orderSummary:{subtotal:5.25,taxAmount:.79,discountAmount:0,totalAmount:6.04,paymentMethod:"Cash",paymentStatus:"Paid"},orderStatus:"Completed",orderTiming:{orderDate:new Date(Date.now()-18e5).toISOString(),estimatedPrepTime:10,servedAt:new Date(Date.now()-12e5).toISOString(),completedAt:new Date(Date.now()-6e5).toISOString()},notes:"Quick takeaway order",createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-6e5).toISOString()},{_id:"so-003",orderNumber:"SO-MF-001-003",outletId:{_id:"outlet-mall-001",outletCode:"MF-001",outletName:"Mall Food Court"},outletCode:"MF-001",outletName:"Mall Food Court",customerInfo:{customerName:"Ahmed Al-Rashid",customerPhone:"+965-5555-1234",tableNumber:"T-12",orderType:"Dine-in"},orderItems:[{productId:{_id:"fg-004",productCode:"FG-004",productName:"Quinoa Salad",category:"Meals"},productCode:"FG-004",productName:"Quinoa Salad",category:"Meals",quantity:2,unitPrice:7.5,totalPrice:15,specialInstructions:"Extra dressing"},{productId:{_id:"fg-005",productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks"},productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks",quantity:1,unitPrice:3.25,totalPrice:3.25}],orderSummary:{subtotal:18.25,taxAmount:2.74,discountAmount:1,totalAmount:19.99,paymentMethod:"Digital Wallet",paymentStatus:"Paid"},orderStatus:"Preparing",orderTiming:{orderDate:new Date(Date.now()-6e5).toISOString(),estimatedPrepTime:20},notes:"Family lunch order",createdAt:new Date(Date.now()-6e5).toISOString(),updatedAt:new Date(Date.now()-3e5).toISOString()}];n($),l(null)},R=async()=>{try{const $=await le.getOutlets({limit:1e3});if($.success){S($.data);const K=A();if(K){const ee=$.data.find(Q=>Q.outletName===K);ee&&(P(ee),d(ee._id))}}}catch($){console.error("Error loading outlets:",$)}};k.useEffect(()=>{R()},[]),k.useEffect(()=>{T()},[c,m,f,g,v]);const W=$=>{h($),x(!0)},L=async $=>{if(window.confirm("Are you sure you want to delete this sales order?"))try{const K=await le.deleteSalesOrder($);K.success?(alert(K.message),T()):alert(K.message||"Failed to delete sales order")}catch(K){alert(K.message||"An error occurred during deletion")}},D=$=>{switch($){case"Pending":return"bg-yellow-100 text-yellow-800";case"Confirmed":return"bg-blue-100 text-blue-800";case"Preparing":return"bg-orange-100 text-orange-800";case"Ready":return"bg-green-100 text-green-800";case"Served":return"bg-green-100 text-green-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},U=$=>{switch($){case"Pending":return"bg-yellow-100 text-yellow-800";case"Paid":return"bg-green-100 text-green-800";case"Partially Paid":return"bg-blue-100 text-blue-800";case"Refunded":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},F=$=>{switch($){case"Dine-in":return"🍽️";case"Takeaway":return"🥡";case"Delivery":return"🚚";case"Drive-thru":return"🚗";default:return"📋"}};return a.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Sales Orders",C&&a.jsxs("span",{className:"text-lg font-normal text-gray-600 ml-2",children:["- ",C.outletName]})]}),C&&a.jsxs("p",{className:"text-gray-600 mt-1",children:["Managing sales orders for ",C.outletName]})]}),a.jsxs("button",{onClick:()=>{const $=A();if($){const K=$.toLowerCase().replace(/\s+/g,"-");e(`/${K}/sales-orders/add`)}else e("/sales-orders/add")},className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[a.jsx(at,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Create Order"]})]}),a.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Vr,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),a.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search orders...",value:c,onChange:$=>u($.target.value)})]})]}),!C&&a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{htmlFor:"outletFilter",className:"block text-sm font-medium text-gray-700",children:"Outlet"}),a.jsxs("select",{id:"outletFilter",name:"outletFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:m,onChange:$=>d($.target.value),children:[a.jsx("option",{value:"",children:"All Outlets"}),N.map($=>a.jsx("option",{value:$._id,children:$.outletName},$._id))]})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{htmlFor:"statusFilter",className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{id:"statusFilter",name:"statusFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:f,onChange:$=>y($.target.value),children:[a.jsx("option",{value:"",children:"All Statuses"}),E.map($=>a.jsx("option",{value:$,children:$},$))]})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{htmlFor:"orderTypeFilter",className:"block text-sm font-medium text-gray-700",children:"Order Type"}),a.jsxs("select",{id:"orderTypeFilter",name:"orderTypeFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:g,onChange:$=>p($.target.value),children:[a.jsx("option",{value:"",children:"All Types"}),O.map($=>a.jsx("option",{value:$,children:$},$))]})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{htmlFor:"paymentStatusFilter",className:"block text-sm font-medium text-gray-700",children:"Payment"}),a.jsxs("select",{id:"paymentStatusFilter",name:"paymentStatusFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:v,onChange:$=>b($.target.value),children:[a.jsx("option",{value:"",children:"All Payments"}),I.map($=>a.jsx("option",{value:$,children:$},$))]})]})]}),a.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[a.jsxs("button",{onClick:()=>{u(""),C||d(""),y(""),p(""),b("")},className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[a.jsx(Ye,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Clear Filters"]}),a.jsxs("button",{onClick:T,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[a.jsx(an,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Refresh"]})]})]}),i?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full"}),a.jsx("p",{className:"text-gray-600 mt-3",children:"Loading sales orders..."})]}):o?a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",o]}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Ye,{className:"h-6 w-6 text-red-500 cursor-pointer",onClick:()=>l(null)})})]}):r.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(br,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg",children:"No sales orders found."}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or create a new order."})]}):a.jsx("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order #"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{scope:"col",className:"relative px-6 py-3",children:a.jsx("span",{className:"sr-only",children:"Actions"})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map($=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:$.orderNumber}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:$.customerInfo.customerName}),$.customerInfo.customerPhone&&a.jsx("div",{className:"text-gray-400",children:$.customerInfo.customerPhone})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.outletName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"mr-1",children:F($.customerInfo.orderType)}),$.customerInfo.orderType]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[$.orderItems.length," item",$.orderItems.length!==1?"s":""]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",$.orderSummary.totalAmount.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D($.orderStatus)}`,children:$.orderStatus})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U($.orderSummary.paymentStatus)}`,children:$.orderSummary.paymentStatus})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date($.orderTiming.orderDate).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>W($),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"View Details",children:a.jsx(Tn,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>e(`/sales-orders/edit/${$._id}`),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"Edit",children:a.jsx(on,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>L($._id),className:"text-red-600 hover:text-red-900",title:"Delete",children:a.jsx(it,{className:"h-5 w-5"})})]})]},$._id))})]})}),w&&j&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-800 bg-opacity-75 flex justify-center items-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-4xl mx-4 my-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Order Details: ",j.orderNumber]}),a.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(Ye,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Customer Information"}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Name:"})," ",j.customerInfo.customerName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Phone:"})," ",j.customerInfo.customerPhone||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",j.customerInfo.customerEmail||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Order Type:"})," ",F(j.customerInfo.orderType)," ",j.customerInfo.orderType]}),j.customerInfo.tableNumber&&a.jsxs("p",{children:[a.jsx("strong",{children:"Table:"})," ",j.customerInfo.tableNumber]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Order Summary"}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Outlet:"})," ",j.outletName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(j.orderStatus)}`,children:j.orderStatus})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Payment:"})," ",a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U(j.orderSummary.paymentStatus)}`,children:j.orderSummary.paymentStatus})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Method:"})," ",j.orderSummary.paymentMethod]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Total:"})," $",j.orderSummary.totalAmount.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Order Items"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.orderItems.map(($,K)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:$.productName}),a.jsx("div",{className:"text-gray-500",children:$.productCode}),$.specialInstructions&&a.jsx("div",{className:"text-gray-400 text-xs italic",children:$.specialInstructions})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.category}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.quantity}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",$.unitPrice.toFixed(2)]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",$.totalPrice.toFixed(2)]})]},K))})]})})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Close"})})]})})]})},Zs=()=>{const e=Oe(),t=da(),[r,n]=k.useState(null),[i,s]=k.useState([]),[o,l]=k.useState(!0),[c,u]=k.useState({orderNumber:"",outletId:"",outletCode:"",outletName:"",customerInfo:{customerName:"",customerPhone:"",customerEmail:"",tableNumber:"",orderType:"Dine-in"},orderItems:[],orderSummary:{subtotal:0,taxAmount:0,discountAmount:0,totalAmount:0,paymentMethod:"Cash",paymentStatus:"Pending"},orderStatus:"Pending",orderTiming:{orderDate:new Date().toISOString().split("T")[0],estimatedPrepTime:15},notes:""}),[m,d]=k.useState({}),[f]=k.useState("");k.useEffect(()=>{const I=new URLSearchParams(t.search).get("outlet");I?y(I):g()},[t.search]);const y=async O=>{try{l(!0);const T={"downtown-restaurant":{id:"outlet-downtown-001",outletCode:"DT-001",outletName:"Downtown Restaurant",outletType:"Restaurant"},"marina-walk-cafe":{id:"outlet-marina-001",outletCode:"MW-001",outletName:"Marina Walk Cafe",outletType:"Cafe"},"mall-food-court":{id:"outlet-mall-001",outletCode:"MF-001",outletName:"Mall Food Court",outletType:"Food Court"},"drive-thru-express":{id:"outlet-drive-001",outletCode:"DTE-001",outletName:"Drive-Thru Express",outletType:"Drive-Thru"},"central-kitchen":{id:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Kitchen"},"Central Kitchen":{id:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Kitchen"}}[O];T&&(n(T),u(M=>({...M,outletId:T.id,outletCode:T.outletCode,outletName:T.outletName,orderNumber:`SO-${T.outletCode}-${Date.now().toString().slice(-6)}`}))),await p()}catch(I){console.error("Error loading outlet data:",I)}finally{l(!1)}},g=async()=>{try{l(!0);const O=await le.getOutlets({limit:1e3});if(O.success&&O.data.length>0){const I=O.data[0];n(I),u(T=>({...T,outletId:I._id||I.id,outletCode:I.outletCode,outletName:I.outletName,orderNumber:`SO-${I.outletCode}-${Date.now().toString().slice(-6)}`}))}await p()}catch(O){console.error("Error loading default outlet:",O)}finally{l(!1)}},p=async()=>{try{const O=await le.getFinishedGoods({limit:1e3});O.success?s(O.data):(console.log("API failed, loading sample products"),v())}catch(O){console.error("Error loading products:",O),v()}},v=()=>{s([{_id:"fg-001",id:"fg-001",productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages",unitPrice:4.5,description:"Fresh green smoothie with spinach, banana, and apple"},{_id:"fg-002",id:"fg-002",productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals",unitPrice:8.75,description:"High protein meal bowl with quinoa and vegetables"},{_id:"fg-003",id:"fg-003",productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages",unitPrice:5.25,description:"Fresh detox juice blend with celery and cucumber"},{_id:"fg-004",id:"fg-004",productCode:"FG-004",productName:"Quinoa Salad",category:"Meals",unitPrice:7.5,description:"Healthy quinoa salad with mixed vegetables"},{_id:"fg-005",id:"fg-005",productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks",unitPrice:3.25,description:"High protein energy bar for quick nutrition"},{_id:"fg-006",id:"fg-006",productCode:"FG-006",productName:"Fresh Fruit Bowl",category:"Meals",unitPrice:6,description:"Mixed fresh fruit bowl with seasonal fruits"},{_id:"fg-007",id:"fg-007",productCode:"FG-007",productName:"Acai Bowl",category:"Meals",unitPrice:9.5,description:"Nutritious acai bowl with granola and berries"},{_id:"fg-008",id:"fg-008",productCode:"FG-008",productName:"Cold Brew Coffee",category:"Beverages",unitPrice:3.75,description:"Smooth cold brew coffee with natural sweetness"}])},b=["Dine-in","Takeaway","Delivery","Drive-thru"],j=["Cash","Card","Digital Wallet","Credit","Mixed"],h=["Pending","Paid","Partially Paid","Refunded"],w=["Pending","Confirmed","Preparing","Ready","Served","Completed","Cancelled"],x=()=>{const O={};return c.orderNumber.trim()||(O.orderNumber="Order number is required"),c.customerInfo.customerName.trim()||(O.customerName="Customer name is required"),c.customerInfo.orderType||(O.orderType="Order type is required"),c.orderItems.length===0&&(O.orderItems="At least one item is required"),d(O),Object.keys(O).length===0},N=async O=>{if(O.preventDefault(),!!x())try{const I=c.orderItems.reduce((L,D)=>L+D.totalPrice,0),T=I*.15,M=I+T-c.orderSummary.discountAmount,R={orderNumber:c.orderNumber,outletId:c.outletId,outletCode:c.outletCode,outletName:c.outletName,customerInfo:c.customerInfo,orderItems:c.orderItems,orderSummary:{...c.orderSummary,subtotal:I,taxAmount:T,totalAmount:M},orderStatus:c.orderStatus,orderTiming:c.orderTiming,notes:c.notes};console.log("Creating Sales Order:",R);const W=await le.createSalesOrder(R);if(W.success){alert("Sales Order created successfully!");const L=new URLSearchParams(t.search).get("outlet");if(L)if(L==="Central Kitchen")e("/central-kitchen");else{const D=L.toLowerCase().replace(/\s+/g,"-");e(`/${D}/sales-orders`)}else e("/sales-orders")}else alert("Failed to create Sales Order: "+W.message)}catch(I){console.error("Error creating Sales Order:",I),alert("Error creating Sales Order: "+(I instanceof Error?I.message:"Unknown error"))}},S=(O,I)=>{if(O.includes(".")){const[T,M]=O.split(".");u(R=>({...R,[T]:{...R[T]||{},[M]:I}}))}else u(T=>({...T,[O]:I}));m[O]&&d(T=>({...T,[O]:""}))},C=()=>{const O={productId:"",productCode:"",productName:"",category:"",quantity:1,unitPrice:0,totalPrice:0,specialInstructions:""};u(I=>({...I,orderItems:[...I.orderItems,O]}))},P=(O,I,T)=>{const M=[...c.orderItems];if(M[O]={...M[O],[I]:T},I==="quantity"||I==="unitPrice"){const R=I==="quantity"?Number(T):M[O].quantity,W=I==="unitPrice"?Number(T):M[O].unitPrice;M[O].totalPrice=R*W}if(I==="productId"&&typeof T=="string"){const R=i.find(W=>W._id===T||W.id===T);R&&(M[O].productCode=R.productCode,M[O].productName=R.productName,M[O].category=R.category,M[O].unitPrice=R.unitPrice,M[O].totalPrice=M[O].quantity*R.unitPrice)}u(R=>({...R,orderItems:M}))},A=O=>{const I=c.orderItems.filter((T,M)=>M!==O);u(T=>({...T,orderItems:I}))},E=i.filter(O=>O.productName.toLowerCase().includes(f.toLowerCase())||O.productCode.toLowerCase().includes(f.toLowerCase())||O.category.toLowerCase().includes(f.toLowerCase()));return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading sales order form..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Sales Order"}),a.jsx("p",{className:"text-gray-600",children:r?`${r.outletName} (${r.outletCode})`:"Select an outlet"})]}),a.jsxs("button",{onClick:()=>e("/sales-orders"),className:"btn-secondary flex items-center",children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Back to Sales Orders"]})]}),a.jsx("div",{className:"card p-8",children:a.jsxs("form",{onSubmit:N,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(Re,{className:"h-5 w-5 mr-2"}),"Order Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Number *"}),a.jsx("input",{type:"text",className:`input-field ${m.orderNumber?"border-red-500":""}`,value:c.orderNumber,onChange:O=>S("orderNumber",O.target.value),placeholder:"Enter order number"}),m.orderNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.orderNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),a.jsx("input",{type:"date",className:`input-field ${m.orderDate?"border-red-500":""}`,value:c.orderTiming.orderDate,onChange:O=>S("orderTiming.orderDate",O.target.value)}),m.orderDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.orderDate})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(Kx,{className:"h-5 w-5 mr-2"}),"Customer Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),a.jsx("input",{type:"text",className:`input-field ${m.customerName?"border-red-500":""}`,value:c.customerInfo.customerName,onChange:O=>S("customerInfo.customerName",O.target.value),placeholder:"Enter customer name"}),m.customerName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.customerName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type *"}),a.jsx("select",{className:`input-field ${m.orderType?"border-red-500":""}`,value:c.customerInfo.orderType,onChange:O=>S("customerInfo.orderType",O.target.value),children:b.map(O=>a.jsx("option",{value:O,children:O},O))}),m.orderType&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.orderType})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(DE,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),a.jsx("input",{type:"tel",className:"input-field",value:c.customerInfo.customerPhone,onChange:O=>S("customerInfo.customerPhone",O.target.value),placeholder:"Enter phone number"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(TE,{className:"h-4 w-4 inline mr-1"}),"Email Address"]}),a.jsx("input",{type:"email",className:"input-field",value:c.customerInfo.customerEmail,onChange:O=>S("customerInfo.customerEmail",O.target.value),placeholder:"Enter email address"})]}),c.customerInfo.orderType==="Dine-in"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(su,{className:"h-4 w-4 inline mr-1"}),"Table Number"]}),a.jsx("input",{type:"text",className:"input-field",value:c.customerInfo.tableNumber,onChange:O=>S("customerInfo.tableNumber",O.target.value),placeholder:"Enter table number"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(br,{className:"h-5 w-5 mr-2"}),"Order Items"]}),a.jsxs("button",{type:"button",onClick:C,className:"btn-primary flex items-center",children:[a.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),c.orderItems.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:'No items added yet. Click "Add Item" to start building the order.'})]}):a.jsx("div",{className:"space-y-4",children:c.orderItems.map((O,I)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:["Item ",I+1]}),a.jsx("button",{type:"button",onClick:()=>A(I),className:"text-red-600 hover:text-red-800",children:a.jsx(it,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product *"}),a.jsxs("select",{className:"input-field",value:O.productId,onChange:T=>P(I,"productId",T.target.value),children:[a.jsx("option",{value:"",children:"Select Product"}),E.map(T=>a.jsxs("option",{value:T._id||T.id,children:[T.productName," - ",T.unitPrice.toFixed(2)," KWD"]},T._id||T.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),a.jsx("input",{type:"number",min:"1",className:"input-field",value:O.quantity,onChange:T=>P(I,"quantity",parseInt(T.target.value)||1)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price (KWD)"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field",value:O.unitPrice,onChange:T=>P(I,"unitPrice",parseFloat(T.target.value)||0)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price (KWD)"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:O.totalPrice.toFixed(2),readOnly:!0})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),a.jsx("textarea",{className:"input-field",rows:2,value:O.specialInstructions,onChange:T=>P(I,"specialInstructions",T.target.value),placeholder:"Any special instructions for this item..."})]})]},I))}),m.orderItems&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.orderItems})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtotal (KWD)"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:c.orderItems.reduce((O,I)=>O+I.totalPrice,0).toFixed(2),readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Amount (KWD)"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field",value:c.orderSummary.discountAmount,onChange:O=>S("orderSummary.discountAmount",(parseFloat(O.target.value)||0).toString())})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Amount (KWD)"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:(c.orderItems.reduce((O,I)=>O+I.totalPrice,0)*.15).toFixed(2),readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount (KWD)"}),a.jsx("input",{type:"number",step:"0.01",className:"input-field bg-blue-50 font-semibold",value:(c.orderItems.reduce((O,I)=>O+I.totalPrice,0)+c.orderItems.reduce((O,I)=>O+I.totalPrice,0)*.15-c.orderSummary.discountAmount).toFixed(2),readOnly:!0})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),a.jsx("select",{className:"input-field",value:c.orderSummary.paymentMethod,onChange:O=>S("orderSummary.paymentMethod",O.target.value),children:j.map(O=>a.jsx("option",{value:O,children:O},O))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status"}),a.jsx("select",{className:"input-field",value:c.orderSummary.paymentStatus,onChange:O=>S("orderSummary.paymentStatus",O.target.value),children:h.map(O=>a.jsx("option",{value:O,children:O},O))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Status"}),a.jsx("select",{className:"input-field",value:c.orderStatus,onChange:O=>S("orderStatus",O.target.value),children:w.map(O=>a.jsx("option",{value:O,children:O},O))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(vs,{className:"h-4 w-4 inline mr-1"}),"Estimated Prep Time (minutes)"]}),a.jsx("input",{type:"number",min:"1",className:"input-field",value:c.orderTiming.estimatedPrepTime,onChange:O=>S("orderTiming.estimatedPrepTime",(parseInt(O.target.value)||15).toString())})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Notes"}),a.jsx("textarea",{className:"input-field",rows:3,value:c.notes,onChange:O=>S("notes",O.target.value),placeholder:"Any additional notes for this order..."})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:()=>e("/sales-orders"),className:"btn-secondary",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Create Sales Order"]})]})]})})]})};function UJ(){return a.jsx(_E,{children:a.jsxs(mE,{children:[a.jsx(he,{path:"/",element:a.jsx($N,{})}),a.jsx(he,{path:"/dashboard",element:a.jsx($N,{})}),a.jsx(he,{path:"/raw-materials",element:a.jsx(cJ,{})}),a.jsx(he,{path:"/raw-materials/add",element:a.jsx(uJ,{})}),a.jsx(he,{path:"/raw-materials/edit/:id",element:a.jsx(dJ,{})}),a.jsx(he,{path:"/bill-of-materials",element:a.jsx(mJ,{})}),a.jsx(he,{path:"/bill-of-materials/add",element:a.jsx(fJ,{})}),a.jsx(he,{path:"/bill-of-materials/edit/:id",element:a.jsx(hJ,{})}),a.jsx(he,{path:"/job-orders",element:a.jsx(pJ,{})}),a.jsx(he,{path:"/job-orders/add",element:a.jsx(xJ,{})}),a.jsx(he,{path:"/job-orders/edit/:id",element:a.jsx(yJ,{})}),a.jsx(he,{path:"/purchase-orders",element:a.jsx(gJ,{})}),a.jsx(he,{path:"/purchase-orders/add",element:a.jsx(vJ,{})}),a.jsx(he,{path:"/purchase-orders/edit/:id",element:a.jsx(bJ,{})}),a.jsx(he,{path:"/good-receipt-notes",element:a.jsx(jJ,{})}),a.jsx(he,{path:"/good-receipt-notes/add",element:a.jsx(NJ,{})}),a.jsx(he,{path:"/good-receipt-notes/edit/:id",element:a.jsx(wJ,{})}),a.jsx(he,{path:"/warehouse-master",element:a.jsx(SJ,{})}),a.jsx(he,{path:"/warehouse-master/add",element:a.jsx(CJ,{})}),a.jsx(he,{path:"/warehouse-master/edit/:id",element:a.jsx(OJ,{})}),a.jsx(he,{path:"/transfer-orders",element:a.jsx(kJ,{})}),a.jsx(he,{path:"/transfer-orders/add",element:a.jsx(PJ,{})}),a.jsx(he,{path:"/transfer-orders/edit/:id",element:a.jsx(AJ,{})}),a.jsx(he,{path:"/inventory",element:a.jsx(EJ,{})}),a.jsx(he,{path:"/outlets",element:a.jsx(TJ,{})}),a.jsx(he,{path:"/outlets/add",element:a.jsx(IJ,{})}),a.jsx(he,{path:"/outlets/edit/:id",element:a.jsx(DJ,{})}),a.jsx(he,{path:"/central-kitchen",element:a.jsx(MJ,{})}),a.jsx(he,{path:"/downtown-restaurant",element:a.jsx($J,{})}),a.jsx(he,{path:"/marina-walk-cafe",element:a.jsx(_J,{})}),a.jsx(he,{path:"/mall-food-court",element:a.jsx(RJ,{})}),a.jsx(he,{path:"/drive-thru-express",element:a.jsx(LJ,{})}),a.jsx(he,{path:"/raw-material-forecast",element:a.jsx(BJ,{})}),a.jsx(he,{path:"/raw-material-forecast/add",element:a.jsx(FJ,{})}),a.jsx(he,{path:"/sales-orders",element:a.jsx(Js,{})}),a.jsx(he,{path:"/sales-orders/add",element:a.jsx(Zs,{})}),a.jsx(he,{path:"/downtown-restaurant/sales-orders",element:a.jsx(Js,{})}),a.jsx(he,{path:"/downtown-restaurant/sales-orders/add",element:a.jsx(Zs,{})}),a.jsx(he,{path:"/marina-walk-cafe/sales-orders",element:a.jsx(Js,{})}),a.jsx(he,{path:"/marina-walk-cafe/sales-orders/add",element:a.jsx(Zs,{})}),a.jsx(he,{path:"/mall-food-court/sales-orders",element:a.jsx(Js,{})}),a.jsx(he,{path:"/mall-food-court/sales-orders/add",element:a.jsx(Zs,{})}),a.jsx(he,{path:"/drive-thru-express/sales-orders",element:a.jsx(Js,{})}),a.jsx(he,{path:"/drive-thru-express/sales-orders/add",element:a.jsx(Zs,{})})]})})}Sf.createRoot(document.getElementById("root")).render(a.jsx(_.StrictMode,{children:a.jsx(vE,{children:a.jsx(UJ,{})})}));
