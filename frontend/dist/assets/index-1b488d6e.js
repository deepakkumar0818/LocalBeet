function SO(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nw={exports:{}},hd={},aw={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),CO=Symbol.for("react.portal"),kO=Symbol.for("react.fragment"),OO=Symbol.for("react.strict_mode"),PO=Symbol.for("react.profiler"),AO=Symbol.for("react.provider"),EO=Symbol.for("react.context"),TO=Symbol.for("react.forward_ref"),MO=Symbol.for("react.suspense"),IO=Symbol.for("react.memo"),DO=Symbol.for("react.lazy"),Ng=Symbol.iterator;function $O(e){return e===null||typeof e!="object"?null:(e=Ng&&e[Ng]||e["@@iterator"],typeof e=="function"?e:null)}var sw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iw=Object.assign,ow={};function li(e,t,r){this.props=e,this.context=t,this.refs=ow,this.updater=r||sw}li.prototype.isReactComponent={};li.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};li.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lw(){}lw.prototype=li.prototype;function ux(e,t,r){this.props=e,this.context=t,this.refs=ow,this.updater=r||sw}var dx=ux.prototype=new lw;dx.constructor=ux;iw(dx,li.prototype);dx.isPureReactComponent=!0;var wg=Array.isArray,cw=Object.prototype.hasOwnProperty,mx={current:null},uw={key:!0,ref:!0,__self:!0,__source:!0};function dw(e,t,r){var a,s={},i=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)cw.call(t,a)&&!uw.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)s[a]===void 0&&(s[a]=l[a]);return{$$typeof:bl,type:e,key:i,ref:o,props:s,_owner:mx.current}}function _O(e,t){return{$$typeof:bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fx(e){return typeof e=="object"&&e!==null&&e.$$typeof===bl}function RO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Sg=/\/+/g;function Sm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RO(""+e.key):t.toString(36)}function wc(e,t,r,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bl:case CO:o=!0}}if(o)return o=e,s=s(o),e=a===""?"."+Sm(o,0):a,wg(s)?(r="",e!=null&&(r=e.replace(Sg,"$&/")+"/"),wc(s,t,r,"",function(u){return u})):s!=null&&(fx(s)&&(s=_O(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Sg,"$&/")+"/")+e)),t.push(s)),1;if(o=0,a=a===""?".":a+":",wg(e))for(var l=0;l<e.length;l++){i=e[l];var c=a+Sm(i,l);o+=wc(i,t,r,c,s)}else if(c=$O(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=a+Sm(i,l++),o+=wc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bl(e,t,r){if(e==null)return e;var a=[],s=0;return wc(e,a,"","",function(i){return t.call(r,i,s++)}),a}function LO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Sc={transition:null},FO={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:mx};function mw(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Bl,forEach:function(e,t,r){Bl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bl(e,function(){t++}),t},toArray:function(e){return Bl(e,function(t){return t})||[]},only:function(e){if(!fx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=li;je.Fragment=kO;je.Profiler=PO;je.PureComponent=ux;je.StrictMode=OO;je.Suspense=MO;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FO;je.act=mw;je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=iw({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=mx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)cw.call(t,c)&&!uw.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:bl,type:e.type,key:s,ref:i,props:a,_owner:o}};je.createContext=function(e){return e={$$typeof:EO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AO,_context:e},e.Consumer=e};je.createElement=dw;je.createFactory=function(e){var t=dw.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:TO,render:e}};je.isValidElement=fx;je.lazy=function(e){return{$$typeof:DO,_payload:{_status:-1,_result:e},_init:LO}};je.memo=function(e,t){return{$$typeof:IO,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=Sc.transition;Sc.transition={};try{e()}finally{Sc.transition=t}};je.unstable_act=mw;je.useCallback=function(e,t){return Bt.current.useCallback(e,t)};je.useContext=function(e){return Bt.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};je.useEffect=function(e,t){return Bt.current.useEffect(e,t)};je.useId=function(){return Bt.current.useId()};je.useImperativeHandle=function(e,t,r){return Bt.current.useImperativeHandle(e,t,r)};je.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return Bt.current.useMemo(e,t)};je.useReducer=function(e,t,r){return Bt.current.useReducer(e,t,r)};je.useRef=function(e){return Bt.current.useRef(e)};je.useState=function(e){return Bt.current.useState(e)};je.useSyncExternalStore=function(e,t,r){return Bt.current.useSyncExternalStore(e,t,r)};je.useTransition=function(){return Bt.current.useTransition()};je.version="18.3.1";aw.exports=je;var k=aw.exports;const q=_e(k),BO=SO({__proto__:null,default:q},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UO=k,qO=Symbol.for("react.element"),WO=Symbol.for("react.fragment"),KO=Object.prototype.hasOwnProperty,zO=UO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VO={key:!0,ref:!0,__self:!0,__source:!0};function fw(e,t,r){var a,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)KO.call(t,a)&&!VO.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:qO,type:e,key:i,ref:o,props:s,_owner:zO.current}}hd.Fragment=WO;hd.jsx=fw;hd.jsxs=fw;nw.exports=hd;var n=nw.exports,_f={},hw={exports:{}},ir={},pw={exports:{}},xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,T){var R=S.length;S.push(T);e:for(;0<R;){var $=R-1>>>1,L=S[$];if(0<s(L,T))S[$]=T,S[R]=L,R=$;else break e}}function r(S){return S.length===0?null:S[0]}function a(S){if(S.length===0)return null;var T=S[0],R=S.pop();if(R!==T){S[0]=R;e:for(var $=0,L=S.length,Q=L>>>1;$<Q;){var Y=2*($+1)-1,ne=S[Y],fe=Y+1,X=S[fe];if(0>s(ne,R))fe<L&&0>s(X,ne)?(S[$]=X,S[fe]=R,$=fe):(S[$]=ne,S[Y]=R,$=Y);else if(fe<L&&0>s(X,R))S[$]=X,S[fe]=R,$=fe;else break e}}return T}function s(S,T){var R=S.sortIndex-T.sortIndex;return R!==0?R:S.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],m=1,d=null,f=3,y=!1,v=!1,h=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(S){for(var T=r(u);T!==null;){if(T.callback===null)a(u);else if(T.startTime<=S)a(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function j(S){if(h=!1,x(S),!v)if(r(c)!==null)v=!0,A(p);else{var T=r(u);T!==null&&F(j,T.startTime-S)}}function p(S,T){v=!1,h&&(h=!1,b(P),P=-1),y=!0;var R=f;try{for(x(T),d=r(c);d!==null&&(!(d.expirationTime>T)||S&&!M());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var L=$(d.expirationTime<=T);T=e.unstable_now(),typeof L=="function"?d.callback=L:d===r(c)&&a(c),x(T)}else a(c);d=r(c)}if(d!==null)var Q=!0;else{var Y=r(u);Y!==null&&F(j,Y.startTime-T),Q=!1}return Q}finally{d=null,f=R,y=!1}}var w=!1,C=null,P=-1,E=5,I=-1;function M(){return!(e.unstable_now()-I<E)}function O(){if(C!==null){var S=e.unstable_now();I=S;var T=!0;try{T=C(!0,S)}finally{T?D():(w=!1,C=null)}}else w=!1}var D;if(typeof N=="function")D=function(){N(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,_=B.port2;B.port1.onmessage=O,D=function(){_.postMessage(null)}}else D=function(){g(O,0)};function A(S){C=S,w||(w=!0,D())}function F(S,T){P=g(function(){S(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,A(p))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(S){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var R=f;f=T;try{return S()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,T){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var R=f;f=S;try{return T()}finally{f=R}},e.unstable_scheduleCallback=function(S,T,R){var $=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?$+R:$):R=$,S){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=R+L,S={id:m++,callback:T,priorityLevel:S,startTime:R,expirationTime:L,sortIndex:-1},R>$?(S.sortIndex=R,t(u,S),r(c)===null&&S===r(u)&&(h?(b(P),P=-1):h=!0,F(j,R-$))):(S.sortIndex=L,t(c,S),v||y||(v=!0,A(p))),S},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(S){var T=f;return function(){var R=f;f=T;try{return S.apply(this,arguments)}finally{f=R}}}})(xw);pw.exports=xw;var GO=pw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO=k,nr=GO;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yw=new Set,fo={};function Ka(e,t){Es(e,t),Es(e+"Capture",t)}function Es(e,t){for(fo[e]=t,e=0;e<t.length;e++)yw.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=Object.prototype.hasOwnProperty,QO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cg={},kg={};function JO(e){return Rf.call(kg,e)?!0:Rf.call(Cg,e)?!1:QO.test(e)?kg[e]=!0:(Cg[e]=!0,!1)}function XO(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YO(e,t,r,a){if(t===null||typeof t>"u"||XO(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ut(e,t,r,a,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new Ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var hx=/[\-:]([a-z])/g;function px(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hx,px);St[t]=new Ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hx,px);St[t]=new Ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hx,px);St[t]=new Ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function xx(e,t,r,a){var s=St.hasOwnProperty(t)?St[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YO(t,r,s,a)&&(r=null),a||s===null?JO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,a=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var wn=HO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),ss=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),yx=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),gw=Symbol.for("react.provider"),vw=Symbol.for("react.context"),gx=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),vx=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),bw=Symbol.for("react.offscreen"),Og=Symbol.iterator;function ki(e){return e===null||typeof e!="object"?null:(e=Og&&e[Og]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,Cm;function Vi(e){if(Cm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cm=t&&t[1]||""}return`
`+Cm+e}var km=!1;function Om(e,t){if(!e||km)return"";km=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var a=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){a=u}e.call(t.prototype)}else{try{throw Error()}catch(u){a=u}e()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=a.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{km=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vi(e):""}function ZO(e){switch(e.tag){case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return e=Om(e.type,!1),e;case 11:return e=Om(e.type.render,!1),e;case 1:return e=Om(e.type,!0),e;default:return""}}function Uf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case is:return"Fragment";case ss:return"Portal";case Lf:return"Profiler";case yx:return"StrictMode";case Ff:return"Suspense";case Bf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vw:return(e.displayName||"Context")+".Consumer";case gw:return(e._context.displayName||"Context")+".Provider";case gx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vx:return t=e.displayName||null,t!==null?t:Uf(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return Uf(e(t))}catch{}}return null}function eP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uf(t);case 8:return t===yx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tP(e){var t=jw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ql(e){e._valueTracker||(e._valueTracker=tP(e))}function Nw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=jw(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function $c(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qf(e,t){var r=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pg(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=Xn(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ww(e,t){t=t.checked,t!=null&&xx(e,"checked",t,!1)}function Wf(e,t){ww(e,t);var r=Xn(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kf(e,t.type,Xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ag(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kf(e,t,r){(t!=="number"||$c(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gi=Array.isArray;function bs(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Xn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(Gi(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xn(r)}}function Sw(e,t){var r=Xn(t.value),a=Xn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Tg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wl,kw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ho(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rP=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(e){rP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yi[t]=Yi[e]})});function Ow(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yi.hasOwnProperty(e)&&Yi[e]?(""+t).trim():t+"px"}function Pw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,s=Ow(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,s):e[r]=s}}var nP=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gf(e,t){if(t){if(nP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Hf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qf=null;function bx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jf=null,js=null,Ns=null;function Mg(e){if(e=wl(e)){if(typeof Jf!="function")throw Error(J(280));var t=e.stateNode;t&&(t=vd(t),Jf(e.stateNode,e.type,t))}}function Aw(e){js?Ns?Ns.push(e):Ns=[e]:js=e}function Ew(){if(js){var e=js,t=Ns;if(Ns=js=null,Mg(e),t)for(e=0;e<t.length;e++)Mg(t[e])}}function Tw(e,t){return e(t)}function Mw(){}var Pm=!1;function Iw(e,t,r){if(Pm)return e(t,r);Pm=!0;try{return Tw(e,t,r)}finally{Pm=!1,(js!==null||Ns!==null)&&(Mw(),Ew())}}function po(e,t){var r=e.stateNode;if(r===null)return null;var a=vd(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var Xf=!1;if(pn)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Xf=!1}function aP(e,t,r,a,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(m){this.onError(m)}}var Zi=!1,_c=null,Rc=!1,Yf=null,sP={onError:function(e){Zi=!0,_c=e}};function iP(e,t,r,a,s,i,o,l,c){Zi=!1,_c=null,aP.apply(sP,arguments)}function oP(e,t,r,a,s,i,o,l,c){if(iP.apply(this,arguments),Zi){if(Zi){var u=_c;Zi=!1,_c=null}else throw Error(J(198));Rc||(Rc=!0,Yf=u)}}function za(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Dw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ig(e){if(za(e)!==e)throw Error(J(188))}function lP(e){var t=e.alternate;if(!t){if(t=za(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){r=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ig(s),e;if(i===a)return Ig(s),t;i=i.sibling}throw Error(J(188))}if(r.return!==a.return)r=s,a=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,a=i;break}if(l===a){o=!0,a=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=s;break}if(l===a){o=!0,a=i,r=s;break}l=l.sibling}if(!o)throw Error(J(189))}}if(r.alternate!==a)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function $w(e){return e=lP(e),e!==null?_w(e):null}function _w(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_w(e);if(t!==null)return t;e=e.sibling}return null}var Rw=nr.unstable_scheduleCallback,Dg=nr.unstable_cancelCallback,cP=nr.unstable_shouldYield,uP=nr.unstable_requestPaint,Ye=nr.unstable_now,dP=nr.unstable_getCurrentPriorityLevel,jx=nr.unstable_ImmediatePriority,Lw=nr.unstable_UserBlockingPriority,Lc=nr.unstable_NormalPriority,mP=nr.unstable_LowPriority,Fw=nr.unstable_IdlePriority,pd=null,Vr=null;function fP(e){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(pd,e,void 0,(e.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:xP,hP=Math.log,pP=Math.LN2;function xP(e){return e>>>=0,e===0?32:31-(hP(e)/pP|0)|0}var Kl=64,zl=4194304;function Hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fc(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?a=Hi(l):(i&=o,i!==0&&(a=Hi(i)))}else o=r&~s,o!==0?a=Hi(o):i!==0&&(a=Hi(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&s)&&(s=a&-a,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Rr(t),s=1<<r,a|=e[r],t&=~s;return a}function yP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gP(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Rr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&a)&&(s[o]=yP(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Zf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bw(){var e=Kl;return Kl<<=1,!(Kl&4194240)&&(Kl=64),e}function Am(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rr(t),e[t]=r}function vP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Rr(r),i=1<<s;t[s]=0,a[s]=-1,e[s]=-1,r&=~i}}function Nx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Rr(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}var Ae=0;function Uw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qw,wx,Ww,Kw,zw,eh=!1,Vl=[],Bn=null,Un=null,qn=null,xo=new Map,yo=new Map,Mn=[],bP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $g(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Pi(e,t,r,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=wl(t),t!==null&&wx(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jP(e,t,r,a,s){switch(t){case"focusin":return Bn=Pi(Bn,e,t,r,a,s),!0;case"dragenter":return Un=Pi(Un,e,t,r,a,s),!0;case"mouseover":return qn=Pi(qn,e,t,r,a,s),!0;case"pointerover":var i=s.pointerId;return xo.set(i,Pi(xo.get(i)||null,e,t,r,a,s)),!0;case"gotpointercapture":return i=s.pointerId,yo.set(i,Pi(yo.get(i)||null,e,t,r,a,s)),!0}return!1}function Vw(e){var t=ba(e.target);if(t!==null){var r=za(t);if(r!==null){if(t=r.tag,t===13){if(t=Dw(r),t!==null){e.blockedOn=t,zw(e.priority,function(){Ww(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=th(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Qf=a,r.target.dispatchEvent(a),Qf=null}else return t=wl(r),t!==null&&wx(t),e.blockedOn=r,!1;t.shift()}return!0}function _g(e,t,r){Cc(e)&&r.delete(t)}function NP(){eh=!1,Bn!==null&&Cc(Bn)&&(Bn=null),Un!==null&&Cc(Un)&&(Un=null),qn!==null&&Cc(qn)&&(qn=null),xo.forEach(_g),yo.forEach(_g)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,eh||(eh=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,NP)))}function go(e){function t(s){return Ai(s,e)}if(0<Vl.length){Ai(Vl[0],e);for(var r=1;r<Vl.length;r++){var a=Vl[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Bn!==null&&Ai(Bn,e),Un!==null&&Ai(Un,e),qn!==null&&Ai(qn,e),xo.forEach(t),yo.forEach(t),r=0;r<Mn.length;r++)a=Mn[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Mn.length&&(r=Mn[0],r.blockedOn===null);)Vw(r),r.blockedOn===null&&Mn.shift()}var ws=wn.ReactCurrentBatchConfig,Bc=!0;function wP(e,t,r,a){var s=Ae,i=ws.transition;ws.transition=null;try{Ae=1,Sx(e,t,r,a)}finally{Ae=s,ws.transition=i}}function SP(e,t,r,a){var s=Ae,i=ws.transition;ws.transition=null;try{Ae=4,Sx(e,t,r,a)}finally{Ae=s,ws.transition=i}}function Sx(e,t,r,a){if(Bc){var s=th(e,t,r,a);if(s===null)Fm(e,t,a,Uc,r),$g(e,a);else if(jP(s,e,t,r,a))a.stopPropagation();else if($g(e,a),t&4&&-1<bP.indexOf(e)){for(;s!==null;){var i=wl(s);if(i!==null&&qw(i),i=th(e,t,r,a),i===null&&Fm(e,t,a,Uc,r),i===s)break;s=i}s!==null&&a.stopPropagation()}else Fm(e,t,a,null,r)}}var Uc=null;function th(e,t,r,a){if(Uc=null,e=bx(a),e=ba(e),e!==null)if(t=za(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Dw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uc=e,null}function Gw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dP()){case jx:return 1;case Lw:return 4;case Lc:case mP:return 16;case Fw:return 536870912;default:return 16}default:return 16}}var $n=null,Cx=null,kc=null;function Hw(){if(kc)return kc;var e,t=Cx,r=t.length,a,s="value"in $n?$n.value:$n.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(a=1;a<=o&&t[r-a]===s[i-a];a++);return kc=s.slice(e,1<a?1-a:void 0)}function Oc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function Rg(){return!1}function or(e){function t(r,a,s,i,o){this._reactName=r,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gl:Rg,this.isPropagationStopped=Rg,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kx=or(ci),Nl=Qe({},ci,{view:0,detail:0}),CP=or(Nl),Em,Tm,Ei,xd=Qe({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ox,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Em=e.screenX-Ei.screenX,Tm=e.screenY-Ei.screenY):Tm=Em=0,Ei=e),Em)},movementY:function(e){return"movementY"in e?e.movementY:Tm}}),Lg=or(xd),kP=Qe({},xd,{dataTransfer:0}),OP=or(kP),PP=Qe({},Nl,{relatedTarget:0}),Mm=or(PP),AP=Qe({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),EP=or(AP),TP=Qe({},ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MP=or(TP),IP=Qe({},ci,{data:0}),Fg=or(IP),DP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$P={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_P={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_P[e])?!!t[e]:!1}function Ox(){return RP}var LP=Qe({},Nl,{key:function(e){if(e.key){var t=DP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$P[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ox,charCode:function(e){return e.type==="keypress"?Oc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FP=or(LP),BP=Qe({},xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bg=or(BP),UP=Qe({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ox}),qP=or(UP),WP=Qe({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),KP=or(WP),zP=Qe({},xd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VP=or(zP),GP=[9,13,27,32],Px=pn&&"CompositionEvent"in window,eo=null;pn&&"documentMode"in document&&(eo=document.documentMode);var HP=pn&&"TextEvent"in window&&!eo,Qw=pn&&(!Px||eo&&8<eo&&11>=eo),Ug=String.fromCharCode(32),qg=!1;function Jw(e,t){switch(e){case"keyup":return GP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var os=!1;function QP(e,t){switch(e){case"compositionend":return Xw(t);case"keypress":return t.which!==32?null:(qg=!0,Ug);case"textInput":return e=t.data,e===Ug&&qg?null:e;default:return null}}function JP(e,t){if(os)return e==="compositionend"||!Px&&Jw(e,t)?(e=Hw(),kc=Cx=$n=null,os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qw&&t.locale!=="ko"?null:t.data;default:return null}}var XP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XP[e.type]:t==="textarea"}function Yw(e,t,r,a){Aw(a),t=qc(t,"onChange"),0<t.length&&(r=new kx("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var to=null,vo=null;function YP(e){c1(e,0)}function yd(e){var t=us(e);if(Nw(t))return e}function ZP(e,t){if(e==="change")return t}var Zw=!1;if(pn){var Im;if(pn){var Dm="oninput"in document;if(!Dm){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Dm=typeof Kg.oninput=="function"}Im=Dm}else Im=!1;Zw=Im&&(!document.documentMode||9<document.documentMode)}function zg(){to&&(to.detachEvent("onpropertychange",e1),vo=to=null)}function e1(e){if(e.propertyName==="value"&&yd(vo)){var t=[];Yw(t,vo,e,bx(e)),Iw(YP,t)}}function eA(e,t,r){e==="focusin"?(zg(),to=t,vo=r,to.attachEvent("onpropertychange",e1)):e==="focusout"&&zg()}function tA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yd(vo)}function rA(e,t){if(e==="click")return yd(t)}function nA(e,t){if(e==="input"||e==="change")return yd(t)}function aA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fr=typeof Object.is=="function"?Object.is:aA;function bo(e,t){if(Fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!Rf.call(t,s)||!Fr(e[s],t[s]))return!1}return!0}function Vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gg(e,t){var r=Vg(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vg(r)}}function t1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?t1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function r1(){for(var e=window,t=$c();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$c(e.document)}return t}function Ax(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sA(e){var t=r1(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&t1(r.ownerDocument.documentElement,r)){if(a!==null&&Ax(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=Gg(r,i);var o=Gg(r,a);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iA=pn&&"documentMode"in document&&11>=document.documentMode,ls=null,rh=null,ro=null,nh=!1;function Hg(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nh||ls==null||ls!==$c(a)||(a=ls,"selectionStart"in a&&Ax(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ro&&bo(ro,a)||(ro=a,a=qc(rh,"onSelect"),0<a.length&&(t=new kx("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=ls)))}function Hl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cs={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},$m={},n1={};pn&&(n1=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function gd(e){if($m[e])return $m[e];if(!cs[e])return e;var t=cs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in n1)return $m[e]=t[r];return e}var a1=gd("animationend"),s1=gd("animationiteration"),i1=gd("animationstart"),o1=gd("transitionend"),l1=new Map,Qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ea(e,t){l1.set(e,t),Ka(t,[e])}for(var _m=0;_m<Qg.length;_m++){var Rm=Qg[_m],oA=Rm.toLowerCase(),lA=Rm[0].toUpperCase()+Rm.slice(1);ea(oA,"on"+lA)}ea(a1,"onAnimationEnd");ea(s1,"onAnimationIteration");ea(i1,"onAnimationStart");ea("dblclick","onDoubleClick");ea("focusin","onFocus");ea("focusout","onBlur");ea(o1,"onTransitionEnd");Es("onMouseEnter",["mouseout","mouseover"]);Es("onMouseLeave",["mouseout","mouseover"]);Es("onPointerEnter",["pointerout","pointerover"]);Es("onPointerLeave",["pointerout","pointerover"]);Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function Jg(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,oP(a,t,void 0,e),e.currentTarget=null}function c1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Jg(s,l,u),i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Jg(s,l,u),i=c}}}if(Rc)throw e=Yf,Rc=!1,Yf=null,e}function Be(e,t){var r=t[lh];r===void 0&&(r=t[lh]=new Set);var a=e+"__bubble";r.has(a)||(u1(t,e,2,!1),r.add(a))}function Lm(e,t,r){var a=0;t&&(a|=4),u1(r,e,a,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function jo(e){if(!e[Ql]){e[Ql]=!0,yw.forEach(function(r){r!=="selectionchange"&&(cA.has(r)||Lm(r,!1,e),Lm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,Lm("selectionchange",!1,t))}}function u1(e,t,r,a){switch(Gw(t)){case 1:var s=wP;break;case 4:s=SP;break;default:s=Sx}r=s.bind(null,t,r,e),s=void 0,!Xf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Fm(e,t,r,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ba(l),o===null)return;if(c=o.tag,c===5||c===6){a=i=o;continue e}l=l.parentNode}}a=a.return}Iw(function(){var u=i,m=bx(r),d=[];e:{var f=l1.get(e);if(f!==void 0){var y=kx,v=e;switch(e){case"keypress":if(Oc(r)===0)break e;case"keydown":case"keyup":y=FP;break;case"focusin":v="focus",y=Mm;break;case"focusout":v="blur",y=Mm;break;case"beforeblur":case"afterblur":y=Mm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=OP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=qP;break;case a1:case s1:case i1:y=EP;break;case o1:y=KP;break;case"scroll":y=CP;break;case"wheel":y=VP;break;case"copy":case"cut":case"paste":y=MP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Bg}var h=(t&4)!==0,g=!h&&e==="scroll",b=h?f!==null?f+"Capture":null:f;h=[];for(var N=u,x;N!==null;){x=N;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,b!==null&&(j=po(N,b),j!=null&&h.push(No(N,j,x)))),g)break;N=N.return}0<h.length&&(f=new y(f,v,null,r,m),d.push({event:f,listeners:h}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==Qf&&(v=r.relatedTarget||r.fromElement)&&(ba(v)||v[xn]))break e;if((y||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?ba(v):null,v!==null&&(g=za(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(h=Lg,j="onMouseLeave",b="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(h=Bg,j="onPointerLeave",b="onPointerEnter",N="pointer"),g=y==null?f:us(y),x=v==null?f:us(v),f=new h(j,N+"leave",y,r,m),f.target=g,f.relatedTarget=x,j=null,ba(m)===u&&(h=new h(b,N+"enter",v,r,m),h.target=x,h.relatedTarget=g,j=h),g=j,y&&v)t:{for(h=y,b=v,N=0,x=h;x;x=Za(x))N++;for(x=0,j=b;j;j=Za(j))x++;for(;0<N-x;)h=Za(h),N--;for(;0<x-N;)b=Za(b),x--;for(;N--;){if(h===b||b!==null&&h===b.alternate)break t;h=Za(h),b=Za(b)}h=null}else h=null;y!==null&&Xg(d,f,y,h,!1),v!==null&&g!==null&&Xg(d,g,v,h,!0)}}e:{if(f=u?us(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var p=ZP;else if(Wg(f))if(Zw)p=nA;else{p=tA;var w=eA}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(p=rA);if(p&&(p=p(e,u))){Yw(d,p,r,m);break e}w&&w(e,f,u),e==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&Kf(f,"number",f.value)}switch(w=u?us(u):window,e){case"focusin":(Wg(w)||w.contentEditable==="true")&&(ls=w,rh=u,ro=null);break;case"focusout":ro=rh=ls=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,Hg(d,r,m);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":Hg(d,r,m)}var C;if(Px)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else os?Jw(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Qw&&r.locale!=="ko"&&(os||P!=="onCompositionStart"?P==="onCompositionEnd"&&os&&(C=Hw()):($n=m,Cx="value"in $n?$n.value:$n.textContent,os=!0)),w=qc(u,P),0<w.length&&(P=new Fg(P,e,null,r,m),d.push({event:P,listeners:w}),C?P.data=C:(C=Xw(r),C!==null&&(P.data=C)))),(C=HP?QP(e,r):JP(e,r))&&(u=qc(u,"onBeforeInput"),0<u.length&&(m=new Fg("onBeforeInput","beforeinput",null,r,m),d.push({event:m,listeners:u}),m.data=C))}c1(d,t)})}function No(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qc(e,t){for(var r=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=po(e,r),i!=null&&a.unshift(No(e,i,s)),i=po(e,t),i!=null&&a.push(No(e,i,s))),e=e.return}return a}function Za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xg(e,t,r,a,s){for(var i=t._reactName,o=[];r!==null&&r!==a;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&u!==null&&(l=u,s?(c=po(r,i),c!=null&&o.unshift(No(r,c,l))):s||(c=po(r,i),c!=null&&o.push(No(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var uA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function Yg(e){return(typeof e=="string"?e:""+e).replace(uA,`
`).replace(dA,"")}function Jl(e,t,r){if(t=Yg(t),Yg(e)!==t&&r)throw Error(J(425))}function Wc(){}var ah=null,sh=null;function ih(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,Zg=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof Zg<"u"?function(e){return Zg.resolve(null).then(e).catch(hA)}:oh;function hA(e){setTimeout(function(){throw e})}function Bm(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(a===0){e.removeChild(s),go(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=s}while(r);go(t)}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function e0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),Kr="__reactFiber$"+ui,wo="__reactProps$"+ui,xn="__reactContainer$"+ui,lh="__reactEvents$"+ui,pA="__reactListeners$"+ui,xA="__reactHandles$"+ui;function ba(e){var t=e[Kr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xn]||r[Kr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=e0(e);e!==null;){if(r=e[Kr])return r;e=e0(e)}return t}e=r,r=e.parentNode}return null}function wl(e){return e=e[Kr]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function vd(e){return e[wo]||null}var ch=[],ds=-1;function ta(e){return{current:e}}function We(e){0>ds||(e.current=ch[ds],ch[ds]=null,ds--)}function Le(e,t){ds++,ch[ds]=e.current,e.current=t}var Yn={},Mt=ta(Yn),zt=ta(!1),Ma=Yn;function Ts(e,t){var r=e.type.contextTypes;if(!r)return Yn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vt(e){return e=e.childContextTypes,e!=null}function Kc(){We(zt),We(Mt)}function t0(e,t,r){if(Mt.current!==Yn)throw Error(J(168));Le(Mt,t),Le(zt,r)}function d1(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(J(108,eP(e)||"Unknown",s));return Qe({},r,a)}function zc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,Ma=Mt.current,Le(Mt,e),Le(zt,zt.current),!0}function r0(e,t,r){var a=e.stateNode;if(!a)throw Error(J(169));r?(e=d1(e,t,Ma),a.__reactInternalMemoizedMergedChildContext=e,We(zt),We(Mt),Le(Mt,e)):We(zt),Le(zt,r)}var rn=null,bd=!1,Um=!1;function m1(e){rn===null?rn=[e]:rn.push(e)}function yA(e){bd=!0,m1(e)}function ra(){if(!Um&&rn!==null){Um=!0;var e=0,t=Ae;try{var r=rn;for(Ae=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}rn=null,bd=!1}catch(s){throw rn!==null&&(rn=rn.slice(e+1)),Rw(jx,ra),s}finally{Ae=t,Um=!1}}return null}var ms=[],fs=0,Vc=null,Gc=0,mr=[],fr=0,Ia=null,nn=1,an="";function fa(e,t){ms[fs++]=Gc,ms[fs++]=Vc,Vc=e,Gc=t}function f1(e,t,r){mr[fr++]=nn,mr[fr++]=an,mr[fr++]=Ia,Ia=e;var a=nn;e=an;var s=32-Rr(a)-1;a&=~(1<<s),r+=1;var i=32-Rr(t)+s;if(30<i){var o=s-s%5;i=(a&(1<<o)-1).toString(32),a>>=o,s-=o,nn=1<<32-Rr(t)+s|r<<s|a,an=i+e}else nn=1<<i|r<<s|a,an=e}function Ex(e){e.return!==null&&(fa(e,1),f1(e,1,0))}function Tx(e){for(;e===Vc;)Vc=ms[--fs],ms[fs]=null,Gc=ms[--fs],ms[fs]=null;for(;e===Ia;)Ia=mr[--fr],mr[fr]=null,an=mr[--fr],mr[fr]=null,nn=mr[--fr],mr[fr]=null}var rr=null,er=null,Ke=!1,Mr=null;function h1(e,t){var r=hr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function n0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rr=e,er=Wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rr=e,er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ia!==null?{id:nn,overflow:an}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,rr=e,er=null,!0):!1;default:return!1}}function uh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dh(e){if(Ke){var t=er;if(t){var r=t;if(!n0(e,t)){if(uh(e))throw Error(J(418));t=Wn(r.nextSibling);var a=rr;t&&n0(e,t)?h1(a,r):(e.flags=e.flags&-4097|2,Ke=!1,rr=e)}}else{if(uh(e))throw Error(J(418));e.flags=e.flags&-4097|2,Ke=!1,rr=e}}}function a0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rr=e}function Xl(e){if(e!==rr)return!1;if(!Ke)return a0(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ih(e.type,e.memoizedProps)),t&&(t=er)){if(uh(e))throw p1(),Error(J(418));for(;t;)h1(e,t),t=Wn(t.nextSibling)}if(a0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){er=Wn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}er=null}}else er=rr?Wn(e.stateNode.nextSibling):null;return!0}function p1(){for(var e=er;e;)e=Wn(e.nextSibling)}function Ms(){er=rr=null,Ke=!1}function Mx(e){Mr===null?Mr=[e]:Mr.push(e)}var gA=wn.ReactCurrentBatchConfig;function Ti(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var a=r.stateNode}if(!a)throw Error(J(147,e));var s=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function Yl(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function s0(e){var t=e._init;return t(e._payload)}function x1(e){function t(b,N){if(e){var x=b.deletions;x===null?(b.deletions=[N],b.flags|=16):x.push(N)}}function r(b,N){if(!e)return null;for(;N!==null;)t(b,N),N=N.sibling;return null}function a(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function s(b,N){return b=Gn(b,N),b.index=0,b.sibling=null,b}function i(b,N,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<N?(b.flags|=2,N):x):(b.flags|=2,N)):(b.flags|=1048576,N)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,N,x,j){return N===null||N.tag!==6?(N=Hm(x,b.mode,j),N.return=b,N):(N=s(N,x),N.return=b,N)}function c(b,N,x,j){var p=x.type;return p===is?m(b,N,x.props.children,j,x.key):N!==null&&(N.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===An&&s0(p)===N.type)?(j=s(N,x.props),j.ref=Ti(b,N,x),j.return=b,j):(j=Dc(x.type,x.key,x.props,null,b.mode,j),j.ref=Ti(b,N,x),j.return=b,j)}function u(b,N,x,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==x.containerInfo||N.stateNode.implementation!==x.implementation?(N=Qm(x,b.mode,j),N.return=b,N):(N=s(N,x.children||[]),N.return=b,N)}function m(b,N,x,j,p){return N===null||N.tag!==7?(N=Pa(x,b.mode,j,p),N.return=b,N):(N=s(N,x),N.return=b,N)}function d(b,N,x){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Hm(""+N,b.mode,x),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ul:return x=Dc(N.type,N.key,N.props,null,b.mode,x),x.ref=Ti(b,null,N),x.return=b,x;case ss:return N=Qm(N,b.mode,x),N.return=b,N;case An:var j=N._init;return d(b,j(N._payload),x)}if(Gi(N)||ki(N))return N=Pa(N,b.mode,x,null),N.return=b,N;Yl(b,N)}return null}function f(b,N,x,j){var p=N!==null?N.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return p!==null?null:l(b,N,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ul:return x.key===p?c(b,N,x,j):null;case ss:return x.key===p?u(b,N,x,j):null;case An:return p=x._init,f(b,N,p(x._payload),j)}if(Gi(x)||ki(x))return p!==null?null:m(b,N,x,j,null);Yl(b,x)}return null}function y(b,N,x,j,p){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(x)||null,l(N,b,""+j,p);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ul:return b=b.get(j.key===null?x:j.key)||null,c(N,b,j,p);case ss:return b=b.get(j.key===null?x:j.key)||null,u(N,b,j,p);case An:var w=j._init;return y(b,N,x,w(j._payload),p)}if(Gi(j)||ki(j))return b=b.get(x)||null,m(N,b,j,p,null);Yl(N,j)}return null}function v(b,N,x,j){for(var p=null,w=null,C=N,P=N=0,E=null;C!==null&&P<x.length;P++){C.index>P?(E=C,C=null):E=C.sibling;var I=f(b,C,x[P],j);if(I===null){C===null&&(C=E);break}e&&C&&I.alternate===null&&t(b,C),N=i(I,N,P),w===null?p=I:w.sibling=I,w=I,C=E}if(P===x.length)return r(b,C),Ke&&fa(b,P),p;if(C===null){for(;P<x.length;P++)C=d(b,x[P],j),C!==null&&(N=i(C,N,P),w===null?p=C:w.sibling=C,w=C);return Ke&&fa(b,P),p}for(C=a(b,C);P<x.length;P++)E=y(C,b,P,x[P],j),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?P:E.key),N=i(E,N,P),w===null?p=E:w.sibling=E,w=E);return e&&C.forEach(function(M){return t(b,M)}),Ke&&fa(b,P),p}function h(b,N,x,j){var p=ki(x);if(typeof p!="function")throw Error(J(150));if(x=p.call(x),x==null)throw Error(J(151));for(var w=p=null,C=N,P=N=0,E=null,I=x.next();C!==null&&!I.done;P++,I=x.next()){C.index>P?(E=C,C=null):E=C.sibling;var M=f(b,C,I.value,j);if(M===null){C===null&&(C=E);break}e&&C&&M.alternate===null&&t(b,C),N=i(M,N,P),w===null?p=M:w.sibling=M,w=M,C=E}if(I.done)return r(b,C),Ke&&fa(b,P),p;if(C===null){for(;!I.done;P++,I=x.next())I=d(b,I.value,j),I!==null&&(N=i(I,N,P),w===null?p=I:w.sibling=I,w=I);return Ke&&fa(b,P),p}for(C=a(b,C);!I.done;P++,I=x.next())I=y(C,b,P,I.value,j),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?P:I.key),N=i(I,N,P),w===null?p=I:w.sibling=I,w=I);return e&&C.forEach(function(O){return t(b,O)}),Ke&&fa(b,P),p}function g(b,N,x,j){if(typeof x=="object"&&x!==null&&x.type===is&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ul:e:{for(var p=x.key,w=N;w!==null;){if(w.key===p){if(p=x.type,p===is){if(w.tag===7){r(b,w.sibling),N=s(w,x.props.children),N.return=b,b=N;break e}}else if(w.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===An&&s0(p)===w.type){r(b,w.sibling),N=s(w,x.props),N.ref=Ti(b,w,x),N.return=b,b=N;break e}r(b,w);break}else t(b,w);w=w.sibling}x.type===is?(N=Pa(x.props.children,b.mode,j,x.key),N.return=b,b=N):(j=Dc(x.type,x.key,x.props,null,b.mode,j),j.ref=Ti(b,N,x),j.return=b,b=j)}return o(b);case ss:e:{for(w=x.key;N!==null;){if(N.key===w)if(N.tag===4&&N.stateNode.containerInfo===x.containerInfo&&N.stateNode.implementation===x.implementation){r(b,N.sibling),N=s(N,x.children||[]),N.return=b,b=N;break e}else{r(b,N);break}else t(b,N);N=N.sibling}N=Qm(x,b.mode,j),N.return=b,b=N}return o(b);case An:return w=x._init,g(b,N,w(x._payload),j)}if(Gi(x))return v(b,N,x,j);if(ki(x))return h(b,N,x,j);Yl(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,N!==null&&N.tag===6?(r(b,N.sibling),N=s(N,x),N.return=b,b=N):(r(b,N),N=Hm(x,b.mode,j),N.return=b,b=N),o(b)):r(b,N)}return g}var Is=x1(!0),y1=x1(!1),Hc=ta(null),Qc=null,hs=null,Ix=null;function Dx(){Ix=hs=Qc=null}function $x(e){var t=Hc.current;We(Hc),e._currentValue=t}function mh(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Ss(e,t){Qc=e,Ix=hs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function vr(e){var t=e._currentValue;if(Ix!==e)if(e={context:e,memoizedValue:t,next:null},hs===null){if(Qc===null)throw Error(J(308));hs=e,Qc.dependencies={lanes:0,firstContext:e}}else hs=hs.next=e;return t}var ja=null;function _x(e){ja===null?ja=[e]:ja.push(e)}function g1(e,t,r,a){var s=t.interleaved;return s===null?(r.next=r,_x(t)):(r.next=s.next,s.next=r),t.interleaved=r,yn(e,a)}function yn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var En=!1;function Rx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ce&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,yn(e,r)}return s=a.interleaved,s===null?(t.next=t,_x(a)):(t.next=s.next,s.next=t),a.interleaved=t,yn(e,r)}function Pc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Nx(e,r)}}function i0(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Jc(e,t,r,a){var s=e.updateQueue;En=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,m=u=c=null,l=i;do{var f=l.lane,y=l.eventTime;if((a&f)===f){m!==null&&(m=m.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,h=l;switch(f=t,y=r,h.tag){case 1:if(v=h.payload,typeof v=="function"){d=v.call(y,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=h.payload,f=typeof v=="function"?v.call(y,d,f):v,f==null)break e;d=Qe({},d,f);break e;case 2:En=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(u=m=y,c=d):m=m.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(m===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);$a|=o,e.lanes=o,e.memoizedState=d}}function o0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=r,typeof s!="function")throw Error(J(191,s));s.call(a)}}}var Sl={},Gr=ta(Sl),So=ta(Sl),Co=ta(Sl);function Na(e){if(e===Sl)throw Error(J(174));return e}function Lx(e,t){switch(Le(Co,t),Le(So,e),Le(Gr,Sl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vf(t,e)}We(Gr),Le(Gr,t)}function Ds(){We(Gr),We(So),We(Co)}function b1(e){Na(Co.current);var t=Na(Gr.current),r=Vf(t,e.type);t!==r&&(Le(So,e),Le(Gr,r))}function Fx(e){So.current===e&&(We(Gr),We(So))}var Ge=ta(0);function Xc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qm=[];function Bx(){for(var e=0;e<qm.length;e++)qm[e]._workInProgressVersionPrimary=null;qm.length=0}var Ac=wn.ReactCurrentDispatcher,Wm=wn.ReactCurrentBatchConfig,Da=0,He=null,lt=null,xt=null,Yc=!1,no=!1,ko=0,vA=0;function Ct(){throw Error(J(321))}function Ux(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Fr(e[r],t[r]))return!1;return!0}function qx(e,t,r,a,s,i){if(Da=i,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ac.current=e===null||e.memoizedState===null?wA:SA,e=r(a,s),no){i=0;do{if(no=!1,ko=0,25<=i)throw Error(J(301));i+=1,xt=lt=null,t.updateQueue=null,Ac.current=CA,e=r(a,s)}while(no)}if(Ac.current=Zc,t=lt!==null&&lt.next!==null,Da=0,xt=lt=He=null,Yc=!1,t)throw Error(J(300));return e}function Wx(){var e=ko!==0;return ko=0,e}function Wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?He.memoizedState=xt=e:xt=xt.next=e,xt}function br(){if(lt===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=xt===null?He.memoizedState:xt.next;if(t!==null)xt=t,lt=e;else{if(e===null)throw Error(J(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},xt===null?He.memoizedState=xt=e:xt=xt.next=e}return xt}function Oo(e,t){return typeof t=="function"?t(e):t}function Km(e){var t=br(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var a=lt,s=a.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}a.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,a=a.baseState;var l=o=null,c=null,u=i;do{var m=u.lane;if((Da&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var d={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=a):c=c.next=d,He.lanes|=m,$a|=m}u=u.next}while(u!==null&&u!==i);c===null?o=a:c.next=l,Fr(a,t.memoizedState)||(Wt=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){s=e;do i=s.lane,He.lanes|=i,$a|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zm(e){var t=br(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Fr(i,t.memoizedState)||(Wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function j1(){}function N1(e,t){var r=He,a=br(),s=t(),i=!Fr(a.memoizedState,s);if(i&&(a.memoizedState=s,Wt=!0),a=a.queue,Kx(C1.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,Po(9,S1.bind(null,r,a,s,t),void 0,null),yt===null)throw Error(J(349));Da&30||w1(r,t,s)}return s}function w1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function S1(e,t,r,a){t.value=r,t.getSnapshot=a,k1(t)&&O1(e)}function C1(e,t,r){return r(function(){k1(t)&&O1(e)})}function k1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fr(e,r)}catch{return!0}}function O1(e){var t=yn(e,1);t!==null&&Lr(t,e,1,-1)}function l0(e){var t=Wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=NA.bind(null,He,e),[t.memoizedState,e]}function Po(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function P1(){return br().memoizedState}function Ec(e,t,r,a){var s=Wr();He.flags|=e,s.memoizedState=Po(1|t,r,void 0,a===void 0?null:a)}function jd(e,t,r,a){var s=br();a=a===void 0?null:a;var i=void 0;if(lt!==null){var o=lt.memoizedState;if(i=o.destroy,a!==null&&Ux(a,o.deps)){s.memoizedState=Po(t,r,i,a);return}}He.flags|=e,s.memoizedState=Po(1|t,r,i,a)}function c0(e,t){return Ec(8390656,8,e,t)}function Kx(e,t){return jd(2048,8,e,t)}function A1(e,t){return jd(4,2,e,t)}function E1(e,t){return jd(4,4,e,t)}function T1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function M1(e,t,r){return r=r!=null?r.concat([e]):null,jd(4,4,T1.bind(null,t,e),r)}function zx(){}function I1(e,t){var r=br();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Ux(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function D1(e,t){var r=br();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Ux(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function $1(e,t,r){return Da&21?(Fr(r,t)||(r=Bw(),He.lanes|=r,$a|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=r)}function bA(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var a=Wm.transition;Wm.transition={};try{e(!1),t()}finally{Ae=r,Wm.transition=a}}function _1(){return br().memoizedState}function jA(e,t,r){var a=Vn(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},R1(e))L1(t,r);else if(r=g1(e,t,r,a),r!==null){var s=Rt();Lr(r,e,a,s),F1(r,t,a)}}function NA(e,t,r){var a=Vn(e),s={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(R1(e))L1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Fr(l,o)){var c=t.interleaved;c===null?(s.next=s,_x(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=g1(e,t,s,a),r!==null&&(s=Rt(),Lr(r,e,a,s),F1(r,t,a))}}function R1(e){var t=e.alternate;return e===He||t!==null&&t===He}function L1(e,t){no=Yc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function F1(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Nx(e,r)}}var Zc={readContext:vr,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},wA={readContext:vr,useCallback:function(e,t){return Wr().memoizedState=[e,t===void 0?null:t],e},useContext:vr,useEffect:c0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ec(4194308,4,T1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ec(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ec(4,2,e,t)},useMemo:function(e,t){var r=Wr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=Wr();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=jA.bind(null,He,e),[a.memoizedState,e]},useRef:function(e){var t=Wr();return e={current:e},t.memoizedState=e},useState:l0,useDebugValue:zx,useDeferredValue:function(e){return Wr().memoizedState=e},useTransition:function(){var e=l0(!1),t=e[0];return e=bA.bind(null,e[1]),Wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=He,s=Wr();if(Ke){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),yt===null)throw Error(J(349));Da&30||w1(a,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,c0(C1.bind(null,a,i,e),[e]),a.flags|=2048,Po(9,S1.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=Wr(),t=yt.identifierPrefix;if(Ke){var r=an,a=nn;r=(a&~(1<<32-Rr(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=ko++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SA={readContext:vr,useCallback:I1,useContext:vr,useEffect:Kx,useImperativeHandle:M1,useInsertionEffect:A1,useLayoutEffect:E1,useMemo:D1,useReducer:Km,useRef:P1,useState:function(){return Km(Oo)},useDebugValue:zx,useDeferredValue:function(e){var t=br();return $1(t,lt.memoizedState,e)},useTransition:function(){var e=Km(Oo)[0],t=br().memoizedState;return[e,t]},useMutableSource:j1,useSyncExternalStore:N1,useId:_1,unstable_isNewReconciler:!1},CA={readContext:vr,useCallback:I1,useContext:vr,useEffect:Kx,useImperativeHandle:M1,useInsertionEffect:A1,useLayoutEffect:E1,useMemo:D1,useReducer:zm,useRef:P1,useState:function(){return zm(Oo)},useDebugValue:zx,useDeferredValue:function(e){var t=br();return lt===null?t.memoizedState=e:$1(t,lt.memoizedState,e)},useTransition:function(){var e=zm(Oo)[0],t=br().memoizedState;return[e,t]},useMutableSource:j1,useSyncExternalStore:N1,useId:_1,unstable_isNewReconciler:!1};function Or(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function fh(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:Qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nd={isMounted:function(e){return(e=e._reactInternals)?za(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Rt(),s=Vn(e),i=cn(a,s);i.payload=t,r!=null&&(i.callback=r),t=Kn(e,i,s),t!==null&&(Lr(t,e,s,a),Pc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Rt(),s=Vn(e),i=cn(a,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Kn(e,i,s),t!==null&&(Lr(t,e,s,a),Pc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rt(),a=Vn(e),s=cn(r,a);s.tag=2,t!=null&&(s.callback=t),t=Kn(e,s,a),t!==null&&(Lr(t,e,a,r),Pc(t,e,a))}};function u0(e,t,r,a,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!bo(r,a)||!bo(s,i):!0}function B1(e,t,r){var a=!1,s=Yn,i=t.contextType;return typeof i=="object"&&i!==null?i=vr(i):(s=Vt(t)?Ma:Mt.current,a=t.contextTypes,i=(a=a!=null)?Ts(e,s):Yn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nd,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function d0(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&Nd.enqueueReplaceState(t,t.state,null)}function hh(e,t,r,a){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Rx(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=vr(i):(i=Vt(t)?Ma:Mt.current,s.context=Ts(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Nd.enqueueReplaceState(s,s.state,null),Jc(e,r,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $s(e,t){try{var r="",a=t;do r+=ZO(a),a=a.return;while(a);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Vm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ph(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kA=typeof WeakMap=="function"?WeakMap:Map;function U1(e,t,r){r=cn(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){tu||(tu=!0,Ch=a),ph(e,t)},r}function q1(e,t,r){r=cn(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;r.payload=function(){return a(s)},r.callback=function(){ph(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ph(e,t),typeof a!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function m0(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new kA;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(r)||(s.add(r),e=BA.bind(null,e,t,r),t.then(e,e))}function f0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function h0(e,t,r,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=cn(-1,1),t.tag=2,Kn(r,t,1))),r.lanes|=1),e)}var OA=wn.ReactCurrentOwner,Wt=!1;function $t(e,t,r,a){t.child=e===null?y1(t,null,r,a):Is(t,e.child,r,a)}function p0(e,t,r,a,s){r=r.render;var i=t.ref;return Ss(t,s),a=qx(e,t,r,a,i,s),r=Wx(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gn(e,t,s)):(Ke&&r&&Ex(t),t.flags|=1,$t(e,t,a,s),t.child)}function x0(e,t,r,a,s){if(e===null){var i=r.type;return typeof i=="function"&&!Zx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,W1(e,t,i,a,s)):(e=Dc(r.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:bo,r(o,a)&&e.ref===t.ref)return gn(e,t,s)}return t.flags|=1,e=Gn(i,a),e.ref=t.ref,e.return=t,t.child=e}function W1(e,t,r,a,s){if(e!==null){var i=e.memoizedProps;if(bo(i,a)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,gn(e,t,s)}return xh(e,t,r,a,s)}function K1(e,t,r){var a=t.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(xs,Xt),Xt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(xs,Xt),Xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,Le(xs,Xt),Xt|=a}else i!==null?(a=i.baseLanes|r,t.memoizedState=null):a=r,Le(xs,Xt),Xt|=a;return $t(e,t,s,r),t.child}function z1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xh(e,t,r,a,s){var i=Vt(r)?Ma:Mt.current;return i=Ts(t,i),Ss(t,s),r=qx(e,t,r,a,i,s),a=Wx(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gn(e,t,s)):(Ke&&a&&Ex(t),t.flags|=1,$t(e,t,r,s),t.child)}function y0(e,t,r,a,s){if(Vt(r)){var i=!0;zc(t)}else i=!1;if(Ss(t,s),t.stateNode===null)Tc(e,t),B1(t,r,a),hh(t,r,a,s),a=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=vr(u):(u=Vt(r)?Ma:Mt.current,u=Ts(t,u));var m=r.getDerivedStateFromProps,d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==u)&&d0(t,o,a,u),En=!1;var f=t.memoizedState;o.state=f,Jc(t,a,o,s),c=t.memoizedState,l!==a||f!==c||zt.current||En?(typeof m=="function"&&(fh(t,r,m,a),c=t.memoizedState),(l=En||u0(t,r,l,a,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=u,a=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,v1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Or(t.type,l),o.props=u,d=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=vr(c):(c=Vt(r)?Ma:Mt.current,c=Ts(t,c));var y=r.getDerivedStateFromProps;(m=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==c)&&d0(t,o,a,c),En=!1,f=t.memoizedState,o.state=f,Jc(t,a,o,s);var v=t.memoizedState;l!==d||f!==v||zt.current||En?(typeof y=="function"&&(fh(t,r,y,a),v=t.memoizedState),(u=En||u0(t,r,u,a,f,v,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=v),o.props=a,o.state=v,o.context=c,a=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return yh(e,t,r,a,i,s)}function yh(e,t,r,a,s,i){z1(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return s&&r0(t,r,!1),gn(e,t,i);a=t.stateNode,OA.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=Is(t,e.child,null,i),t.child=Is(t,null,l,i)):$t(e,t,l,i),t.memoizedState=a.state,s&&r0(t,r,!0),t.child}function V1(e){var t=e.stateNode;t.pendingContext?t0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&t0(e,t.context,!1),Lx(e,t.containerInfo)}function g0(e,t,r,a,s){return Ms(),Mx(s),t.flags|=256,$t(e,t,r,a),t.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function vh(e){return{baseLanes:e,cachePool:null,transitions:null}}function G1(e,t,r){var a=t.pendingProps,s=Ge.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Le(Ge,s&1),e===null)return dh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Cd(o,a,0,null),e=Pa(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vh(r),t.memoizedState=gh,e):Vx(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return PA(e,t,o,a,l,s,r);if(i){i=a.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=Gn(s,c),a.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Gn(l,i):(i=Pa(i,o,r,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o=o===null?vh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=gh,a}return i=e.child,e=i.sibling,a=Gn(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Vx(e,t){return t=Cd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zl(e,t,r,a){return a!==null&&Mx(a),Is(t,e.child,null,r),e=Vx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PA(e,t,r,a,s,i,o){if(r)return t.flags&256?(t.flags&=-257,a=Vm(Error(J(422))),Zl(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,s=t.mode,a=Cd({mode:"visible",children:a.children},s,0,null),i=Pa(i,s,o,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Is(t,e.child,null,o),t.child.memoizedState=vh(o),t.memoizedState=gh,i);if(!(t.mode&1))return Zl(e,t,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(J(419)),a=Vm(i,a,void 0),Zl(e,t,o,a)}if(l=(o&e.childLanes)!==0,Wt||l){if(a=yt,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yn(e,s),Lr(a,e,s,-1))}return Yx(),a=Vm(Error(J(421))),Zl(e,t,o,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=UA.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,er=Wn(s.nextSibling),rr=t,Ke=!0,Mr=null,e!==null&&(mr[fr++]=nn,mr[fr++]=an,mr[fr++]=Ia,nn=e.id,an=e.overflow,Ia=t),t=Vx(t,a.children),t.flags|=4096,t)}function v0(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),mh(e.return,t,r)}function Gm(e,t,r,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=s)}function H1(e,t,r){var a=t.pendingProps,s=a.revealOrder,i=a.tail;if($t(e,t,a.children,r),a=Ge.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&v0(e,r,t);else if(e.tag===19)v0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Le(Ge,a),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Xc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Gm(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Xc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Gm(t,!0,r,null,i);break;case"together":Gm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=Gn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function AA(e,t,r){switch(t.tag){case 3:V1(t),Ms();break;case 5:b1(t);break;case 1:Vt(t.type)&&zc(t);break;case 4:Lx(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;Le(Hc,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Le(Ge,Ge.current&1),t.flags|=128,null):r&t.child.childLanes?G1(e,t,r):(Le(Ge,Ge.current&1),e=gn(e,t,r),e!==null?e.sibling:null);Le(Ge,Ge.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return H1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Ge,Ge.current),a)break;return null;case 22:case 23:return t.lanes=0,K1(e,t,r)}return gn(e,t,r)}var Q1,bh,J1,X1;Q1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bh=function(){};J1=function(e,t,r,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,Na(Gr.current);var i=null;switch(r){case"input":s=qf(e,s),a=qf(e,a),i=[];break;case"select":s=Qe({},s,{value:void 0}),a=Qe({},a,{value:void 0}),i=[];break;case"textarea":s=zf(e,s),a=zf(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Wc)}Gf(r,a);var o;r=null;for(u in s)if(!a.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in a){var c=a[u];if(l=s!=null?s[u]:void 0,a.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};X1=function(e,t,r,a){r!==a&&(t.flags|=4)};function Mi(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function EA(e,t,r){var a=t.pendingProps;switch(Tx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Vt(t.type)&&Kc(),kt(t),null;case 3:return a=t.stateNode,Ds(),We(zt),We(Mt),Bx(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mr!==null&&(Ph(Mr),Mr=null))),bh(e,t),kt(t),null;case 5:Fx(t);var s=Na(Co.current);if(r=t.type,e!==null&&t.stateNode!=null)J1(e,t,r,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(J(166));return kt(t),null}if(e=Na(Gr.current),Xl(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[Kr]=t,a[wo]=i,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",a),Be("close",a);break;case"iframe":case"object":case"embed":Be("load",a);break;case"video":case"audio":for(s=0;s<Qi.length;s++)Be(Qi[s],a);break;case"source":Be("error",a);break;case"img":case"image":case"link":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"input":Pg(a,i),Be("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Be("invalid",a);break;case"textarea":Eg(a,i),Be("invalid",a)}Gf(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&Jl(a.textContent,l,e),s=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Jl(a.textContent,l,e),s=["children",""+l]):fo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Be("scroll",a)}switch(r){case"input":ql(a),Ag(a,i,!0);break;case"textarea":ql(a),Tg(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Wc)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),r==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[Kr]=t,e[wo]=a,Q1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hf(r,a),r){case"dialog":Be("cancel",e),Be("close",e),s=a;break;case"iframe":case"object":case"embed":Be("load",e),s=a;break;case"video":case"audio":for(s=0;s<Qi.length;s++)Be(Qi[s],e);s=a;break;case"source":Be("error",e),s=a;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=a;break;case"details":Be("toggle",e),s=a;break;case"input":Pg(e,a),s=qf(e,a),Be("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=Qe({},a,{value:void 0}),Be("invalid",e);break;case"textarea":Eg(e,a),s=zf(e,a),Be("invalid",e);break;default:s=a}Gf(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Pw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ho(e,c):typeof c=="number"&&ho(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Be("scroll",e):c!=null&&xx(e,i,c,o))}switch(r){case"input":ql(e),Ag(e,a,!1);break;case"textarea":ql(e),Tg(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Xn(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?bs(e,!!a.multiple,i,!1):a.defaultValue!=null&&bs(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wc)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)X1(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(J(166));if(r=Na(Co.current),Na(Gr.current),Xl(t)){if(a=t.stateNode,r=t.memoizedProps,a[Kr]=t,(i=a.nodeValue!==r)&&(e=rr,e!==null))switch(e.tag){case 3:Jl(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jl(a.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Kr]=t,t.stateNode=a}return kt(t),null;case 13:if(We(Ge),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&er!==null&&t.mode&1&&!(t.flags&128))p1(),Ms(),t.flags|=98560,i=!1;else if(i=Xl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(J(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[Kr]=t}else Ms(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),i=!1}else Mr!==null&&(Ph(Mr),Mr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?ut===0&&(ut=3):Yx())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return Ds(),bh(e,t),e===null&&jo(t.stateNode.containerInfo),kt(t),null;case 10:return $x(t.type._context),kt(t),null;case 17:return Vt(t.type)&&Kc(),kt(t),null;case 19:if(We(Ge),i=t.memoizedState,i===null)return kt(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)Mi(i,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xc(e),o!==null){for(t.flags|=128,Mi(i,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)i=r,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(Ge,Ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ye()>_s&&(t.flags|=128,a=!0,Mi(i,!1),t.lanes=4194304)}else{if(!a)if(e=Xc(o),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ke)return kt(t),null}else 2*Ye()-i.renderingStartTime>_s&&r!==1073741824&&(t.flags|=128,a=!0,Mi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,r=Ge.current,Le(Ge,a?r&1|2:r&1),t):(kt(t),null);case 22:case 23:return Xx(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Xt&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function TA(e,t){switch(Tx(t),t.tag){case 1:return Vt(t.type)&&Kc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ds(),We(zt),We(Mt),Bx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fx(t),null;case 13:if(We(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ge),null;case 4:return Ds(),null;case 10:return $x(t.type._context),null;case 22:case 23:return Xx(),null;case 24:return null;default:return null}}var ec=!1,Pt=!1,MA=typeof WeakSet=="function"?WeakSet:Set,se=null;function ps(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Je(e,t,a)}else r.current=null}function jh(e,t,r){try{r()}catch(a){Je(e,t,a)}}var b0=!1;function IA(e,t){if(ah=Bc,e=r1(),Ax(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,m=0,d=e,f=null;t:for(;;){for(var y;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||a!==0&&d.nodeType!==3||(c=o+a),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===e)break t;if(f===r&&++u===s&&(l=o),f===i&&++m===a&&(c=o),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(sh={focusedElem:e,selectionRange:r},Bc=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var h=v.memoizedProps,g=v.memoizedState,b=t.stateNode,N=b.getSnapshotBeforeUpdate(t.elementType===t.type?h:Or(t.type,h),g);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(j){Je(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return v=b0,b0=!1,v}function ao(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&jh(t,r,i)}s=s.next}while(s!==a)}}function wd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function Nh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Y1(e){var t=e.alternate;t!==null&&(e.alternate=null,Y1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[wo],delete t[lh],delete t[pA],delete t[xA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Z1(e){return e.tag===5||e.tag===3||e.tag===4}function j0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Z1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wh(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wc));else if(a!==4&&(e=e.child,e!==null))for(wh(e,t,r),e=e.sibling;e!==null;)wh(e,t,r),e=e.sibling}function Sh(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Sh(e,t,r),e=e.sibling;e!==null;)Sh(e,t,r),e=e.sibling}var jt=null,Pr=!1;function Pn(e,t,r){for(r=r.child;r!==null;)eS(e,t,r),r=r.sibling}function eS(e,t,r){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(pd,r)}catch{}switch(r.tag){case 5:Pt||ps(r,t);case 6:var a=jt,s=Pr;jt=null,Pn(e,t,r),jt=a,Pr=s,jt!==null&&(Pr?(e=jt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):jt.removeChild(r.stateNode));break;case 18:jt!==null&&(Pr?(e=jt,r=r.stateNode,e.nodeType===8?Bm(e.parentNode,r):e.nodeType===1&&Bm(e,r),go(e)):Bm(jt,r.stateNode));break;case 4:a=jt,s=Pr,jt=r.stateNode.containerInfo,Pr=!0,Pn(e,t,r),jt=a,Pr=s;break;case 0:case 11:case 14:case 15:if(!Pt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jh(r,t,o),s=s.next}while(s!==a)}Pn(e,t,r);break;case 1:if(!Pt&&(ps(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(l){Je(r,t,l)}Pn(e,t,r);break;case 21:Pn(e,t,r);break;case 22:r.mode&1?(Pt=(a=Pt)||r.memoizedState!==null,Pn(e,t,r),Pt=a):Pn(e,t,r);break;default:Pn(e,t,r)}}function N0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new MA),t.forEach(function(a){var s=qA.bind(null,e,a);r.has(a)||(r.add(a),a.then(s,s))})}}function Cr(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var s=r[a];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:jt=l.stateNode,Pr=!1;break e;case 3:jt=l.stateNode.containerInfo,Pr=!0;break e;case 4:jt=l.stateNode.containerInfo,Pr=!0;break e}l=l.return}if(jt===null)throw Error(J(160));eS(i,o,s),jt=null,Pr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tS(t,e),t=t.sibling}function tS(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cr(t,e),qr(e),a&4){try{ao(3,e,e.return),wd(3,e)}catch(h){Je(e,e.return,h)}try{ao(5,e,e.return)}catch(h){Je(e,e.return,h)}}break;case 1:Cr(t,e),qr(e),a&512&&r!==null&&ps(r,r.return);break;case 5:if(Cr(t,e),qr(e),a&512&&r!==null&&ps(r,r.return),e.flags&32){var s=e.stateNode;try{ho(s,"")}catch(h){Je(e,e.return,h)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ww(s,i),Hf(l,o);var u=Hf(l,i);for(o=0;o<c.length;o+=2){var m=c[o],d=c[o+1];m==="style"?Pw(s,d):m==="dangerouslySetInnerHTML"?kw(s,d):m==="children"?ho(s,d):xx(s,m,d,u)}switch(l){case"input":Wf(s,i);break;case"textarea":Sw(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?bs(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?bs(s,!!i.multiple,i.defaultValue,!0):bs(s,!!i.multiple,i.multiple?[]:"",!1))}s[wo]=i}catch(h){Je(e,e.return,h)}}break;case 6:if(Cr(t,e),qr(e),a&4){if(e.stateNode===null)throw Error(J(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(h){Je(e,e.return,h)}}break;case 3:if(Cr(t,e),qr(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{go(t.containerInfo)}catch(h){Je(e,e.return,h)}break;case 4:Cr(t,e),qr(e);break;case 13:Cr(t,e),qr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Qx=Ye())),a&4&&N0(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||m,Cr(t,e),Pt=u):Cr(t,e),qr(e),a&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(se=e,m=e.child;m!==null;){for(d=se=m;se!==null;){switch(f=se,y=f.child,f.tag){case 0:case 11:case 14:case 15:ao(4,f,f.return);break;case 1:ps(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){a=f,r=f.return;try{t=a,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(h){Je(a,r,h)}}break;case 5:ps(f,f.return);break;case 22:if(f.memoizedState!==null){S0(d);continue}}y!==null?(y.return=f,se=y):S0(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ow("display",o))}catch(h){Je(e,e.return,h)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(h){Je(e,e.return,h)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Cr(t,e),qr(e),a&4&&N0(e);break;case 21:break;default:Cr(t,e),qr(e)}}function qr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Z1(r)){var a=r;break e}r=r.return}throw Error(J(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(ho(s,""),a.flags&=-33);var i=j0(e);Sh(e,i,s);break;case 3:case 4:var o=a.stateNode.containerInfo,l=j0(e);wh(e,l,o);break;default:throw Error(J(161))}}catch(c){Je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DA(e,t,r){se=e,rS(e)}function rS(e,t,r){for(var a=(e.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||ec;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Pt;l=ec;var u=Pt;if(ec=o,(Pt=c)&&!u)for(se=s;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?C0(s):c!==null?(c.return=o,se=c):C0(s);for(;i!==null;)se=i,rS(i),i=i.sibling;se=s,ec=l,Pt=u}w0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):w0(e)}}function w0(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||wd(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Pt)if(r===null)a.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Or(t.type,r.memoizedProps);a.componentDidUpdate(s,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&o0(t,i,a);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}o0(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&go(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Pt||t.flags&512&&Nh(t)}catch(f){Je(t,t.return,f)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function S0(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function C0(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wd(4,t)}catch(c){Je(t,r,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(c){Je(t,s,c)}}var i=t.return;try{Nh(t)}catch(c){Je(t,i,c)}break;case 5:var o=t.return;try{Nh(t)}catch(c){Je(t,o,c)}}}catch(c){Je(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var $A=Math.ceil,eu=wn.ReactCurrentDispatcher,Gx=wn.ReactCurrentOwner,xr=wn.ReactCurrentBatchConfig,Ce=0,yt=null,rt=null,wt=0,Xt=0,xs=ta(0),ut=0,Ao=null,$a=0,Sd=0,Hx=0,so=null,qt=null,Qx=0,_s=1/0,tn=null,tu=!1,Ch=null,zn=null,tc=!1,_n=null,ru=0,io=0,kh=null,Mc=-1,Ic=0;function Rt(){return Ce&6?Ye():Mc!==-1?Mc:Mc=Ye()}function Vn(e){return e.mode&1?Ce&2&&wt!==0?wt&-wt:gA.transition!==null?(Ic===0&&(Ic=Bw()),Ic):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Gw(e.type)),e):1}function Lr(e,t,r,a){if(50<io)throw io=0,kh=null,Error(J(185));jl(e,r,a),(!(Ce&2)||e!==yt)&&(e===yt&&(!(Ce&2)&&(Sd|=r),ut===4&&In(e,wt)),Gt(e,a),r===1&&Ce===0&&!(t.mode&1)&&(_s=Ye()+500,bd&&ra()))}function Gt(e,t){var r=e.callbackNode;gP(e,t);var a=Fc(e,e===yt?wt:0);if(a===0)r!==null&&Dg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&Dg(r),t===1)e.tag===0?yA(k0.bind(null,e)):m1(k0.bind(null,e)),fA(function(){!(Ce&6)&&ra()}),r=null;else{switch(Uw(a)){case 1:r=jx;break;case 4:r=Lw;break;case 16:r=Lc;break;case 536870912:r=Fw;break;default:r=Lc}r=uS(r,nS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nS(e,t){if(Mc=-1,Ic=0,Ce&6)throw Error(J(327));var r=e.callbackNode;if(Cs()&&e.callbackNode!==r)return null;var a=Fc(e,e===yt?wt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=nu(e,a);else{t=a;var s=Ce;Ce|=2;var i=sS();(yt!==e||wt!==t)&&(tn=null,_s=Ye()+500,Oa(e,t));do try{LA();break}catch(l){aS(e,l)}while(1);Dx(),eu.current=i,Ce=s,rt!==null?t=0:(yt=null,wt=0,t=ut)}if(t!==0){if(t===2&&(s=Zf(e),s!==0&&(a=s,t=Oh(e,s))),t===1)throw r=Ao,Oa(e,0),In(e,a),Gt(e,Ye()),r;if(t===6)In(e,a);else{if(s=e.current.alternate,!(a&30)&&!_A(s)&&(t=nu(e,a),t===2&&(i=Zf(e),i!==0&&(a=i,t=Oh(e,i))),t===1))throw r=Ao,Oa(e,0),In(e,a),Gt(e,Ye()),r;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(J(345));case 2:ha(e,qt,tn);break;case 3:if(In(e,a),(a&130023424)===a&&(t=Qx+500-Ye(),10<t)){if(Fc(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){Rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=oh(ha.bind(null,e,qt,tn),t);break}ha(e,qt,tn);break;case 4:if(In(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var o=31-Rr(a);i=1<<o,o=t[o],o>s&&(s=o),a&=~i}if(a=s,a=Ye()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*$A(a/1960))-a,10<a){e.timeoutHandle=oh(ha.bind(null,e,qt,tn),a);break}ha(e,qt,tn);break;case 5:ha(e,qt,tn);break;default:throw Error(J(329))}}}return Gt(e,Ye()),e.callbackNode===r?nS.bind(null,e):null}function Oh(e,t){var r=so;return e.current.memoizedState.isDehydrated&&(Oa(e,t).flags|=256),e=nu(e,t),e!==2&&(t=qt,qt=r,t!==null&&Ph(t)),e}function Ph(e){qt===null?qt=e:qt.push.apply(qt,e)}function _A(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var s=r[a],i=s.getSnapshot;s=s.value;try{if(!Fr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function In(e,t){for(t&=~Hx,t&=~Sd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rr(t),a=1<<r;e[r]=-1,t&=~a}}function k0(e){if(Ce&6)throw Error(J(327));Cs();var t=Fc(e,0);if(!(t&1))return Gt(e,Ye()),null;var r=nu(e,t);if(e.tag!==0&&r===2){var a=Zf(e);a!==0&&(t=a,r=Oh(e,a))}if(r===1)throw r=Ao,Oa(e,0),In(e,t),Gt(e,Ye()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ha(e,qt,tn),Gt(e,Ye()),null}function Jx(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(_s=Ye()+500,bd&&ra())}}function _a(e){_n!==null&&_n.tag===0&&!(Ce&6)&&Cs();var t=Ce;Ce|=1;var r=xr.transition,a=Ae;try{if(xr.transition=null,Ae=1,e)return e()}finally{Ae=a,xr.transition=r,Ce=t,!(Ce&6)&&ra()}}function Xx(){Xt=xs.current,We(xs)}function Oa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mA(r)),rt!==null)for(r=rt.return;r!==null;){var a=r;switch(Tx(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Kc();break;case 3:Ds(),We(zt),We(Mt),Bx();break;case 5:Fx(a);break;case 4:Ds();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:$x(a.type._context);break;case 22:case 23:Xx()}r=r.return}if(yt=e,rt=e=Gn(e.current,null),wt=Xt=t,ut=0,Ao=null,Hx=Sd=$a=0,qt=so=null,ja!==null){for(t=0;t<ja.length;t++)if(r=ja[t],a=r.interleaved,a!==null){r.interleaved=null;var s=a.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,a.next=o}r.pending=a}ja=null}return e}function aS(e,t){do{var r=rt;try{if(Dx(),Ac.current=Zc,Yc){for(var a=He.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Yc=!1}if(Da=0,xt=lt=He=null,no=!1,ko=0,Gx.current=null,r===null||r.return===null){ut=1,Ao=t,rt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=wt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=l,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var f=m.alternate;f?(m.updateQueue=f.updateQueue,m.memoizedState=f.memoizedState,m.lanes=f.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=f0(o);if(y!==null){y.flags&=-257,h0(y,o,l,i,t),y.mode&1&&m0(i,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var h=new Set;h.add(c),t.updateQueue=h}else v.add(c);break e}else{if(!(t&1)){m0(i,u,t),Yx();break e}c=Error(J(426))}}else if(Ke&&l.mode&1){var g=f0(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),h0(g,o,l,i,t),Mx($s(c,l));break e}}i=c=$s(c,l),ut!==4&&(ut=2),so===null?so=[i]:so.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=U1(i,c,t);i0(i,b);break e;case 1:l=c;var N=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof N.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zn===null||!zn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=q1(i,l,t);i0(i,j);break e}}i=i.return}while(i!==null)}oS(r)}catch(p){t=p,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(1)}function sS(){var e=eu.current;return eu.current=Zc,e===null?Zc:e}function Yx(){(ut===0||ut===3||ut===2)&&(ut=4),yt===null||!($a&268435455)&&!(Sd&268435455)||In(yt,wt)}function nu(e,t){var r=Ce;Ce|=2;var a=sS();(yt!==e||wt!==t)&&(tn=null,Oa(e,t));do try{RA();break}catch(s){aS(e,s)}while(1);if(Dx(),Ce=r,eu.current=a,rt!==null)throw Error(J(261));return yt=null,wt=0,ut}function RA(){for(;rt!==null;)iS(rt)}function LA(){for(;rt!==null&&!cP();)iS(rt)}function iS(e){var t=cS(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?oS(e):rt=t,Gx.current=null}function oS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=TA(r,t),r!==null){r.flags&=32767,rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,rt=null;return}}else if(r=EA(r,t,Xt),r!==null){rt=r;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ut===0&&(ut=5)}function ha(e,t,r){var a=Ae,s=xr.transition;try{xr.transition=null,Ae=1,FA(e,t,r,a)}finally{xr.transition=s,Ae=a}return null}function FA(e,t,r,a){do Cs();while(_n!==null);if(Ce&6)throw Error(J(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(vP(e,i),e===yt&&(rt=yt=null,wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tc||(tc=!0,uS(Lc,function(){return Cs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xr.transition,xr.transition=null;var o=Ae;Ae=1;var l=Ce;Ce|=4,Gx.current=null,IA(e,r),tS(r,e),sA(sh),Bc=!!ah,sh=ah=null,e.current=r,DA(r),uP(),Ce=l,Ae=o,xr.transition=i}else e.current=r;if(tc&&(tc=!1,_n=e,ru=s),i=e.pendingLanes,i===0&&(zn=null),fP(r.stateNode),Gt(e,Ye()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],a(s.value,{componentStack:s.stack,digest:s.digest});if(tu)throw tu=!1,e=Ch,Ch=null,e;return ru&1&&e.tag!==0&&Cs(),i=e.pendingLanes,i&1?e===kh?io++:(io=0,kh=e):io=0,ra(),null}function Cs(){if(_n!==null){var e=Uw(ru),t=xr.transition,r=Ae;try{if(xr.transition=null,Ae=16>e?16:e,_n===null)var a=!1;else{if(e=_n,_n=null,ru=0,Ce&6)throw Error(J(331));var s=Ce;for(Ce|=4,se=e.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var m=se;switch(m.tag){case 0:case 11:case 15:ao(8,m,i)}var d=m.child;if(d!==null)d.return=m,se=d;else for(;se!==null;){m=se;var f=m.sibling,y=m.return;if(Y1(m),m===u){se=null;break}if(f!==null){f.return=y,se=f;break}se=y}}}var v=i.alternate;if(v!==null){var h=v.child;if(h!==null){v.child=null;do{var g=h.sibling;h.sibling=null,h=g}while(h!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ao(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,se=b;break e}se=i.return}}var N=e.current;for(se=N;se!==null;){o=se;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,se=x;else e:for(o=N;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wd(9,l)}}catch(p){Je(l,l.return,p)}if(l===o){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(Ce=s,ra(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(pd,e)}catch{}a=!0}return a}finally{Ae=r,xr.transition=t}}return!1}function O0(e,t,r){t=$s(r,t),t=U1(e,t,1),e=Kn(e,t,1),t=Rt(),e!==null&&(jl(e,1,t),Gt(e,t))}function Je(e,t,r){if(e.tag===3)O0(e,e,r);else for(;t!==null;){if(t.tag===3){O0(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(zn===null||!zn.has(a))){e=$s(r,e),e=q1(t,e,1),t=Kn(t,e,1),e=Rt(),t!==null&&(jl(t,1,e),Gt(t,e));break}}t=t.return}}function BA(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&r,yt===e&&(wt&r)===r&&(ut===4||ut===3&&(wt&130023424)===wt&&500>Ye()-Qx?Oa(e,0):Hx|=r),Gt(e,t)}function lS(e,t){t===0&&(e.mode&1?(t=zl,zl<<=1,!(zl&130023424)&&(zl=4194304)):t=1);var r=Rt();e=yn(e,t),e!==null&&(jl(e,t,r),Gt(e,r))}function UA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lS(e,r)}function qA(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(J(314))}a!==null&&a.delete(t),lS(e,r)}var cS;cS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)Wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wt=!1,AA(e,t,r);Wt=!!(e.flags&131072)}else Wt=!1,Ke&&t.flags&1048576&&f1(t,Gc,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Tc(e,t),e=t.pendingProps;var s=Ts(t,Mt.current);Ss(t,r),s=qx(null,t,a,e,s,r);var i=Wx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vt(a)?(i=!0,zc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rx(t),s.updater=Nd,t.stateNode=s,s._reactInternals=t,hh(t,a,e,r),t=yh(null,t,a,!0,i,r)):(t.tag=0,Ke&&i&&Ex(t),$t(null,t,s,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Tc(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=KA(a),e=Or(a,e),s){case 0:t=xh(null,t,a,e,r);break e;case 1:t=y0(null,t,a,e,r);break e;case 11:t=p0(null,t,a,e,r);break e;case 14:t=x0(null,t,a,Or(a.type,e),r);break e}throw Error(J(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Or(a,s),xh(e,t,a,s,r);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Or(a,s),y0(e,t,a,s,r);case 3:e:{if(V1(t),e===null)throw Error(J(387));a=t.pendingProps,i=t.memoizedState,s=i.element,v1(e,t),Jc(t,a,null,r);var o=t.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=$s(Error(J(423)),t),t=g0(e,t,a,r,s);break e}else if(a!==s){s=$s(Error(J(424)),t),t=g0(e,t,a,r,s);break e}else for(er=Wn(t.stateNode.containerInfo.firstChild),rr=t,Ke=!0,Mr=null,r=y1(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ms(),a===s){t=gn(e,t,r);break e}$t(e,t,a,r)}t=t.child}return t;case 5:return b1(t),e===null&&dh(t),a=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ih(a,s)?o=null:i!==null&&ih(a,i)&&(t.flags|=32),z1(e,t),$t(e,t,o,r),t.child;case 6:return e===null&&dh(t),null;case 13:return G1(e,t,r);case 4:return Lx(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Is(t,null,a,r):$t(e,t,a,r),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Or(a,s),p0(e,t,a,s,r);case 7:return $t(e,t,t.pendingProps,r),t.child;case 8:return $t(e,t,t.pendingProps.children,r),t.child;case 12:return $t(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Le(Hc,a._currentValue),a._currentValue=o,i!==null)if(Fr(i.value,o)){if(i.children===s.children&&!zt.current){t=gn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=cn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),mh(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),mh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Ss(t,r),s=vr(s),a=a(s),t.flags|=1,$t(e,t,a,r),t.child;case 14:return a=t.type,s=Or(a,t.pendingProps),s=Or(a.type,s),x0(e,t,a,s,r);case 15:return W1(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Or(a,s),Tc(e,t),t.tag=1,Vt(a)?(e=!0,zc(t)):e=!1,Ss(t,r),B1(t,a,s),hh(t,a,s,r),yh(null,t,a,!0,e,r);case 19:return H1(e,t,r);case 22:return K1(e,t,r)}throw Error(J(156,t.tag))};function uS(e,t){return Rw(e,t)}function WA(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(e,t,r,a){return new WA(e,t,r,a)}function Zx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KA(e){if(typeof e=="function")return Zx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gx)return 11;if(e===vx)return 14}return 2}function Gn(e,t){var r=e.alternate;return r===null?(r=hr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dc(e,t,r,a,s,i){var o=2;if(a=e,typeof e=="function")Zx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case is:return Pa(r.children,s,i,t);case yx:o=8,s|=8;break;case Lf:return e=hr(12,r,t,s|2),e.elementType=Lf,e.lanes=i,e;case Ff:return e=hr(13,r,t,s),e.elementType=Ff,e.lanes=i,e;case Bf:return e=hr(19,r,t,s),e.elementType=Bf,e.lanes=i,e;case bw:return Cd(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gw:o=10;break e;case vw:o=9;break e;case gx:o=11;break e;case vx:o=14;break e;case An:o=16,a=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=hr(o,r,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Pa(e,t,r,a){return e=hr(7,e,a,t),e.lanes=r,e}function Cd(e,t,r,a){return e=hr(22,e,a,t),e.elementType=bw,e.lanes=r,e.stateNode={isHidden:!1},e}function Hm(e,t,r){return e=hr(6,e,null,t),e.lanes=r,e}function Qm(e,t,r){return t=hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zA(e,t,r,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Am(0),this.expirationTimes=Am(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Am(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ey(e,t,r,a,s,i,o,l,c){return e=new zA(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=hr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rx(i),e}function VA(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ss,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function dS(e){if(!e)return Yn;e=e._reactInternals;e:{if(za(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(Vt(r))return d1(e,r,t)}return t}function mS(e,t,r,a,s,i,o,l,c){return e=ey(r,a,!0,e,s,i,o,l,c),e.context=dS(null),r=e.current,a=Rt(),s=Vn(r),i=cn(a,s),i.callback=t??null,Kn(r,i,s),e.current.lanes=s,jl(e,s,a),Gt(e,a),e}function kd(e,t,r,a){var s=t.current,i=Rt(),o=Vn(s);return r=dS(r),t.context===null?t.context=r:t.pendingContext=r,t=cn(i,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Kn(s,t,o),e!==null&&(Lr(e,s,o,i),Pc(e,s,o)),o}function au(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function P0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ty(e,t){P0(e,t),(e=e.alternate)&&P0(e,t)}function GA(){return null}var fS=typeof reportError=="function"?reportError:function(e){console.error(e)};function ry(e){this._internalRoot=e}Od.prototype.render=ry.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));kd(e,t,null,null)};Od.prototype.unmount=ry.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_a(function(){kd(null,e,null,null)}),t[xn]=null}};function Od(e){this._internalRoot=e}Od.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mn.length&&t!==0&&t<Mn[r].priority;r++);Mn.splice(r,0,e),r===0&&Vw(e)}};function ny(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function A0(){}function HA(e,t,r,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var u=au(o);i.call(u)}}var o=mS(t,a,e,0,null,!1,!1,"",A0);return e._reactRootContainer=o,e[xn]=o.current,jo(e.nodeType===8?e.parentNode:e),_a(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var l=a;a=function(){var u=au(c);l.call(u)}}var c=ey(e,0,!1,null,null,!1,!1,"",A0);return e._reactRootContainer=c,e[xn]=c.current,jo(e.nodeType===8?e.parentNode:e),_a(function(){kd(t,c,r,a)}),c}function Ad(e,t,r,a,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=au(o);l.call(c)}}kd(t,o,e,s)}else o=HA(r,t,e,s,a);return au(o)}qw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Hi(t.pendingLanes);r!==0&&(Nx(t,r|1),Gt(t,Ye()),!(Ce&6)&&(_s=Ye()+500,ra()))}break;case 13:_a(function(){var a=yn(e,1);if(a!==null){var s=Rt();Lr(a,e,1,s)}}),ty(e,1)}};wx=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var r=Rt();Lr(t,e,134217728,r)}ty(e,134217728)}};Ww=function(e){if(e.tag===13){var t=Vn(e),r=yn(e,t);if(r!==null){var a=Rt();Lr(r,e,t,a)}ty(e,t)}};Kw=function(){return Ae};zw=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};Jf=function(e,t,r){switch(t){case"input":if(Wf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=vd(a);if(!s)throw Error(J(90));Nw(a),Wf(a,s)}}}break;case"textarea":Sw(e,r);break;case"select":t=r.value,t!=null&&bs(e,!!r.multiple,t,!1)}};Tw=Jx;Mw=_a;var QA={usingClientEntryPoint:!1,Events:[wl,us,vd,Aw,Ew,Jx]},Ii={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JA={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$w(e),e===null?null:e.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance||GA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{pd=rc.inject(JA),Vr=rc}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QA;ir.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ny(t))throw Error(J(200));return VA(e,t,null,r)};ir.createRoot=function(e,t){if(!ny(e))throw Error(J(299));var r=!1,a="",s=fS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ey(e,1,!1,null,null,r,!1,a,s),e[xn]=t.current,jo(e.nodeType===8?e.parentNode:e),new ry(t)};ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=$w(t),e=e===null?null:e.stateNode,e};ir.flushSync=function(e){return _a(e)};ir.hydrate=function(e,t,r){if(!Pd(t))throw Error(J(200));return Ad(null,e,t,!0,r)};ir.hydrateRoot=function(e,t,r){if(!ny(e))throw Error(J(405));var a=r!=null&&r.hydratedSources||null,s=!1,i="",o=fS;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=mS(t,null,e,1,r??null,s,!1,i,o),e[xn]=t.current,jo(e),a)for(e=0;e<a.length;e++)r=a[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Od(t)};ir.render=function(e,t,r){if(!Pd(t))throw Error(J(200));return Ad(null,e,t,!1,r)};ir.unmountComponentAtNode=function(e){if(!Pd(e))throw Error(J(40));return e._reactRootContainer?(_a(function(){Ad(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};ir.unstable_batchedUpdates=Jx;ir.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Pd(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Ad(e,t,r,!1,a)};ir.version="18.3.1-next-f1338f8080-20240426";function hS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hS)}catch(e){console.error(e)}}hS(),hw.exports=ir;var XA=hw.exports,E0=XA;_f.createRoot=E0.createRoot,_f.hydrateRoot=E0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Eo.apply(this,arguments)}var Rn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rn||(Rn={}));const T0="popstate";function YA(e){e===void 0&&(e={});function t(a,s){let{pathname:i,search:o,hash:l}=a.location;return Ah("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:su(s)}return e4(t,r,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZA(){return Math.random().toString(36).substr(2,8)}function M0(e,t){return{usr:e.state,key:e.key,idx:t}}function Ah(e,t,r,a){return r===void 0&&(r=null),Eo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?di(t):t,{state:r,key:t&&t.key||a||ZA()})}function su(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function di(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function e4(e,t,r,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l=Rn.Pop,c=null,u=m();u==null&&(u=0,o.replaceState(Eo({},o.state,{idx:u}),""));function m(){return(o.state||{idx:null}).idx}function d(){l=Rn.Pop;let g=m(),b=g==null?null:g-u;u=g,c&&c({action:l,location:h.location,delta:b})}function f(g,b){l=Rn.Push;let N=Ah(h.location,g,b);r&&r(N,g),u=m()+1;let x=M0(N,u),j=h.createHref(N);try{o.pushState(x,"",j)}catch(p){if(p instanceof DOMException&&p.name==="DataCloneError")throw p;s.location.assign(j)}i&&c&&c({action:l,location:h.location,delta:1})}function y(g,b){l=Rn.Replace;let N=Ah(h.location,g,b);r&&r(N,g),u=m();let x=M0(N,u),j=h.createHref(N);o.replaceState(x,"",j),i&&c&&c({action:l,location:h.location,delta:0})}function v(g){let b=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof g=="string"?g:su(g);return N=N.replace(/ $/,"%20"),nt(b,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,b)}let h={get action(){return l},get location(){return e(s,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(T0,d),c=g,()=>{s.removeEventListener(T0,d),c=null}},createHref(g){return t(s,g)},createURL:v,encodeLocation(g){let b=v(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:y,go(g){return o.go(g)}};return h}var I0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(I0||(I0={}));function t4(e,t,r){return r===void 0&&(r="/"),r4(e,t,r,!1)}function r4(e,t,r,a){let s=typeof t=="string"?di(t):t,i=ay(s.pathname||"/",r);if(i==null)return null;let o=xS(e);n4(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=h4(i);l=m4(o[c],u,a)}return l}function xS(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(nt(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=Hn([a,c.relativePath]),m=r.concat(c);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xS(i.children,t,m,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:u4(u,i.index),routesMeta:m})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of yS(i.path))s(i,o,c)}),t}function yS(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=yS(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function n4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:d4(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const a4=/^:[\w-]+$/,s4=3,i4=2,o4=1,l4=10,c4=-2,D0=e=>e==="*";function u4(e,t){let r=e.split("/"),a=r.length;return r.some(D0)&&(a+=c4),t&&(a+=i4),r.filter(s=>!D0(s)).reduce((s,i)=>s+(a4.test(i)?s4:i===""?o4:l4),a)}function d4(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function m4(e,t,r){r===void 0&&(r=!1);let{routesMeta:a}=e,s={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],u=l===a.length-1,m=i==="/"?t:t.slice(i.length)||"/",d=$0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},m),f=c.route;if(!d&&u&&r&&!a[a.length-1].route.index&&(d=$0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Hn([i,d.pathname]),pathnameBase:g4(Hn([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Hn([i,d.pathnameBase]))}return o}function $0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=f4(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((u,m,d)=>{let{paramName:f,isOptional:y}=m;if(f==="*"){let h=l[d]||"";o=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}const v=l[d];return y&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function f4(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),pS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function h4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ay(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function p4(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?di(e):e;return{pathname:r?r.startsWith("/")?r:x4(r,t):t,search:v4(a),hash:b4(s)}}function x4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Jm(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gS(e,t){let r=y4(e);return t?r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function vS(e,t,r,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=di(e):(s=Eo({},e),nt(!s.pathname||!s.pathname.includes("?"),Jm("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Jm("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Jm("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!a&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}l=d>=0?t[d]:"/"}let c=p4(s,l),u=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||m)&&(c.pathname+="/"),c}const Hn=e=>e.join("/").replace(/\/\/+/g,"/"),g4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,b4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function j4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bS=["post","put","patch","delete"];new Set(bS);const N4=["get",...bS];new Set(N4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},To.apply(this,arguments)}const sy=k.createContext(null),w4=k.createContext(null),Va=k.createContext(null),Ed=k.createContext(null),na=k.createContext({outlet:null,matches:[],isDataRoute:!1}),jS=k.createContext(null);function S4(e,t){let{relative:r}=t===void 0?{}:t;Cl()||nt(!1);let{basename:a,navigator:s}=k.useContext(Va),{hash:i,pathname:o,search:l}=wS(e,{relative:r}),c=o;return a!=="/"&&(c=o==="/"?a:Hn([a,o])),s.createHref({pathname:c,search:l,hash:i})}function Cl(){return k.useContext(Ed)!=null}function lr(){return Cl()||nt(!1),k.useContext(Ed).location}function NS(e){k.useContext(Va).static||k.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=k.useContext(na);return e?R4():C4()}function C4(){Cl()||nt(!1);let e=k.useContext(sy),{basename:t,future:r,navigator:a}=k.useContext(Va),{matches:s}=k.useContext(na),{pathname:i}=lr(),o=JSON.stringify(gS(s,r.v7_relativeSplatPath)),l=k.useRef(!1);return NS(()=>{l.current=!0}),k.useCallback(function(u,m){if(m===void 0&&(m={}),!l.current)return;if(typeof u=="number"){a.go(u);return}let d=vS(u,JSON.parse(o),i,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Hn([t,d.pathname])),(m.replace?a.replace:a.push)(d,m.state,m)},[t,a,o,i,e])}function aa(){let{matches:e}=k.useContext(na),t=e[e.length-1];return t?t.params:{}}function wS(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=k.useContext(Va),{matches:s}=k.useContext(na),{pathname:i}=lr(),o=JSON.stringify(gS(s,a.v7_relativeSplatPath));return k.useMemo(()=>vS(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function k4(e,t){return O4(e,t)}function O4(e,t,r,a){Cl()||nt(!1);let{navigator:s}=k.useContext(Va),{matches:i}=k.useContext(na),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=lr(),m;if(t){var d;let g=typeof t=="string"?di(t):t;c==="/"||(d=g.pathname)!=null&&d.startsWith(c)||nt(!1),m=g}else m=u;let f=m.pathname||"/",y=f;if(c!=="/"){let g=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=t4(e,{pathname:y}),h=M4(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Hn([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Hn([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,a);return t&&h?k.createElement(Ed.Provider,{value:{location:To({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Rn.Pop}},h):h}function P4(){let e=_4(),t=j4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,i)}const A4=k.createElement(P4,null);class E4 extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(na.Provider,{value:this.props.routeContext},k.createElement(jS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T4(e){let{routeContext:t,match:r,children:a}=e,s=k.useContext(sy);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(na.Provider,{value:t},a)}function M4(e,t,r,a){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let m=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);m>=0||nt(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let m=0;m<o.length;m++){let d=o[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=m),d.route.id){let{loaderData:f,errors:y}=r,v=d.route.loader&&f[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((m,d,f)=>{let y,v=!1,h=null,g=null;r&&(y=l&&d.route.id?l[d.route.id]:void 0,h=d.route.errorElement||A4,c&&(u<0&&f===0?(L4("route-fallback",!1),v=!0,g=null):u===f&&(v=!0,g=d.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,f+1)),N=()=>{let x;return y?x=h:v?x=g:d.route.Component?x=k.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=m,k.createElement(T4,{match:d,routeContext:{outlet:m,matches:b,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(E4,{location:r.location,revalidation:r.revalidation,component:h,error:y,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):N()},null)}var SS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(SS||{}),iu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(iu||{});function I4(e){let t=k.useContext(sy);return t||nt(!1),t}function D4(e){let t=k.useContext(w4);return t||nt(!1),t}function $4(e){let t=k.useContext(na);return t||nt(!1),t}function CS(e){let t=$4(),r=t.matches[t.matches.length-1];return r.route.id||nt(!1),r.route.id}function _4(){var e;let t=k.useContext(jS),r=D4(iu.UseRouteError),a=CS(iu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function R4(){let{router:e}=I4(SS.UseNavigateStable),t=CS(iu.UseNavigateStable),r=k.useRef(!1);return NS(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,To({fromRouteId:t},i)))},[e,t])}const _0={};function L4(e,t,r){!t&&!_0[e]&&(_0[e]=!0)}function F4(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function oe(e){nt(!1)}function B4(e){let{basename:t="/",children:r=null,location:a,navigationType:s=Rn.Pop,navigator:i,static:o=!1,future:l}=e;Cl()&&nt(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:i,static:o,future:To({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof a=="string"&&(a=di(a));let{pathname:m="/",search:d="",hash:f="",state:y=null,key:v="default"}=a,h=k.useMemo(()=>{let g=ay(m,c);return g==null?null:{location:{pathname:g,search:d,hash:f,state:y,key:v},navigationType:s}},[c,m,d,f,y,v,s]);return h==null?null:k.createElement(Va.Provider,{value:u},k.createElement(Ed.Provider,{children:r,value:h}))}function U4(e){let{children:t,location:r}=e;return k4(Eh(t),r)}new Promise(()=>{});function Eh(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(a,s)=>{if(!k.isValidElement(a))return;let i=[...t,s];if(a.type===k.Fragment){r.push.apply(r,Eh(a.props.children,i));return}a.type!==oe&&nt(!1),!a.props.index||!a.props.children||nt(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Eh(a.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Th.apply(this,arguments)}function q4(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function W4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function K4(e,t){return e.button===0&&(!t||t==="_self")&&!W4(e)}const z4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V4="6";try{window.__reactRouterVersion=V4}catch{}const G4="startTransition",R0=BO[G4];function H4(e){let{basename:t,children:r,future:a,window:s}=e,i=k.useRef();i.current==null&&(i.current=YA({window:s,v5Compat:!0}));let o=i.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=a||{},m=k.useCallback(d=>{u&&R0?R0(()=>c(d)):c(d)},[c,u]);return k.useLayoutEffect(()=>o.listen(m),[o,m]),k.useEffect(()=>F4(a),[a]),k.createElement(B4,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:a})}const Q4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=k.forwardRef(function(t,r){let{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:m,viewTransition:d}=t,f=q4(t,z4),{basename:y}=k.useContext(Va),v,h=!1;if(typeof u=="string"&&J4.test(u)&&(v=u,Q4))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),p=ay(j.pathname,y);j.origin===x.origin&&p!=null?u=p+j.search+j.hash:h=!0}catch{}let g=S4(u,{relative:s}),b=X4(u,{replace:o,state:l,target:c,preventScrollReset:m,relative:s,viewTransition:d});function N(x){a&&a(x),x.defaultPrevented||b(x)}return k.createElement("a",Th({},f,{href:v||g,onClick:h||i?a:N,ref:r,target:c}))});var L0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(L0||(L0={}));var F0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(F0||(F0={}));function X4(e,t){let{target:r,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ge(),u=lr(),m=wS(e,{relative:o});return k.useCallback(d=>{if(K4(d,r)){d.preventDefault();let f=a!==void 0?a:su(u)===su(m);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,m,a,s,r,e,i,o,l])}var kS={exports:{}},OS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=k;function Y4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Z4=typeof Object.is=="function"?Object.is:Y4,eE=kl.useSyncExternalStore,tE=kl.useRef,rE=kl.useEffect,nE=kl.useMemo,aE=kl.useDebugValue;OS.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var i=tE(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=nE(function(){function c(y){if(!u){if(u=!0,m=y,y=a(y),s!==void 0&&o.hasValue){var v=o.value;if(s(v,y))return d=v}return d=y}if(v=d,Z4(m,y))return v;var h=a(y);return s!==void 0&&s(v,h)?(m=y,v):(m=y,d=h)}var u=!1,m,d,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,a,s]);var l=eE(e,i[0],i[1]);return rE(function(){o.hasValue=!0,o.value=l},[l]),aE(l),l};kS.exports=OS;var sE=kS.exports;function iE(e){e()}function oE(){let e=null,t=null;return{clear(){e=null,t=null},notify(){iE(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var B0={notify(){},get:()=>[]};function lE(e,t){let r,a=B0,s=0,i=!1;function o(h){m();const g=a.subscribe(h);let b=!1;return()=>{b||(b=!0,g(),d())}}function l(){a.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return i}function m(){s++,r||(r=t?t.addNestedSub(c):e.subscribe(c),a=oE())}function d(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=B0)}function f(){i||(i=!0,m())}function y(){i&&(i=!1,d())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:y,getListeners:()=>a};return v}var cE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uE=cE(),dE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mE=dE(),fE=()=>uE||mE?k.useLayoutEffect:k.useEffect,hE=fE(),Xm=Symbol.for("react-redux-context"),Ym=typeof globalThis<"u"?globalThis:{};function pE(){if(!k.createContext)return{};const e=Ym[Xm]??(Ym[Xm]=new Map);let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var Zn=pE();function xE(e){const{children:t,context:r,serverState:a,store:s}=e,i=k.useMemo(()=>{const c=lE(s);return{store:s,subscription:c,getServerState:a?()=>a:void 0}},[s,a]),o=k.useMemo(()=>s.getState(),[s]);hE(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||Zn;return k.createElement(l.Provider,{value:i},t)}var yE=xE;function iy(e=Zn){return function(){return k.useContext(e)}}var PS=iy();function AS(e=Zn){const t=e===Zn?PS:iy(e),r=()=>{const{store:a}=t();return a};return Object.assign(r,{withTypes:()=>r}),r}var gE=AS();function vE(e=Zn){const t=e===Zn?gE:AS(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var bE=vE(),jE=(e,t)=>e===t;function NE(e=Zn){const t=e===Zn?PS:iy(e),r=(a,s={})=>{const{equalityFn:i=jE}=typeof s=="function"?{equalityFn:s}:s,o=t(),{store:l,subscription:c,getServerState:u}=o;k.useRef(!0);const m=k.useCallback({[a.name](f){return a(f)}}[a.name],[a]),d=sE.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,m,i);return k.useDebugValue(d),d};return Object.assign(r,{withTypes:()=>r}),r}var wE=NE();function vt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var SE=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),U0=SE,Zm=()=>Math.random().toString(36).substring(7).split("").join("."),CE={INIT:`@@redux/INIT${Zm()}`,REPLACE:`@@redux/REPLACE${Zm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zm()}`},ou=CE;function oy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ES(e,t,r){if(typeof e!="function")throw new Error(vt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(vt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(vt(1));return r(ES)(e,t)}let a=e,s=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((g,b)=>{o.set(b,g)}))}function m(){if(c)throw new Error(vt(3));return s}function d(g){if(typeof g!="function")throw new Error(vt(4));if(c)throw new Error(vt(5));let b=!0;u();const N=l++;return o.set(N,g),function(){if(b){if(c)throw new Error(vt(6));b=!1,u(),o.delete(N),i=null}}}function f(g){if(!oy(g))throw new Error(vt(7));if(typeof g.type>"u")throw new Error(vt(8));if(typeof g.type!="string")throw new Error(vt(17));if(c)throw new Error(vt(9));try{c=!0,s=a(s,g)}finally{c=!1}return(i=o).forEach(N=>{N()}),g}function y(g){if(typeof g!="function")throw new Error(vt(10));a=g,f({type:ou.REPLACE})}function v(){const g=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(vt(11));function N(){const j=b;j.next&&j.next(m())}return N(),{unsubscribe:g(N)}},[U0](){return this}}}return f({type:ou.INIT}),{dispatch:f,subscribe:d,getState:m,replaceReducer:y,[U0]:v}}function kE(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ou.INIT})>"u")throw new Error(vt(12));if(typeof r(void 0,{type:ou.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vt(13))})}function OE(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const a=Object.keys(r);let s;try{kE(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const u={};for(let m=0;m<a.length;m++){const d=a[m],f=r[d],y=o[d],v=f(y,l);if(typeof v>"u")throw l&&l.type,new Error(vt(14));u[d]=v,c=c||v!==y}return c=c||a.length!==Object.keys(o).length,c?u:o}}function lu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function PE(...e){return t=>(r,a)=>{const s=t(r,a);let i=()=>{throw new Error(vt(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=lu(...l)(s.dispatch),{...s,dispatch:i}}}function AE(e){return oy(e)&&"type"in e&&typeof e.type=="string"}var TS=Symbol.for("immer-nothing"),q0=Symbol.for("immer-draftable"),ar=Symbol.for("immer-state");function Dr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rs=Object.getPrototypeOf;function Ra(e){return!!e&&!!e[ar]}function vn(e){var t;return e?MS(e)||Array.isArray(e)||!!e[q0]||!!((t=e.constructor)!=null&&t[q0])||Ol(e)||Md(e):!1}var EE=Object.prototype.constructor.toString();function MS(e){if(!e||typeof e!="object")return!1;const t=Rs(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===EE}function cu(e,t){Td(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Td(e){const t=e[ar];return t?t.type_:Array.isArray(e)?1:Ol(e)?2:Md(e)?3:0}function Mh(e,t){return Td(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IS(e,t,r){const a=Td(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function TE(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ol(e){return e instanceof Map}function Md(e){return e instanceof Set}function pa(e){return e.copy_||e.base_}function Ih(e,t){if(Ol(e))return new Map(e);if(Md(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=MS(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[ar];let s=Reflect.ownKeys(a);for(let i=0;i<s.length;i++){const o=s[i],l=a[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Rs(e),a)}else{const a=Rs(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function ly(e,t=!1){return Id(e)||Ra(e)||!vn(e)||(Td(e)>1&&Object.defineProperties(e,{set:{value:nc},add:{value:nc},clear:{value:nc},delete:{value:nc}}),Object.freeze(e),t&&Object.values(e).forEach(r=>ly(r,!0))),e}function nc(){Dr(2)}function Id(e){return Object.isFrozen(e)}var ME={};function La(e){const t=ME[e];return t||Dr(0,e),t}var Mo;function DS(){return Mo}function IE(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function W0(e,t){t&&(La("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dh(e){$h(e),e.drafts_.forEach(DE),e.drafts_=null}function $h(e){e===Mo&&(Mo=e.parent_)}function K0(e){return Mo=IE(Mo,e)}function DE(e){const t=e[ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function z0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ar].modified_&&(Dh(t),Dr(4)),vn(e)&&(e=uu(t,e),t.parent_||du(t,e)),t.patches_&&La("Patches").generateReplacementPatches_(r[ar].base_,e,t.patches_,t.inversePatches_)):e=uu(t,r,[]),Dh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==TS?e:void 0}function uu(e,t,r){if(Id(t))return t;const a=t[ar];if(!a)return cu(t,(s,i)=>V0(e,a,t,s,i,r)),t;if(a.scope_!==e)return t;if(!a.modified_)return du(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,o=!1;a.type_===3&&(i=new Set(s),s.clear(),o=!0),cu(i,(l,c)=>V0(e,a,s,l,c,r,o)),du(e,s,!1),r&&e.patches_&&La("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function V0(e,t,r,a,s,i,o){if(Ra(s)){const l=i&&t&&t.type_!==3&&!Mh(t.assigned_,a)?i.concat(a):void 0,c=uu(e,s,l);if(IS(r,a,c),Ra(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(vn(s)&&!Id(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;uu(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(Ol(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&du(e,s)}}function du(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ly(t,r)}function $E(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:DS(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,i=cy;r&&(s=[a],i=Io);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return a.draft_=l,a.revoke_=o,l}var cy={get(e,t){if(t===ar)return e;const r=pa(e);if(!Mh(r,t))return _E(e,r,t);const a=r[t];return e.finalized_||!vn(a)?a:a===ef(e.base_,t)?(tf(e),e.copy_[t]=Rh(a,e)):a},has(e,t){return t in pa(e)},ownKeys(e){return Reflect.ownKeys(pa(e))},set(e,t,r){const a=$S(pa(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=ef(pa(e),t),i=s==null?void 0:s[ar];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(TE(r,s)&&(r!==void 0||Mh(e.base_,t)))return!0;tf(e),_h(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ef(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,tf(e),_h(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=pa(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){Dr(11)},getPrototypeOf(e){return Rs(e.base_)},setPrototypeOf(){Dr(12)}},Io={};cu(cy,(e,t)=>{Io[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Io.deleteProperty=function(e,t){return Io.set.call(this,e,t,void 0)};Io.set=function(e,t,r){return cy.set.call(this,e[0],t,r,e[0])};function ef(e,t){const r=e[ar];return(r?pa(r):e)[t]}function _E(e,t,r){var s;const a=$S(t,r);return a?"value"in a?a.value:(s=a.get)==null?void 0:s.call(e.draft_):void 0}function $S(e,t){if(!(t in e))return;let r=Rs(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Rs(r)}}function _h(e){e.modified_||(e.modified_=!0,e.parent_&&_h(e.parent_))}function tf(e){e.copy_||(e.copy_=Ih(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var RE=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,m=>r.call(this,m,...u))}}typeof r!="function"&&Dr(6),a!==void 0&&typeof a!="function"&&Dr(7);let s;if(vn(t)){const i=K0(this),o=Rh(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?Dh(i):$h(i)}return W0(i,a),z0(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===TS&&(s=void 0),this.autoFreeze_&&ly(s,!0),a){const i=[],o=[];La("Patches").generateReplacementPatches_(t,s,i,o),a(i,o)}return s}else Dr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let a,s;return[this.produce(t,r,(o,l)=>{a=o,s=l}),a,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){vn(e)||Dr(8),Ra(e)&&(e=LE(e));const t=K0(this),r=Rh(e,void 0);return r[ar].isManual_=!0,$h(t),r}finishDraft(e,t){const r=e&&e[ar];(!r||!r.isManual_)&&Dr(9);const{scope_:a}=r;return W0(a,t),z0(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=La("Patches").applyPatches_;return Ra(e)?a(e,t):this.produce(e,s=>a(s,t))}};function Rh(e,t){const r=Ol(e)?La("MapSet").proxyMap_(e,t):Md(e)?La("MapSet").proxySet_(e,t):$E(e,t);return(t?t.scope_:DS()).drafts_.push(r),r}function LE(e){return Ra(e)||Dr(10,e),_S(e)}function _S(e){if(!vn(e)||Id(e))return e;const t=e[ar];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ih(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ih(e,!0);return cu(r,(a,s)=>{IS(r,a,_S(s))}),t&&(t.finalized_=!1),r}var FE=new RE,RS=FE.produce;function LS(e){return({dispatch:r,getState:a})=>s=>i=>typeof i=="function"?i(r,a,e):s(i)}var BE=LS(),UE=LS,qE=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lu:lu.apply(null,arguments)};function G0(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(un(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>AE(a)&&a.type===e,r}var FS=class Ji extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ji.prototype)}static get[Symbol.species](){return Ji}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ji(...t[0].concat(this)):new Ji(...t.concat(this))}};function H0(e){return vn(e)?RS(e,()=>{}):e}function ac(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function WE(e){return typeof e=="boolean"}var KE=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new FS;return r&&(WE(r)?o.push(BE):o.push(UE(r.extraArgument))),o},zE="RTK_autoBatch",Q0=e=>t=>{setTimeout(t,e)},VE=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Q0(10):e.type==="callback"?e.queueNotification:Q0(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(m=>m()))};return Object.assign({},a,{subscribe(m){const d=()=>s&&m(),f=a.subscribe(d);return l.add(m),()=>{f(),l.delete(m)}},dispatch(m){var d;try{return s=!((d=m==null?void 0:m.meta)!=null&&d[zE]),i=!s,i&&(o||(o=!0,c(u))),a.dispatch(m)}finally{s=!0}}})},GE=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new FS(e);return a&&s.push(VE(typeof a=="object"?a:void 0)),s};function HE(e){const t=KE(),{reducer:r=void 0,middleware:a,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(oy(r))c=OE(r);else throw new Error(un(1));let u;typeof a=="function"?u=a(t):u=t();let m=lu;s&&(m=qE({trace:!1,...typeof s=="object"&&s}));const d=PE(...u),f=GE(d);let y=typeof l=="function"?l(f):f();const v=m(...y);return ES(c,o,v)}function BS(e){const t={},r=[];let a;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(un(28));if(l in t)throw new Error(un(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return a=i,s}};return e(s),[t,r,a]}function QE(e){return typeof e=="function"}function JE(e,t){let[r,a,s]=BS(t),i;if(QE(e))i=()=>H0(e());else{const l=H0(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...a.filter(({matcher:m})=>m(c)).map(({reducer:m})=>m)];return u.filter(m=>!!m).length===0&&(u=[s]),u.reduce((m,d)=>{if(d)if(Ra(m)){const y=d(m,c);return y===void 0?m:y}else{if(vn(m))return RS(m,f=>d(f,c));{const f=d(m,c);if(f===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return m},l)}return o.getInitialState=i,o}var XE=Symbol.for("rtk-slice-createasyncthunk");function YE(e,t){return`${e}/${t}`}function ZE({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[XE];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(un(11));typeof process<"u";const l=(typeof s.reducers=="function"?s.reducers(rT()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(j,p){const w=typeof j=="string"?j:j.type;if(!w)throw new Error(un(12));if(w in u.sliceCaseReducersByType)throw new Error(un(13));return u.sliceCaseReducersByType[w]=p,m},addMatcher(j,p){return u.sliceMatchers.push({matcher:j,reducer:p}),m},exposeAction(j,p){return u.actionCreators[j]=p,m},exposeCaseReducer(j,p){return u.sliceCaseReducersByName[j]=p,m}};c.forEach(j=>{const p=l[j],w={reducerName:j,type:YE(i,j),createNotation:typeof s.reducers=="function"};aT(p)?iT(w,p,m,t):nT(w,p,m)});function d(){const[j={},p=[],w=void 0]=typeof s.extraReducers=="function"?BS(s.extraReducers):[s.extraReducers],C={...j,...u.sliceCaseReducersByType};return JE(s.initialState,P=>{for(let E in C)P.addCase(E,C[E]);for(let E of u.sliceMatchers)P.addMatcher(E.matcher,E.reducer);for(let E of p)P.addMatcher(E.matcher,E.reducer);w&&P.addDefaultCase(w)})}const f=j=>j,y=new Map,v=new WeakMap;let h;function g(j,p){return h||(h=d()),h(j,p)}function b(){return h||(h=d()),h.getInitialState()}function N(j,p=!1){function w(P){let E=P[j];return typeof E>"u"&&p&&(E=ac(v,w,b)),E}function C(P=f){const E=ac(y,p,()=>new WeakMap);return ac(E,P,()=>{const I={};for(const[M,O]of Object.entries(s.selectors??{}))I[M]=eT(O,P,()=>ac(v,P,b),p);return I})}return{reducerPath:j,getSelectors:C,get selectors(){return C(w)},selectSlice:w}}const x={name:i,reducer:g,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...N(o),injectInto(j,{reducerPath:p,...w}={}){const C=p??o;return j.inject({reducerPath:C,reducer:g},w),{...x,...N(C,!0)}}};return x}}function eT(e,t,r,a){function s(i,...o){let l=t(i);return typeof l>"u"&&a&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var tT=ZE();function rT(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function nT({type:e,reducerName:t,createNotation:r},a,s){let i,o;if("reducer"in a){if(r&&!sT(a))throw new Error(un(17));i=a.reducer,o=a.prepare}else i=a;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?G0(e,o):G0(e))}function aT(e){return e._reducerDefinitionType==="asyncThunk"}function sT(e){return e._reducerDefinitionType==="reducerWithPrepare"}function iT({type:e,reducerName:t},r,a,s){if(!s)throw new Error(un(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:m}=r,d=s(e,i,m);a.exposeAction(t,d),o&&a.addCase(d.fulfilled,o),l&&a.addCase(d.pending,l),c&&a.addCase(d.rejected,c),u&&a.addMatcher(d.settled,u),a.exposeCaseReducer(t,{fulfilled:o||sc,pending:l||sc,rejected:c||sc,settled:u||sc})}function sc(){}function un(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const oT={rawMaterials:[],loading:!1,error:null},lT=()=>{try{const e=localStorage.getItem("rawMaterials");if(e)return JSON.parse(e)}catch(e){console.error("Error loading from localStorage:",e)}return[{id:"rm-001",materialCode:"10001",materialName:"Bhujia",description:"Traditional Indian snack",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-002",materialCode:"10002",materialName:"Bran Flakes",description:"Healthy breakfast cereal",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-003",materialCode:"10003",materialName:"Bread Improver",description:"Baking ingredient for better bread",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-004",materialCode:"10004",materialName:"Caramel Syrup",description:"Sweet syrup for beverages",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-005",materialCode:"10005",materialName:"Cocoa Powder",description:"Chocolate powder for baking",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"}]},cT=lT(),US=tT({name:"inventory",initialState:{...oT,rawMaterials:cT},reducers:{setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},setRawMaterials:(e,t)=>{e.rawMaterials=t.payload;try{localStorage.setItem("rawMaterials",JSON.stringify(t.payload))}catch(r){console.error("Error saving to localStorage:",r)}},addRawMaterial:(e,t)=>{e.rawMaterials.push(t.payload);try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(r){console.error("Error saving to localStorage:",r)}},updateRawMaterial:(e,t)=>{const r=e.rawMaterials.findIndex(a=>a.id===t.payload.id);if(r!==-1){e.rawMaterials[r]=t.payload;try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(a){console.error("Error saving to localStorage:",a)}}},deleteRawMaterial:(e,t)=>{e.rawMaterials=e.rawMaterials.filter(r=>r.id!==t.payload);try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(r){console.error("Error saving to localStorage:",r)}},importRawMaterials:(e,t)=>{const r=t.payload,s=[...e.rawMaterials];r.forEach(i=>{const o=s.findIndex(l=>l.materialCode===i.materialCode);o!==-1?s[o]={...s[o],materialName:i.materialName,description:i.description,category:i.category,unitOfMeasure:i.unitOfMeasure,updatedAt:new Date().toISOString()}:s.push(i)}),e.rawMaterials=s;try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(i){console.error("Error saving to localStorage:",i)}},clearRawMaterials:e=>{e.rawMaterials=[];try{localStorage.removeItem("rawMaterials")}catch(t){console.error("Error clearing localStorage:",t)}}}}),{setLoading:zZ,setError:VZ,setRawMaterials:GZ,addRawMaterial:HZ,updateRawMaterial:QZ,deleteRawMaterial:JZ,importRawMaterials:uT,clearRawMaterials:XZ}=US.actions,dT=US.reducer,mT=HE({reducer:{inventory:dT}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(e,t)=>{const r=k.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},m)=>k.createElement("svg",{ref:m,...fT,width:s,height:s,stroke:a,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${hT(e)}`,l].join(" "),...u},[...t.map(([d,f])=>k.createElement(d,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=de("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=de("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=de("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=de("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=de("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=de("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=de("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=de("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=de("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=de("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=de("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=de("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=de("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=de("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=de("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=de("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=de("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=de("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=de("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=de("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=de("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=de("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=de("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),J0=[{name:"Dashboard",href:"/dashboard",icon:bT},{name:"Recipe Master",href:"/bill-of-materials",icon:vT},{name:"Central Kitchen",icon:tr,hasDropdown:!0,children:[{name:"Raw Material Inventory",href:"/central-kitchen/raw-materials",icon:ye},{name:"Finished Good Inventory",href:"/central-kitchen/finished-goods",icon:xa},{name:"Make Finished Good",href:"/central-kitchen/make-finished-good",icon:hu},{name:"Create Transfer",href:"/central-kitchen/create-transfer",icon:Lt}]},{name:"Outlets",icon:tr,hasDropdown:!0,children:[{name:"Kuwait City",icon:tr,hasDropdown:!0,children:[{name:"POS Sales",href:"/downtown-restaurant/sales-orders",icon:ct},{name:"Raw Material Inventory",href:"/downtown-restaurant/raw-materials",icon:ye},{name:"Finished Goods Inventory",href:"/downtown-restaurant/finished-goods",icon:xa}]},{name:"360 Mall",icon:$o,hasDropdown:!0,children:[{name:"POS Sales",href:"/marina-walk-cafe/sales-orders",icon:ct},{name:"Raw Material Inventory",href:"/marina-walk-cafe/raw-materials",icon:ye},{name:"Finished Goods Inventory",href:"/marina-walk-cafe/finished-goods",icon:xa}]},{name:"Vibes Complex",icon:_o,hasDropdown:!0,children:[{name:"POS Sales",href:"/mall-food-court/sales-orders",icon:ct},{name:"Raw Material Inventory",href:"/mall-food-court/raw-materials",icon:ye},{name:"Finished Goods Inventory",href:"/mall-food-court/finished-goods",icon:xa}]},{name:"Taiba Hospital",icon:Do,hasDropdown:!0,children:[{name:"POS Sales",href:"/drive-thru-express/sales-orders",icon:ct},{name:"Raw Material Inventory",href:"/drive-thru-express/raw-materials",icon:ye},{name:"Finished Goods Inventory",href:"/drive-thru-express/finished-goods",icon:xa}]}]},{name:"Transfer Orders",href:"/transfer-orders",icon:Lt},{name:"Purchase Orders",href:"/purchase-orders",icon:ct},{name:"Master",icon:gT,hasDropdown:!0,children:[{name:"Raw Material Master",href:"/raw-materials",icon:ye},{name:"Finished Good Master",href:"/finished-goods-master",icon:xa},{name:"Outlet Master",href:"/outlets",icon:tr}]},{name:"Inventory",href:"/inventory",icon:Aa},{name:"Settings",href:"/settings",icon:dy}],kT=({children:e})=>{const[t,r]=k.useState(!1),[a,s]=k.useState(new Set),i=lr(),o=l=>{const c=new Set(a);c.has(l)?c.delete(l):c.add(l),s(c)};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        /* Custom scrollbar styling for sidebar */
        .sidebar-nav::-webkit-scrollbar {
          width: 8px;
        }
        .sidebar-nav::-webkit-scrollbar-track {
          background: #f3f4f6;
          border-radius: 4px;
        }
        .sidebar-nav::-webkit-scrollbar-thumb {
          background: #9ca3af;
          border-radius: 4px;
        }
        .sidebar-nav::-webkit-scrollbar-thumb:hover {
          background: #6b7280;
        }
        .sidebar-nav {
          scrollbar-width: thin;
          scrollbar-color: #9ca3af #f3f4f6;
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${t?"block":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),n.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"L"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"localbeet"})})]}),n.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ee,{className:"h-6 w-6"})})]}),n.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto sidebar-nav min-h-0",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6"},children:J0.map(l=>{const c=l.icon,u=i.pathname===l.href,m=l.hasDropdown,d=a.has(l.name);return m?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>o(l.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),l.name]}),d?n.jsx(ic,{className:"h-4 w-4"}):n.jsx(oc,{className:"h-4 w-4"})]}),d&&l.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:l.children.map(f=>{const y=f.icon,v=f.href?i.pathname===f.href:!1,h=f.hasDropdown||!1,g=a.has(f.name);return h?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>o(f.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(y,{className:"mr-3 h-4 w-4 flex-shrink-0"}),f.name]}),g?n.jsx(ic,{className:"h-4 w-4"}):n.jsx(oc,{className:"h-4 w-4"})]}),g&&f.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:f.children.map(b=>{const N=b.icon,x=b.href?i.pathname===b.href:!1;return n.jsxs(es,{to:b.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${x?"bg-primary-100 text-primary-700":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(N,{className:"mr-3 h-4 w-4 flex-shrink-0"}),b.name]},b.name)})})]},f.name):n.jsxs(es,{to:f.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${v?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(y,{className:"mr-3 h-4 w-4 flex-shrink-0"}),f.name]},f.name)})})]},l.name):n.jsxs(es,{to:l.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${u?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),l.name]},l.name)})})]})]}),n.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:n.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[n.jsx("div",{className:"flex h-16 items-center px-4 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"L"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"localbeet"})})]})}),n.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto sidebar-nav min-h-0",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6"},children:J0.map(l=>{const c=l.icon,u=i.pathname===l.href,m=l.hasDropdown,d=a.has(l.name);return m?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>o(l.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),l.name]}),d?n.jsx(ic,{className:"h-4 w-4"}):n.jsx(oc,{className:"h-4 w-4"})]}),d&&l.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:l.children.map(f=>{const y=f.icon,v=f.href?i.pathname===f.href:!1,h=f.hasDropdown||!1,g=a.has(f.name);return h?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>o(f.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(y,{className:"mr-3 h-4 w-4 flex-shrink-0"}),f.name]}),g?n.jsx(ic,{className:"h-4 w-4"}):n.jsx(oc,{className:"h-4 w-4"})]}),g&&f.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:f.children.map(b=>{const N=b.icon,x=b.href?i.pathname===b.href:!1;return n.jsxs(es,{to:b.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${x?"bg-primary-100 text-primary-700":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(N,{className:"mr-3 h-4 w-4 flex-shrink-0"}),b.name]},b.name)})})]},f.name):n.jsxs(es,{to:f.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${v?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(y,{className:"mr-3 h-4 w-4 flex-shrink-0"}),f.name]},f.name)})})]},l.name):n.jsxs(es,{to:l.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${u?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),l.name]},l.name)})}),n.jsxs("div",{className:"flex-shrink-0 border-t border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Pl,{className:"h-8 w-8 text-gray-400"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Admin User"}),n.jsx("p",{className:"text-xs text-gray-500",children:"admin@locbeat.com"})]})]}),n.jsxs("div",{className:"mt-3 space-y-1",children:[n.jsxs("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg w-full",children:[n.jsx(dy,{className:"mr-3 h-4 w-4"}),"Settings"]}),n.jsxs("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg w-full",children:[n.jsx(jT,{className:"mr-3 h-4 w-4"}),"Sign out"]})]})]})]})}),n.jsxs("div",{className:"lg:pl-64",children:[n.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[n.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>r(!0),children:n.jsx(wT,{className:"h-6 w-6"})}),n.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[n.jsx("div",{className:"flex flex-1"}),n.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[n.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200"}),n.jsx("div",{className:"flex items-center gap-x-2",children:n.jsx("span",{className:"text-sm text-gray-700",children:"Welcome back, Admin"})})]})]})]}),n.jsx("main",{className:"py-6",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})]})};function GS(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=GS(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function ke(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=GS(e))&&(a&&(a+=" "),a+=t);return a}var OT=Array.isArray,Ht=OT,PT=typeof Fl=="object"&&Fl&&Fl.Object===Object&&Fl,HS=PT,AT=HS,ET=typeof self=="object"&&self&&self.Object===Object&&self,TT=AT||ET||Function("return this")(),Zr=TT,MT=Zr,IT=MT.Symbol,Al=IT,X0=Al,QS=Object.prototype,DT=QS.hasOwnProperty,$T=QS.toString,Di=X0?X0.toStringTag:void 0;function _T(e){var t=DT.call(e,Di),r=e[Di];try{e[Di]=void 0;var a=!0}catch{}var s=$T.call(e);return a&&(t?e[Di]=r:delete e[Di]),s}var RT=_T,LT=Object.prototype,FT=LT.toString;function BT(e){return FT.call(e)}var UT=BT,Y0=Al,qT=RT,WT=UT,KT="[object Null]",zT="[object Undefined]",Z0=Y0?Y0.toStringTag:void 0;function VT(e){return e==null?e===void 0?zT:KT:Z0&&Z0 in Object(e)?qT(e):WT(e)}var Cn=VT;function GT(e){return e!=null&&typeof e=="object"}var kn=GT,HT=Cn,QT=kn,JT="[object Symbol]";function XT(e){return typeof e=="symbol"||QT(e)&&HT(e)==JT}var fi=XT,YT=Ht,ZT=fi,eM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tM=/^\w*$/;function rM(e,t){if(YT(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ZT(e)?!0:tM.test(e)||!eM.test(e)||t!=null&&e in Object(t)}var py=rM;function nM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var sa=nM;const hi=_e(sa);var aM=Cn,sM=sa,iM="[object AsyncFunction]",oM="[object Function]",lM="[object GeneratorFunction]",cM="[object Proxy]";function uM(e){if(!sM(e))return!1;var t=aM(e);return t==oM||t==lM||t==iM||t==cM}var xy=uM;const ve=_e(xy);var dM=Zr,mM=dM["__core-js_shared__"],fM=mM,rf=fM,ev=function(){var e=/[^.]+$/.exec(rf&&rf.keys&&rf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hM(e){return!!ev&&ev in e}var pM=hM,xM=Function.prototype,yM=xM.toString;function gM(e){if(e!=null){try{return yM.call(e)}catch{}try{return e+""}catch{}}return""}var JS=gM,vM=xy,bM=pM,jM=sa,NM=JS,wM=/[\\^$.*+?()[\]{}|]/g,SM=/^\[object .+?Constructor\]$/,CM=Function.prototype,kM=Object.prototype,OM=CM.toString,PM=kM.hasOwnProperty,AM=RegExp("^"+OM.call(PM).replace(wM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EM(e){if(!jM(e)||bM(e))return!1;var t=vM(e)?AM:SM;return t.test(NM(e))}var TM=EM;function MM(e,t){return e==null?void 0:e[t]}var IM=MM,DM=TM,$M=IM;function _M(e,t){var r=$M(e,t);return DM(r)?r:void 0}var Ga=_M,RM=Ga,LM=RM(Object,"create"),$d=LM,tv=$d;function FM(){this.__data__=tv?tv(null):{},this.size=0}var BM=FM;function UM(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qM=UM,WM=$d,KM="__lodash_hash_undefined__",zM=Object.prototype,VM=zM.hasOwnProperty;function GM(e){var t=this.__data__;if(WM){var r=t[e];return r===KM?void 0:r}return VM.call(t,e)?t[e]:void 0}var HM=GM,QM=$d,JM=Object.prototype,XM=JM.hasOwnProperty;function YM(e){var t=this.__data__;return QM?t[e]!==void 0:XM.call(t,e)}var ZM=YM,e6=$d,t6="__lodash_hash_undefined__";function r6(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=e6&&t===void 0?t6:t,this}var n6=r6,a6=BM,s6=qM,i6=HM,o6=ZM,l6=n6;function pi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}pi.prototype.clear=a6;pi.prototype.delete=s6;pi.prototype.get=i6;pi.prototype.has=o6;pi.prototype.set=l6;var c6=pi;function u6(){this.__data__=[],this.size=0}var d6=u6;function m6(e,t){return e===t||e!==e&&t!==t}var yy=m6,f6=yy;function h6(e,t){for(var r=e.length;r--;)if(f6(e[r][0],t))return r;return-1}var _d=h6,p6=_d,x6=Array.prototype,y6=x6.splice;function g6(e){var t=this.__data__,r=p6(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():y6.call(t,r,1),--this.size,!0}var v6=g6,b6=_d;function j6(e){var t=this.__data__,r=b6(t,e);return r<0?void 0:t[r][1]}var N6=j6,w6=_d;function S6(e){return w6(this.__data__,e)>-1}var C6=S6,k6=_d;function O6(e,t){var r=this.__data__,a=k6(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var P6=O6,A6=d6,E6=v6,T6=N6,M6=C6,I6=P6;function xi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}xi.prototype.clear=A6;xi.prototype.delete=E6;xi.prototype.get=T6;xi.prototype.has=M6;xi.prototype.set=I6;var Rd=xi,D6=Ga,$6=Zr,_6=D6($6,"Map"),gy=_6,rv=c6,R6=Rd,L6=gy;function F6(){this.size=0,this.__data__={hash:new rv,map:new(L6||R6),string:new rv}}var B6=F6;function U6(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var q6=U6,W6=q6;function K6(e,t){var r=e.__data__;return W6(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ld=K6,z6=Ld;function V6(e){var t=z6(this,e).delete(e);return this.size-=t?1:0,t}var G6=V6,H6=Ld;function Q6(e){return H6(this,e).get(e)}var J6=Q6,X6=Ld;function Y6(e){return X6(this,e).has(e)}var Z6=Y6,eI=Ld;function tI(e,t){var r=eI(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var rI=tI,nI=B6,aI=G6,sI=J6,iI=Z6,oI=rI;function yi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}yi.prototype.clear=nI;yi.prototype.delete=aI;yi.prototype.get=sI;yi.prototype.has=iI;yi.prototype.set=oI;var vy=yi,XS=vy,lI="Expected a function";function by(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(lI);var r=function(){var a=arguments,s=t?t.apply(this,a):a[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,a);return r.cache=i.set(s,o)||i,o};return r.cache=new(by.Cache||XS),r}by.Cache=XS;var YS=by;const cI=_e(YS);var uI=YS,dI=500;function mI(e){var t=uI(e,function(a){return r.size===dI&&r.clear(),a}),r=t.cache;return t}var fI=mI,hI=fI,pI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xI=/\\(\\)?/g,yI=hI(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(pI,function(r,a,s,i){t.push(s?i.replace(xI,"$1"):a||r)}),t}),gI=yI;function vI(e,t){for(var r=-1,a=e==null?0:e.length,s=Array(a);++r<a;)s[r]=t(e[r],r,e);return s}var jy=vI,nv=Al,bI=jy,jI=Ht,NI=fi,wI=1/0,av=nv?nv.prototype:void 0,sv=av?av.toString:void 0;function ZS(e){if(typeof e=="string")return e;if(jI(e))return bI(e,ZS)+"";if(NI(e))return sv?sv.call(e):"";var t=e+"";return t=="0"&&1/e==-wI?"-0":t}var SI=ZS,CI=SI;function kI(e){return e==null?"":CI(e)}var eC=kI,OI=Ht,PI=py,AI=gI,EI=eC;function TI(e,t){return OI(e)?e:PI(e,t)?[e]:AI(EI(e))}var tC=TI,MI=fi,II=1/0;function DI(e){if(typeof e=="string"||MI(e))return e;var t=e+"";return t=="0"&&1/e==-II?"-0":t}var Fd=DI,$I=tC,_I=Fd;function RI(e,t){t=$I(t,e);for(var r=0,a=t.length;e!=null&&r<a;)e=e[_I(t[r++])];return r&&r==a?e:void 0}var Ny=RI,LI=Ny;function FI(e,t,r){var a=e==null?void 0:LI(e,t);return a===void 0?r:a}var rC=FI;const yr=_e(rC);function BI(e){return e==null}var UI=BI;const be=_e(UI);var qI=Cn,WI=Ht,KI=kn,zI="[object String]";function VI(e){return typeof e=="string"||!WI(e)&&KI(e)&&qI(e)==zI}var GI=VI;const Fa=_e(GI);var nC={exports:{}},Te={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=Symbol.for("react.element"),Sy=Symbol.for("react.portal"),Bd=Symbol.for("react.fragment"),Ud=Symbol.for("react.strict_mode"),qd=Symbol.for("react.profiler"),Wd=Symbol.for("react.provider"),Kd=Symbol.for("react.context"),HI=Symbol.for("react.server_context"),zd=Symbol.for("react.forward_ref"),Vd=Symbol.for("react.suspense"),Gd=Symbol.for("react.suspense_list"),Hd=Symbol.for("react.memo"),Qd=Symbol.for("react.lazy"),QI=Symbol.for("react.offscreen"),aC;aC=Symbol.for("react.module.reference");function Nr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wy:switch(e=e.type,e){case Bd:case qd:case Ud:case Vd:case Gd:return e;default:switch(e=e&&e.$$typeof,e){case HI:case Kd:case zd:case Qd:case Hd:case Wd:return e;default:return t}}case Sy:return t}}}Te.ContextConsumer=Kd;Te.ContextProvider=Wd;Te.Element=wy;Te.ForwardRef=zd;Te.Fragment=Bd;Te.Lazy=Qd;Te.Memo=Hd;Te.Portal=Sy;Te.Profiler=qd;Te.StrictMode=Ud;Te.Suspense=Vd;Te.SuspenseList=Gd;Te.isAsyncMode=function(){return!1};Te.isConcurrentMode=function(){return!1};Te.isContextConsumer=function(e){return Nr(e)===Kd};Te.isContextProvider=function(e){return Nr(e)===Wd};Te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wy};Te.isForwardRef=function(e){return Nr(e)===zd};Te.isFragment=function(e){return Nr(e)===Bd};Te.isLazy=function(e){return Nr(e)===Qd};Te.isMemo=function(e){return Nr(e)===Hd};Te.isPortal=function(e){return Nr(e)===Sy};Te.isProfiler=function(e){return Nr(e)===qd};Te.isStrictMode=function(e){return Nr(e)===Ud};Te.isSuspense=function(e){return Nr(e)===Vd};Te.isSuspenseList=function(e){return Nr(e)===Gd};Te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bd||e===qd||e===Ud||e===Vd||e===Gd||e===QI||typeof e=="object"&&e!==null&&(e.$$typeof===Qd||e.$$typeof===Hd||e.$$typeof===Wd||e.$$typeof===Kd||e.$$typeof===zd||e.$$typeof===aC||e.getModuleId!==void 0)};Te.typeOf=Nr;nC.exports=Te;var JI=nC.exports,XI=Cn,YI=kn,ZI="[object Number]";function eD(e){return typeof e=="number"||YI(e)&&XI(e)==ZI}var sC=eD;const tD=_e(sC);var rD=sC;function nD(e){return rD(e)&&e!=+e}var aD=nD;const El=_e(aD);var _r=function(t){return t===0?0:t>0?1:-1},wa=function(t){return Fa(t)&&t.indexOf("%")===t.length-1},re=function(t){return tD(t)&&!El(t)},sD=function(t){return be(t)},dt=function(t){return re(t)||Fa(t)},iD=0,Tl=function(t){var r=++iD;return"".concat(t||"").concat(r)},Ba=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&!Fa(t))return a;var i;if(wa(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return El(i)&&(i=a),s&&i>r&&(i=r),i},Dn=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},oD=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},Ir=function(t,r){return re(t)&&re(r)?function(a){return t+a*(r-t)}:function(){return r}};function pu(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):yr(a,t))===r})}var lD=function(t,r){return re(t)&&re(r)?t-r:Fa(t)&&Fa(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ks(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}var cD=["viewBox","children"],uD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],iv=["points","pathLength"],nf={svg:cD,polygon:iv,polyline:iv},Cy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xu=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(k.isValidElement(t)&&(a=t.props),!hi(a))return null;var s={};return Object.keys(a).forEach(function(i){Cy.includes(i)&&(s[i]=r||function(o){return a[i](a,o)})}),s},dD=function(t,r,a){return function(s){return t(r,a,s),null}},yu=function(t,r,a){if(!hi(t)||Lh(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];Cy.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=dD(o,r,a))}),s},mD=["children"],fD=["children"];function ov(e,t){if(e==null)return{};var r=hD(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function hD(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}var lv={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},dn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},cv=null,af=null,ky=function e(t){if(t===cv&&Array.isArray(af))return af;var r=[];return k.Children.forEach(t,function(a){be(a)||(JI.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),af=r,cv=t,r};function gr(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(s){return dn(s)}):a=[dn(t)],ky(e).forEach(function(s){var i=yr(s,"type.displayName")||yr(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function Yt(e,t){var r=gr(e,t);return r&&r[0]}var uv=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!re(a)||a<=0||!re(s)||s<=0)},pD=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xD=function(t){return t&&t.type&&Fa(t.type)&&pD.indexOf(t.type)>=0},yD=function(t){return t&&Fh(t)==="object"&&"clipDot"in t},gD=function(t,r,a,s){var i,o=(i=nf==null?void 0:nf[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ve(t)&&(s&&o.includes(r)||uD.includes(r))||a&&Cy.includes(r)},Ne=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(k.isValidElement(t)&&(s=t.props),!hi(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;gD((l=s)===null||l===void 0?void 0:l[o],o,r,a)&&(i[o]=s[o])}),i},Bh=function e(t,r){if(t===r)return!0;var a=k.Children.count(t);if(a!==k.Children.count(r))return!1;if(a===0)return!0;if(a===1)return dv(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!dv(i,o))return!1}return!0},dv=function(t,r){if(be(t)&&be(r))return!0;if(!be(t)&&!be(r)){var a=t.props||{},s=a.children,i=ov(a,mD),o=r.props||{},l=o.children,c=ov(o,fD);return s&&l?ks(i,c)&&Bh(s,l):!s&&!l?ks(i,c):!1}return!1},mv=function(t,r){var a=[],s={};return ky(t).forEach(function(i,o){if(xD(i))a.push(i);else if(i){var l=dn(i.type),c=r[l]||{},u=c.handler,m=c.once;if(u&&(!m||!s[l])){var d=u(i,l,o);a.push(d),s[l]=!0}}}),a},vD=function(t){var r=t&&t.type;return r&&lv[r]?lv[r]:null},bD=function(t,r){return ky(r).indexOf(t)},jD=["children","width","height","viewBox","className","style","title","desc"];function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Uh.apply(this,arguments)}function ND(e,t){if(e==null)return{};var r=wD(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wD(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function qh(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=ND(e,jD),m=s||{width:r,height:a,x:0,y:0},d=ke("recharts-surface",i);return q.createElement("svg",Uh({},Ne(u,!0,"svg"),{className:d,width:r,height:a,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),q.createElement("title",null,l),q.createElement("desc",null,c),t)}var SD=["children","className"];function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wh.apply(this,arguments)}function CD(e,t){if(e==null)return{};var r=kD(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function kD(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Ze=q.forwardRef(function(e,t){var r=e.children,a=e.className,s=CD(e,SD),i=ke("recharts-layer",a);return q.createElement("g",Wh({className:i},Ne(s,!0),{ref:t}),r)}),mn=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function OD(e,t,r){var a=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++a<s;)i[a]=e[a+t];return i}var PD=OD,AD=PD;function ED(e,t,r){var a=e.length;return r=r===void 0?a:r,!t&&r>=a?e:AD(e,t,r)}var TD=ED,MD="\\ud800-\\udfff",ID="\\u0300-\\u036f",DD="\\ufe20-\\ufe2f",$D="\\u20d0-\\u20ff",_D=ID+DD+$D,RD="\\ufe0e\\ufe0f",LD="\\u200d",FD=RegExp("["+LD+MD+_D+RD+"]");function BD(e){return FD.test(e)}var iC=BD;function UD(e){return e.split("")}var qD=UD,oC="\\ud800-\\udfff",WD="\\u0300-\\u036f",KD="\\ufe20-\\ufe2f",zD="\\u20d0-\\u20ff",VD=WD+KD+zD,GD="\\ufe0e\\ufe0f",HD="["+oC+"]",Kh="["+VD+"]",zh="\\ud83c[\\udffb-\\udfff]",QD="(?:"+Kh+"|"+zh+")",lC="[^"+oC+"]",cC="(?:\\ud83c[\\udde6-\\uddff]){2}",uC="[\\ud800-\\udbff][\\udc00-\\udfff]",JD="\\u200d",dC=QD+"?",mC="["+GD+"]?",XD="(?:"+JD+"(?:"+[lC,cC,uC].join("|")+")"+mC+dC+")*",YD=mC+dC+XD,ZD="(?:"+[lC+Kh+"?",Kh,cC,uC,HD].join("|")+")",e$=RegExp(zh+"(?="+zh+")|"+ZD+YD,"g");function t$(e){return e.match(e$)||[]}var r$=t$,n$=qD,a$=iC,s$=r$;function i$(e){return a$(e)?s$(e):n$(e)}var o$=i$,l$=TD,c$=iC,u$=o$,d$=eC;function m$(e){return function(t){t=d$(t);var r=c$(t)?u$(t):void 0,a=r?r[0]:t.charAt(0),s=r?l$(r,1).join(""):t.slice(1);return a[e]()+s}}var f$=m$,h$=f$,p$=h$("toUpperCase"),x$=p$;const Jd=_e(x$);function Re(e){return function(){return e}}const fC=Math.cos,gu=Math.sin,Ur=Math.sqrt,vu=Math.PI,Xd=2*vu,Vh=Math.PI,Gh=2*Vh,ya=1e-6,y$=Gh-ya;function hC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function g$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hC;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class v${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hC:g$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,o){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=a-t,u=s-r,m=o-t,d=l-r,f=m*m+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>ya)if(!(Math.abs(d*c-u*m)>ya)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let y=a-o,v=s-l,h=c*c+u*u,g=y*y+v*v,b=Math.sqrt(h),N=Math.sqrt(f),x=i*Math.tan((Vh-Math.acos((h+f-g)/(2*b*N)))/2),j=x/N,p=x/b;Math.abs(j-1)>ya&&this._append`L${t+j*m},${r+j*d}`,this._append`A${i},${i},0,0,${+(d*y>m*v)},${this._x1=t+p*c},${this._y1=r+p*u}`}}arc(t,r,a,s,i,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(s),c=a*Math.sin(s),u=t+l,m=r+c,d=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${u},${m}`:(Math.abs(this._x1-u)>ya||Math.abs(this._y1-m)>ya)&&this._append`L${u},${m}`,a&&(f<0&&(f=f%Gh+Gh),f>y$?this._append`A${a},${a},0,1,${d},${t-l},${r-c}A${a},${a},0,1,${d},${this._x1=u},${this._y1=m}`:f>ya&&this._append`A${a},${a},0,${+(f>=Vh)},${d},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function Oy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new v$(t)}function Py(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pC(e){this._context=e}pC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yd(e){return new pC(e)}function xC(e){return e[0]}function yC(e){return e[1]}function gC(e,t){var r=Re(!0),a=null,s=Yd,i=null,o=Oy(l);e=typeof e=="function"?e:e===void 0?xC:Re(e),t=typeof t=="function"?t:t===void 0?yC:Re(t);function l(c){var u,m=(c=Py(c)).length,d,f=!1,y;for(a==null&&(i=s(y=o())),u=0;u<=m;++u)!(u<m&&r(d=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(d,u,c),+t(d,u,c));if(y)return i=null,y+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Re(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,a!=null&&(i=s(a)),l):s},l.context=function(c){return arguments.length?(c==null?a=i=null:i=s(a=c),l):a},l}function lc(e,t,r){var a=null,s=Re(!0),i=null,o=Yd,l=null,c=Oy(u);e=typeof e=="function"?e:e===void 0?xC:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?yC:Re(+r);function u(d){var f,y,v,h=(d=Py(d)).length,g,b=!1,N,x=new Array(h),j=new Array(h);for(i==null&&(l=o(N=c())),f=0;f<=h;++f){if(!(f<h&&s(g=d[f],f,d))===b)if(b=!b)y=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=f-1;v>=y;--v)l.point(x[v],j[v]);l.lineEnd(),l.areaEnd()}b&&(x[f]=+e(g,f,d),j[f]=+t(g,f,d),l.point(a?+a(g,f,d):x[f],r?+r(g,f,d):j[f]))}if(N)return l=null,N+""||null}function m(){return gC().defined(s).curve(o).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Re(+d),a=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Re(+d),u):e},u.x1=function(d){return arguments.length?(a=d==null?null:typeof d=="function"?d:Re(+d),u):a},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Re(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Re(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Re(+d),u):r},u.lineX0=u.lineY0=function(){return m().x(e).y(t)},u.lineY1=function(){return m().x(e).y(r)},u.lineX1=function(){return m().x(a).y(t)},u.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Re(!!d),u):s},u.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),u):o},u.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),u):i},u}class vC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function b$(e){return new vC(e,!0)}function j$(e){return new vC(e,!1)}const Ay={draw(e,t){const r=Ur(t/vu);e.moveTo(r,0),e.arc(0,0,r,0,Xd)}},N$={draw(e,t){const r=Ur(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},bC=Ur(1/3),w$=bC*2,S$={draw(e,t){const r=Ur(t/w$),a=r*bC;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},C$={draw(e,t){const r=Ur(t),a=-r/2;e.rect(a,a,r,r)}},k$=.8908130915292852,jC=gu(vu/10)/gu(7*vu/10),O$=gu(Xd/10)*jC,P$=-fC(Xd/10)*jC,A$={draw(e,t){const r=Ur(t*k$),a=O$*r,s=P$*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const o=Xd*i/5,l=fC(o),c=gu(o);e.lineTo(c*r,-l*r),e.lineTo(l*a-c*s,c*a+l*s)}e.closePath()}},sf=Ur(3),E$={draw(e,t){const r=-Ur(t/(sf*3));e.moveTo(0,r*2),e.lineTo(-sf*r,-r),e.lineTo(sf*r,-r),e.closePath()}},cr=-.5,ur=Ur(3)/2,Hh=1/Ur(12),T$=(Hh/2+1)*3,M$={draw(e,t){const r=Ur(t/T$),a=r/2,s=r*Hh,i=a,o=r*Hh+r,l=-i,c=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(cr*a-ur*s,ur*a+cr*s),e.lineTo(cr*i-ur*o,ur*i+cr*o),e.lineTo(cr*l-ur*c,ur*l+cr*c),e.lineTo(cr*a+ur*s,cr*s-ur*a),e.lineTo(cr*i+ur*o,cr*o-ur*i),e.lineTo(cr*l+ur*c,cr*c-ur*l),e.closePath()}};function I$(e,t){let r=null,a=Oy(s);e=typeof e=="function"?e:Re(e||Ay),t=typeof t=="function"?t:Re(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Re(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Re(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function bu(){}function ju(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function NC(e){this._context=e}NC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ju(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ju(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D$(e){return new NC(e)}function wC(e){this._context=e}wC.prototype={areaStart:bu,areaEnd:bu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ju(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $$(e){return new wC(e)}function SC(e){this._context=e}SC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:ju(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _$(e){return new SC(e)}function CC(e){this._context=e}CC.prototype={areaStart:bu,areaEnd:bu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function R$(e){return new CC(e)}function fv(e){return e<0?-1:1}function hv(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(r-e._y1)/(s||a<0&&-0),l=(i*s+o*a)/(a+s);return(fv(i)+fv(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function pv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function of(e,t,r){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,s+l*t,i-l,o-l*r,i,o)}function Nu(e){this._context=e}Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:of(this,this._t0,pv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,of(this,pv(this,r=hv(this,e,t)),r);break;default:of(this,this._t0,r=hv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function kC(e){this._context=new OC(e)}(kC.prototype=Object.create(Nu.prototype)).point=function(e,t){Nu.prototype.point.call(this,t,e)};function OC(e){this._context=e}OC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function L$(e){return new Nu(e)}function F$(e){return new kC(e)}function PC(e){this._context=e}PC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=xv(e),s=xv(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xv(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function B$(e){return new PC(e)}function Zd(e,t){this._context=e,this._t=t}Zd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function U$(e){return new Zd(e,.5)}function q$(e){return new Zd(e,0)}function W$(e){return new Zd(e,1)}function Ls(e,t){if((o=e.length)>1)for(var r=1,a,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Qh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function K$(e,t){return e[t]}function z$(e){const t=[];return t.key=e,t}function V$(){var e=Re([]),t=Qh,r=Ls,a=K$;function s(i){var o=Array.from(e.apply(this,arguments),z$),l,c=o.length,u=-1,m;for(const d of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+a(d,o[l].key,u,i)]).data=d;for(l=0,m=Py(t(o));l<c;++l)o[m[l]].index=l;return r(o,m),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Re(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Re(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?Qh:typeof i=="function"?i:Re(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Ls,s):r},s}function G$(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<a;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<a;++r)e[r][s][1]/=o}Ls(e,t)}}function H$(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}Ls(e,t)}}function Q$(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,o;a<i;++a){for(var l=0,c=0,u=0;l<o;++l){for(var m=e[t[l]],d=m[a][1]||0,f=m[a-1][1]||0,y=(d-f)/2,v=0;v<l;++v){var h=e[t[v]],g=h[a][1]||0,b=h[a-1][1]||0;y+=g-b}c+=d,u+=y*d}s[a-1][1]+=s[a-1][0]=r,c&&(r-=u/c)}s[a-1][1]+=s[a-1][0]=r,Ls(e,t)}}function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}var J$=["type","size","sizeType"];function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jh.apply(this,arguments)}function yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yv(Object(r),!0).forEach(function(a){X$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function X$(e,t,r){return t=Y$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$(e){var t=Z$(e,"string");return Ro(t)=="symbol"?t:t+""}function Z$(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ro(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e3(e,t){if(e==null)return{};var r=t3(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function t3(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var AC={symbolCircle:Ay,symbolCross:N$,symbolDiamond:S$,symbolSquare:C$,symbolStar:A$,symbolTriangle:E$,symbolWye:M$},r3=Math.PI/180,n3=function(t){var r="symbol".concat(Jd(t));return AC[r]||Ay},a3=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*r3;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},s3=function(t,r){AC["symbol".concat(Jd(t))]=r},Ey=function(t){var r=t.type,a=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=e3(t,J$),u=gv(gv({},c),{},{type:a,size:i,sizeType:l}),m=function(){var g=n3(a),b=I$().type(g).size(a3(i,l,a));return b()},d=u.className,f=u.cx,y=u.cy,v=Ne(u,!0);return f===+f&&y===+y&&i===+i?q.createElement("path",Jh({},v,{className:ke("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(y,")"),d:m()})):null};Ey.registerSymbol=s3;function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xh.apply(this,arguments)}function vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function i3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vv(Object(r),!0).forEach(function(a){Lo(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function o3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bv(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,TC(a.key),a)}}function l3(e,t,r){return t&&bv(e.prototype,t),r&&bv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c3(e,t,r){return t=wu(t),u3(e,EC()?Reflect.construct(t,r||[],wu(e).constructor):t.apply(e,r))}function u3(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d3(e)}function d3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EC=function(){return!!e})()}function wu(e){return wu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wu(e)}function m3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yh(e,t)}function Yh(e,t){return Yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Yh(e,t)}function Lo(e,t,r){return t=TC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TC(e){var t=f3(e,"string");return Fs(t)=="symbol"?t:t+""}function f3(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Fs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dr=32,Ty=function(e){function t(){return o3(this,t),c3(this,t,arguments)}return m3(t,e),l3(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=dr/2,o=dr/6,l=dr/3,c=a.inactive?s:a.color;if(a.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:dr,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(dr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(dr/8,"h").concat(dr,"v").concat(dr*3/4,"h").concat(-dr,"z"),className:"recharts-legend-icon"});if(q.isValidElement(a.legendIcon)){var u=i3({},a);return delete u.legendIcon,q.cloneElement(a.legendIcon,u)}return q.createElement(Ey,{fill:c,cx:i,cy:i,size:dr,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,m={x:0,y:0,width:dr,height:dr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(y,v){var h=y.formatter||c,g=ke(Lo(Lo({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var b=ve(y.value)?null:y.value;mn(!ve(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=y.inactive?u:y.color;return q.createElement("li",Xh({className:g,style:d,key:"legend-item-".concat(v)},yu(a.props,y,v)),q.createElement(qh,{width:o,height:o,viewBox:m,style:f},a.renderIcon(y)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},h?h(b,y,v):b))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,o=a.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(k.PureComponent);Lo(Ty,"displayName","Legend");Lo(Ty,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var h3=Rd;function p3(){this.__data__=new h3,this.size=0}var x3=p3;function y3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var g3=y3;function v3(e){return this.__data__.get(e)}var b3=v3;function j3(e){return this.__data__.has(e)}var N3=j3,w3=Rd,S3=gy,C3=vy,k3=200;function O3(e,t){var r=this.__data__;if(r instanceof w3){var a=r.__data__;if(!S3||a.length<k3-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new C3(a)}return r.set(e,t),this.size=r.size,this}var P3=O3,A3=Rd,E3=x3,T3=g3,M3=b3,I3=N3,D3=P3;function gi(e){var t=this.__data__=new A3(e);this.size=t.size}gi.prototype.clear=E3;gi.prototype.delete=T3;gi.prototype.get=M3;gi.prototype.has=I3;gi.prototype.set=D3;var MC=gi,$3="__lodash_hash_undefined__";function _3(e){return this.__data__.set(e,$3),this}var R3=_3;function L3(e){return this.__data__.has(e)}var F3=L3,B3=vy,U3=R3,q3=F3;function Su(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new B3;++t<r;)this.add(e[t])}Su.prototype.add=Su.prototype.push=U3;Su.prototype.has=q3;var IC=Su;function W3(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var DC=W3;function K3(e,t){return e.has(t)}var $C=K3,z3=IC,V3=DC,G3=$C,H3=1,Q3=2;function J3(e,t,r,a,s,i){var o=r&H3,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),m=i.get(t);if(u&&m)return u==t&&m==e;var d=-1,f=!0,y=r&Q3?new z3:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var v=e[d],h=t[d];if(a)var g=o?a(h,v,d,t,e,i):a(v,h,d,e,t,i);if(g!==void 0){if(g)continue;f=!1;break}if(y){if(!V3(t,function(b,N){if(!G3(y,N)&&(v===b||s(v,b,r,a,i)))return y.push(N)})){f=!1;break}}else if(!(v===h||s(v,h,r,a,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var _C=J3,X3=Zr,Y3=X3.Uint8Array,Z3=Y3;function e_(e){var t=-1,r=Array(e.size);return e.forEach(function(a,s){r[++t]=[s,a]}),r}var t_=e_;function r_(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var My=r_,jv=Al,Nv=Z3,n_=yy,a_=_C,s_=t_,i_=My,o_=1,l_=2,c_="[object Boolean]",u_="[object Date]",d_="[object Error]",m_="[object Map]",f_="[object Number]",h_="[object RegExp]",p_="[object Set]",x_="[object String]",y_="[object Symbol]",g_="[object ArrayBuffer]",v_="[object DataView]",wv=jv?jv.prototype:void 0,lf=wv?wv.valueOf:void 0;function b_(e,t,r,a,s,i,o){switch(r){case v_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case g_:return!(e.byteLength!=t.byteLength||!i(new Nv(e),new Nv(t)));case c_:case u_:case f_:return n_(+e,+t);case d_:return e.name==t.name&&e.message==t.message;case h_:case x_:return e==t+"";case m_:var l=s_;case p_:var c=a&o_;if(l||(l=i_),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;a|=l_,o.set(e,t);var m=a_(l(e),l(t),a,s,i,o);return o.delete(e),m;case y_:if(lf)return lf.call(e)==lf.call(t)}return!1}var j_=b_;function N_(e,t){for(var r=-1,a=t.length,s=e.length;++r<a;)e[s+r]=t[r];return e}var RC=N_,w_=RC,S_=Ht;function C_(e,t,r){var a=t(e);return S_(e)?a:w_(a,r(e))}var k_=C_;function O_(e,t){for(var r=-1,a=e==null?0:e.length,s=0,i=[];++r<a;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var P_=O_;function A_(){return[]}var E_=A_,T_=P_,M_=E_,I_=Object.prototype,D_=I_.propertyIsEnumerable,Sv=Object.getOwnPropertySymbols,$_=Sv?function(e){return e==null?[]:(e=Object(e),T_(Sv(e),function(t){return D_.call(e,t)}))}:M_,__=$_;function R_(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var L_=R_,F_=Cn,B_=kn,U_="[object Arguments]";function q_(e){return B_(e)&&F_(e)==U_}var W_=q_,Cv=W_,K_=kn,LC=Object.prototype,z_=LC.hasOwnProperty,V_=LC.propertyIsEnumerable,G_=Cv(function(){return arguments}())?Cv:function(e){return K_(e)&&z_.call(e,"callee")&&!V_.call(e,"callee")},Iy=G_,Cu={exports:{}};function H_(){return!1}var Q_=H_;Cu.exports;(function(e,t){var r=Zr,a=Q_,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||a;e.exports=u})(Cu,Cu.exports);var FC=Cu.exports,J_=9007199254740991,X_=/^(?:0|[1-9]\d*)$/;function Y_(e,t){var r=typeof e;return t=t??J_,!!t&&(r=="number"||r!="symbol"&&X_.test(e))&&e>-1&&e%1==0&&e<t}var Dy=Y_,Z_=9007199254740991;function e5(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Z_}var $y=e5,t5=Cn,r5=$y,n5=kn,a5="[object Arguments]",s5="[object Array]",i5="[object Boolean]",o5="[object Date]",l5="[object Error]",c5="[object Function]",u5="[object Map]",d5="[object Number]",m5="[object Object]",f5="[object RegExp]",h5="[object Set]",p5="[object String]",x5="[object WeakMap]",y5="[object ArrayBuffer]",g5="[object DataView]",v5="[object Float32Array]",b5="[object Float64Array]",j5="[object Int8Array]",N5="[object Int16Array]",w5="[object Int32Array]",S5="[object Uint8Array]",C5="[object Uint8ClampedArray]",k5="[object Uint16Array]",O5="[object Uint32Array]",Ue={};Ue[v5]=Ue[b5]=Ue[j5]=Ue[N5]=Ue[w5]=Ue[S5]=Ue[C5]=Ue[k5]=Ue[O5]=!0;Ue[a5]=Ue[s5]=Ue[y5]=Ue[i5]=Ue[g5]=Ue[o5]=Ue[l5]=Ue[c5]=Ue[u5]=Ue[d5]=Ue[m5]=Ue[f5]=Ue[h5]=Ue[p5]=Ue[x5]=!1;function P5(e){return n5(e)&&r5(e.length)&&!!Ue[t5(e)]}var A5=P5;function E5(e){return function(t){return e(t)}}var BC=E5,ku={exports:{}};ku.exports;(function(e,t){var r=HS,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(ku,ku.exports);var T5=ku.exports,M5=A5,I5=BC,kv=T5,Ov=kv&&kv.isTypedArray,D5=Ov?I5(Ov):M5,UC=D5,$5=L_,_5=Iy,R5=Ht,L5=FC,F5=Dy,B5=UC,U5=Object.prototype,q5=U5.hasOwnProperty;function W5(e,t){var r=R5(e),a=!r&&_5(e),s=!r&&!a&&L5(e),i=!r&&!a&&!s&&B5(e),o=r||a||s||i,l=o?$5(e.length,String):[],c=l.length;for(var u in e)(t||q5.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||F5(u,c)))&&l.push(u);return l}var K5=W5,z5=Object.prototype;function V5(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||z5;return e===r}var G5=V5;function H5(e,t){return function(r){return e(t(r))}}var qC=H5,Q5=qC,J5=Q5(Object.keys,Object),X5=J5,Y5=G5,Z5=X5,eR=Object.prototype,tR=eR.hasOwnProperty;function rR(e){if(!Y5(e))return Z5(e);var t=[];for(var r in Object(e))tR.call(e,r)&&r!="constructor"&&t.push(r);return t}var nR=rR,aR=xy,sR=$y;function iR(e){return e!=null&&sR(e.length)&&!aR(e)}var Ml=iR,oR=K5,lR=nR,cR=Ml;function uR(e){return cR(e)?oR(e):lR(e)}var em=uR,dR=k_,mR=__,fR=em;function hR(e){return dR(e,fR,mR)}var pR=hR,Pv=pR,xR=1,yR=Object.prototype,gR=yR.hasOwnProperty;function vR(e,t,r,a,s,i){var o=r&xR,l=Pv(e),c=l.length,u=Pv(t),m=u.length;if(c!=m&&!o)return!1;for(var d=c;d--;){var f=l[d];if(!(o?f in t:gR.call(t,f)))return!1}var y=i.get(e),v=i.get(t);if(y&&v)return y==t&&v==e;var h=!0;i.set(e,t),i.set(t,e);for(var g=o;++d<c;){f=l[d];var b=e[f],N=t[f];if(a)var x=o?a(N,b,f,t,e,i):a(b,N,f,e,t,i);if(!(x===void 0?b===N||s(b,N,r,a,i):x)){h=!1;break}g||(g=f=="constructor")}if(h&&!g){var j=e.constructor,p=t.constructor;j!=p&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof p=="function"&&p instanceof p)&&(h=!1)}return i.delete(e),i.delete(t),h}var bR=vR,jR=Ga,NR=Zr,wR=jR(NR,"DataView"),SR=wR,CR=Ga,kR=Zr,OR=CR(kR,"Promise"),PR=OR,AR=Ga,ER=Zr,TR=AR(ER,"Set"),WC=TR,MR=Ga,IR=Zr,DR=MR(IR,"WeakMap"),$R=DR,Zh=SR,ep=gy,tp=PR,rp=WC,np=$R,KC=Cn,vi=JS,Av="[object Map]",_R="[object Object]",Ev="[object Promise]",Tv="[object Set]",Mv="[object WeakMap]",Iv="[object DataView]",RR=vi(Zh),LR=vi(ep),FR=vi(tp),BR=vi(rp),UR=vi(np),ga=KC;(Zh&&ga(new Zh(new ArrayBuffer(1)))!=Iv||ep&&ga(new ep)!=Av||tp&&ga(tp.resolve())!=Ev||rp&&ga(new rp)!=Tv||np&&ga(new np)!=Mv)&&(ga=function(e){var t=KC(e),r=t==_R?e.constructor:void 0,a=r?vi(r):"";if(a)switch(a){case RR:return Iv;case LR:return Av;case FR:return Ev;case BR:return Tv;case UR:return Mv}return t});var qR=ga,cf=MC,WR=_C,KR=j_,zR=bR,Dv=qR,$v=Ht,_v=FC,VR=UC,GR=1,Rv="[object Arguments]",Lv="[object Array]",cc="[object Object]",HR=Object.prototype,Fv=HR.hasOwnProperty;function QR(e,t,r,a,s,i){var o=$v(e),l=$v(t),c=o?Lv:Dv(e),u=l?Lv:Dv(t);c=c==Rv?cc:c,u=u==Rv?cc:u;var m=c==cc,d=u==cc,f=c==u;if(f&&_v(e)){if(!_v(t))return!1;o=!0,m=!1}if(f&&!m)return i||(i=new cf),o||VR(e)?WR(e,t,r,a,s,i):KR(e,t,c,r,a,s,i);if(!(r&GR)){var y=m&&Fv.call(e,"__wrapped__"),v=d&&Fv.call(t,"__wrapped__");if(y||v){var h=y?e.value():e,g=v?t.value():t;return i||(i=new cf),s(h,g,r,a,i)}}return f?(i||(i=new cf),zR(e,t,r,a,s,i)):!1}var JR=QR,XR=JR,Bv=kn;function zC(e,t,r,a,s){return e===t?!0:e==null||t==null||!Bv(e)&&!Bv(t)?e!==e&&t!==t:XR(e,t,r,a,zC,s)}var _y=zC,YR=MC,ZR=_y,eL=1,tL=2;function rL(e,t,r,a){var s=r.length,i=s,o=!a;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],m=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new YR;if(a)var f=a(u,m,c,e,t,d);if(!(f===void 0?ZR(m,u,eL|tL,a,d):f))return!1}}return!0}var nL=rL,aL=sa;function sL(e){return e===e&&!aL(e)}var VC=sL,iL=VC,oL=em;function lL(e){for(var t=oL(e),r=t.length;r--;){var a=t[r],s=e[a];t[r]=[a,s,iL(s)]}return t}var cL=lL;function uL(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var GC=uL,dL=nL,mL=cL,fL=GC;function hL(e){var t=mL(e);return t.length==1&&t[0][2]?fL(t[0][0],t[0][1]):function(r){return r===e||dL(r,e,t)}}var pL=hL;function xL(e,t){return e!=null&&t in Object(e)}var yL=xL,gL=tC,vL=Iy,bL=Ht,jL=Dy,NL=$y,wL=Fd;function SL(e,t,r){t=gL(t,e);for(var a=-1,s=t.length,i=!1;++a<s;){var o=wL(t[a]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++a!=s?i:(s=e==null?0:e.length,!!s&&NL(s)&&jL(o,s)&&(bL(e)||vL(e)))}var CL=SL,kL=yL,OL=CL;function PL(e,t){return e!=null&&OL(e,t,kL)}var AL=PL,EL=_y,TL=rC,ML=AL,IL=py,DL=VC,$L=GC,_L=Fd,RL=1,LL=2;function FL(e,t){return IL(e)&&DL(t)?$L(_L(e),t):function(r){var a=TL(r,e);return a===void 0&&a===t?ML(r,e):EL(t,a,RL|LL)}}var BL=FL;function UL(e){return e}var bi=UL;function qL(e){return function(t){return t==null?void 0:t[e]}}var WL=qL,KL=Ny;function zL(e){return function(t){return KL(t,e)}}var VL=zL,GL=WL,HL=VL,QL=py,JL=Fd;function XL(e){return QL(e)?GL(JL(e)):HL(e)}var YL=XL,ZL=pL,e7=BL,t7=bi,r7=Ht,n7=YL;function a7(e){return typeof e=="function"?e:e==null?t7:typeof e=="object"?r7(e)?e7(e[0],e[1]):ZL(e):n7(e)}var ia=a7;function s7(e,t,r,a){for(var s=e.length,i=r+(a?1:-1);a?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var HC=s7;function i7(e){return e!==e}var o7=i7;function l7(e,t,r){for(var a=r-1,s=e.length;++a<s;)if(e[a]===t)return a;return-1}var c7=l7,u7=HC,d7=o7,m7=c7;function f7(e,t,r){return t===t?m7(e,t,r):u7(e,d7,r)}var h7=f7,p7=h7;function x7(e,t){var r=e==null?0:e.length;return!!r&&p7(e,t,0)>-1}var y7=x7;function g7(e,t,r){for(var a=-1,s=e==null?0:e.length;++a<s;)if(r(t,e[a]))return!0;return!1}var v7=g7;function b7(){}var j7=b7,uf=WC,N7=j7,w7=My,S7=1/0,C7=uf&&1/w7(new uf([,-0]))[1]==S7?function(e){return new uf(e)}:N7,k7=C7,O7=IC,P7=y7,A7=v7,E7=$C,T7=k7,M7=My,I7=200;function D7(e,t,r){var a=-1,s=P7,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=A7;else if(i>=I7){var u=t?null:T7(e);if(u)return M7(u);o=!1,s=E7,c=new O7}else c=t?[]:l;e:for(;++a<i;){var m=e[a],d=t?t(m):m;if(m=r||m!==0?m:0,o&&d===d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),l.push(m)}else s(c,d,r)||(c!==l&&c.push(d),l.push(m))}return l}var $7=D7,_7=ia,R7=$7;function L7(e,t){return e&&e.length?R7(e,_7(t)):[]}var F7=L7;const Uv=_e(F7);function QC(e,t,r){return t===!0?Uv(e,r):ve(t)?Uv(e,t):e}function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}var B7=["ref"];function qv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qv(Object(r),!0).forEach(function(a){tm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function U7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wv(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XC(a.key),a)}}function q7(e,t,r){return t&&Wv(e.prototype,t),r&&Wv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function W7(e,t,r){return t=Ou(t),K7(e,JC()?Reflect.construct(t,r||[],Ou(e).constructor):t.apply(e,r))}function K7(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z7(e)}function z7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JC=function(){return!!e})()}function Ou(e){return Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ou(e)}function V7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ap(e,t)}function ap(e,t){return ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ap(e,t)}function tm(e,t,r){return t=XC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XC(e){var t=G7(e,"string");return Bs(t)=="symbol"?t:t+""}function G7(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Bs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H7(e,t){if(e==null)return{};var r=Q7(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Q7(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function J7(e){return e.value}function X7(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var r=H7(t,B7);return q.createElement(Ty,r)}var Kv=1,Os=function(e){function t(){var r;U7(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=W7(this,t,[].concat(s)),tm(r,"lastBoundingBox",{width:-1,height:-1}),r}return V7(t,e),q7(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Kv||Math.abs(s.height-this.lastBoundingBox.height)>Kv)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?en({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,m=s.chartHeight,d,f;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var y=this.getBBoxSnapshot();d={left:((u||0)-y.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();f={top:((m||0)-v.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return en(en({},d),f)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,m=s.payload,d=en(en({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(y){a.wrapperNode=y}},X7(i,en(en({},this.props),{},{payload:QC(m,u,J7)})))}}],[{key:"getWithHeight",value:function(a,s){var i=en(en({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&re(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||s}:null}}])}(k.PureComponent);tm(Os,"displayName","Legend");tm(Os,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zv=Al,Y7=Iy,Z7=Ht,Vv=zv?zv.isConcatSpreadable:void 0;function eF(e){return Z7(e)||Y7(e)||!!(Vv&&e&&e[Vv])}var tF=eF,rF=RC,nF=tF;function YC(e,t,r,a,s){var i=-1,o=e.length;for(r||(r=nF),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?YC(l,t-1,r,a,s):rF(s,l):a||(s[s.length]=l)}return s}var ZC=YC;function aF(e){return function(t,r,a){for(var s=-1,i=Object(t),o=a(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var sF=aF,iF=sF,oF=iF(),lF=oF,cF=lF,uF=em;function dF(e,t){return e&&cF(e,t,uF)}var e2=dF,mF=Ml;function fF(e,t){return function(r,a){if(r==null)return r;if(!mF(r))return e(r,a);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&a(o[i],i,o)!==!1;);return r}}var hF=fF,pF=e2,xF=hF,yF=xF(pF),Ry=yF,gF=Ry,vF=Ml;function bF(e,t){var r=-1,a=vF(e)?Array(e.length):[];return gF(e,function(s,i,o){a[++r]=t(s,i,o)}),a}var t2=bF;function jF(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var NF=jF,Gv=fi;function wF(e,t){if(e!==t){var r=e!==void 0,a=e===null,s=e===e,i=Gv(e),o=t!==void 0,l=t===null,c=t===t,u=Gv(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||a&&o&&c||!r&&c||!s)return 1;if(!a&&!i&&!u&&e<t||u&&r&&s&&!a&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var SF=wF,CF=SF;function kF(e,t,r){for(var a=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++a<o;){var c=CF(s[a],i[a]);if(c){if(a>=l)return c;var u=r[a];return c*(u=="desc"?-1:1)}}return e.index-t.index}var OF=kF,df=jy,PF=Ny,AF=ia,EF=t2,TF=NF,MF=BC,IF=OF,DF=bi,$F=Ht;function _F(e,t,r){t.length?t=df(t,function(i){return $F(i)?function(o){return PF(o,i.length===1?i[0]:i)}:i}):t=[DF];var a=-1;t=df(t,MF(AF));var s=EF(e,function(i,o,l){var c=df(t,function(u){return u(i)});return{criteria:c,index:++a,value:i}});return TF(s,function(i,o){return IF(i,o,r)})}var RF=_F;function LF(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var FF=LF,BF=FF,Hv=Math.max;function UF(e,t,r){return t=Hv(t===void 0?e.length-1:t,0),function(){for(var a=arguments,s=-1,i=Hv(a.length-t,0),o=Array(i);++s<i;)o[s]=a[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=a[s];return l[t]=r(o),BF(e,this,l)}}var qF=UF;function WF(e){return function(){return e}}var KF=WF,zF=Ga,VF=function(){try{var e=zF(Object,"defineProperty");return e({},"",{}),e}catch{}}(),r2=VF,GF=KF,Qv=r2,HF=bi,QF=Qv?function(e,t){return Qv(e,"toString",{configurable:!0,enumerable:!1,value:GF(t),writable:!0})}:HF,JF=QF,XF=800,YF=16,ZF=Date.now;function eB(e){var t=0,r=0;return function(){var a=ZF(),s=YF-(a-r);if(r=a,s>0){if(++t>=XF)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var tB=eB,rB=JF,nB=tB,aB=nB(rB),sB=aB,iB=bi,oB=qF,lB=sB;function cB(e,t){return lB(oB(e,t,iB),e+"")}var uB=cB,dB=yy,mB=Ml,fB=Dy,hB=sa;function pB(e,t,r){if(!hB(r))return!1;var a=typeof t;return(a=="number"?mB(r)&&fB(t,r.length):a=="string"&&t in r)?dB(r[t],e):!1}var rm=pB,xB=ZC,yB=RF,gB=uB,Jv=rm,vB=gB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Jv(e,t[0],t[1])?t=[]:r>2&&Jv(t[0],t[1],t[2])&&(t=[t[0]]),yB(e,xB(t,1),[])}),bB=vB;const Ly=_e(bB);function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sp.apply(this,arguments)}function jB(e,t){return CB(e)||SB(e,t)||wB(e,t)||NB()}function NB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wB(e,t){if(e){if(typeof e=="string")return Xv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xv(e,t)}}function Xv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function SB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(m){u=!0,s=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function CB(e){if(Array.isArray(e))return e}function Yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yv(Object(r),!0).forEach(function(a){kB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kB(e,t,r){return t=OB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OB(e){var t=PB(e,"string");return Fo(t)=="symbol"?t:t+""}function PB(e,t){if(Fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Fo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AB(e){return Array.isArray(e)&&dt(e[0])&&dt(e[1])?e.join(" ~ "):e}var EB=function(t){var r=t.separator,a=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,m=t.payload,d=t.formatter,f=t.itemSorter,y=t.wrapperClassName,v=t.labelClassName,h=t.label,g=t.labelFormatter,b=t.accessibilityLayer,N=b===void 0?!1:b,x=function(){if(m&&m.length){var O={padding:0,margin:0},D=(f?Ly(m,f):m).map(function(B,_){if(B.type==="none")return null;var A=mf({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),F=B.formatter||d||AB,S=B.value,T=B.name,R=S,$=T;if(F&&R!=null&&$!=null){var L=F(S,T,B,_,m);if(Array.isArray(L)){var Q=jB(L,2);R=Q[0],$=Q[1]}else R=L}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:A},dt($)?q.createElement("span",{className:"recharts-tooltip-item-name"},$):null,dt($)?q.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,q.createElement("span",{className:"recharts-tooltip-item-value"},R),q.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},j=mf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),p=mf({margin:0},u),w=!be(h),C=w?h:"",P=ke("recharts-default-tooltip",y),E=ke("recharts-tooltip-label",v);w&&g&&m!==void 0&&m!==null&&(C=g(h,m));var I=N?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",sp({className:P,style:j},I),q.createElement("p",{className:E,style:p},q.isValidElement(C)?C:"".concat(C)),x())};function Bo(e){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(e)}function uc(e,t,r){return t=TB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TB(e){var t=MB(e,"string");return Bo(t)=="symbol"?t:t+""}function MB(e,t){if(Bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Bo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $i="recharts-tooltip-wrapper",IB={visibility:"hidden"};function DB(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return ke($i,uc(uc(uc(uc({},"".concat($i,"-right"),re(r)&&t&&re(t.x)&&r>=t.x),"".concat($i,"-left"),re(r)&&t&&re(t.x)&&r<t.x),"".concat($i,"-bottom"),re(a)&&t&&re(t.y)&&a>=t.y),"".concat($i,"-top"),re(a)&&t&&re(t.y)&&a<t.y))}function Zv(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&re(i[a]))return i[a];var m=r[a]-l-s,d=r[a]+s;if(t[a])return o[a]?m:d;if(o[a]){var f=m,y=c[a];return f<y?Math.max(d,c[a]):Math.max(m,c[a])}var v=d+l,h=c[a]+u;return v>h?Math.max(m,c[a]):Math.max(d,c[a])}function $B(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _B(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,m,d;return o.height>0&&o.width>0&&r?(m=Zv({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=Zv({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=$B({translateX:m,translateY:d,useTranslate3d:l})):u=IB,{cssProperties:u,cssClasses:DB({translateX:m,translateY:d,coordinate:r})}}function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(a){op(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function RB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rb(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a2(a.key),a)}}function LB(e,t,r){return t&&rb(e.prototype,t),r&&rb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FB(e,t,r){return t=Pu(t),BB(e,n2()?Reflect.construct(t,r||[],Pu(e).constructor):t.apply(e,r))}function BB(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UB(e)}function UB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n2=function(){return!!e})()}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pu(e)}function qB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ip(e,t)}function ip(e,t){return ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ip(e,t)}function op(e,t,r){return t=a2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a2(e){var t=WB(e,"string");return Us(t)=="symbol"?t:t+""}function WB(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Us(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nb=1,KB=function(e){function t(){var r;RB(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=FB(this,t,[].concat(s)),op(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),op(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&u!==void 0?u:0}})}}),r}return qB(t,e),LB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>nb||Math.abs(a.height-this.state.lastBoundingBox.height)>nb)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,m=s.coordinate,d=s.hasPayload,f=s.isAnimationActive,y=s.offset,v=s.position,h=s.reverseDirection,g=s.useTranslate3d,b=s.viewBox,N=s.wrapperStyle,x=_B({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:y,position:v,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),j=x.cssClasses,p=x.cssProperties,w=tb(tb({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},p),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},N);return q.createElement("div",{tabIndex:-1,className:j,style:w,ref:function(P){a.wrapperNode=P}},u)}}])}(k.PureComponent),zB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fn={isSsr:zB(),get:function(t){return fn[t]},set:function(t,r){if(typeof t=="string")fn[t]=r;else{var a=Object.keys(t);a&&a.length&&a.forEach(function(s){fn[s]=t[s]})}}};function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ab(Object(r),!0).forEach(function(a){Fy(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ab(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ib(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i2(a.key),a)}}function GB(e,t,r){return t&&ib(e.prototype,t),r&&ib(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HB(e,t,r){return t=Au(t),QB(e,s2()?Reflect.construct(t,r||[],Au(e).constructor):t.apply(e,r))}function QB(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JB(e)}function JB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s2=function(){return!!e})()}function Au(e){return Au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Au(e)}function XB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lp(e,t)}function lp(e,t){return lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lp(e,t)}function Fy(e,t,r){return t=i2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i2(e){var t=YB(e,"string");return qs(t)=="symbol"?t:t+""}function YB(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(qs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZB(e){return e.dataKey}function e8(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(EB,t)}var Ar=function(e){function t(){return VB(this,t),HB(this,t,arguments)}return XB(t,e),GB(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,m=s.coordinate,d=s.filterNull,f=s.isAnimationActive,y=s.offset,v=s.payload,h=s.payloadUniqBy,g=s.position,b=s.reverseDirection,N=s.useTranslate3d,x=s.viewBox,j=s.wrapperStyle,p=v??[];d&&p.length&&(p=QC(v.filter(function(C){return C.value!=null&&(C.hide!==!0||a.props.includeHidden)}),h,ZB));var w=p.length>0;return q.createElement(KB,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:m,hasPayload:w,offset:y,position:g,reverseDirection:b,useTranslate3d:N,viewBox:x,wrapperStyle:j},e8(u,sb(sb({},this.props),{},{payload:p})))}}])}(k.PureComponent);Fy(Ar,"displayName","Tooltip");Fy(Ar,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var t8=Zr,r8=function(){return t8.Date.now()},n8=r8,a8=/\s/;function s8(e){for(var t=e.length;t--&&a8.test(e.charAt(t)););return t}var i8=s8,o8=i8,l8=/^\s+/;function c8(e){return e&&e.slice(0,o8(e)+1).replace(l8,"")}var u8=c8,d8=u8,ob=sa,m8=fi,lb=0/0,f8=/^[-+]0x[0-9a-f]+$/i,h8=/^0b[01]+$/i,p8=/^0o[0-7]+$/i,x8=parseInt;function y8(e){if(typeof e=="number")return e;if(m8(e))return lb;if(ob(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ob(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=d8(e);var r=h8.test(e);return r||p8.test(e)?x8(e.slice(2),r?2:8):f8.test(e)?lb:+e}var o2=y8,g8=sa,ff=n8,cb=o2,v8="Expected a function",b8=Math.max,j8=Math.min;function N8(e,t,r){var a,s,i,o,l,c,u=0,m=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(v8);t=cb(t)||0,g8(r)&&(m=!!r.leading,d="maxWait"in r,i=d?b8(cb(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f);function y(w){var C=a,P=s;return a=s=void 0,u=w,o=e.apply(P,C),o}function v(w){return u=w,l=setTimeout(b,t),m?y(w):o}function h(w){var C=w-c,P=w-u,E=t-C;return d?j8(E,i-P):E}function g(w){var C=w-c,P=w-u;return c===void 0||C>=t||C<0||d&&P>=i}function b(){var w=ff();if(g(w))return N(w);l=setTimeout(b,h(w))}function N(w){return l=void 0,f&&a?y(w):(a=s=void 0,o)}function x(){l!==void 0&&clearTimeout(l),u=0,a=c=s=l=void 0}function j(){return l===void 0?o:N(ff())}function p(){var w=ff(),C=g(w);if(a=arguments,s=this,c=w,C){if(l===void 0)return v(c);if(d)return clearTimeout(l),l=setTimeout(b,t),y(c)}return l===void 0&&(l=setTimeout(b,t)),o}return p.cancel=x,p.flush=j,p}var w8=N8,S8=w8,C8=sa,k8="Expected a function";function O8(e,t,r){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(k8);return C8(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),S8(e,t,{leading:a,maxWait:t,trailing:s})}var P8=O8;const l2=_e(P8);function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(a){A8(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function A8(e,t,r){return t=E8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E8(e){var t=T8(e,"string");return Uo(t)=="symbol"?t:t+""}function T8(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Uo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M8(e,t){return _8(e)||$8(e,t)||D8(e,t)||I8()}function I8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8(e,t){if(e){if(typeof e=="string")return db(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return db(e,t)}}function db(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function $8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(m){u=!0,s=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function _8(e){if(Array.isArray(e))return e}var mb=k.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,m=u===void 0?0:u,d=e.minHeight,f=e.maxHeight,y=e.children,v=e.debounce,h=v===void 0?0:v,g=e.id,b=e.className,N=e.onResize,x=e.style,j=x===void 0?{}:x,p=k.useRef(null),w=k.useRef();w.current=N,k.useImperativeHandle(t,function(){return Object.defineProperty(p.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),p.current},configurable:!0})});var C=k.useState({containerWidth:s.width,containerHeight:s.height}),P=M8(C,2),E=P[0],I=P[1],M=k.useCallback(function(D,B){I(function(_){var A=Math.round(D),F=Math.round(B);return _.containerWidth===A&&_.containerHeight===F?_:{containerWidth:A,containerHeight:F}})},[]);k.useEffect(function(){var D=function(T){var R,$=T[0].contentRect,L=$.width,Q=$.height;M(L,Q),(R=w.current)===null||R===void 0||R.call(w,L,Q)};h>0&&(D=l2(D,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(D),_=p.current.getBoundingClientRect(),A=_.width,F=_.height;return M(A,F),B.observe(p.current),function(){B.disconnect()}},[M,h]);var O=k.useMemo(function(){var D=E.containerWidth,B=E.containerHeight;if(D<0||B<0)return null;mn(wa(o)||wa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),mn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=wa(o)?D:o,A=wa(c)?B:c;r&&r>0&&(_?A=_/r:A&&(_=A*r),f&&A>f&&(A=f)),mn(_>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,A,o,c,m,d,r);var F=!Array.isArray(y)&&dn(y.type).endsWith("Chart");return q.Children.map(y,function(S){return q.isValidElement(S)?k.cloneElement(S,dc({width:_,height:A},F?{style:dc({height:"100%",width:"100%",maxHeight:A,maxWidth:_},S.props.style)}:{})):S})},[r,y,c,f,d,m,E,o]);return q.createElement("div",{id:g?"".concat(g):void 0,className:ke("recharts-responsive-container",b),style:dc(dc({},j),{},{width:o,height:c,minWidth:m,minHeight:d,maxHeight:f}),ref:p},O)}),c2=function(t){return null};c2.displayName="Cell";function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}function fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fb(Object(r),!0).forEach(function(a){R8(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function R8(e,t,r){return t=L8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8(e){var t=F8(e,"string");return qo(t)=="symbol"?t:t+""}function F8(e,t){if(qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(qo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ts={widthCache:{},cacheCount:0},B8=2e3,U8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hb="recharts_measurement_span";function q8(e){var t=cp({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var oo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fn.isSsr)return{width:0,height:0};var a=q8(r),s=JSON.stringify({text:t,copyStyle:a});if(ts.widthCache[s])return ts.widthCache[s];try{var i=document.getElementById(hb);i||(i=document.createElement("span"),i.setAttribute("id",hb),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=cp(cp({},U8),a);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ts.widthCache[s]=c,++ts.cacheCount>B8&&(ts.cacheCount=0,ts.widthCache={}),c}catch{return{width:0,height:0}}},W8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function Eu(e,t){return G8(e)||V8(e,t)||z8(e,t)||K8()}function K8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z8(e,t){if(e){if(typeof e=="string")return pb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pb(e,t)}}function pb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function V8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(m){u=!0,s=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function G8(e){if(Array.isArray(e))return e}function H8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xb(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,J8(a.key),a)}}function Q8(e,t,r){return t&&xb(e.prototype,t),r&&xb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J8(e){var t=X8(e,"string");return Wo(t)=="symbol"?t:t+""}function X8(e,t){if(Wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Wo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Z8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,u2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},e9=Object.keys(u2),ys="NaN";function t9(e,t){return e*u2[t]}var mc=function(){function e(t,r){H8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Y8.test(r)&&(this.num=NaN,this.unit=""),e9.includes(r)&&(this.num=t9(t,r),this.unit="px")}return Q8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=Z8.exec(r))!==null&&a!==void 0?a:[],i=Eu(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function d2(e){if(e.includes(ys))return ys;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=yb.exec(t))!==null&&r!==void 0?r:[],s=Eu(a,4),i=s[1],o=s[2],l=s[3],c=mc.parse(i??""),u=mc.parse(l??""),m=o==="*"?c.multiply(u):c.divide(u);if(m.isNaN())return ys;t=t.replace(yb,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,f=(d=gb.exec(t))!==null&&d!==void 0?d:[],y=Eu(f,4),v=y[1],h=y[2],g=y[3],b=mc.parse(v??""),N=mc.parse(g??""),x=h==="+"?b.add(N):b.subtract(N);if(x.isNaN())return ys;t=t.replace(gb,x.toString())}return t}var vb=/\(([^()]*)\)/;function r9(e){for(var t=e;t.includes("(");){var r=vb.exec(t),a=Eu(r,2),s=a[1];t=t.replace(vb,d2(s))}return t}function n9(e){var t=e.replace(/\s+/g,"");return t=r9(t),t=d2(t),t}function a9(e){try{return n9(e)}catch{return ys}}function hf(e){var t=a9(e.slice(5,-1));return t===ys?"":t}var s9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],i9=["dx","dy","angle","className","breakAll"];function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},up.apply(this,arguments)}function bb(e,t){if(e==null)return{};var r=o9(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function o9(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function jb(e,t){return d9(e)||u9(e,t)||c9(e,t)||l9()}function l9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c9(e,t){if(e){if(typeof e=="string")return Nb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nb(e,t)}}function Nb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function u9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(m){u=!0,s=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function d9(e){if(Array.isArray(e))return e}var m2=/[ \f\n\r\t\v\u2028\u2029]+/,f2=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];be(r)||(a?i=r.toString().split(""):i=r.toString().split(m2));var o=i.map(function(c){return{word:c,width:oo(c,s).width}}),l=a?0:oo("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},m9=function(t,r,a,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,m=re(o),d=l,f=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return _.reduce(function(A,F){var S=F.word,T=F.width,R=A[A.length-1];if(R&&(s==null||i||R.width+T+a<Number(s)))R.words.push(S),R.width+=T+a;else{var $={words:[S],width:T};A.push($)}return A},[])},y=f(r),v=function(_){return _.reduce(function(A,F){return A.width>F.width?A:F})};if(!m)return y;for(var h="",g=function(_){var A=d.slice(0,_),F=f2({breakAll:u,style:c,children:A+h}).wordsWithComputedWidth,S=f(F),T=S.length>o||v(S).width>Number(s);return[T,S]},b=0,N=d.length-1,x=0,j;b<=N&&x<=d.length-1;){var p=Math.floor((b+N)/2),w=p-1,C=g(w),P=jb(C,2),E=P[0],I=P[1],M=g(p),O=jb(M,1),D=O[0];if(!E&&!D&&(b=p+1),E&&D&&(N=p-1),!E&&D){j=I;break}x++}return j||y},wb=function(t){var r=be(t)?[]:t.toString().split(m2);return[{words:r}]},f9=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||a)&&!fn.isSsr){var c,u,m=f2({breakAll:o,children:s,style:i});if(m){var d=m.wordsWithComputedWidth,f=m.spaceWidth;c=d,u=f}else return wb(s);return m9({breakAll:o,children:s,maxLines:l,style:i},c,u,r,a)}return wb(s)},Sb="#808080",Tu=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,m=t.scaleToFit,d=m===void 0?!1:m,f=t.textAnchor,y=f===void 0?"start":f,v=t.verticalAnchor,h=v===void 0?"end":v,g=t.fill,b=g===void 0?Sb:g,N=bb(t,s9),x=k.useMemo(function(){return f9({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:d,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,d,N.style,N.width]),j=N.dx,p=N.dy,w=N.angle,C=N.className,P=N.breakAll,E=bb(N,i9);if(!dt(a)||!dt(i))return null;var I=a+(re(j)?j:0),M=i+(re(p)?p:0),O;switch(h){case"start":O=hf("calc(".concat(u,")"));break;case"middle":O=hf("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=hf("calc(".concat(x.length-1," * -").concat(l,")"));break}var D=[];if(d){var B=x[0].width,_=N.width;D.push("scale(".concat((re(_)?_/B:1)/B,")"))}return w&&D.push("rotate(".concat(w,", ").concat(I,", ").concat(M,")")),D.length&&(E.transform=D.join(" ")),q.createElement("text",up({},Ne(E,!0),{x:I,y:M,className:ke("recharts-text",C),textAnchor:y,fill:b.includes("url")?Sb:b}),x.map(function(A,F){var S=A.words.join(P?"":" ");return q.createElement("tspan",{x:I,dy:F===0?O:l,key:"".concat(S,"-").concat(F)},S)}))};function Qn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function By(e){let t,r,a;e.length!==2?(t=Qn,r=(l,c)=>Qn(e(l),c),a=(l,c)=>e(l)-c):(t=e===Qn||e===h9?e:p9,r=e,a=e);function s(l,c,u=0,m=l.length){if(u<m){if(t(c,c)!==0)return m;do{const d=u+m>>>1;r(l[d],c)<0?u=d+1:m=d}while(u<m)}return u}function i(l,c,u=0,m=l.length){if(u<m){if(t(c,c)!==0)return m;do{const d=u+m>>>1;r(l[d],c)<=0?u=d+1:m=d}while(u<m)}return u}function o(l,c,u=0,m=l.length){const d=s(l,c,u,m-1);return d>u&&a(l[d-1],c)>-a(l[d],c)?d-1:d}return{left:s,center:o,right:i}}function p9(){return 0}function h2(e){return e===null?NaN:+e}function*x9(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(a=+a)>=a&&(yield a)}}const y9=By(Qn),g9=y9.right;By(h2).center;const Il=g9;class Cb extends Map{constructor(t,r=j9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(kb(this,t))}has(t){return super.has(kb(this,t))}set(t,r){return super.set(v9(this,t),r)}delete(t){return super.delete(b9(this,t))}}function kb({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function v9({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function b9({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function j9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function N9(e=Qn){if(e===Qn)return p2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function p2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const w9=Math.sqrt(50),S9=Math.sqrt(10),C9=Math.sqrt(2);function Mu(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=w9?10:i>=S9?5:i>=C9?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Mu(e,t,r*2):[l,c,u]}function dp(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,o]=a?Mu(t,e,r):Mu(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(a)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function mp(e,t,r){return t=+t,e=+e,r=+r,Mu(e,t,r)[2]}function fp(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?mp(t,e,r):mp(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function Ob(e,t){let r;if(t===void 0)for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function Pb(e,t){let r;if(t===void 0)for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function x2(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?p2:N9(s);a>r;){if(a-r>600){const c=a-r+1,u=t-r+1,m=Math.log(c),d=.5*Math.exp(2*m/3),f=.5*Math.sqrt(m*d*(c-d)/c)*(u-c/2<0?-1:1),y=Math.max(r,Math.floor(t-u*d/c+f)),v=Math.min(a,Math.floor(t+(c-u)*d/c+f));x2(e,t,y,v,s)}const i=e[t];let o=r,l=a;for(_i(e,r,t),s(e[a],i)>0&&_i(e,r,a);o<l;){for(_i(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?_i(e,r,l):(++l,_i(e,l,a)),l<=t&&(r=l+1),t<=l&&(a=l-1)}return e}function _i(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function k9(e,t,r){if(e=Float64Array.from(x9(e,r)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return Pb(e);if(t>=1)return Ob(e);var a,s=(a-1)*t,i=Math.floor(s),o=Ob(x2(e,i).subarray(0,i+1)),l=Pb(e.subarray(i+1));return o+(l-o)*(s-i)}}function O9(e,t,r=h2){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function P9(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function wr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function On(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hp=Symbol("implicit");function Uy(){var e=new Cb,t=[],r=[],a=hp;function s(i){let o=e.get(i);if(o===void 0){if(a!==hp)return a;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Cb;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Uy(t,r).unknown(a)},wr.apply(s,arguments),s}function Ko(){var e=Uy().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,o,l=!1,c=0,u=0,m=.5;delete e.unknown;function d(){var f=t().length,y=s<a,v=y?s:a,h=y?a:s;i=(h-v)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),v+=(h-v-i*(f-c))*m,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var g=P9(f).map(function(b){return v+i*b});return r(y?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([a,s]=f,a=+a,s=+s,d()):[a,s]},e.rangeRound=function(f){return[a,s]=f,a=+a,s=+s,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,d()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),d()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),d()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(m=Math.max(0,Math.min(1,f)),d()):m},e.copy=function(){return Ko(t(),[a,s]).round(l).paddingInner(c).paddingOuter(u).align(m)},wr.apply(d(),arguments)}function y2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return y2(t())},e}function lo(){return y2(Ko.apply(null,arguments).paddingInner(1))}function qy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function g2(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Dl(){}var zo=.7,Iu=1/zo,Ps="\\s*([+-]?\\d+)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A9=/^#([0-9a-f]{3,8})$/,E9=new RegExp(`^rgb\\(${Ps},${Ps},${Ps}\\)$`),T9=new RegExp(`^rgb\\(${Hr},${Hr},${Hr}\\)$`),M9=new RegExp(`^rgba\\(${Ps},${Ps},${Ps},${Vo}\\)$`),I9=new RegExp(`^rgba\\(${Hr},${Hr},${Hr},${Vo}\\)$`),D9=new RegExp(`^hsl\\(${Vo},${Hr},${Hr}\\)$`),$9=new RegExp(`^hsla\\(${Vo},${Hr},${Hr},${Vo}\\)$`),Ab={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qy(Dl,Go,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Eb,formatHex:Eb,formatHex8:_9,formatHsl:R9,formatRgb:Tb,toString:Tb});function Eb(){return this.rgb().formatHex()}function _9(){return this.rgb().formatHex8()}function R9(){return v2(this).formatHsl()}function Tb(){return this.rgb().formatRgb()}function Go(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=A9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Mb(t):r===3?new Kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?fc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?fc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=E9.exec(e))?new Kt(t[1],t[2],t[3],1):(t=T9.exec(e))?new Kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=M9.exec(e))?fc(t[1],t[2],t[3],t[4]):(t=I9.exec(e))?fc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=D9.exec(e))?$b(t[1],t[2]/100,t[3]/100,1):(t=$9.exec(e))?$b(t[1],t[2]/100,t[3]/100,t[4]):Ab.hasOwnProperty(e)?Mb(Ab[e]):e==="transparent"?new Kt(NaN,NaN,NaN,0):null}function Mb(e){return new Kt(e>>16&255,e>>8&255,e&255,1)}function fc(e,t,r,a){return a<=0&&(e=t=r=NaN),new Kt(e,t,r,a)}function L9(e){return e instanceof Dl||(e=Go(e)),e?(e=e.rgb(),new Kt(e.r,e.g,e.b,e.opacity)):new Kt}function pp(e,t,r,a){return arguments.length===1?L9(e):new Kt(e,t,r,a??1)}function Kt(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}qy(Kt,pp,g2(Dl,{brighter(e){return e=e==null?Iu:Math.pow(Iu,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zo:Math.pow(zo,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kt(Ea(this.r),Ea(this.g),Ea(this.b),Du(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ib,formatHex:Ib,formatHex8:F9,formatRgb:Db,toString:Db}));function Ib(){return`#${Sa(this.r)}${Sa(this.g)}${Sa(this.b)}`}function F9(){return`#${Sa(this.r)}${Sa(this.g)}${Sa(this.b)}${Sa((isNaN(this.opacity)?1:this.opacity)*255)}`}function Db(){const e=Du(this.opacity);return`${e===1?"rgb(":"rgba("}${Ea(this.r)}, ${Ea(this.g)}, ${Ea(this.b)}${e===1?")":`, ${e})`}`}function Du(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ea(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sa(e){return e=Ea(e),(e<16?"0":"")+e.toString(16)}function $b(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $r(e,t,r,a)}function v2(e){if(e instanceof $r)return new $r(e.h,e.s,e.l,e.opacity);if(e instanceof Dl||(e=Go(e)),!e)return new $r;if(e instanceof $r)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-a)/l+(r<a)*6:r===i?o=(a-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new $r(o,l,c,e.opacity)}function B9(e,t,r,a){return arguments.length===1?v2(e):new $r(e,t,r,a??1)}function $r(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}qy($r,B9,g2(Dl,{brighter(e){return e=e==null?Iu:Math.pow(Iu,e),new $r(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zo:Math.pow(zo,e),new $r(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Kt(pf(e>=240?e-240:e+120,s,a),pf(e,s,a),pf(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new $r(_b(this.h),hc(this.s),hc(this.l),Du(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Du(this.opacity);return`${e===1?"hsl(":"hsla("}${_b(this.h)}, ${hc(this.s)*100}%, ${hc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _b(e){return e=(e||0)%360,e<0?e+360:e}function hc(e){return Math.max(0,Math.min(1,e||0))}function pf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Wy=e=>()=>e;function U9(e,t){return function(r){return e+r*t}}function q9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function W9(e){return(e=+e)==1?b2:function(t,r){return r-t?q9(t,r,e):Wy(isNaN(t)?r:t)}}function b2(e,t){var r=t-e;return r?U9(e,r):Wy(isNaN(e)?t:e)}const Rb=function e(t){var r=W9(t);function a(s,i){var o=r((s=pp(s)).r,(i=pp(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=b2(s.opacity,i.opacity);return function(m){return s.r=o(m),s.g=l(m),s.b=c(m),s.opacity=u(m),s+""}}return a.gamma=e,a}(1);function K9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function z9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V9(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),o;for(o=0;o<a;++o)s[o]=ji(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=s[o](l);return i}}function G9(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function $u(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function H9(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=ji(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var xp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xf=new RegExp(xp.source,"g");function Q9(e){return function(){return e}}function J9(e){return function(t){return e(t)+""}}function X9(e,t){var r=xp.lastIndex=xf.lastIndex=0,a,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=xp.exec(e))&&(s=xf.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:$u(a,s)})),r=xf.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?J9(c[0].x):Q9(t):(t=c.length,function(u){for(var m=0,d;m<t;++m)l[(d=c[m]).i]=d.x(u);return l.join("")})}function ji(e,t){var r=typeof t,a;return t==null||r==="boolean"?Wy(t):(r==="number"?$u:r==="string"?(a=Go(t))?(t=a,Rb):X9:t instanceof Go?Rb:t instanceof Date?G9:z9(t)?K9:Array.isArray(t)?V9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?H9:$u)(e,t)}function Ky(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Y9(e,t){t===void 0&&(t=e,e=ji);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function Z9(e){return function(){return e}}function _u(e){return+e}var Lb=[0,1];function _t(e){return e}function yp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Z9(isNaN(t)?NaN:.5)}function eU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function tU(e,t,r){var a=e[0],s=e[1],i=t[0],o=t[1];return s<a?(a=yp(s,a),i=r(o,i)):(a=yp(a,s),i=r(i,o)),function(l){return i(a(l))}}function rU(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)s[o]=yp(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Il(e,l,1,a)-1;return i[c](s[c](l))}}function $l(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nm(){var e=Lb,t=Lb,r=ji,a,s,i,o=_t,l,c,u;function m(){var f=Math.min(e.length,t.length);return o!==_t&&(o=eU(e[0],e[f-1])),l=f>2?rU:tU,c=u=null,d}function d(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(a),t,r)))(a(o(f)))}return d.invert=function(f){return o(s((u||(u=l(t,e.map(a),$u)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,_u),m()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),m()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=Ky,m()},d.clamp=function(f){return arguments.length?(o=f?!0:_t,m()):o!==_t},d.interpolate=function(f){return arguments.length?(r=f,m()):r},d.unknown=function(f){return arguments.length?(i=f,d):i},function(f,y){return a=f,s=y,m()}}function zy(){return nm()(_t,_t)}function nU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ru(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Ws(e){return e=Ru(Math.abs(e)),e?e[1]:NaN}function aU(e,t){return function(r,a){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function sU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var iU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ho(e){if(!(t=iU.exec(e)))throw new Error("invalid format: "+e);var t;return new Vy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ho.prototype=Vy.prototype;function Vy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oU(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var j2;function lU(e,t){var r=Ru(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(j2=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Ru(e,Math.max(0,t+i-1))[0]}function Fb(e,t){var r=Ru(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const Bb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Fb(e*100,t),r:Fb,s:lU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ub(e){return e}var qb=Array.prototype.map,Wb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cU(e){var t=e.grouping===void 0||e.thousands===void 0?Ub:aU(qb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Ub:sU(qb.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Ho(d);var f=d.fill,y=d.align,v=d.sign,h=d.symbol,g=d.zero,b=d.width,N=d.comma,x=d.precision,j=d.trim,p=d.type;p==="n"?(N=!0,p="g"):Bb[p]||(x===void 0&&(x=12),j=!0,p="g"),(g||f==="0"&&y==="=")&&(g=!0,f="0",y="=");var w=h==="$"?r:h==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",C=h==="$"?a:/[%p]/.test(p)?o:"",P=Bb[p],E=/[defgprs%]/.test(p);x=x===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function I(M){var O=w,D=C,B,_,A;if(p==="c")D=P(M)+D,M="";else{M=+M;var F=M<0||1/M<0;if(M=isNaN(M)?c:P(Math.abs(M),x),j&&(M=oU(M)),F&&+M==0&&v!=="+"&&(F=!1),O=(F?v==="("?v:l:v==="-"||v==="("?"":v)+O,D=(p==="s"?Wb[8+j2/3]:"")+D+(F&&v==="("?")":""),E){for(B=-1,_=M.length;++B<_;)if(A=M.charCodeAt(B),48>A||A>57){D=(A===46?s+M.slice(B+1):M.slice(B))+D,M=M.slice(0,B);break}}}N&&!g&&(M=t(M,1/0));var S=O.length+M.length+D.length,T=S<b?new Array(b-S+1).join(f):"";switch(N&&g&&(M=t(T+M,T.length?b-D.length:1/0),T=""),y){case"<":M=O+M+D+T;break;case"=":M=O+T+M+D;break;case"^":M=T.slice(0,S=T.length>>1)+O+M+D+T.slice(S);break;default:M=T+O+M+D;break}return i(M)}return I.toString=function(){return d+""},I}function m(d,f){var y=u((d=Ho(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Ws(f)/3)))*3,h=Math.pow(10,-v),g=Wb[8+v/3];return function(b){return y(h*b)+g}}return{format:u,formatPrefix:m}}var pc,Gy,N2;uU({thousands:",",grouping:[3],currency:["$",""]});function uU(e){return pc=cU(e),Gy=pc.format,N2=pc.formatPrefix,pc}function dU(e){return Math.max(0,-Ws(Math.abs(e)))}function mU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ws(t)/3)))*3-Ws(Math.abs(e)))}function fU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ws(t)-Ws(e))+1}function w2(e,t,r,a){var s=fp(e,t,r),i;switch(a=Ho(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=mU(s,o))&&(a.precision=i),N2(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=fU(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=dU(s))&&(a.precision=i-(a.type==="%")*2);break}}return Gy(a)}function oa(e){var t=e.domain;return e.ticks=function(r){var a=t();return dp(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return w2(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,o=a[s],l=a[i],c,u,m=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);m-- >0;){if(u=mp(o,l,r),u===c)return a[s]=o,a[i]=l,t(a);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Lu(){var e=zy();return e.copy=function(){return $l(e,Lu())},wr.apply(e,arguments),oa(e)}function S2(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,_u),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return S2(e).unknown(t)},e=arguments.length?Array.from(e,_u):[0,1],oa(r)}function C2(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],o;return i<s&&(o=r,r=a,a=o,o=s,s=i,i=o),e[r]=t.floor(s),e[a]=t.ceil(i),e}function Kb(e){return Math.log(e)}function zb(e){return Math.exp(e)}function hU(e){return-Math.log(-e)}function pU(e){return-Math.exp(-e)}function xU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yU(e){return e===10?xU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Vb(e){return(t,r)=>-e(-t,r)}function Hy(e){const t=e(Kb,zb),r=t.domain;let a=10,s,i;function o(){return s=gU(a),i=yU(a),r()[0]<0?(s=Vb(s),i=Vb(i),e(hU,pU)):e(Kb,zb),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],m=c[c.length-1];const d=m<u;d&&([u,m]=[m,u]);let f=s(u),y=s(m),v,h;const g=l==null?10:+l;let b=[];if(!(a%1)&&y-f<g){if(f=Math.floor(f),y=Math.ceil(y),u>0){for(;f<=y;++f)for(v=1;v<a;++v)if(h=f<0?v/i(-f):v*i(f),!(h<u)){if(h>m)break;b.push(h)}}else for(;f<=y;++f)for(v=a-1;v>=1;--v)if(h=f>0?v/i(-f):v*i(f),!(h<u)){if(h>m)break;b.push(h)}b.length*2<g&&(b=dp(u,m,g))}else b=dp(f,y,Math.min(y-f,g)).map(i);return d?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=Ho(c)).precision==null&&(c.trim=!0),c=Gy(c)),l===1/0)return c;const u=Math.max(1,a*l/t.ticks().length);return m=>{let d=m/i(Math.round(s(m)));return d*a<a-.5&&(d*=a),d<=u?c(m):""}},t.nice=()=>r(C2(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function k2(){const e=Hy(nm()).domain([1,10]);return e.copy=()=>$l(e,k2()).base(e.base()),wr.apply(e,arguments),e}function Gb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Hb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Qy(e){var t=1,r=e(Gb(t),Hb(t));return r.constant=function(a){return arguments.length?e(Gb(t=+a),Hb(t)):t},oa(r)}function O2(){var e=Qy(nm());return e.copy=function(){return $l(e,O2()).constant(e.constant())},wr.apply(e,arguments)}function Qb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bU(e){return e<0?-e*e:e*e}function Jy(e){var t=e(_t,_t),r=1;function a(){return r===1?e(_t,_t):r===.5?e(vU,bU):e(Qb(r),Qb(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},oa(t)}function Xy(){var e=Jy(nm());return e.copy=function(){return $l(e,Xy()).exponent(e.exponent())},wr.apply(e,arguments),e}function jU(){return Xy.apply(null,arguments).exponent(.5)}function Jb(e){return Math.sign(e)*e*e}function NU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function P2(){var e=zy(),t=[0,1],r=!1,a;function s(i){var o=NU(e(i));return isNaN(o)?a:r?Math.round(o):o}return s.invert=function(i){return e.invert(Jb(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,_u)).map(Jb)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return P2(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},wr.apply(s,arguments),oa(s)}function A2(){var e=[],t=[],r=[],a;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=O9(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[Il(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Qn),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return A2().domain(e).range(t).unknown(a)},wr.apply(i,arguments)}function E2(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Il(a,c,0,r)]:i}function l(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,a[0]]:u>=r?[a[r-1],t]:[a[u-1],a[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return E2().domain([e,t]).range(s).unknown(i)},wr.apply(oa(o),arguments)}function T2(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[Il(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return T2().domain(e).range(t).unknown(r)},wr.apply(s,arguments)}const yf=new Date,gf=new Date;function mt(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>mt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(yf.setTime(+i),gf.setTime(+o),e(yf),e(gf),Math.floor(r(yf,gf))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Fu=mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Fu);Fu.range;const sn=1e3,pr=sn*60,on=pr*60,bn=on*24,Yy=bn*7,Xb=bn*30,vf=bn*365,Ca=mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*sn)},(e,t)=>(t-e)/sn,e=>e.getUTCSeconds());Ca.range;const Zy=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sn)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getMinutes());Zy.range;const eg=mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getUTCMinutes());eg.range;const tg=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sn-e.getMinutes()*pr)},(e,t)=>{e.setTime(+e+t*on)},(e,t)=>(t-e)/on,e=>e.getHours());tg.range;const rg=mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*on)},(e,t)=>(t-e)/on,e=>e.getUTCHours());rg.range;const _l=mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pr)/bn,e=>e.getDate()-1);_l.range;const am=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bn,e=>e.getUTCDate()-1);am.range;const M2=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bn,e=>Math.floor(e/bn));M2.range;function Ha(e){return mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pr)/Yy)}const sm=Ha(0),Bu=Ha(1),wU=Ha(2),SU=Ha(3),Ks=Ha(4),CU=Ha(5),kU=Ha(6);sm.range;Bu.range;wU.range;SU.range;Ks.range;CU.range;kU.range;function Qa(e){return mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Yy)}const im=Qa(0),Uu=Qa(1),OU=Qa(2),PU=Qa(3),zs=Qa(4),AU=Qa(5),EU=Qa(6);im.range;Uu.range;OU.range;PU.range;zs.range;AU.range;EU.range;const ng=mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ng.range;const ag=mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ag.range;const jn=mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());jn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});jn.range;const Nn=mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Nn.range;function I2(e,t,r,a,s,i){const o=[[Ca,1,sn],[Ca,5,5*sn],[Ca,15,15*sn],[Ca,30,30*sn],[i,1,pr],[i,5,5*pr],[i,15,15*pr],[i,30,30*pr],[s,1,on],[s,3,3*on],[s,6,6*on],[s,12,12*on],[a,1,bn],[a,2,2*bn],[r,1,Yy],[t,1,Xb],[t,3,3*Xb],[e,1,vf]];function l(u,m,d){const f=m<u;f&&([u,m]=[m,u]);const y=d&&typeof d.range=="function"?d:c(u,m,d),v=y?y.range(u,+m+1):[];return f?v.reverse():v}function c(u,m,d){const f=Math.abs(m-u)/d,y=By(([,,g])=>g).right(o,f);if(y===o.length)return e.every(fp(u/vf,m/vf,d));if(y===0)return Fu.every(Math.max(fp(u,m,d),1));const[v,h]=o[f/o[y-1][2]<o[y][2]/f?y-1:y];return v.every(h)}return[l,c]}const[TU,MU]=I2(Nn,ag,im,M2,rg,eg),[IU,DU]=I2(jn,ng,sm,_l,tg,Zy);function bf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ri(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function $U(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Li(s),m=Fi(s),d=Li(i),f=Fi(i),y=Li(o),v=Fi(o),h=Li(l),g=Fi(l),b=Li(c),N=Fi(c),x={a:F,A:S,b:T,B:R,c:null,d:nj,e:nj,f:aq,g:hq,G:xq,H:tq,I:rq,j:nq,L:D2,m:sq,M:iq,p:$,q:L,Q:ij,s:oj,S:oq,u:lq,U:cq,V:uq,w:dq,W:mq,x:null,X:null,y:fq,Y:pq,Z:yq,"%":sj},j={a:Q,A:Y,b:ne,B:fe,c:null,d:aj,e:aj,f:jq,g:Tq,G:Iq,H:gq,I:vq,j:bq,L:_2,m:Nq,M:wq,p:X,q:he,Q:ij,s:oj,S:Sq,u:Cq,U:kq,V:Oq,w:Pq,W:Aq,x:null,X:null,y:Eq,Y:Mq,Z:Dq,"%":sj},p={a:I,A:M,b:O,B:D,c:B,d:tj,e:tj,f:XU,g:ej,G:Zb,H:rj,I:rj,j:GU,L:JU,m:VU,M:HU,p:E,q:zU,Q:ZU,s:eq,S:QU,u:BU,U:UU,V:qU,w:FU,W:WU,x:_,X:A,y:ej,Y:Zb,Z:KU,"%":YU};x.x=w(r,x),x.X=w(a,x),x.c=w(t,x),j.x=w(r,j),j.X=w(a,j),j.c=w(t,j);function w(G,le){return function(ue){var H=[],xe=-1,ce=0,K=G.length,U,W,pe;for(ue instanceof Date||(ue=new Date(+ue));++xe<K;)G.charCodeAt(xe)===37&&(H.push(G.slice(ce,xe)),(W=Yb[U=G.charAt(++xe)])!=null?U=G.charAt(++xe):W=U==="e"?" ":"0",(pe=le[U])&&(U=pe(ue,W)),H.push(U),ce=xe+1);return H.push(G.slice(ce,xe)),H.join("")}}function C(G,le){return function(ue){var H=Ri(1900,void 0,1),xe=P(H,G,ue+="",0),ce,K;if(xe!=ue.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(le&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(ce=jf(Ri(H.y,0,1)),K=ce.getUTCDay(),ce=K>4||K===0?Uu.ceil(ce):Uu(ce),ce=am.offset(ce,(H.V-1)*7),H.y=ce.getUTCFullYear(),H.m=ce.getUTCMonth(),H.d=ce.getUTCDate()+(H.w+6)%7):(ce=bf(Ri(H.y,0,1)),K=ce.getDay(),ce=K>4||K===0?Bu.ceil(ce):Bu(ce),ce=_l.offset(ce,(H.V-1)*7),H.y=ce.getFullYear(),H.m=ce.getMonth(),H.d=ce.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),K="Z"in H?jf(Ri(H.y,0,1)).getUTCDay():bf(Ri(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(K+5)%7:H.w+H.U*7-(K+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,jf(H)):bf(H)}}function P(G,le,ue,H){for(var xe=0,ce=le.length,K=ue.length,U,W;xe<ce;){if(H>=K)return-1;if(U=le.charCodeAt(xe++),U===37){if(U=le.charAt(xe++),W=p[U in Yb?le.charAt(xe++):U],!W||(H=W(G,ue,H))<0)return-1}else if(U!=ue.charCodeAt(H++))return-1}return H}function E(G,le,ue){var H=u.exec(le.slice(ue));return H?(G.p=m.get(H[0].toLowerCase()),ue+H[0].length):-1}function I(G,le,ue){var H=y.exec(le.slice(ue));return H?(G.w=v.get(H[0].toLowerCase()),ue+H[0].length):-1}function M(G,le,ue){var H=d.exec(le.slice(ue));return H?(G.w=f.get(H[0].toLowerCase()),ue+H[0].length):-1}function O(G,le,ue){var H=b.exec(le.slice(ue));return H?(G.m=N.get(H[0].toLowerCase()),ue+H[0].length):-1}function D(G,le,ue){var H=h.exec(le.slice(ue));return H?(G.m=g.get(H[0].toLowerCase()),ue+H[0].length):-1}function B(G,le,ue){return P(G,t,le,ue)}function _(G,le,ue){return P(G,r,le,ue)}function A(G,le,ue){return P(G,a,le,ue)}function F(G){return o[G.getDay()]}function S(G){return i[G.getDay()]}function T(G){return c[G.getMonth()]}function R(G){return l[G.getMonth()]}function $(G){return s[+(G.getHours()>=12)]}function L(G){return 1+~~(G.getMonth()/3)}function Q(G){return o[G.getUTCDay()]}function Y(G){return i[G.getUTCDay()]}function ne(G){return c[G.getUTCMonth()]}function fe(G){return l[G.getUTCMonth()]}function X(G){return s[+(G.getUTCHours()>=12)]}function he(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var le=w(G+="",x);return le.toString=function(){return G},le},parse:function(G){var le=C(G+="",!1);return le.toString=function(){return G},le},utcFormat:function(G){var le=w(G+="",j);return le.toString=function(){return G},le},utcParse:function(G){var le=C(G+="",!0);return le.toString=function(){return G},le}}}var Yb={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,_U=/^%/,RU=/[\\^$*+?|[\]().{}]/g;function Oe(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function LU(e){return e.replace(RU,"\\$&")}function Li(e){return new RegExp("^(?:"+e.map(LU).join("|")+")","i")}function Fi(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function FU(e,t,r){var a=gt.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function BU(e,t,r){var a=gt.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function UU(e,t,r){var a=gt.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function qU(e,t,r){var a=gt.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function WU(e,t,r){var a=gt.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function Zb(e,t,r){var a=gt.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function ej(e,t,r){var a=gt.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function KU(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function zU(e,t,r){var a=gt.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function VU(e,t,r){var a=gt.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function tj(e,t,r){var a=gt.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function GU(e,t,r){var a=gt.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function rj(e,t,r){var a=gt.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function HU(e,t,r){var a=gt.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function QU(e,t,r){var a=gt.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function JU(e,t,r){var a=gt.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function XU(e,t,r){var a=gt.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function YU(e,t,r){var a=_U.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function ZU(e,t,r){var a=gt.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function eq(e,t,r){var a=gt.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function nj(e,t){return Oe(e.getDate(),t,2)}function tq(e,t){return Oe(e.getHours(),t,2)}function rq(e,t){return Oe(e.getHours()%12||12,t,2)}function nq(e,t){return Oe(1+_l.count(jn(e),e),t,3)}function D2(e,t){return Oe(e.getMilliseconds(),t,3)}function aq(e,t){return D2(e,t)+"000"}function sq(e,t){return Oe(e.getMonth()+1,t,2)}function iq(e,t){return Oe(e.getMinutes(),t,2)}function oq(e,t){return Oe(e.getSeconds(),t,2)}function lq(e){var t=e.getDay();return t===0?7:t}function cq(e,t){return Oe(sm.count(jn(e)-1,e),t,2)}function $2(e){var t=e.getDay();return t>=4||t===0?Ks(e):Ks.ceil(e)}function uq(e,t){return e=$2(e),Oe(Ks.count(jn(e),e)+(jn(e).getDay()===4),t,2)}function dq(e){return e.getDay()}function mq(e,t){return Oe(Bu.count(jn(e)-1,e),t,2)}function fq(e,t){return Oe(e.getFullYear()%100,t,2)}function hq(e,t){return e=$2(e),Oe(e.getFullYear()%100,t,2)}function pq(e,t){return Oe(e.getFullYear()%1e4,t,4)}function xq(e,t){var r=e.getDay();return e=r>=4||r===0?Ks(e):Ks.ceil(e),Oe(e.getFullYear()%1e4,t,4)}function yq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oe(t/60|0,"0",2)+Oe(t%60,"0",2)}function aj(e,t){return Oe(e.getUTCDate(),t,2)}function gq(e,t){return Oe(e.getUTCHours(),t,2)}function vq(e,t){return Oe(e.getUTCHours()%12||12,t,2)}function bq(e,t){return Oe(1+am.count(Nn(e),e),t,3)}function _2(e,t){return Oe(e.getUTCMilliseconds(),t,3)}function jq(e,t){return _2(e,t)+"000"}function Nq(e,t){return Oe(e.getUTCMonth()+1,t,2)}function wq(e,t){return Oe(e.getUTCMinutes(),t,2)}function Sq(e,t){return Oe(e.getUTCSeconds(),t,2)}function Cq(e){var t=e.getUTCDay();return t===0?7:t}function kq(e,t){return Oe(im.count(Nn(e)-1,e),t,2)}function R2(e){var t=e.getUTCDay();return t>=4||t===0?zs(e):zs.ceil(e)}function Oq(e,t){return e=R2(e),Oe(zs.count(Nn(e),e)+(Nn(e).getUTCDay()===4),t,2)}function Pq(e){return e.getUTCDay()}function Aq(e,t){return Oe(Uu.count(Nn(e)-1,e),t,2)}function Eq(e,t){return Oe(e.getUTCFullYear()%100,t,2)}function Tq(e,t){return e=R2(e),Oe(e.getUTCFullYear()%100,t,2)}function Mq(e,t){return Oe(e.getUTCFullYear()%1e4,t,4)}function Iq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?zs(e):zs.ceil(e),Oe(e.getUTCFullYear()%1e4,t,4)}function Dq(){return"+0000"}function sj(){return"%"}function ij(e){return+e}function oj(e){return Math.floor(+e/1e3)}var rs,L2,F2;$q({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $q(e){return rs=$U(e),L2=rs.format,rs.parse,F2=rs.utcFormat,rs.utcParse,rs}function _q(e){return new Date(e)}function Rq(e){return e instanceof Date?+e:+new Date(+e)}function sg(e,t,r,a,s,i,o,l,c,u){var m=zy(),d=m.invert,f=m.domain,y=u(".%L"),v=u(":%S"),h=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),N=u("%b %d"),x=u("%B"),j=u("%Y");function p(w){return(c(w)<w?y:l(w)<w?v:o(w)<w?h:i(w)<w?g:a(w)<w?s(w)<w?b:N:r(w)<w?x:j)(w)}return m.invert=function(w){return new Date(d(w))},m.domain=function(w){return arguments.length?f(Array.from(w,Rq)):f().map(_q)},m.ticks=function(w){var C=f();return e(C[0],C[C.length-1],w??10)},m.tickFormat=function(w,C){return C==null?p:u(C)},m.nice=function(w){var C=f();return(!w||typeof w.range!="function")&&(w=t(C[0],C[C.length-1],w??10)),w?f(C2(C,w)):m},m.copy=function(){return $l(m,sg(e,t,r,a,s,i,o,l,c,u))},m}function Lq(){return wr.apply(sg(IU,DU,jn,ng,sm,_l,tg,Zy,Ca,L2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fq(){return wr.apply(sg(TU,MU,Nn,ag,im,am,rg,eg,Ca,F2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function om(){var e=0,t=1,r,a,s,i,o=_t,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(s===0?.5:(d=(i(d)-r)*s,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function m(d){return function(f){var y,v;return arguments.length?([y,v]=f,o=d(y,v),u):[o(0),o(1)]}}return u.range=m(ji),u.rangeRound=m(Ky),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),a=d(t),s=r===a?0:1/(a-r),u}}function la(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function B2(){var e=oa(om()(_t));return e.copy=function(){return la(e,B2())},On.apply(e,arguments)}function U2(){var e=Hy(om()).domain([1,10]);return e.copy=function(){return la(e,U2()).base(e.base())},On.apply(e,arguments)}function q2(){var e=Qy(om());return e.copy=function(){return la(e,q2()).constant(e.constant())},On.apply(e,arguments)}function ig(){var e=Jy(om());return e.copy=function(){return la(e,ig()).exponent(e.exponent())},On.apply(e,arguments)}function Bq(){return ig.apply(null,arguments).exponent(.5)}function W2(){var e=[],t=_t;function r(a){if(a!=null&&!isNaN(a=+a))return t((Il(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Qn),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>k9(e,i/a))},r.copy=function(){return W2(t).domain(e)},On.apply(r,arguments)}function lm(){var e=0,t=.5,r=1,a=1,s,i,o,l,c,u=_t,m,d=!1,f;function y(h){return isNaN(h=+h)?f:(h=.5+((h=+m(h))-i)*(a*h<a*i?l:c),u(d?Math.max(0,Math.min(1,h)):h))}y.domain=function(h){return arguments.length?([e,t,r]=h,s=m(e=+e),i=m(t=+t),o=m(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,y):[e,t,r]},y.clamp=function(h){return arguments.length?(d=!!h,y):d},y.interpolator=function(h){return arguments.length?(u=h,y):u};function v(h){return function(g){var b,N,x;return arguments.length?([b,N,x]=g,u=Y9(h,[b,N,x]),y):[u(0),u(.5),u(1)]}}return y.range=v(ji),y.rangeRound=v(Ky),y.unknown=function(h){return arguments.length?(f=h,y):f},function(h){return m=h,s=h(e),i=h(t),o=h(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,y}}function K2(){var e=oa(lm()(_t));return e.copy=function(){return la(e,K2())},On.apply(e,arguments)}function z2(){var e=Hy(lm()).domain([.1,1,10]);return e.copy=function(){return la(e,z2()).base(e.base())},On.apply(e,arguments)}function V2(){var e=Qy(lm());return e.copy=function(){return la(e,V2()).constant(e.constant())},On.apply(e,arguments)}function og(){var e=Jy(lm());return e.copy=function(){return la(e,og()).exponent(e.exponent())},On.apply(e,arguments)}function Uq(){return og.apply(null,arguments).exponent(.5)}const lj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ko,scaleDiverging:K2,scaleDivergingLog:z2,scaleDivergingPow:og,scaleDivergingSqrt:Uq,scaleDivergingSymlog:V2,scaleIdentity:S2,scaleImplicit:hp,scaleLinear:Lu,scaleLog:k2,scaleOrdinal:Uy,scalePoint:lo,scalePow:Xy,scaleQuantile:A2,scaleQuantize:E2,scaleRadial:P2,scaleSequential:B2,scaleSequentialLog:U2,scaleSequentialPow:ig,scaleSequentialQuantile:W2,scaleSequentialSqrt:Bq,scaleSequentialSymlog:q2,scaleSqrt:jU,scaleSymlog:O2,scaleThreshold:T2,scaleTime:Lq,scaleUtc:Fq,tickFormat:w2},Symbol.toStringTag,{value:"Module"}));var qq=fi;function Wq(e,t,r){for(var a=-1,s=e.length;++a<s;){var i=e[a],o=t(i);if(o!=null&&(l===void 0?o===o&&!qq(o):r(o,l)))var l=o,c=i}return c}var G2=Wq;function Kq(e,t){return e>t}var zq=Kq,Vq=G2,Gq=zq,Hq=bi;function Qq(e){return e&&e.length?Vq(e,Hq,Gq):void 0}var Jq=Qq;const cm=_e(Jq);function Xq(e,t){return e<t}var Yq=Xq,Zq=G2,eW=Yq,tW=bi;function rW(e){return e&&e.length?Zq(e,tW,eW):void 0}var nW=rW;const um=_e(nW);var aW=jy,sW=ia,iW=t2,oW=Ht;function lW(e,t){var r=oW(e)?aW:iW;return r(e,sW(t))}var cW=lW,uW=ZC,dW=cW;function mW(e,t){return uW(dW(e,t),1)}var fW=mW;const hW=_e(fW);var pW=_y;function xW(e,t){return pW(e,t)}var yW=xW;const dm=_e(yW);var Ni=1e9,gW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cg,ze=!0,jr="[DecimalError] ",Ta=jr+"Invalid argument: ",lg=jr+"Exponent out of range: ",wi=Math.floor,va=Math.pow,vW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zt,pt=1e7,qe=7,H2=9007199254740991,qu=wi(H2/qe),ie={};ie.absoluteValue=ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ie.comparedTo=ie.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ie.dividedBy=ie.div=function(e){return hn(this,new this.constructor(e))};ie.dividedToIntegerBy=ie.idiv=function(e){var t=this,r=t.constructor;return De(hn(t,new r(e),0,1),r.precision)};ie.equals=ie.eq=function(e){return!this.cmp(e)};ie.exponent=function(){return at(this)};ie.greaterThan=ie.gt=function(e){return this.cmp(e)>0};ie.greaterThanOrEqualTo=ie.gte=function(e){return this.cmp(e)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(e){return this.cmp(e)<0};ie.lessThanOrEqualTo=ie.lte=function(e){return this.cmp(e)<1};ie.logarithm=ie.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Zt))throw Error(jr+"NaN");if(r.s<1)throw Error(jr+(r.s?"NaN":"-Infinity"));return r.eq(Zt)?new a(0):(ze=!1,t=hn(Qo(r,i),Qo(e,i),i),ze=!0,De(t,s))};ie.minus=ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?X2(t,e):Q2(t,(e.s=-e.s,e))};ie.modulo=ie.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(jr+"NaN");return r.s?(ze=!1,t=hn(r,e,0,1).times(e),ze=!0,r.minus(t)):De(new a(r),s)};ie.naturalExponential=ie.exp=function(){return J2(this)};ie.naturalLogarithm=ie.ln=function(){return Qo(this)};ie.negated=ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ie.plus=ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Q2(t,e):X2(t,(e.s=-e.s,e))};ie.precision=ie.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ta+e);if(t=at(s)+1,a=s.d.length-1,r=a*qe+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};ie.squareRoot=ie.sqrt=function(){var e,t,r,a,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(jr+"NaN")}for(e=at(l),ze=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=zr(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=wi((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=a,a=i.plus(hn(l,i,o+2)).times(.5),zr(i.d).slice(0,o)===(t=zr(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(De(i,r+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return ze=!0,De(a,r)};ie.times=ie.mul=function(e){var t,r,a,s,i,o,l,c,u,m=this,d=m.constructor,f=m.d,y=(e=new d(e)).d;if(!m.s||!e.s)return new d(0);for(e.s*=m.s,r=m.e+e.e,c=f.length,u=y.length,c<u&&(i=f,f=y,y=i,o=c,c=u,u=o),i=[],o=c+u,a=o;a--;)i.push(0);for(a=u;--a>=0;){for(t=0,s=c+a;s>a;)l=i[s]+y[a]*f[s-a-1]+t,i[s--]=l%pt|0,t=l/pt|0;i[s]=(i[s]+t)%pt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ze?De(e,d.precision):e};ie.toDecimalPlaces=ie.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Xr(e,0,Ni),t===void 0?t=a.rounding:Xr(t,0,8),De(r,e+at(r)+1,t))};ie.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=Ua(a,!0):(Xr(e,0,Ni),t===void 0?t=s.rounding:Xr(t,0,8),a=De(new s(a),e+1,t),r=Ua(a,!0,e+1)),r};ie.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?Ua(s):(Xr(e,0,Ni),t===void 0?t=i.rounding:Xr(t,0,8),a=De(new i(s),e+at(s)+1,t),r=Ua(a.abs(),!1,e+at(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ie.toInteger=ie.toint=function(){var e=this,t=e.constructor;return De(new t(e),at(e)+1,t.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(e){var t,r,a,s,i,o,l=this,c=l.constructor,u=12,m=+(e=new c(e));if(!e.s)return new c(Zt);if(l=new c(l),!l.s){if(e.s<1)throw Error(jr+"Infinity");return l}if(l.eq(Zt))return l;if(a=c.precision,e.eq(Zt))return De(l,a);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=m<0?-m:m)<=H2){for(s=new c(Zt),t=Math.ceil(a/qe+4),ze=!1;r%2&&(s=s.times(l),uj(s.d,t)),r=wi(r/2),r!==0;)l=l.times(l),uj(l.d,t);return ze=!0,e.s<0?new c(Zt).div(s):De(s,a)}}else if(i<0)throw Error(jr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ze=!1,s=e.times(Qo(l,a+u)),ze=!0,s=J2(s),s.s=i,s};ie.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=at(s),a=Ua(s,r<=i.toExpNeg||r>=i.toExpPos)):(Xr(e,1,Ni),t===void 0?t=i.rounding:Xr(t,0,8),s=De(new i(s),e,t),r=at(s),a=Ua(s,e<=r||r<=i.toExpNeg,e)),a};ie.toSignificantDigits=ie.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Xr(e,1,Ni),t===void 0?t=a.rounding:Xr(t,0,8)),De(new a(r),e,t)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=at(e),r=e.constructor;return Ua(e,t<=r.toExpNeg||t>=r.toExpPos)};function Q2(e,t){var r,a,s,i,o,l,c,u,m=e.constructor,d=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),ze?De(t,d):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(a=c,i=-i,l=u.length):(a=u,s=o,l=c.length),o=Math.ceil(d/qe),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,a=u,u=c,c=a),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/pt|0,c[i]%=pt;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,ze?De(t,d):t}function Xr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ta+e)}function zr(e){var t,r,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)a=e[t]+"",r=qe-a.length,r&&(i+=Tn(r)),i+=a;o=e[t],a=o+"",r=qe-a.length,r&&(i+=Tn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var hn=function(){function e(a,s){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*s+o,a[l]=i%pt|0,o=i/pt|0;return o&&a.unshift(o),a}function t(a,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(a[l]!=s[l]){c=a[l]>s[l]?1:-1;break}return c}function r(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*pt+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var l,c,u,m,d,f,y,v,h,g,b,N,x,j,p,w,C,P,E=a.constructor,I=a.s==s.s?1:-1,M=a.d,O=s.d;if(!a.s)return new E(a);if(!s.s)throw Error(jr+"Division by zero");for(c=a.e-s.e,C=O.length,p=M.length,y=new E(I),v=y.d=[],u=0;O[u]==(M[u]||0);)++u;if(O[u]>(M[u]||0)&&--c,i==null?N=i=E.precision:o?N=i+(at(a)-at(s))+1:N=i,N<0)return new E(0);if(N=N/qe+2|0,u=0,C==1)for(m=0,O=O[0],N++;(u<p||m)&&N--;u++)x=m*pt+(M[u]||0),v[u]=x/O|0,m=x%O|0;else{for(m=pt/(O[0]+1)|0,m>1&&(O=e(O,m),M=e(M,m),C=O.length,p=M.length),j=C,h=M.slice(0,C),g=h.length;g<C;)h[g++]=0;P=O.slice(),P.unshift(0),w=O[0],O[1]>=pt/2&&++w;do m=0,l=t(O,h,C,g),l<0?(b=h[0],C!=g&&(b=b*pt+(h[1]||0)),m=b/w|0,m>1?(m>=pt&&(m=pt-1),d=e(O,m),f=d.length,g=h.length,l=t(d,h,f,g),l==1&&(m--,r(d,C<f?P:O,f))):(m==0&&(l=m=1),d=O.slice()),f=d.length,f<g&&d.unshift(0),r(h,d,g),l==-1&&(g=h.length,l=t(O,h,C,g),l<1&&(m++,r(h,C<g?P:O,g))),g=h.length):l===0&&(m++,h=[0]),v[u++]=m,l&&h[0]?h[g++]=M[j]||0:(h=[M[j]],g=1);while((j++<p||h[0]!==void 0)&&N--)}return v[0]||v.shift(),y.e=c,De(y,o?i+at(y)+1:i)}}();function J2(e,t){var r,a,s,i,o,l,c=0,u=0,m=e.constructor,d=m.precision;if(at(e)>16)throw Error(lg+at(e));if(!e.s)return new m(Zt);for(t==null?(ze=!1,l=d):l=t,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(a=Math.log(va(2,u))/Math.LN10*2+5|0,l+=a,r=s=i=new m(Zt),m.precision=l;;){if(s=De(s.times(e),l),r=r.times(++c),o=i.plus(hn(s,r,l)),zr(o.d).slice(0,l)===zr(i.d).slice(0,l)){for(;u--;)i=De(i.times(i),l);return m.precision=d,t==null?(ze=!0,De(i,d)):i}i=o}}function at(e){for(var t=e.e*qe,r=e.d[0];r>=10;r/=10)t++;return t}function Nf(e,t,r){if(t>e.LN10.sd())throw ze=!0,r&&(e.precision=r),Error(jr+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function Tn(e){for(var t="";e--;)t+="0";return t}function Qo(e,t){var r,a,s,i,o,l,c,u,m,d=1,f=10,y=e,v=y.d,h=y.constructor,g=h.precision;if(y.s<1)throw Error(jr+(y.s?"NaN":"-Infinity"));if(y.eq(Zt))return new h(0);if(t==null?(ze=!1,u=g):u=t,y.eq(10))return t==null&&(ze=!0),Nf(h,u);if(u+=f,h.precision=u,r=zr(v),a=r.charAt(0),i=at(y),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)y=y.times(e),r=zr(y.d),a=r.charAt(0),d++;i=at(y),a>1?(y=new h("0."+r),i++):y=new h(a+"."+r.slice(1))}else return c=Nf(h,u+2,g).times(i+""),y=Qo(new h(a+"."+r.slice(1)),u-f).plus(c),h.precision=g,t==null?(ze=!0,De(y,g)):y;for(l=o=y=hn(y.minus(Zt),y.plus(Zt),u),m=De(y.times(y),u),s=3;;){if(o=De(o.times(m),u),c=l.plus(hn(o,new h(s),u)),zr(c.d).slice(0,u)===zr(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Nf(h,u+2,g).times(i+""))),l=hn(l,new h(d),u),h.precision=g,t==null?(ze=!0,De(l,g)):l;l=c,s+=2}}function cj(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=wi(r/qe),e.d=[],a=(r+1)%qe,r<0&&(a+=qe),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=qe;a<s;)e.d.push(+t.slice(a,a+=qe));t=t.slice(a),a=qe-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),ze&&(e.e>qu||e.e<-qu))throw Error(lg+r)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,r){var a,s,i,o,l,c,u,m,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=qe,s=t,u=d[m=0];else{if(m=Math.ceil((a+1)/qe),i=d.length,m>=i)return e;for(u=i=d[m],o=1;i>=10;i/=10)o++;a%=qe,s=a-qe+o}if(r!==void 0&&(i=va(10,o-s-1),l=u/i%10|0,c=t<0||d[m+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(a>0?s>0?u/va(10,o-s):0:d[m-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=at(e),d.length=1,t=t-i-1,d[0]=va(10,(qe-t%qe)%qe),e.e=wi(-t/qe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(a==0?(d.length=m,i=1,m--):(d.length=m+1,i=va(10,qe-a),d[m]=s>0?(u/va(10,o-s)%va(10,s)|0)*i:0),c)for(;;)if(m==0){(d[0]+=i)==pt&&(d[0]=1,++e.e);break}else{if(d[m]+=i,d[m]!=pt)break;d[m--]=0,i=1}for(a=d.length;d[--a]===0;)d.pop();if(ze&&(e.e>qu||e.e<-qu))throw Error(lg+at(e));return e}function X2(e,t){var r,a,s,i,o,l,c,u,m,d,f=e.constructor,y=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),ze?De(t,y):t;if(c=e.d,d=t.d,a=t.e,u=e.e,c=c.slice(),o=u-a,o){for(m=o<0,m?(r=c,o=-o,l=d.length):(r=d,a=u,l=c.length),s=Math.max(Math.ceil(y/qe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=d.length,m=s<l,m&&(l=s),s=0;s<l;s++)if(c[s]!=d[s]){m=c[s]<d[s];break}o=0}for(m&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,s=d.length-l;s>0;--s)c[l++]=0;for(s=d.length;s>o;){if(c[--s]<d[s]){for(i=s;i&&c[--i]===0;)c[i]=pt-1;--c[i],c[s]+=pt}c[s]-=d[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,ze?De(t,y):t):new f(0)}function Ua(e,t,r){var a,s=at(e),i=zr(e.d),o=i.length;return t?(r&&(a=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Tn(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Tn(-s-1)+i,r&&(a=r-o)>0&&(i+=Tn(a))):s>=o?(i+=Tn(s+1-o),r&&(a=r-s-1)>0&&(i=i+"."+Tn(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-o)>0&&(s+1===o&&(i+="."),i+=Tn(a))),e.s<0?"-"+i:i}function uj(e,t){if(e.length>t)return e.length=t,!0}function Y2(e){var t,r,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ta+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return cj(o,i.toString())}else if(typeof i!="string")throw Error(Ta+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,vW.test(i))cj(o,i);else throw Error(Ta+i)}if(s.prototype=ie,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Y2,s.config=s.set=bW,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function bW(e){if(!e||typeof e!="object")throw Error(jr+"Object expected");var t,r,a,s=["precision",1,Ni,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(wi(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Ta+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Ta+r+": "+a);return this}var cg=Y2(gW);Zt=new cg(1);const Ie=cg;function jW(e){return CW(e)||SW(e)||wW(e)||NW()}function NW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wW(e,t){if(e){if(typeof e=="string")return gp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gp(e,t)}}function SW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function CW(e){if(Array.isArray(e))return gp(e)}function gp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var kW=function(t){return t},Z2={"@@functional/placeholder":!0},ek=function(t){return t===Z2},dj=function(t){return function r(){return arguments.length===0||arguments.length===1&&ek(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},OW=function e(t,r){return t===1?r:dj(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==Z2}).length;return o>=t?r.apply(void 0,s):e(t-o,dj(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var m=s.map(function(d){return ek(d)?c.shift():d});return r.apply(void 0,jW(m).concat(c))}))})},mm=function(t){return OW(t.length,t)},vp=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},PW=mm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),AW=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return kW;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},bp=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},tk=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,a=t.apply(void 0,i)),a}};function EW(e){var t;return e===0?t=1:t=Math.floor(new Ie(e).abs().log(10).toNumber())+1,t}function TW(e,t,r){for(var a=new Ie(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var MW=mm(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),IW=mm(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),DW=mm(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const fm={rangeStep:TW,getDigitCount:EW,interpolateNumber:MW,uninterpolateNumber:IW,uninterpolateTruncation:DW};function jp(e){return RW(e)||_W(e)||rk(e)||$W()}function $W(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _W(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function RW(e){if(Array.isArray(e))return Np(e)}function Jo(e,t){return BW(e)||FW(e,t)||rk(e,t)||LW()}function LW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rk(e,t){if(e){if(typeof e=="string")return Np(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Np(e,t)}}function Np(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function FW(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(c){s=!0,i=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function BW(e){if(Array.isArray(e))return e}function nk(e){var t=Jo(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function ak(e,t,r){if(e.lte(0))return new Ie(0);var a=fm.getDigitCount(e.toNumber()),s=new Ie(10).pow(a),i=e.div(s),o=a!==1?.05:.1,l=new Ie(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Ie(Math.ceil(c))}function UW(e,t,r){var a=1,s=new Ie(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Ie(10).pow(fm.getDigitCount(e)-1),s=new Ie(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Ie(Math.floor(e)))}else e===0?s=new Ie(Math.floor((t-1)/2)):r||(s=new Ie(Math.floor(e)));var o=Math.floor((t-1)/2),l=AW(PW(function(c){return s.add(new Ie(c-o).mul(a)).toNumber()}),vp);return l(0,t)}function sk(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var i=ak(new Ie(t).sub(e).div(r-1),a,s),o;e<=0&&t>=0?o=new Ie(0):(o=new Ie(e).add(t).div(2),o=o.sub(new Ie(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ie(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?sk(e,t,r,a,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Ie(l).mul(i)),tickMax:o.add(new Ie(c).mul(i))})}function qW(e){var t=Jo(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=nk([r,a]),c=Jo(l,2),u=c[0],m=c[1];if(u===-1/0||m===1/0){var d=m===1/0?[u].concat(jp(vp(0,s-1).map(function(){return 1/0}))):[].concat(jp(vp(0,s-1).map(function(){return-1/0})),[m]);return r>a?bp(d):d}if(u===m)return UW(u,s,i);var f=sk(u,m,o,i),y=f.step,v=f.tickMin,h=f.tickMax,g=fm.rangeStep(v,h.add(new Ie(.1).mul(y)),y);return r>a?bp(g):g}function WW(e,t){var r=Jo(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=nk([a,s]),l=Jo(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[a,s];if(c===u)return[c];var m=Math.max(t,2),d=ak(new Ie(u).sub(c).div(m-1),i,0),f=[].concat(jp(fm.rangeStep(new Ie(c),new Ie(u).sub(new Ie(.99).mul(d)),d)),[u]);return a>s?bp(f):f}var KW=tk(qW),zW=tk(WW),VW=!0,wf="Invariant failed";function qa(e,t){if(!e){if(VW)throw new Error(wf);var r=typeof t=="function"?t():t,a=r?"".concat(wf,": ").concat(r):wf;throw new Error(a)}}var GW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wu.apply(this,arguments)}function HW(e,t){return YW(e)||XW(e,t)||JW(e,t)||QW()}function QW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JW(e,t){if(e){if(typeof e=="string")return mj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mj(e,t)}}function mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function XW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(m){u=!0,s=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function YW(e){if(Array.isArray(e))return e}function ZW(e,t){if(e==null)return{};var r=eK(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function eK(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function tK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fj(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lk(a.key),a)}}function rK(e,t,r){return t&&fj(e.prototype,t),r&&fj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nK(e,t,r){return t=Ku(t),aK(e,ik()?Reflect.construct(t,r||[],Ku(e).constructor):t.apply(e,r))}function aK(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sK(e)}function sK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ik(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ik=function(){return!!e})()}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ku(e)}function iK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wp(e,t)}function wp(e,t){return wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},wp(e,t)}function ok(e,t,r){return t=lk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lk(e){var t=oK(e,"string");return Vs(t)=="symbol"?t:t+""}function oK(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Vs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rl=function(e){function t(){return tK(this,t),nK(this,t,arguments)}return iK(t,e),rK(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,o=a.width,l=a.dataKey,c=a.data,u=a.dataPointFormatter,m=a.xAxis,d=a.yAxis,f=ZW(a,GW),y=Ne(f,!1);this.props.direction==="x"&&m.type!=="number"&&qa(!1);var v=c.map(function(h){var g=u(h,l),b=g.x,N=g.y,x=g.value,j=g.errorVal;if(!j)return null;var p=[],w,C;if(Array.isArray(j)){var P=HW(j,2);w=P[0],C=P[1]}else w=C=j;if(i==="vertical"){var E=m.scale,I=N+s,M=I+o,O=I-o,D=E(x-w),B=E(x+C);p.push({x1:B,y1:M,x2:B,y2:O}),p.push({x1:D,y1:I,x2:B,y2:I}),p.push({x1:D,y1:M,x2:D,y2:O})}else if(i==="horizontal"){var _=d.scale,A=b+s,F=A-o,S=A+o,T=_(x-w),R=_(x+C);p.push({x1:F,y1:R,x2:S,y2:R}),p.push({x1:A,y1:T,x2:A,y2:R}),p.push({x1:F,y1:T,x2:S,y2:T})}return q.createElement(Ze,Wu({className:"recharts-errorBar",key:"bar-".concat(p.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},y),p.map(function($){return q.createElement("line",Wu({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return q.createElement(Ze,{className:"recharts-errorBars"},v)}}])}(q.Component);ok(Rl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ok(Rl,"displayName","ErrorBar");function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(a){lK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lK(e,t,r){return t=cK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=uK(e,"string");return Xo(t)=="symbol"?t:t+""}function uK(e,t){if(Xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Xo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ck=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Yt(r,Os);if(!o)return null;var l=Os.defaultProps,c=l!==void 0?ma(ma({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(a||[]).reduce(function(m,d){var f=d.item,y=d.props,v=y.sectors||y.data||[];return m.concat(v.map(function(h){return{type:o.props.iconType||f.props.legendType,value:h.name,color:h.fill,payload:h}}))},[]):u=(a||[]).map(function(m){var d=m.item,f=d.type.defaultProps,y=f!==void 0?ma(ma({},f),d.props):{},v=y.dataKey,h=y.name,g=y.legendType,b=y.hide;return{inactive:b,dataKey:v,type:c.iconType||g||"square",color:ug(d),value:h||v,payload:y}}),ma(ma(ma({},c),Os.getWithHeight(o,s)),{},{payload:u,item:o})};function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function pj(e){return hK(e)||fK(e)||mK(e)||dK()}function dK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mK(e,t){if(e){if(typeof e=="string")return Sp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sp(e,t)}}function fK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hK(e){if(Array.isArray(e))return Sp(e)}function Sp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(a){As(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function As(e,t,r){return t=pK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=xK(e,"string");return Yo(t)=="symbol"?t:t+""}function xK(e,t){if(Yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Yo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sr(e,t,r){return be(e)||be(t)?r:dt(t)?yr(e,t,r):ve(t)?t(e):r}function co(e,t,r,a){var s=hW(e,function(l){return sr(l,t)});if(r==="number"){var i=s.filter(function(l){return re(l)||parseFloat(l)});return i.length?[um(i),cm(i)]:[1/0,-1/0]}var o=a?s.filter(function(l){return!be(l)}):s;return o.map(function(l){return dt(l)||l instanceof Date?l:""})}var yK=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var m=u>0?s[u-1].coordinate:s[l-1].coordinate,d=s[u].coordinate,f=u>=l-1?s[0].coordinate:s[u+1].coordinate,y=void 0;if(_r(d-m)!==_r(f-d)){var v=[];if(_r(f-d)===_r(c[1]-c[0])){y=f;var h=d+c[1]-c[0];v[0]=Math.min(h,(h+m)/2),v[1]=Math.max(h,(h+m)/2)}else{y=m;var g=f+c[1]-c[0];v[0]=Math.min(d,(g+d)/2),v[1]=Math.max(d,(g+d)/2)}var b=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(t>b[0]&&t<=b[1]||t>=v[0]&&t<=v[1]){o=s[u].index;break}}else{var N=Math.min(m,f),x=Math.max(m,f);if(t>(N+d)/2&&t<=(x+d)/2){o=s[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(a[j].coordinate+a[j+1].coordinate)/2||j>0&&j<l-1&&t>(a[j].coordinate+a[j-1].coordinate)/2&&t<=(a[j].coordinate+a[j+1].coordinate)/2||j===l-1&&t>(a[j].coordinate+a[j-1].coordinate)/2){o=a[j].index;break}return o},ug=function(t){var r,a=t,s=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Xe(Xe({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},gK=function(t){var r=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var m=i[l[c]].stackGroups,d=Object.keys(m),f=0,y=d.length;f<y;f++){var v=m[d[f]],h=v.items,g=v.cateAxisId,b=h.filter(function(C){return dn(C.type).indexOf("Bar")>=0});if(b&&b.length){var N=b[0].type.defaultProps,x=N!==void 0?Xe(Xe({},N),b[0].props):b[0].props,j=x.barSize,p=x[g];o[p]||(o[p]=[]);var w=be(j)?r:j;o[p].push({item:b[0],stackList:b.slice(1),barSize:be(w)?void 0:Ba(w,a,0)})}}return o},vK=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ba(r,s,0,!0),m,d=[];if(o[0].barSize===+o[0].barSize){var f=!1,y=s/c,v=o.reduce(function(j,p){return j+p.barSize||0},0);v+=(c-1)*u,v>=s&&(v-=(c-1)*u,u=0),v>=s&&y>0&&(f=!0,y*=.9,v=c*y);var h=(s-v)/2>>0,g={offset:h-u,size:0};m=o.reduce(function(j,p){var w={item:p.item,position:{offset:g.offset+g.size+u,size:f?y:p.barSize}},C=[].concat(pj(j),[w]);return g=C[C.length-1].position,p.stackList&&p.stackList.length&&p.stackList.forEach(function(P){C.push({item:P,position:g})}),C},d)}else{var b=Ba(a,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var N=(s-2*b-(c-1)*u)/c;N>1&&(N>>=0);var x=l===+l?Math.min(N,l):N;m=o.reduce(function(j,p,w){var C=[].concat(pj(j),[{item:p.item,position:{offset:b+(N+u)*w+(N-x)/2,size:x}}]);return p.stackList&&p.stackList.length&&p.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},d)}return m},bK=function(t,r,a,s){var i=a.children,o=a.width,l=a.margin,c=o-(l.left||0)-(l.right||0),u=ck({children:i,legendWidth:c});if(u){var m=s||{},d=m.width,f=m.height,y=u.align,v=u.verticalAlign,h=u.layout;if((h==="vertical"||h==="horizontal"&&v==="middle")&&y!=="center"&&re(t[y]))return Xe(Xe({},t),{},As({},y,t[y]+(d||0)));if((h==="horizontal"||h==="vertical"&&y==="center")&&v!=="middle"&&re(t[v]))return Xe(Xe({},t),{},As({},v,t[v]+(f||0)))}return t},jK=function(t,r,a){return be(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},uk=function(t,r,a,s,i){var o=r.props.children,l=gr(o,Rl).filter(function(u){return jK(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,m){var d=sr(m,a);if(be(d))return u;var f=Array.isArray(d)?[um(d),cm(d)]:[d,d],y=c.reduce(function(v,h){var g=sr(m,h,0),b=f[0]-Math.abs(Array.isArray(g)?g[0]:g),N=f[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,v[0]),Math.max(N,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},NK=function(t,r,a,s,i){var o=r.map(function(l){return uk(t,l,a,i,s)}).filter(function(l){return!be(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},dk=function(t,r,a,s,i){var o=r.map(function(c){var u=c.props.dataKey;return a==="number"&&u&&uk(t,c,u,s)||co(t,u,a,i)});if(a==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var m=0,d=u.length;m<d;m++)l[u[m]]||(l[u[m]]=!0,c.push(u[m]));return c},[])},mk=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},fk=function(t,r,a,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===a&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(a),l},ln=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||a)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?_r(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var m=(t.ticks||t.niceTicks).map(function(d){var f=i?i.indexOf(d):d;return{coordinate:s(f)+u,value:d,offset:u}});return m.filter(function(d){return!El(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,f){return{coordinate:s(d)+u,value:d,index:f,offset:u}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(d){return{coordinate:s(d)+u,value:d,offset:u}}):s.domain().map(function(d,f){return{coordinate:s(d)+u,value:i?i[d]:d,index:f,offset:u}})},Sf=new WeakMap,xc=function(t,r){if(typeof r!="function")return t;Sf.has(t)||Sf.set(t,new WeakMap);var a=Sf.get(t);if(a.has(r))return a.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},wK=function(t,r,a){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ko(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Lu(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:lo(),realScaleType:"point"}:i==="category"?{scale:Ko(),realScaleType:"band"}:{scale:Lu(),realScaleType:"linear"};if(Fa(s)){var c="scale".concat(Jd(s));return{scale:(lj[c]||lo)(),realScaleType:lj[c]?c:"point"}}return ve(s)?{scale:s}:{scale:lo(),realScaleType:"point"}},yj=1e-4,SK=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-yj,o=Math.max(s[0],s[1])+yj,l=t(r[0]),c=t(r[a-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[a-1]])}},CK=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},kK=function(t,r){if(!r||r.length!==2||!re(r[0])||!re(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!re(t[0])||t[0]<a)&&(i[0]=a),(!re(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},OK=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0,l=0;l<r;++l){var c=El(t[l][a][1])?t[l][a][0]:t[l][a][1];c>=0?(t[l][a][0]=i,t[l][a][1]=i+c,i=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+c,o=t[l][a][1])}},PK=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0;o<r;++o){var l=El(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=i,t[o][a][1]=i+l,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},AK={sign:OK,expand:G$,none:Ls,silhouette:H$,wiggle:Q$,positive:PK},EK=function(t,r,a){var s=r.map(function(l){return l.props.dataKey}),i=AK[a],o=V$().keys(s).value(function(l,c){return+sr(l,c,0)}).order(Qh).offset(i);return o(t)},TK=function(t,r,a,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,f){var y,v=(y=f.type)!==null&&y!==void 0&&y.defaultProps?Xe(Xe({},f.type.defaultProps),f.props):f.props,h=v.stackId,g=v.hide;if(g)return d;var b=v[a],N=d[b]||{hasStack:!1,stackGroups:{}};if(dt(h)){var x=N.stackGroups[h]||{numericAxisId:a,cateAxisId:s,items:[]};x.items.push(f),N.hasStack=!0,N.stackGroups[h]=x}else N.stackGroups[Tl("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[f]};return Xe(Xe({},d),{},As({},b,N))},c),m={};return Object.keys(u).reduce(function(d,f){var y=u[f];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(h,g){var b=y.stackGroups[g];return Xe(Xe({},h),{},As({},g,{numericAxisId:a,cateAxisId:s,items:b.items,stackedData:EK(t,b.items,i)}))},v)}return Xe(Xe({},d),{},As({},f,y))},m)},MK=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=a||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var m=KW(u,i,l);return t.domain([um(m),cm(m)]),{niceTicks:m}}if(i&&s==="number"){var d=t.domain(),f=zW(d,i,l);return{niceTicks:f}}return null};function gj(e){var t=e.axis,r=e.ticks,a=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!be(s[t.dataKey])){var l=pu(r,"value",s[t.dataKey]);if(l)return l.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=sr(s,be(o)?t.dataKey:o);return be(c)?null:t.scale(c)}var vj=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return a[l]?a[l].coordinate+s:null;var c=sr(o,r.dataKey,r.domain[l]);return be(c)?null:r.scale(c)-i/2+s},IK=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},DK=function(t,r){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?Xe(Xe({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(dt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},$K=function(t){return t.reduce(function(r,a){return[um(a.concat([r[0]]).filter(re)),cm(a.concat([r[1]]).filter(re))]},[1/0,-1/0])},hk=function(t,r,a){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,m){var d=$K(m.slice(r,a+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},bj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cp=function(t,r,a){if(ve(t))return t(r,a);if(!Array.isArray(t))return r;var s=[];if(re(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(bj.test(t[0])){var i=+bj.exec(t[0])[1];s[0]=r[0]-i}else ve(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(re(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(jj.test(t[1])){var o=+jj.exec(t[1])[1];s[1]=r[1]+o}else ve(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},zu=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=Ly(r,function(d){return d.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],m=i[l-1];o=Math.min((u.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},Nj=function(t,r,a){return!t||!t.length||dm(t,yr(a,"type.defaultProps.domain"))?r:t},pk=function(t,r){var a=t.type.defaultProps?Xe(Xe({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,o=a.unit,l=a.formatter,c=a.tooltipType,u=a.chartType,m=a.hide;return Xe(Xe({},Ne(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:ug(t),value:sr(r,s),type:c,payload:r,chartType:u,hide:m})};function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Sj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(a){_K(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _K(e,t,r){return t=RK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=LK(e,"string");return Zo(t)=="symbol"?t:t+""}function LK(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vu=Math.PI/180,FK=function(t){return t*180/Math.PI},Nt=function(t,r,a,s){return{x:t+Math.cos(-Vu*s)*a,y:r+Math.sin(-Vu*s)*a}},BK=function(t,r){var a=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},UK=function(t,r){var a=t.x,s=t.y,i=r.cx,o=r.cy,l=BK({x:a,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(a-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:FK(u),angleInRadian:u}},qK=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:a-o*360}},WK=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},Cj=function(t,r){var a=t.x,s=t.y,i=UK({x:a,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var m=qK(r),d=m.startAngle,f=m.endAngle,y=l,v;if(d<=f){for(;y>f;)y-=360;for(;y<d;)y+=360;v=y>=d&&y<=f}else{for(;y>d;)y-=360;for(;y<f;)y+=360;v=y>=f&&y<=d}return v?Sj(Sj({},r),{},{radius:o,angle:WK(y,r)}):null};function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}var KK=["offset"];function zK(e){return QK(e)||HK(e)||GK(e)||VK()}function VK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GK(e,t){if(e){if(typeof e=="string")return kp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kp(e,t)}}function HK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QK(e){if(Array.isArray(e))return kp(e)}function kp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function JK(e,t){if(e==null)return{};var r=XK(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function XK(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(a){YK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function YK(e,t,r){return t=ZK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=ez(e,"string");return el(t)=="symbol"?t:t+""}function ez(e,t){if(el(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(el(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tl.apply(this,arguments)}var tz=function(t){var r=t.value,a=t.formatter,s=be(t.children)?r:t.children;return ve(a)?a(s):s},rz=function(t,r){var a=_r(r-t),s=Math.min(Math.abs(r-t),360);return a*s},nz=function(t,r,a){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,m=c.cy,d=c.innerRadius,f=c.outerRadius,y=c.startAngle,v=c.endAngle,h=c.clockWise,g=(d+f)/2,b=rz(y,v),N=b>=0?1:-1,x,j;s==="insideStart"?(x=y+N*o,j=h):s==="insideEnd"?(x=v-N*o,j=!h):s==="end"&&(x=v+N*o,j=h),j=b<=0?j:!j;var p=Nt(u,m,g,x),w=Nt(u,m,g,x+(j?1:-1)*359),C="M".concat(p.x,",").concat(p.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(j?0:1,`,
    `).concat(w.x,",").concat(w.y),P=be(t.id)?Tl("recharts-radial-line-"):t.id;return q.createElement("text",tl({},a,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:P,d:C})),q.createElement("textPath",{xlinkHref:"#".concat(P)},r))},az=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,m=i.startAngle,d=i.endAngle,f=(m+d)/2;if(s==="outside"){var y=Nt(o,l,u+a,f),v=y.x,h=y.y;return{x:v,y:h,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,b=Nt(o,l,g,f),N=b.x,x=b.y;return{x:N,y:x,textAnchor:"middle",verticalAnchor:"middle"}},sz=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,m=o.height,d=m>=0?1:-1,f=d*s,y=d>0?"end":"start",v=d>0?"start":"end",h=u>=0?1:-1,g=h*s,b=h>0?"end":"start",N=h>0?"start":"end";if(i==="top"){var x={x:l+u/2,y:c-d*s,textAnchor:"middle",verticalAnchor:y};return ot(ot({},x),a?{height:Math.max(c-a.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+m+f,textAnchor:"middle",verticalAnchor:v};return ot(ot({},j),a?{height:Math.max(a.y+a.height-(c+m),0),width:u}:{})}if(i==="left"){var p={x:l-g,y:c+m/2,textAnchor:b,verticalAnchor:"middle"};return ot(ot({},p),a?{width:Math.max(p.x-a.x,0),height:m}:{})}if(i==="right"){var w={x:l+u+g,y:c+m/2,textAnchor:N,verticalAnchor:"middle"};return ot(ot({},w),a?{width:Math.max(a.x+a.width-w.x,0),height:m}:{})}var C=a?{width:u,height:m}:{};return i==="insideLeft"?ot({x:l+g,y:c+m/2,textAnchor:N,verticalAnchor:"middle"},C):i==="insideRight"?ot({x:l+u-g,y:c+m/2,textAnchor:b,verticalAnchor:"middle"},C):i==="insideTop"?ot({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:v},C):i==="insideBottom"?ot({x:l+u/2,y:c+m-f,textAnchor:"middle",verticalAnchor:y},C):i==="insideTopLeft"?ot({x:l+g,y:c+f,textAnchor:N,verticalAnchor:v},C):i==="insideTopRight"?ot({x:l+u-g,y:c+f,textAnchor:b,verticalAnchor:v},C):i==="insideBottomLeft"?ot({x:l+g,y:c+m-f,textAnchor:N,verticalAnchor:y},C):i==="insideBottomRight"?ot({x:l+u-g,y:c+m-f,textAnchor:b,verticalAnchor:y},C):hi(i)&&(re(i.x)||wa(i.x))&&(re(i.y)||wa(i.y))?ot({x:l+Ba(i.x,u),y:c+Ba(i.y,m),textAnchor:"end",verticalAnchor:"end"},C):ot({x:l+u/2,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},C)},iz=function(t){return"cx"in t&&re(t.cx)};function At(e){var t=e.offset,r=t===void 0?5:t,a=JK(e,KK),s=ot({offset:r},a),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,m=s.className,d=m===void 0?"":m,f=s.textBreakAll;if(!i||be(l)&&be(c)&&!k.isValidElement(u)&&!ve(u))return null;if(k.isValidElement(u))return k.cloneElement(u,s);var y;if(ve(u)){if(y=k.createElement(u,s),k.isValidElement(y))return y}else y=tz(s);var v=iz(i),h=Ne(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return nz(s,y,h);var g=v?az(s):sz(s);return q.createElement(Tu,tl({className:ke("recharts-label",d)},h,g,{breakAll:f}),y)}At.displayName="Label";var xk=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,m=t.outerRadius,d=t.x,f=t.y,y=t.top,v=t.left,h=t.width,g=t.height,b=t.clockWise,N=t.labelViewBox;if(N)return N;if(re(h)&&re(g)){if(re(d)&&re(f))return{x:d,y:f,width:h,height:g};if(re(y)&&re(v))return{x:y,y:v,width:h,height:g}}return re(d)&&re(f)?{x:d,y:f,width:0,height:0}:re(r)&&re(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:m||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},oz=function(t,r){return t?t===!0?q.createElement(At,{key:"label-implicit",viewBox:r}):dt(t)?q.createElement(At,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===At?k.cloneElement(t,{key:"label-implicit",viewBox:r}):q.createElement(At,{key:"label-implicit",content:t,viewBox:r}):ve(t)?q.createElement(At,{key:"label-implicit",content:t,viewBox:r}):hi(t)?q.createElement(At,tl({viewBox:r},t,{key:"label-implicit"})):null:null},lz=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=xk(t),o=gr(s,At).map(function(c,u){return k.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!a)return o;var l=oz(t.label,r||i);return[l].concat(zK(o))};At.parseViewBox=xk;At.renderCallByParent=lz;function cz(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var uz=cz;const dz=_e(uz);function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}var mz=["valueAccessor"],fz=["data","dataKey","clockWise","id","textBreakAll"];function hz(e){return gz(e)||yz(e)||xz(e)||pz()}function pz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xz(e,t){if(e){if(typeof e=="string")return Op(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Op(e,t)}}function yz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gz(e){if(Array.isArray(e))return Op(e)}function Op(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gu.apply(this,arguments)}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(a){vz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vz(e,t,r){return t=bz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bz(e){var t=jz(e,"string");return rl(t)=="symbol"?t:t+""}function jz(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(rl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aj(e,t){if(e==null)return{};var r=Nz(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Nz(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var wz=function(t){return Array.isArray(t.value)?dz(t.value):t.value};function Jn(e){var t=e.valueAccessor,r=t===void 0?wz:t,a=Aj(e,mz),s=a.data,i=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,u=Aj(a,fz);return!s||!s.length?null:q.createElement(Ze,{className:"recharts-label-list"},s.map(function(m,d){var f=be(i)?r(m,d):sr(m&&m.payload,i),y=be(l)?{}:{id:"".concat(l,"-").concat(d)};return q.createElement(At,Gu({},Ne(m,!0),u,y,{parentViewBox:m.parentViewBox,value:f,textBreakAll:c,viewBox:At.parseViewBox(be(o)?m:Pj(Pj({},m),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Jn.displayName="LabelList";function Sz(e,t){return e?e===!0?q.createElement(Jn,{key:"labelList-implicit",data:t}):q.isValidElement(e)||ve(e)?q.createElement(Jn,{key:"labelList-implicit",data:t,content:e}):hi(e)?q.createElement(Jn,Gu({data:t},e,{key:"labelList-implicit"})):null:null}function Cz(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=gr(a,Jn).map(function(o,l){return k.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=Sz(e.label,t);return[i].concat(hz(s))}Jn.renderCallByParent=Cz;function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pp.apply(this,arguments)}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(a){kz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kz(e,t,r){return t=Oz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oz(e){var t=Pz(e,"string");return nl(t)=="symbol"?t:t+""}function Pz(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(nl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Az=function(t,r){var a=_r(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},yc=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,m=c*(l?1:-1)+s,d=Math.asin(c/m)/Vu,f=u?i:i+o*d,y=Nt(r,a,m,f),v=Nt(r,a,s,f),h=u?i-o*d:i,g=Nt(r,a,m*Math.cos(d*Vu),h);return{center:y,circleTangency:v,lineTangency:g,theta:d}},yk=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Az(o,l),u=o+c,m=Nt(r,a,i,o),d=Nt(r,a,i,u),f="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var y=Nt(r,a,s,o),v=Nt(r,a,s,u);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else f+="L ".concat(r,",").concat(a," Z");return f},Ez=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,m=t.endAngle,d=_r(m-u),f=yc({cx:r,cy:a,radius:i,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),y=f.circleTangency,v=f.lineTangency,h=f.theta,g=yc({cx:r,cy:a,radius:i,angle:m,sign:-d,cornerRadius:o,cornerIsExternal:c}),b=g.circleTangency,N=g.lineTangency,x=g.theta,j=c?Math.abs(u-m):Math.abs(u-m)-h-x;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):yk({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:u,endAngle:m});var p="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
  `);if(s>0){var w=yc({cx:r,cy:a,radius:s,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=w.circleTangency,P=w.lineTangency,E=w.theta,I=yc({cx:r,cy:a,radius:s,angle:m,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=I.circleTangency,O=I.lineTangency,D=I.theta,B=c?Math.abs(u-m):Math.abs(u-m)-E-D;if(B<0&&o===0)return"".concat(p,"L").concat(r,",").concat(a,"Z");p+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(B>180),",").concat(+(d>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,"Z")}else p+="L".concat(r,",").concat(a,"Z");return p},Tz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gk=function(t){var r=Tj(Tj({},Tz),t),a=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,m=r.startAngle,d=r.endAngle,f=r.className;if(o<i||m===d)return null;var y=ke("recharts-sector",f),v=o-i,h=Ba(l,v,0,!0),g;return h>0&&Math.abs(m-d)<360?g=Ez({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(h,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:d}):g=yk({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:m,endAngle:d}),q.createElement("path",Pp({},Ne(r,!0),{className:y,d:g,role:"img"}))};function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ap.apply(this,arguments)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(a){Mz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mz(e,t,r){return t=Iz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iz(e){var t=Dz(e,"string");return al(t)=="symbol"?t:t+""}function Dz(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(al(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dj={curveBasisClosed:$$,curveBasisOpen:_$,curveBasis:D$,curveBumpX:b$,curveBumpY:j$,curveLinearClosed:R$,curveLinear:Yd,curveMonotoneX:L$,curveMonotoneY:F$,curveNatural:B$,curveStep:U$,curveStepAfter:W$,curveStepBefore:q$},gc=function(t){return t.x===+t.x&&t.y===+t.y},Bi=function(t){return t.x},Ui=function(t){return t.y},$z=function(t,r){if(ve(t))return t;var a="curve".concat(Jd(t));return(a==="curveMonotone"||a==="curveBump")&&r?Dj["".concat(a).concat(r==="vertical"?"Y":"X")]:Dj[a]||Yd},_z=function(t){var r=t.type,a=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,m=$z(a,l),d=u?i.filter(function(h){return gc(h)}):i,f;if(Array.isArray(o)){var y=u?o.filter(function(h){return gc(h)}):o,v=d.map(function(h,g){return Ij(Ij({},h),{},{base:y[g]})});return l==="vertical"?f=lc().y(Ui).x1(Bi).x0(function(h){return h.base.x}):f=lc().x(Bi).y1(Ui).y0(function(h){return h.base.y}),f.defined(gc).curve(m),f(v)}return l==="vertical"&&re(o)?f=lc().y(Ui).x1(Bi).x0(o):re(o)?f=lc().x(Bi).y1(Ui).y0(o):f=gC().x(Bi).y(Ui),f.defined(gc).curve(m),f(d)},Ep=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?_z(t):s;return k.createElement("path",Ap({},Ne(t,!1),xu(t),{className:ke("recharts-curve",r),d:o,ref:i}))},vk={exports:{}},Rz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Lz=Rz,Fz=Lz;function bk(){}function jk(){}jk.resetWarningCache=bk;var Bz=function(){function e(a,s,i,o,l,c){if(c!==Fz){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jk,resetWarningCache:bk};return r.PropTypes=r,r};vk.exports=Bz();var Uz=vk.exports;const Pe=_e(Uz);var qz=Object.getOwnPropertyNames,Wz=Object.getOwnPropertySymbols,Kz=Object.prototype.hasOwnProperty;function $j(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function vc(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,o=i.get(r),l=i.get(a);if(o&&l)return o===a&&l===r;i.set(r,a),i.set(a,r);var c=e(r,a,s);return i.delete(r),i.delete(a),c}}function _j(e){return qz(e).concat(Wz(e))}var zz=Object.hasOwn||function(e,t){return Kz.call(e,t)};function Ja(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Vz="__v",Gz="__o",Hz="_owner",Rj=Object.getOwnPropertyDescriptor,Lj=Object.keys;function Qz(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function Jz(e,t){return Ja(e.getTime(),t.getTime())}function Xz(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Yz(e,t){return e===t}function Fj(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),m=!1,d=0;(l=u.next())&&!l.done;){if(s[d]){d++;continue}var f=o.value,y=l.value;if(r.equals(f[0],y[0],c,d,e,t,r)&&r.equals(f[1],y[1],f[0],y[0],e,t,r)){m=s[d]=!0;break}d++}if(!m)return!1;c++}return!0}var Zz=Ja;function eV(e,t,r){var a=Lj(e),s=a.length;if(Lj(t).length!==s)return!1;for(;s-- >0;)if(!Nk(e,t,r,a[s]))return!1;return!0}function qi(e,t,r){var a=_j(e),s=a.length;if(_j(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=a[s],!Nk(e,t,r,i)||(o=Rj(e,i),l=Rj(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function tV(e,t){return Ja(e.valueOf(),t.valueOf())}function rV(e,t){return e.source===t.source&&e.flags===t.flags}function Bj(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,m=0;(l=c.next())&&!l.done;){if(!s[m]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[m]=!0;break}m++}if(!u)return!1}return!0}function nV(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function aV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Nk(e,t,r,a){return(a===Hz||a===Gz||a===Vz)&&(e.$$typeof||t.$$typeof)?!0:zz(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var sV="[object Arguments]",iV="[object Boolean]",oV="[object Date]",lV="[object Error]",cV="[object Map]",uV="[object Number]",dV="[object Object]",mV="[object RegExp]",fV="[object Set]",hV="[object String]",pV="[object URL]",xV=Array.isArray,Uj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,qj=Object.assign,yV=Object.prototype.toString.call.bind(Object.prototype.toString);function gV(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,m=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(v,h,g){if(v===h)return!0;if(v==null||h==null)return!1;var b=typeof v;if(b!==typeof h)return!1;if(b!=="object")return b==="number"?o(v,h,g):b==="function"?s(v,h,g):!1;var N=v.constructor;if(N!==h.constructor)return!1;if(N===Object)return l(v,h,g);if(xV(v))return t(v,h,g);if(Uj!=null&&Uj(v))return d(v,h,g);if(N===Date)return r(v,h,g);if(N===RegExp)return u(v,h,g);if(N===Map)return i(v,h,g);if(N===Set)return m(v,h,g);var x=yV(v);return x===oV?r(v,h,g):x===mV?u(v,h,g):x===cV?i(v,h,g):x===fV?m(v,h,g):x===dV?typeof v.then!="function"&&typeof h.then!="function"&&l(v,h,g):x===pV?f(v,h,g):x===lV?a(v,h,g):x===sV?l(v,h,g):x===iV||x===uV||x===hV?c(v,h,g):!1}}function vV(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?qi:Qz,areDatesEqual:Jz,areErrorsEqual:Xz,areFunctionsEqual:Yz,areMapsEqual:a?$j(Fj,qi):Fj,areNumbersEqual:Zz,areObjectsEqual:a?qi:eV,arePrimitiveWrappersEqual:tV,areRegExpsEqual:rV,areSetsEqual:a?$j(Bj,qi):Bj,areTypedArraysEqual:a?qi:nV,areUrlsEqual:aV};if(r&&(s=qj({},s,r(s))),t){var i=vc(s.areArraysEqual),o=vc(s.areMapsEqual),l=vc(s.areObjectsEqual),c=vc(s.areSetsEqual);s=qj({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function bV(e){return function(t,r,a,s,i,o,l){return e(t,r,l)}}function jV(e){var t=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(c,u){var m=a(),d=m.cache,f=d===void 0?t?new WeakMap:void 0:d,y=m.meta;return r(c,u,{cache:f,equals:s,meta:y,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var NV=ca();ca({strict:!0});ca({circular:!0});ca({circular:!0,strict:!0});ca({createInternalComparator:function(){return Ja}});ca({strict:!0,createInternalComparator:function(){return Ja}});ca({circular:!0,createInternalComparator:function(){return Ja}});ca({circular:!0,createInternalComparator:function(){return Ja},strict:!0});function ca(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=vV(e),c=gV(l),u=a?a(c):bV(c);return jV({circular:r,comparator:c,createState:s,equals:u,strict:o})}function wV(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Wj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):wV(s)};requestAnimationFrame(a)}function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function SV(e){return PV(e)||OV(e)||kV(e)||CV()}function CV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kV(e,t){if(e){if(typeof e=="string")return Kj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kj(e,t)}}function Kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function OV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PV(e){if(Array.isArray(e))return e}function AV(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=SV(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Wj(s.bind(null,u),c);return}s(c),Wj(s.bind(null,u));return}Tp(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(a){wk(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wk(e,t,r){return t=EV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EV(e){var t=TV(e,"string");return sl(t)==="symbol"?t:String(t)}function TV(e,t){if(sl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(sl(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MV=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},IV=function(t){return t},DV=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},uo=function(t,r){return Object.keys(r).reduce(function(a,s){return Vj(Vj({},a),{},wk({},s,t(s,r[s])))},{})},Gj=function(t,r,a){return t.map(function(s){return"".concat(DV(s)," ").concat(r,"ms ").concat(a)}).join(",")};function $V(e,t){return LV(e)||RV(e,t)||Sk(e,t)||_V()}function _V(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(m){u=!0,s=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function LV(e){if(Array.isArray(e))return e}function FV(e){return qV(e)||UV(e)||Sk(e)||BV()}function BV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sk(e,t){if(e){if(typeof e=="string")return Mp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mp(e,t)}}function UV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qV(e){if(Array.isArray(e))return Mp(e)}function Mp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Hu=1e-4,Ck=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},kk=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},Hj=function(t,r){return function(a){var s=Ck(t,r);return kk(s,a)}},WV=function(t,r){return function(a){var s=Ck(t,r),i=[].concat(FV(s.map(function(o,l){return o*l}).slice(1)),[0]);return kk(i,a)}},Qj=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),m=$V(u,4);s=m[0],i=m[1],o=m[2],l=m[3]}}}var d=Hj(s,o),f=Hj(i,l),y=WV(s,o),v=function(b){return b>1?1:b<0?0:b},h=function(b){for(var N=b>1?1:b,x=N,j=0;j<8;++j){var p=d(x)-N,w=y(x);if(Math.abs(p-N)<Hu||w<Hu)return f(x);x=v(x-p/w)}return f(x)};return h.isStepper=!1,h},KV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(m,d,f){var y=-(m-d)*a,v=f*i,h=f+(y-v)*l/1e3,g=f*l/1e3+m;return Math.abs(g-d)<Hu&&Math.abs(h)<Hu?[d,0]:[g,h]};return c.isStepper=!0,c.dt=l,c},zV=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Qj(s);case"spring":return KV();default:if(s.split("(")[0]==="cubic-bezier")return Qj(s)}return typeof s=="function"?s:null};function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function Jj(e){return HV(e)||GV(e)||Ok(e)||VV()}function VV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HV(e){if(Array.isArray(e))return Dp(e)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(a){Ip(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ip(e,t,r){return t=QV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QV(e){var t=JV(e,"string");return il(t)==="symbol"?t:String(t)}function JV(e,t){if(il(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(il(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XV(e,t){return eG(e)||ZV(e,t)||Ok(e,t)||YV()}function YV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ok(e,t){if(e){if(typeof e=="string")return Dp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dp(e,t)}}function Dp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ZV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(m){u=!0,s=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function eG(e){if(Array.isArray(e))return e}var Qu=function(t,r,a){return t+(r-t)*a},$p=function(t){var r=t.from,a=t.to;return r!==a},tG=function e(t,r,a){var s=uo(function(i,o){if($p(o)){var l=t(o.from,o.to,o.velocity),c=XV(l,2),u=c[0],m=c[1];return bt(bt({},o),{},{from:u,velocity:m})}return o},r);return a<1?uo(function(i,o){return $p(o)?bt(bt({},o),{},{velocity:Qu(o.velocity,s[i].velocity,a),from:Qu(o.from,s[i].from,a)}):o},r):e(t,s,a-1)};const rG=function(e,t,r,a,s){var i=MV(e,t),o=i.reduce(function(g,b){return bt(bt({},g),{},Ip({},b,[e[b],t[b]]))},{}),l=i.reduce(function(g,b){return bt(bt({},g),{},Ip({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,m,d=function(){return null},f=function(){return uo(function(b,N){return N.from},l)},y=function(){return!Object.values(l).filter($p).length},v=function(b){u||(u=b);var N=b-u,x=N/r.dt;l=tG(r,l,x),s(bt(bt(bt({},e),t),f())),u=b,y()||(c=requestAnimationFrame(d))},h=function(b){m||(m=b);var N=(b-m)/a,x=uo(function(p,w){return Qu.apply(void 0,Jj(w).concat([r(N)]))},o);if(s(bt(bt(bt({},e),t),x)),N<1)c=requestAnimationFrame(d);else{var j=uo(function(p,w){return Qu.apply(void 0,Jj(w).concat([r(1)]))},o);s(bt(bt(bt({},e),t),j))}};return d=r.isStepper?v:h,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}var nG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aG(e,t){if(e==null)return{};var r=sG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function sG(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Cf(e){return cG(e)||lG(e)||oG(e)||iG()}function iG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(e,t){if(e){if(typeof e=="string")return _p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _p(e,t)}}function lG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cG(e){if(Array.isArray(e))return _p(e)}function _p(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(a){Xi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xi(e,t,r){return t=Pk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zj(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Pk(a.key),a)}}function dG(e,t,r){return t&&Zj(e.prototype,t),r&&Zj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pk(e){var t=mG(e,"string");return Gs(t)==="symbol"?t:String(t)}function mG(e,t){if(Gs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Gs(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rp(e,t)}function Rp(e,t){return Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Rp(e,t)}function hG(e){var t=pG();return function(){var a=Ju(e),s;if(t){var i=Ju(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return Lp(this,s)}}function Lp(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fp(e)}function Fp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ju(e)}var hm=function(e){fG(r,e);var t=hG(r);function r(a,s){var i;uG(this,r),i=t.call(this,a,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,m=o.to,d=o.steps,f=o.children,y=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Fp(i)),i.changeStyle=i.changeStyle.bind(Fp(i)),!l||y<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:m}),Lp(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof f=="function")return i.state={style:u},Lp(i);i.state={style:c?Xi({},c,u):u}}else i.state={style:{}};return i}return dG(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,m=i.to,d=i.from,f=this.state.style;if(l){if(!o){var y={style:c?Xi({},c,m):m};this.state&&f&&(c&&f[c]!==m||!c&&f!==m)&&this.setState(y);return}if(!(NV(s.to,m)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=v||u?d:s.to;if(this.state&&f){var g={style:c?Xi({},c,h):h};(c&&f[c]!==h||!c&&f!==h)&&this.setState(g)}this.runAnimation(kr(kr({},this.props),{},{from:h,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,m=s.begin,d=s.onAnimationEnd,f=s.onAnimationStart,y=rG(o,l,zV(u),c,this.changeStyle),v=function(){i.stopJSAnimation=y()};this.manager.start([f,m,v,c,d])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],m=u.style,d=u.duration,f=d===void 0?0:d,y=function(h,g,b){if(b===0)return h;var N=g.duration,x=g.easing,j=x===void 0?"ease":x,p=g.style,w=g.properties,C=g.onAnimationEnd,P=b>0?o[b-1]:g,E=w||Object.keys(p);if(typeof j=="function"||j==="spring")return[].concat(Cf(h),[i.runJSAnimation.bind(i,{from:P.style,to:p,duration:N,easing:j}),N]);var I=Gj(E,N,j),M=kr(kr(kr({},P.style),p),{},{transition:I});return[].concat(Cf(h),[M,N,C]).filter(IV)};return this.manager.start([c].concat(Cf(o.reduce(y,[m,Math.max(f,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=AV());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,m=s.onAnimationStart,d=s.onAnimationEnd,f=s.steps,y=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var h=l?Xi({},l,c):c,g=Gj(Object.keys(h),o,u);v.start([m,i,kr(kr({},h),{},{transition:g}),o,d])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=aG(s,nG),u=k.Children.count(i),m=this.state.style;if(typeof i=="function")return i(m);if(!l||u===0||o<=0)return i;var d=function(y){var v=y.props,h=v.style,g=h===void 0?{}:h,b=v.className,N=k.cloneElement(y,kr(kr({},c),{},{style:kr(kr({},g),m),className:b}));return N};return u===1?d(k.Children.only(i)):q.createElement("div",null,k.Children.map(i,function(f){return d(f)}))}}]),r}(k.PureComponent);hm.displayName="Animate";hm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hm.propTypes={from:Pe.oneOfType([Pe.object,Pe.string]),to:Pe.oneOfType([Pe.object,Pe.string]),attributeName:Pe.string,duration:Pe.number,begin:Pe.number,easing:Pe.oneOfType([Pe.string,Pe.func]),steps:Pe.arrayOf(Pe.shape({duration:Pe.number.isRequired,style:Pe.object.isRequired,easing:Pe.oneOfType([Pe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pe.func]),properties:Pe.arrayOf("string"),onAnimationEnd:Pe.func})),children:Pe.oneOfType([Pe.node,Pe.func]),isActive:Pe.bool,canBegin:Pe.bool,onAnimationEnd:Pe.func,shouldReAnimate:Pe.bool,onAnimationStart:Pe.func,onAnimationReStart:Pe.func};const Hs=hm;function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xu.apply(this,arguments)}function xG(e,t){return bG(e)||vG(e,t)||gG(e,t)||yG()}function yG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gG(e,t){if(e){if(typeof e=="string")return eN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eN(e,t)}}function eN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function vG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(m){u=!0,s=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bG(e){if(Array.isArray(e))return e}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(a){jG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jG(e,t,r){return t=NG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=wG(e,"string");return ol(t)=="symbol"?t:t+""}function wG(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ol(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nN=function(t,r,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,u=s>=0&&a>=0||s<0&&a<0?1:0,m;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,y=4;f<y;f++)d[f]=i[f]>o?o:i[f];m="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(m+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),m+="L ".concat(t+a-c*d[1],",").concat(r),d[1]>0&&(m+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+a,",").concat(r+l*d[1])),m+="L ".concat(t+a,",").concat(r+s-l*d[2]),d[2]>0&&(m+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+a-c*d[2],",").concat(r+s)),m+="L ".concat(t+c*d[3],",").concat(r+s),d[3]>0&&(m+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*d[3])),m+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);m="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+a-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+a,",").concat(r+l*v,`
            L `).concat(t+a,",").concat(r+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+a-c*v,",").concat(r+s,`
            L `).concat(t+c*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*v," Z")}else m="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return m},SG=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),m=Math.max(i,i+l),d=Math.min(o,o+c),f=Math.max(o,o+c);return a>=u&&a<=m&&s>=d&&s<=f}return!1},CG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dg=function(t){var r=rN(rN({},CG),t),a=k.useRef(),s=k.useState(-1),i=xG(s,2),o=i[0],l=i[1];k.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var j=a.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,m=r.width,d=r.height,f=r.radius,y=r.className,v=r.animationEasing,h=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||m!==+m||d!==+d||m===0||d===0)return null;var x=ke("recharts-rectangle",y);return N?q.createElement(Hs,{canBegin:o>0,from:{width:m,height:d,x:c,y:u},to:{width:m,height:d,x:c,y:u},duration:h,animationEasing:v,isActive:N},function(j){var p=j.width,w=j.height,C=j.x,P=j.y;return q.createElement(Hs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:h,isActive:b,easing:v},q.createElement("path",Xu({},Ne(r,!0),{className:x,d:nN(C,P,p,w,f),ref:a})))}):q.createElement("path",Xu({},Ne(r,!0),{className:x,d:nN(c,u,m,d,f)}))};function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bp.apply(this,arguments)}var mg=function(t){var r=t.cx,a=t.cy,s=t.r,i=t.className,o=ke("recharts-dot",i);return r===+r&&a===+a&&s===+s?k.createElement("circle",Bp({},Ne(t,!1),xu(t),{className:o,cx:r,cy:a,r:s})):null};function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}var kG=["x","y","top","left","width","height","className"];function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Up.apply(this,arguments)}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function OG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(a){PG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PG(e,t,r){return t=AG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AG(e){var t=EG(e,"string");return ll(t)=="symbol"?t:t+""}function EG(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ll(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TG(e,t){if(e==null)return{};var r=MG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function MG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var IG=function(t,r,a,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(a)},DG=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,m=t.width,d=m===void 0?0:m,f=t.height,y=f===void 0?0:f,v=t.className,h=TG(t,kG),g=OG({x:a,y:i,top:l,left:u,width:d,height:y},h);return!re(a)||!re(i)||!re(d)||!re(y)||!re(l)||!re(u)?null:q.createElement("path",Up({},Ne(g,!0),{className:ke("recharts-cross",v),d:IG(a,i,d,y,l,u)}))},$G=qC,_G=$G(Object.getPrototypeOf,Object),RG=_G,LG=Cn,FG=RG,BG=kn,UG="[object Object]",qG=Function.prototype,WG=Object.prototype,Ak=qG.toString,KG=WG.hasOwnProperty,zG=Ak.call(Object);function VG(e){if(!BG(e)||LG(e)!=UG)return!1;var t=FG(e);if(t===null)return!0;var r=KG.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Ak.call(r)==zG}var GG=VG;const HG=_e(GG);var QG=Cn,JG=kn,XG="[object Boolean]";function YG(e){return e===!0||e===!1||JG(e)&&QG(e)==XG}var ZG=YG;const eH=_e(ZG);function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yu.apply(this,arguments)}function tH(e,t){return sH(e)||aH(e,t)||nH(e,t)||rH()}function rH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nH(e,t){if(e){if(typeof e=="string")return sN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sN(e,t)}}function sN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function aH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(m){u=!0,s=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sH(e){if(Array.isArray(e))return e}function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function oN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(a){iH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iH(e,t,r){return t=oH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oH(e){var t=lH(e,"string");return cl(t)=="symbol"?t:t+""}function lH(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(cl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lN=function(t,r,a,s,i){var o=a-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+a,",").concat(r),l+="L ".concat(t+a-o/2,",").concat(r+i),l+="L ".concat(t+a-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},cH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uH=function(t){var r=oN(oN({},cH),t),a=k.useRef(),s=k.useState(-1),i=tH(s,2),o=i[0],l=i[1];k.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var x=a.current.getTotalLength();x&&l(x)}catch{}},[]);var c=r.x,u=r.y,m=r.upperWidth,d=r.lowerWidth,f=r.height,y=r.className,v=r.animationEasing,h=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||m!==+m||d!==+d||f!==+f||m===0&&d===0||f===0)return null;var N=ke("recharts-trapezoid",y);return b?q.createElement(Hs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:m,lowerWidth:d,height:f,x:c,y:u},duration:h,animationEasing:v,isActive:b},function(x){var j=x.upperWidth,p=x.lowerWidth,w=x.height,C=x.x,P=x.y;return q.createElement(Hs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:h,easing:v},q.createElement("path",Yu({},Ne(r,!0),{className:N,d:lN(C,P,j,p,w),ref:a})))}):q.createElement("g",null,q.createElement("path",Yu({},Ne(r,!0),{className:N,d:lN(c,u,m,d,f)})))},dH=["option","shapeType","propTransformer","activeClassName","isActive"];function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function mH(e,t){if(e==null)return{};var r=fH(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fH(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(a){hH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hH(e,t,r){return t=pH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=xH(e,"string");return ul(t)=="symbol"?t:t+""}function xH(e,t){if(ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ul(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yH(e,t){return Zu(Zu({},t),e)}function gH(e,t){return e==="symbols"}function uN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return q.createElement(dg,r);case"trapezoid":return q.createElement(uH,r);case"sector":return q.createElement(gk,r);case"symbols":if(gH(t))return q.createElement(Ey,r);break;default:return null}}function vH(e){return k.isValidElement(e)?e.props:e}function bH(e){var t=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?yH:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=mH(e,dH),u;if(k.isValidElement(t))u=k.cloneElement(t,Zu(Zu({},c),vH(t)));else if(ve(t))u=t(c);else if(HG(t)&&!eH(t)){var m=s(t,c);u=q.createElement(uN,{shapeType:r,elementProps:m})}else{var d=c;u=q.createElement(uN,{shapeType:r,elementProps:d})}return l?q.createElement(Ze,{className:o},u):u}function pm(e,t){return t!=null&&"trapezoids"in e.props}function xm(e,t){return t!=null&&"sectors"in e.props}function dl(e,t){return t!=null&&"points"in e.props}function jH(e,t){var r,a,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function NH(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function wH(e,t){var r=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return r&&a&&s}function SH(e,t){var r;return pm(e,t)?r=jH:xm(e,t)?r=NH:dl(e,t)&&(r=wH),r}function CH(e,t){var r;return pm(e,t)?r="trapezoids":xm(e,t)?r="sectors":dl(e,t)&&(r="points"),r}function kH(e,t){if(pm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(xm(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return dl(e,t)?t.payload:{}}function OH(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=CH(r,t),i=kH(r,t),o=a.filter(function(c,u){var m=dm(i,c),d=r.props[s].filter(function(v){var h=SH(r,t);return h(v,t)}),f=r.props[s].indexOf(d[d.length-1]),y=u===f;return m&&y}),l=a.indexOf(o[o.length-1]);return l}var PH=Math.ceil,AH=Math.max;function EH(e,t,r,a){for(var s=-1,i=AH(PH((t-e)/(r||1)),0),o=Array(i);i--;)o[a?i:++s]=e,e+=r;return o}var TH=EH,MH=o2,dN=1/0,IH=17976931348623157e292;function DH(e){if(!e)return e===0?e:0;if(e=MH(e),e===dN||e===-dN){var t=e<0?-1:1;return t*IH}return e===e?e:0}var Ek=DH,$H=TH,_H=rm,kf=Ek;function RH(e){return function(t,r,a){return a&&typeof a!="number"&&_H(t,r,a)&&(r=a=void 0),t=kf(t),r===void 0?(r=t,t=0):r=kf(r),a=a===void 0?t<r?1:-1:kf(a),$H(t,r,a,e)}}var LH=RH,FH=LH,BH=FH(),UH=BH;const ed=_e(UH);function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(a){Tk(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tk(e,t,r){return t=qH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=WH(e,"string");return ml(t)=="symbol"?t:t+""}function WH(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ml(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KH=["Webkit","Moz","O","ms"],zH=function(t,r){if(!t)return null;var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=KH.reduce(function(i,o){return fN(fN({},i),{},Tk({},o+a,r))},{});return s[t]=r,s};function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},td.apply(this,arguments)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(a){Jt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ik(a.key),a)}}function GH(e,t,r){return t&&pN(e.prototype,t),r&&pN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HH(e,t,r){return t=rd(t),QH(e,Mk()?Reflect.construct(t,r||[],rd(e).constructor):t.apply(e,r))}function QH(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JH(e)}function JH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mk=function(){return!!e})()}function rd(e){return rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rd(e)}function XH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qp(e,t)}function qp(e,t){return qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},qp(e,t)}function Jt(e,t,r){return t=Ik(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ik(e){var t=YH(e,"string");return Qs(t)=="symbol"?t:t+""}function YH(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Qs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZH=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=lo().domain(ed(0,c)).range([i,i+o-l]),m=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(a),endX:u(s),scale:u,scaleValues:m}},xN=function(t){return t.changedTouches&&!!t.changedTouches.length},Js=function(e){function t(r){var a;return VH(this,t),a=HH(this,t,[r]),Jt(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Jt(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Jt(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),a.detachDragEndListener()}),Jt(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Jt(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Jt(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Jt(a,"handleSlideDragStart",function(s){var i=xN(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return XH(t,e),GH(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,m=u.length-1,d=Math.min(s,i),f=Math.max(s,i),y=t.getIndexInRange(o,d),v=t.getIndexInRange(o,f);return{startIndex:y-y%c,endIndex:v===m?m:v-v%c}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=sr(i[a],l,a);return ve(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,m=c.width,d=c.travellerWidth,f=c.startIndex,y=c.endIndex,v=c.onChange,h=a.pageX-i;h>0?h=Math.min(h,u+m-d-l,u+m-d-o):h<0&&(h=Math.max(h,u-o,u-l));var g=this.getIndex({startX:o+h,endX:l+h});(g.startIndex!==f||g.endIndex!==y)&&v&&v(g),this.setState({startX:o+h,endX:l+h,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=xN(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],m=this.props,d=m.x,f=m.width,y=m.travellerWidth,v=m.onChange,h=m.gap,g=m.data,b={startX:this.state.startX,endX:this.state.endX},N=a.pageX-i;N>0?N=Math.min(N,d+f-y-u):N<0&&(N=Math.max(N,d-u)),b[o]=u+N;var x=this.getIndex(b),j=x.startIndex,p=x.endIndex,w=function(){var P=g.length-1;return o==="startX"&&(l>c?j%h===0:p%h===0)||l<c&&p===P||o==="endX"&&(l>c?p%h===0:j%h===0)||l>c&&p===P};this.setState(Jt(Jt({},o,u+N),"brushMoveStartX",a.pageX),function(){v&&w()&&v(x)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,m=this.state[s],d=l.indexOf(m);if(d!==-1){var f=d+a;if(!(f===-1||f>=l.length)){var y=l[f];s==="startX"&&y>=u||s==="endX"&&y<=c||this.setState(Jt({},s,y),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.fill,u=a.stroke;return q.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.data,u=a.children,m=a.padding,d=k.Children.only(u);return d?q.cloneElement(d,{x:s,y:i,width:o,height:l,margin:m,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,o,l=this,c=this.props,u=c.y,m=c.travellerWidth,d=c.height,f=c.traveller,y=c.ariaLabel,v=c.data,h=c.startIndex,g=c.endIndex,b=Math.max(a,this.props.x),N=Of(Of({},Ne(this.props,!1)),{},{x:b,y:u,width:m,height:d}),x=y||"Min value: ".concat((i=v[h])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return q.createElement(Ze,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(p){["ArrowLeft","ArrowRight"].includes(p.key)&&(p.preventDefault(),p.stopPropagation(),l.handleTravellerMoveKeyboard(p.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,N))}},{key:"renderSlide",value:function(a,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,m=Math.min(a,s)+u,d=Math.max(Math.abs(s-a)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:m,y:o,width:d,height:l})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,o=a.y,l=a.height,c=a.travellerWidth,u=a.stroke,m=this.state,d=m.startX,f=m.endX,y=5,v={pointerEvents:"none",fill:u};return q.createElement(Ze,{className:"recharts-brush-texts"},q.createElement(Tu,td({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-y,y:o+l/2},v),this.getTextOfTick(s)),q.createElement(Tu,td({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+c+y,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,o=a.children,l=a.x,c=a.y,u=a.width,m=a.height,d=a.alwaysShowText,f=this.state,y=f.startX,v=f.endX,h=f.isTextActive,g=f.isSlideMoving,b=f.isTravellerMoving,N=f.isTravellerFocused;if(!s||!s.length||!re(l)||!re(c)||!re(u)||!re(m)||u<=0||m<=0)return null;var x=ke("recharts-brush",i),j=q.Children.count(o)===1,p=zH("userSelect","none");return q.createElement(Ze,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:p},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(h||g||b||N||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,o=a.width,l=a.height,c=a.stroke,u=Math.floor(i+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),q.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return q.isValidElement(a)?i=q.cloneElement(a,s):ve(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,o=a.width,l=a.x,c=a.travellerWidth,u=a.updateId,m=a.startIndex,d=a.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Of({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?ZH({data:i,width:o,x:l,travellerWidth:c,startIndex:m,endIndex:d}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var f=s.scale.domain().map(function(y){return s.scale(y)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);a[c]>s?l=c:o=c}return s>=a[l]?l:o}}])}(k.PureComponent);Jt(Js,"displayName","Brush");Jt(Js,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var eQ=Ry;function tQ(e,t){var r;return eQ(e,function(a,s,i){return r=t(a,s,i),!r}),!!r}var rQ=tQ,nQ=DC,aQ=ia,sQ=rQ,iQ=Ht,oQ=rm;function lQ(e,t,r){var a=iQ(e)?nQ:sQ;return r&&oQ(e,t,r)&&(t=void 0),a(e,aQ(t))}var cQ=lQ;const uQ=_e(cQ);var Qr=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},yN=r2;function dQ(e,t,r){t=="__proto__"&&yN?yN(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var mQ=dQ,fQ=mQ,hQ=e2,pQ=ia;function xQ(e,t){var r={};return t=pQ(t),hQ(e,function(a,s,i){fQ(r,s,t(a,s,i))}),r}var yQ=xQ;const gQ=_e(yQ);function vQ(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}var bQ=vQ,jQ=Ry;function NQ(e,t){var r=!0;return jQ(e,function(a,s,i){return r=!!t(a,s,i),r}),r}var wQ=NQ,SQ=bQ,CQ=wQ,kQ=ia,OQ=Ht,PQ=rm;function AQ(e,t,r){var a=OQ(e)?SQ:CQ;return r&&PQ(e,t,r)&&(t=void 0),a(e,kQ(t))}var EQ=AQ;const Dk=_e(EQ);var TQ=["x","y"];function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wp.apply(this,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(a){MQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function MQ(e,t,r){return t=IQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IQ(e){var t=DQ(e,"string");return fl(t)=="symbol"?t:t+""}function DQ(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(fl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Q(e,t){if(e==null)return{};var r=_Q(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _Q(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function RQ(e,t){var r=e.x,a=e.y,s=$Q(e,TQ),i="".concat(r),o=parseInt(i,10),l="".concat(a),c=parseInt(l,10),u="".concat(t.height||s.height),m=parseInt(u,10),d="".concat(t.width||s.width),f=parseInt(d,10);return Wi(Wi(Wi(Wi(Wi({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:m,width:f,name:t.name,radius:t.radius})}function vN(e){return q.createElement(bH,Wp({shapeType:"rectangle",propTransformer:RQ,activeClassName:"recharts-active-bar"},e))}var LQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=re(a)||sD(a);return i?t(a,s):(i||qa(!1),r)}},FQ=["value","background"],$k;function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function BQ(e,t){if(e==null)return{};var r=UQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function UQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nd.apply(this,arguments)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(a){Fn(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Rk(a.key),a)}}function WQ(e,t,r){return t&&jN(e.prototype,t),r&&jN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KQ(e,t,r){return t=ad(t),zQ(e,_k()?Reflect.construct(t,r||[],ad(e).constructor):t.apply(e,r))}function zQ(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VQ(e)}function VQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_k=function(){return!!e})()}function ad(e){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ad(e)}function GQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kp(e,t)}function Kp(e,t){return Kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Kp(e,t)}function Fn(e,t,r){return t=Rk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rk(e){var t=HQ(e,"string");return Xs(t)=="symbol"?t:t+""}function HQ(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Xs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ll=function(e){function t(){var r;qQ(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=KQ(this,t,[].concat(s)),Fn(r,"state",{isAnimationFinished:!1}),Fn(r,"id",Tl("recharts-bar-")),Fn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Fn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return GQ(t,e),WQ(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,m=Ne(this.props,!1);return a&&a.map(function(d,f){var y=f===c,v=y?u:o,h=tt(tt(tt({},m),d),{},{isActive:y,option:v,index:f,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return q.createElement(Ze,nd({className:"recharts-bar-rectangle"},yu(s.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),q.createElement(vN,h))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,m=s.animationEasing,d=s.animationId,f=this.state.prevData;return q.createElement(Hs,{begin:c,duration:u,isActive:l,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,h=i.map(function(g,b){var N=f&&f[b];if(N){var x=Ir(N.x,g.x),j=Ir(N.y,g.y),p=Ir(N.width,g.width),w=Ir(N.height,g.height);return tt(tt({},g),{},{x:x(v),y:j(v),width:p(v),height:w(v)})}if(o==="horizontal"){var C=Ir(0,g.height),P=C(v);return tt(tt({},g),{},{y:g.y+g.height-P,height:P})}var E=Ir(0,g.width),I=E(v);return tt(tt({},g),{},{width:I})});return q.createElement(Ze,null,a.renderRectanglesStatically(h))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!dm(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Ne(this.props.background,!1);return i.map(function(u,m){u.value;var d=u.background,f=BQ(u,FQ);if(!d)return null;var y=tt(tt(tt(tt(tt({},f),{},{fill:"#eee"},d),c),yu(a.props,u,m)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return q.createElement(vN,nd({key:"background-bar-".concat(m),option:a.props.background,isActive:m===l},y))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,m=i.children,d=gr(m,Rl);if(!d)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,y=function(g,b){var N=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:N,errorVal:sr(g,b)}},v={clipPath:a?"url(#clipPath-".concat(s,")"):null};return q.createElement(Ze,v,d.map(function(h){return q.cloneElement(h,{key:"error-bar-".concat(s,"-").concat(h.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:y})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,l=a.xAxis,c=a.yAxis,u=a.left,m=a.top,d=a.width,f=a.height,y=a.isAnimationActive,v=a.background,h=a.id;if(s||!i||!i.length)return null;var g=this.state.isAnimationFinished,b=ke("recharts-bar",o),N=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,j=N||x,p=be(h)?this.id:h;return q.createElement(Ze,{className:b},N||x?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(p)},q.createElement("rect",{x:N?u:u-d/2,y:x?m:m-f/2,width:N?d:d*2,height:x?f:f*2}))):null,q.createElement(Ze,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(p,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,p),(!y||g)&&Jn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(k.PureComponent);$k=Ll;Fn(Ll,"displayName","Bar");Fn(Ll,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fn(Ll,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,m=e.dataStartIndex,d=e.displayedData,f=e.offset,y=CK(a,r);if(!y)return null;var v=t.layout,h=r.type.defaultProps,g=h!==void 0?tt(tt({},h),r.props):r.props,b=g.dataKey,N=g.children,x=g.minPointSize,j=v==="horizontal"?o:i,p=u?j.scale.domain():null,w=IK({numericAxis:j}),C=gr(N,c2),P=d.map(function(E,I){var M,O,D,B,_,A;u?M=kK(u[m+I],p):(M=sr(E,b),Array.isArray(M)||(M=[w,M]));var F=LQ(x,$k.defaultProps.minPointSize)(M[1],I);if(v==="horizontal"){var S,T=[o.scale(M[0]),o.scale(M[1])],R=T[0],$=T[1];O=vj({axis:i,ticks:l,bandSize:s,offset:y.offset,entry:E,index:I}),D=(S=$??R)!==null&&S!==void 0?S:void 0,B=y.size;var L=R-$;if(_=Number.isNaN(L)?0:L,A={x:O,y:o.y,width:B,height:o.height},Math.abs(F)>0&&Math.abs(_)<Math.abs(F)){var Q=_r(_||F)*(Math.abs(F)-Math.abs(_));D-=Q,_+=Q}}else{var Y=[i.scale(M[0]),i.scale(M[1])],ne=Y[0],fe=Y[1];if(O=ne,D=vj({axis:o,ticks:c,bandSize:s,offset:y.offset,entry:E,index:I}),B=fe-ne,_=y.size,A={x:i.x,y:D,width:i.width,height:_},Math.abs(F)>0&&Math.abs(B)<Math.abs(F)){var X=_r(B||F)*(Math.abs(F)-Math.abs(B));B+=X}}return tt(tt(tt({},E),{},{x:O,y:D,width:B,height:_,value:u?M:M[1],payload:E,background:A},C&&C[I]&&C[I].props),{},{tooltipPayload:[pk(r,E)],tooltipPosition:{x:O+B/2,y:D+_/2}})});return tt({data:P,layout:v},f)});function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function QQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Lk(a.key),a)}}function JQ(e,t,r){return t&&NN(e.prototype,t),r&&NN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(a){ym(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ym(e,t,r){return t=Lk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lk(e){var t=XQ(e,"string");return hl(t)=="symbol"?t:t+""}function XQ(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(hl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YQ=function(t,r,a,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,m=Object.keys(r),d={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},f=!!Yt(u,Ll);return m.reduce(function(y,v){var h=r[v],g=h.orientation,b=h.domain,N=h.padding,x=N===void 0?{}:N,j=h.mirror,p=h.reversed,w="".concat(g).concat(j?"Mirror":""),C,P,E,I,M;if(h.type==="number"&&(h.padding==="gap"||h.padding==="no-gap")){var O=b[1]-b[0],D=1/0,B=h.categoricalDomain.sort(lD);if(B.forEach(function(Y,ne){ne>0&&(D=Math.min((Y||0)-(B[ne-1]||0),D))}),Number.isFinite(D)){var _=D/O,A=h.layout==="vertical"?a.height:a.width;if(h.padding==="gap"&&(C=_*A/2),h.padding==="no-gap"){var F=Ba(t.barCategoryGap,_*A),S=_*A/2;C=S-F-(S-F)/A*F}}}s==="xAxis"?P=[a.left+(x.left||0)+(C||0),a.left+a.width-(x.right||0)-(C||0)]:s==="yAxis"?P=c==="horizontal"?[a.top+a.height-(x.bottom||0),a.top+(x.top||0)]:[a.top+(x.top||0)+(C||0),a.top+a.height-(x.bottom||0)-(C||0)]:P=h.range,p&&(P=[P[1],P[0]]);var T=wK(h,i,f),R=T.scale,$=T.realScaleType;R.domain(b).range(P),SK(R);var L=MK(R,Er(Er({},h),{},{realScaleType:$}));s==="xAxis"?(M=g==="top"&&!j||g==="bottom"&&j,E=a.left,I=d[w]-M*h.height):s==="yAxis"&&(M=g==="left"&&!j||g==="right"&&j,E=d[w]-M*h.width,I=a.top);var Q=Er(Er(Er({},h),L),{},{realScaleType:$,x:E,y:I,scale:R,width:s==="xAxis"?a.width:h.width,height:s==="yAxis"?a.height:h.height});return Q.bandSize=zu(Q,L),!h.hide&&s==="xAxis"?d[w]+=(M?-1:1)*Q.height:h.hide||(d[w]+=(M?-1:1)*Q.width),Er(Er({},y),{},ym({},v,Q))},{})},Fk=function(t,r){var a=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},ZQ=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return Fk({x:r,y:a},{x:s,y:i})},Bk=function(){function e(t){QQ(this,e),this.scale=t}return JQ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();ym(Bk,"EPS",1e-4);var fg=function(t){var r=Object.keys(t).reduce(function(a,s){return Er(Er({},a),{},ym({},s,Bk.create(t[s])))},{});return Er(Er({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return gQ(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Dk(s,function(i,o){return r[o].isInRange(i)})}})};function eJ(e){return(e%180+180)%180}var tJ=function(t){var r=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=eJ(s),o=i*Math.PI/180,l=Math.atan(a/r),c=o>l&&o<Math.PI-l?a/Math.sin(o):r/Math.cos(o);return Math.abs(c)},rJ=ia,nJ=Ml,aJ=em;function sJ(e){return function(t,r,a){var s=Object(t);if(!nJ(t)){var i=rJ(r);t=aJ(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,a);return o>-1?s[i?t[o]:o]:void 0}}var iJ=sJ,oJ=Ek;function lJ(e){var t=oJ(e),r=t%1;return t===t?r?t-r:t:0}var cJ=lJ,uJ=HC,dJ=ia,mJ=cJ,fJ=Math.max;function hJ(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var s=r==null?0:mJ(r);return s<0&&(s=fJ(a+s,0)),uJ(e,dJ(t),s)}var pJ=hJ,xJ=iJ,yJ=pJ,gJ=xJ(yJ),vJ=gJ;const bJ=_e(vJ);var jJ=cI(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),hg=k.createContext(void 0),pg=k.createContext(void 0),Uk=k.createContext(void 0),qk=k.createContext({}),Wk=k.createContext(void 0),Kk=k.createContext(0),zk=k.createContext(0),SN=function(t){var r=t.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,m=jJ(i);return q.createElement(hg.Provider,{value:a},q.createElement(pg.Provider,{value:s},q.createElement(qk.Provider,{value:i},q.createElement(Uk.Provider,{value:m},q.createElement(Wk.Provider,{value:o},q.createElement(Kk.Provider,{value:u},q.createElement(zk.Provider,{value:c},l)))))))},NJ=function(){return k.useContext(Wk)},Vk=function(t){var r=k.useContext(hg);r==null&&qa(!1);var a=r[t];return a==null&&qa(!1),a},wJ=function(){var t=k.useContext(hg);return Dn(t)},SJ=function(){var t=k.useContext(pg),r=bJ(t,function(a){return Dk(a.domain,Number.isFinite)});return r||Dn(t)},Gk=function(t){var r=k.useContext(pg);r==null&&qa(!1);var a=r[t];return a==null&&qa(!1),a},CJ=function(){var t=k.useContext(Uk);return t},kJ=function(){return k.useContext(qk)},xg=function(){return k.useContext(zk)},yg=function(){return k.useContext(Kk)};function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function OJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Qk(a.key),a)}}function PJ(e,t,r){return t&&CN(e.prototype,t),r&&CN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AJ(e,t,r){return t=sd(t),EJ(e,Hk()?Reflect.construct(t,r||[],sd(e).constructor):t.apply(e,r))}function EJ(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TJ(e)}function TJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hk=function(){return!!e})()}function sd(e){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sd(e)}function MJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zp(e,t)}function zp(e,t){return zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},zp(e,t)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ON(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(a){gg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gg(e,t,r){return t=Qk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qk(e){var t=IJ(e,"string");return Ys(t)=="symbol"?t:t+""}function IJ(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ys(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DJ(e,t){return LJ(e)||RJ(e,t)||_J(e,t)||$J()}function $J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(e,t){if(e){if(typeof e=="string")return PN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PN(e,t)}}function PN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function RJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(m){u=!0,s=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function LJ(e){if(Array.isArray(e))return e}function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Vp.apply(this,arguments)}var FJ=function(t,r){var a;return q.isValidElement(t)?a=q.cloneElement(t,r):ve(t)?a=t(r):a=q.createElement("line",Vp({},r,{className:"recharts-reference-line-line"})),a},BJ=function(t,r,a,s,i,o,l,c,u){var m=i.x,d=i.y,f=i.width,y=i.height;if(a){var v=u.y,h=t.y.apply(v,{position:o});if(Qr(u,"discard")&&!t.y.isInRange(h))return null;var g=[{x:m+f,y:h},{x:m,y:h}];return c==="left"?g.reverse():g}if(r){var b=u.x,N=t.x.apply(b,{position:o});if(Qr(u,"discard")&&!t.x.isInRange(N))return null;var x=[{x:N,y:d+y},{x:N,y:d}];return l==="top"?x.reverse():x}if(s){var j=u.segment,p=j.map(function(w){return t.apply(w,{position:o})});return Qr(u,"discard")&&uQ(p,function(w){return!t.isInRange(w)})?null:p}return null};function UJ(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=NJ(),m=Vk(s),d=Gk(i),f=CJ();if(!u||!f)return null;mn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=fg({x:m.scale,y:d.scale}),v=dt(t),h=dt(r),g=a&&a.length===2,b=BJ(y,v,h,g,f,e.position,m.orientation,d.orientation,e);if(!b)return null;var N=DJ(b,2),x=N[0],j=x.x,p=x.y,w=N[1],C=w.x,P=w.y,E=Qr(e,"hidden")?"url(#".concat(u,")"):void 0,I=ON(ON({clipPath:E},Ne(e,!0)),{},{x1:j,y1:p,x2:C,y2:P});return q.createElement(Ze,{className:ke("recharts-reference-line",l)},FJ(o,I),At.renderCallByParent(e,ZQ({x1:j,y1:p,x2:C,y2:P})))}var vg=function(e){function t(){return OJ(this,t),AJ(this,t,arguments)}return MJ(t,e),PJ(t,[{key:"render",value:function(){return q.createElement(UJ,this.props)}}])}(q.Component);gg(vg,"displayName","ReferenceLine");gg(vg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gp.apply(this,arguments)}function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function EN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(a){gm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Xk(a.key),a)}}function WJ(e,t,r){return t&&TN(e.prototype,t),r&&TN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KJ(e,t,r){return t=id(t),zJ(e,Jk()?Reflect.construct(t,r||[],id(e).constructor):t.apply(e,r))}function zJ(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VJ(e)}function VJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jk=function(){return!!e})()}function id(e){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},id(e)}function GJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hp(e,t)}function Hp(e,t){return Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Hp(e,t)}function gm(e,t,r){return t=Xk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xk(e){var t=HJ(e,"string");return Zs(t)=="symbol"?t:t+""}function HJ(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QJ=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,o=fg({x:s.scale,y:i.scale}),l=o.apply({x:r,y:a},{bandAware:!0});return Qr(t,"discard")&&!o.isInRange(l)?null:l},vm=function(e){function t(){return qJ(this,t),KJ(this,t,arguments)}return GJ(t,e),WJ(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,o=a.r,l=a.alwaysShow,c=a.clipPathId,u=dt(s),m=dt(i);if(mn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!m)return null;var d=QJ(this.props);if(!d)return null;var f=d.x,y=d.y,v=this.props,h=v.shape,g=v.className,b=Qr(this.props,"hidden")?"url(#".concat(c,")"):void 0,N=EN(EN({clipPath:b},Ne(this.props,!0)),{},{cx:f,cy:y});return q.createElement(Ze,{className:ke("recharts-reference-dot",g)},t.renderDot(h,N),At.renderCallByParent(this.props,{x:f-o,y:y-o,width:2*o,height:2*o}))}}])}(q.Component);gm(vm,"displayName","ReferenceDot");gm(vm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gm(vm,"renderDot",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):ve(e)?r=e(t):r=q.createElement(mg,Gp({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qp.apply(this,arguments)}function ei(e){"@babel/helpers - typeof";return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(e)}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(a){bm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function JJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Zk(a.key),a)}}function XJ(e,t,r){return t&&DN(e.prototype,t),r&&DN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YJ(e,t,r){return t=od(t),ZJ(e,Yk()?Reflect.construct(t,r||[],od(e).constructor):t.apply(e,r))}function ZJ(e,t){if(t&&(ei(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eX(e)}function eX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yk=function(){return!!e})()}function od(e){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},od(e)}function tX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jp(e,t)}function Jp(e,t){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Jp(e,t)}function bm(e,t,r){return t=Zk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zk(e){var t=rX(e,"string");return ei(t)=="symbol"?t:t+""}function rX(e,t){if(ei(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ei(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nX=function(t,r,a,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,m=i.xAxis,d=i.yAxis;if(!m||!d)return null;var f=fg({x:m.scale,y:d.scale}),y={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:a?f.y.apply(c,{position:"start"}):f.y.rangeMin},v={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Qr(i,"discard")&&(!f.isInRange(y)||!f.isInRange(v))?null:Fk(y,v)},jm=function(e){function t(){return JJ(this,t),YJ(this,t,arguments)}return tX(t,e),XJ(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.className,u=a.alwaysShow,m=a.clipPathId;mn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=dt(s),f=dt(i),y=dt(o),v=dt(l),h=this.props.shape;if(!d&&!f&&!y&&!v&&!h)return null;var g=nX(d,f,y,v,this.props);if(!g&&!h)return null;var b=Qr(this.props,"hidden")?"url(#".concat(m,")"):void 0;return q.createElement(Ze,{className:ke("recharts-reference-area",c)},t.renderRect(h,IN(IN({clipPath:b},Ne(this.props,!0)),g)),At.renderCallByParent(this.props,g))}}])}(q.Component);bm(jm,"displayName","ReferenceArea");bm(jm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});bm(jm,"renderRect",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):ve(e)?r=e(t):r=q.createElement(dg,Qp({},t,{className:"recharts-reference-area-rect"})),r});function eO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)if(r===void 0||r(e[s])===!0)a.push(e[s]);else return;return a}function aX(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return tJ(a,r)}function sX(e,t,r){var a=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:a?s:i,end:a?s+o:i+l}:{start:a?s+o:i+l,end:a?s:i}}function ld(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function iX(e,t){return eO(e,t+1)}function oX(e,t,r,a,s){for(var i=(a||[]).slice(),o=t.start,l=t.end,c=0,u=1,m=o,d=function(){var v=a==null?void 0:a[c];if(v===void 0)return{v:eO(a,u)};var h=c,g,b=function(){return g===void 0&&(g=r(v,h)),g},N=v.coordinate,x=c===0||ld(e,N,b,m,l);x||(c=0,m=o,u+=1),x&&(m=N+e*(b()/2+s),c+=u)},f;u<=i.length;)if(f=d(),f)return f.v;return[]}function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(a){lX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lX(e,t,r){return t=cX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cX(e){var t=uX(e,"string");return pl(t)=="symbol"?t:t+""}function uX(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(pl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dX(e,t,r,a,s){for(var i=(a||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var y=i[f],v,h=function(){return v===void 0&&(v=r(y,f)),v};if(f===o-1){var g=e*(y.coordinate+e*h()/2-c);i[f]=y=Ot(Ot({},y),{},{tickCoord:g>0?y.coordinate-g*e:y.coordinate})}else i[f]=y=Ot(Ot({},y),{},{tickCoord:y.coordinate});var b=ld(e,y.tickCoord,h,l,c);b&&(c=y.tickCoord-e*(h()/2+s),i[f]=Ot(Ot({},y),{},{isShow:!0}))},m=o-1;m>=0;m--)u(m);return i}function mX(e,t,r,a,s,i){var o=(a||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var m=a[l-1],d=r(m,l-1),f=e*(m.coordinate+e*d/2-u);o[l-1]=m=Ot(Ot({},m),{},{tickCoord:f>0?m.coordinate-f*e:m.coordinate});var y=ld(e,m.tickCoord,function(){return d},c,u);y&&(u=m.tickCoord-e*(d/2+s),o[l-1]=Ot(Ot({},m),{},{isShow:!0}))}for(var v=i?l-1:l,h=function(N){var x=o[N],j,p=function(){return j===void 0&&(j=r(x,N)),j};if(N===0){var w=e*(x.coordinate-e*p()/2-c);o[N]=x=Ot(Ot({},x),{},{tickCoord:w<0?x.coordinate-w*e:x.coordinate})}else o[N]=x=Ot(Ot({},x),{},{tickCoord:x.coordinate});var C=ld(e,x.tickCoord,p,c,u);C&&(c=x.tickCoord+e*(p()/2+s),o[N]=Ot(Ot({},x),{},{isShow:!0}))},g=0;g<v;g++)h(g);return o}function bg(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,m=e.unit,d=e.angle;if(!s||!s.length||!a)return[];if(re(c)||fn.isSsr)return iX(s,typeof c=="number"&&re(c)?c:0);var f=[],y=l==="top"||l==="bottom"?"width":"height",v=m&&y==="width"?oo(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},h=function(x,j){var p=ve(u)?u(x.value,j):x.value;return y==="width"?aX(oo(p,{fontSize:t,letterSpacing:r}),v,d):oo(p,{fontSize:t,letterSpacing:r})[y]},g=s.length>=2?_r(s[1].coordinate-s[0].coordinate):1,b=sX(i,g,y);return c==="equidistantPreserveStart"?oX(g,b,h,s,o):(c==="preserveStart"||c==="preserveStartEnd"?f=mX(g,b,h,s,o,c==="preserveStartEnd"):f=dX(g,b,h,s,o),f.filter(function(N){return N.isShow}))}var fX=["viewBox"],hX=["viewBox"],pX=["ticks"];function ti(e){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gs.apply(this,arguments)}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(a){jg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Pf(e,t){if(e==null)return{};var r=xX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function xX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function yX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,rO(a.key),a)}}function gX(e,t,r){return t&&RN(e.prototype,t),r&&RN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vX(e,t,r){return t=cd(t),bX(e,tO()?Reflect.construct(t,r||[],cd(e).constructor):t.apply(e,r))}function bX(e,t){if(t&&(ti(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jX(e)}function jX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tO=function(){return!!e})()}function cd(e){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cd(e)}function NX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xp(e,t)}function Xp(e,t){return Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Xp(e,t)}function jg(e,t,r){return t=rO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rO(e){var t=wX(e,"string");return ti(t)=="symbol"?t:t+""}function wX(e,t){if(ti(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ti(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Si=function(e){function t(r){var a;return yX(this,t),a=vX(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return NX(t,e),gX(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,o=Pf(a,fX),l=this.props,c=l.viewBox,u=Pf(l,hX);return!ks(i,c)||!ks(o,u)||!ks(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,m=s.tickSize,d=s.mirror,f=s.tickMargin,y,v,h,g,b,N,x=d?-1:1,j=a.tickSize||m,p=re(a.tickCoord)?a.tickCoord:a.coordinate;switch(u){case"top":y=v=a.coordinate,g=o+ +!d*c,h=g-x*j,N=h-x*f,b=p;break;case"left":h=g=a.coordinate,v=i+ +!d*l,y=v-x*j,b=y-x*f,N=p;break;case"right":h=g=a.coordinate,v=i+ +d*l,y=v+x*j,b=y+x*f,N=p;break;default:y=v=a.coordinate,g=o+ +d*c,h=g+x*j,N=h+x*f,b=p;break}return{line:{x1:y,y1:h,x2:v,y2:g},tick:{x:b,y:N}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.orientation,u=a.mirror,m=a.axisLine,d=it(it(it({},Ne(this.props,!1)),Ne(m,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);d=it(it({},d),{},{x1:s,y1:i+f*l,x2:s+o,y2:i+f*l})}else{var y=+(c==="left"&&!u||c==="right"&&u);d=it(it({},d),{},{x1:s+y*o,y1:i,x2:s+y*o,y2:i+l})}return q.createElement("line",gs({},d,{className:ke("recharts-cartesian-axis-line",yr(m,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,m=l.tick,d=l.tickFormatter,f=l.unit,y=bg(it(it({},this.props),{},{ticks:a}),s,i),v=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),g=Ne(this.props,!1),b=Ne(m,!1),N=it(it({},g),{},{fill:"none"},Ne(c,!1)),x=y.map(function(j,p){var w=o.getTickLineCoord(j),C=w.line,P=w.tick,E=it(it(it(it({textAnchor:v,verticalAnchor:h},g),{},{stroke:"none",fill:u},b),P),{},{index:p,payload:j,visibleTicksCount:y.length,tickFormatter:d});return q.createElement(Ze,gs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},yu(o.props,j,p)),c&&q.createElement("line",gs({},N,C,{className:ke("recharts-cartesian-axis-tick-line",yr(c,"className"))})),m&&t.renderTickItem(m,E,"".concat(ve(d)?d(j.value,p):j.value).concat(f||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,m=s.hide;if(m)return null;var d=this.props,f=d.ticks,y=Pf(d,pX),v=f;return ve(c)&&(v=f&&f.length>0?c(this.props):c(y)),o<=0||l<=0||!v||!v.length?null:q.createElement(Ze,{className:ke("recharts-cartesian-axis",u),ref:function(g){a.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),At.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var o,l=ke(s.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(a)?o=q.cloneElement(a,it(it({},s),{},{className:l})):ve(a)?o=a(it(it({},s),{},{className:l})):o=q.createElement(Tu,gs({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(k.Component);jg(Si,"displayName","CartesianAxis");jg(Si,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var SX=["x1","y1","x2","y2","key"],CX=["offset"];function Wa(e){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(a){kX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kX(e,t,r){return t=OX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=PX(e,"string");return Wa(t)=="symbol"?t:t+""}function PX(e,t){if(Wa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Wa(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ka.apply(this,arguments)}function FN(e,t){if(e==null)return{};var r=AX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function AX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var EX=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return q.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function nO(e,t){var r;if(q.isValidElement(e))r=q.cloneElement(e,t);else if(ve(e))r=e(t);else{var a=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=FN(t,SX),u=Ne(c,!1);u.offset;var m=FN(u,CX);r=q.createElement("line",ka({},m,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function TX(e){var t=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Et(Et({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return nO(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function MX(e){var t=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Et(Et({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return nO(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function IX(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var m=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,y){return f-y});s!==m[0]&&m.unshift(0);var d=m.map(function(f,y){var v=!m[y+1],h=v?s+o-f:m[y+1]-f;if(h<=0)return null;var g=y%t.length;return q.createElement("rect",{key:"react-".concat(y),y:f,x:a,height:h,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function DX(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var m=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,y){return f-y});i!==m[0]&&m.unshift(0);var d=m.map(function(f,y){var v=!m[y+1],h=v?i+l-f:m[y+1]-f;if(h<=0)return null;var g=y%a.length;return q.createElement("rect",{key:"react-".concat(y),x:f,y:o,width:h,height:c,stroke:"none",fill:a[g],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $X=function(t,r){var a=t.xAxis,s=t.width,i=t.height,o=t.offset;return fk(bg(Et(Et(Et({},Si.defaultProps),a),{},{ticks:ln(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},_X=function(t,r){var a=t.yAxis,s=t.width,i=t.height,o=t.offset;return fk(bg(Et(Et(Et({},Si.defaultProps),a),{},{ticks:ln(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},ns={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Yp(e){var t,r,a,s,i,o,l=xg(),c=yg(),u=kJ(),m=Et(Et({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ns.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ns.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:ns.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:ns.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ns.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ns.verticalFill,x:re(e.x)?e.x:u.left,y:re(e.y)?e.y:u.top,width:re(e.width)?e.width:u.width,height:re(e.height)?e.height:u.height}),d=m.x,f=m.y,y=m.width,v=m.height,h=m.syncWithTicks,g=m.horizontalValues,b=m.verticalValues,N=wJ(),x=SJ();if(!re(y)||y<=0||!re(v)||v<=0||!re(d)||d!==+d||!re(f)||f!==+f)return null;var j=m.verticalCoordinatesGenerator||$X,p=m.horizontalCoordinatesGenerator||_X,w=m.horizontalPoints,C=m.verticalPoints;if((!w||!w.length)&&ve(p)){var P=g&&g.length,E=p({yAxis:x?Et(Et({},x),{},{ticks:P?g:x.ticks}):void 0,width:l,height:c,offset:u},P?!0:h);mn(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wa(E),"]")),Array.isArray(E)&&(w=E)}if((!C||!C.length)&&ve(j)){var I=b&&b.length,M=j({xAxis:N?Et(Et({},N),{},{ticks:I?b:N.ticks}):void 0,width:l,height:c,offset:u},I?!0:h);mn(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wa(M),"]")),Array.isArray(M)&&(C=M)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(EX,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),q.createElement(TX,ka({},m,{offset:u,horizontalPoints:w,xAxis:N,yAxis:x})),q.createElement(MX,ka({},m,{offset:u,verticalPoints:C,xAxis:N,yAxis:x})),q.createElement(IX,ka({},m,{horizontalPoints:w})),q.createElement(DX,ka({},m,{verticalPoints:C})))}Yp.displayName="CartesianGrid";var RX=["type","layout","connectNulls","ref"],LX=["key"];function ri(e){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}function BN(e,t){if(e==null)return{};var r=FX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function FX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mo.apply(this,arguments)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(a){Tr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function as(e){return WX(e)||qX(e)||UX(e)||BX()}function BX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UX(e,t){if(e){if(typeof e=="string")return Zp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zp(e,t)}}function qX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WX(e){if(Array.isArray(e))return Zp(e)}function Zp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function KX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sO(a.key),a)}}function zX(e,t,r){return t&&qN(e.prototype,t),r&&qN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VX(e,t,r){return t=ud(t),GX(e,aO()?Reflect.construct(t,r||[],ud(e).constructor):t.apply(e,r))}function GX(e,t){if(t&&(ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HX(e)}function HX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aO=function(){return!!e})()}function ud(e){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ud(e)}function QX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ex(e,t)}function ex(e,t){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ex(e,t)}function Tr(e,t,r){return t=sO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sO(e){var t=JX(e,"string");return ri(t)=="symbol"?t:t+""}function JX(e,t){if(ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ri(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ni=function(e){function t(){var r;KX(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=VX(this,t,[].concat(s)),Tr(r,"state",{isAnimationFinished:!0,totalLength:0}),Tr(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Tr(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,N){return b+N});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var m=Math.floor(o/u),d=o%u,f=l-o,y=[],v=0,h=0;v<c.length;h+=c[v],++v)if(h+c[v]>d){y=[].concat(as(c.slice(0,v)),[d-h]);break}var g=y.length%2===0?[0,f]:[f];return[].concat(as(t.repeat(c,m)),as(y),g).map(function(b){return"".concat(b,"px")}).join(", ")}),Tr(r,"id",Tl("recharts-line-")),Tr(r,"pathRef",function(o){r.mainCurve=o}),Tr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Tr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return QX(t,e),zX(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,m=i.children,d=gr(m,Rl);if(!d)return null;var f=function(h,g){return{x:h.x,y:h.y,value:h.value,errorVal:sr(h.payload,g)}},y={clipPath:a?"url(#clipPath-".concat(s,")"):null};return q.createElement(Ze,y,d.map(function(v){return q.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(a,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,m=l.dataKey,d=Ne(this.props,!1),f=Ne(c,!0),y=u.map(function(h,g){var b=Qt(Qt(Qt({key:"dot-".concat(g),r:3},d),f),{},{index:g,cx:h.x,cy:h.y,value:h.value,dataKey:m,payload:h.payload,points:u});return t.renderDotItem(c,b)}),v={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return q.createElement(Ze,mo({className:"recharts-line-dots",key:"dots"},v),y)}},{key:"renderCurveStatically",value:function(a,s,i,o){var l=this.props,c=l.type,u=l.layout,m=l.connectNulls;l.ref;var d=BN(l,RX),f=Qt(Qt(Qt({},Ne(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},o),{},{type:c,layout:u,connectNulls:m});return q.createElement(Ep,mo({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,m=o.animationBegin,d=o.animationDuration,f=o.animationEasing,y=o.animationId,v=o.animateNewValues,h=o.width,g=o.height,b=this.state,N=b.prevPoints,x=b.totalLength;return q.createElement(Hs,{begin:m,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var p=j.t;if(N){var w=N.length/l.length,C=l.map(function(O,D){var B=Math.floor(D*w);if(N[B]){var _=N[B],A=Ir(_.x,O.x),F=Ir(_.y,O.y);return Qt(Qt({},O),{},{x:A(p),y:F(p)})}if(v){var S=Ir(h*2,O.x),T=Ir(g/2,O.y);return Qt(Qt({},O),{},{x:S(p),y:T(p)})}return Qt(Qt({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(C,a,s)}var P=Ir(0,x),E=P(p),I;if(c){var M="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});I=i.getStrokeDasharray(E,x,M)}else I=i.generateSimpleStrokeDasharray(x,E);return i.renderCurveStatically(l,a,s,{strokeDasharray:I})})}},{key:"renderCurve",value:function(a,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,m=c.totalLength;return l&&o&&o.length&&(!u&&m>0||!dm(u,o))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(o,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,m=s.yAxis,d=s.top,f=s.left,y=s.width,v=s.height,h=s.isAnimationActive,g=s.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,N=l.length===1,x=ke("recharts-line",c),j=u&&u.allowDataOverflow,p=m&&m.allowDataOverflow,w=j||p,C=be(g)?this.id:g,P=(a=Ne(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},E=P.r,I=E===void 0?3:E,M=P.strokeWidth,O=M===void 0?2:M,D=yD(o)?o:{},B=D.clipDot,_=B===void 0?!0:B,A=I*2+O;return q.createElement(Ze,{className:x},j||p?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(C)},q.createElement("rect",{x:j?f:f-y/2,y:p?d:d-v/2,width:j?y:y*2,height:p?v:v*2})),!_&&q.createElement("clipPath",{id:"clipPath-dots-".concat(C)},q.createElement("rect",{x:f-A/2,y:d-A/2,width:y+A,height:v+A}))):null,!N&&this.renderCurve(w,C),this.renderErrorBar(w,C),(N||o)&&this.renderDots(w,_,C),(!h||b)&&Jn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(as(a),[0]):a,o=[],l=0;l<s;++l)o=[].concat(as(o),as(i));return o}},{key:"renderDotItem",value:function(a,s){var i;if(q.isValidElement(a))i=q.cloneElement(a,s);else if(ve(a))i=a(s);else{var o=s.key,l=BN(s,LX),c=ke("recharts-line-dot",typeof a!="boolean"?a.className:"");i=q.createElement(mg,mo({key:o},l,{className:c}))}return i}}])}(k.PureComponent);Tr(ni,"displayName","Line");Tr(ni,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Tr(ni,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,m=t.layout,d=c.map(function(f,y){var v=sr(f,o);return m==="horizontal"?{x:gj({axis:r,ticks:s,bandSize:l,entry:f,index:y}),y:be(v)?null:a.scale(v),value:v,payload:f}:{x:be(v)?null:r.scale(v),y:gj({axis:a,ticks:i,bandSize:l,entry:f,index:y}),value:v,payload:f}});return Qt({points:d,layout:m},u)});function ai(e){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function XX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lO(a.key),a)}}function YX(e,t,r){return t&&WN(e.prototype,t),r&&WN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZX(e,t,r){return t=dd(t),eY(e,iO()?Reflect.construct(t,r||[],dd(e).constructor):t.apply(e,r))}function eY(e,t){if(t&&(ai(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tY(e)}function tY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iO=function(){return!!e})()}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dd(e)}function rY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tx(e,t)}function tx(e,t){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},tx(e,t)}function oO(e,t,r){return t=lO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lO(e){var t=nY(e,"string");return ai(t)=="symbol"?t:t+""}function nY(e,t){if(ai(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ai(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rx.apply(this,arguments)}function aY(e){var t=e.xAxisId,r=xg(),a=yg(),s=Vk(t);return s==null?null:k.createElement(Si,rx({},s,{className:ke("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(o){return ln(o,!0)}}))}var xl=function(e){function t(){return XX(this,t),ZX(this,t,arguments)}return rY(t,e),YX(t,[{key:"render",value:function(){return k.createElement(aY,this.props)}}])}(k.Component);oO(xl,"displayName","XAxis");oO(xl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function si(e){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(e)}function sY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,dO(a.key),a)}}function iY(e,t,r){return t&&KN(e.prototype,t),r&&KN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oY(e,t,r){return t=md(t),lY(e,cO()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function lY(e,t){if(t&&(si(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cY(e)}function cY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function uY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nx(e,t)}function nx(e,t){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},nx(e,t)}function uO(e,t,r){return t=dO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dO(e){var t=dY(e,"string");return si(t)=="symbol"?t:t+""}function dY(e,t){if(si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(si(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ax.apply(this,arguments)}var mY=function(t){var r=t.yAxisId,a=xg(),s=yg(),i=Gk(r);return i==null?null:k.createElement(Si,ax({},i,{className:ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(l){return ln(l,!0)}}))},yl=function(e){function t(){return sY(this,t),oY(this,t,arguments)}return uY(t,e),iY(t,[{key:"render",value:function(){return k.createElement(mY,this.props)}}])}(k.Component);uO(yl,"displayName","YAxis");uO(yl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zN(e){return xY(e)||pY(e)||hY(e)||fY()}function fY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hY(e,t){if(e){if(typeof e=="string")return sx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sx(e,t)}}function pY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xY(e){if(Array.isArray(e))return sx(e)}function sx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var ix=function(t,r,a,s,i){var o=gr(t,vg),l=gr(t,vm),c=[].concat(zN(o),zN(l)),u=gr(t,jm),m="".concat(s,"Id"),d=s[0],f=r;if(c.length&&(f=c.reduce(function(h,g){if(g.props[m]===a&&Qr(g.props,"extendDomain")&&re(g.props[d])){var b=g.props[d];return[Math.min(h[0],b),Math.max(h[1],b)]}return h},f)),u.length){var y="".concat(d,"1"),v="".concat(d,"2");f=u.reduce(function(h,g){if(g.props[m]===a&&Qr(g.props,"extendDomain")&&re(g.props[y])&&re(g.props[v])){var b=g.props[y],N=g.props[v];return[Math.min(h[0],b,N),Math.max(h[1],b,N)]}return h},f)}return i&&i.length&&(f=i.reduce(function(h,g){return re(g)?[Math.min(h[0],g),Math.max(h[1],g)]:h},f)),f},mO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(c,u,m){this.fn=c,this.context=u,this.once=m||!1}function i(c,u,m,d,f){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new s(m,d||c,f),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],y]:c._events[v].push(y):(c._events[v]=y,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new a:delete c._events[u]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],m,d;if(this._eventsCount===0)return u;for(d in m=this._events)t.call(m,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(m)):u},l.prototype.listeners=function(u){var m=r?r+u:u,d=this._events[m];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,y=d.length,v=new Array(y);f<y;f++)v[f]=d[f].fn;return v},l.prototype.listenerCount=function(u){var m=r?r+u:u,d=this._events[m];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,m,d,f,y,v){var h=r?r+u:u;if(!this._events[h])return!1;var g=this._events[h],b=arguments.length,N,x;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,m),!0;case 3:return g.fn.call(g.context,m,d),!0;case 4:return g.fn.call(g.context,m,d,f),!0;case 5:return g.fn.call(g.context,m,d,f,y),!0;case 6:return g.fn.call(g.context,m,d,f,y,v),!0}for(x=1,N=new Array(b-1);x<b;x++)N[x-1]=arguments[x];g.fn.apply(g.context,N)}else{var j=g.length,p;for(x=0;x<j;x++)switch(g[x].once&&this.removeListener(u,g[x].fn,void 0,!0),b){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,m);break;case 3:g[x].fn.call(g[x].context,m,d);break;case 4:g[x].fn.call(g[x].context,m,d,f);break;default:if(!N)for(p=1,N=new Array(b-1);p<b;p++)N[p-1]=arguments[p];g[x].fn.apply(g[x].context,N)}}return!0},l.prototype.on=function(u,m,d){return i(this,u,m,d,!1)},l.prototype.once=function(u,m,d){return i(this,u,m,d,!0)},l.prototype.removeListener=function(u,m,d,f){var y=r?r+u:u;if(!this._events[y])return this;if(!m)return o(this,y),this;var v=this._events[y];if(v.fn)v.fn===m&&(!f||v.once)&&(!d||v.context===d)&&o(this,y);else{for(var h=0,g=[],b=v.length;h<b;h++)(v[h].fn!==m||f&&!v[h].once||d&&v[h].context!==d)&&g.push(v[h]);g.length?this._events[y]=g.length===1?g[0]:g:o(this,y)}return this},l.prototype.removeAllListeners=function(u){var m;return u?(m=r?r+u:u,this._events[m]&&o(this,m)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(mO);var yY=mO.exports;const gY=_e(yY);var Af=new gY,Ef="recharts.syncMouseEvents";function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function vY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fO(a.key),a)}}function bY(e,t,r){return t&&VN(e.prototype,t),r&&VN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tf(e,t,r){return t=fO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fO(e){var t=jY(e,"string");return gl(t)=="symbol"?t:t+""}function jY(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(gl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NY=function(){function e(){vY(this,e),Tf(this,"activeIndex",0),Tf(this,"coordinateList",[]),Tf(this,"layout","horizontal")}return bY(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,m=r.offset,d=m===void 0?null:m,f=r.mouseHandlerCallback,y=f===void 0?null:f;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((a=window)===null||a===void 0?void 0:a.scrollY)||0,d=i+c+u,f=o+this.offset.top+l/2+m;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function wY(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&re(a)&&re(s))return!0}return!1}function SY(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function hO(e){var t=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,o=Nt(t,r,a,s),l=Nt(t,r,a,i);return{points:[o,l],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function CY(e,t,r){var a,s,i,o;if(e==="horizontal")a=t.x,i=a,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,m=t.outerRadius,d=t.angle,f=Nt(l,c,u,d),y=Nt(l,c,m,d);a=f.x,s=f.y,i=y.x,o=y.y}else return hO(t);return[{x:a,y:s},{x:i,y:o}]}function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(a){kY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kY(e,t,r){return t=OY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=PY(e,"string");return vl(t)=="symbol"?t:t+""}function PY(e,t){if(vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(vl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AY(e){var t,r,a=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,m=e.tooltipAxisBandSize,d=e.layout,f=e.chartName,y=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!y||!i||!o||f!=="ScatterChart"&&s!=="axis")return null;var v,h=Ep;if(f==="ScatterChart")v=o,h=DG;else if(f==="BarChart")v=SY(d,o,c,m),h=dg;else if(d==="radial"){var g=hO(o),b=g.cx,N=g.cy,x=g.radius,j=g.startAngle,p=g.endAngle;v={cx:b,cy:N,startAngle:j,endAngle:p,innerRadius:x,outerRadius:x},h=gk}else v={points:CY(d,o,c)},h=Ep;var w=bc(bc(bc(bc({stroke:"#ccc",pointerEvents:"none"},c),v),Ne(y,!1)),{},{payload:l,payloadIndex:u,className:ke("recharts-tooltip-cursor",y.className)});return k.isValidElement(y)?k.cloneElement(y,w):k.createElement(h,w)}var EY=["item"],TY=["children","className","width","height","style","compact","title","desc"];function ii(e){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(e)}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vs.apply(this,arguments)}function HN(e,t){return DY(e)||IY(e,t)||xO(e,t)||MY()}function MY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(m){u=!0,s=m}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function DY(e){if(Array.isArray(e))return e}function QN(e,t){if(e==null)return{};var r=$Y(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function $Y(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function _Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yO(a.key),a)}}function RY(e,t,r){return t&&JN(e.prototype,t),r&&JN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LY(e,t,r){return t=fd(t),FY(e,pO()?Reflect.construct(t,r||[],fd(e).constructor):t.apply(e,r))}function FY(e,t){if(t&&(ii(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BY(e)}function BY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pO=function(){return!!e})()}function fd(e){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fd(e)}function UY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ox(e,t)}function ox(e,t){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ox(e,t)}function oi(e){return KY(e)||WY(e)||xO(e)||qY()}function qY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xO(e,t){if(e){if(typeof e=="string")return lx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lx(e,t)}}function WY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KY(e){if(Array.isArray(e))return lx(e)}function lx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(a){me(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function me(e,t,r){return t=yO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yO(e){var t=zY(e,"string");return ii(t)=="symbol"?t:t+""}function zY(e,t){if(ii(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ii(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VY={xAxis:["bottom","top"],yAxis:["left","right"]},GY={width:"100%",height:"100%"},gO={x:0,y:0};function jc(e){return e}var HY=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},QY=function(t,r,a,s){var i=r.find(function(m){return m&&m.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return V(V(V({},s),Nt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return V(V(V({},s),Nt(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return gO},Nm=function(t,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(a??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(oi(l),oi(u)):l},[]);return o.length>0?o:t&&t.length&&re(s)&&re(i)?t.slice(s,i+1):[]};function vO(e){return e==="number"?[0,"auto"]:void 0}var cx=function(t,r,a,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Nm(r,t);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(c,u){var m,d=(m=u.props.data)!==null&&m!==void 0?m:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var y=d===void 0?l:d;f=pu(y,o.dataKey,s)}else f=d&&d[a]||l[a];return f?[].concat(oi(c),[pk(u,f)]):c},[])},YN=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},o=HY(i,a),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,m=yK(o,l,u,c);if(m>=0&&u){var d=u[m]&&u[m].value,f=cx(t,r,m,d),y=QY(a,l,m,i);return{activeTooltipIndex:m,activeLabel:d,activePayload:f,activeCoordinate:y}}return null},JY=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,m=t.layout,d=t.children,f=t.stackOffset,y=mk(m,i);return a.reduce(function(v,h){var g,b=h.type.defaultProps!==void 0?V(V({},h.type.defaultProps),h.props):h.props,N=b.type,x=b.dataKey,j=b.allowDataOverflow,p=b.allowDuplicatedCategory,w=b.scale,C=b.ticks,P=b.includeHidden,E=b[o];if(v[E])return v;var I=Nm(t.data,{graphicalItems:s.filter(function(L){var Q,Y=o in L.props?L.props[o]:(Q=L.type.defaultProps)===null||Q===void 0?void 0:Q[o];return Y===E}),dataStartIndex:c,dataEndIndex:u}),M=I.length,O,D,B;wY(b.domain,j,N)&&(O=Cp(b.domain,null,j),y&&(N==="number"||w!=="auto")&&(B=co(I,x,"category")));var _=vO(N);if(!O||O.length===0){var A,F=(A=b.domain)!==null&&A!==void 0?A:_;if(x){if(O=co(I,x,N),N==="category"&&y){var S=oD(O);p&&S?(D=O,O=ed(0,M)):p||(O=Nj(F,O,h).reduce(function(L,Q){return L.indexOf(Q)>=0?L:[].concat(oi(L),[Q])},[]))}else if(N==="category")p?O=O.filter(function(L){return L!==""&&!be(L)}):O=Nj(F,O,h).reduce(function(L,Q){return L.indexOf(Q)>=0||Q===""||be(Q)?L:[].concat(oi(L),[Q])},[]);else if(N==="number"){var T=NK(I,s.filter(function(L){var Q,Y,ne=o in L.props?L.props[o]:(Q=L.type.defaultProps)===null||Q===void 0?void 0:Q[o],fe="hide"in L.props?L.props.hide:(Y=L.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return ne===E&&(P||!fe)}),x,i,m);T&&(O=T)}y&&(N==="number"||w!=="auto")&&(B=co(I,x,"category"))}else y?O=ed(0,M):l&&l[E]&&l[E].hasStack&&N==="number"?O=f==="expand"?[0,1]:hk(l[E].stackGroups,c,u):O=dk(I,s.filter(function(L){var Q=o in L.props?L.props[o]:L.type.defaultProps[o],Y="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return Q===E&&(P||!Y)}),N,m,!0);if(N==="number")O=ix(d,O,E,i,C),F&&(O=Cp(F,O,j));else if(N==="category"&&F){var R=F,$=O.every(function(L){return R.indexOf(L)>=0});$&&(O=R)}}return V(V({},v),{},me({},E,V(V({},b),{},{axisType:i,domain:O,categoricalDomain:B,duplicateDomain:D,originalDomain:(g=b.domain)!==null&&g!==void 0?g:_,isCategorical:y,layout:m})))},{})},XY=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,m=t.layout,d=t.children,f=Nm(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:u}),y=f.length,v=mk(m,i),h=-1;return a.reduce(function(g,b){var N=b.type.defaultProps!==void 0?V(V({},b.type.defaultProps),b.props):b.props,x=N[o],j=vO("number");if(!g[x]){h++;var p;return v?p=ed(0,y):l&&l[x]&&l[x].hasStack?(p=hk(l[x].stackGroups,c,u),p=ix(d,p,x,i)):(p=Cp(j,dk(f,a.filter(function(w){var C,P,E=o in w.props?w.props[o]:(C=w.type.defaultProps)===null||C===void 0?void 0:C[o],I="hide"in w.props?w.props.hide:(P=w.type.defaultProps)===null||P===void 0?void 0:P.hide;return E===x&&!I}),"number",m),s.defaultProps.allowDataOverflow),p=ix(d,p,x,i)),V(V({},g),{},me({},x,V(V({axisType:i},s.defaultProps),{},{hide:!0,orientation:yr(VY,"".concat(i,".").concat(h%2),null),domain:p,originalDomain:j,isCategorical:v,layout:m})))}return g},{})},YY=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,m=t.children,d="".concat(s,"Id"),f=gr(m,i),y={};return f&&f.length?y=JY(t,{axes:f,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(y=XY(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),y},ZY=function(t){var r=Dn(t),a=ln(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:Ly(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:zu(r,a)}},ZN=function(t){var r=t.children,a=t.defaultShowTooltip,s=Yt(r,Js),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},eZ=function(t){return!t||!t.length?!1:t.some(function(r){var a=dn(r&&r.type);return a&&a.indexOf("Bar")>=0})},ew=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tZ=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=a.width,m=a.height,d=a.children,f=a.margin||{},y=Yt(d,Js),v=Yt(d,Os),h=Object.keys(c).reduce(function(p,w){var C=c[w],P=C.orientation;return!C.mirror&&!C.hide?V(V({},p),{},me({},P,p[P]+C.width)):p},{left:f.left||0,right:f.right||0}),g=Object.keys(o).reduce(function(p,w){var C=o[w],P=C.orientation;return!C.mirror&&!C.hide?V(V({},p),{},me({},P,yr(p,"".concat(P))+C.height)):p},{top:f.top||0,bottom:f.bottom||0}),b=V(V({},g),h),N=b.bottom;y&&(b.bottom+=y.props.height||Js.defaultProps.height),v&&r&&(b=bK(b,s,a,r));var x=u-b.left-b.right,j=m-b.top-b.bottom;return V(V({brushBottom:N},b),{},{width:Math.max(x,0),height:Math.max(j,0)})},rZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},nZ=function(t){var r=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,m=t.formatAxisMap,d=t.defaultProps,f=function(b,N){var x=N.graphicalItems,j=N.stackGroups,p=N.offset,w=N.updateId,C=N.dataStartIndex,P=N.dataEndIndex,E=b.barSize,I=b.layout,M=b.barGap,O=b.barCategoryGap,D=b.maxBarSize,B=ew(I),_=B.numericAxisName,A=B.cateAxisName,F=eZ(x),S=[];return x.forEach(function(T,R){var $=Nm(b.data,{graphicalItems:[T],dataStartIndex:C,dataEndIndex:P}),L=T.type.defaultProps!==void 0?V(V({},T.type.defaultProps),T.props):T.props,Q=L.dataKey,Y=L.maxBarSize,ne=L["".concat(_,"Id")],fe=L["".concat(A,"Id")],X={},he=c.reduce(function(ft,st){var z=N["".concat(st.axisType,"Map")],ae=L["".concat(st.axisType,"Id")];z&&z[ae]||st.axisType==="zAxis"||qa(!1);var ee=z[ae];return V(V({},ft),{},me(me({},st.axisType,ee),"".concat(st.axisType,"Ticks"),ln(ee)))},X),G=he[A],le=he["".concat(A,"Ticks")],ue=j&&j[ne]&&j[ne].hasStack&&DK(T,j[ne].stackGroups),H=dn(T.type).indexOf("Bar")>=0,xe=zu(G,le),ce=[],K=F&&gK({barSize:E,stackGroups:j,totalSize:rZ(he,A)});if(H){var U,W,pe=be(Y)?D:Y,Z=(U=(W=zu(G,le,!0))!==null&&W!==void 0?W:pe)!==null&&U!==void 0?U:0;ce=vK({barGap:M,barCategoryGap:O,bandSize:Z!==xe?Z:xe,sizeList:K[fe],maxBarSize:pe}),Z!==xe&&(ce=ce.map(function(ft){return V(V({},ft),{},{position:V(V({},ft.position),{},{offset:ft.position.offset-Z/2})})}))}var Se=T&&T.type&&T.type.getComposedData;Se&&S.push({props:V(V({},Se(V(V({},he),{},{displayedData:$,props:b,dataKey:Q,item:T,bandSize:xe,barPosition:ce,offset:p,stackedData:ue,layout:I,dataStartIndex:C,dataEndIndex:P}))),{},me(me(me({key:T.key||"item-".concat(R)},_,he[_]),A,he[A]),"animationId",w)),childIndex:bD(T,b.children),item:T})}),S},y=function(b,N){var x=b.props,j=b.dataStartIndex,p=b.dataEndIndex,w=b.updateId;if(!uv({props:x}))return null;var C=x.children,P=x.layout,E=x.stackOffset,I=x.data,M=x.reverseStackOrder,O=ew(P),D=O.numericAxisName,B=O.cateAxisName,_=gr(C,a),A=TK(I,_,"".concat(D,"Id"),"".concat(B,"Id"),E,M),F=c.reduce(function(L,Q){var Y="".concat(Q.axisType,"Map");return V(V({},L),{},me({},Y,YY(x,V(V({},Q),{},{graphicalItems:_,stackGroups:Q.axisType===D&&A,dataStartIndex:j,dataEndIndex:p}))))},{}),S=tZ(V(V({},F),{},{props:x,graphicalItems:_}),N==null?void 0:N.legendBBox);Object.keys(F).forEach(function(L){F[L]=m(x,F[L],S,L.replace("Map",""),r)});var T=F["".concat(B,"Map")],R=ZY(T),$=f(x,V(V({},F),{},{dataStartIndex:j,dataEndIndex:p,updateId:w,graphicalItems:_,stackGroups:A,offset:S}));return V(V({formattedGraphicalItems:$,graphicalItems:_,offset:S,stackGroups:A},R),F)},v=function(g){function b(N){var x,j,p;return _Y(this,b),p=LY(this,b,[N]),me(p,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),me(p,"accessibilityManager",new NY),me(p,"handleLegendBBoxUpdate",function(w){if(w){var C=p.state,P=C.dataStartIndex,E=C.dataEndIndex,I=C.updateId;p.setState(V({legendBBox:w},y({props:p.props,dataStartIndex:P,dataEndIndex:E,updateId:I},V(V({},p.state),{},{legendBBox:w}))))}}),me(p,"handleReceiveSyncEvent",function(w,C,P){if(p.props.syncId===w){if(P===p.eventEmitterSymbol&&typeof p.props.syncMethod!="function")return;p.applySyncEvent(C)}}),me(p,"handleBrushChange",function(w){var C=w.startIndex,P=w.endIndex;if(C!==p.state.dataStartIndex||P!==p.state.dataEndIndex){var E=p.state.updateId;p.setState(function(){return V({dataStartIndex:C,dataEndIndex:P},y({props:p.props,dataStartIndex:C,dataEndIndex:P,updateId:E},p.state))}),p.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),me(p,"handleMouseEnter",function(w){var C=p.getMouseInfo(w);if(C){var P=V(V({},C),{},{isTooltipActive:!0});p.setState(P),p.triggerSyncEvent(P);var E=p.props.onMouseEnter;ve(E)&&E(P,w)}}),me(p,"triggeredAfterMouseMove",function(w){var C=p.getMouseInfo(w),P=C?V(V({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};p.setState(P),p.triggerSyncEvent(P);var E=p.props.onMouseMove;ve(E)&&E(P,w)}),me(p,"handleItemMouseEnter",function(w){p.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),me(p,"handleItemMouseLeave",function(){p.setState(function(){return{isTooltipActive:!1}})}),me(p,"handleMouseMove",function(w){w.persist(),p.throttleTriggeredAfterMouseMove(w)}),me(p,"handleMouseLeave",function(w){p.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};p.setState(C),p.triggerSyncEvent(C);var P=p.props.onMouseLeave;ve(P)&&P(C,w)}),me(p,"handleOuterEvent",function(w){var C=vD(w),P=yr(p.props,"".concat(C));if(C&&ve(P)){var E,I;/.*touch.*/i.test(C)?I=p.getMouseInfo(w.changedTouches[0]):I=p.getMouseInfo(w),P((E=I)!==null&&E!==void 0?E:{},w)}}),me(p,"handleClick",function(w){var C=p.getMouseInfo(w);if(C){var P=V(V({},C),{},{isTooltipActive:!0});p.setState(P),p.triggerSyncEvent(P);var E=p.props.onClick;ve(E)&&E(P,w)}}),me(p,"handleMouseDown",function(w){var C=p.props.onMouseDown;if(ve(C)){var P=p.getMouseInfo(w);C(P,w)}}),me(p,"handleMouseUp",function(w){var C=p.props.onMouseUp;if(ve(C)){var P=p.getMouseInfo(w);C(P,w)}}),me(p,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&p.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),me(p,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&p.handleMouseDown(w.changedTouches[0])}),me(p,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&p.handleMouseUp(w.changedTouches[0])}),me(p,"handleDoubleClick",function(w){var C=p.props.onDoubleClick;if(ve(C)){var P=p.getMouseInfo(w);C(P,w)}}),me(p,"handleContextMenu",function(w){var C=p.props.onContextMenu;if(ve(C)){var P=p.getMouseInfo(w);C(P,w)}}),me(p,"triggerSyncEvent",function(w){p.props.syncId!==void 0&&Af.emit(Ef,p.props.syncId,w,p.eventEmitterSymbol)}),me(p,"applySyncEvent",function(w){var C=p.props,P=C.layout,E=C.syncMethod,I=p.state.updateId,M=w.dataStartIndex,O=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)p.setState(V({dataStartIndex:M,dataEndIndex:O},y({props:p.props,dataStartIndex:M,dataEndIndex:O,updateId:I},p.state)));else if(w.activeTooltipIndex!==void 0){var D=w.chartX,B=w.chartY,_=w.activeTooltipIndex,A=p.state,F=A.offset,S=A.tooltipTicks;if(!F)return;if(typeof E=="function")_=E(S,w);else if(E==="value"){_=-1;for(var T=0;T<S.length;T++)if(S[T].value===w.activeLabel){_=T;break}}var R=V(V({},F),{},{x:F.left,y:F.top}),$=Math.min(D,R.x+R.width),L=Math.min(B,R.y+R.height),Q=S[_]&&S[_].value,Y=cx(p.state,p.props.data,_),ne=S[_]?{x:P==="horizontal"?S[_].coordinate:$,y:P==="horizontal"?L:S[_].coordinate}:gO;p.setState(V(V({},w),{},{activeLabel:Q,activeCoordinate:ne,activePayload:Y,activeTooltipIndex:_}))}else p.setState(w)}),me(p,"renderCursor",function(w){var C,P=p.state,E=P.isTooltipActive,I=P.activeCoordinate,M=P.activePayload,O=P.offset,D=P.activeTooltipIndex,B=P.tooltipAxisBandSize,_=p.getTooltipEventType(),A=(C=w.props.active)!==null&&C!==void 0?C:E,F=p.props.layout,S=w.key||"_recharts-cursor";return q.createElement(AY,{key:S,activeCoordinate:I,activePayload:M,activeTooltipIndex:D,chartName:r,element:w,isActive:A,layout:F,offset:O,tooltipAxisBandSize:B,tooltipEventType:_})}),me(p,"renderPolarAxis",function(w,C,P){var E=yr(w,"type.axisType"),I=yr(p.state,"".concat(E,"Map")),M=w.type.defaultProps,O=M!==void 0?V(V({},M),w.props):w.props,D=I&&I[O["".concat(E,"Id")]];return k.cloneElement(w,V(V({},D),{},{className:ke(E,D.className),key:w.key||"".concat(C,"-").concat(P),ticks:ln(D,!0)}))}),me(p,"renderPolarGrid",function(w){var C=w.props,P=C.radialLines,E=C.polarAngles,I=C.polarRadius,M=p.state,O=M.radiusAxisMap,D=M.angleAxisMap,B=Dn(O),_=Dn(D),A=_.cx,F=_.cy,S=_.innerRadius,T=_.outerRadius;return k.cloneElement(w,{polarAngles:Array.isArray(E)?E:ln(_,!0).map(function(R){return R.coordinate}),polarRadius:Array.isArray(I)?I:ln(B,!0).map(function(R){return R.coordinate}),cx:A,cy:F,innerRadius:S,outerRadius:T,key:w.key||"polar-grid",radialLines:P})}),me(p,"renderLegend",function(){var w=p.state.formattedGraphicalItems,C=p.props,P=C.children,E=C.width,I=C.height,M=p.props.margin||{},O=E-(M.left||0)-(M.right||0),D=ck({children:P,formattedGraphicalItems:w,legendWidth:O,legendContent:u});if(!D)return null;var B=D.item,_=QN(D,EY);return k.cloneElement(B,V(V({},_),{},{chartWidth:E,chartHeight:I,margin:M,onBBoxUpdate:p.handleLegendBBoxUpdate}))}),me(p,"renderTooltip",function(){var w,C=p.props,P=C.children,E=C.accessibilityLayer,I=Yt(P,Ar);if(!I)return null;var M=p.state,O=M.isTooltipActive,D=M.activeCoordinate,B=M.activePayload,_=M.activeLabel,A=M.offset,F=(w=I.props.active)!==null&&w!==void 0?w:O;return k.cloneElement(I,{viewBox:V(V({},A),{},{x:A.left,y:A.top}),active:F,label:_,payload:F?B:[],coordinate:D,accessibilityLayer:E})}),me(p,"renderBrush",function(w){var C=p.props,P=C.margin,E=C.data,I=p.state,M=I.offset,O=I.dataStartIndex,D=I.dataEndIndex,B=I.updateId;return k.cloneElement(w,{key:w.key||"_recharts-brush",onChange:xc(p.handleBrushChange,w.props.onChange),data:E,x:re(w.props.x)?w.props.x:M.left,y:re(w.props.y)?w.props.y:M.top+M.height+M.brushBottom-(P.bottom||0),width:re(w.props.width)?w.props.width:M.width,startIndex:O,endIndex:D,updateId:"brush-".concat(B)})}),me(p,"renderReferenceElement",function(w,C,P){if(!w)return null;var E=p,I=E.clipPathId,M=p.state,O=M.xAxisMap,D=M.yAxisMap,B=M.offset,_=w.type.defaultProps||{},A=w.props,F=A.xAxisId,S=F===void 0?_.xAxisId:F,T=A.yAxisId,R=T===void 0?_.yAxisId:T;return k.cloneElement(w,{key:w.key||"".concat(C,"-").concat(P),xAxis:O[S],yAxis:D[R],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:I})}),me(p,"renderActivePoints",function(w){var C=w.item,P=w.activePoint,E=w.basePoint,I=w.childIndex,M=w.isRange,O=[],D=C.props.key,B=C.item.type.defaultProps!==void 0?V(V({},C.item.type.defaultProps),C.item.props):C.item.props,_=B.activeDot,A=B.dataKey,F=V(V({index:I,dataKey:A,cx:P.x,cy:P.y,r:4,fill:ug(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ne(_,!1)),xu(_));return O.push(b.renderActiveDot(_,F,"".concat(D,"-activePoint-").concat(I))),E?O.push(b.renderActiveDot(_,V(V({},F),{},{cx:E.x,cy:E.y}),"".concat(D,"-basePoint-").concat(I))):M&&O.push(null),O}),me(p,"renderGraphicChild",function(w,C,P){var E=p.filterFormatItem(w,C,P);if(!E)return null;var I=p.getTooltipEventType(),M=p.state,O=M.isTooltipActive,D=M.tooltipAxis,B=M.activeTooltipIndex,_=M.activeLabel,A=p.props.children,F=Yt(A,Ar),S=E.props,T=S.points,R=S.isRange,$=S.baseLine,L=E.item.type.defaultProps!==void 0?V(V({},E.item.type.defaultProps),E.item.props):E.item.props,Q=L.activeDot,Y=L.hide,ne=L.activeBar,fe=L.activeShape,X=!!(!Y&&O&&F&&(Q||ne||fe)),he={};I!=="axis"&&F&&F.props.trigger==="click"?he={onClick:xc(p.handleItemMouseEnter,w.props.onClick)}:I!=="axis"&&(he={onMouseLeave:xc(p.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:xc(p.handleItemMouseEnter,w.props.onMouseEnter)});var G=k.cloneElement(w,V(V({},E.props),he));function le(st){return typeof D.dataKey=="function"?D.dataKey(st.payload):null}if(X)if(B>=0){var ue,H;if(D.dataKey&&!D.allowDuplicatedCategory){var xe=typeof D.dataKey=="function"?le:"payload.".concat(D.dataKey.toString());ue=pu(T,xe,_),H=R&&$&&pu($,xe,_)}else ue=T==null?void 0:T[B],H=R&&$&&$[B];if(fe||ne){var ce=w.props.activeIndex!==void 0?w.props.activeIndex:B;return[k.cloneElement(w,V(V(V({},E.props),he),{},{activeIndex:ce})),null,null]}if(!be(ue))return[G].concat(oi(p.renderActivePoints({item:E,activePoint:ue,basePoint:H,childIndex:B,isRange:R})))}else{var K,U=(K=p.getItemByXY(p.state.activeCoordinate))!==null&&K!==void 0?K:{graphicalItem:G},W=U.graphicalItem,pe=W.item,Z=pe===void 0?w:pe,Se=W.childIndex,ft=V(V(V({},E.props),he),{},{activeIndex:Se});return[k.cloneElement(Z,ft),null,null]}return R?[G,null,null]:[G,null]}),me(p,"renderCustomized",function(w,C,P){return k.cloneElement(w,V(V({key:"recharts-customized-".concat(P)},p.props),p.state))}),me(p,"renderMap",{CartesianGrid:{handler:jc,once:!0},ReferenceArea:{handler:p.renderReferenceElement},ReferenceLine:{handler:jc},ReferenceDot:{handler:p.renderReferenceElement},XAxis:{handler:jc},YAxis:{handler:jc},Brush:{handler:p.renderBrush,once:!0},Bar:{handler:p.renderGraphicChild},Line:{handler:p.renderGraphicChild},Area:{handler:p.renderGraphicChild},Radar:{handler:p.renderGraphicChild},RadialBar:{handler:p.renderGraphicChild},Scatter:{handler:p.renderGraphicChild},Pie:{handler:p.renderGraphicChild},Funnel:{handler:p.renderGraphicChild},Tooltip:{handler:p.renderCursor,once:!0},PolarGrid:{handler:p.renderPolarGrid,once:!0},PolarAngleAxis:{handler:p.renderPolarAxis},PolarRadiusAxis:{handler:p.renderPolarAxis},Customized:{handler:p.renderCustomized}}),p.clipPathId="".concat((x=N.id)!==null&&x!==void 0?x:Tl("recharts"),"-clip"),p.throttleTriggeredAfterMouseMove=l2(p.triggeredAfterMouseMove,(j=N.throttleDelay)!==null&&j!==void 0?j:1e3/60),p.state={},p}return UY(b,g),RY(b,[{key:"componentDidMount",value:function(){var x,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,j=x.children,p=x.data,w=x.height,C=x.layout,P=Yt(j,Ar);if(P){var E=P.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,M=cx(this.state,p,E,I),O=this.state.tooltipTicks[E].coordinate,D=(this.state.offset.top+w)/2,B=C==="horizontal",_=B?{x:O,y:D}:{y:O,x:D},A=this.state.formattedGraphicalItems.find(function(S){var T=S.item;return T.type.name==="Scatter"});A&&(_=V(V({},_),A.props.points[E].tooltipPosition),M=A.props.points[E].tooltipPayload);var F={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:I,activePayload:M,activeCoordinate:_};this.setState(F),this.renderCursor(P),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var p,w;this.accessibilityManager.setDetails({offset:{left:(p=this.props.margin.left)!==null&&p!==void 0?p:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(x){Bh([Yt(x.children,Ar)],[Yt(this.props.children,Ar)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Yt(this.props.children,Ar);if(x&&typeof x.props.shared=="boolean"){var j=x.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var j=this.container,p=j.getBoundingClientRect(),w=W8(p),C={chartX:Math.round(x.pageX-w.left),chartY:Math.round(x.pageY-w.top)},P=p.width/j.offsetWidth||1,E=this.inRange(C.chartX,C.chartY,P);if(!E)return null;var I=this.state,M=I.xAxisMap,O=I.yAxisMap,D=this.getTooltipEventType(),B=YN(this.state,this.props.data,this.props.layout,E);if(D!=="axis"&&M&&O){var _=Dn(M).scale,A=Dn(O).scale,F=_&&_.invert?_.invert(C.chartX):null,S=A&&A.invert?A.invert(C.chartY):null;return V(V({},C),{},{xValue:F,yValue:S},B)}return B?V(V({},C),B):null}},{key:"inRange",value:function(x,j){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,C=x/p,P=j/p;if(w==="horizontal"||w==="vertical"){var E=this.state.offset,I=C>=E.left&&C<=E.left+E.width&&P>=E.top&&P<=E.top+E.height;return I?{x:C,y:P}:null}var M=this.state,O=M.angleAxisMap,D=M.radiusAxisMap;if(O&&D){var B=Dn(O);return Cj({x:C,y:P},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,j=this.getTooltipEventType(),p=Yt(x,Ar),w={};p&&j==="axis"&&(p.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=xu(this.props,this.handleOuterEvent);return V(V({},C),w)}},{key:"addListener",value:function(){Af.on(Ef,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Af.removeListener(Ef,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,j,p){for(var w=this.state.formattedGraphicalItems,C=0,P=w.length;C<P;C++){var E=w[C];if(E.item===x||E.props.key===x.key||j===dn(E.item.type)&&p===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,j=this.state.offset,p=j.left,w=j.top,C=j.height,P=j.width;return q.createElement("defs",null,q.createElement("clipPath",{id:x},q.createElement("rect",{x:p,y:w,height:C,width:P})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(j,p){var w=HN(p,2),C=w[0],P=w[1];return V(V({},j),{},me({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(j,p){var w=HN(p,2),C=w[0],P=w[1];return V(V({},j),{},me({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(x){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(x){var j=this.state,p=j.formattedGraphicalItems,w=j.activeItem;if(p&&p.length)for(var C=0,P=p.length;C<P;C++){var E=p[C],I=E.props,M=E.item,O=M.type.defaultProps!==void 0?V(V({},M.type.defaultProps),M.props):M.props,D=dn(M.type);if(D==="Bar"){var B=(I.data||[]).find(function(S){return SG(x,S)});if(B)return{graphicalItem:E,payload:B}}else if(D==="RadialBar"){var _=(I.data||[]).find(function(S){return Cj(x,S)});if(_)return{graphicalItem:E,payload:_}}else if(pm(E,w)||xm(E,w)||dl(E,w)){var A=OH({graphicalItem:E,activeTooltipItem:w,itemData:O.data}),F=O.activeIndex===void 0?A:O.activeIndex;return{graphicalItem:V(V({},E),{},{childIndex:F}),payload:dl(E,w)?O.data[A]:E.props.data[A]}}}return null}},{key:"render",value:function(){var x=this;if(!uv(this))return null;var j=this.props,p=j.children,w=j.className,C=j.width,P=j.height,E=j.style,I=j.compact,M=j.title,O=j.desc,D=QN(j,TY),B=Ne(D,!1);if(I)return q.createElement(SN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(qh,vs({},B,{width:C,height:P,title:M,desc:O}),this.renderClipPath(),mv(p,this.renderMap)));if(this.props.accessibilityLayer){var _,A;B.tabIndex=(_=this.props.tabIndex)!==null&&_!==void 0?_:0,B.role=(A=this.props.role)!==null&&A!==void 0?A:"application",B.onKeyDown=function(S){x.accessibilityManager.keyboardEvent(S)},B.onFocus=function(){x.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return q.createElement(SN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",vs({className:ke("recharts-wrapper",w),style:V({position:"relative",cursor:"default",width:C,height:P},E)},F,{ref:function(T){x.container=T}}),q.createElement(qh,vs({},B,{width:C,height:P,title:M,desc:O,style:GY}),this.renderClipPath(),mv(p,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);me(v,"displayName",r),me(v,"defaultProps",V({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),me(v,"getDerivedStateFromProps",function(g,b){var N=g.dataKey,x=g.data,j=g.children,p=g.width,w=g.height,C=g.layout,P=g.stackOffset,E=g.margin,I=b.dataStartIndex,M=b.dataEndIndex;if(b.updateId===void 0){var O=ZN(g);return V(V(V({},O),{},{updateId:0},y(V(V({props:g},O),{},{updateId:0}),b)),{},{prevDataKey:N,prevData:x,prevWidth:p,prevHeight:w,prevLayout:C,prevStackOffset:P,prevMargin:E,prevChildren:j})}if(N!==b.prevDataKey||x!==b.prevData||p!==b.prevWidth||w!==b.prevHeight||C!==b.prevLayout||P!==b.prevStackOffset||!ks(E,b.prevMargin)){var D=ZN(g),B={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},_=V(V({},YN(b,x,C)),{},{updateId:b.updateId+1}),A=V(V(V({},D),B),_);return V(V(V({},A),y(V({props:g},A),b)),{},{prevDataKey:N,prevData:x,prevWidth:p,prevHeight:w,prevLayout:C,prevStackOffset:P,prevMargin:E,prevChildren:j})}if(!Bh(j,b.prevChildren)){var F,S,T,R,$=Yt(j,Js),L=$&&(F=(S=$.props)===null||S===void 0?void 0:S.startIndex)!==null&&F!==void 0?F:I,Q=$&&(T=(R=$.props)===null||R===void 0?void 0:R.endIndex)!==null&&T!==void 0?T:M,Y=L!==I||Q!==M,ne=!be(x),fe=ne&&!Y?b.updateId:b.updateId+1;return V(V({updateId:fe},y(V(V({props:g},b),{},{updateId:fe,dataStartIndex:L,dataEndIndex:Q}),b)),{},{prevChildren:j,dataStartIndex:L,dataEndIndex:Q})}return null}),me(v,"renderActiveDot",function(g,b,N){var x;return k.isValidElement(g)?x=k.cloneElement(g,b):ve(g)?x=g(b):x=q.createElement(mg,b),q.createElement(Ze,{className:"recharts-active-dot",key:N},x)});var h=k.forwardRef(function(b,N){return q.createElement(v,vs({},b,{ref:N}))});return h.displayName=v.displayName,h},tw=nZ({chartName:"LineChart",GraphicalChild:ni,axisComponents:[{axisType:"xAxis",AxisComp:xl},{axisType:"yAxis",AxisComp:yl}],formatAxisMap:YQ});const ua=({notifications:e,onMarkAsRead:t,onMarkAllAsRead:r,onClearAll:a,onViewTransferOrder:s,onRefresh:i})=>{const[o,l]=k.useState(!1),c=k.useRef(null);k.useEffect(()=>{const f=y=>{c.current&&!c.current.contains(y.target)&&l(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const u=e.filter(f=>!f.read).length,m=f=>{switch(f){case"warning":return n.jsx(Jr,{className:"h-4 w-4 text-yellow-500"});case"success":return n.jsx(WS,{className:"h-4 w-4 text-green-500"});case"error":return n.jsx(Jr,{className:"h-4 w-4 text-red-500"});default:return n.jsx(KS,{className:"h-4 w-4 text-blue-500"})}},d=f=>{const v=new Date().getTime()-f.getTime(),h=Math.floor(v/6e4),g=Math.floor(v/36e5),b=Math.floor(v/864e5);return h<1?"Just now":h<60?`${h}m ago`:g<24?`${g}h ago`:`${b}d ago`};return n.jsxs("div",{className:"relative",ref:c,children:[n.jsxs("button",{onClick:()=>l(!o),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Notifications",children:[n.jsx(mu,{className:"h-6 w-6"}),u>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u>9?"9+":u})]}),o&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[i&&n.jsx("button",{onClick:i,className:"text-sm text-gray-600 hover:text-gray-800 p-1 rounded",title:"Refresh notifications",children:n.jsx(It,{className:"h-4 w-4"})}),u>0&&n.jsx("button",{onClick:r,className:"text-sm text-blue-600 hover:text-blue-800",children:"Mark all read"}),n.jsx("button",{onClick:a,className:"text-sm text-red-600 hover:text-red-800",children:"Clear all"}),n.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ee,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?n.jsxs("div",{className:"p-4 text-center text-gray-500",children:[n.jsx(mu,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"No notifications"})]}):e.map(f=>n.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 ${f.read?"":"bg-blue-50"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:m(f.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:`text-sm font-medium ${f.read?"text-gray-700":"text-gray-900"}`,children:f.title}),n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[n.jsx(Dd,{className:"h-3 w-3"}),n.jsx("span",{children:d(f.timestamp)})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.message}),f.outlet&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f.outlet})]}),n.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[f.isTransferOrder&&f.transferOrderId&&s&&n.jsx("button",{onClick:y=>{y.stopPropagation(),console.log("NotificationDropdown: Clicking View button"),console.log("NotificationDropdown: notification.transferOrderId =",f.transferOrderId),s(f.transferOrderId)},className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded transition-colors",title:"View Transfer Order",children:n.jsx(Yr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>t(f.id),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Mark as read",children:n.jsx("div",{className:`w-2 h-2 rounded-full ${f.read?"bg-gray-300":"bg-blue-500"}`})})]})]})},f.id))}),e.length>0&&n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsx("button",{onClick:a,className:"w-full text-sm text-gray-600 hover:text-gray-800 text-center",children:"Clear all notifications"})})]})]})},aZ="/api";class sZ{async request(t,r={}){const a=`${aZ}${t}`,s={headers:{"Content-Type":"application/json",...r.headers},...r};try{const i=await fetch(a,s);if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(o.message||`HTTP error! status: ${i.status}`)}return await i.json()}catch(i){throw console.error("API request failed:",i),i}}async getRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status);const a=r.toString(),s=`/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getRawMaterial(t){return this.request(`/raw-materials/${t}`)}async createRawMaterial(t){return this.request("/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateRawMaterial(t,r){return this.request(`/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteRawMaterial(t){return this.request(`/raw-materials/${t}`,{method:"DELETE"})}async getRawMaterialCategories(){return this.request("/raw-materials/categories/list")}async getBillOfMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/bill-of-materials${a?`?${a}`:""}`;return this.request(s)}async getBillOfMaterial(t){return this.request(`/bill-of-materials/${t}`)}async createBillOfMaterial(t){return this.request("/bill-of-materials",{method:"POST",body:JSON.stringify(t)})}async updateBillOfMaterial(t,r){return this.request(`/bill-of-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteBillOfMaterial(t){return this.request(`/bill-of-materials/${t}`,{method:"DELETE"})}async getBillOfMaterialByCode(t){return this.request(`/bill-of-materials/code/${t}`)}async getJobOrders(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.priority&&r.append("priority",t.priority),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/job-orders${a?`?${a}`:""}`;return this.request(s)}async getJobOrder(t){return this.request(`/job-orders/${t}`)}async createJobOrder(t){return this.request("/job-orders",{method:"POST",body:JSON.stringify(t)})}async updateJobOrder(t,r){return this.request(`/job-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteJobOrder(t){return this.request(`/job-orders/${t}`,{method:"DELETE"})}async getRawMaterialForecasts(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.forecastPeriod&&r.append("forecastPeriod",t.forecastPeriod),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/raw-material-forecasts${a?`?${a}`:""}`;return this.request(s)}async getRawMaterialForecast(t){return this.request(`/raw-material-forecasts/${t}`)}async createRawMaterialForecast(t){return this.request("/raw-material-forecasts",{method:"POST",body:JSON.stringify(t)})}async updateRawMaterialForecast(t,r){return this.request(`/raw-material-forecasts/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteRawMaterialForecast(t){return this.request(`/raw-material-forecasts/${t}`,{method:"DELETE"})}async getPurchaseOrders(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/purchase-orders${a?`?${a}`:""}`;return this.request(s)}async getPurchaseOrder(t){return this.request(`/purchase-orders/${t}`)}async createPurchaseOrder(t){return this.request("/purchase-orders",{method:"POST",body:JSON.stringify(t)})}async updatePurchaseOrder(t,r){return this.request(`/purchase-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deletePurchaseOrder(t){return this.request(`/purchase-orders/${t}`,{method:"DELETE"})}async getOutlets(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.outletType&&r.append("outletType",t.outletType),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.isCentralKitchen&&r.append("isCentralKitchen",t.isCentralKitchen),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/outlets${a?`?${a}`:""}`;return this.request(s)}async getOutlet(t){return this.request(`/outlets/${t}`)}async createOutlet(t){return this.request("/outlets",{method:"POST",body:JSON.stringify(t)})}async updateOutlet(t,r){return this.request(`/outlets/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteOutlet(t){return this.request(`/outlets/${t}`,{method:"DELETE"})}async getRegularOutlets(){return this.request("/outlets/regular/list")}async getOutletInventoryByOutlet(t,r){const a=new URLSearchParams;r!=null&&r.page&&a.append("page",r.page.toString()),r!=null&&r.limit&&a.append("limit",r.limit.toString()),r!=null&&r.search&&a.append("search",r.search),r!=null&&r.category&&a.append("category",r.category),r!=null&&r.status&&a.append("status",r.status),r!=null&&r.sortBy&&a.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&a.append("sortOrder",r.sortOrder);const s=a.toString(),i=`/outlet-inventory/outlet/${t}${s?`?${s}`:""}`;return this.request(i)}async updateOutletInventoryItem(t,r){return this.request(`/outlet-inventory/${t}`,{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})}async getFinishedGoods(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status),(t==null?void 0:t.isSeasonal)!==void 0&&r.append("isSeasonal",t.isSeasonal.toString()),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/finished-goods${a?`?${a}`:""}`;return this.request(s)}async getFinishedGood(t){return this.request(`/finished-goods/${t}`)}async createFinishedGood(t){return this.request("/finished-goods",{method:"POST",body:JSON.stringify(t)})}async updateFinishedGood(t,r){return this.request(`/finished-goods/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteFinishedGood(t){return this.request(`/finished-goods/${t}`,{method:"DELETE"})}async getFinishedGoodCategories(){return this.request("/finished-goods/category/list")}async getFinishedGoodsByBOM(t){return this.request(`/finished-goods/bom/${t}`)}async getFinishedGoodInventory(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.outletId&&r.append("outletId",t.outletId),t!=null&&t.outletCode&&r.append("outletCode",t.outletCode),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.qualityStatus&&r.append("qualityStatus",t.qualityStatus),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/finished-good-inventory${a?`?${a}`:""}`;return this.request(s)}async getFinishedGoodInventoryItem(t){return this.request(`/finished-good-inventory/${t}`)}async createFinishedGoodInventoryItem(t){return this.request("/finished-good-inventory",{method:"POST",body:JSON.stringify(t)})}async updateFinishedGoodInventoryItem(t,r){return this.request(`/finished-good-inventory/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteFinishedGoodInventoryItem(t){return this.request(`/finished-good-inventory/${t}`,{method:"DELETE"})}async getFinishedGoodInventoryByOutlet(t,r){const a=new URLSearchParams;r!=null&&r.limit&&a.append("limit",r.limit.toString()),r!=null&&r.search&&a.append("search",r.search),r!=null&&r.category&&a.append("category",r.category),r!=null&&r.status&&a.append("status",r.status),r!=null&&r.qualityStatus&&a.append("qualityStatus",r.qualityStatus),r!=null&&r.sortBy&&a.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&a.append("sortOrder",r.sortOrder);const s=a.toString(),i=`/finished-good-inventory/outlet/${t}${s?`?${s}`:""}`;return this.request(i)}async adjustFinishedGoodInventoryStock(t,r){return this.request(`/finished-good-inventory/${t}/adjust-stock`,{method:"PUT",body:JSON.stringify(r)})}async getFinishedGoodInventorySummary(t){return this.request(`/finished-good-inventory/summary/${t}`)}async getSalesOrders(t){const r=t?`?${new URLSearchParams(t).toString()}`:"";return this.request(`/sales-orders${r}`)}async getSalesOrder(t){return this.request(`/sales-orders/${t}`)}async createSalesOrder(t){return this.request("/sales-orders",{method:"POST",body:JSON.stringify(t)})}async updateSalesOrder(t,r){return this.request(`/sales-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteSalesOrder(t){return this.request(`/sales-orders/${t}`,{method:"DELETE"})}async getSalesOrdersByOutlet(t,r){const a=r?`?${new URLSearchParams(r).toString()}`:"";return this.request(`/sales-orders/outlet/${t}${a}`)}async updateSalesOrderStatus(t,r){return this.request(`/sales-orders/${t}/status`,{method:"PUT",body:JSON.stringify(r)})}async getCentralKitchens(){return this.request("/central-kitchen")}async getCentralKitchen(t){return this.request(`/central-kitchen/${t}`)}async createCentralKitchen(t){return this.request("/central-kitchen",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchen(t,r){return this.request(`/central-kitchen/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchen(t){return this.request(`/central-kitchen/${t}`,{method:"DELETE"})}async getCentralKitchenInventoryByKitchen(t,r){const a=new URLSearchParams;r!=null&&r.page&&a.append("page",r.page.toString()),r!=null&&r.limit&&a.append("limit",r.limit.toString()),r!=null&&r.category&&a.append("category",r.category),r!=null&&r.status&&a.append("status",r.status),r!=null&&r.sortBy&&a.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&a.append("sortOrder",r.sortOrder),r!=null&&r.search&&a.append("search",r.search);const s=a.toString(),i=`/central-kitchen-inventory/kitchen/${t}${s?`?${s}`:""}`;return this.request(i)}async getCentralKitchenRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/central-kitchen/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getCentralKitchenRawMaterial(t){return this.request(`/central-kitchen/raw-materials/${t}`)}async createCentralKitchenRawMaterial(t){return this.request("/central-kitchen/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchenRawMaterial(t,r){return this.request(`/central-kitchen/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchenRawMaterial(t){return this.request(`/central-kitchen/raw-materials/${t}`,{method:"DELETE"})}async getCentralKitchenRawMaterialCategories(){return this.request("/central-kitchen/raw-materials/categories")}async getCentralKitchenLowStockRawMaterials(){return this.request("/central-kitchen/raw-materials/low-stock")}async adjustCentralKitchenRawMaterialStock(t,r,a,s){return this.request(`/central-kitchen/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getCentralKitchenFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/central-kitchen/finished-products${a?`?${a}`:""}`;return this.request(s)}async getCentralKitchenFinishedProduct(t){return this.request(`/central-kitchen/finished-products/${t}`)}async createCentralKitchenFinishedProduct(t){return this.request("/central-kitchen/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchenFinishedProduct(t,r){return this.request(`/central-kitchen/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchenFinishedProduct(t){return this.request(`/central-kitchen/finished-products/${t}`,{method:"DELETE"})}async getCentralKitchenFinishedProductCategories(){return this.request("/central-kitchen/finished-products/categories")}async getCentralKitchenLowStockFinishedProducts(){return this.request("/central-kitchen/finished-products/low-stock")}async produceCentralKitchenFinishedProduct(t,r,a){return this.request(`/central-kitchen/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async getCentralKitchenInventoryItem(t){return this.request(`/central-kitchen-inventory/${t}`)}async createCentralKitchenInventoryItem(t){return this.request("/central-kitchen-inventory",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchenInventoryItem(t,r){return this.request(`/central-kitchen-inventory/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchenInventoryItem(t){return this.request(`/central-kitchen-inventory/${t}`,{method:"DELETE"})}async adjustCentralKitchenInventoryStock(t,r,a,s){return this.request(`/central-kitchen-inventory/${t}/adjust-stock`,{method:"PUT",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getKuwaitCityRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/kuwait-city/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getKuwaitCityRawMaterial(t){return this.request(`/kuwait-city/raw-materials/${t}`)}async createKuwaitCityRawMaterial(t){return this.request("/kuwait-city/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateKuwaitCityRawMaterial(t,r){return this.request(`/kuwait-city/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteKuwaitCityRawMaterial(t){return this.request(`/kuwait-city/raw-materials/${t}`,{method:"DELETE"})}async getKuwaitCityRawMaterialCategories(){return this.request("/kuwait-city/raw-materials/categories")}async getKuwaitCityLowStockRawMaterials(){return this.request("/kuwait-city/raw-materials/low-stock")}async adjustKuwaitCityRawMaterialStock(t,r,a,s){return this.request(`/kuwait-city/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getKuwaitCityFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/kuwait-city/finished-products${a?`?${a}`:""}`;return this.request(s)}async getKuwaitCityFinishedProduct(t){return this.request(`/kuwait-city/finished-products/${t}`)}async createKuwaitCityFinishedProduct(t){return this.request("/kuwait-city/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateKuwaitCityFinishedProduct(t,r){return this.request(`/kuwait-city/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteKuwaitCityFinishedProduct(t){return this.request(`/kuwait-city/finished-products/${t}`,{method:"DELETE"})}async getKuwaitCityFinishedProductCategories(){return this.request("/kuwait-city/finished-products/categories")}async getKuwaitCityLowStockFinishedProducts(){return this.request("/kuwait-city/finished-products/low-stock")}async produceKuwaitCityFinishedProduct(t,r,a){return this.request(`/kuwait-city/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async get360MallRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/360-mall/raw-materials${a?`?${a}`:""}`;return this.request(s)}async get360MallRawMaterial(t){return this.request(`/360-mall/raw-materials/${t}`)}async create360MallRawMaterial(t){return this.request("/360-mall/raw-materials",{method:"POST",body:JSON.stringify(t)})}async update360MallRawMaterial(t,r){return this.request(`/360-mall/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async delete360MallRawMaterial(t){return this.request(`/360-mall/raw-materials/${t}`,{method:"DELETE"})}async get360MallRawMaterialCategories(){return this.request("/360-mall/raw-materials/categories")}async get360MallLowStockRawMaterials(){return this.request("/360-mall/raw-materials/low-stock")}async adjust360MallRawMaterialStock(t,r,a,s){return this.request(`/360-mall/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async get360MallFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/360-mall/finished-products${a?`?${a}`:""}`;return this.request(s)}async get360MallFinishedProduct(t){return this.request(`/360-mall/finished-products/${t}`)}async create360MallFinishedProduct(t){return this.request("/360-mall/finished-products",{method:"POST",body:JSON.stringify(t)})}async update360MallFinishedProduct(t,r){return this.request(`/360-mall/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async delete360MallFinishedProduct(t){return this.request(`/360-mall/finished-products/${t}`,{method:"DELETE"})}async get360MallFinishedProductCategories(){return this.request("/360-mall/finished-products/categories")}async get360MallLowStockFinishedProducts(){return this.request("/360-mall/finished-products/low-stock")}async produce360MallFinishedProduct(t,r,a){return this.request(`/360-mall/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async getVibeComplexRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/vibe-complex/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getVibeComplexRawMaterial(t){return this.request(`/vibe-complex/raw-materials/${t}`)}async createVibeComplexRawMaterial(t){return this.request("/vibe-complex/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateVibeComplexRawMaterial(t,r){return this.request(`/vibe-complex/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteVibeComplexRawMaterial(t){return this.request(`/vibe-complex/raw-materials/${t}`,{method:"DELETE"})}async getVibeComplexRawMaterialCategories(){return this.request("/vibe-complex/raw-materials/categories")}async getVibeComplexLowStockRawMaterials(){return this.request("/vibe-complex/raw-materials/low-stock")}async adjustVibeComplexRawMaterialStock(t,r,a,s){return this.request(`/vibe-complex/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getVibeComplexFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/vibe-complex/finished-products${a?`?${a}`:""}`;return this.request(s)}async getVibeComplexFinishedProduct(t){return this.request(`/vibe-complex/finished-products/${t}`)}async createVibeComplexFinishedProduct(t){return this.request("/vibe-complex/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateVibeComplexFinishedProduct(t,r){return this.request(`/vibe-complex/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteVibeComplexFinishedProduct(t){return this.request(`/vibe-complex/finished-products/${t}`,{method:"DELETE"})}async getVibeComplexFinishedProductCategories(){return this.request("/vibe-complex/finished-products/categories")}async getVibeComplexLowStockFinishedProducts(){return this.request("/vibe-complex/finished-products/low-stock")}async produceVibeComplexFinishedProduct(t,r,a){return this.request(`/vibe-complex/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async createTransfer(t){return this.request("/transfers/create",{method:"POST",body:JSON.stringify(t)})}async getTaibaKitchenRawMaterials(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([s,i])=>{i!==void 0&&r.append(s,i.toString())});const a=r.toString();return this.request(`/taiba-kitchen/raw-materials${a?`?${a}`:""}`)}async getTaibaKitchenRawMaterial(t){return this.request(`/taiba-kitchen/raw-materials/${t}`)}async createTaibaKitchenRawMaterial(t){return this.request("/taiba-kitchen/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateTaibaKitchenRawMaterial(t,r){return this.request(`/taiba-kitchen/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteTaibaKitchenRawMaterial(t){return this.request(`/taiba-kitchen/raw-materials/${t}`,{method:"DELETE"})}async getTaibaKitchenRawMaterialCategories(){return this.request("/taiba-kitchen/raw-materials/categories")}async getTaibaKitchenLowStockRawMaterials(){return this.request("/taiba-kitchen/raw-materials/low-stock")}async adjustTaibaKitchenRawMaterialStock(t,r){return this.request(`/taiba-kitchen/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify(r)})}async getTaibaKitchenFinishedProducts(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([s,i])=>{i!==void 0&&r.append(s,i.toString())});const a=r.toString();return this.request(`/taiba-kitchen/finished-products${a?`?${a}`:""}`)}async getTaibaKitchenFinishedProduct(t){return this.request(`/taiba-kitchen/finished-products/${t}`)}async createTaibaKitchenFinishedProduct(t){return this.request("/taiba-kitchen/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateTaibaKitchenFinishedProduct(t,r){return this.request(`/taiba-kitchen/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteTaibaKitchenFinishedProduct(t){return this.request(`/taiba-kitchen/finished-products/${t}`,{method:"DELETE"})}async getTaibaKitchenFinishedProductCategories(){return this.request("/taiba-kitchen/finished-products/categories")}async getTaibaKitchenLowStockFinishedProducts(){return this.request("/taiba-kitchen/finished-products/low-stock")}async produceTaibaKitchenFinishedProduct(t,r){return this.request(`/taiba-kitchen/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify(r)})}async getTransferOrders(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([s,i])=>{i!==void 0&&r.append(s,i.toString())});const a=r.toString();return this.request(`/transfer-orders${a?`?${a}`:""}`)}async getTransferOrder(t){return this.request(`/transfer-orders/${t}`)}async createTransferOrder(t){return this.request("/transfer-orders",{method:"POST",body:JSON.stringify(t)})}async getTransferOrderById(t){return this.request(`/transfer-orders/${t}`)}async updateTransferOrderStatus(t,r){return this.request(`/transfer-orders/${t}/status`,{method:"PUT",body:JSON.stringify(r)})}async updateTransferOrderInventory(t,r){return this.request(`/transfer-order-inventory/${t}/${r}`,{method:"PUT"})}async deleteTransferOrder(t,r){return this.request(`/transfer-orders/${t}`,{method:"DELETE",body:JSON.stringify(r||{})})}async getTransferOrderStats(){return this.request("/transfer-orders/stats/summary")}async getNotifications(t,r,a){const s=new URLSearchParams;r&&s.append("type",r),a&&s.append("limit",a.toString());const i=s.toString(),o=i?`/${t}?${i}`:`/${t}`;return this.request(`/notifications${o}`)}async createNotification(t){return this.request("/notifications",{method:"POST",body:JSON.stringify(t)})}async markNotificationAsRead(t){return this.request(`/notifications/${t}/read`,{method:"PUT"})}async markAllNotificationsAsRead(t){return this.request(`/notifications/mark-all-read/${t}`,{method:"PUT"})}async clearAllNotifications(t){return this.request(`/notifications/clear-all/${t}`,{method:"DELETE"})}}const te=new sZ,da=e=>{const[t,r]=k.useState([]),[a,s]=k.useState(!0),i=k.useCallback(async()=>{if(!e){s(!1);return}try{s(!0);const m=await te.getNotifications(e,void 0,20);if(m.success){console.log("Raw notification data from API:",m.data);const d=m.data.map(f=>(console.log("Processing notification:",f),console.log("transferOrderId:",f.transferOrderId),{id:f.id,title:f.title,message:f.message,type:f.type==="transfer_rejection"?"error":f.type==="transfer_acceptance"?"success":f.priority==="high"?"warning":"info",timestamp:new Date(f.timestamp),read:f.read,outlet:e,transferOrderId:f.transferOrderId,isTransferOrder:!0,itemType:f.itemType,priority:f.priority}));console.log("Processed notifications:",d),r(d)}}catch(m){console.error("Error loading notifications:",m),r([])}finally{s(!1)}},[e]);k.useEffect(()=>{i();const m=setInterval(()=>{i()},3e4);return()=>clearInterval(m)},[i]);const o=k.useCallback(async m=>{try{await te.markNotificationAsRead(m),r(d=>d.map(f=>f.id===m?{...f,read:!0}:f))}catch(d){console.error("Error marking notification as read:",d)}},[]),l=k.useCallback(async()=>{if(e)try{await te.markAllNotificationsAsRead(e),r(m=>m.map(d=>({...d,read:!0})))}catch(m){console.error("Error marking all notifications as read:",m)}},[e]),c=k.useCallback(async()=>{if(e)try{await te.clearAllNotifications(e),r([])}catch(m){console.error("Error clearing notifications:",m)}},[e]),u=k.useCallback(m=>{const d={...m,id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,read:!1};r(f=>[d,...f])},[]);return{notifications:t,markAsRead:o,markAllAsRead:l,clearAll:c,addNotification:u,loading:a,refreshNotifications:i}},rw=()=>{const[e,t]=k.useState("overall"),{notifications:r,markAsRead:a,markAllAsRead:s,clearAll:i}=da("System"),o=[{id:"overall",name:"Overall Sales",icon:Aa,color:"text-indigo-600"},{id:"kuwait-city",name:"Kuwait City",icon:tr,color:"text-blue-600"},{id:"360-mall",name:"360 Mall",icon:$o,color:"text-green-600"},{id:"vibes-complex",name:"Vibes Complex",icon:_o,color:"text-orange-600"},{id:"taiba-hospital",name:"Taiba Hospital",icon:Do,color:"text-purple-600"}],l={"kuwait-city":{name:"Kuwait City",totalSales:125e3,totalOrders:156,avgOrderValue:801,topProducts:[{name:"Caesar Salad",sales:12500,orders:45},{name:"Grilled Chicken",sales:9800,orders:38},{name:"Pasta Carbonara",sales:8700,orders:32}],dailySales:[{day:"Mon",sales:8500},{day:"Tue",sales:9200},{day:"Wed",sales:7800},{day:"Thu",sales:10500},{day:"Fri",sales:12800},{day:"Sat",sales:15200},{day:"Sun",sales:11800}]},"360-mall":{name:"360 Mall",totalSales:89e3,totalOrders:134,avgOrderValue:664,topProducts:[{name:"Cappuccino",sales:9800,orders:65},{name:"Latte",sales:7200,orders:48},{name:"Croissant",sales:5400,orders:36}],dailySales:[{day:"Mon",sales:6200},{day:"Tue",sales:6800},{day:"Wed",sales:5900},{day:"Thu",sales:7500},{day:"Fri",sales:9200},{day:"Sat",sales:10800},{day:"Sun",sales:8200}]},"vibes-complex":{name:"Vibes Complex",totalSales:67e3,totalOrders:98,avgOrderValue:684,topProducts:[{name:"Burger Deluxe",sales:8200,orders:28},{name:"Chicken Wrap",sales:6500,orders:25},{name:"French Fries",sales:4800,orders:32}],dailySales:[{day:"Mon",sales:4800},{day:"Tue",sales:5200},{day:"Wed",sales:4500},{day:"Thu",sales:5800},{day:"Fri",sales:7200},{day:"Sat",sales:8500},{day:"Sun",sales:6200}]},"taiba-hospital":{name:"Taiba Hospital",totalSales:45e3,totalOrders:67,avgOrderValue:672,topProducts:[{name:"Quick Sandwich",sales:6800,orders:22},{name:"Coffee",sales:4200,orders:35},{name:"Energy Bar",sales:3200,orders:18}],dailySales:[{day:"Mon",sales:3200},{day:"Tue",sales:3500},{day:"Wed",sales:2800},{day:"Thu",sales:4200},{day:"Fri",sales:4800},{day:"Sat",sales:5200},{day:"Sun",sales:3800}]}},c={totalSales:Object.values(l).reduce((m,d)=>m+d.totalSales,0),totalOrders:Object.values(l).reduce((m,d)=>m+d.totalOrders,0),avgOrderValue:0,outletBreakdown:Object.entries(l).map(([,m])=>({name:m.name,sales:m.totalSales,orders:m.totalOrders,percentage:0}))};c.avgOrderValue=Math.round(c.totalSales/c.totalOrders),c.outletBreakdown.forEach(m=>{m.percentage=Math.round(m.sales/c.totalSales*100)});const u=m=>{if(m==="overall")return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-indigo-500",children:n.jsx(Aa,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",c.totalSales.toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(ct,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:c.totalOrders})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(Ln,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",c.avgOrderValue]})]})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Sales by Outlet"}),n.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:c.outletBreakdown.map((f,y)=>n.jsxs("div",{className:"flex flex-col items-center p-6 bg-gray-50 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:`p-4 rounded-full mb-4 ${y===0?"bg-blue-100":y===1?"bg-green-100":y===2?"bg-orange-100":"bg-purple-100"}`,children:y===0?n.jsx(tr,{className:"h-8 w-8 text-blue-600"}):y===1?n.jsx($o,{className:"h-8 w-8 text-green-600"}):y===2?n.jsx(_o,{className:"h-8 w-8 text-orange-600"}):n.jsx(Do,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:f.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[f.orders," orders"]}),n.jsxs("p",{className:"font-bold text-gray-900 text-xl",children:["$",f.sales.toLocaleString()]}),n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[f.percentage,"% of total"]})]})]},f.name))})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Overall Sales Trend"}),n.jsx(mb,{width:"100%",height:300,children:n.jsxs(tw,{data:[{day:"Mon",sales:22700},{day:"Tue",sales:24700},{day:"Wed",sales:21e3},{day:"Thu",sales:28e3},{day:"Fri",sales:34e3},{day:"Sat",sales:39700},{day:"Sun",sales:3e4}],children:[n.jsx(Yp,{strokeDasharray:"3 3"}),n.jsx(xl,{dataKey:"day"}),n.jsx(yl,{}),n.jsx(Ar,{formatter:f=>[`$${f}`,"Sales"]}),n.jsx(ni,{type:"monotone",dataKey:"sales",stroke:"#3B82F6",strokeWidth:3})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Products Overall"}),n.jsx("div",{className:"space-y-4",children:[{name:"Caesar Salad",sales:12500,orders:45,outlet:"Kuwait City"},{name:"Cappuccino",sales:9800,orders:65,outlet:"360 Mall"},{name:"Grilled Chicken",sales:9800,orders:38,outlet:"Kuwait City"},{name:"Burger Deluxe",sales:8200,orders:28,outlet:"Vibes Complex"},{name:"Latte",sales:7200,orders:48,outlet:"360 Mall"}].map((f,y)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-semibold text-blue-600",children:y+1})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[f.outlet,"  ",f.orders," orders"]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-gray-900",children:["$",f.sales.toLocaleString()]})})]},f.name))})]})]})]});const d=l[m];return d?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(Aa,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",d.totalSales.toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(ct,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:d.totalOrders})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:n.jsx(Ln,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",d.avgOrderValue]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Daily Sales Trend"}),n.jsx(mb,{width:"100%",height:300,children:n.jsxs(tw,{data:d.dailySales,children:[n.jsx(Yp,{strokeDasharray:"3 3"}),n.jsx(xl,{dataKey:"day"}),n.jsx(yl,{}),n.jsx(Ar,{formatter:f=>[`$${f}`,"Sales"]}),n.jsx(ni,{type:"monotone",dataKey:"sales",stroke:"#3B82F6",strokeWidth:2})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Products"}),n.jsx("div",{className:"space-y-4",children:d.topProducts.map(f=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:f.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[f.orders," orders"]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-gray-900",children:["$",f.sales.toLocaleString()]})})]},f.name))})]})]})]}):null};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Monitor sales performance across all outlets"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[n.jsx(Ln,{className:"h-4 w-4"}),n.jsxs("span",{children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx(ua,{notifications:r,onMarkAsRead:a,onMarkAllAsRead:s,onClearAll:i})]})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:o.map(m=>{const d=m.icon;return n.jsxs("button",{onClick:()=>t(m.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${e===m.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(d,{className:`h-4 w-4 ${e===m.id?m.color:""}`}),n.jsx("span",{children:m.name})]},m.id)})})}),u(e)]})},iZ=()=>bE(),oZ=wE,lZ=()=>{const e=ge(),t=iZ(),r=k.useRef(null),{rawMaterials:a,loading:s,error:i}=oZ(A=>A.inventory),[o,l]=k.useState(!1),[c,u]=k.useState(""),[m,d]=k.useState(""),[f,y]=k.useState(""),[v,h]=k.useState(""),[g,b]=k.useState(""),[N,x]=k.useState("materialCode"),[j,p]=k.useState("asc"),w=(A,F)=>A<=F?{status:"Low",color:"text-red-600 bg-red-100"}:A<=F*1.5?{status:"Medium",color:"text-yellow-600 bg-yellow-100"}:{status:"Good",color:"text-green-600 bg-green-100"},C=a.filter(A=>{const F=A.materialName.toLowerCase().includes(c.toLowerCase())||A.materialCode.toLowerCase().includes(c.toLowerCase())||A.description.toLowerCase().includes(c.toLowerCase()),S=m===""||A.category===m,T=f===""||f==="active"&&A.isActive||f==="inactive"&&!A.isActive,R=w(A.currentStock,A.minimumStock),$=v===""||R.status.toLowerCase()===v.toLowerCase(),L=g===""||A.supplierId===g;return F&&S&&T&&$&&L}).sort((A,F)=>{let S,T;switch(N){case"materialCode":S=A.materialCode,T=F.materialCode;break;case"materialName":S=A.materialName,T=F.materialName;break;case"category":S=A.category,T=F.category;break;case"unitPrice":S=A.unitPrice,T=F.unitPrice;break;case"currentStock":S=A.currentStock,T=F.currentStock;break;case"createdAt":S=new Date(A.createdAt).getTime(),T=new Date(F.createdAt).getTime();break;default:S=A.materialCode,T=F.materialCode}return j==="asc"?S>T?1:-1:S<T?1:-1}),P=[...new Set(a.map(A=>A.category))],E=[{id:"SUP-FP-001",name:"Fresh Produce Co"},{id:"SUP-PT-001",name:"Pantry Essentials"},{id:"SUP-DA-001",name:"Dairy Alternatives Inc"},{id:"SUP-SW-001",name:"Sweeteners & Syrups"},{id:"SUP-BV-001",name:"Beverage Solutions"},{id:"SUP-SP-001",name:"Supplements Plus"},{id:"SUP-SF-001",name:"Superfoods Direct"},{id:"SUP-DY-001",name:"Dairy Farm Fresh"},{id:"SUP-BK-001",name:"Artisan Bakery"}],I=()=>{u(""),d(""),y(""),h(""),b(""),x("materialCode"),p("asc")},M=async A=>{if(window.confirm("Are you sure you want to delete this material?"))try{(await te.deleteRawMaterial(A)).success?window.location.reload():alert("Failed to delete material")}catch(F){alert("Error deleting material: "+(F instanceof Error?F.message:"Unknown error")),console.error("Error deleting material:",F)}},O=()=>{try{const A=C.map(L=>({SKU:L.materialCode,"Item Name":L.materialName,"Parent Category":"Raw Materials","SubCategory Name":L.category,Unit:L.unitOfMeasure,"Unit Name":L.unitOfMeasure,"Default Purchase Unit Name":L.unitOfMeasure})),F=Object.keys(A[0]||{}),S=[F.join(","),...A.map(L=>F.map(Q=>{const Y=L[Q];return typeof Y=="string"&&(Y.includes(",")||Y.includes('"'))?`"${Y.replace(/"/g,'""')}"`:Y}).join(","))].join(`
`),T=new Blob([S],{type:"text/csv;charset=utf-8;"}),R=document.createElement("a"),$=URL.createObjectURL(T);R.setAttribute("href",$),R.setAttribute("download",`raw-materials-export-${new Date().toISOString().split("T")[0]}.csv`),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R),console.log("Export completed successfully")}catch(A){console.error("Export failed:",A),alert("Export failed. Please try again.")}},D=()=>{console.log("Import button clicked"),r.current?(console.log("File input ref found, clicking..."),r.current.click()):console.error("File input ref not found")},B=()=>{const A=[{SKU:"10001","Item Name":"Bhujia","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10002","Item Name":"Bran Flakes","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10003","Item Name":"Bread Improver","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10004","Item Name":"Caramel Syrup","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10005","Item Name":"Cocoa Powder","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"}],F=Object.keys(A[0]),S=[F.join(","),...A.map(L=>F.map(Q=>{const Y=L[Q];return typeof Y=="string"&&(Y.includes(",")||Y.includes('"'))?`"${Y.replace(/"/g,'""')}"`:Y}).join(","))].join(`
`),T=new Blob([S],{type:"text/csv;charset=utf-8;"}),R=document.createElement("a"),$=URL.createObjectURL(T);R.setAttribute("href",$),R.setAttribute("download","sample-raw-materials-import.csv"),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R)},_=async A=>{var S;const F=(S=A.target.files)==null?void 0:S[0];if(!F){console.log("No file selected");return}if(console.log("File selected:",F.name,"Size:",F.size,"Type:",F.type),!F.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{l(!0),console.log("Starting import process...");const T=await F.text();console.log("File content length:",T.length);const R=T.split(`
`).filter(xe=>xe.trim());if(console.log("Number of lines:",R.length),R.length<2){alert("CSV file must contain at least a header row and one data row");return}const $=xe=>{const ce=[];let K="",U=!1;for(let W=0;W<xe.length;W++){const pe=xe[W];pe==='"'?U&&xe[W+1]==='"'?(K+='"',W++):U=!U:pe===","&&!U?(ce.push(K.trim()),K=""):K+=pe}return ce.push(K.trim()),ce},L=$(R[0]);console.log("Headers:",L);const Q=R.slice(1).map((xe,ce)=>{const K=$(xe),U={};return L.forEach((W,pe)=>{U[W]=K[pe]||""}),console.log(`Row ${ce+1}:`,U),U}),Y=["SKU","Item Name","Parent Category","SubCategory Name","Unit","Unit Name","Default Purchase Unit Name"],ne=Y.filter(xe=>!L.includes(xe));if(ne.length>0){alert(`Missing required columns: ${ne.join(", ")}

Required columns: ${Y.join(", ")}

Found columns: ${L.join(", ")}`);return}console.log("Starting to process",Q.length,"rows...");let fe=0,X=0,he=0;const G=[],le=new Set,ue=[],H=[];for(let xe=0;xe<Q.length;xe++){const ce=Q[xe];try{console.log(`Processing row ${xe+1}:`,ce);const K=ce.SKU;if(le.has(K)){console.log(`Material ${K} already processed in this import, skipping...`);continue}const U={id:`rm-${Date.now()}-${xe}`,materialCode:K,materialName:ce["Item Name"],description:`${ce["Parent Category"]} - ${ce["SubCategory Name"]}`,category:ce["SubCategory Name"],unitOfMeasure:ce.Unit,unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"};console.log("Processed material data:",U);const W=a.find(pe=>pe.materialCode===U.materialCode);if(W){console.log("Material exists, updating existing material:",W.id);const pe={...W,materialName:U.materialName,description:U.description,category:U.category,unitOfMeasure:U.unitOfMeasure,updatedAt:new Date().toISOString(),updatedBy:"admin"};H.push(pe),he++,console.log(`Successfully updated ${U.materialCode}`)}else console.log("Creating new material:",U.materialCode),ue.push(U),fe++,console.log(`Successfully created ${U.materialCode}`);le.add(K)}catch(K){X++;const U=`Error processing row ${xe+1} (${ce.SKU||"Unknown"}): ${K instanceof Error?K.message:"Unknown error"}`;G.push(U),console.error(U,K)}}console.log("Import processing complete. Created:",fe,"Updated:",he,"Errors:",X),t(uT([...ue,...H])),X>0?alert(`Import completed with errors:

New Materials Created: ${fe}
Materials Updated: ${he}
Errors: ${X}

Errors:
${G.slice(0,5).join(`
`)}${G.length>5?`
...`:""}`):alert(`Import completed successfully!

New Materials Created: ${fe}
Materials Updated: ${he}`)}catch(T){console.error("Import failed:",T),alert(`Import failed: ${T instanceof Error?T.message:"Unknown error"}

Please check your CSV file format and try again.`)}finally{l(!1),r.current&&(r.current.value="")}};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading materials..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ingredient Master"}),n.jsx("p",{className:"text-gray-600",children:"Manage your restaurant ingredients and raw material inventory"})]}),n.jsxs("button",{onClick:()=>e("/raw-materials/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Ingredient"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search materials by name, code, or description...",className:"input-field pl-10",value:c,onChange:A=>u(A.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:I,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:O,className:"btn-secondary flex items-center",title:"Export materials to CSV",disabled:C.length===0,children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:D,className:"btn-secondary flex items-center",title:"Import materials from CSV",disabled:o,children:[n.jsx(mi,{className:"h-4 w-4 mr-2"}),o?"Importing...":"Import"]}),n.jsxs("button",{onClick:B,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"input-field",value:m,onChange:A=>d(A.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),P.map(A=>n.jsx("option",{value:A,children:A},A))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:f,onChange:A=>y(A.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Status"}),n.jsxs("select",{className:"input-field",value:v,onChange:A=>h(A.target.value),children:[n.jsx("option",{value:"",children:"All Stock Levels"}),n.jsx("option",{value:"low",children:"Low Stock"}),n.jsx("option",{value:"medium",children:"Medium Stock"}),n.jsx("option",{value:"good",children:"Good Stock"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),n.jsxs("select",{className:"input-field",value:g,onChange:A=>b(A.target.value),children:[n.jsx("option",{value:"",children:"All Suppliers"}),E.map(A=>n.jsx("option",{value:A.id,children:A.name},A.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:N,onChange:A=>x(A.target.value),children:[n.jsx("option",{value:"materialCode",children:"Material Code"}),n.jsx("option",{value:"materialName",children:"Name"}),n.jsx("option",{value:"category",children:"Category"}),n.jsx("option",{value:"unitPrice",children:"Unit Price"}),n.jsx("option",{value:"currentStock",children:"Current Stock"}),n.jsx("option",{value:"createdAt",children:"Date Created"})]}),n.jsx("button",{onClick:()=>p(j==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${j==="asc"?"Descending":"Ascending"}`,children:j==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",C.length," of ",a.length," materials",(c||m||f||v||g)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),C.length!==a.length&&n.jsx("button",{onClick:I,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"SKU"}),n.jsx("th",{className:"table-header",children:"Item Name"}),n.jsx("th",{className:"table-header",children:"Parent Category"}),n.jsx("th",{className:"table-header",children:"SubCategory Name"}),n.jsx("th",{className:"table-header",children:"Unit"}),n.jsx("th",{className:"table-header",children:"Unit Name"}),n.jsx("th",{className:"table-header",children:"Default Purchase Unit Name"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(A=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:A.materialCode}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"font-medium",children:A.materialName})}),n.jsx("td",{className:"table-cell",children:"Raw Materials"}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:A.category})}),n.jsx("td",{className:"table-cell",children:A.unitOfMeasure}),n.jsx("td",{className:"table-cell",children:A.unitOfMeasure}),n.jsx("td",{className:"table-cell",children:A.unitOfMeasure}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>e(`/raw-materials/edit/${A.id}`),className:"text-blue-600 hover:text-blue-900",children:n.jsx(Br,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>M(A.id),className:"text-red-600 hover:text-red-900",children:n.jsx($e,{className:"h-4 w-4"})})]})})]},A.id))})]})})}),n.jsx("input",{ref:r,type:"file",accept:".csv",onChange:_,style:{display:"none"}})]})},cZ=()=>{const e=ge(),[t,r]=k.useState({materialCode:"",materialName:"",description:"",category:"",unitOfMeasure:"",unitPrice:"",minimumStock:"",maximumStock:"",currentStock:"",supplierId:"",isActive:!0}),[a,s]=k.useState({}),i=["Fresh Produce","Pantry","Dairy Alternatives","Sweeteners","Beverages","Supplements","Superfoods","Dairy","Bakery","Spices","Other"],o=["PC","TBSP","CUP","TSP","PINCH","SCOOP","HANDFUL","SLICE","OZ","LB","KG","LTR","Other"],l=()=>{const m={};return t.materialCode.trim()||(m.materialCode="Material code is required"),t.materialName.trim()||(m.materialName="Material name is required"),t.category||(m.category="Category is required"),t.unitOfMeasure||(m.unitOfMeasure="Unit of measure is required"),(!t.unitPrice||parseFloat(t.unitPrice)<0)&&(m.unitPrice="Valid unit price is required"),(!t.minimumStock||parseInt(t.minimumStock)<0)&&(m.minimumStock="Valid minimum stock is required"),(!t.maximumStock||parseInt(t.maximumStock)<0)&&(m.maximumStock="Valid maximum stock is required"),(!t.currentStock||parseInt(t.currentStock)<0)&&(m.currentStock="Valid current stock is required"),s(m),Object.keys(m).length===0},c=async m=>{if(m.preventDefault(),!!l())try{const d=await te.createRawMaterial(t);d.success?e("/raw-materials"):alert("Failed to create material: "+d.message)}catch(d){alert("Error creating material: "+(d instanceof Error?d.message:"Unknown error")),console.error("Error creating material:",d)}},u=(m,d)=>{r(f=>({...f,[m]:d})),a[m]&&s(f=>({...f,[m]:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Material"}),n.jsx("p",{className:"text-gray-600",children:"Create a new raw material entry"})]}),n.jsxs("button",{onClick:()=>e("/raw-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Raw Materials"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:c,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Code *"}),n.jsx("input",{type:"text",className:`input-field ${a.materialCode?"border-red-500":""}`,value:t.materialCode,onChange:m=>u("materialCode",m.target.value),placeholder:"RM-001"}),a.materialCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.materialCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.materialName?"border-red-500":""}`,value:t.materialName,onChange:m=>u("materialName",m.target.value),placeholder:"Steel Rod 12mm"}),a.materialName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.materialName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.description,onChange:m=>u("description",m.target.value),placeholder:"Material description"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),n.jsxs("select",{className:`input-field ${a.category?"border-red-500":""}`,value:t.category,onChange:m=>u("category",m.target.value),children:[n.jsx("option",{value:"",children:"Select Category"}),i.map(m=>n.jsx("option",{value:m,children:m},m))]}),a.category&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.category})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure *"}),n.jsxs("select",{className:`input-field ${a.unitOfMeasure?"border-red-500":""}`,value:t.unitOfMeasure,onChange:m=>u("unitOfMeasure",m.target.value),children:[n.jsx("option",{value:"",children:"Select Unit"}),o.map(m=>n.jsx("option",{value:m,children:m},m))]}),a.unitOfMeasure&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.unitOfMeasure})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pricing & Stock Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),n.jsx("input",{type:"number",step:"0.01",className:`input-field pl-8 ${a.unitPrice?"border-red-500":""}`,value:t.unitPrice,onChange:m=>u("unitPrice",m.target.value),placeholder:"0.00"})]}),a.unitPrice&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.unitPrice})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock *"}),n.jsx("input",{type:"number",className:`input-field ${a.currentStock?"border-red-500":""}`,value:t.currentStock,onChange:m=>u("currentStock",m.target.value),placeholder:"0"}),a.currentStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.currentStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${a.minimumStock?"border-red-500":""}`,value:t.minimumStock,onChange:m=>u("minimumStock",m.target.value),placeholder:"0"}),a.minimumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.minimumStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${a.maximumStock?"border-red-500":""}`,value:t.maximumStock,onChange:m=>u("maximumStock",m.target.value),placeholder:"0"}),a.maximumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.maximumStock})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier ID"}),n.jsx("input",{type:"text",className:"input-field",value:t.supplierId,onChange:m=>u("supplierId",m.target.value),placeholder:"SUP-001"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:t.isActive,onChange:m=>u("isActive",m.target.checked)}),n.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Active Material"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Save Material"]})]})]})})]})},uZ=()=>{const e=ge(),{id:t}=aa(),[r,a]=k.useState({materialCode:"",materialName:"",description:"",category:"",unitOfMeasure:"",unitPrice:"",minimumStock:"",maximumStock:"",currentStock:"",supplierId:"",isActive:!0}),[s,i]=k.useState({}),[o,l]=k.useState(!0),c=["Fresh Produce","Pantry","Dairy Alternatives","Sweeteners","Beverages","Supplements","Superfoods","Dairy","Bakery","Spices","Other"],u=["PC","TBSP","CUP","TSP","PINCH","SCOOP","HANDFUL","SLICE","OZ","LB","KG","LTR","Other"];k.useEffect(()=>{t&&m()},[t]);const m=async()=>{try{l(!0);const v=await te.getRawMaterial(t);if(v.success){const h=v.data;a({materialCode:h.materialCode,materialName:h.materialName,description:h.description,category:h.category,unitOfMeasure:h.unitOfMeasure,unitPrice:h.unitPrice.toString(),minimumStock:h.minimumStock.toString(),maximumStock:h.maximumStock.toString(),currentStock:h.currentStock.toString(),supplierId:h.supplierId||"",isActive:h.isActive})}else alert("Failed to load material"),e("/raw-materials")}catch(v){alert("Error loading material: "+(v instanceof Error?v.message:"Unknown error")),e("/raw-materials")}finally{l(!1)}},d=()=>{const v={};return r.materialCode.trim()||(v.materialCode="Material code is required"),r.materialName.trim()||(v.materialName="Material name is required"),r.category||(v.category="Category is required"),r.unitOfMeasure||(v.unitOfMeasure="Unit of measure is required"),(!r.unitPrice||parseFloat(r.unitPrice)<0)&&(v.unitPrice="Valid unit price is required"),(!r.minimumStock||parseInt(r.minimumStock)<0)&&(v.minimumStock="Valid minimum stock is required"),(!r.maximumStock||parseInt(r.maximumStock)<0)&&(v.maximumStock="Valid maximum stock is required"),(!r.currentStock||parseInt(r.currentStock)<0)&&(v.currentStock="Valid current stock is required"),i(v),Object.keys(v).length===0},f=async v=>{if(v.preventDefault(),!!d())try{const h=await te.updateRawMaterial(t,r);h.success?e("/raw-materials"):alert("Failed to update material: "+h.message)}catch(h){alert("Error updating material: "+(h instanceof Error?h.message:"Unknown error")),console.error("Error updating material:",h)}},y=(v,h)=>{a(g=>({...g,[v]:h})),s[v]&&i(g=>({...g,[v]:""}))};return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading material data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Material"}),n.jsx("p",{className:"text-gray-600",children:"Update material information"})]}),n.jsxs("button",{onClick:()=>e("/raw-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Raw Materials"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:f,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.materialCode?"border-red-500":""}`,value:r.materialCode,onChange:v=>y("materialCode",v.target.value),placeholder:"RM-001"}),s.materialCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.materialCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.materialName?"border-red-500":""}`,value:r.materialName,onChange:v=>y("materialName",v.target.value),placeholder:"Steel Rod 12mm"}),s.materialName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.materialName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.description,onChange:v=>y("description",v.target.value),placeholder:"Material description"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),n.jsxs("select",{className:`input-field ${s.category?"border-red-500":""}`,value:r.category,onChange:v=>y("category",v.target.value),children:[n.jsx("option",{value:"",children:"Select Category"}),c.map(v=>n.jsx("option",{value:v,children:v},v))]}),s.category&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.category})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure *"}),n.jsxs("select",{className:`input-field ${s.unitOfMeasure?"border-red-500":""}`,value:r.unitOfMeasure,onChange:v=>y("unitOfMeasure",v.target.value),children:[n.jsx("option",{value:"",children:"Select Unit"}),u.map(v=>n.jsx("option",{value:v,children:v},v))]}),s.unitOfMeasure&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.unitOfMeasure})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pricing & Stock Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),n.jsx("input",{type:"number",step:"0.01",className:`input-field pl-8 ${s.unitPrice?"border-red-500":""}`,value:r.unitPrice,onChange:v=>y("unitPrice",v.target.value),placeholder:"0.00"})]}),s.unitPrice&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.unitPrice})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock *"}),n.jsx("input",{type:"number",className:`input-field ${s.currentStock?"border-red-500":""}`,value:r.currentStock,onChange:v=>y("currentStock",v.target.value),placeholder:"0"}),s.currentStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.currentStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${s.minimumStock?"border-red-500":""}`,value:r.minimumStock,onChange:v=>y("minimumStock",v.target.value),placeholder:"0"}),s.minimumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.minimumStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${s.maximumStock?"border-red-500":""}`,value:r.maximumStock,onChange:v=>y("maximumStock",v.target.value),placeholder:"0"}),s.maximumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.maximumStock})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier ID"}),n.jsx("input",{type:"text",className:"input-field",value:r.supplierId,onChange:v=>y("supplierId",v.target.value),placeholder:"SUP-001"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:r.isActive,onChange:v=>y("isActive",v.target.checked)}),n.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Active Material"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Update Material"]})]})]})})]})},dZ=()=>{const e=ge(),[t,r]=k.useState([]),[a,s]=k.useState(!0),[i,o]=k.useState(null),[l,c]=k.useState(null),[u,m]=k.useState(!1),[d,f]=k.useState(""),[y,v]=k.useState(""),[h,g]=k.useState("createdAt"),[b,N]=k.useState("desc"),[x,j]=k.useState(!1),p=k.useRef(null);k.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0),o(null);const _=await te.getBillOfMaterials({limit:1e3,search:d,status:y,sortBy:h,sortOrder:b});_.success?(console.log("Loaded BOMs:",_.data),r(_.data)):o("Failed to load BOMs")}catch(_){o(_ instanceof Error?_.message:"Failed to load BOMs"),console.error("Error loading BOMs:",_)}finally{s(!1)}};k.useEffect(()=>{a||w()},[d,y,h,b]);const C=t.filter(_=>{const A=_.productName.toLowerCase().includes(d.toLowerCase())||_.bomCode.toLowerCase().includes(d.toLowerCase())||_.productDescription.toLowerCase().includes(d.toLowerCase()),F=y===""||_.status===y;return A&&F}),P=()=>{f(""),v(""),g("createdAt"),N("desc")},E=_=>{c(_),m(!0)},I=async _=>{if(console.log("Deleting BOM with ID:",_),!_){alert("Error: BOM ID is missing");return}if(window.confirm("Are you sure you want to delete this BOM?"))try{(await te.deleteBillOfMaterial(_)).success?await w():alert("Failed to delete BOM")}catch(A){alert("Error deleting BOM: "+(A instanceof Error?A.message:"Unknown error")),console.error("Error deleting BOM:",A)}},M=()=>{if(C.length===0){alert("No BOMs to export");return}const _=[["BOM Code","Product Name","Product Description","Status","Version","Created At","Updated At","Notes"].join(","),...C.map(T=>[T.bomCode,T.productName,T.productDescription,T.status,T.version,new Date(T.createdAt).toLocaleDateString(),new Date(T.updatedAt).toLocaleDateString(),""].map(R=>`"${R}"`).join(","))].join(`
`),A=new Blob([_],{type:"text/csv;charset=utf-8;"}),F=document.createElement("a"),S=URL.createObjectURL(A);F.setAttribute("href",S),F.setAttribute("download",`bom-recipes-${new Date().toISOString().split("T")[0]}.csv`),F.style.visibility="hidden",document.body.appendChild(F),F.click(),document.body.removeChild(F)},O=()=>{var _;(_=p.current)==null||_.click()},D=async _=>{var F;const A=(F=_.target.files)==null?void 0:F[0];if(A){if(!A.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{j(!0);const T=(await A.text()).split(`
`).filter(Q=>Q.trim());if(T.length<2){alert("CSV file must contain at least a header row and one data row");return}const R=T.slice(1);let $=0,L=0;for(const Q of R)try{const Y=Q.split(",").map(X=>X.replace(/"/g,"").trim()),ne={bomCode:Y[0]||"",productName:Y[1]||"",productDescription:Y[2]||"",status:Y[3]||"Draft",version:Y[4]||"1.0",notes:Y[7]||""};(await te.createBillOfMaterial(ne)).success?$++:L++}catch{L++}alert(`Import completed!

Successfully imported: ${$} BOMs
Errors: ${L}`),await w()}catch(S){alert("Error importing file: "+(S instanceof Error?S.message:"Unknown error"))}finally{j(!1),p.current&&(p.current.value="")}}},B=()=>{const A=[["BOM Code","Product Name","Product Description","Status","Version","Created At","Updated At","Notes"],["BOM-001","Fresh Green Smoothie","Healthy smoothie with spinach and fruits","Active","1.0","2024-01-15","2024-01-15","Popular breakfast item"],["BOM-002","Protein Power Bowl","High protein meal bowl","Active","1.0","2024-01-15","2024-01-15","Post-workout meal"]].map(R=>R.map($=>`"${$}"`).join(",")).join(`
`),F=new Blob([A],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a"),T=URL.createObjectURL(F);S.setAttribute("href",T),S.setAttribute("download","bom-sample-template.csv"),S.style.visibility="hidden",document.body.appendChild(S),S.click(),document.body.removeChild(S)};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading BOMs..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:w,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recipes (BOM)"}),n.jsx("p",{className:"text-gray-600",children:"Manage your restaurant recipes and product formulations"})]}),n.jsxs("button",{onClick:()=>e("/bill-of-materials/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Recipe"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search recipes by name, code, or description...",className:"input-field pl-10",value:d,onChange:_=>f(_.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:P,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:M,className:"btn-secondary flex items-center",title:"Export BOMs to CSV",disabled:C.length===0,children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:O,className:"btn-secondary flex items-center",title:"Import BOMs from CSV",disabled:x,children:[n.jsx(mi,{className:"h-4 w-4 mr-2"}),x?"Importing...":"Import"]}),n.jsxs("button",{onClick:B,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:y,onChange:_=>v(_.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"}),n.jsx("option",{value:"Obsolete",children:"Obsolete"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:h,onChange:_=>g(_.target.value),children:[n.jsx("option",{value:"bomCode",children:"BOM Code"}),n.jsx("option",{value:"productName",children:"Product Name"}),n.jsx("option",{value:"totalCost",children:"Total Cost"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"createdAt",children:"Date Created"})]}),n.jsx("button",{onClick:()=>N(b==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${b==="asc"?"Descending":"Ascending"}`,children:b==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",C.length," of ",t.length," recipes",(d||y)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),C.length!==t.length&&n.jsx("button",{onClick:P,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"BOM Code"}),n.jsx("th",{className:"table-header",children:"Product Name"}),n.jsx("th",{className:"table-header",children:"Description"}),n.jsx("th",{className:"table-header",children:"Version"}),n.jsx("th",{className:"table-header",children:"Total Cost"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Items"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(_=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:_.bomCode}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900",children:_.productName})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-600 text-sm max-w-xs truncate",children:_.productDescription})}),n.jsx("td",{className:"table-cell",children:_.version}),n.jsxs("td",{className:"table-cell",children:[_.totalCost.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_.status==="Active"?"bg-green-100 text-green-800":_.status==="Draft"?"bg-yellow-100 text-yellow-800":_.status==="Obsolete"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:_.status})}),n.jsx("td",{className:"table-cell",children:n.jsxs("span",{className:"text-sm text-gray-600",children:[_.items.length," ingredients"]})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>E(_),className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(Yr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/bill-of-materials/edit/${_.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Br,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>I(_.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx($e,{className:"h-4 w-4"})})]})})]},_.id))})]})})}),n.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Total Recipes: ",n.jsx("span",{className:"font-semibold text-blue-600",children:t.length})]}),u&&l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"BOM Details"}),n.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ee,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"BOM Code"}),n.jsx("p",{className:"text-gray-900 font-mono",children:l.bomCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("p",{className:"text-gray-900",children:l.productName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),n.jsx("p",{className:"text-gray-900",children:l.version})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l.status==="Active"?"bg-green-100 text-green-800":l.status==="Draft"?"bg-yellow-100 text-yellow-800":l.status==="Obsolete"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:l.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:[l.totalCost.toFixed(2)," KWD"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.effectiveDate).toLocaleDateString()})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("p",{className:"text-gray-900",children:l.productDescription})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Ingredients (",l.items.length," items)"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Cost"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.items.map((_,A)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-mono",children:_.materialCode}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:_.materialName}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:_.quantity}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:_.unitOfMeasure}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[_.unitCost.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[_.totalCost.toFixed(2)," KWD"]})]},A))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),n.jsx("p",{className:"text-gray-900",children:l.createdBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),n.jsx("p",{className:"text-gray-900",children:l.updatedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.updatedAt).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{m(!1),e(`/bill-of-materials/edit/${l.id}`)},className:"btn-primary",children:"Edit BOM"})]})]})}),n.jsx("input",{type:"file",ref:p,onChange:D,accept:".csv",style:{display:"none"}})]})},mZ=()=>{const e=ge(),[t,r]=k.useState({bomCode:"",productName:"",productDescription:"",version:"1.0",effectiveDate:new Date().toISOString().split("T")[0],status:"Draft",items:[]}),[a,s]=k.useState({}),i=["Draft","Active","Obsolete"],o=()=>{const f={};if(t.bomCode.trim()?t.bomCode.trim().length<3&&(f.bomCode="BOM code must be at least 3 characters"):f.bomCode="BOM code is required",t.productName.trim()||(f.productName="Product name is required"),t.productDescription.trim()||(f.productDescription="Product description is required"),t.version.trim()?/^\d+\.\d+$/.test(t.version.trim())||(f.version="Version must be in format X.X (e.g., 1.0)"):f.version="Version is required",!t.effectiveDate)f.effectiveDate="Effective date is required";else{const y=new Date(t.effectiveDate);(isNaN(y.getTime())||y<new Date("2020-01-01"))&&(f.effectiveDate="Please select a valid date after 2020")}return t.items.length===0?f.items="At least one BOM item is required":t.items.forEach((y,v)=>{y.materialCode.trim()||(f[`item_${v}_code`]="Material code is required"),y.materialName.trim()||(f[`item_${v}_name`]="Material name is required"),(!y.quantity||y.quantity<=0)&&(f[`item_${v}_quantity`]="Quantity must be greater than 0"),y.unitOfMeasure.trim()||(f[`item_${v}_unit`]="Unit of measure is required"),(!y.unitCost||y.unitCost<=0)&&(f[`item_${v}_cost`]="Unit cost must be greater than 0")}),s(f),Object.keys(f).length===0},l=async f=>{if(f.preventDefault(),!!o())try{const y=t.items.reduce((g,b)=>{const N=b.quantity*b.unitCost;return g+N},0),v={bomCode:t.bomCode.trim().toUpperCase().replace(/\s+/g,"-"),productName:t.productName.trim(),productDescription:t.productDescription.trim(),version:t.version.trim(),effectiveDate:t.effectiveDate,status:t.status,totalCost:Math.round(y*100)/100,items:t.items.map(g=>({materialId:g.materialId||`MAT-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,materialCode:g.materialCode.trim().toUpperCase(),materialName:g.materialName.trim(),quantity:parseFloat(g.quantity.toString()),unitOfMeasure:g.unitOfMeasure.trim(),unitCost:parseFloat(g.unitCost.toString()),totalCost:Math.round(g.quantity*g.unitCost*100)/100})),createdBy:"admin",updatedBy:"admin"};console.log("Creating BOM:",v);const h=await te.createBillOfMaterial(v);h.success?(console.log("BOM created successfully:",h.data),e("/bill-of-materials")):alert("Failed to create BOM: "+h.message)}catch(y){console.error("Error creating BOM:",y),alert("Error creating BOM: "+(y instanceof Error?y.message:"Unknown error"))}},c=(f,y)=>{r(v=>({...v,[f]:y})),a[f]&&s(v=>({...v,[f]:""}))},u=()=>{const f={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitCost:0,totalCost:0};r(y=>({...y,items:[...y.items,f]}))},m=(f,y,v)=>{r(h=>({...h,items:h.items.map((g,b)=>{if(b===f){const N={...g,[y]:v};return(y==="quantity"||y==="unitCost")&&(N.totalCost=N.quantity*N.unitCost),N}return g})}))},d=f=>{r(y=>({...y,items:y.items.filter((v,h)=>h!==f)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Recipe"}),n.jsx("p",{className:"text-gray-600",children:"Create a new bill of materials"})]}),n.jsxs("button",{onClick:()=>e("/bill-of-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Recipes"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:l,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BOM Code *"}),n.jsx("input",{type:"text",className:`input-field ${a.bomCode?"border-red-500":""}`,value:t.bomCode,onChange:f=>c("bomCode",f.target.value),placeholder:"SANDWICH-001"}),a.bomCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.bomCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Version *"}),n.jsx("input",{type:"text",className:`input-field ${a.version?"border-red-500":""}`,value:t.version,onChange:f=>c("version",f.target.value),placeholder:"1.0"}),a.version&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.version})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.productName?"border-red-500":""}`,value:t.productName,onChange:f=>c("productName",f.target.value),placeholder:"Chicken Club Sandwich"}),a.productName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.productName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.productDescription,onChange:f=>c("productDescription",f.target.value),placeholder:"Delicious sandwich with grilled chicken, bacon, lettuce, tomato, and mayo on toasted bread"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Effective Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.effectiveDate?"border-red-500":""}`,value:t.effectiveDate,onChange:f=>c("effectiveDate",f.target.value)}),a.effectiveDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.effectiveDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:f=>c("status",f.target.value),children:i.map(f=>n.jsx("option",{value:f,children:f},f))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recipe Items"}),n.jsxs("button",{type:"button",onClick:u,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:a.items}),n.jsx("div",{className:"space-y-4",children:t.items.map((f,y)=>n.jsxs("div",{className:"grid grid-cols-6 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.materialCode,onChange:v=>m(y,"materialCode",v.target.value),placeholder:"CHICKEN-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.materialName,onChange:v=>m(y,"materialName",v.target.value),placeholder:"Chicken Breast"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.quantity,onChange:v=>m(y,"quantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.unitOfMeasure,onChange:v=>m(y,"unitOfMeasure",v.target.value),placeholder:"grams"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Cost"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:f.unitCost,onChange:v=>m(y,"unitCost",parseFloat(v.target.value)||0),placeholder:"0.00"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>d(y),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-6",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Cost: ",f.totalCost.toFixed(2)," KWD"]})})]},y))}),t.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total BOM Cost: ",t.items.reduce((f,y)=>f+y.totalCost,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/bill-of-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Create BOM"]})]})]})})]})},fZ=()=>{const e=ge(),{id:t}=aa(),[r,a]=k.useState({bomCode:"",productName:"",productDescription:"",version:"",effectiveDate:"",status:"Draft",items:[]}),[s,i]=k.useState({}),[o,l]=k.useState(!0),c=["Draft","Active","Obsolete"],u={id:"1",bomCode:"BOM-001",productName:"Steel Frame Assembly",productDescription:"Complete steel frame for construction",version:"1.0",effectiveDate:new Date("2024-01-01").toISOString(),status:"Active",totalCost:1250.75,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:10,unitOfMeasure:"KG",unitCost:45.5,totalCost:455},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:5,unitOfMeasure:"SQM",unitCost:125,totalCost:625}],createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-15").toISOString(),createdBy:"admin",updatedBy:"admin"};k.useEffect(()=>{setTimeout(()=>{a({bomCode:u.bomCode,productName:u.productName,productDescription:u.productDescription,version:u.version,effectiveDate:u.effectiveDate.split("T")[0],status:u.status,items:u.items}),l(!1)},500)},[t]);const m=()=>{const g={};return r.bomCode.trim()||(g.bomCode="BOM code is required"),r.productName.trim()||(g.productName="Product name is required"),r.version.trim()||(g.version="Version is required"),r.effectiveDate||(g.effectiveDate="Effective date is required"),r.items.length===0&&(g.items="At least one BOM item is required"),i(g),Object.keys(g).length===0},d=g=>{if(g.preventDefault(),!m())return;const b=r.items.reduce((x,j)=>x+j.totalCost,0),N={...u,bomCode:r.bomCode,productName:r.productName,productDescription:r.productDescription,version:r.version,effectiveDate:new Date(r.effectiveDate).toISOString(),status:r.status,totalCost:b,items:r.items,updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating BOM:",N),e("/bill-of-materials")},f=(g,b)=>{a(N=>({...N,[g]:b})),s[g]&&i(N=>({...N,[g]:""}))},y=()=>{const g={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitCost:0,totalCost:0};a(b=>({...b,items:[...b.items,g]}))},v=(g,b,N)=>{a(x=>({...x,items:x.items.map((j,p)=>{if(p===g){const w={...j,[b]:N};return(b==="quantity"||b==="unitCost")&&(w.totalCost=w.quantity*w.unitCost),w}return j})}))},h=g=>{a(b=>({...b,items:b.items.filter((N,x)=>x!==g)}))};return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading BOM data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Recipe"}),n.jsx("p",{className:"text-gray-600",children:"Update bill of materials information"})]}),n.jsxs("button",{onClick:()=>e("/bill-of-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Recipes"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:d,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BOM Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.bomCode?"border-red-500":""}`,value:r.bomCode,onChange:g=>f("bomCode",g.target.value),placeholder:"SANDWICH-001"}),s.bomCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.bomCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Version *"}),n.jsx("input",{type:"text",className:`input-field ${s.version?"border-red-500":""}`,value:r.version,onChange:g=>f("version",g.target.value),placeholder:"1.0"}),s.version&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.version})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.productName?"border-red-500":""}`,value:r.productName,onChange:g=>f("productName",g.target.value),placeholder:"Chicken Club Sandwich"}),s.productName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.productName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.productDescription,onChange:g=>f("productDescription",g.target.value),placeholder:"Delicious sandwich with grilled chicken, bacon, lettuce, tomato, and mayo on toasted bread"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Effective Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.effectiveDate?"border-red-500":""}`,value:r.effectiveDate,onChange:g=>f("effectiveDate",g.target.value)}),s.effectiveDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.effectiveDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:g=>f("status",g.target.value),children:c.map(g=>n.jsx("option",{value:g,children:g},g))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recipe Items"}),n.jsxs("button",{type:"button",onClick:y,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((g,b)=>n.jsxs("div",{className:"grid grid-cols-6 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:g.materialCode,onChange:N=>v(b,"materialCode",N.target.value),placeholder:"CHICKEN-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:g.materialName,onChange:N=>v(b,"materialName",N.target.value),placeholder:"Chicken Breast"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:g.quantity,onChange:N=>v(b,"quantity",parseFloat(N.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:g.unitOfMeasure,onChange:N=>v(b,"unitOfMeasure",N.target.value),placeholder:"grams"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Cost"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:g.unitCost,onChange:N=>v(b,"unitCost",parseFloat(N.target.value)||0),placeholder:"0.00"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>h(b),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-6",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Cost: ",g.totalCost.toFixed(2)," KWD"]})})]},b))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total BOM Cost: ",r.items.reduce((g,b)=>g+b.totalCost,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/bill-of-materials"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Update BOM"]})]})]})})]})},hZ=()=>{const e=ge(),[t,r]=k.useState([]),[a,s]=k.useState(!0),[i,o]=k.useState(null),[l,c]=k.useState(null),[u,m]=k.useState(!1),[d,f]=k.useState(""),[y,v]=k.useState(""),[h,g]=k.useState(""),[b,N]=k.useState("createdAt"),[x,j]=k.useState("desc");k.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0),o(null);const I=await te.getJobOrders({limit:1e3,search:d,status:y,priority:h,sortBy:b,sortOrder:x});I.success?(console.log("Loaded Job Orders:",I.data),r(I.data)):o("Failed to load job orders")}catch(I){o(I instanceof Error?I.message:"Failed to load job orders"),console.error("Error loading job orders:",I)}finally{s(!1)}},w=()=>{f(""),v(""),g(""),N("createdAt"),j("desc")},C=I=>{c(I),m(!0)},P=async I=>{if(console.log("Deleting Job Order with ID:",I),!I){alert("Error: Job Order ID is missing");return}if(window.confirm("Are you sure you want to delete this job order?"))try{(await te.deleteJobOrder(I)).success?await p():alert("Failed to delete job order")}catch(M){alert("Error deleting job order: "+(M instanceof Error?M.message:"Unknown error")),console.error("Error deleting job order:",M)}},E=t.filter(I=>{const M=I.jobOrderNumber.toLowerCase().includes(d.toLowerCase())||I.customerName.toLowerCase().includes(d.toLowerCase())||I.customerId.toLowerCase().includes(d.toLowerCase()),O=y===""||I.status.toLowerCase()===y.toLowerCase(),D=h===""||I.priority.toLowerCase()===h.toLowerCase();return M&&O&&D}).sort((I,M)=>{let O,D;switch(b){case"jobOrderNumber":O=I.jobOrderNumber,D=M.jobOrderNumber;break;case"customerName":O=I.customerName,D=M.customerName;break;case"totalAmount":O=I.totalAmount,D=M.totalAmount;break;case"orderDate":O=new Date(I.orderDate).getTime(),D=new Date(M.orderDate).getTime();break;case"createdAt":O=new Date(I.createdAt).getTime(),D=new Date(M.createdAt).getTime();break;default:O=new Date(I.createdAt).getTime(),D=new Date(M.createdAt).getTime()}return x==="asc"?O>D?1:-1:O<D?1:-1});return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading recipe orders..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:p,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recipe Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage your restaurant's recipe orders and customer requests"})]}),n.jsxs("button",{onClick:()=>e("/job-orders/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Recipe Order"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search orders by number, customer name, or email...",className:"input-field pl-10",value:d,onChange:I=>f(I.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:w,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:y,onChange:I=>v(I.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"In Progress",children:"In Progress"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsxs("select",{className:"input-field",value:h,onChange:I=>g(I.target.value),children:[n.jsx("option",{value:"",children:"All Priority"}),n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Medium",children:"Medium"}),n.jsx("option",{value:"High",children:"High"}),n.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:b,onChange:I=>N(I.target.value),children:[n.jsx("option",{value:"createdAt",children:"Date Created"}),n.jsx("option",{value:"jobOrderNumber",children:"Order Number"}),n.jsx("option",{value:"customerName",children:"Customer Name"}),n.jsx("option",{value:"totalAmount",children:"Total Amount"}),n.jsx("option",{value:"orderDate",children:"Order Date"})]}),n.jsx("button",{onClick:()=>j(x==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${x==="asc"?"Descending":"Ascending"}`,children:x==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",E.length," of ",t.length," recipe orders",(d||y||h)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),E.length!==t.length&&n.jsx("button",{onClick:w,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Recipe Order #"}),n.jsx("th",{className:"table-header",children:"Customer"}),n.jsx("th",{className:"table-header",children:"Order Date"}),n.jsx("th",{className:"table-header",children:"Delivery Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Priority"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(I=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:I.jobOrderNumber}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900",children:I.customerName}),n.jsx("div",{className:"text-gray-500 text-sm",children:I.customerId})]})}),n.jsx("td",{className:"table-cell",children:new Date(I.orderDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:new Date(I.deliveryDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I.status==="Completed"?"bg-green-100 text-green-800":I.status==="In Progress"?"bg-blue-100 text-blue-800":I.status==="Pending"?"bg-purple-100 text-purple-800":I.status==="Cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:I.status})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I.priority==="Urgent"?"bg-red-100 text-red-800":I.priority==="High"?"bg-orange-100 text-orange-800":I.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:I.priority})}),n.jsxs("td",{className:"table-cell",children:[I.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>C(I),className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(Yr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/job-orders/edit/${I.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Br,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>P(I.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx($e,{className:"h-4 w-4"})})]})})]},I.id))})]})})}),n.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Total Recipe Orders: ",n.jsx("span",{className:"font-semibold text-blue-600",children:t.length})]}),u&&l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recipe Order Details"}),n.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ee,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number"}),n.jsx("p",{className:"text-gray-900 font-mono",children:l.jobOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),n.jsx("p",{className:"text-gray-900",children:l.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Email"}),n.jsx("p",{className:"text-gray-900",children:l.customerId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Contact"}),n.jsx("p",{className:"text-gray-900",children:l.customerId||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.orderDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.deliveryDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l.status==="Completed"?"bg-green-100 text-green-800":l.status==="In Progress"?"bg-blue-100 text-blue-800":l.status==="Pending"?"bg-purple-100 text-purple-800":l.status==="Cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:l.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l.priority==="Urgent"?"bg-red-100 text-red-800":l.priority==="High"?"bg-orange-100 text-orange-800":l.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:l.priority})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:[l.totalAmount.toFixed(2)," KWD"]})]})]}),l.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("p",{className:"text-gray-900",children:l.notes})]}),l.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),n.jsx("p",{className:"text-gray-900",children:l.notes})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Recipe Items (",l.items.length," items)"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet A"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet B"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet C"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.items.map((I,M)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:I.product}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:I.outletA}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:I.outletB}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:I.outletC}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:I.totalQuantity}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[I.unitPrice.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[I.totalPrice.toFixed(2)," KWD"]})]},M))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),n.jsx("p",{className:"text-gray-900",children:l.createdBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),n.jsx("p",{className:"text-gray-900",children:l.updatedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.updatedAt).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{m(!1),e(`/job-orders/edit/${l.id}`)},className:"btn-primary",children:"Edit Order"})]})]})})]})},pZ=()=>{const e=ge(),[t,r]=k.useState({jobOrderNumber:"",customerName:"",customerContact:"",customerEmail:"",orderDate:"",deliveryDate:"",priority:"Medium",status:"Draft",totalAmount:0,items:[],notes:"",specialInstructions:""}),[a,s]=k.useState({}),[i,o]=k.useState([]),[l,c]=k.useState(!1),u=["Low","Medium","High","Urgent"],m=["Draft","Approved","In Progress","Completed","Cancelled"];k.useEffect(()=>{d()},[]);const d=async()=>{try{c(!0);const x=await te.getBillOfMaterials({limit:1e3,status:"Active"});x.success&&o(x.data)}catch(x){console.error("Error loading BOMs:",x)}finally{c(!1)}},f=()=>{const x={};return t.jobOrderNumber.trim()||(x.jobOrderNumber="Job order number is required"),t.customerName.trim()||(x.customerName="Customer name is required"),t.customerEmail.trim()||(x.customerEmail="Customer email is required"),t.orderDate||(x.orderDate="Order date is required"),t.deliveryDate||(x.deliveryDate="Delivery date is required"),t.items.length===0&&(x.items="At least one job order item is required"),s(x),Object.keys(x).length===0},y=async x=>{if(x.preventDefault(),!!f())try{const j=t.items.reduce((C,P)=>C+P.totalPrice,0),p={jobOrderNumber:t.jobOrderNumber.trim().toUpperCase(),customerId:`CUST-${Date.now()}`,customerName:t.customerName.trim(),customerContact:t.customerContact.trim(),customerEmail:t.customerEmail.trim(),orderDate:t.orderDate,deliveryDate:t.deliveryDate,priority:t.priority,status:t.status,totalAmount:j,items:t.items.map(C=>({bomId:C.bomId,bomCode:C.bomCode,product:C.product.trim(),outletA:parseFloat(C.outletA.toString())||0,outletB:parseFloat(C.outletB.toString())||0,outletC:parseFloat(C.outletC.toString())||0,totalQuantity:C.totalQuantity,unitPrice:parseFloat(C.unitPrice.toString()),totalPrice:C.totalPrice})),notes:t.notes.trim(),specialInstructions:t.specialInstructions.trim(),createdBy:"admin",updatedBy:"admin"};console.log("Creating Job Order:",p);const w=await te.createJobOrder(p);w.success?(console.log("Job Order created successfully:",w.data),e("/job-orders")):alert("Failed to create Job Order: "+w.message)}catch(j){console.error("Error creating Job Order:",j),alert("Error creating Job Order: "+(j instanceof Error?j.message:"Unknown error"))}},v=(x,j)=>{r(p=>({...p,[x]:j})),a[x]&&s(p=>({...p,[x]:""}))},h=()=>{const x={bomId:"",bomCode:"",product:"",outletA:0,outletB:0,outletC:0,totalQuantity:0,unitPrice:0,totalPrice:0};r(j=>({...j,items:[...j.items,x]}))},g=(x,j)=>{const p=i.find(w=>w.id===j);p&&r(w=>({...w,items:w.items.map((C,P)=>{if(P===x){const E={...C,bomId:p.id,bomCode:p.bomCode,product:p.productName,unitPrice:parseFloat((p.totalCost/p.items.length).toFixed(2))};return E.totalQuantity=E.outletA+E.outletB+E.outletC,E.totalPrice=parseFloat((E.totalQuantity*E.unitPrice).toFixed(2)),E}return C})}))},b=(x,j,p)=>{r(w=>({...w,items:w.items.map((C,P)=>{if(P===x){const E={...C,[j]:p};return(j==="outletA"||j==="outletB"||j==="outletC")&&(E.totalQuantity=E.outletA+E.outletB+E.outletC),(j==="totalQuantity"||j==="unitPrice"||j==="outletA"||j==="outletB"||j==="outletC")&&(E.totalPrice=parseFloat((E.totalQuantity*E.unitPrice).toFixed(2))),E}return C})}))},N=x=>{r(j=>({...j,items:j.items.filter((p,w)=>w!==x)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Job Order"}),n.jsx("p",{className:"text-gray-600",children:"Create a new job order for production"})]}),n.jsxs("button",{onClick:()=>e("/job-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Job Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:y,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.jobOrderNumber?"border-red-500":""}`,value:t.jobOrderNumber,onChange:x=>v("jobOrderNumber",x.target.value),placeholder:"JO-2024-001"}),a.jobOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.jobOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.customerName?"border-red-500":""}`,value:t.customerName,onChange:x=>v("customerName",x.target.value),placeholder:"ABC Manufacturing Ltd."}),a.customerName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Contact"}),n.jsx("input",{type:"text",className:"input-field",value:t.customerContact,onChange:x=>v("customerContact",x.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.customerEmail?"border-red-500":""}`,value:t.customerEmail,onChange:x=>v("customerEmail",x.target.value),placeholder:"john@abcmfg.com"}),a.customerEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.customerEmail})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.orderDate?"border-red-500":""}`,value:t.orderDate,onChange:x=>v("orderDate",x.target.value)}),a.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.deliveryDate?"border-red-500":""}`,value:t.deliveryDate,onChange:x=>v("deliveryDate",x.target.value)}),a.deliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.deliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:t.priority,onChange:x=>v("priority",x.target.value),children:u.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:x=>v("status",x.target.value),children:m.map(x=>n.jsx("option",{value:x,children:x},x))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Order Items"}),n.jsxs("button",{type:"button",onClick:h,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:a.items}),n.jsx("div",{className:"space-y-4",children:t.items.map((x,j)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Recipe (BOM)"}),n.jsxs("select",{className:"input-field text-sm",value:x.bomId||"",onChange:p=>g(j,p.target.value),children:[n.jsx("option",{value:"",children:"Select Recipe"}),l?n.jsx("option",{disabled:!0,children:"Loading recipes..."}):i.map(p=>n.jsxs("option",{value:p.id,children:[p.bomCode," - ",p.productName]},p.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:x.product,readOnly:!0,placeholder:"Auto-filled from BOM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:x.unitPrice,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet A"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:x.outletA,onChange:p=>b(j,"outletA",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet B"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:x.outletB,onChange:p=>b(j,"outletB",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet C"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:x.outletC,onChange:p=>b(j,"outletC",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Total Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm bg-gray-100",value:x.totalQuantity,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>N(j),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-8",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",x.totalPrice.toFixed(2)," KWD"]})})]},j))}),t.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",t.items.reduce((x,j)=>x+j.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:x=>v("notes",x.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.specialInstructions,onChange:x=>v("specialInstructions",x.target.value),placeholder:"Special manufacturing instructions or requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/job-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Create Job Order"]})]})]})})]})},xZ=()=>{const e=ge(),{id:t}=aa(),[r,a]=k.useState({jobOrderNumber:"",customerName:"",customerContact:"",customerEmail:"",orderDate:"",deliveryDate:"",priority:"Medium",status:"Draft",totalAmount:0,items:[],notes:"",specialInstructions:""}),[s,i]=k.useState({}),[o,l]=k.useState(!0),[c,u]=k.useState([]),[m,d]=k.useState(!1),f=["Low","Medium","High","Urgent"],y=["Draft","Approved","In Progress","Completed","Cancelled"];k.useEffect(()=>{(async()=>{try{d(!0);const w=await te.getBillOfMaterials({limit:1e3,status:"Active"});w.success&&u(w.data)}catch(w){console.error("Error loading BOMs:",w)}finally{d(!1)}if(!t){l(!1);return}try{l(!0);const w=await te.getJobOrder(t);if(w.success){const C=w.data;a({jobOrderNumber:C.jobOrderNumber,customerName:C.customerName,customerContact:C.customerContact||"",customerEmail:C.customerEmail,orderDate:new Date(C.orderDate).toISOString().split("T")[0],deliveryDate:new Date(C.deliveryDate).toISOString().split("T")[0],priority:C.priority,status:C.status,totalAmount:C.totalAmount,items:C.items.map(P=>({bomId:P.bomId,bomCode:P.bomCode,product:P.product,outletA:P.outletA,outletB:P.outletB,outletC:P.outletC,totalQuantity:P.totalQuantity,unitPrice:P.unitPrice,totalPrice:P.totalPrice})),notes:C.notes||"",specialInstructions:C.specialInstructions||""})}else console.error("Failed to load job order:","API Error"),alert("Failed to load job order: API Error")}catch(w){console.error("Error loading job order:",w),alert("Error loading job order: "+(w instanceof Error?w.message:"Unknown error"))}finally{l(!1)}})()},[t]);const v=()=>{const p={};return r.jobOrderNumber.trim()||(p.jobOrderNumber="Job order number is required"),r.customerName.trim()||(p.customerName="Customer name is required"),r.customerEmail.trim()||(p.customerEmail="Customer email is required"),r.orderDate||(p.orderDate="Order date is required"),r.deliveryDate||(p.deliveryDate="Delivery date is required"),r.items.length===0&&(p.items="At least one job order item is required"),i(p),Object.keys(p).length===0},h=async p=>{if(p.preventDefault(),!!v()){if(!t){alert("Job Order ID is missing");return}try{const w=r.items.reduce((E,I)=>E+I.totalPrice,0),C={jobOrderNumber:r.jobOrderNumber.trim().toUpperCase(),customerId:`CUST-${Date.now()}`,customerName:r.customerName.trim(),customerContact:r.customerContact.trim(),customerEmail:r.customerEmail.trim(),orderDate:r.orderDate,deliveryDate:r.deliveryDate,priority:r.priority,status:r.status,totalAmount:w,items:r.items.map(E=>({bomId:E.bomId,bomCode:E.bomCode,product:E.product.trim(),outletA:parseFloat(E.outletA.toString())||0,outletB:parseFloat(E.outletB.toString())||0,outletC:parseFloat(E.outletC.toString())||0,totalQuantity:E.totalQuantity,unitPrice:parseFloat(E.unitPrice.toString()),totalPrice:E.totalPrice})),notes:r.notes.trim(),specialInstructions:r.specialInstructions.trim(),updatedBy:"admin"};console.log("Updating Job Order:",C);const P=await te.updateJobOrder(t,C);P.success?(console.log("Job Order updated successfully:",P.data),e("/job-orders")):alert("Failed to update Job Order: "+P.message)}catch(w){console.error("Error updating Job Order:",w),alert("Error updating Job Order: "+(w instanceof Error?w.message:"Unknown error"))}}},g=(p,w)=>{a(C=>({...C,[p]:w})),s[p]&&i(C=>({...C,[p]:""}))},b=()=>{const p={bomId:"",bomCode:"",product:"",outletA:0,outletB:0,outletC:0,totalQuantity:0,unitPrice:0,totalPrice:0};a(w=>({...w,items:[...w.items,p]}))},N=(p,w)=>{const C=c.find(P=>P.id===w);C&&a(P=>({...P,items:P.items.map((E,I)=>{if(I===p){const M={...E,bomId:C.id,bomCode:C.bomCode,product:C.productName,unitPrice:parseFloat((C.totalCost/C.items.length).toFixed(2))};return M.totalQuantity=M.outletA+M.outletB+M.outletC,M.totalPrice=parseFloat((M.totalQuantity*M.unitPrice).toFixed(2)),M}return E})}))},x=(p,w,C)=>{a(P=>({...P,items:P.items.map((E,I)=>{if(I===p){const M={...E,[w]:C};return(w==="outletA"||w==="outletB"||w==="outletC")&&(M.totalQuantity=M.outletA+M.outletB+M.outletC),(w==="totalQuantity"||w==="unitPrice"||w==="outletA"||w==="outletB"||w==="outletC")&&(M.totalPrice=parseFloat((M.totalQuantity*M.unitPrice).toFixed(2))),M}return E})}))},j=p=>{a(w=>({...w,items:w.items.filter((C,P)=>P!==p)}))};return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading job order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Job Order"}),n.jsx("p",{className:"text-gray-600",children:"Update job order information"})]}),n.jsxs("button",{onClick:()=>e("/job-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Job Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:h,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.jobOrderNumber?"border-red-500":""}`,value:r.jobOrderNumber,onChange:p=>g("jobOrderNumber",p.target.value),placeholder:"JO-2024-001"}),s.jobOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.jobOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.customerName?"border-red-500":""}`,value:r.customerName,onChange:p=>g("customerName",p.target.value),placeholder:"ABC Manufacturing Ltd."}),s.customerName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Contact"}),n.jsx("input",{type:"text",className:"input-field",value:r.customerContact,onChange:p=>g("customerContact",p.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.customerEmail?"border-red-500":""}`,value:r.customerEmail,onChange:p=>g("customerEmail",p.target.value),placeholder:"john@abcmfg.com"}),s.customerEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.customerEmail})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.orderDate?"border-red-500":""}`,value:r.orderDate,onChange:p=>g("orderDate",p.target.value)}),s.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.deliveryDate?"border-red-500":""}`,value:r.deliveryDate,onChange:p=>g("deliveryDate",p.target.value)}),s.deliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.deliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:r.priority,onChange:p=>g("priority",p.target.value),children:f.map(p=>n.jsx("option",{value:p,children:p},p))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:p=>g("status",p.target.value),children:y.map(p=>n.jsx("option",{value:p,children:p},p))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Order Items"}),n.jsxs("button",{type:"button",onClick:b,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((p,w)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Recipe (BOM)"}),n.jsxs("select",{className:"input-field text-sm",value:p.bomId||"",onChange:C=>N(w,C.target.value),children:[n.jsx("option",{value:"",children:"Select Recipe"}),m?n.jsx("option",{disabled:!0,children:"Loading recipes..."}):c.map(C=>n.jsxs("option",{value:C.id,children:[C.bomCode," - ",C.productName]},C.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:p.product,readOnly:!0,placeholder:"Auto-filled from BOM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:p.unitPrice,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet A"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:p.outletA,onChange:C=>x(w,"outletA",parseFloat(C.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet B"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:p.outletB,onChange:C=>x(w,"outletB",parseFloat(C.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet C"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:p.outletC,onChange:C=>x(w,"outletC",parseFloat(C.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Total Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm bg-gray-100",value:p.totalQuantity,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>j(w),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-8",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",p.totalPrice.toFixed(2)," KWD"]})})]},w))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",r.items.reduce((p,w)=>p+w.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:p=>g("notes",p.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.specialInstructions,onChange:p=>g("specialInstructions",p.target.value),placeholder:"Special manufacturing instructions or requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/job-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Update Job Order"]})]})]})})]})},yZ=()=>{const e=ge(),[t,r]=k.useState([]),[a,s]=k.useState(!0),[i,o]=k.useState(null),[l,c]=k.useState(""),[u,m]=k.useState(null),[d,f]=k.useState(!1),[y,v]=k.useState(""),[h,g]=k.useState("createdAt"),[b,N]=k.useState("desc"),[x,j]=k.useState(!1),p=k.useRef(null);k.useEffect(()=>{w()},[]),k.useEffect(()=>{a||w()},[l,y,h,b]);const w=async()=>{try{s(!0),o(null);const A=await te.getPurchaseOrders({limit:1e3,search:l,status:y,sortBy:h,sortOrder:b});if(A.success){console.log("Loaded Purchase Orders:",A.data);const F=A.data.map(S=>({...S,orderDate:new Date(S.orderDate),expectedDeliveryDate:new Date(S.expectedDeliveryDate),createdAt:new Date(S.createdAt),updatedAt:new Date(S.updatedAt)}));r(F)}else o("Failed to load purchase orders")}catch(A){o(A instanceof Error?A.message:"Failed to load purchase orders"),console.error("Error loading purchase orders:",A)}finally{s(!1)}},C=t,P=A=>{switch(A){case"Completed":return"bg-green-100 text-green-800";case"Confirmed":return"bg-blue-100 text-blue-800";case"Sent":return"bg-yellow-100 text-yellow-800";case"Partial":return"bg-orange-100 text-orange-800";case"Draft":return"bg-gray-100 text-gray-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=async A=>{if(window.confirm("Are you sure you want to delete this purchase order?"))try{(await te.deletePurchaseOrder(A)).success?await w():alert("Failed to delete purchase order")}catch(F){alert("Error deleting purchase order: "+(F instanceof Error?F.message:"Unknown error")),console.error("Error deleting purchase order:",F)}},I=()=>{c(""),v(""),g("createdAt"),N("desc"),w()},M=()=>{if(t.length===0){alert("No purchase orders to export");return}const A=[["PO Number","Supplier Name","Order Date","Expected Delivery Date","Status","Payment Terms","Total Amount","Created At","Updated At","Notes"].join(","),...t.map(R=>[R.poNumber,R.supplierName,new Date(R.orderDate).toLocaleDateString(),new Date(R.expectedDeliveryDate).toLocaleDateString(),R.status,R.terms,R.totalAmount.toFixed(2),new Date(R.createdAt).toLocaleDateString(),new Date(R.updatedAt).toLocaleDateString(),R.notes||""].map($=>`"${$}"`).join(","))].join(`
`),F=new Blob([A],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a"),T=URL.createObjectURL(F);S.setAttribute("href",T),S.setAttribute("download",`purchase-orders-${new Date().toISOString().split("T")[0]}.csv`),S.style.visibility="hidden",document.body.appendChild(S),S.click(),document.body.removeChild(S)},O=()=>{var A;(A=p.current)==null||A.click()},D=async A=>{var S;const F=(S=A.target.files)==null?void 0:S[0];if(F){if(!F.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{j(!0);const R=(await F.text()).split(`
`).filter(Y=>Y.trim());if(R.length<2){alert("CSV file must contain at least a header row and one data row");return}const $=R.slice(1);let L=0,Q=0;for(const Y of $)try{const ne=Y.split(",").map(he=>he.replace(/"/g,"").trim()),fe={poNumber:ne[0]||"",supplierName:ne[1]||"",orderDate:ne[2]||new Date().toISOString().split("T")[0],expectedDeliveryDate:ne[3]||new Date().toISOString().split("T")[0],status:ne[4]||"Draft",terms:ne[5]||"Net 30",totalAmount:parseFloat(ne[6])||0,notes:ne[9]||""};(await te.createPurchaseOrder(fe)).success?L++:Q++}catch{Q++}alert(`Import completed!

Successfully imported: ${L} Purchase Orders
Errors: ${Q}`),await w()}catch(T){alert("Error importing file: "+(T instanceof Error?T.message:"Unknown error"))}finally{j(!1),p.current&&(p.current.value="")}}},B=()=>{const F=[["PO Number","Supplier Name","Order Date","Expected Delivery Date","Status","Payment Terms","Total Amount","Created At","Updated At","Notes"],["PO-001","Fresh Foods Ltd","2024-01-15","2024-01-20","Draft","Net 30","1500.00","2024-01-15","2024-01-15","Monthly produce order"],["PO-002","Kitchen Supplies Co","2024-01-16","2024-01-22","Confirmed","Net 15","2500.00","2024-01-16","2024-01-16","Equipment purchase"]].map($=>$.map(L=>`"${L}"`).join(",")).join(`
`),S=new Blob([F],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),R=URL.createObjectURL(S);T.setAttribute("href",R),T.setAttribute("download","purchase-orders-sample-template.csv"),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)},_=()=>n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Details"}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ee,{className:"h-6 w-6"})})]}),u&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"PO Number"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.poNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Supplier"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Order Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:new Date(u.orderDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expected Delivery"}),n.jsx("p",{className:"text-sm text-gray-900",children:new Date(u.expectedDeliveryDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P(u.status)}`,children:u.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Terms"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.terms})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Manual Creation"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Purchase Items"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Material Code"}),n.jsx("th",{className:"table-header",children:"Material Name"}),n.jsx("th",{className:"table-header",children:"Quantity"}),n.jsx("th",{className:"table-header",children:"Unit Price"}),n.jsx("th",{className:"table-header",children:"Received"}),n.jsx("th",{className:"table-header",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.items.map((A,F)=>n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:A.materialCode}),n.jsx("td",{className:"table-cell",children:A.materialName}),n.jsx("td",{className:"table-cell",children:A.quantity}),n.jsxs("td",{className:"table-cell",children:[A.unitPrice.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:A.receivedQuantity||0}),n.jsxs("td",{className:"table-cell font-medium",children:[A.totalPrice.toFixed(2)," KWD"]})]},F))})]})}),n.jsx("div",{className:"mt-4 text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Amount: ",u.totalAmount.toFixed(2)," KWD"]})})]}),u.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.notes})]})]})]})})});return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading purchase orders..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:w,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchase Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage supplier orders and procurement"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:w,className:"btn-secondary flex items-center",title:"Refresh purchase orders",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/purchase-orders/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Purchase Order"]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search purchase orders...",className:"input-field pl-10",value:l,onChange:A=>c(A.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{className:"input-field",value:y,onChange:A=>v(A.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Sent",children:"Sent"}),n.jsx("option",{value:"Confirmed",children:"Confirmed"}),n.jsx("option",{value:"Partial",children:"Partial"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),n.jsxs("button",{onClick:I,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:M,className:"btn-secondary flex items-center",title:"Export purchase orders to CSV",disabled:t.length===0,children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:O,className:"btn-secondary flex items-center",title:"Import purchase orders from CSV",disabled:x,children:[n.jsx(mi,{className:"h-4 w-4 mr-2"}),x?"Importing...":"Import"]}),n.jsxs("button",{onClick:B,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mt-4",children:[n.jsxs("span",{children:["Showing ",C.length," purchase orders",(l||y)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(l||y)&&n.jsx("button",{onClick:I,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"PO Number"}),n.jsx("th",{className:"table-header",children:"Supplier"}),n.jsx("th",{className:"table-header",children:"Order Date"}),n.jsx("th",{className:"table-header",children:"Expected Delivery"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Source"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(A=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:A.poNumber}),n.jsx("td",{className:"table-cell",children:A.supplierName}),n.jsx("td",{className:"table-cell",children:new Date(A.orderDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:new Date(A.expectedDeliveryDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P(A.status)}`,children:A.status})}),n.jsxs("td",{className:"table-cell font-medium",children:[A.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Manual"})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{m(A),f(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:n.jsx(Yr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/purchase-orders/edit/${A.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:n.jsx(Br,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>E(A.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx($e,{className:"h-4 w-4"})})]})})]},A.id))})]})})}),d&&n.jsx(_,{}),n.jsx("input",{type:"file",ref:p,onChange:D,accept:".csv",style:{display:"none"}})]})},gZ=()=>{const e=ge(),[t,r]=k.useState({purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",supplierAddress:"",orderDate:"",expectedDeliveryDate:"",priority:"Medium",status:"Draft",paymentTerms:"Net 30",shippingMethod:"Standard",totalAmount:0,items:[],notes:"",specialInstructions:""}),[a,s]=k.useState({}),i=["Low","Medium","High","Urgent"],o=["Draft","Approved","Sent","Received","Cancelled"],l=["Net 15","Net 30","Net 45","Net 60","COD","Prepaid"],c=["Standard","Express","Overnight","Pickup"],u=()=>{const h={};return t.purchaseOrderNumber.trim()||(h.purchaseOrderNumber="Purchase order number is required"),t.supplierName.trim()||(h.supplierName="Supplier name is required"),t.supplierEmail.trim()||(h.supplierEmail="Supplier email is required"),t.orderDate||(h.orderDate="Order date is required"),t.expectedDeliveryDate||(h.expectedDeliveryDate="Expected delivery date is required"),t.items.length===0&&(h.items="At least one purchase order item is required"),s(h),Object.keys(h).length===0},m=h=>{if(h.preventDefault(),!u())return;const g=t.items.reduce((N,x)=>N+(x.totalPrice||0),0),b={id:Date.now().toString(),poNumber:t.purchaseOrderNumber,supplierId:"SUP-001",supplierName:t.supplierName,orderDate:new Date(t.orderDate).toISOString(),expectedDeliveryDate:new Date(t.expectedDeliveryDate).toISOString(),status:t.status,totalAmount:g,items:t.items.map(N=>({materialId:N.materialId,materialCode:N.materialCode,materialName:N.materialName,quantity:N.quantity,unitPrice:N.unitPrice,totalPrice:N.totalPrice})),terms:t.paymentTerms,notes:t.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"};console.log("Creating Purchase Order:",b),e("/purchase-orders")},d=(h,g)=>{r(b=>({...b,[h]:g})),a[h]&&s(b=>({...b,[h]:""}))},f=()=>{const h={materialId:"",materialCode:"",materialName:"",quantity:0,unitPrice:0,totalPrice:0};r(g=>({...g,items:[...g.items,h]}))},y=(h,g,b)=>{r(N=>({...N,items:N.items.map((x,j)=>{if(j===h){const p={...x,[g]:b};return(g==="quantity"||g==="unitPrice")&&(p.totalPrice=p.quantity*p.unitPrice),p}return x})}))},v=h=>{r(g=>({...g,items:g.items.filter((b,N)=>N!==h)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Purchase Order"}),n.jsx("p",{className:"text-gray-600",children:"Create a new purchase order for materials"})]}),n.jsxs("button",{onClick:()=>e("/purchase-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Purchase Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:m,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Supplier Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.purchaseOrderNumber?"border-red-500":""}`,value:t.purchaseOrderNumber,onChange:h=>d("purchaseOrderNumber",h.target.value),placeholder:"PO-2024-001"}),a.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.supplierName?"border-red-500":""}`,value:t.supplierName,onChange:h=>d("supplierName",h.target.value),placeholder:"ABC Steel Suppliers"}),a.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:t.supplierContact,onChange:h=>d("supplierContact",h.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.supplierEmail?"border-red-500":""}`,value:t.supplierEmail,onChange:h=>d("supplierEmail",h.target.value),placeholder:"john@abcsteel.com"}),a.supplierEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.supplierEmail})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Address"}),n.jsx("textarea",{className:"input-field",rows:2,value:t.supplierAddress,onChange:h=>d("supplierAddress",h.target.value),placeholder:"123 Industrial Street, Manufacturing District, City, State 12345"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.orderDate?"border-red-500":""}`,value:t.orderDate,onChange:h=>d("orderDate",h.target.value)}),a.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.expectedDeliveryDate?"border-red-500":""}`,value:t.expectedDeliveryDate,onChange:h=>d("expectedDeliveryDate",h.target.value)}),a.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.expectedDeliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:t.priority,onChange:h=>d("priority",h.target.value),children:i.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:h=>d("status",h.target.value),children:o.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms"}),n.jsx("select",{className:"input-field",value:t.paymentTerms,onChange:h=>d("paymentTerms",h.target.value),children:l.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Method"}),n.jsx("select",{className:"input-field",value:t.shippingMethod,onChange:h=>d("shippingMethod",h.target.value),children:c.map(h=>n.jsx("option",{value:h,children:h},h))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Items"}),n.jsxs("button",{type:"button",onClick:f,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:a.items}),n.jsx("div",{className:"space-y-4",children:t.items.map((h,g)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:h.materialCode,onChange:b=>y(g,"materialCode",b.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:h.materialName,onChange:b=>y(g,"materialName",b.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:h.quantity,onChange:b=>y(g,"quantity",parseFloat(b.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:h.unitPrice,onChange:b=>y(g,"unitPrice",parseFloat(b.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Delivery Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:"",onChange:b=>y(g,"deliveryDate",b.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:"",onChange:b=>y(g,"specifications",b.target.value),placeholder:"Grade A, 12mm"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>v(g),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",(h.totalPrice||0).toFixed(2)," KWD"]})})]},g))}),t.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",t.items.reduce((h,g)=>h+(g.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:h=>d("notes",h.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.specialInstructions,onChange:h=>d("specialInstructions",h.target.value),placeholder:"Special delivery instructions or quality requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/purchase-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Create Purchase Order"]})]})]})})]})},vZ=()=>{const e=ge(),{id:t}=aa(),[r,a]=k.useState({purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",supplierAddress:"",orderDate:"",expectedDeliveryDate:"",priority:"Medium",status:"Draft",shippingMethod:"Standard",totalAmount:0,items:[],notes:"",specialInstructions:""}),[s,i]=k.useState({}),[o,l]=k.useState(!0),c=["Low","Medium","High","Urgent"],u=["Draft","Approved","Sent","Received","Cancelled"],m=["Net 15","Net 30","Net 45","Net 60","COD","Prepaid"],d=["Standard","Express","Overnight","Pickup"],f={id:"1",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"ABC Steel Suppliers",orderDate:new Date("2024-01-15").toISOString(),expectedDeliveryDate:new Date("2024-02-15").toISOString(),status:"Confirmed",totalAmount:15750,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:100,unitPrice:45.5,totalPrice:4550},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:50,unitPrice:125,totalPrice:6250},{materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",quantity:200,unitPrice:23.75,totalPrice:4750}],notes:"Supplier requires advance payment for expedited delivery.",createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-20").toISOString(),createdBy:"admin",updatedBy:"admin"};k.useEffect(()=>{setTimeout(()=>{a({purchaseOrderNumber:f.poNumber,supplierName:f.supplierName,supplierContact:"John Smith",supplierEmail:"john@abcsteel.com",supplierAddress:"123 Industrial Street",orderDate:f.orderDate.split("T")[0],expectedDeliveryDate:f.expectedDeliveryDate.split("T")[0],priority:"High",status:"Approved",shippingMethod:"Express",totalAmount:f.totalAmount,items:f.items.map(x=>({...x,totalAmount:x.totalPrice})),notes:f.notes,specialInstructions:"Special handling required"}),l(!1)},500)},[t]);const y=()=>{const x={};return r.purchaseOrderNumber.trim()||(x.purchaseOrderNumber="Purchase order number is required"),r.supplierName.trim()||(x.supplierName="Supplier name is required"),r.supplierEmail.trim()||(x.supplierEmail="Supplier email is required"),r.orderDate||(x.orderDate="Order date is required"),r.expectedDeliveryDate||(x.expectedDeliveryDate="Expected delivery date is required"),r.items.length===0&&(x.items="At least one purchase order item is required"),i(x),Object.keys(x).length===0},v=x=>{if(x.preventDefault(),!y())return;const j=r.items.reduce((w,C)=>w+(C.totalPrice||0),0),p={...f,poNumber:r.purchaseOrderNumber,supplierName:r.supplierName,orderDate:new Date(r.orderDate).toISOString(),expectedDeliveryDate:new Date(r.expectedDeliveryDate).toISOString(),status:r.status,totalAmount:j,items:r.items,notes:r.notes,updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating Purchase Order:",p),e("/purchase-orders")},h=(x,j)=>{a(p=>({...p,[x]:j})),s[x]&&i(p=>({...p,[x]:""}))},g=()=>{const x={materialId:"",materialCode:"",materialName:"",quantity:0,unitPrice:0,totalPrice:0,totalAmount:0};a(j=>({...j,items:[...j.items,x]}))},b=(x,j,p)=>{a(w=>({...w,items:w.items.map((C,P)=>{if(P===x){const E={...C,[j]:p};return(j==="quantity"||j==="unitPrice")&&(E.totalPrice=E.quantity*E.unitPrice),E}return C})}))},N=x=>{a(j=>({...j,items:j.items.filter((p,w)=>w!==x)}))};return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading purchase order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Purchase Order"}),n.jsx("p",{className:"text-gray-600",children:"Update purchase order information"})]}),n.jsxs("button",{onClick:()=>e("/purchase-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Purchase Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:v,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Supplier Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.purchaseOrderNumber?"border-red-500":""}`,value:r.purchaseOrderNumber,onChange:x=>h("purchaseOrderNumber",x.target.value),placeholder:"PO-2024-001"}),s.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.supplierName?"border-red-500":""}`,value:r.supplierName,onChange:x=>h("supplierName",x.target.value),placeholder:"ABC Steel Suppliers"}),s.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:r.supplierContact,onChange:x=>h("supplierContact",x.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.supplierEmail?"border-red-500":""}`,value:r.supplierEmail,onChange:x=>h("supplierEmail",x.target.value),placeholder:"john@abcsteel.com"}),s.supplierEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.supplierEmail})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Address"}),n.jsx("textarea",{className:"input-field",rows:2,value:r.supplierAddress,onChange:x=>h("supplierAddress",x.target.value),placeholder:"123 Industrial Street, Manufacturing District, City, State 12345"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.orderDate?"border-red-500":""}`,value:r.orderDate,onChange:x=>h("orderDate",x.target.value)}),s.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.expectedDeliveryDate?"border-red-500":""}`,value:r.expectedDeliveryDate,onChange:x=>h("expectedDeliveryDate",x.target.value)}),s.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.expectedDeliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:r.priority,onChange:x=>h("priority",x.target.value),children:c.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:x=>h("status",x.target.value),children:u.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms"}),n.jsx("select",{className:"input-field",value:"",onChange:x=>h("paymentTerms",x.target.value),children:m.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Method"}),n.jsx("select",{className:"input-field",value:r.shippingMethod,onChange:x=>h("shippingMethod",x.target.value),children:d.map(x=>n.jsx("option",{value:x,children:x},x))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Items"}),n.jsxs("button",{type:"button",onClick:g,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((x,j)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:x.materialCode,onChange:p=>b(j,"materialCode",p.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:x.materialName,onChange:p=>b(j,"materialName",p.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:x.quantity,onChange:p=>b(j,"quantity",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:x.unitPrice,onChange:p=>b(j,"unitPrice",parseFloat(p.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Delivery Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:"",onChange:p=>b(j,"deliveryDate",p.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:"",onChange:p=>b(j,"specifications",p.target.value),placeholder:"Grade A, 12mm"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>N(j),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",(x.totalPrice||0).toFixed(2)," KWD"]})})]},j))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",r.items.reduce((x,j)=>x+(j.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:x=>h("notes",x.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.specialInstructions,onChange:x=>h("specialInstructions",x.target.value),placeholder:"Special delivery instructions or quality requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/purchase-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Update Purchase Order"]})]})]})})]})},bZ=()=>{const e=ge(),[t,r]=k.useState([{id:"1",grnNumber:"GRN-2024-001",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"Steel Suppliers Ltd.",receiptDate:new Date("2024-01-20"),status:"Approved",totalAmount:4550,items:[{poItemId:"PO-ITEM-001",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",orderedQuantity:100,receivedQuantity:100,unitPrice:45.5,totalPrice:4550,qualityStatus:"Accepted",remarks:"Good quality"}],warehouseId:"WH-001",warehouseName:"Main Warehouse",receivedBy:"John Doe",notes:"All items received in good condition",createdAt:new Date("2024-01-20").toISOString(),updatedAt:new Date("2024-01-20").toISOString(),createdBy:"admin",updatedBy:"admin"}]),[a,s]=k.useState(""),[i,o]=k.useState(null),[l,c]=k.useState(!1),[u,m]=k.useState(!1),d=k.useRef(null),f=t.filter(x=>x.grnNumber.toLowerCase().includes(a.toLowerCase())||x.supplierName.toLowerCase().includes(a.toLowerCase())),y=x=>{switch(x){case"Approved":return"bg-green-100 text-green-800";case"Draft":return"bg-gray-100 text-gray-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=x=>{window.confirm("Are you sure you want to delete this GRN?")&&r(t.filter(j=>j.id!==x))},h=()=>{if(f.length===0){alert("No GRNs to export");return}const x=[["GRN Number","PO Number","Supplier Name","Receipt Date","Status","Total Amount","Created By","Updated By"].join(","),...f.map(C=>[C.grnNumber,C.poNumber,C.supplierName,C.receiptDate.toLocaleDateString(),C.status,C.totalAmount.toFixed(2),C.createdBy,C.updatedBy].map(P=>`"${P}"`).join(","))].join(`
`),j=new Blob([x],{type:"text/csv;charset=utf-8;"}),p=document.createElement("a"),w=URL.createObjectURL(j);p.setAttribute("href",w),p.setAttribute("download",`grn-receipts-${new Date().toISOString().split("T")[0]}.csv`),p.style.visibility="hidden",document.body.appendChild(p),p.click(),document.body.removeChild(p)},g=()=>{var x;(x=d.current)==null||x.click()},b=async x=>{var p;const j=(p=x.target.files)==null?void 0:p[0];if(j){if(!j.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{m(!0);const C=(await j.text()).split(`
`).filter(M=>M.trim());if(C.length<2){alert("CSV file must contain at least a header row and one data row");return}const P=C.slice(1);let E=0,I=0;for(const M of P)try{const O=M.split(",").map(B=>B.replace(/"/g,"").trim()),D={id:`grn-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,grnNumber:O[0]||"",poNumber:O[1]||"",supplierId:"SUP-001",supplierName:O[2]||"",warehouseId:"WH-001",warehouseName:"Main Warehouse",receiptDate:new Date(O[3]||new Date().toISOString().split("T")[0]),status:O[4]||"Draft",totalAmount:parseFloat(O[5])||0,items:[],receivedBy:O[6]||"admin",createdBy:O[6]||"admin",updatedBy:O[7]||"admin",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r(B=>[...B,D]),E++}catch{I++}alert(`Import completed!

Successfully imported: ${E} GRNs
Errors: ${I}`)}catch(w){alert("Error importing file: "+(w instanceof Error?w.message:"Unknown error"))}finally{m(!1),d.current&&(d.current.value="")}}},N=()=>{const j=[["GRN Number","PO Number","Supplier Name","Receipt Date","Status","Total Amount","Created By","Updated By"],["GRN-2024-003","PO-2024-003","Fresh Foods Ltd","2024-01-22","Approved","1200.00","admin","admin"],["GRN-2024-004","PO-2024-004","Kitchen Supplies Co","2024-01-23","Draft","850.00","admin","admin"]].map(P=>P.map(E=>`"${E}"`).join(",")).join(`
`),p=new Blob([j],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),C=URL.createObjectURL(p);w.setAttribute("href",C),w.setAttribute("download","grn-sample-template.csv"),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Good Receipt Notes"}),n.jsx("p",{className:"text-gray-600",children:"Manage incoming material receipts"})]}),n.jsxs("button",{onClick:()=>e("/good-receipt-notes/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create GRN"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search GRNs...",className:"input-field pl-10",value:a,onChange:x=>s(x.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs("button",{onClick:h,className:"btn-secondary flex items-center",title:"Export GRNs to CSV",disabled:f.length===0,children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:g,className:"btn-secondary flex items-center",title:"Import GRNs from CSV",disabled:u,children:[n.jsx(mi,{className:"h-4 w-4 mr-2"}),u?"Importing...":"Import"]}),n.jsxs("button",{onClick:N,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"GRN Number"}),n.jsx("th",{className:"table-header",children:"PO Number"}),n.jsx("th",{className:"table-header",children:"Supplier"}),n.jsx("th",{className:"table-header",children:"Receipt Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Warehouse"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:x.grnNumber}),n.jsx("td",{className:"table-cell",children:x.poNumber}),n.jsx("td",{className:"table-cell",children:x.supplierName}),n.jsx("td",{className:"table-cell",children:x.receiptDate.toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(x.status)}`,children:x.status})}),n.jsx("td",{className:"table-cell",children:x.warehouseName}),n.jsxs("td",{className:"table-cell font-medium",children:[x.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{o(x),c(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:n.jsx(Yr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/good-receipt-notes/edit/${x.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:n.jsx(Br,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>v(x.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx($e,{className:"h-4 w-4"})})]})})]},x.id))})]})})}),n.jsx("input",{type:"file",ref:d,onChange:b,accept:".csv",style:{display:"none"}})]})},jZ=()=>{const e=ge(),[t,r]=k.useState({grnNumber:"",purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",receiptDate:"",receivedBy:"",inspectedBy:"",status:"Draft",warehouseLocation:"",totalAmount:0,items:[],notes:"",qualityRemarks:"",deliveryChallanNumber:"",transporterName:"",vehicleNumber:""}),[a,s]=k.useState({}),i=["Draft","Approved","Rejected"],o=()=>{const f={};return t.grnNumber.trim()||(f.grnNumber="GRN number is required"),t.purchaseOrderNumber.trim()||(f.purchaseOrderNumber="Purchase order number is required"),t.supplierName.trim()||(f.supplierName="Supplier name is required"),t.receiptDate||(f.receiptDate="Receipt date is required"),t.receivedBy.trim()||(f.receivedBy="Received by is required"),t.items.length===0&&(f.items="At least one GRN item is required"),s(f),Object.keys(f).length===0},l=f=>{if(f.preventDefault(),!o())return;const y=t.items.reduce((h,g)=>h+(g.totalPrice||0),0),v={id:Date.now().toString(),grnNumber:t.grnNumber,poNumber:t.purchaseOrderNumber,supplierId:"SUP-001",supplierName:t.supplierName,receiptDate:new Date(t.receiptDate),status:t.status,totalAmount:y,items:t.items.map(h=>({poItemId:h.poItemId,materialId:h.materialId,materialCode:h.materialCode,materialName:h.materialName,orderedQuantity:h.orderedQuantity,receivedQuantity:h.receivedQuantity,unitPrice:h.unitPrice,totalPrice:h.totalPrice,qualityStatus:h.qualityStatus,remarks:h.remarks})),warehouseId:"WH-001",warehouseName:t.warehouseLocation,receivedBy:t.receivedBy,notes:t.notes,createdAt:new Date,updatedAt:new Date,createdBy:"admin",updatedBy:"admin"};console.log("Creating GRN:",v),e("/good-receipt-notes")},c=(f,y)=>{r(v=>({...v,[f]:y})),a[f]&&s(v=>({...v,[f]:""}))},u=()=>{const f={poItemId:"",materialId:"",materialCode:"",materialName:"",orderedQuantity:0,receivedQuantity:0,unitPrice:0,totalPrice:0,qualityStatus:"Accepted",remarks:"",acceptedQuantity:0,rejectedQuantity:0,totalAmount:0,specifications:"",batchNumber:"",expiryDate:""};r(y=>({...y,items:[...y.items,f]}))},m=(f,y,v)=>{r(h=>({...h,items:h.items.map((g,b)=>{if(b===f){const N={...g,[y]:v};return(y==="receivedQuantity"||y==="unitPrice")&&(N.totalPrice=N.receivedQuantity*N.unitPrice),N}return g})}))},d=f=>{r(y=>({...y,items:y.items.filter((v,h)=>h!==f)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New GRN"}),n.jsx("p",{className:"text-gray-600",children:"Create a new good receipt note"})]}),n.jsxs("button",{onClick:()=>e("/good-receipt-notes"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to GRNs"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:l,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GRN Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.grnNumber?"border-red-500":""}`,value:t.grnNumber,onChange:f=>c("grnNumber",f.target.value),placeholder:"GRN-2024-001"}),a.grnNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.grnNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.purchaseOrderNumber?"border-red-500":""}`,value:t.purchaseOrderNumber,onChange:f=>c("purchaseOrderNumber",f.target.value),placeholder:"PO-2024-001"}),a.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.supplierName?"border-red-500":""}`,value:t.supplierName,onChange:f=>c("supplierName",f.target.value),placeholder:"ABC Steel Suppliers"}),a.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:t.supplierContact,onChange:f=>c("supplierContact",f.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email"}),n.jsx("input",{type:"email",className:"input-field",value:t.supplierEmail,onChange:f=>c("supplierEmail",f.target.value),placeholder:"john@abcsteel.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.receiptDate?"border-red-500":""}`,value:t.receiptDate,onChange:f=>c("receiptDate",f.target.value)}),a.receiptDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.receiptDate})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Receipt Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By *"}),n.jsx("input",{type:"text",className:`input-field ${a.receivedBy?"border-red-500":""}`,value:t.receivedBy,onChange:f=>c("receivedBy",f.target.value),placeholder:"Warehouse Manager"}),a.receivedBy&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.receivedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inspected By"}),n.jsx("input",{type:"text",className:"input-field",value:t.inspectedBy,onChange:f=>c("inspectedBy",f.target.value),placeholder:"Quality Inspector"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:f=>c("status",f.target.value),children:i.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Location"}),n.jsx("input",{type:"text",className:"input-field",value:t.warehouseLocation,onChange:f=>c("warehouseLocation",f.target.value),placeholder:"Main Warehouse - Zone A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Challan Number"}),n.jsx("input",{type:"text",className:"input-field",value:t.deliveryChallanNumber,onChange:f=>c("deliveryChallanNumber",f.target.value),placeholder:"DC-2024-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transporter Name"}),n.jsx("input",{type:"text",className:"input-field",value:t.transporterName,onChange:f=>c("transporterName",f.target.value),placeholder:"ABC Logistics"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number"}),n.jsx("input",{type:"text",className:"input-field",value:t.vehicleNumber,onChange:f=>c("vehicleNumber",f.target.value),placeholder:"MH-12-AB-1234"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"GRN Items"}),n.jsxs("button",{type:"button",onClick:u,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:a.items}),n.jsx("div",{className:"space-y-4",children:t.items.map((f,y)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.materialCode,onChange:v=>m(y,"materialCode",v.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.materialName,onChange:v=>m(y,"materialName",v.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ordered Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.orderedQuantity,onChange:v=>m(y,"orderedQuantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Received Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.receivedQuantity,onChange:v=>m(y,"receivedQuantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Accepted Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.receivedQuantity,onChange:v=>m(y,"receivedQuantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:f.unitPrice,onChange:v=>m(y,"unitPrice",parseFloat(v.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Batch Number"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.batchNumber||"",onChange:v=>m(y,"batchNumber",v.target.value),placeholder:"B001"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>d(y),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"col-span-8",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.specifications||"",onChange:v=>m(y,"specifications",v.target.value),placeholder:"Grade A, 12mm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Expiry Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:f.expiryDate||"",onChange:v=>m(y,"expiryDate",v.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quality Status"}),n.jsxs("select",{className:"input-field text-sm",value:f.qualityStatus,onChange:v=>m(y,"qualityStatus",v.target.value),children:[n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Total Amount: ",(f.totalPrice||0).toFixed(2)," KWD"]})]})]},y))}),t.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total GRN Amount: ",t.items.reduce((f,y)=>f+(y.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:f=>c("notes",f.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Remarks"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.qualityRemarks,onChange:f=>c("qualityRemarks",f.target.value),placeholder:"Quality inspection remarks and observations"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/good-receipt-notes"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Create GRN"]})]})]})})]})},NZ=()=>{const e=ge(),{id:t}=aa(),[r,a]=k.useState({grnNumber:"",purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",receiptDate:"",receivedBy:"",inspectedBy:"",status:"Draft",warehouseLocation:"",totalAmount:0,items:[],notes:"",qualityRemarks:"",deliveryChallanNumber:"",transporterName:"",vehicleNumber:""}),[s,i]=k.useState({}),[o,l]=k.useState(!0),c=["Draft","Approved","Rejected"],u={id:"1",grnNumber:"GRN-2024-001",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"ABC Steel Suppliers",receiptDate:new Date("2024-01-20"),status:"Approved",totalAmount:15750,items:[{poItemId:"POI-001",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",orderedQuantity:100,receivedQuantity:100,unitPrice:45.5,totalPrice:4550,qualityStatus:"Accepted",remarks:"Good quality"},{poItemId:"POI-002",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",orderedQuantity:50,receivedQuantity:50,unitPrice:125,totalPrice:6250,qualityStatus:"Accepted",remarks:"Excellent quality"},{poItemId:"POI-003",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",orderedQuantity:200,receivedQuantity:200,unitPrice:23.75,totalPrice:4750,qualityStatus:"Accepted",remarks:"Good quality"}],warehouseId:"WH-001",warehouseName:"Main Warehouse",receivedBy:"Warehouse Manager",notes:"All materials received in good condition.",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-21"),createdBy:"admin",updatedBy:"admin"};k.useEffect(()=>{setTimeout(()=>{a({grnNumber:u.grnNumber,purchaseOrderNumber:u.poNumber,supplierName:u.supplierName,supplierContact:"John Smith",supplierEmail:"john@abcsteel.com",receiptDate:u.receiptDate.toISOString().split("T")[0],receivedBy:u.receivedBy,inspectedBy:"Quality Inspector",status:u.status,warehouseLocation:u.warehouseName,totalAmount:u.totalAmount,items:u.items.map(g=>({...g,acceptedQuantity:g.receivedQuantity,rejectedQuantity:0,totalAmount:g.totalPrice,specifications:"Standard specifications",batchNumber:"BATCH-001",expiryDate:"2025-12-31"})),notes:u.notes,qualityRemarks:"Quality inspection completed",deliveryChallanNumber:"DC-2024-001",transporterName:"ABC Logistics",vehicleNumber:"MH-12-AB-1234"}),l(!1)},500)},[t]);const m=()=>{const g={};return r.grnNumber.trim()||(g.grnNumber="GRN number is required"),r.purchaseOrderNumber.trim()||(g.purchaseOrderNumber="Purchase order number is required"),r.supplierName.trim()||(g.supplierName="Supplier name is required"),r.receiptDate||(g.receiptDate="Receipt date is required"),r.receivedBy.trim()||(g.receivedBy="Received by is required"),r.items.length===0&&(g.items="At least one GRN item is required"),i(g),Object.keys(g).length===0},d=g=>{if(g.preventDefault(),!m())return;const b=r.items.reduce((x,j)=>x+j.totalAmount,0),N={...u,grnNumber:r.grnNumber,poNumber:r.purchaseOrderNumber,supplierName:r.supplierName,receiptDate:new Date(r.receiptDate),receivedBy:r.receivedBy,status:r.status,warehouseName:r.warehouseLocation,totalAmount:b,items:r.items.map(x=>({poItemId:x.poItemId,materialId:x.materialId,materialCode:x.materialCode,materialName:x.materialName,orderedQuantity:x.orderedQuantity,receivedQuantity:x.receivedQuantity,unitPrice:x.unitPrice,totalPrice:x.totalAmount,qualityStatus:x.qualityStatus,remarks:x.remarks})),notes:r.notes,updatedAt:new Date,updatedBy:"admin"};console.log("Updating GRN:",N),e("/good-receipt-notes")},f=(g,b)=>{a(N=>({...N,[g]:b})),s[g]&&i(N=>({...N,[g]:""}))},y=()=>{const g={poItemId:"",materialId:"",materialCode:"",materialName:"",orderedQuantity:0,receivedQuantity:0,unitPrice:0,totalPrice:0,qualityStatus:"Accepted",remarks:"",acceptedQuantity:0,rejectedQuantity:0,totalAmount:0,specifications:"",batchNumber:"",expiryDate:""};a(b=>({...b,items:[...b.items,g]}))},v=(g,b,N)=>{a(x=>({...x,items:x.items.map((j,p)=>{if(p===g){const w={...j,[b]:N};return(b==="acceptedQuantity"||b==="unitPrice")&&(w.totalAmount=w.acceptedQuantity*w.unitPrice),w}return j})}))},h=g=>{a(b=>({...b,items:b.items.filter((N,x)=>x!==g)}))};return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading GRN data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit GRN"}),n.jsx("p",{className:"text-gray-600",children:"Update good receipt note information"})]}),n.jsxs("button",{onClick:()=>e("/good-receipt-notes"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to GRNs"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:d,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GRN Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.grnNumber?"border-red-500":""}`,value:r.grnNumber,onChange:g=>f("grnNumber",g.target.value),placeholder:"GRN-2024-001"}),s.grnNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.grnNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.purchaseOrderNumber?"border-red-500":""}`,value:r.purchaseOrderNumber,onChange:g=>f("purchaseOrderNumber",g.target.value),placeholder:"PO-2024-001"}),s.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.supplierName?"border-red-500":""}`,value:r.supplierName,onChange:g=>f("supplierName",g.target.value),placeholder:"ABC Steel Suppliers"}),s.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:r.supplierContact,onChange:g=>f("supplierContact",g.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email"}),n.jsx("input",{type:"email",className:"input-field",value:r.supplierEmail,onChange:g=>f("supplierEmail",g.target.value),placeholder:"john@abcsteel.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.receiptDate?"border-red-500":""}`,value:r.receiptDate,onChange:g=>f("receiptDate",g.target.value)}),s.receiptDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.receiptDate})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Receipt Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By *"}),n.jsx("input",{type:"text",className:`input-field ${s.receivedBy?"border-red-500":""}`,value:r.receivedBy,onChange:g=>f("receivedBy",g.target.value),placeholder:"Warehouse Manager"}),s.receivedBy&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.receivedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inspected By"}),n.jsx("input",{type:"text",className:"input-field",value:r.inspectedBy,onChange:g=>f("inspectedBy",g.target.value),placeholder:"Quality Inspector"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:g=>f("status",g.target.value),children:c.map(g=>n.jsx("option",{value:g,children:g},g))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Location"}),n.jsx("input",{type:"text",className:"input-field",value:r.warehouseLocation,onChange:g=>f("warehouseLocation",g.target.value),placeholder:"Main Warehouse - Zone A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Challan Number"}),n.jsx("input",{type:"text",className:"input-field",value:r.deliveryChallanNumber,onChange:g=>f("deliveryChallanNumber",g.target.value),placeholder:"DC-2024-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transporter Name"}),n.jsx("input",{type:"text",className:"input-field",value:r.transporterName,onChange:g=>f("transporterName",g.target.value),placeholder:"ABC Logistics"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number"}),n.jsx("input",{type:"text",className:"input-field",value:r.vehicleNumber,onChange:g=>f("vehicleNumber",g.target.value),placeholder:"MH-12-AB-1234"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"GRN Items"}),n.jsxs("button",{type:"button",onClick:y,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((g,b)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:g.materialCode,onChange:N=>v(b,"materialCode",N.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:g.materialName,onChange:N=>v(b,"materialName",N.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ordered Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:g.orderedQuantity,onChange:N=>v(b,"orderedQuantity",parseFloat(N.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Received Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:g.receivedQuantity,onChange:N=>v(b,"receivedQuantity",parseFloat(N.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Accepted Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:g.acceptedQuantity,onChange:N=>v(b,"acceptedQuantity",parseFloat(N.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:g.unitPrice,onChange:N=>v(b,"unitPrice",parseFloat(N.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Batch Number"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:g.batchNumber,onChange:N=>v(b,"batchNumber",N.target.value),placeholder:"B001"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>h(b),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"col-span-8",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:g.specifications,onChange:N=>v(b,"specifications",N.target.value),placeholder:"Grade A, 12mm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Expiry Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:g.expiryDate,onChange:N=>v(b,"expiryDate",N.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quality Status"}),n.jsxs("select",{className:"input-field text-sm",value:g.qualityStatus,onChange:N=>v(b,"qualityStatus",N.target.value),children:[n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Total Amount: ",g.totalAmount.toFixed(2)," KWD"]})]})]},b))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total GRN Amount: ",r.items.reduce((g,b)=>g+b.totalAmount,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:g=>f("notes",g.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Remarks"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.qualityRemarks,onChange:g=>f("qualityRemarks",g.target.value),placeholder:"Quality inspection remarks and observations"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/good-receipt-notes"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Update GRN"]})]})]})})]})},wZ=()=>{const e=ge(),[t,r]=k.useState([{id:"1",warehouseCode:"WH-001",warehouseName:"Main Warehouse",description:"Primary storage facility",address:{street:"123 Industrial Ave",city:"Industrial City",state:"State",zipCode:"12345",country:"Country"},capacity:1e4,currentCapacity:7500,managerId:"MGR-001",managerName:"John Smith",isActive:!0,storageTypes:["Dry Storage","Cold Storage"],createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-15").toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"2",warehouseCode:"WH-002",warehouseName:"Secondary Warehouse",description:"Secondary storage facility",address:{street:"456 Storage St",city:"Storage City",state:"State",zipCode:"67890",country:"Country"},capacity:5e3,currentCapacity:2e3,managerId:"MGR-002",managerName:"Jane Doe",isActive:!0,storageTypes:["Dry Storage"],createdAt:new Date("2024-01-16").toISOString(),updatedAt:new Date("2024-01-16").toISOString(),createdBy:"admin",updatedBy:"admin"}]),[a,s]=k.useState(""),i=t.filter(u=>u.warehouseName.toLowerCase().includes(a.toLowerCase())||u.warehouseCode.toLowerCase().includes(a.toLowerCase())),o=(u,m)=>u/m*100,l=u=>u>=90?"bg-red-500":u>=75?"bg-yellow-500":"bg-green-500",c=u=>{window.confirm("Are you sure you want to delete this warehouse?")&&r(t.filter(m=>m.id!==u))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Warehouse Master"}),n.jsx("p",{className:"text-gray-600",children:"Manage warehouse locations and capacity"})]}),n.jsxs("button",{onClick:()=>e("/warehouse-master/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Warehouse"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search warehouses...",className:"input-field pl-10",value:a,onChange:u=>s(u.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(u=>{const m=o(u.currentCapacity,u.capacity);return n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:u.warehouseName}),n.jsx("p",{className:"text-sm text-gray-600",children:u.warehouseCode})]}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(fu,{className:"h-4 w-4 mr-2"}),n.jsxs("span",{children:[u.address.city,", ",u.address.state]})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Pl,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:u.managerName})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[n.jsx("span",{children:"Capacity Usage"}),n.jsxs("span",{children:[m.toFixed(1),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${l(m)}`,style:{width:`${m}%`}})}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.currentCapacity.toLocaleString()," / ",u.capacity.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Storage Types:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:u.storageTypes.map((d,f)=>n.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:d},f))})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-4 pt-4 border-t",children:[n.jsx("button",{onClick:()=>e(`/warehouse-master/edit/${u.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:n.jsx(Br,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>c(u.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx($e,{className:"h-4 w-4"})})]})]},u.id)})})]})},SZ=()=>{const e=ge(),[t,r]=k.useState({warehouseCode:"",warehouseName:"",warehouseType:"Main",location:"",address:"",city:"",state:"",country:"",postalCode:"",contactPerson:"",contactPhone:"",contactEmail:"",capacity:"",capacityUnit:"SQM",status:"Active",operatingHours:"",timezone:"",notes:"",specialRequirements:""}),[a,s]=k.useState({}),i=["Main","Sub","Transit","Cold Storage","Hazardous"],o=["Active","Inactive","Maintenance","Closed"],l=["SQM","CBM","KG","TON"],c=()=>{const d={};return t.warehouseCode.trim()||(d.warehouseCode="Warehouse code is required"),t.warehouseName.trim()||(d.warehouseName="Warehouse name is required"),t.location.trim()||(d.location="Location is required"),t.address.trim()||(d.address="Address is required"),t.city.trim()||(d.city="City is required"),t.state.trim()||(d.state="State is required"),t.country.trim()||(d.country="Country is required"),t.contactPerson.trim()||(d.contactPerson="Contact person is required"),t.contactPhone.trim()||(d.contactPhone="Contact phone is required"),t.contactEmail.trim()||(d.contactEmail="Contact email is required"),s(d),Object.keys(d).length===0},u=d=>{if(d.preventDefault(),!c())return;const f={id:Date.now().toString(),warehouseCode:t.warehouseCode,warehouseName:t.warehouseName,description:t.notes,address:{street:t.address,city:t.city,state:t.state,country:t.country,zipCode:t.postalCode},capacity:parseFloat(t.capacity)||0,currentCapacity:0,managerId:"MGR-001",managerName:t.contactPerson,isActive:t.status==="Active",storageTypes:["Dry Storage"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"};console.log("Creating Warehouse:",f),e("/warehouse-master")},m=(d,f)=>{r(y=>({...y,[d]:f})),a[d]&&s(y=>({...y,[d]:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Warehouse"}),n.jsx("p",{className:"text-gray-600",children:"Create a new warehouse location"})]}),n.jsxs("button",{onClick:()=>e("/warehouse-master"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Warehouses"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:u,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Code *"}),n.jsx("input",{type:"text",className:`input-field ${a.warehouseCode?"border-red-500":""}`,value:t.warehouseCode,onChange:d=>m("warehouseCode",d.target.value),placeholder:"WH-001"}),a.warehouseCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.warehouseCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.warehouseName?"border-red-500":""}`,value:t.warehouseName,onChange:d=>m("warehouseName",d.target.value),placeholder:"Main Warehouse"}),a.warehouseName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.warehouseName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Type"}),n.jsx("select",{className:"input-field",value:t.warehouseType,onChange:d=>m("warehouseType",d.target.value),children:i.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),n.jsx("input",{type:"text",className:`input-field ${a.location?"border-red-500":""}`,value:t.location,onChange:d=>m("location",d.target.value),placeholder:"Industrial Zone A"}),a.location&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.location})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:d=>m("status",d.target.value),children:o.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",className:"input-field flex-1",value:t.capacity,onChange:d=>m("capacity",d.target.value),placeholder:"1000"}),n.jsx("select",{className:"input-field w-24",value:t.capacityUnit,onChange:d=>m("capacityUnit",d.target.value),children:l.map(d=>n.jsx("option",{value:d,children:d},d))})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),n.jsx("textarea",{className:`input-field ${a.address?"border-red-500":""}`,rows:3,value:t.address,onChange:d=>m("address",d.target.value),placeholder:"123 Industrial Street, Manufacturing District"}),a.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.address})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${a.city?"border-red-500":""}`,value:t.city,onChange:d=>m("city",d.target.value),placeholder:"Mumbai"}),a.city&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsx("input",{type:"text",className:`input-field ${a.state?"border-red-500":""}`,value:t.state,onChange:d=>m("state",d.target.value),placeholder:"Maharashtra"}),a.state&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.state})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),n.jsx("input",{type:"text",className:`input-field ${a.country?"border-red-500":""}`,value:t.country,onChange:d=>m("country",d.target.value),placeholder:"India"}),a.country&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.country})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),n.jsx("input",{type:"text",className:"input-field",value:t.postalCode,onChange:d=>m("postalCode",d.target.value),placeholder:"400001"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person *"}),n.jsx("input",{type:"text",className:`input-field ${a.contactPerson?"border-red-500":""}`,value:t.contactPerson,onChange:d=>m("contactPerson",d.target.value),placeholder:"John Smith"}),a.contactPerson&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.contactPerson})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${a.contactPhone?"border-red-500":""}`,value:t.contactPhone,onChange:d=>m("contactPhone",d.target.value),placeholder:"+91 98765 43210"}),a.contactPhone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.contactPhone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.contactEmail?"border-red-500":""}`,value:t.contactEmail,onChange:d=>m("contactEmail",d.target.value),placeholder:"john@company.com"}),a.contactEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.contactEmail})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),n.jsx("input",{type:"text",className:"input-field",value:t.operatingHours,onChange:d=>m("operatingHours",d.target.value),placeholder:"8:00 AM - 6:00 PM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:t.timezone,onChange:d=>m("timezone",d.target.value),placeholder:"IST (UTC+5:30)"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:d=>m("notes",d.target.value),placeholder:"Additional notes or comments about the warehouse"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.specialRequirements,onChange:d=>m("specialRequirements",d.target.value),placeholder:"Special storage requirements, security measures, or operational notes"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/warehouse-master"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Create Warehouse"]})]})]})})]})},CZ=()=>{const e=ge(),{id:t}=aa(),[r,a]=k.useState({warehouseCode:"",warehouseName:"",warehouseType:"Main",location:"",address:"",city:"",state:"",country:"",postalCode:"",contactPerson:"",contactPhone:"",contactEmail:"",capacity:"",capacityUnit:"SQM",status:"Active",operatingHours:"",timezone:"",notes:"",specialRequirements:""}),[s,i]=k.useState({}),[o,l]=k.useState(!0),c=["Main","Sub","Transit","Cold Storage","Hazardous"],u=["Active","Inactive","Maintenance","Closed"],m=["SQM","CBM","KG","TON"],d={id:"1",warehouseCode:"WH-001",warehouseName:"Main Warehouse",description:"Primary warehouse for finished goods storage",address:{street:"123 Industrial Street",city:"Mumbai",state:"Maharashtra",zipCode:"400001",country:"India"},capacity:5e3,currentCapacity:3e3,managerId:"MGR-001",managerName:"John Smith",isActive:!0,storageTypes:["Dry Storage","Cold Storage"],createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-20").toISOString(),createdBy:"admin",updatedBy:"admin"};k.useEffect(()=>{setTimeout(()=>{a({warehouseCode:d.warehouseCode,warehouseName:d.warehouseName,warehouseType:"Main",location:"Industrial Zone A",address:d.address.street,city:d.address.city,state:d.address.state,country:d.address.country,postalCode:d.address.zipCode,contactPerson:d.managerName,contactPhone:"+91 98765 43210",contactEmail:"john@company.com",capacity:d.capacity.toString(),capacityUnit:"SQM",status:"Active",operatingHours:"8:00 AM - 6:00 PM",timezone:"IST (UTC+5:30)",notes:d.description,specialRequirements:"Temperature controlled environment required"}),l(!1)},500)},[t]);const f=()=>{const h={};return r.warehouseCode.trim()||(h.warehouseCode="Warehouse code is required"),r.warehouseName.trim()||(h.warehouseName="Warehouse name is required"),r.location.trim()||(h.location="Location is required"),r.address.trim()||(h.address="Address is required"),r.city.trim()||(h.city="City is required"),r.state.trim()||(h.state="State is required"),r.country.trim()||(h.country="Country is required"),r.contactPerson.trim()||(h.contactPerson="Contact person is required"),r.contactPhone.trim()||(h.contactPhone="Contact phone is required"),r.contactEmail.trim()||(h.contactEmail="Contact email is required"),i(h),Object.keys(h).length===0},y=h=>{if(h.preventDefault(),!f())return;const g={...d,warehouseCode:r.warehouseCode,warehouseName:r.warehouseName,description:r.notes,address:{street:r.address,city:r.city,state:r.state,zipCode:r.postalCode,country:r.country},capacity:parseFloat(r.capacity)||0,currentCapacity:parseFloat(r.capacity)||0,managerId:"MGR-001",managerName:r.contactPerson,isActive:r.status==="Active",storageTypes:["Dry Storage","Cold Storage"],updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating Warehouse:",g),e("/warehouse-master")},v=(h,g)=>{a(b=>({...b,[h]:g})),s[h]&&i(b=>({...b,[h]:""}))};return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading warehouse data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Warehouse"}),n.jsx("p",{className:"text-gray-600",children:"Update warehouse information"})]}),n.jsxs("button",{onClick:()=>e("/warehouse-master"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Warehouses"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:y,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.warehouseCode?"border-red-500":""}`,value:r.warehouseCode,onChange:h=>v("warehouseCode",h.target.value),placeholder:"WH-001"}),s.warehouseCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.warehouseCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.warehouseName?"border-red-500":""}`,value:r.warehouseName,onChange:h=>v("warehouseName",h.target.value),placeholder:"Main Warehouse"}),s.warehouseName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.warehouseName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Type"}),n.jsx("select",{className:"input-field",value:r.warehouseType,onChange:h=>v("warehouseType",h.target.value),children:c.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),n.jsx("input",{type:"text",className:`input-field ${s.location?"border-red-500":""}`,value:r.location,onChange:h=>v("location",h.target.value),placeholder:"Industrial Zone A"}),s.location&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.location})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:h=>v("status",h.target.value),children:u.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",className:"input-field flex-1",value:r.capacity,onChange:h=>v("capacity",h.target.value),placeholder:"1000"}),n.jsx("select",{className:"input-field w-24",value:r.capacityUnit,onChange:h=>v("capacityUnit",h.target.value),children:m.map(h=>n.jsx("option",{value:h,children:h},h))})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),n.jsx("textarea",{className:`input-field ${s.address?"border-red-500":""}`,rows:3,value:r.address,onChange:h=>v("address",h.target.value),placeholder:"123 Industrial Street, Manufacturing District"}),s.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.address})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${s.city?"border-red-500":""}`,value:r.city,onChange:h=>v("city",h.target.value),placeholder:"Mumbai"}),s.city&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsx("input",{type:"text",className:`input-field ${s.state?"border-red-500":""}`,value:r.state,onChange:h=>v("state",h.target.value),placeholder:"Maharashtra"}),s.state&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.state})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),n.jsx("input",{type:"text",className:`input-field ${s.country?"border-red-500":""}`,value:r.country,onChange:h=>v("country",h.target.value),placeholder:"India"}),s.country&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.country})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),n.jsx("input",{type:"text",className:"input-field",value:r.postalCode,onChange:h=>v("postalCode",h.target.value),placeholder:"400001"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person *"}),n.jsx("input",{type:"text",className:`input-field ${s.contactPerson?"border-red-500":""}`,value:r.contactPerson,onChange:h=>v("contactPerson",h.target.value),placeholder:"John Smith"}),s.contactPerson&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.contactPerson})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${s.contactPhone?"border-red-500":""}`,value:r.contactPhone,onChange:h=>v("contactPhone",h.target.value),placeholder:"+91 98765 43210"}),s.contactPhone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.contactPhone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.contactEmail?"border-red-500":""}`,value:r.contactEmail,onChange:h=>v("contactEmail",h.target.value),placeholder:"john@company.com"}),s.contactEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.contactEmail})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),n.jsx("input",{type:"text",className:"input-field",value:r.operatingHours,onChange:h=>v("operatingHours",h.target.value),placeholder:"8:00 AM - 6:00 PM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:r.timezone,onChange:h=>v("timezone",h.target.value),placeholder:"IST (UTC+5:30)"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:h=>v("notes",h.target.value),placeholder:"Additional notes or comments about the warehouse"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.specialRequirements,onChange:h=>v("specialRequirements",h.target.value),placeholder:"Special storage requirements, security measures, or operational notes"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/warehouse-master"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Update Warehouse"]})]})]})})]})},kZ=()=>{const e=ge(),[t,r]=k.useState([]),[a,s]=k.useState(!0),[i,o]=k.useState({page:1,limit:10,total:0,pages:0}),[l,c]=k.useState(""),[u,m]=k.useState(null),[d,f]=k.useState(!1),[y,v]=k.useState(""),h=async()=>{try{s(!0);const p=await te.getTransferOrders({page:i.page,limit:i.limit,search:l||void 0,status:y||void 0,sortBy:"transferDate",sortOrder:"desc"});p.success&&(r(p.data),o(p.pagination))}catch(p){console.error("Error loading transfer orders:",p)}finally{s(!1)}};k.useEffect(()=>{h()},[i.page,l,y]),k.useEffect(()=>{const p=setInterval(()=>{h()},3e4);return()=>clearInterval(p)},[]);const g=t,b=p=>{switch(p){case"Completed":return"bg-green-100 text-green-800";case"In Transit":return"bg-blue-100 text-blue-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Failed":return"bg-red-100 text-red-800";case"Cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},N=p=>{switch(p){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";case"Normal":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},x=async p=>{const w=t.find(P=>P._id===p),C=(w==null?void 0:w.transferNumber)||"this transfer order";if(window.confirm(`Are you sure you want to delete ${C}?

This action cannot be undone.`))try{s(!0);const P=await te.deleteTransferOrder(p,{updatedBy:"Admin User"});P.success?(alert(`Transfer order ${C} has been deleted successfully.`),await h()):alert(`Failed to delete transfer order: ${P.message||"Unknown error"}`)}catch(P){console.error("Error deleting transfer order:",P),alert(`Error deleting transfer order: ${P instanceof Error?P.message:"Unknown error"}`)}finally{s(!1)}},j=()=>{var p,w,C,P;return n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transfer Order Details"}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ee,{className:"h-6 w-6"})})]}),u&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transfer Number"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N(u.priority)}`,children:u.priority})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From Outlet"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:typeof u.fromOutlet=="object"?(p=u.fromOutlet)==null?void 0:p.name:u.fromOutlet||"N/A"}),((w=u.fromOutlet)==null?void 0:w.code)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-gray-500",children:[u.fromOutlet.code,"  ",u.fromOutlet.type||"Outlet"]}),n.jsx("div",{className:"text-xs text-gray-400",children:u.fromOutlet.location||"Location not specified"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To Outlet"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:typeof u.toOutlet=="object"?(C=u.toOutlet)==null?void 0:C.name:u.toOutlet||"N/A"}),((P=u.toOutlet)==null?void 0:P.code)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-gray-500",children:[u.toOutlet.code,"  ",u.toOutlet.type||"Outlet"]}),n.jsx("div",{className:"text-xs text-gray-400",children:u.toOutlet.location||"Location not specified"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transfer Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.transferDate?new Date(u.transferDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(u.status||"Unknown")}`,children:u.status||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Requested By"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.requestedBy||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Amount"}),n.jsxs("p",{className:"text-sm text-gray-900 font-medium",children:[u.totalAmount?u.totalAmount.toFixed(2):"0.00"," KWD"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Transfer Items"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Item Code"}),n.jsx("th",{className:"table-header",children:"Item Name"}),n.jsx("th",{className:"table-header",children:"Item Type"}),n.jsx("th",{className:"table-header",children:"Quantity"}),n.jsx("th",{className:"table-header",children:"Unit"}),n.jsx("th",{className:"table-header",children:"Unit Price"}),n.jsx("th",{className:"table-header",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.items&&u.items.length>0?u.items.map((E,I)=>n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:E.itemCode}),n.jsx("td",{className:"table-cell",children:E.itemName}),n.jsx("td",{className:"table-cell",children:E.itemType}),n.jsx("td",{className:"table-cell",children:E.quantity}),n.jsx("td",{className:"table-cell",children:E.unitOfMeasure}),n.jsxs("td",{className:"table-cell",children:[E.unitPrice?E.unitPrice.toFixed(2):"0.00"," KWD"]}),n.jsxs("td",{className:"table-cell font-medium",children:[E.totalValue?E.totalValue.toFixed(2):"0.00"," KWD"]})]},I)):n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"table-cell text-center text-gray-500",children:"No items found"})})})]})}),n.jsx("div",{className:"mt-4 text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Amount: ",u.totalAmount?u.totalAmount.toFixed(2):"0.00"," KWD"]})})]}),u.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.notes})]})]})]})})})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transfer Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage material transfers between warehouses"})]}),n.jsxs("button",{onClick:()=>e("/transfer-orders/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search transfer orders...",className:"input-field pl-10",value:l,onChange:p=>c(p.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{className:"input-field",value:y,onChange:p=>v(p.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"In Transit",children:"In Transit"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Failed",children:"Failed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs("button",{onClick:h,className:"btn-secondary flex items-center",disabled:a,children:[n.jsx(Ft,{className:"h-4 w-4 mr-2"}),a?"Refreshing...":"Refresh"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Transfer Number"}),n.jsx("th",{className:"table-header",children:"From  To"}),n.jsx("th",{className:"table-header",children:"Transfer Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Requested By"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"table-cell text-center py-8",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading transfer orders..."})]})})}):g.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"table-cell text-center py-8 text-gray-500",children:"No transfer orders found"})}):g.map(p=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:p.transferNumber}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.fromOutlet.name}),n.jsx(pT,{className:"h-4 w-4 mx-3 text-gray-400 flex-shrink-0"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.toOutlet.name})]})}),n.jsx("td",{className:"table-cell",children:new Date(p.transferDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(p.status)}`,children:p.status})}),n.jsx("td",{className:"table-cell",children:p.requestedBy}),n.jsxs("td",{className:"table-cell font-medium",children:[p.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{m(p),f(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:n.jsx(Yr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>x(p._id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx($e,{className:"h-4 w-4"})})]})})]},p._id))})]})})}),d&&n.jsx(j,{})]})},OZ=()=>{const e=ge(),t=lr(),[r,a]=k.useState(!1),[s,i]=k.useState(!1),[o,l]=k.useState("both"),[c,u]=k.useState([]),[m,d]=k.useState(null),[f,y]=k.useState([]),[v,h]=k.useState([]),[g,b]=k.useState({transferNumber:"",fromWarehouseId:"",fromWarehouseName:"",toWarehouseId:"",toWarehouseName:"",transferDate:"",expectedDeliveryDate:"",status:"Draft",priority:"Medium",totalAmount:0,items:[],transferType:"Internal",notes:""}),[N,x]=k.useState({});k.useEffect(()=>{const S=new URLSearchParams(t.search),T=S.get("from"),R=S.get("section");T==="central-kitchen"?(a(!0),j()):T==="kuwait-city"&&(i(!0),l(R==="raw-materials"||R==="finished-goods"?R:"both"),p())},[t.search]);const j=async()=>{try{const[S,T]=await Promise.all([te.getCentralKitchens(),te.getOutlets({limit:1e3})]);if(S.success&&S.data.length>0){const R=S.data[0];d(R),b($=>({...$,fromWarehouseId:R._id||R.id,fromWarehouseName:R.outletName})),console.log("Central Kitchen data loaded:",R)}if(T.success){const R=T.data.filter($=>!$.isCentralKitchen);u(R)}}catch(S){console.error("Error loading Central Kitchen data:",S)}},p=async()=>{try{console.log("Loading Kuwait City data for section:",o);const S=new Date().toISOString().split("T")[0],T=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],R=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;if(b($=>({...$,transferNumber:R,fromWarehouseId:"Kuwait City",fromWarehouseName:"Kuwait City",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:S,expectedDeliveryDate:T,status:"Pending",priority:"Normal"})),o==="raw-materials"||o==="both"){const L=await(await fetch("/api/kuwait-city/raw-materials?limit=1000")).json();if(console.log("Raw Materials API Response:",L),L.success&&L.data){const Q=Array.isArray(L.data)?L.data:[];y(Q),console.log("Raw Materials loaded for Kuwait City:",Q.length,"items")}else console.error("Failed to load Raw Materials:",L),y([])}else y([]);if(o==="finished-goods"||o==="both"){const L=await(await fetch("/api/kuwait-city/finished-products?limit=1000")).json();if(console.log("Finished Goods API Response:",L),L.success&&L.data){const Q=Array.isArray(L.data)?L.data:[];h(Q),console.log("Finished Goods loaded for Kuwait City:",Q.length,"items")}else console.error("Failed to load Finished Goods:",L),h([])}else h([])}catch(S){console.error("Error loading Kuwait City data:",S),y([]),h([])}},w=["Draft","Approved","In Transit","Delivered","Cancelled"],C=["Low","Medium","High","Urgent"],P=["Internal","External","Emergency"],E=[{id:"WH-001",name:"Main Warehouse"},{id:"WH-002",name:"Secondary Warehouse"},{id:"WH-003",name:"Cold Storage"},{id:"WH-004",name:"Hazardous Storage"}],I=()=>{const S={};return g.transferNumber.trim()||(S.transferNumber="Transfer number is required"),s||(g.fromWarehouseId||(S.fromWarehouseId="From warehouse is required"),g.toWarehouseId||(S.toWarehouseId="To warehouse is required")),g.transferDate||(S.transferDate="Transfer date is required"),g.expectedDeliveryDate||(S.expectedDeliveryDate="Expected delivery date is required"),g.items.length===0&&(S.items="At least one transfer item is required"),x(S),Object.keys(S).length===0},M=async S=>{if(S.preventDefault(),console.log("Form submitted!"),console.log("Form data:",g),console.log("Is from Kuwait City:",s),!I()){console.log("Form validation failed"),console.log("Validation errors:",N);return}console.log("Form validation passed");try{const T={fromOutlet:g.fromWarehouseId||"Kuwait City",toOutlet:g.toWarehouseId||"Central Kitchen",transferDate:g.transferDate,priority:g.priority,items:g.items.map($=>({itemType:$.itemType==="raw-material"?"Raw Material":"Finished Goods",itemCode:$.materialCode||"",itemName:$.materialName||"",category:$.category,subCategory:$.subCategory,unitOfMeasure:$.unitOfMeasure,quantity:$.quantity,unitPrice:$.unitPrice,notes:$.remarks})),notes:g.notes,requestedBy:"Kuwait City Manager"};console.log("Creating Transfer Order:",T),console.log("Transfer order data being sent:",JSON.stringify(T,null,2)),console.log("Calling API...");const R=await te.createTransferOrder(T);if(console.log("API Response:",R),R.success)alert("Transfer order created successfully!"),e("/transfer-orders");else throw new Error(R.message||"Failed to create transfer order")}catch(T){console.error("Error creating transfer order:",T),console.error("Error details:",T);let R="Unknown error";T instanceof Error&&(R=T.message),alert(`Failed to create transfer order: ${R}`)}},O=(S,T)=>{b(R=>({...R,[S]:T})),N[S]&&x(R=>({...R,[S]:""}))},D=(S,T)=>{let R="";if(r&&S==="toWarehouseId"){const $=c.find(L=>L._id===T);R=$?$.outletName:""}else{const $=E.find(L=>L.id===T);R=$?$.name:""}b(S==="fromWarehouseId"?$=>({...$,fromWarehouseId:T,fromWarehouseName:R}):$=>({...$,toWarehouseId:T,toWarehouseName:R}))},B=S=>{const T={materialId:"",materialCode:"",materialName:"",itemType:S,quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};b(R=>({...R,items:[...R.items,T]}))},_=(S,T,R)=>{b($=>({...$,items:$.items.map((L,Q)=>{if(Q===S){const Y={...L,[T]:R};return(T==="quantity"||T==="unitPrice")&&(Y.totalPrice=Y.quantity*Y.unitPrice),Y}return L})}))},A=(S,T)=>{const R=g.items[S];if(!R||!s)return;let $=null;R.itemType==="raw-material"?$=f.find(L=>L.materialCode===T):R.itemType==="finished-good"&&($=v.find(L=>L.productCode===T)),$?(_(S,"materialId",$.id||$._id),_(S,"materialCode",T),_(S,"materialName",R.itemType==="raw-material"?$.materialName:$.productName),_(S,"unitOfMeasure",$.unitOfMeasure),_(S,"unitPrice",$.unitPrice)):(_(S,"materialId",""),_(S,"materialCode",T),_(S,"materialName",""),_(S,"unitOfMeasure",""),_(S,"unitPrice",0))},F=S=>{b(T=>({...T,items:T.items.filter((R,$)=>$!==S)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Transfer Order"}),n.jsx("p",{className:"text-gray-600",children:"Create a new material transfer order"})]}),n.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Transfer Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:M,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${N.transferNumber?"border-red-500":""}`,value:g.transferNumber,onChange:S=>O("transferNumber",S.target.value),placeholder:"TO-2024-001"}),N.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:g.transferType,onChange:S=>O("transferType",S.target.value),children:P.map(S=>n.jsx("option",{value:S,children:S},S))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:g.priority,onChange:S=>O("priority",S.target.value),children:C.map(S=>n.jsx("option",{value:S,children:S},S))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:g.status,onChange:S=>O("status",S.target.value),children:w.map(S=>n.jsx("option",{value:S,children:S},S))})]})]})]}),!s&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:r?"Transfer Information":"Warehouse Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["From ",r?"Location":"Warehouse"," *"]}),n.jsx("select",{className:`input-field ${N.fromWarehouseId?"border-red-500":""} ${r?"bg-gray-100":""}`,value:g.fromWarehouseId,onChange:S=>D("fromWarehouseId",S.target.value),disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"",children:"Select From Location"}),m&&n.jsxs("option",{value:m._id||m.id,children:[m.outletName," (Central Kitchen)"]},m._id||m.id)]}):n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"",children:"Select From Warehouse"}),E.map(S=>n.jsx("option",{value:S.id,children:S.name},S.id))]})}),N.fromWarehouseId&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.fromWarehouseId}),r&&n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Central Kitchen is pre-selected as the source location"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["To ",r?"Outlet":"Warehouse"," *"]}),n.jsxs("select",{className:`input-field ${N.toWarehouseId?"border-red-500":""}`,value:g.toWarehouseId,onChange:S=>D("toWarehouseId",S.target.value),children:[n.jsxs("option",{value:"",children:["Select To ",r?"Outlet":"Warehouse"]}),r?c.map(S=>n.jsx("option",{value:S._id,children:S.outletName},S._id)):E.filter(S=>S.id!==g.fromWarehouseId).map(S=>n.jsx("option",{value:S.id,children:S.name},S.id))]}),N.toWarehouseId&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.toWarehouseId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${N.transferDate?"border-red-500":""}`,value:g.transferDate,onChange:S=>O("transferDate",S.target.value)}),N.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${N.expectedDeliveryDate?"border-red-500":""}`,value:g.expectedDeliveryDate,onChange:S=>O("expectedDeliveryDate",S.target.value)}),N.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[s?n.jsxs(n.Fragment,{children:[(o==="raw-materials"||o==="both")&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Raw Materials (",f.length," available)"]}),n.jsxs("button",{type:"button",onClick:()=>B("raw-material"),className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Raw Material"]})]}),g.items.filter(S=>S.itemType==="raw-material").length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ye,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No raw materials added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Raw Material" to get started'})]}):n.jsx("div",{className:"space-y-4",children:g.items.map((S,T)=>({item:S,originalIndex:T})).filter(({item:S})=>S.itemType==="raw-material").map(({item:S,originalIndex:T})=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-blue-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsxs("select",{className:"input-field text-sm",value:S.materialCode,onChange:R=>A(T,R.target.value),children:[n.jsx("option",{value:"",children:"Select Raw Material"}),f.map(R=>n.jsxs("option",{value:R.materialCode,children:[R.materialCode," - ",R.materialName]},R.id||R._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:S.materialName,placeholder:"Material Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:S.quantity,onChange:R=>_(T,"quantity",parseFloat(R.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:S.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:S.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:S.remarks||"",onChange:R=>_(T,"remarks",R.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>F(T),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",S.totalPrice.toFixed(2)," KWD"]})})]},T))})]}),(o==="finished-goods"||o==="both")&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Finished Goods (",v.length," available)"]}),n.jsxs("button",{type:"button",onClick:()=>B("finished-good"),className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Finished Good"]})]}),g.items.filter(S=>S.itemType==="finished-good").length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ye,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No finished goods added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Finished Good" to get started'})]}):n.jsx("div",{className:"space-y-4",children:g.items.map((S,T)=>({item:S,originalIndex:T})).filter(({item:S})=>S.itemType==="finished-good").map(({item:S,originalIndex:T})=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-green-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Code"}),n.jsxs("select",{className:"input-field text-sm",value:S.materialCode,onChange:R=>A(T,R.target.value),children:[n.jsx("option",{value:"",children:"Select Finished Good"}),v.map(R=>n.jsxs("option",{value:R.productCode,children:[R.productCode," - ",R.productName]},R.id||R._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:S.materialName,placeholder:"Product Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:S.quantity,onChange:R=>_(T,"quantity",parseFloat(R.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:S.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:S.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:S.remarks||"",onChange:R=>_(T,"remarks",R.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>F(T),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",S.totalPrice.toFixed(2)," KWD"]})})]},T))})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transfer Items"}),n.jsxs("button",{type:"button",onClick:()=>B("raw-material"),className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),N.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:N.items}),n.jsx("div",{className:"space-y-4",children:g.items.map((S,T)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:S.materialCode,onChange:R=>_(T,"materialCode",R.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:S.materialName,onChange:R=>_(T,"materialName",R.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:S.quantity,onChange:R=>_(T,"quantity",parseFloat(R.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:S.unitOfMeasure,onChange:R=>_(T,"unitOfMeasure",R.target.value),placeholder:"KG"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:S.unitPrice,onChange:R=>_(T,"unitPrice",parseFloat(R.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:S.remarks||"",onChange:R=>_(T,"remarks",R.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>F(T),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",S.totalPrice.toFixed(2)," KWD"]})})]},T))})]}),g.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",g.items.reduce((S,T)=>S+T.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:g.notes,onChange:S=>O("notes",S.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},PZ=()=>{const e=ge(),{id:t}=aa(),[r,a]=k.useState({transferNumber:"",fromWarehouseId:"",fromWarehouseName:"",toWarehouseId:"",toWarehouseName:"",transferDate:"",expectedDeliveryDate:"",status:"Draft",priority:"Medium",totalAmount:0,items:[],requestedBy:"",approvedBy:"",receivedBy:"",transferType:"Internal",reason:"",notes:""}),[s,i]=k.useState({}),[o,l]=k.useState(!0),c=["Draft","Pending","Approved","In Transit","Delivered","Cancelled"],u=["Low","Medium","High","Urgent"],m=["Internal","External","Emergency"],d=[{id:"WH-001",name:"Main Warehouse"},{id:"WH-002",name:"Secondary Warehouse"},{id:"WH-003",name:"Cold Storage"},{id:"WH-004",name:"Hazardous Storage"}],f={id:"1",transferNumber:"TO-2024-001",fromWarehouseId:"WH-001",fromWarehouseName:"Main Warehouse",toWarehouseId:"WH-002",toWarehouseName:"Secondary Warehouse",transferDate:new Date("2024-01-20").toISOString(),expectedDeliveryDate:new Date("2024-01-22").toISOString(),status:"In Transit",priority:"High",totalAmount:15750,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:100,unitOfMeasure:"KG",unitPrice:45.5,totalPrice:4550,remarks:"High priority transfer"},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:50,unitOfMeasure:"SQM",unitPrice:125,totalPrice:6250,remarks:"Handle with care"},{materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",quantity:200,unitOfMeasure:"M",unitPrice:23.75,totalPrice:4750,remarks:"Standard transfer"}],requestedBy:"John Smith",approvedBy:"Manager Name",receivedBy:"Warehouse Staff",transferType:"Internal",reason:"Inventory rebalancing between warehouses for better distribution",notes:"Transfer approved for inventory optimization. Ensure proper handling of aluminum sheets.",createdAt:new Date("2024-01-20").toISOString(),updatedAt:new Date("2024-01-21").toISOString(),createdBy:"admin",updatedBy:"admin"};k.useEffect(()=>{setTimeout(()=>{var j;a({transferNumber:f.transferNumber,fromWarehouseId:f.fromWarehouseId,fromWarehouseName:f.fromWarehouseName,toWarehouseId:f.toWarehouseId,toWarehouseName:f.toWarehouseName,transferDate:f.transferDate.split("T")[0],expectedDeliveryDate:((j=f.expectedDeliveryDate)==null?void 0:j.split("T")[0])||"",status:f.status,priority:f.priority,totalAmount:f.totalAmount,items:f.items,requestedBy:f.requestedBy,approvedBy:f.approvedBy,receivedBy:f.receivedBy,transferType:f.transferType,reason:f.reason,notes:f.notes}),l(!1)},500)},[t]);const y=()=>{const j={};return r.transferNumber.trim()||(j.transferNumber="Transfer number is required"),r.fromWarehouseId||(j.fromWarehouseId="From warehouse is required"),r.toWarehouseId||(j.toWarehouseId="To warehouse is required"),r.transferDate||(j.transferDate="Transfer date is required"),r.expectedDeliveryDate||(j.expectedDeliveryDate="Expected delivery date is required"),r.requestedBy.trim()||(j.requestedBy="Requested by is required"),r.reason.trim()||(j.reason="Reason is required"),r.items.length===0&&(j.items="At least one transfer item is required"),i(j),Object.keys(j).length===0},v=j=>{if(j.preventDefault(),!y())return;const p=r.items.reduce((C,P)=>C+P.totalPrice,0),w={...f,transferNumber:r.transferNumber,fromWarehouseId:r.fromWarehouseId,fromWarehouseName:r.fromWarehouseName,toWarehouseId:r.toWarehouseId,toWarehouseName:r.toWarehouseName,transferDate:new Date(r.transferDate).toISOString(),expectedDeliveryDate:new Date(r.expectedDeliveryDate).toISOString(),status:r.status,priority:r.priority,totalAmount:p,items:r.items,requestedBy:r.requestedBy,approvedBy:r.approvedBy,receivedBy:r.receivedBy,transferType:r.transferType,reason:r.reason,notes:r.notes,updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating Transfer Order:",w),e("/transfer-orders")},h=(j,p)=>{a(w=>({...w,[j]:p})),s[j]&&i(w=>({...w,[j]:""}))},g=(j,p)=>{const w=d.find(P=>P.id===p),C=w?w.name:"";a(j==="fromWarehouseId"?P=>({...P,fromWarehouseId:p,fromWarehouseName:C}):P=>({...P,toWarehouseId:p,toWarehouseName:C}))},b=()=>{const j={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};a(p=>({...p,items:[...p.items,j]}))},N=(j,p,w)=>{a(C=>({...C,items:C.items.map((P,E)=>{if(E===j){const I={...P,[p]:w};return(p==="quantity"||p==="unitPrice")&&(I.totalPrice=I.quantity*I.unitPrice),I}return P})}))},x=j=>{a(p=>({...p,items:p.items.filter((w,C)=>C!==j)}))};return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Transfer Order"}),n.jsx("p",{className:"text-gray-600",children:"Update transfer order information"})]}),n.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Transfer Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:v,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.transferNumber?"border-red-500":""}`,value:r.transferNumber,onChange:j=>h("transferNumber",j.target.value),placeholder:"TO-2024-001"}),s.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:r.transferType,onChange:j=>h("transferType",j.target.value),children:m.map(j=>n.jsx("option",{value:j,children:j},j))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:r.priority,onChange:j=>h("priority",j.target.value),children:u.map(j=>n.jsx("option",{value:j,children:j},j))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:j=>h("status",j.target.value),children:c.map(j=>n.jsx("option",{value:j,children:j},j))})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Warehouse Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Warehouse *"}),n.jsxs("select",{className:`input-field ${s.fromWarehouseId?"border-red-500":""}`,value:r.fromWarehouseId,onChange:j=>g("fromWarehouseId",j.target.value),children:[n.jsx("option",{value:"",children:"Select From Warehouse"}),d.map(j=>n.jsx("option",{value:j.id,children:j.name},j.id))]}),s.fromWarehouseId&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.fromWarehouseId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Warehouse *"}),n.jsxs("select",{className:`input-field ${s.toWarehouseId?"border-red-500":""}`,value:r.toWarehouseId,onChange:j=>g("toWarehouseId",j.target.value),children:[n.jsx("option",{value:"",children:"Select To Warehouse"}),d.filter(j=>j.id!==r.fromWarehouseId).map(j=>n.jsx("option",{value:j.id,children:j.name},j.id))]}),s.toWarehouseId&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.toWarehouseId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.transferDate?"border-red-500":""}`,value:r.transferDate,onChange:j=>h("transferDate",j.target.value)}),s.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.expectedDeliveryDate?"border-red-500":""}`,value:r.expectedDeliveryDate,onChange:j=>h("expectedDeliveryDate",j.target.value)}),s.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personnel Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requested By *"}),n.jsx("input",{type:"text",className:`input-field ${s.requestedBy?"border-red-500":""}`,value:r.requestedBy,onChange:j=>h("requestedBy",j.target.value),placeholder:"John Smith"}),s.requestedBy&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.requestedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approved By"}),n.jsx("input",{type:"text",className:"input-field",value:r.approvedBy,onChange:j=>h("approvedBy",j.target.value),placeholder:"Manager Name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By"}),n.jsx("input",{type:"text",className:"input-field",value:r.receivedBy,onChange:j=>h("receivedBy",j.target.value),placeholder:"Warehouse Staff"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transfer Items"}),n.jsxs("button",{type:"button",onClick:b,className:"btn-secondary flex items-center text-sm",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((j,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:j.materialCode,onChange:w=>N(p,"materialCode",w.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:j.materialName,onChange:w=>N(p,"materialName",w.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:j.quantity,onChange:w=>N(p,"quantity",parseFloat(w.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:j.unitOfMeasure,onChange:w=>N(p,"unitOfMeasure",w.target.value),placeholder:"KG"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:j.unitPrice,onChange:w=>N(p,"unitPrice",parseFloat(w.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:j.remarks,onChange:w=>N(p,"remarks",w.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>x(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx($e,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",j.totalPrice.toFixed(2)," KWD"]})})]},p))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",r.items.reduce((j,p)=>j+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Transfer *"}),n.jsx("textarea",{className:`input-field ${s.reason?"border-red-500":""}`,rows:3,value:r.reason,onChange:j=>h("reason",j.target.value),placeholder:"Reason for material transfer"}),s.reason&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.reason})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:j=>h("notes",j.target.value),placeholder:"Additional notes or special instructions"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Update Transfer Order"]})]})]})})]})},AZ=()=>{const[e,t]=k.useState("overview"),[r,a]=k.useState(""),[s,i]=k.useState(""),[o,l]=k.useState(""),[c]=k.useState([{id:"1",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:150,reservedStock:25,availableStock:125,minimumStock:50,maximumStock:500,reorderPoint:75,unitOfMeasure:"KG",unitPrice:45.5,totalValue:6825,lastUpdated:new Date("2024-01-20"),status:"In Stock",location:"A-01-15",batchNumber:"B001",supplier:"Steel Corp",notes:"High quality steel rods"},{id:"2",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:25,reservedStock:5,availableStock:20,minimumStock:30,maximumStock:200,reorderPoint:40,unitOfMeasure:"SQM",unitPrice:125,totalValue:3125,lastUpdated:new Date("2024-01-19"),status:"Low Stock",location:"B-02-08",batchNumber:"B002",supplier:"Aluminum Ltd",notes:"Premium grade aluminum"},{id:"3",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",warehouseId:"WH-002",warehouseName:"Secondary Warehouse",currentStock:0,reservedStock:0,availableStock:0,minimumStock:100,maximumStock:1e3,reorderPoint:150,unitOfMeasure:"M",unitPrice:23.75,totalValue:0,lastUpdated:new Date("2024-01-18"),status:"Out of Stock",location:"C-03-12",batchNumber:"B003",supplier:"Wire Co",notes:"Electrical grade copper"},{id:"4",materialId:"RM-004",materialCode:"RM-004",materialName:"Plastic Pellets HDPE",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:800,reservedStock:50,availableStock:750,minimumStock:200,maximumStock:1e3,reorderPoint:300,unitOfMeasure:"KG",unitPrice:12.5,totalValue:1e4,lastUpdated:new Date("2024-01-21"),status:"Overstock",location:"D-04-20",batchNumber:"B004",supplier:"Plastic Inc",notes:"High density polyethylene"}]),[u]=k.useState([{id:"1",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",movementType:"In",movementReason:"Purchase",quantity:50,unitPrice:45.5,totalValue:2275,referenceNumber:"PO-2024-001",referenceType:"Purchase Order",movementDate:new Date("2024-01-20").toISOString(),performedBy:"John Smith",notes:"Received from supplier",batchNumber:"B001"},{id:"2",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",movementType:"Out",movementReason:"Production",quantity:15,unitPrice:125,totalValue:1875,referenceNumber:"JO-2024-001",referenceType:"Production Order",movementDate:new Date("2024-01-19").toISOString(),performedBy:"Jane Doe",notes:"Issued for production",batchNumber:"B002"},{id:"3",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",warehouseId:"WH-002",warehouseName:"Secondary Warehouse",movementType:"Out",movementReason:"Sale",quantity:200,unitPrice:23.75,totalValue:4750,referenceNumber:"SO-2024-001",referenceType:"Sales Order",movementDate:new Date("2024-01-18").toISOString(),performedBy:"Mike Johnson",notes:"Sold to customer",batchNumber:"B003"}]),m=[{id:"WH-001",name:"Main Warehouse"},{id:"WH-002",name:"Secondary Warehouse"},{id:"WH-003",name:"Cold Storage"},{id:"WH-004",name:"Hazardous Storage"}],d=["In Stock","Low Stock","Out of Stock","Overstock"],f=c.filter(p=>{const w=p.materialCode.toLowerCase().includes(r.toLowerCase())||p.materialName.toLowerCase().includes(r.toLowerCase())||p.warehouseName.toLowerCase().includes(r.toLowerCase()),C=!s||p.status===s,P=!o||p.warehouseId===o;return w&&C&&P}),y=u.filter(p=>{var P;const w=p.materialCode.toLowerCase().includes(r.toLowerCase())||p.materialName.toLowerCase().includes(r.toLowerCase())||((P=p.referenceNumber)==null?void 0:P.toLowerCase().includes(r.toLowerCase())),C=!o||p.warehouseId===o;return w&&C}),v=c.length,h=c.reduce((p,w)=>p+w.totalValue,0),g=c.filter(p=>p.status==="Low Stock").length,b=c.filter(p=>p.status==="Out of Stock").length,N=c.filter(p=>p.status==="Overstock").length,x=p=>{switch(p){case"In Stock":return"text-green-600 bg-green-100";case"Low Stock":return"text-yellow-600 bg-yellow-100";case"Out of Stock":return"text-red-600 bg-red-100";case"Overstock":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},j=p=>{switch(p){case"In":return"text-green-600 bg-green-100";case"Out":return"text-red-600 bg-red-100";case"Transfer":return"text-blue-600 bg-blue-100";case"Adjustment":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),n.jsx("p",{className:"text-gray-600",children:"Monitor stock levels, movements, and generate reports"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{className:"btn-primary flex items-center",children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(ye,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Ln,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",h.toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Jr,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(fy,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"overview",name:"Overview",icon:Aa},{id:"stock",name:"Stock Levels",icon:ye},{id:"movements",name:"Stock Movements",icon:Ln},{id:"reports",name:"Reports",icon:Tt}].map(p=>n.jsxs("button",{onClick:()=>t(p.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${e===p.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(p.icon,{className:"h-4 w-4 mr-2"}),p.name]},p.id))})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",className:"input-field pl-10",placeholder:"Search materials, warehouses, or reference numbers...",value:r,onChange:p=>a(p.target.value)})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("select",{className:"input-field",value:s,onChange:p=>i(p.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),d.map(p=>n.jsx("option",{value:p,children:p},p))]}),n.jsxs("select",{className:"input-field",value:o,onChange:p=>l(p.target.value),children:[n.jsx("option",{value:"",children:"All Warehouses"}),m.map(p=>n.jsx("option",{value:p.id,children:p.name},p.id))]})]})]}),e==="overview"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Stock Status Distribution"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"In Stock"}),n.jsx("span",{className:"text-sm font-medium",children:c.filter(p=>p.status==="In Stock").length})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Low Stock"}),n.jsx("span",{className:"text-sm font-medium",children:g})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Out of Stock"}),n.jsx("span",{className:"text-sm font-medium",children:b})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Overstock"}),n.jsx("span",{className:"text-sm font-medium",children:N})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Stock Movements"}),n.jsx("div",{className:"space-y-3",children:u.slice(0,5).map(p=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(p.movementDate).toLocaleDateString()})]}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${j(p.movementType)}`,children:[p.movementType," ",p.quantity]})})]},p.id))})]})]})}),e==="stock"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Warehouse"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Min/Max"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(p=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("div",{className:"text-sm text-gray-500",children:p.materialCode})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:p.warehouseName}),n.jsx("div",{className:"text-sm text-gray-500",children:p.location})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[p.currentStock," ",p.unitOfMeasure]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Reserved: ",p.reservedStock]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[p.availableStock," ",p.unitOfMeasure]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[p.minimumStock,"/",p.maximumStock]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Reorder: ",p.reorderPoint]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:["$",p.totalValue.toLocaleString()]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["@ $",p.unitPrice]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${x(p.status)}`,children:p.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:n.jsx(Yr,{className:"h-4 w-4"})})})]},p.id))})]})}),e==="movements"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Warehouse"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performed By"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(p=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(p.movementDate).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("div",{className:"text-sm text-gray-500",children:p.materialCode})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.warehouseName}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${j(p.movementType)}`,children:p.movementType}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:p.movementReason})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.quantity}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",p.totalValue.toLocaleString()]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:p.referenceNumber}),n.jsx("div",{className:"text-xs text-gray-500",children:p.referenceType})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.performedBy})]},p.id))})]})}),e==="reports"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Aa,{className:"h-8 w-8 text-blue-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Stock Summary"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Generate comprehensive stock level report"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Ln,{className:"h-8 w-8 text-green-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Stock Movements"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Track all stock movements for a period"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Jr,{className:"h-8 w-8 text-yellow-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Low Stock Alert"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Identify items below reorder point"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Ln,{className:"h-8 w-8 text-purple-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Value Report"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Calculate total inventory value"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Aa,{className:"h-8 w-8 text-indigo-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ABC Analysis"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Classify items by value and usage"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Tt,{className:"h-8 w-8 text-gray-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Custom Report"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create custom inventory reports"}),n.jsx("button",{className:"btn-primary w-full",children:"Create Report"})]})]})})]})]})]})},EZ=()=>{const e=ge(),[t,r]=k.useState([]),[a,s]=k.useState(!0),[i,o]=k.useState(null),[l,c]=k.useState(""),[u,m]=k.useState(""),[d,f]=k.useState(""),[y,v]=k.useState(""),[h,g]=k.useState("createdAt"),[b,N]=k.useState("desc"),[x,j]=k.useState(null),[p,w]=k.useState(!1);k.useEffect(()=>{C()},[]),k.useEffect(()=>{a||C()},[l,u,d,y,h,b]);const C=async()=>{try{s(!0),o(null);const O=[{id:"outlet-001",outletCode:"KC001",outletName:"Kuwait City",outletType:"Restaurant",description:"Main restaurant outlet in Kuwait City",address:{street:"123 Main Street",city:"Kuwait City",state:"Kuwait",zipCode:"12345",country:"Kuwait"},contactInfo:{phone:"+965-1234-5678",email:"kuwait@localbeat.com",managerName:"Ahmed Al-Sabah",managerPhone:"+965-1234-5679",managerEmail:"ahmed@localbeat.com"},operatingHours:{monday:{open:"08:00",close:"22:00",isOpen:!0},tuesday:{open:"08:00",close:"22:00",isOpen:!0},wednesday:{open:"08:00",close:"22:00",isOpen:!0},thursday:{open:"08:00",close:"22:00",isOpen:!0},friday:{open:"08:00",close:"22:00",isOpen:!0},saturday:{open:"08:00",close:"22:00",isOpen:!0},sunday:{open:"08:00",close:"22:00",isOpen:!0}},capacity:{seatingCapacity:100,kitchenCapacity:50,storageCapacity:200,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Dine-in","Takeaway","Delivery"],timezone:"Asia/Kuwait",notes:"Main restaurant outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-002",outletCode:"M360001",outletName:"360 Mall",outletType:"Cafe",description:"Cafe outlet in 360 Mall",address:{street:"360 Mall, Level 2",city:"Kuwait City",state:"Kuwait",zipCode:"12346",country:"Kuwait"},contactInfo:{phone:"+965-2345-6789",email:"mall360@localbeat.com",managerName:"Sarah Johnson",managerPhone:"+965-2345-6790",managerEmail:"sarah@localbeat.com"},operatingHours:{monday:{open:"10:00",close:"23:00",isOpen:!0},tuesday:{open:"10:00",close:"23:00",isOpen:!0},wednesday:{open:"10:00",close:"23:00",isOpen:!0},thursday:{open:"10:00",close:"23:00",isOpen:!0},friday:{open:"10:00",close:"23:00",isOpen:!0},saturday:{open:"10:00",close:"23:00",isOpen:!0},sunday:{open:"10:00",close:"23:00",isOpen:!0}},capacity:{seatingCapacity:80,kitchenCapacity:30,storageCapacity:150,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Dine-in","Takeaway"],timezone:"Asia/Kuwait",notes:"Mall cafe outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-003",outletCode:"VC001",outletName:"Vibes Complex",outletType:"Food Court",description:"Food court outlet in Vibes Complex",address:{street:"Vibes Complex, Food Court",city:"Kuwait City",state:"Kuwait",zipCode:"12347",country:"Kuwait"},contactInfo:{phone:"+965-3456-7890",email:"vibes@localbeat.com",managerName:"Mohammed Al-Rashid",managerPhone:"+965-3456-7891",managerEmail:"mohammed@localbeat.com"},operatingHours:{monday:{open:"09:00",close:"24:00",isOpen:!0},tuesday:{open:"09:00",close:"24:00",isOpen:!0},wednesday:{open:"09:00",close:"24:00",isOpen:!0},thursday:{open:"09:00",close:"24:00",isOpen:!0},friday:{open:"09:00",close:"24:00",isOpen:!0},saturday:{open:"09:00",close:"24:00",isOpen:!0},sunday:{open:"09:00",close:"24:00",isOpen:!0}},capacity:{seatingCapacity:120,kitchenCapacity:40,storageCapacity:180,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Dine-in","Takeaway","Food Court"],timezone:"Asia/Kuwait",notes:"Food court outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-004",outletCode:"TH001",outletName:"Taiba Hospital",outletType:"Drive-Thru",description:"Drive-thru outlet at Taiba Hospital",address:{street:"Taiba Hospital, Ground Floor",city:"Kuwait City",state:"Kuwait",zipCode:"12348",country:"Kuwait"},contactInfo:{phone:"+965-4567-8901",email:"taiba@localbeat.com",managerName:"Fatima Al-Zahra",managerPhone:"+965-4567-8902",managerEmail:"fatima@localbeat.com"},operatingHours:{monday:{open:"06:00",close:"02:00",isOpen:!0},tuesday:{open:"06:00",close:"02:00",isOpen:!0},wednesday:{open:"06:00",close:"02:00",isOpen:!0},thursday:{open:"06:00",close:"02:00",isOpen:!0},friday:{open:"06:00",close:"02:00",isOpen:!0},saturday:{open:"06:00",close:"02:00",isOpen:!0},sunday:{open:"06:00",close:"02:00",isOpen:!0}},capacity:{seatingCapacity:20,kitchenCapacity:25,storageCapacity:100,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Drive-Thru","Takeaway"],timezone:"Asia/Kuwait",notes:"Hospital drive-thru outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-005",outletCode:"CK001",outletName:"Central Kitchen",outletType:"Central Kitchen",description:"Central kitchen for all outlets",address:{street:"Industrial Area, Block 5",city:"Kuwait City",state:"Kuwait",zipCode:"12349",country:"Kuwait"},contactInfo:{phone:"+965-5678-9012",email:"central@localbeat.com",managerName:"Chef Abdullah",managerPhone:"+965-5678-9013",managerEmail:"chef@localbeat.com"},operatingHours:{monday:{open:"05:00",close:"23:00",isOpen:!0},tuesday:{open:"05:00",close:"23:00",isOpen:!0},wednesday:{open:"05:00",close:"23:00",isOpen:!0},thursday:{open:"05:00",close:"23:00",isOpen:!0},friday:{open:"05:00",close:"23:00",isOpen:!0},saturday:{open:"05:00",close:"23:00",isOpen:!0},sunday:{open:"05:00",close:"23:00",isOpen:!0}},capacity:{seatingCapacity:0,kitchenCapacity:200,storageCapacity:500,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!0,features:["Production","Storage","Distribution"],timezone:"Asia/Kuwait",notes:"Central kitchen for all outlets",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"}];console.log("Loaded Outlets:",O),r(O)}catch(O){o(O instanceof Error?O.message:"Failed to load outlets"),console.error("Error loading outlets:",O)}finally{s(!1)}},P=async O=>{if(window.confirm("Are you sure you want to delete this outlet?"))try{(await te.deleteOutlet(O)).success?await C():alert("Failed to delete outlet")}catch(D){alert("Error deleting outlet: "+(D instanceof Error?D.message:"Unknown error")),console.error("Error deleting outlet:",D)}},E=()=>{c(""),m(""),f(""),v(""),g("createdAt"),N("desc"),C()},I=O=>{switch(O){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-gray-100 text-gray-800";case"Maintenance":return"bg-yellow-100 text-yellow-800";case"Closed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=O=>{switch(O){case"Restaurant":return"bg-blue-100 text-blue-800";case"Cafe":return"bg-purple-100 text-purple-800";case"Food Court":return"bg-orange-100 text-orange-800";case"Drive-Thru":return"bg-green-100 text-green-800";case"Takeaway":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading outlets..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:C,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Outlet Master"}),n.jsx("p",{className:"text-gray-600",children:"Manage restaurant outlets and central kitchen operations"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:C,className:"btn-secondary flex items-center",title:"Refresh outlets",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/outlets/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Outlet"]})]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search outlets by name, code, city, or manager...",className:"input-field pl-10",value:l,onChange:O=>c(O.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:E,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsxs("select",{className:"input-field",value:u,onChange:O=>m(O.target.value),children:[n.jsx("option",{value:"",children:"All Types"}),n.jsx("option",{value:"Restaurant",children:"Restaurant"}),n.jsx("option",{value:"Cafe",children:"Cafe"}),n.jsx("option",{value:"Food Court",children:"Food Court"}),n.jsx("option",{value:"Drive-Thru",children:"Drive-Thru"}),n.jsx("option",{value:"Takeaway",children:"Takeaway"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:d,onChange:O=>f(O.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"}),n.jsx("option",{value:"Maintenance",children:"Maintenance"}),n.jsx("option",{value:"Closed",children:"Closed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Type"}),n.jsxs("select",{className:"input-field",value:y,onChange:O=>v(O.target.value),children:[n.jsx("option",{value:"",children:"All Kitchens"}),n.jsx("option",{value:"true",children:"Central Kitchen"}),n.jsx("option",{value:"false",children:"Regular Outlet"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:h,onChange:O=>g(O.target.value),children:[n.jsx("option",{value:"createdAt",children:"Date Created"}),n.jsx("option",{value:"outletName",children:"Outlet Name"}),n.jsx("option",{value:"outletCode",children:"Outlet Code"}),n.jsx("option",{value:"outletType",children:"Outlet Type"}),n.jsx("option",{value:"status",children:"Status"})]}),n.jsx("button",{onClick:()=>N(b==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${b==="asc"?"Descending":"Ascending"}`,children:b==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",t.length," outlets",(l||u||d||y)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(l||u||d||y)&&n.jsx("button",{onClick:E,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Outlet Code"}),n.jsx("th",{className:"table-header",children:"Outlet Name"}),n.jsx("th",{className:"table-header",children:"Type"}),n.jsx("th",{className:"table-header",children:"Location"}),n.jsx("th",{className:"table-header",children:"Manager"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Kitchen Type"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(O=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:O.outletCode}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900 font-medium",children:O.outletName}),n.jsx("div",{className:"text-gray-500 text-sm max-w-xs truncate",children:O.description})]})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M(O.outletType)}`,children:O.outletType})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(fu,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{children:[O.address.city,", ",O.address.state]})]})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900 font-medium",children:O.contactInfo.managerName}),n.jsx("div",{className:"text-gray-500 text-sm",children:O.contactInfo.phone})]})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I(O.status)}`,children:O.status})}),n.jsx("td",{className:"table-cell",children:O.isCentralKitchen?n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:" Central Kitchen"}):n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:" Regular Outlet"})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>{j(O),w(!0)},className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(Yr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/outlets/edit/${O.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Br,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>P(O.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx($e,{className:"h-4 w-4"})})]})})]},O.id))})]})})}),p&&x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Outlet Details"}),n.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code"}),n.jsx("p",{className:"text-gray-900 font-mono",children:x.outletCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name"}),n.jsx("p",{className:"text-gray-900",children:x.outletName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M(x.outletType)}`,children:x.outletType})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I(x.status)}`,children:x.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Type"}),x.isCentralKitchen?n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:" Central Kitchen"}):n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:" Regular Outlet"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("p",{className:"text-gray-900",children:x.timezone})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsxs("p",{className:"text-gray-900",children:[x.address.street,n.jsx("br",{}),x.address.city,", ",x.address.state," ",x.address.zipCode,n.jsx("br",{}),x.address.country]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone"}),n.jsx("p",{className:"text-gray-900",children:x.contactInfo.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email"}),n.jsx("p",{className:"text-gray-900",children:x.contactInfo.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name"}),n.jsx("p",{className:"text-gray-900",children:x.contactInfo.managerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),n.jsx("p",{className:"text-gray-900",children:x.contactInfo.managerPhone||"N/A"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx(hy,{className:"h-6 w-6 mx-auto text-blue-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Seating"}),n.jsx("p",{className:"text-lg font-semibold text-blue-600",children:x.capacity.seatingCapacity})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx(tr,{className:"h-6 w-6 mx-auto text-green-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Kitchen"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:x.capacity.kitchenCapacity})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx(fu,{className:"h-6 w-6 mx-auto text-purple-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Storage"}),n.jsx("p",{className:"text-lg font-semibold text-purple-600",children:x.capacity.storageCapacity})]})]})]}),x.features.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:x.features.map((O,D)=>n.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:O},D))})]}),x.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("p",{className:"text-gray-900",children:x.notes})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>w(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{w(!1),e(`/outlets/edit/${x.id}`)},className:"btn-primary",children:"Edit Outlet"})]})]})})]})},TZ=()=>{const e=ge(),[t,r]=k.useState({outletCode:"",outletName:"",outletType:"Restaurant",description:"",address:{street:"",city:"",state:"",zipCode:"",country:"Kuwait"},contactInfo:{phone:"",email:"",managerName:"",managerPhone:"",managerEmail:""},operatingHours:{monday:{open:"09:00",close:"22:00",isOpen:!0},tuesday:{open:"09:00",close:"22:00",isOpen:!0},wednesday:{open:"09:00",close:"22:00",isOpen:!0},thursday:{open:"09:00",close:"22:00",isOpen:!0},friday:{open:"09:00",close:"22:00",isOpen:!0},saturday:{open:"09:00",close:"22:00",isOpen:!0},sunday:{open:"09:00",close:"22:00",isOpen:!0}},capacity:{seatingCapacity:0,kitchenCapacity:0,storageCapacity:0,capacityUnit:"SQM"},status:"Active",isCentralKitchen:!1,features:[],timezone:"Asia/Kuwait",notes:""}),[a,s]=k.useState({}),[i,o]=k.useState(!1),l=["Restaurant","Cafe","Food Court","Drive-Thru","Takeaway"],c=["Active","Inactive","Maintenance","Closed"],u=["SQM","CBM","KG","TON"],m=["Delivery","Takeaway","Dine-in","Drive-thru","Online Ordering","Catering"],d=()=>{const h={};return t.outletCode.trim()||(h.outletCode="Outlet code is required"),t.outletName.trim()||(h.outletName="Outlet name is required"),t.address.street.trim()||(h.street="Street address is required"),t.address.city.trim()||(h.city="City is required"),t.contactInfo.phone.trim()||(h.phone="Phone number is required"),t.contactInfo.email.trim()||(h.email="Email is required"),t.contactInfo.managerName.trim()||(h.managerName="Manager name is required"),s(h),Object.keys(h).length===0},f=async h=>{if(h.preventDefault(),!!d()){o(!0);try{(await te.createOutlet(t)).success?(alert("Outlet created successfully!"),e("/outlets")):alert("Failed to create outlet")}catch(g){alert("Error creating outlet: "+(g instanceof Error?g.message:"Unknown error")),console.error("Error creating outlet:",g)}finally{o(!1)}}},y=(h,g)=>{if(h.includes(".")){const[b,N]=h.split(".");r(x=>({...x,[b]:{...x[b]||{},[N]:g}}))}else r(b=>({...b,[h]:g}));a[h]&&s(b=>({...b,[h]:""}))},v=h=>{r(g=>({...g,features:g.features.includes(h)?g.features.filter(b=>b!==h):[...g.features,h]}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/outlets"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(et,{className:"h-5 w-5 mr-2"}),"Back to Outlets"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Outlet"}),n.jsx("p",{className:"text-gray-600",children:"Create a new restaurant outlet or central kitchen"})]})]})}),n.jsxs("form",{onSubmit:f,className:"space-y-6",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code *"}),n.jsx("input",{type:"text",className:`input-field ${a.outletCode?"border-red-500":""}`,value:t.outletCode,onChange:h=>y("outletCode",h.target.value.toUpperCase()),placeholder:"OUTLET-001"}),a.outletCode&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.outletCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.outletName?"border-red-500":""}`,value:t.outletName,onChange:h=>y("outletName",h.target.value),placeholder:"Downtown Restaurant"}),a.outletName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.outletName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsx("select",{className:"input-field",value:t.outletType,onChange:h=>y("outletType",h.target.value),children:l.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:h=>y("status",h.target.value),children:c.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.description,onChange:h=>y("description",h.target.value),placeholder:"Brief description of the outlet..."})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isCentralKitchen",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.isCentralKitchen,onChange:h=>y("isCentralKitchen",h.target.checked)}),n.jsx("label",{htmlFor:"isCentralKitchen",className:"ml-2 block text-sm text-gray-900",children:"This is a Central Kitchen"})]})})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),n.jsx("input",{type:"text",className:`input-field ${a.street?"border-red-500":""}`,value:t.address.street,onChange:h=>y("address.street",h.target.value),placeholder:"123 Main Street"}),a.street&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.street})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${a.city?"border-red-500":""}`,value:t.address.city,onChange:h=>y("address.city",h.target.value),placeholder:"Kuwait City"}),a.city&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),n.jsx("input",{type:"text",className:"input-field",value:t.address.state,onChange:h=>y("address.state",h.target.value),placeholder:"Kuwait"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),n.jsx("input",{type:"text",className:"input-field",value:t.address.zipCode,onChange:h=>y("address.zipCode",h.target.value),placeholder:"12345"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),n.jsx("input",{type:"text",className:"input-field",value:t.address.country,onChange:h=>y("address.country",h.target.value),placeholder:"Kuwait"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${a.phone?"border-red-500":""}`,value:t.contactInfo.phone,onChange:h=>y("contactInfo.phone",h.target.value),placeholder:"+965 1234 5678"}),a.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.email?"border-red-500":""}`,value:t.contactInfo.email,onChange:h=>y("contactInfo.email",h.target.value),placeholder:"outlet@restaurant.com"}),a.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.managerName?"border-red-500":""}`,value:t.contactInfo.managerName,onChange:h=>y("contactInfo.managerName",h.target.value),placeholder:"John Smith"}),a.managerName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.managerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),n.jsx("input",{type:"tel",className:"input-field",value:t.contactInfo.managerPhone,onChange:h=>y("contactInfo.managerPhone",h.target.value),placeholder:"+965 9876 5432"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Email"}),n.jsx("input",{type:"email",className:"input-field",value:t.contactInfo.managerEmail,onChange:h=>y("contactInfo.managerEmail",h.target.value),placeholder:"manager@restaurant.com"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Capacity & Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:t.capacity.seatingCapacity,onChange:h=>y("capacity.seatingCapacity",parseInt(h.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:t.capacity.kitchenCapacity,onChange:h=>y("capacity.kitchenCapacity",parseInt(h.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:t.capacity.storageCapacity,onChange:h=>y("capacity.storageCapacity",parseInt(h.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity Unit"}),n.jsx("select",{className:"input-field",value:t.capacity.capacityUnit,onChange:h=>y("capacity.capacityUnit",h.target.value),children:u.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(h=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.features.includes(h),onChange:()=>v(h)}),n.jsx("span",{className:"ml-2 text-sm text-gray-900",children:h})]},h))})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:t.timezone,onChange:h=>y("timezone",h.target.value),placeholder:"Asia/Kuwait"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:h=>y("notes",h.target.value),placeholder:"Additional notes about the outlet..."})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>e("/outlets"),className:"btn-secondary",disabled:i,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Create Outlet"]})})]})]})]})},MZ=()=>{const e=ge(),{id:t}=aa(),[r,a]=k.useState({outletCode:"",outletName:"",outletType:"Restaurant",description:"",address:{street:"",city:"",state:"",zipCode:"",country:"Kuwait"},contactInfo:{phone:"",email:"",managerName:"",managerPhone:"",managerEmail:""},operatingHours:{monday:{open:"09:00",close:"22:00",isOpen:!0},tuesday:{open:"09:00",close:"22:00",isOpen:!0},wednesday:{open:"09:00",close:"22:00",isOpen:!0},thursday:{open:"09:00",close:"22:00",isOpen:!0},friday:{open:"09:00",close:"22:00",isOpen:!0},saturday:{open:"09:00",close:"22:00",isOpen:!0},sunday:{open:"09:00",close:"22:00",isOpen:!0}},capacity:{seatingCapacity:0,kitchenCapacity:0,storageCapacity:0,capacityUnit:"SQM"},status:"Active",isCentralKitchen:!1,features:[],timezone:"Asia/Kuwait",notes:""}),[s,i]=k.useState({}),[o,l]=k.useState(!1),[c,u]=k.useState(!0),m=["Restaurant","Cafe","Food Court","Drive-Thru","Takeaway"],d=["Active","Inactive","Maintenance","Closed"],f=["SQM","CBM","KG","TON"],y=["Delivery","Takeaway","Dine-in","Drive-thru","Online Ordering","Catering"];k.useEffect(()=>{t&&v()},[t]);const v=async()=>{try{u(!0);const x=await te.getOutlet(t);x.success?a(x.data):(alert("Failed to load outlet"),e("/outlets"))}catch(x){alert("Error loading outlet: "+(x instanceof Error?x.message:"Unknown error")),e("/outlets")}finally{u(!1)}},h=()=>{const x={};return r.outletCode.trim()||(x.outletCode="Outlet code is required"),r.outletName.trim()||(x.outletName="Outlet name is required"),r.address.street.trim()||(x.street="Street address is required"),r.address.city.trim()||(x.city="City is required"),r.contactInfo.phone.trim()||(x.phone="Phone number is required"),r.contactInfo.email.trim()||(x.email="Email is required"),r.contactInfo.managerName.trim()||(x.managerName="Manager name is required"),i(x),Object.keys(x).length===0},g=async x=>{if(x.preventDefault(),!!h()){l(!0);try{(await te.updateOutlet(t,r)).success?(alert("Outlet updated successfully!"),e("/outlets")):alert("Failed to update outlet")}catch(j){alert("Error updating outlet: "+(j instanceof Error?j.message:"Unknown error")),console.error("Error updating outlet:",j)}finally{l(!1)}}},b=(x,j)=>{if(x.includes(".")){const[p,w]=x.split(".");a(C=>({...C,[p]:{...C[p]||{},[w]:j}}))}else a(p=>({...p,[x]:j}));s[x]&&i(p=>({...p,[x]:""}))},N=x=>{a(j=>({...j,features:j.features.includes(x)?j.features.filter(p=>p!==x):[...j.features,x]}))};return c?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading outlet..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/outlets"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(et,{className:"h-5 w-5 mr-2"}),"Back to Outlets"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Outlet"}),n.jsx("p",{className:"text-gray-600",children:"Update outlet information"})]})]})}),n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.outletCode?"border-red-500":""}`,value:r.outletCode,onChange:x=>b("outletCode",x.target.value.toUpperCase()),placeholder:"OUTLET-001"}),s.outletCode&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.outletCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.outletName?"border-red-500":""}`,value:r.outletName,onChange:x=>b("outletName",x.target.value),placeholder:"Downtown Restaurant"}),s.outletName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.outletName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsx("select",{className:"input-field",value:r.outletType,onChange:x=>b("outletType",x.target.value),children:m.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:x=>b("status",x.target.value),children:d.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.description,onChange:x=>b("description",x.target.value),placeholder:"Brief description of the outlet..."})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isCentralKitchen",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:r.isCentralKitchen,onChange:x=>b("isCentralKitchen",x.target.checked)}),n.jsx("label",{htmlFor:"isCentralKitchen",className:"ml-2 block text-sm text-gray-900",children:"This is a Central Kitchen"})]})})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),n.jsx("input",{type:"text",className:`input-field ${s.street?"border-red-500":""}`,value:r.address.street,onChange:x=>b("address.street",x.target.value),placeholder:"123 Main Street"}),s.street&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.street})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${s.city?"border-red-500":""}`,value:r.address.city,onChange:x=>b("address.city",x.target.value),placeholder:"Kuwait City"}),s.city&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),n.jsx("input",{type:"text",className:"input-field",value:r.address.state,onChange:x=>b("address.state",x.target.value),placeholder:"Kuwait"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),n.jsx("input",{type:"text",className:"input-field",value:r.address.zipCode,onChange:x=>b("address.zipCode",x.target.value),placeholder:"12345"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),n.jsx("input",{type:"text",className:"input-field",value:r.address.country,onChange:x=>b("address.country",x.target.value),placeholder:"Kuwait"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${s.phone?"border-red-500":""}`,value:r.contactInfo.phone,onChange:x=>b("contactInfo.phone",x.target.value),placeholder:"+965 1234 5678"}),s.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.email?"border-red-500":""}`,value:r.contactInfo.email,onChange:x=>b("contactInfo.email",x.target.value),placeholder:"outlet@restaurant.com"}),s.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.managerName?"border-red-500":""}`,value:r.contactInfo.managerName,onChange:x=>b("contactInfo.managerName",x.target.value),placeholder:"John Smith"}),s.managerName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.managerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),n.jsx("input",{type:"tel",className:"input-field",value:r.contactInfo.managerPhone,onChange:x=>b("contactInfo.managerPhone",x.target.value),placeholder:"+965 9876 5432"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Email"}),n.jsx("input",{type:"email",className:"input-field",value:r.contactInfo.managerEmail,onChange:x=>b("contactInfo.managerEmail",x.target.value),placeholder:"manager@restaurant.com"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Capacity & Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:r.capacity.seatingCapacity,onChange:x=>b("capacity.seatingCapacity",parseInt(x.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:r.capacity.kitchenCapacity,onChange:x=>b("capacity.kitchenCapacity",parseInt(x.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:r.capacity.storageCapacity,onChange:x=>b("capacity.storageCapacity",parseInt(x.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity Unit"}),n.jsx("select",{className:"input-field",value:r.capacity.capacityUnit,onChange:x=>b("capacity.capacityUnit",x.target.value),children:f.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(x=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:r.features.includes(x),onChange:()=>N(x)}),n.jsx("span",{className:"ml-2 text-sm text-gray-900",children:x})]},x))})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:r.timezone,onChange:x=>b("timezone",x.target.value),placeholder:"Asia/Kuwait"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:x=>b("notes",x.target.value),placeholder:"Additional notes about the outlet..."})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>e("/outlets"),className:"btn-secondary",disabled:o,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Update Outlet"]})})]})]})]})},IZ=()=>{const e=ge(),[t,r]=k.useState(null),[a,s]=k.useState(!0),[i,o]=k.useState(null),{notifications:l,markAsRead:c,markAllAsRead:u,clearAll:m}=da("Central Kitchen");k.useEffect(()=>{d()},[]);const d=async()=>{try{s(!0),o(null);const f=await te.getCentralKitchens();if(f.success&&f.data.length>0){const y=f.data[0];r(y)}else o("Central Kitchen not found")}catch(f){o(f instanceof Error?f.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",f)}finally{s(!1)}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Central Kitchen..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:d,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(tr,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Central Kitchen"}),n.jsxs("p",{className:"text-gray-600",children:["Main production facility - ",t==null?void 0:t.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:d,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsx(ua,{notifications:l,onMarkAsRead:c,onMarkAllAsRead:u,onClearAll:m})]})]}),n.jsx("div",{className:"card p-6 bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(tr,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t==null?void 0:t.outletName}),n.jsx("p",{className:"text-gray-600",children:"Central Kitchen Operations"}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(hy,{className:"h-4 w-4 mr-1"}),"Production Facility"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Dd,{className:"h-4 w-4 mr-1"}),"24/7 Operations"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Lt,{className:"h-4 w-4 mr-1"}),"Distribution Hub"]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t==null?void 0:t.outletCode}),n.jsx("div",{className:"text-sm text-gray-500",children:"Central Kitchen"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(ye,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Material Inventory"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xa,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Good Inventory"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/make-finished-good"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(hu,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Make Finished Good"}),n.jsx("p",{className:"text-gray-600",children:"Create finished goods from raw materials"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/create-transfer"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(Lt,{className:"h-8 w-8 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Transfer"}),n.jsx("p",{className:"text-gray-600",children:"Transfer inventory to outlets"})]})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("button",{onClick:()=>e("/central-kitchen/add-item"),className:"btn-primary flex items-center justify-center",children:[n.jsx(ye,{className:"h-4 w-4 mr-2"}),"Add Inventory Item"]}),n.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center justify-center",children:[n.jsx(Lt,{className:"h-4 w-4 mr-2"}),"View All Transfers"]}),n.jsxs("button",{onClick:()=>e("/sales-orders"),className:"btn-secondary flex items-center justify-center",children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"View Sales Orders"]})]})]})]})},bO=()=>{const[e,t]=k.useState({isOpen:!1,title:"",message:"",type:"info",confirmText:"OK",cancelText:"Cancel",showCancel:!1}),r=k.useCallback(async(u,m,d="info")=>new Promise(f=>{t({isOpen:!0,title:u,message:m,type:d,confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(y=>({...y,isOpen:!1})),f(void 0)}})}),[]),a=k.useCallback(async(u,m,d="warning")=>new Promise(f=>{t({isOpen:!0,title:u,message:m,type:d,confirmText:"Confirm",cancelText:"Cancel",showCancel:!0,onConfirm:()=>{t(y=>({...y,isOpen:!1})),f(!0)},onCancel:()=>{t(y=>({...y,isOpen:!1})),f(!1)}})}),[]),s=k.useCallback(async u=>new Promise(m=>{t({isOpen:!0,title:"Confirm Delete",message:`Are you sure you want to delete "${u}"? This action cannot be undone.`,type:"error",confirmText:"Delete",cancelText:"Cancel",showCancel:!0,onConfirm:()=>{t(d=>({...d,isOpen:!1})),m(!0)},onCancel:()=>{t(d=>({...d,isOpen:!1})),m(!1)}})}),[]),i=k.useCallback(async(u,m)=>new Promise(d=>{t({isOpen:!0,title:u,message:m,type:"success",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(f=>({...f,isOpen:!1})),d(void 0)}})}),[]),o=k.useCallback(async(u,m)=>new Promise(d=>{t({isOpen:!0,title:u,message:m,type:"error",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(f=>({...f,isOpen:!1})),d(void 0)}})}),[]),l=k.useCallback(async(u,m)=>new Promise(d=>{t({isOpen:!0,title:u,message:m,type:"warning",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(f=>({...f,isOpen:!1})),d(void 0)}})}),[]),c=k.useCallback(()=>{t(u=>({...u,isOpen:!1}))},[]);return{confirmation:e,showAlert:r,showConfirm:a,showDeleteConfirm:s,showSuccess:i,showError:o,showWarning:l,closeConfirmation:c}},jO=({isOpen:e,onClose:t,onConfirm:r,onCancel:a,title:s,message:i,type:o="info",confirmText:l="OK",cancelText:c="Cancel",showCancel:u=!1})=>{if(!e)return null;const m=()=>{switch(o){case"success":return n.jsx(WS,{className:"h-6 w-6 text-green-600"});case"warning":return n.jsx(Jr,{className:"h-6 w-6 text-yellow-600"});case"error":return n.jsx(qS,{className:"h-6 w-6 text-red-600"});default:return n.jsx(KS,{className:"h-6 w-6 text-blue-600"})}},d=()=>{switch(o){case"success":return"bg-green-600 hover:bg-green-700 text-white";case"warning":return"bg-yellow-600 hover:bg-yellow-700 text-white";case"error":return"bg-red-600 hover:bg-red-700 text-white";default:return"bg-blue-600 hover:bg-blue-700 text-white"}},f=()=>{r&&r(),t()},y=()=>{a&&a(),t()};return n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[n.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),n.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[n.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:n.jsxs("div",{className:"sm:flex sm:items-start",children:[n.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-gray-100 sm:mx-0 sm:h-10 sm:w-10",children:m()}),n.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:s}),n.jsx("div",{className:"mt-2",children:n.jsx("p",{className:"text-sm text-gray-500 whitespace-pre-line",children:i})})]})]})}),n.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[u&&n.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:y,children:c}),n.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm ${d()}`,onClick:f,children:l})]})]})]})})},NO=({isOpen:e,onClose:t,transferOrder:r,onAccept:a,onReject:s,loading:i=!1})=>{if(!e||!r)return null;const o=u=>{switch(u){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},l=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=u=>new Intl.NumberFormat("en-KW",{style:"currency",currency:"KWD"}).format(u);return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Lt,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Transfer Order Details"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",r.transferNumber]})]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:i,children:n.jsx(Ee,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)]",children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(tr,{className:"h-5 w-5 text-blue-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"From Outlet"})]}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Outlet:"}),n.jsx("span",{className:"ml-2 text-gray-900",children:r.fromOutlet.name})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(xT,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Transfer Date"})]}),n.jsx("p",{className:"text-gray-900",children:l(r.transferDate)})]}),n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(qS,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Priority"})]}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${o(r.priority)}`,children:r.priority})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Pl,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Requested By"})]}),n.jsx("p",{className:"text-gray-900",children:r.requestedBy}),n.jsx("p",{className:"text-xs text-gray-500",children:l(r.requestedAt||r.transferDate)})]})}),n.jsxs("div",{className:"card p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transfer Items"}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map((u,m)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u.itemCode}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:u.itemName}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.itemType==="Raw Material"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:u.itemType==="Raw Material"?"Raw Material":"Finished Goods"})}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:[u.category||"-",u.subCategory&&n.jsx("div",{className:"text-xs text-gray-400",children:u.subCategory})]}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:[u.quantity," ",u.unitOfMeasure]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:c(u.unitPrice)}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c(u.totalPrice||u.totalValue||0)})]},m))})]}),n.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Amount:"}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:c(r.totalAmount||r.totalValue||0)})]})})]})]})]})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Review the transfer order details before making a decision"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",disabled:i,children:"Close"}),n.jsx("button",{onClick:()=>{const u=r._id||r.id||"";console.log("TransferOrderModal: Reject button clicked"),console.log("TransferOrderModal: transferOrder._id =",r._id),console.log("TransferOrderModal: transferOrder.id =",r.id),console.log("TransferOrderModal: Using transferOrderId =",u),s(u)},className:"px-4 py-2 text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors disabled:opacity-50",disabled:i,children:i?"Processing...":"Reject Order"}),n.jsx("button",{onClick:()=>{const u=r._id||r.id||"";console.log("TransferOrderModal: Accept button clicked"),console.log("TransferOrderModal: transferOrder._id =",r._id),console.log("TransferOrderModal: transferOrder.id =",r.id),console.log("TransferOrderModal: Using transferOrderId =",u),a(u)},className:"px-4 py-2 text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors disabled:opacity-50",disabled:i,children:i?"Processing...":"Accept Order"})]})]})]})})},DZ=()=>{const e=ge(),t=k.useRef(null),{confirmation:r,showAlert:a,closeConfirmation:s}=bO(),[i,o]=k.useState(null),[l,c]=k.useState([]),[u,m]=k.useState(!0),[d,f]=k.useState(null),[y,v]=k.useState(""),[h,g]=k.useState(""),[b,N]=k.useState(""),[x,j]=k.useState("materialName"),[p,w]=k.useState("asc"),[C,P]=k.useState(null),[E,I]=k.useState(!1),[M,O]=k.useState({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""}),[D,B]=k.useState(!1),[_,A]=k.useState(null),[F,S]=k.useState(!1),{notifications:T,markAsRead:R,markAllAsRead:$,clearAll:L,refreshNotifications:Q}=da("Central Kitchen"),Y=T.filter(z=>z.isTransferOrder&&(z.itemType==="Raw Material"||z.itemType==="Mixed"));k.useEffect(()=>{ne()},[]),k.useEffect(()=>{u||fe()},[y,h,b,x,p]);const ne=async()=>{try{m(!0),f(null);const z=await te.getCentralKitchens();if(z.success&&z.data.length>0){const ae=z.data[0];o({id:ae._id,outletCode:ae.kitchenCode,outletName:ae.kitchenName,outletType:"Central Kitchen",isCentralKitchen:!0}),await fe()}else f("Central Kitchen not found")}catch(z){f(z instanceof Error?z.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",z)}finally{m(!1)}},fe=async()=>{try{console.log("Loading raw materials from Central Kitchen dedicated database");const z=await te.getCentralKitchenRawMaterials({limit:1e3,search:y,subCategory:h,status:b,sortBy:x==="materialName"?"materialName":x,sortOrder:p});if(z.success)if(console.log("Loaded Central Kitchen Raw Materials:",z.data),z.data&&z.data.length>0){const ae=z.data.map(ee=>({id:ee._id||ee.id,outletId:"central-kitchen",outletCode:"CK001",outletName:"Central Kitchen",materialId:ee._id,materialCode:ee.materialCode,materialName:ee.materialName,category:ee.subCategory,unitOfMeasure:ee.unitOfMeasure,unitPrice:ee.unitPrice,currentStock:ee.currentStock,reservedStock:0,availableStock:ee.currentStock,minimumStock:ee.minimumStock,maximumStock:ee.maximumStock,reorderPoint:ee.reorderPoint,totalValue:ee.currentStock*ee.unitPrice,location:"Main Storage",batchNumber:"",supplier:"",lastUpdated:ee.lastStockUpdate||ee.updatedAt,status:ee.status,notes:ee.notes||"",isActive:!0}));c(ae)}else console.log("No raw materials inventory found for this central kitchen"),c([]),f("No raw materials inventory found. Please add some raw materials to the central kitchen.");else console.error("Failed to load raw materials inventory:",z.error||"API Error"),f(`Failed to load inventory from server: ${z.error||"Unknown error"}`)}catch(z){f(z instanceof Error?z.message:"Failed to load inventory"),console.error("Error loading inventory:",z)}},X=()=>{v(""),g(""),N(""),j("materialName"),w("asc")},he=z=>{P(z),O({currentStock:z.currentStock.toString(),minimumStock:z.minimumStock.toString(),maximumStock:z.maximumStock.toString(),reorderPoint:z.reorderPoint.toString(),unitPrice:z.unitPrice.toString(),notes:z.notes||""}),I(!0)},G=async()=>{if(C)try{m(!0);const z={currentStock:parseFloat(M.currentStock)||0,minimumStock:parseFloat(M.minimumStock)||0,maximumStock:parseFloat(M.maximumStock)||0,reorderPoint:parseFloat(M.reorderPoint)||0,unitPrice:parseFloat(M.unitPrice)||0,notes:M.notes,updatedBy:"user"},ae=await te.updateCentralKitchenRawMaterial(C.id,z);if(ae.success)alert("Raw material updated successfully!"),I(!1),P(null),await fe();else throw new Error(ae.message||"Failed to update raw material")}catch(z){console.error("Error updating raw material:",z),alert(`Failed to update raw material: ${z instanceof Error?z.message:"Unknown error"}`)}finally{m(!1)}},le=()=>{I(!1),P(null),O({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""})},ue=()=>{var z;(z=t.current)==null||z.click()},H=async z=>{var ee;const ae=(ee=z.target.files)==null?void 0:ee[0];if(ae){if(!ae.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const ht=(await ae.text()).split(`
`).filter(Sr=>Sr.trim());if(ht.length<2){alert("CSV file must contain at least a header row and one data row");return}const Fe=ht.slice(1);let Xa=0,Ya=0;for(const Sr of Fe)try{const Ci=Sr.split(",").map(wm=>wm.replace(/"/g,"").trim()),Dt={materialCode:Ci[0],materialName:Ci[1],category:Ci[3],unitOfMeasure:Ci[4],unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplier:"",notes:""},wO={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(i==null?void 0:i.id)||"central-kitchen-001",outletCode:(i==null?void 0:i.outletCode)||"",outletName:(i==null?void 0:i.outletName)||"",materialId:Dt.materialCode,materialCode:Dt.materialCode,materialName:Dt.materialName,category:Dt.category,unitOfMeasure:Dt.unitOfMeasure,unitPrice:Dt.unitPrice,currentStock:Dt.currentStock,reservedStock:0,availableStock:Dt.currentStock,minimumStock:Dt.minimumStock,maximumStock:Dt.maximumStock,reorderPoint:Math.ceil(Dt.minimumStock*1.5),totalValue:Dt.currentStock*Dt.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:Dt.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:Dt.notes,isActive:!0};c(wm=>[...wm,wO]),Xa++}catch{Ya++}alert(`Import completed!

Successfully imported: ${Xa} items
Errors: ${Ya}`)}catch(Me){alert("Error importing file: "+(Me instanceof Error?Me.message:"Unknown error"))}finally{t.current&&(t.current.value="")}}},xe=async()=>{const z=l.filter(ee=>ee.status==="Low Stock"||ee.status==="Out of Stock");if(z.length===0){await a("All Items In Stock","No items need to be requested at this time. All items are in stock.","info");return}const ae=`Requested Items Notification:

Total items needing restock: ${z.length}

Items to request:
`+z.map(ee=>` ${ee.materialName} (${ee.materialCode}) - Current Stock: ${ee.currentStock} ${ee.unitOfMeasure}`).join(`
`)+`

Please contact suppliers to restock these items.`;await a("Requested Items Notification",ae,"warning"),console.log("Requested items notification generated:",z)},ce=async z=>{try{const ae=await te.getTransferOrderById(z);if(ae.success)return ae.data;throw new Error(ae.error||"Failed to fetch transfer order")}catch(ae){throw console.error("Error fetching transfer order:",ae),ae}},K=async z=>{try{console.log("handleViewTransferOrder called with transferOrderId:",z),S(!0);const ae=await ce(z);A(ae),B(!0)}catch(ae){console.error("Error loading transfer order:",ae),alert("Failed to load transfer order details")}finally{S(!1)}},U=async z=>{var ae;try{S(!0),console.log("Starting acceptance process for transfer order:",z),console.log("Fetching transfer order details...");const ee=await ce(z);console.log("Transfer order details:",ee),console.log("Updating transfer order inventory...");let Me,ht;try{ht=await te.updateTransferOrderInventory(z,"approve"),console.log("Inventory update response:",ht)}catch(Fe){throw console.error("Inventory update failed:",Fe),new Error(`Inventory update failed: ${Fe instanceof Error?Fe.message:"Unknown error"}`)}try{Me=await te.updateTransferOrderStatus(z,{status:"Approved",approvedBy:"Central Kitchen Manager",notes:"Transfer order approved by Central Kitchen"}),console.log("Status update response:",Me)}catch(Fe){throw console.error("Status update failed:",Fe),new Error(`Status update failed: ${Fe instanceof Error?Fe.message:"Unknown error"}`)}if(Me.success&&ht.success){const Fe=((ae=ee.items[0])==null?void 0:ae.itemType)||"Mixed",Xa=ee.items.map(Sr=>`${Sr.itemName} (${Sr.quantity} ${Sr.unitOfMeasure||"pcs"})`).join(", ");console.log("Creating acceptance notification for Kuwait City...");const Ya=await te.createNotification({title:"Transfer Order Accepted",message:`Transfer order #${ee.transferNumber} has been accepted. Items transferred: ${Xa}`,type:"transfer_acceptance",targetOutlet:"Kuwait City",sourceOutlet:"Central Kitchen",transferOrderId:z,itemType:Fe,priority:"normal"});console.log("Notification response:",Ya),alert("Transfer order accepted and notification sent to Kuwait City"),B(!1),A(null),R(z)}else throw new Error(`Failed to update transfer order status. Status: ${Me.success}, Inventory: ${ht.success}`)}catch(ee){console.error("Error accepting transfer order:",ee),console.error("Error details:",ee instanceof Error?ee.message:"Unknown error"),alert(`Failed to accept transfer order: ${ee instanceof Error?ee.message:"Unknown error"}`)}finally{S(!1)}},W=async z=>{var ae;try{S(!0),console.log("Starting rejection process for transfer order:",z),console.log("Fetching transfer order details...");const ee=await ce(z);console.log("Transfer order details:",ee),console.log("Updating transfer order inventory...");let Me,ht;try{ht=await te.updateTransferOrderInventory(z,"reject"),console.log("Inventory update response:",ht)}catch(Fe){throw console.error("Inventory update failed:",Fe),new Error(`Inventory update failed: ${Fe instanceof Error?Fe.message:"Unknown error"}`)}try{Me=await te.updateTransferOrderStatus(z,{status:"Rejected",approvedBy:"Central Kitchen Manager",notes:"Transfer order rejected by Central Kitchen"}),console.log("Status update response:",Me)}catch(Fe){throw console.error("Status update failed:",Fe),new Error(`Status update failed: ${Fe instanceof Error?Fe.message:"Unknown error"}`)}if(Me.success&&ht.success){const Fe=((ae=ee.items[0])==null?void 0:ae.itemType)||"Mixed",Xa=ee.items.map(Sr=>`${Sr.itemName} (${Sr.quantity} ${Sr.unitOfMeasure||"pcs"})`).join(", ");console.log("Creating notification for Kuwait City...");const Ya=await te.createNotification({title:"Transfer Order Rejected",message:`Transfer order #${ee.transferNumber} has been rejected. Requested items: ${Xa}`,type:"transfer_rejection",targetOutlet:"Kuwait City",sourceOutlet:"Central Kitchen",transferOrderId:z,itemType:Fe,priority:"normal"});console.log("Notification response:",Ya),alert("Transfer order rejected and notification sent to Kuwait City"),B(!1),A(null),R(z)}else throw new Error(`Failed to update transfer order status. Status: ${Me.success}, Inventory: ${ht.success}`)}catch(ee){console.error("Error rejecting transfer order:",ee),console.error("Error details:",ee instanceof Error?ee.message:"Unknown error"),alert(`Failed to reject transfer order: ${ee instanceof Error?ee.message:"Unknown error"}`)}finally{S(!1)}},pe=l.length,Z=l.reduce((z,ae)=>z+ae.totalValue,0),Se=l.filter(z=>z.status==="Low Stock").length,ft=l.filter(z=>z.status==="Out of Stock").length,st=[...new Set(l.map(z=>z.category))];return u?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Raw Materials..."})]})}):d?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:d}),n.jsx("button",{onClick:ne,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(ye,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Raw Material Inventory"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",i==null?void 0:i.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:ne,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/central-kitchen/add-item"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Raw Material"]}),n.jsxs("button",{onClick:xe,className:"btn-secondary flex items-center",title:"Requested Item",children:[n.jsx(mu,{className:"h-4 w-4 mr-2"}),"Requested Item"]}),n.jsx(ua,{notifications:Y,onMarkAsRead:R,onMarkAllAsRead:$,onClearAll:L,onViewTransferOrder:K,onRefresh:Q})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(ye,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:pe})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(ye,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Z.toFixed(2)," KWD"]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Jr,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Se})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(fy,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ft})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search raw materials by name, code, or supplier...",className:"input-field pl-10",value:y,onChange:z=>v(z.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:X,className:"btn-secondary flex items-center",title:"Clear all filters",children:"Clear Filters"}),n.jsxs("button",{onClick:ue,className:"btn-secondary flex items-center",title:"Import inventory from CSV",children:[n.jsx(mi,{className:"h-4 w-4 mr-2"}),"Import"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"input-field",value:h,onChange:z=>g(z.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),st.map(z=>n.jsx("option",{value:z,children:z},z))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:b,onChange:z=>N(z.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"In Stock",children:"In Stock"}),n.jsx("option",{value:"Low Stock",children:"Low Stock"}),n.jsx("option",{value:"Out of Stock",children:"Out of Stock"}),n.jsx("option",{value:"Overstock",children:"Overstock"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:x,onChange:z=>j(z.target.value),children:[n.jsx("option",{value:"materialName",children:"Material Name"}),n.jsx("option",{value:"currentStock",children:"Current Stock"}),n.jsx("option",{value:"totalValue",children:"Total Value"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"lastUpdated",children:"Last Updated"})]}),n.jsx("button",{onClick:()=>w(p==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${p==="asc"?"Descending":"Ascending"}`,children:p==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",l.length," raw material items",(y||h||b)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(y||h||b)&&n.jsx("button",{onClick:X,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),n.jsxs("div",{className:"card overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials Inventory"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Complete inventory list with all fields"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-green-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(z=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:z.materialCode}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:z.materialName}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:z.category}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:z.unitOfMeasure}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:z.currentStock}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{onClick:()=>he(z),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:"Edit"})})]},z.id))})]})})]}),n.jsx("input",{ref:t,type:"file",accept:".csv",onChange:H,style:{display:"none"}}),E&&C&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Edit Raw Material: ",C.materialName]}),n.jsx("button",{onClick:le,className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Stock (",C.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:M.currentStock,onChange:z=>O(ae=>({...ae,currentStock:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Minimum Stock (",C.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:M.minimumStock,onChange:z=>O(ae=>({...ae,minimumStock:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Maximum Stock (",C.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:M.maximumStock,onChange:z=>O(ae=>({...ae,maximumStock:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reorder Point (",C.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:M.reorderPoint,onChange:z=>O(ae=>({...ae,reorderPoint:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",value:M.unitPrice,onChange:z=>O(ae=>({...ae,unitPrice:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:M.notes,onChange:z=>O(ae=>({...ae,notes:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Optional notes..."})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:le,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),n.jsx("button",{onClick:G,disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:u?"Saving...":"Save Changes"})]})]})}),n.jsx(jO,{isOpen:r.isOpen,onClose:s,onConfirm:r.onConfirm,onCancel:r.onCancel,title:r.title,message:r.message,type:r.type,confirmText:r.confirmText,cancelText:r.cancelText,showCancel:r.showCancel}),n.jsx(NO,{isOpen:D,onClose:()=>{B(!1),A(null)},transferOrder:_,onAccept:U,onReject:W,loading:F})]})},$Z=()=>{const e=ge(),t=k.useRef(null),{confirmation:r,showAlert:a,closeConfirmation:s}=bO(),[i,o]=k.useState(null),[l,c]=k.useState([]),[u,m]=k.useState(!0),[d,f]=k.useState(null),[y,v]=k.useState(""),[h,g]=k.useState(""),[b,N]=k.useState(""),[x,j]=k.useState("productName"),[p,w]=k.useState("asc"),[C,P]=k.useState(!1),[E,I]=k.useState(null),[M,O]=k.useState(!1),{notifications:D,markAsRead:B,markAllAsRead:_,clearAll:A,refreshNotifications:F}=da("Central Kitchen"),S=D.filter(K=>K.isTransferOrder&&(K.itemType==="Finished Goods"||K.itemType==="Mixed"));k.useEffect(()=>{T(),R()},[]),k.useEffect(()=>{u||R()},[u,y,h,b,x,p]);const T=async()=>{try{m(!0),f(null);const K=await te.getCentralKitchens();if(K.success&&K.data.length>0){const U=K.data[0];o({id:U._id,outletCode:U.outletCode||U.kitchenCode,outletName:U.outletName||U.kitchenName,outletType:"Central Kitchen",isCentralKitchen:!0})}else f("Central Kitchen not found")}catch(K){f(K instanceof Error?K.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",K)}finally{m(!1)}},R=async()=>{try{console.log("Loading finished goods from Central Kitchen dedicated database");const K=await te.getCentralKitchenFinishedProducts({limit:1e3,search:y,subCategory:h,status:b,sortBy:x==="productName"?"productName":x,sortOrder:p});if(K.success)if(console.log("Loaded Central Kitchen Finished Goods:",K.data),K.data&&K.data.length>0){const U=K.data.map(W=>({id:W._id||W.id,outletId:"central-kitchen",outletCode:"CK001",outletName:"Central Kitchen",productId:W._id,productCode:W.productCode,productName:W.productName,category:W.category,subCategory:W.subCategory,unitOfMeasure:W.unitOfMeasure,unitPrice:W.unitPrice,costPrice:W.costPrice,currentStock:W.currentStock,availableStock:W.currentStock,minimumStock:W.minimumStock,maximumStock:W.maximumStock,totalValue:W.currentStock*W.unitPrice,productionDate:new Date().toISOString(),expiryDate:W.shelfLife?new Date(Date.now()+W.shelfLife*24*60*60*1e3).toISOString():new Date(Date.now()+6048e5).toISOString(),qualityStatus:"Good",batchNumber:`FG-${W.productCode}-${Date.now()}`,location:"Main Storage",status:W.status,notes:W.notes||"",isActive:W.isActive,reservedStock:W.reservedStock||0,reorderPoint:W.reorderPoint||W.minimumStock||0,storageLocation:W.storageLocation||"Default Location",storageTemperature:W.storageTemperature||"Room Temperature",lastStockCount:W.lastStockCount||new Date().toISOString(),shelfLife:W.shelfLife||0,qualityNotes:W.qualityNotes||"",transferSource:W.transferSource||"Central Kitchen",lastUpdated:W.lastUpdated||new Date().toISOString()}));c(U)}else console.log("No finished goods inventory found for this central kitchen"),c([]),f("No finished goods inventory found. Please add some finished goods to the central kitchen.");else console.error("Failed to load finished goods inventory:",K.error||"API Error"),f(`Failed to load inventory from server: ${K.error||"Unknown error"}`)}catch(K){f(K instanceof Error?K.message:"Failed to load inventory"),console.error("Error loading inventory:",K)}},$=()=>{v(""),g(""),N(""),j("productName"),w("asc")},L=()=>{var K;(K=t.current)==null||K.click()},Q=async K=>{var W;const U=(W=K.target.files)==null?void 0:W[0];if(U){if(!U.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const Z=(await U.text()).split(`
`).filter(z=>z.trim());if(Z.length<2){alert("CSV file must contain at least a header row and one data row");return}const Se=Z.slice(1);let ft=0,st=0;for(const z of Se)try{const ae=z.split(",").map(ht=>ht.replace(/"/g,"").trim()),ee={productCode:ae[0],productName:ae[1],category:ae[2],unitOfMeasure:ae[3],unitPrice:parseFloat(ae[4])||0,costPrice:parseFloat(ae[5])||0,currentStock:parseInt(ae[6])||0,minimumStock:parseInt(ae[8])||0,maximumStock:parseInt(ae[9])||0,productionDate:ae[12]||new Date().toISOString().split("T")[0],expiryDate:ae[13]||new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],batchNumber:ae[14]||`BATCH-${Date.now()}`,storageLocation:ae[15]||"Cold Storage",storageTemperature:ae[16]||"4C",qualityStatus:ae[17]||"Good",notes:ae[19]||""},Me={id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(i==null?void 0:i.id)||"central-kitchen-001",outletCode:(i==null?void 0:i.outletCode)||"",outletName:(i==null?void 0:i.outletName)||"",productId:ee.productCode,productCode:ee.productCode,productName:ee.productName,category:ee.category,unitOfMeasure:ee.unitOfMeasure,unitPrice:ee.unitPrice,costPrice:ee.costPrice,currentStock:ee.currentStock,reservedStock:0,availableStock:ee.currentStock,minimumStock:ee.minimumStock,maximumStock:ee.maximumStock,reorderPoint:Math.ceil(ee.minimumStock*1.5),totalValue:ee.currentStock*ee.unitPrice,productionDate:ee.productionDate,expiryDate:ee.expiryDate,batchNumber:ee.batchNumber,storageLocation:ee.storageLocation,storageTemperature:ee.storageTemperature,qualityStatus:ee.qualityStatus,qualityNotes:"Imported from CSV",status:"In Stock",transferSource:"Import",lastUpdated:new Date().toISOString(),notes:ee.notes,isActive:!0};c(ht=>[...ht,Me]),ft++}catch{st++}alert(`Import completed!

Successfully imported: ${ft} items
Errors: ${st}`)}catch(pe){alert("Error importing file: "+(pe instanceof Error?pe.message:"Unknown error"))}finally{t.current&&(t.current.value="")}}},Y=async()=>{const K=l.filter(W=>W.status==="Low Stock"||W.status==="Out of Stock");if(K.length===0){await a("All Items In Stock","No finished goods need to be produced at this time. All items are in stock.","info");return}const U=`Requested Finished Goods Notification:

Total items needing production: ${K.length}

Items to produce:
`+K.map(W=>` ${W.productName} (${W.productCode}) - Current Stock: ${W.currentStock} ${W.unitOfMeasure}`).join(`
`)+`

Please schedule production for these finished goods.`;await a("Requested Finished Goods Notification",U,"warning"),console.log("Requested finished goods notification generated:",K)},ne=async K=>{try{const U=await te.getTransferOrderById(K);if(U.success)return U.data;throw new Error(U.error||"Failed to fetch transfer order")}catch(U){throw console.error("Error fetching transfer order:",U),U}},fe=async K=>{try{console.log("handleViewTransferOrder called with transferOrderId:",K),O(!0);const U=await ne(K);I(U),P(!0)}catch(U){console.error("Error loading transfer order:",U),alert("Failed to load transfer order details")}finally{O(!1)}},X=async K=>{var U;try{O(!0),console.log("Starting acceptance process for transfer order:",K),console.log("Fetching transfer order details...");const W=await ne(K);console.log("Transfer order details:",W),console.log("Updating transfer order inventory...");let pe,Z;try{Z=await te.updateTransferOrderInventory(K,"approve"),console.log("Inventory update response:",Z)}catch(Se){throw console.error("Inventory update failed:",Se),new Error(`Inventory update failed: ${Se instanceof Error?Se.message:"Unknown error"}`)}try{pe=await te.updateTransferOrderStatus(K,{status:"Approved",approvedBy:"Central Kitchen Manager",notes:"Transfer order approved by Central Kitchen"}),console.log("Status update response:",pe)}catch(Se){throw console.error("Status update failed:",Se),new Error(`Status update failed: ${Se instanceof Error?Se.message:"Unknown error"}`)}if(pe.success&&Z.success){const Se=((U=W.items[0])==null?void 0:U.itemType)||"Mixed",ft=W.items.map(z=>`${z.itemName} (${z.quantity} ${z.unitOfMeasure||"pcs"})`).join(", ");console.log("Creating acceptance notification for Kuwait City...");const st=await te.createNotification({title:"Transfer Order Accepted",message:`Transfer order #${W.transferNumber} has been accepted. Items transferred: ${ft}`,type:"transfer_acceptance",targetOutlet:"Kuwait City",sourceOutlet:"Central Kitchen",transferOrderId:K,itemType:Se,priority:"normal"});console.log("Notification response:",st),alert("Transfer order accepted and notification sent to Kuwait City"),P(!1),I(null),B(K)}else throw new Error(`Failed to update transfer order status. Status: ${pe.success}, Inventory: ${Z.success}`)}catch(W){console.error("Error accepting transfer order:",W),console.error("Error details:",W instanceof Error?W.message:"Unknown error"),alert(`Failed to accept transfer order: ${W instanceof Error?W.message:"Unknown error"}`)}finally{O(!1)}},he=async K=>{var U;try{O(!0),console.log("Starting rejection process for transfer order:",K),console.log("Fetching transfer order details...");const W=await ne(K);console.log("Transfer order details:",W),console.log("Updating transfer order inventory...");let pe,Z;try{Z=await te.updateTransferOrderInventory(K,"reject"),console.log("Inventory update response:",Z)}catch(Se){throw console.error("Inventory update failed:",Se),new Error(`Inventory update failed: ${Se instanceof Error?Se.message:"Unknown error"}`)}try{pe=await te.updateTransferOrderStatus(K,{status:"Rejected",approvedBy:"Central Kitchen Manager",notes:"Transfer order rejected by Central Kitchen"}),console.log("Status update response:",pe)}catch(Se){throw console.error("Status update failed:",Se),new Error(`Status update failed: ${Se instanceof Error?Se.message:"Unknown error"}`)}if(pe.success&&Z.success){const Se=((U=W.items[0])==null?void 0:U.itemType)||"Mixed",ft=W.items.map(z=>`${z.itemName} (${z.quantity} ${z.unitOfMeasure||"pcs"})`).join(", ");console.log("Creating notification for Kuwait City...");const st=await te.createNotification({title:"Transfer Order Rejected",message:`Transfer order #${W.transferNumber} has been rejected. Requested items: ${ft}`,type:"transfer_rejection",targetOutlet:"Kuwait City",sourceOutlet:"Central Kitchen",transferOrderId:K,itemType:Se,priority:"normal"});console.log("Notification response:",st),alert("Transfer order rejected and notification sent to Kuwait City"),P(!1),I(null),B(K)}else throw new Error(`Failed to update transfer order status. Status: ${pe.success}, Inventory: ${Z.success}`)}catch(W){console.error("Error rejecting transfer order:",W),console.error("Error details:",W instanceof Error?W.message:"Unknown error"),alert(`Failed to reject transfer order: ${W instanceof Error?W.message:"Unknown error"}`)}finally{O(!1)}},G=l.length,le=l.reduce((K,U)=>K+U.totalValue,0),ue=l.filter(K=>K.status==="Low Stock").length,H=l.filter(K=>K.status==="Out of Stock").length,xe=l.filter(K=>K.status==="Expired").length,ce=[...new Set(l.map(K=>K.category))];return u?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Finished Goods..."})]})}):d?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:d}),n.jsx("button",{onClick:T,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(ye,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Finished Good Inventory"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",i==null?void 0:i.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:T,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/central-kitchen/make-finished-good"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Make Finished Good"]}),n.jsxs("button",{onClick:Y,className:"btn-secondary flex items-center",title:"Requested Item",children:[n.jsx(mu,{className:"h-4 w-4 mr-2"}),"Requested Item"]}),n.jsx(ua,{notifications:S,onMarkAsRead:B,onMarkAllAsRead:_,onClearAll:A,onViewTransferOrder:fe,onRefresh:F})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(ye,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:G})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(ye,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[le.toFixed(2)," KWD"]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Jr,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ue})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(fy,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:H})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(Jr,{className:"h-6 w-6 text-orange-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expired Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:xe})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search finished goods by name, code, or category...",className:"input-field pl-10",value:y,onChange:K=>v(K.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:$,className:"btn-secondary flex items-center",title:"Clear all filters",children:"Clear Filters"}),n.jsxs("button",{onClick:L,className:"btn-secondary flex items-center",title:"Import inventory from CSV",children:[n.jsx(mi,{className:"h-4 w-4 mr-2"}),"Import"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"input-field",value:h,onChange:K=>g(K.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),ce.map(K=>n.jsx("option",{value:K,children:K},K))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:b,onChange:K=>N(K.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"In Stock",children:"In Stock"}),n.jsx("option",{value:"Low Stock",children:"Low Stock"}),n.jsx("option",{value:"Out of Stock",children:"Out of Stock"}),n.jsx("option",{value:"Overstock",children:"Overstock"}),n.jsx("option",{value:"Expired",children:"Expired"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:x,onChange:K=>j(K.target.value),children:[n.jsx("option",{value:"productName",children:"Product Name"}),n.jsx("option",{value:"currentStock",children:"Current Stock"}),n.jsx("option",{value:"totalValue",children:"Total Value"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"expiryDate",children:"Expiry Date"}),n.jsx("option",{value:"lastUpdated",children:"Last Updated"})]}),n.jsx("button",{onClick:()=>w(p==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${p==="asc"?"Descending":"Ascending"}`,children:p==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",l.length," finished good items",(y||h||b)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(y||h||b)&&n.jsx("button",{onClick:$,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),n.jsxs("div",{className:"card overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods Inventory"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Complete finished goods inventory list"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"SKU"}),n.jsx("th",{className:"table-header",children:"Name of Finished Good"}),n.jsx("th",{className:"table-header",children:"Sub Category"}),n.jsx("th",{className:"table-header",children:"Current Stock Quantity"}),n.jsx("th",{className:"table-header",children:"Value"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(K=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900 font-medium",children:K.productCode})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900 font-medium",children:K.productName})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900",children:K.subCategory||"-"})}),n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"text-gray-900 font-medium",children:K.currentStock}),n.jsx("div",{className:"text-gray-500 text-sm",children:K.unitOfMeasure})]}),n.jsxs("td",{className:"table-cell",children:[n.jsxs("div",{className:"text-gray-900 font-medium",children:[K.totalValue.toFixed(2)," KWD"]}),n.jsxs("div",{className:"text-gray-500 text-sm",children:[K.unitPrice.toFixed(2)," per ",K.unitOfMeasure]})]})]},K.id))})]})})]}),n.jsx("input",{ref:t,type:"file",accept:".csv",onChange:Q,style:{display:"none"}}),n.jsx(jO,{isOpen:r.isOpen,onClose:s,onConfirm:r.onConfirm,onCancel:r.onCancel,title:r.title,message:r.message,type:r.type,confirmText:r.confirmText,cancelText:r.cancelText,showCancel:r.showCancel}),n.jsx(NO,{isOpen:C,onClose:()=>{P(!1),I(null)},transferOrder:E,onAccept:X,onReject:he,loading:M})]})},_Z=()=>{const e=ge(),[t,r]=k.useState(null),[a,s]=k.useState(!0),[i,o]=k.useState(null),[l,c]=k.useState([]),[u,m]=k.useState(!1),[d,f]=k.useState({productCode:"",productName:"",category:"",unitOfMeasure:"pcs",quantity:1,costPrice:0,unitPrice:0,expiryDays:1,notes:""});k.useEffect(()=>{y()},[]);const y=async()=>{try{s(!0),o(null);const j=await te.getCentralKitchens();if(j.success&&j.data.length>0){const p=j.data[0];r(p)}else o("Central Kitchen not found")}catch(j){o(j instanceof Error?j.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",j)}finally{s(!1)}},v=()=>{if(!d.productCode||!d.productName||!d.category){alert("Please fill in all required fields (Product Code, Product Name, Category)");return}const j={id:`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,productCode:d.productCode,productName:d.productName,category:d.category,unitOfMeasure:d.unitOfMeasure||"pcs",quantity:d.quantity||1,costPrice:d.costPrice||0,unitPrice:d.unitPrice||0,expiryDays:d.expiryDays||1,notes:d.notes||""};c(p=>[...p,j]),f({productCode:"",productName:"",category:"",unitOfMeasure:"pcs",quantity:1,costPrice:0,unitPrice:0,expiryDays:1,notes:""}),m(!1)},h=j=>{c(p=>p.filter(w=>w.id!==j))},g=(j,p,w)=>{c(C=>C.map(P=>P.id===j?{...P,[p]:w}:P))},b=async()=>{if(l.length===0){alert("Please add at least one item to produce");return}try{s(!0);for(const j of l){const p={outletId:t==null?void 0:t.id,outletCode:t==null?void 0:t.outletCode,outletName:t==null?void 0:t.outletName,productId:j.productCode,productCode:j.productCode,productName:j.productName,category:j.category,unitOfMeasure:j.unitOfMeasure,unitPrice:j.unitPrice,costPrice:j.costPrice,currentStock:j.quantity,reservedStock:0,availableStock:j.quantity,minimumStock:Math.ceil(j.quantity*.2),maximumStock:j.quantity*2,reorderPoint:Math.ceil(j.quantity*.3),totalValue:j.quantity*j.unitPrice,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+j.expiryDays*24*60*60*1e3).toISOString(),batchNumber:`BATCH-${j.productCode}-${Date.now()}`,storageLocation:"Production Area",storageTemperature:"Room Temperature",qualityStatus:"Good",qualityNotes:"Freshly produced",status:"In Stock",transferSource:"Production",lastUpdated:new Date().toISOString(),notes:j.notes,isActive:!0};console.log("Producing item:",p)}alert(`Production completed successfully!

Produced ${l.length} items:
${l.map(j=>`- ${j.productName} (${j.quantity} ${j.unitOfMeasure})`).join(`
`)}`),c([])}catch(j){console.error("Error saving production:",j),alert("Failed to save production. Please try again.")}finally{s(!1)}},N=["Beverages","Meals","Bakery","Snacks","Desserts","Salads","Soups","Sandwiches"],x=["pcs","kg","L","g","ml","box","pack","serving"];return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Make Finished Good..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:y,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(hu,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Make Finished Good"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",t==null?void 0:t.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:y,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/central-kitchen/finished-goods"),className:"btn-secondary flex items-center",children:[n.jsx(ye,{className:"h-4 w-4 mr-2"}),"View Finished Goods"]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Production Form"}),n.jsxs("button",{onClick:()=>m(!u),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),u&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add Production Item"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Code *"}),n.jsx("input",{type:"text",className:"input-field",value:d.productCode||"",onChange:j=>f(p=>({...p,productCode:j.target.value})),placeholder:"e.g., FG001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),n.jsx("input",{type:"text",className:"input-field",value:d.productName||"",onChange:j=>f(p=>({...p,productName:j.target.value})),placeholder:"e.g., Espresso"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsxs("select",{className:"input-field",value:d.category||"",onChange:j=>f(p=>({...p,category:j.target.value})),children:[n.jsx("option",{value:"",children:"Select Category"}),N.map(j=>n.jsx("option",{value:j,children:j},j))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit of Measure"}),n.jsx("select",{className:"input-field",value:d.unitOfMeasure||"pcs",onChange:j=>f(p=>({...p,unitOfMeasure:j.target.value})),children:x.map(j=>n.jsx("option",{value:j,children:j},j))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field",value:d.quantity||1,onChange:j=>f(p=>({...p,quantity:parseInt(j.target.value)||1})),min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:d.costPrice||0,onChange:j=>f(p=>({...p,costPrice:parseFloat(j.target.value)||0})),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:d.unitPrice||0,onChange:j=>f(p=>({...p,unitPrice:parseFloat(j.target.value)||0})),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Days"}),n.jsx("input",{type:"number",className:"input-field",value:d.expiryDays||1,onChange:j=>f(p=>({...p,expiryDays:parseInt(j.target.value)||1})),min:"1"})]}),n.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Production Notes"}),n.jsx("textarea",{className:"input-field",rows:2,value:d.notes||"",onChange:j=>f(p=>({...p,notes:j.target.value})),placeholder:"Additional notes about this production..."})]})]}),n.jsxs("div",{className:"flex gap-3 mt-4",children:[n.jsxs("button",{onClick:v,className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add to Production"]}),n.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",children:"Cancel"})]})]}),l.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Production Items (",l.length,")"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiry Days"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(j=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.productName}),n.jsxs("div",{className:"text-sm text-gray-500",children:[j.productCode,"  ",j.category]})]})}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[n.jsx("input",{type:"number",className:"input-field w-20",value:j.quantity,onChange:p=>g(j.id,"quantity",parseInt(p.target.value)||1),min:"1"}),n.jsx("span",{className:"ml-2 text-sm text-gray-500",children:j.unitOfMeasure})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",step:"0.01",className:"input-field w-24",value:j.costPrice,onChange:p=>g(j.id,"costPrice",parseFloat(p.target.value)||0),min:"0"})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",step:"0.01",className:"input-field w-24",value:j.unitPrice,onChange:p=>g(j.id,"unitPrice",parseFloat(p.target.value)||0),min:"0"})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",className:"input-field w-20",value:j.expiryDays,onChange:p=>g(j.id,"expiryDays",parseInt(p.target.value)||1),min:"1"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("input",{type:"text",className:"input-field w-full",value:j.notes,onChange:p=>g(j.id,"notes",p.target.value),placeholder:"Production notes..."})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("button",{onClick:()=>h(j.id),className:"text-red-600 hover:text-red-900 text-sm",children:"Remove"})})]},j.id))})]})}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Production Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:l.length})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Quantity"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:l.reduce((j,p)=>j+p.quantity,0)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[l.reduce((j,p)=>j+p.quantity*p.unitPrice,0).toFixed(2)," KWD"]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Production Notes"}),n.jsx("textarea",{className:"input-field",rows:3,placeholder:"Additional notes about this production batch..."})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:b,disabled:a,className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Production"]})})]}),l.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(hu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Production Items"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Add items to start a production batch"}),n.jsxs("button",{onClick:()=>m(!0),className:"btn-primary flex items-center mx-auto",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add First Item"]})]})]})]})},RZ=()=>{const e=ge(),[t,r]=k.useState(null),[a,s]=k.useState(!0),[i,o]=k.useState(null),[l,c]=k.useState([]),[u,m]=k.useState([]),[d,f]=k.useState([]),[y,v]=k.useState(!1),[h,g]=k.useState({toOutlet:"",transferDate:new Date().toISOString().split("T")[0],priority:"Normal",notes:""});k.useEffect(()=>{b(),N()},[]);const b=async()=>{try{s(!0),o(null);const M=await te.getCentralKitchens();if(M.success&&M.data.length>0){const O=M.data[0];r(O)}else o("Central Kitchen not found")}catch(M){o(M instanceof Error?M.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",M)}finally{s(!1)}},N=async()=>{try{v(!0),console.log("Loading raw materials and finished goods data...");const M=await te.getCentralKitchenRawMaterials({limit:1e3});M.success?(m(M.data),console.log("Loaded raw materials:",M.data.length)):console.error("Failed to load raw materials:",M.error||"API Error");const O=await te.getCentralKitchenFinishedProducts({limit:1e3});O.success?(f(O.data),console.log("Loaded finished goods:",O.data.length)):console.error("Failed to load finished goods:",O.error||"API Error")}catch(M){console.error("Error loading materials data:",M)}finally{v(!1)}},x=()=>{console.log("Add Item button clicked!");const M=`form-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;console.log("Creating new form with ID:",M),c(O=>{const D=[...O,{id:M,data:{itemType:"Raw Material",itemCode:"",itemName:"",category:"",unitOfMeasure:"pcs",quantity:1,unitPrice:0,notes:""}}];return console.log("Updated forms array:",D),D})},j=(M,O,D)=>{c(B=>B.map(_=>{if(_.id===M){const A={..._,data:{..._.data,[O]:D}};if(O==="itemType"&&(A.data.itemCode="",A.data.itemName="",A.data.category=""),O==="itemCode"&&D){const F=p(A.data.itemType||"Raw Material",D);F&&(A.data.itemName=F.materialName||F.productName||"",A.data.category=F.category||F.subCategory||"",A.data.unitOfMeasure=F.unitOfMeasure||"pcs",A.data.unitPrice=F.unitPrice||0)}return A}return _}))},p=(M,O)=>M==="Raw Material"?u.find(D=>D.materialCode===O):M==="Finished Goods"?d.find(D=>D.productCode===O):null,w=M=>{c(O=>O.filter(D=>D.id!==M))},C=async()=>{if(l.length===0){alert("Please add at least one item to transfer");return}if(!h.toOutlet){alert("Please select a destination outlet");return}if(l.filter(D=>!D.data.itemType||!D.data.itemCode||!D.data.itemName).length>0){alert("Please fill in all required fields (Item Type, Item Code) for all items");return}if(l.filter(D=>!D.data.quantity||D.data.quantity<=0).length>0){alert("Please enter valid quantities (greater than 0) for all items");return}try{s(!0);const D=l.map(A=>({itemType:A.data.itemType,itemCode:A.data.itemCode,itemName:A.data.itemName||A.data.itemCode,category:A.data.category||"",subCategory:A.data.subCategory||"",unitOfMeasure:A.data.unitOfMeasure||"pcs",quantity:A.data.quantity||1,unitPrice:A.data.unitPrice||0,notes:A.data.notes||""})),B={fromOutlet:(t==null?void 0:t.outletName)||"Central Kitchen",toOutlet:h.toOutlet,transferDate:h.transferDate,priority:h.priority,items:D,totalValue:D.reduce((A,F)=>A+F.quantity*F.unitPrice,0),notes:h.notes};console.log("Creating transfer with data:",B);const _=await te.createTransfer(B);_.success?(alert(`Transfer created successfully!

Transfer Details:
From: ${t==null?void 0:t.outletName}
To: ${B.toOutlet}
Items: ${D.length}
Total Value: ${B.totalValue.toFixed(2)} KWD

Transfer ID: ${_.data.transferId}

Stock has been updated in both Central Kitchen and destination outlet.`),c([]),g({toOutlet:"",transferDate:new Date().toISOString().split("T")[0],priority:"Normal",notes:""}),await N()):alert(`Transfer failed: ${_.message}`)}catch(D){console.error("Error creating transfer:",D),alert(`Failed to create transfer order: ${D instanceof Error?D.message:"Unknown error"}`)}finally{s(!1)}},P=["pcs","kg","L","g","ml","box","pack","serving"],E=["Kuwait City","360 Mall","Vibe Complex","Taiba Hospital"],I=["Low","Normal","High","Urgent"];return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Create Transfer..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:b,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(Lt,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Transfer"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",t==null?void 0:t.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:b,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Lt,{className:"h-4 w-4 mr-2"}),"View All Transfers"]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Transfer Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Outlet"}),n.jsx("input",{type:"text",className:"input-field",value:(t==null?void 0:t.outletName)||"Central Kitchen",disabled:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Outlet *"}),n.jsxs("select",{className:"input-field",value:h.toOutlet,onChange:M=>g(O=>({...O,toOutlet:M.target.value})),children:[n.jsx("option",{value:"",children:"Select Destination"}),E.map(M=>n.jsx("option",{value:M,children:M},M))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer Date"}),n.jsx("input",{type:"date",className:"input-field",value:h.transferDate,onChange:M=>g(O=>({...O,transferDate:M.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsx("select",{className:"input-field",value:h.priority,onChange:M=>g(O=>({...O,priority:M.target.value})),children:I.map(M=>n.jsx("option",{value:M,children:M},M))})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer Notes"}),n.jsx("textarea",{className:"input-field",rows:2,value:h.notes,onChange:M=>g(O=>({...O,notes:M.target.value})),placeholder:"Additional notes about this transfer..."})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Transfer Items"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:N,disabled:y,className:"btn-secondary flex items-center text-sm",title:"Refresh materials data",children:[n.jsx(It,{className:`h-4 w-4 mr-2 ${y?"animate-spin":""}`}),y?"Loading...":"Refresh Items"]}),n.jsxs("button",{onClick:x,className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),l.map((M,O)=>n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Item #",O+1]}),n.jsx("button",{onClick:()=>w(M.id),className:"text-red-600 hover:text-red-900 text-sm",children:"Remove Item"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Type *"}),n.jsxs("select",{className:"input-field",value:M.data.itemType||"",onChange:D=>j(M.id,"itemType",D.target.value),children:[n.jsx("option",{value:"",children:"Select Item Type"}),n.jsx("option",{value:"Raw Material",children:"Raw Material"}),n.jsx("option",{value:"Finished Goods",children:"Finished Goods"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Code *"}),n.jsxs("select",{className:"input-field",value:M.data.itemCode||"",onChange:D=>j(M.id,"itemCode",D.target.value),disabled:!M.data.itemType||y,children:[n.jsx("option",{value:"",children:"Select Item"}),M.data.itemType==="Raw Material"&&u.map(D=>n.jsxs("option",{value:D.materialCode,children:[D.materialCode," - ",D.materialName]},D._id)),M.data.itemType==="Finished Goods"&&d.map(D=>n.jsxs("option",{value:D.productCode,children:[D.productCode," - ",D.productName]},D._id))]}),y&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading items..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name"}),n.jsx("input",{type:"text",className:"input-field",value:M.data.itemName||"",readOnly:!0,placeholder:"Auto-filled from selection"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsx("input",{type:"text",className:"input-field",value:M.data.category||"",readOnly:!0,placeholder:"Auto-filled from selection"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit of Measure"}),n.jsx("select",{className:"input-field",value:M.data.unitOfMeasure||"pcs",onChange:D=>j(M.id,"unitOfMeasure",D.target.value),children:P.map(D=>n.jsx("option",{value:D,children:D},D))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field",value:M.data.quantity||1,onChange:D=>j(M.id,"quantity",parseInt(D.target.value)||1),min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:M.data.unitPrice||0,onChange:D=>j(M.id,"unitPrice",parseFloat(D.target.value)||0),min:"0",placeholder:"Auto-filled from selection"})]}),n.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Notes"}),n.jsx("textarea",{className:"input-field",rows:2,value:M.data.notes||"",onChange:D=>j(M.id,"notes",D.target.value),placeholder:"Additional notes about this item..."})]})]})]},M.id)),l.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Transfer Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:l.length})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Quantity"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:l.reduce((M,O)=>M+(O.data.quantity||1),0)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[l.reduce((M,O)=>M+(O.data.quantity||1)*(O.data.unitPrice||0),0).toFixed(2)," KWD"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Priority"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:h.priority})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:C,disabled:a,className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),a?"Creating Transfer Order...":"Create Transfer Order"]})})]}),l.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Lt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Items Added"}),n.jsx("p",{className:"text-gray-600 mb-4",children:'Click "Add Item" to start adding items to your transfer order'})]})]})]})},LZ=()=>{const e=ge(),[t,r]=k.useState(null),[a,s]=k.useState(!1),[i,o]=k.useState({itemType:"raw-material",sku:"",itemName:"",parentCategory:"",subCategoryName:"",unitName:"",defaultPurchaseUnitName:"",unitPrice:"",currentStock:"",minimumStock:"",maximumStock:"",supplier:"",notes:""});k.useEffect(()=>{l()},[]);const l=async()=>{try{const d=await te.getCentralKitchens();if(d.success&&d.data.length>0){const f=d.data[0];r({id:f._id,outletCode:f.kitchenCode,outletName:f.kitchenName,outletType:"Central Kitchen",isCentralKitchen:!0})}else r({id:"",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Central Kitchen",isCentralKitchen:!0})}catch(d){console.error("Error loading central kitchen data:",d),r({id:"",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Central Kitchen",isCentralKitchen:!0})}},c=(d,f)=>{o(y=>({...y,[d]:f}))},u=async d=>{if(d.preventDefault(),!t||!t.id){alert("Central Kitchen outlet not found. Please make sure the central kitchen is set up.");return}if(!i.sku||!i.itemName||!i.parentCategory){alert("Please fill in all required fields (SKU, Item Name, Category)");return}try{if(s(!0),i.itemType==="raw-material"){const f={materialCode:i.sku,materialName:i.itemName,category:i.parentCategory,unitOfMeasure:i.unitName,unitPrice:parseFloat(i.unitPrice)||0,currentStock:parseFloat(i.currentStock)||0,minimumStock:parseFloat(i.minimumStock)||0,maximumStock:parseFloat(i.maximumStock)||0,supplier:i.supplier,notes:i.notes,createdBy:"user",updatedBy:"user"},y=await te.createRawMaterial(f);if(!y.success)throw new Error(y.message||"Failed to create raw material");const v={centralKitchenId:t.id,centralKitchenName:t.outletName,itemId:y.data._id,itemType:"RawMaterial",itemCode:i.sku,itemName:i.itemName,category:i.parentCategory,unitOfMeasure:i.unitName,unitPrice:parseFloat(i.unitPrice)||0,currentStock:parseFloat(i.currentStock)||0,reservedStock:0,minimumStock:parseFloat(i.minimumStock)||0,maximumStock:parseFloat(i.maximumStock)||0,reorderPoint:parseFloat(i.minimumStock)||0,notes:i.notes,createdBy:"user",updatedBy:"user"},h=await te.createCentralKitchenInventoryItem(v);if(!h.success)throw new Error(h.message||"Failed to create inventory entry");alert("Raw Material created successfully and added to Central Kitchen inventory!")}else{alert("Finished goods creation not implemented yet");return}e("/central-kitchen/raw-materials")}catch(f){console.error("Error creating item:",f),alert(`Failed to create ${i.itemType==="raw-material"?"raw material":"item"}: ${f instanceof Error?f.message:"Unknown error"}`)}finally{s(!1)}},m=()=>{o({itemType:"raw-material",sku:"",itemName:"",parentCategory:"",subCategoryName:"",unitName:"",defaultPurchaseUnitName:"",unitPrice:"",currentStock:"",minimumStock:"",maximumStock:"",supplier:"",notes:""})};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e("/central-kitchen"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Back to Central Kitchen",children:n.jsx(et,{className:"h-6 w-6 text-gray-600"})}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(we,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add Inventory Item"}),n.jsx("p",{className:"text-gray-600",children:"Create new raw material or finished good for Central Kitchen"})]})]})}),n.jsx("div",{className:"card",children:n.jsx("div",{className:"p-6",children:n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Item Type"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"itemType",value:"raw-material",checked:i.itemType==="raw-material",onChange:d=>c("itemType",d.target.value),className:"mr-2"}),n.jsx("span",{className:"text-gray-700",children:"Raw Material"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"itemType",value:"finished-good",checked:i.itemType==="finished-good",onChange:d=>c("itemType",d.target.value),className:"mr-2"}),n.jsx("span",{className:"text-gray-700",children:"Finished Good"})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU *"}),n.jsx("input",{type:"text",className:"input-field",value:i.sku,onChange:d=>c("sku",d.target.value),placeholder:"Enter SKU (e.g., RM025, FG011)",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name *"}),n.jsx("input",{type:"text",className:"input-field",value:i.itemName,onChange:d=>c("itemName",d.target.value),placeholder:"Enter item name",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Category *"}),n.jsxs("select",{className:"input-field",value:i.parentCategory,onChange:d=>c("parentCategory",d.target.value),required:!0,children:[n.jsx("option",{value:"",children:"Select Category"}),n.jsx("option",{value:"Raw Material",children:"Raw Material"}),n.jsx("option",{value:"Protein",children:"Protein"}),n.jsx("option",{value:"Packaging",children:"Packaging"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SubCategory Name"}),n.jsx("input",{type:"text",className:"input-field",value:i.subCategoryName,onChange:d=>c("subCategoryName",d.target.value),placeholder:"Enter subcategory (optional)"})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Unit Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Name *"}),n.jsxs("select",{className:"input-field",value:i.unitName,onChange:d=>c("unitName",d.target.value),required:!0,children:[n.jsx("option",{value:"",children:"Select Unit"}),n.jsx("option",{value:"kg",children:"Kilogram (kg)"}),n.jsx("option",{value:"L",children:"Liter (L)"}),n.jsx("option",{value:"pcs",children:"Pieces (pcs)"}),n.jsx("option",{value:"g",children:"Gram (g)"}),n.jsx("option",{value:"ml",children:"Milliliter (ml)"}),n.jsx("option",{value:"box",children:"Box"}),n.jsx("option",{value:"pack",children:"Pack"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Purchase Unit Name"}),n.jsxs("select",{className:"input-field",value:i.defaultPurchaseUnitName,onChange:d=>c("defaultPurchaseUnitName",d.target.value),children:[n.jsx("option",{value:"",children:"Same as Unit Name"}),n.jsx("option",{value:"kg",children:"Kilogram (kg)"}),n.jsx("option",{value:"L",children:"Liter (L)"}),n.jsx("option",{value:"pcs",children:"Pieces (pcs)"}),n.jsx("option",{value:"g",children:"Gram (g)"}),n.jsx("option",{value:"ml",children:"Milliliter (ml)"}),n.jsx("option",{value:"box",children:"Box"}),n.jsx("option",{value:"pack",children:"Pack"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing and Stock"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price (KWD) *"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:i.unitPrice,onChange:d=>c("unitPrice",d.target.value),placeholder:"0.00",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock *"}),n.jsx("input",{type:"number",className:"input-field",value:i.currentStock,onChange:d=>c("currentStock",d.target.value),placeholder:"0",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stock"}),n.jsx("input",{type:"number",className:"input-field",value:i.minimumStock,onChange:d=>c("minimumStock",d.target.value),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Stock"}),n.jsx("input",{type:"number",className:"input-field",value:i.maximumStock,onChange:d=>c("maximumStock",d.target.value),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),n.jsx("input",{type:"text",className:"input-field",value:i.supplier,onChange:d=>c("supplier",d.target.value),placeholder:"Enter supplier name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Value (Calculated)"}),n.jsx("div",{className:"input-field bg-gray-100 text-gray-600",children:i.unitPrice&&i.currentStock?(parseFloat(i.unitPrice)*parseFloat(i.currentStock)).toFixed(2)+" KWD":"0.00 KWD"})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:4,value:i.notes,onChange:d=>c("notes",d.target.value),placeholder:"Additional notes (optional)"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[n.jsxs("button",{type:"button",onClick:()=>e("/central-kitchen"),className:"btn-secondary flex items-center",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"button",onClick:m,className:"btn-secondary flex items-center",children:[n.jsx(ye,{className:"h-4 w-4 mr-2"}),"Reset Form"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:a,children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),a?"Creating...":"Create Item"]})]})]})})})]})},Mf=()=>{const e=ge(),t=lr(),[r,a]=k.useState(null),[s,i]=k.useState([]),[o,l]=k.useState([]),[c,u]=k.useState(!0),[m,d]=k.useState(null),[f]=k.useState(""),[y]=k.useState(""),[v]=k.useState(""),[h]=k.useState("materialName"),[g]=k.useState("asc"),b=k.useRef(null),{notifications:N,markAsRead:x,markAllAsRead:j,clearAll:p,refreshNotifications:w}=da("Kuwait City"),C=()=>{const S=P();return S==="raw-materials"?N.filter(T=>T.isTransferOrder&&(T.itemType==="Raw Material"||T.itemType==="Mixed")):S==="finished-goods"?N.filter(T=>T.isTransferOrder&&(T.itemType==="Finished Goods"||T.itemType==="Mixed")):N},P=()=>{const S=t.pathname;return S.includes("/raw-materials")?"raw-materials":S.includes("/finished-goods")?"finished-goods":S.includes("/sales-orders")?"sales-orders":"overview"},E=P();k.useEffect(()=>{I(),M()},[]),k.useEffect(()=>{c||M()},[c,f,y,v,h,g]),k.useEffect(()=>{N.length>0&&N.some(T=>{var R;return!T.read&&T.type==="success"&&((R=T.title)==null?void 0:R.includes("Transfer Order Accepted"))})&&(console.log("New transfer acceptance notification detected, refreshing inventory..."),M())},[N]);const I=async()=>{try{u(!0),d(null);const S=await te.getOutlets({limit:1e3});if(S.success){const T=S.data.find(R=>R.outletCode==="OUT-001");T?a(T):d("Kuwait City not found")}else d("Failed to load outlet data")}catch(S){d(S instanceof Error?S.message:"Failed to load outlet data"),console.error("Error loading outlet data:",S)}finally{u(!1)}},M=async()=>{try{console.log("Loading Kuwait City inventory from dedicated database");const S=await te.getKuwaitCityRawMaterials({limit:1e3,search:f,subCategory:y,status:v,sortBy:h==="materialName"?"materialName":h,sortOrder:g});if(S.success)if(console.log("Loaded Kuwait City Raw Materials:",S.data),S.data&&S.data.length>0){const R=S.data.map($=>({id:$._id||$.id,outletId:"kuwait-city",outletCode:"OUT-001",outletName:"Kuwait City",materialId:$._id,materialCode:$.materialCode,materialName:$.materialName,category:$.subCategory||$.category,unitOfMeasure:$.unitOfMeasure,unitPrice:$.unitPrice,currentStock:$.currentStock,reservedStock:0,availableStock:$.currentStock,minimumStock:$.minimumStock,maximumStock:$.maximumStock,reorderPoint:$.reorderPoint,totalValue:$.currentStock*$.unitPrice,location:"Main Storage",batchNumber:`KCBATCH-${$.materialCode}-${Date.now()}`,supplier:"Various Suppliers",lastUpdated:$.updatedAt,status:$.status,notes:$.notes||"",isActive:$.isActive}));i(R)}else console.log("No raw materials inventory found for Kuwait City"),i([]),d("No raw materials inventory found. Please add some raw materials to Kuwait City.");else console.error("Failed to load raw materials inventory:","API Error"),d("Failed to load inventory from server: Unknown error");const T=await te.getKuwaitCityFinishedProducts({limit:1e3,search:f,subCategory:y,status:v,sortBy:h==="productName"?"productName":h,sortOrder:g});if(T.success)if(console.log("Loaded Kuwait City Finished Products:",T.data),T.data&&T.data.length>0){const R=T.data.map($=>{var L;return{id:$._id||$.id,outletId:"kuwait-city",outletCode:"OUT-001",outletName:"Kuwait City",productId:$._id,productCode:$.productCode,productName:$.productName,category:$.subCategory||$.category,unitOfMeasure:$.unitOfMeasure,unitPrice:$.unitPrice,costPrice:$.costPrice,currentStock:$.currentStock,reservedStock:0,availableStock:$.currentStock,minimumStock:$.minimumStock,maximumStock:$.maximumStock,reorderPoint:$.reorderPoint,totalValue:$.currentStock*$.unitPrice,productionDate:new Date().toISOString(),expiryDate:$.shelfLife?new Date(Date.now()+$.shelfLife*24*60*60*1e3).toISOString():new Date(Date.now()+6048e5).toISOString(),batchNumber:`KCFG-${$.productCode}-${Date.now()}`,storageLocation:"Main Storage",storageTemperature:((L=$.storageRequirements)==null?void 0:L.temperature)||"Room Temperature",qualityStatus:"Good",qualityNotes:"",status:$.status,transferSource:"Production",lastUpdated:$.updatedAt,notes:$.notes||"",isActive:$.isActive}});l(R)}else console.log("No finished goods inventory found for Kuwait City"),l([]);else console.error("Failed to load finished goods inventory:","API Error")}catch(S){d(S instanceof Error?S.message:"Failed to load inventory"),console.error("Error loading inventory:",S)}},O=async S=>{var R;const T=(R=S.target.files)==null?void 0:R[0];if(T){if(!T.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const L=(await T.text()).split(`
`).filter(fe=>fe.trim());if(L.length<2){alert("CSV file must contain at least a header row and one data row");return}const Q=L.slice(1);let Y=0,ne=0;for(const fe of Q)try{const X=fe.split(",").map(G=>G.replace(/"/g,"").trim()),he=X[0];if(he==="Raw Material"){const G={materialCode:X[1],materialName:X[2],category:X[3],unitOfMeasure:X[4],unitPrice:parseFloat(X[5])||0,currentStock:parseInt(X[6])||0,minimumStock:parseInt(X[8])||0,maximumStock:parseInt(X[9])||0,supplier:X[12]||"",notes:X[14]||""},le={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"downtown-restaurant-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",materialId:G.materialCode,materialCode:G.materialCode,materialName:G.materialName,category:G.category,unitOfMeasure:G.unitOfMeasure,unitPrice:G.unitPrice,currentStock:G.currentStock,reservedStock:0,availableStock:G.currentStock,minimumStock:G.minimumStock,maximumStock:G.maximumStock,reorderPoint:Math.ceil(G.minimumStock*1.5),totalValue:G.currentStock*G.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:G.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:G.notes,isActive:!0};i(ue=>[...ue,le]),Y++}else if(he==="Finished Good"){const G={productCode:X[1],productName:X[2],category:X[3],unitOfMeasure:X[4],unitPrice:parseFloat(X[5])||0,currentStock:parseInt(X[6])||0,minimumStock:parseInt(X[8])||0,maximumStock:parseInt(X[9])||0,supplier:X[12]||"",notes:X[14]||""},le={id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"downtown-restaurant-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",productId:G.productCode,productCode:G.productCode,productName:G.productName,category:G.category,unitOfMeasure:G.unitOfMeasure,unitPrice:G.unitPrice,costPrice:G.unitPrice*.7,currentStock:G.currentStock,reservedStock:0,availableStock:G.currentStock,minimumStock:G.minimumStock,maximumStock:G.maximumStock,reorderPoint:Math.ceil(G.minimumStock*1.5),totalValue:G.currentStock*G.unitPrice,productionDate:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],batchNumber:`BATCH-${Date.now()}`,storageLocation:"Cold Storage",storageTemperature:"4C",qualityStatus:"Good",qualityNotes:"Imported from CSV",status:"In Stock",transferSource:"Import",lastUpdated:new Date().toISOString(),notes:G.notes,isActive:!0};l(ue=>[...ue,le]),Y++}}catch{ne++}alert(`Import completed!

Successfully imported: ${Y} items
Errors: ${ne}`)}catch($){alert("Error importing file: "+($ instanceof Error?$.message:"Unknown error"))}finally{b.current&&(b.current.value="")}}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Kuwait City..."})]})});if(m)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:m}),n.jsx("button",{onClick:I,className:"btn-primary",children:"Retry"})]})});const D=()=>{switch(E){case"raw-materials":return B();case"finished-goods":return _();case"sales-orders":return A();default:return F()}},B=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ye,{className:"h-6 w-6 text-blue-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(S=>S.materialId&&S.materialCode&&S.materialName).map(S=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.currentStock})]},S.id))})]})})]})}),_=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ye,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit of Measure"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Maximum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.filter(S=>S.productId&&S.productCode&&S.productName).map(S=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.unitOfMeasure}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",S.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.currentStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.availableStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.minimumStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.maximumStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",S.totalValue.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.status==="In Stock"?"bg-green-100 text-green-800":S.status==="Low Stock"?"bg-yellow-100 text-yellow-800":S.status==="Out of Stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:S.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.lastUpdated}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:S.notes})]},S.id))})]})})]})}),A=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"POS Sales"}),n.jsxs("button",{onClick:()=>e("/downtown-restaurant/pos-sales/create-order",{state:{outletName:"Kuwait City"}}),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Point of Sale system for Kuwait City outlet"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:[n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/pos-sales/create-order",{state:{outletName:"Kuwait City"}}),children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(ct,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"New Order"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Create a new sales order"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(VS,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Order History"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View past orders"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(uy,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Payment Reports"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View payment summaries"})]})]})})]})]})}),F=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-blue-50 to-green-50 border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(tr,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType,"  ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(ye,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Raw Materials"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(S=>S.materialId&&S.materialCode&&S.materialName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(ye,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Finished Goods"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o.filter(S=>S.productId&&S.productCode&&S.productName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:n.jsx(ct,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(s.reduce((S,T)=>S+T.totalValue,0)+o.reduce((S,T)=>S+T.totalValue,0)).toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:n.jsx(Jr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(S=>S.status==="Low Stock").length+o.filter(S=>S.status==="Low Stock").length})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(ye,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(ye,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(ct,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(tr,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kuwait City"}),n.jsxs("p",{className:"text-gray-600",children:[E==="raw-materials"?"Raw Materials Inventory":E==="finished-goods"?"Finished Goods Inventory":E==="sales-orders"?"Sales Orders":"Premium dining restaurant"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>{I(),M()},className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),E==="raw-materials"&&n.jsxs("button",{onClick:()=>e("/transfer-orders/add?from=kuwait-city&section=raw-materials"),className:"btn-primary flex items-center",children:[n.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Request Raw Materials"]}),E==="finished-goods"&&n.jsxs("button",{onClick:()=>e("/transfer-orders/add?from=kuwait-city&section=finished-goods"),className:"btn-primary flex items-center",children:[n.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Request Finished Goods"]}),E!=="sales-orders"&&E!=="raw-materials"&&E!=="finished-goods"&&n.jsxs("button",{onClick:()=>e("/transfer-orders/add?from=kuwait-city"),className:"btn-primary flex items-center",children:[n.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Request Transfer"]}),n.jsx(ua,{notifications:C(),onMarkAsRead:x,onMarkAllAsRead:j,onClearAll:p,onRefresh:w})]})]}),D(),n.jsx("input",{ref:b,type:"file",accept:".csv,.xlsx,.xls",onChange:O,className:"hidden"})]})},If=()=>{const e=ge(),t=lr(),[r,a]=k.useState(null),[s,i]=k.useState([]),[o,l]=k.useState([]),[c,u]=k.useState(!0),[m,d]=k.useState(null),[f]=k.useState(""),[y]=k.useState(""),[v]=k.useState(""),[h]=k.useState("materialName"),[g]=k.useState("asc"),b=k.useRef(null),{notifications:N,markAsRead:x,markAllAsRead:j,clearAll:p}=da("360 Mall"),C=(()=>{const A=t.pathname;return A.includes("/raw-materials")?"raw-materials":A.includes("/finished-goods")?"finished-goods":A.includes("/sales-orders")?"sales-orders":"overview"})();k.useEffect(()=>{P()},[]),k.useEffect(()=>{c||E()},[f,y,v,h,g]);const P=async()=>{try{u(!0),d(null);const A=await te.getOutlets({limit:1e3});if(A.success){const F=A.data.find(S=>S.outletCode==="OUT-002");F?(a(F),await E()):d("Vibe Complex not found")}else d("Failed to load outlet data")}catch(A){d(A instanceof Error?A.message:"Failed to load outlet data"),console.error("Error loading outlet data:",A)}finally{u(!1)}},E=async()=>{try{console.log("Loading Vibe Complex inventory from dedicated database");const A=await te.getVibeComplexRawMaterials({limit:1e3,search:f,subCategory:y,status:v,sortBy:h==="materialName"?"materialName":h,sortOrder:g});if(A.success)if(console.log("Loaded Vibe Complex Raw Materials:",A.data),A.data&&A.data.length>0){const S=A.data.map(T=>{var R;return{id:T._id||T.id,outletId:"vibe-complex",outletCode:"OUT-002",outletName:"Vibe Complex",materialId:T._id,materialCode:T.materialCode,materialName:T.materialName,category:T.subCategory||T.category,unitOfMeasure:T.unitOfMeasure,unitPrice:T.unitPrice||0,currentStock:T.currentStock||0,reservedStock:0,availableStock:T.currentStock||0,minimumStock:T.minimumStock||0,maximumStock:T.maximumStock||0,reorderPoint:T.reorderPoint||0,totalValue:(T.currentStock||0)*(T.unitPrice||0),location:((R=T.storageRequirements)==null?void 0:R.location)||"Main Storage",batchNumber:T.batchNumber||"",supplier:T.supplierName||"",lastUpdated:T.lastUpdated||T.updatedAt,status:T.status,notes:T.notes||"",isActive:T.isActive}});i(S)}else console.log("No raw materials inventory found for Vibe Complex"),i([]),d("No raw materials inventory found. Please add some raw materials to Vibe Complex.");else console.error("Failed to load raw materials inventory:",A.error||"API Error"),d(`Failed to load inventory from server: ${A.error||"Unknown error"}`);const F=await te.getVibeComplexFinishedProducts({limit:1e3,search:f,subCategory:y,status:v,sortBy:h==="productName"?"productName":h,sortOrder:g});if(F.success)if(console.log("Loaded Vibe Complex Finished Products:",F.data),F.data&&F.data.length>0){const S=F.data.map(T=>({id:T._id||T.id,outletId:"vibe-complex",outletCode:"OUT-002",outletName:"Vibe Complex",productId:T._id,productCode:T.productCode,productName:T.productName,category:T.subCategory||T.category,unitOfMeasure:T.unitOfMeasure,unitPrice:T.unitPrice||0,costPrice:T.costPrice||0,currentStock:T.currentStock||0,reservedStock:0,availableStock:T.currentStock||0,minimumStock:T.minimumStock||0,maximumStock:T.maximumStock||0,reorderPoint:T.reorderPoint||0,totalValue:(T.currentStock||0)*(T.unitPrice||0),productionDate:T.productionDate||new Date().toISOString(),expiryDate:T.expiryDate||new Date(Date.now()+864e5).toISOString(),batchNumber:T.batchNumber||"",storageLocation:T.storageLocation||"Cold Storage",storageTemperature:T.storageTemperature||"Cold",qualityStatus:T.qualityStatus||"Good",qualityNotes:T.qualityNotes||"",status:T.status,transferSource:"Transfer",lastUpdated:T.lastUpdated||T.updatedAt,notes:T.notes||"",isActive:T.isActive}));l(S)}else console.log("No finished goods inventory found for Vibe Complex"),l([]);else console.error("Failed to load finished goods inventory:",F.error||"API Error")}catch(A){d(A instanceof Error?A.message:"Failed to load inventory"),console.error("Error loading inventory:",A)}},I=async A=>{var S;const F=(S=A.target.files)==null?void 0:S[0];if(F){if(!F.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const R=(await F.text()).split(`
`).filter(Y=>Y.trim());if(R.length<2){alert("CSV file must contain at least a header row and one data row");return}const $=R.slice(1);let L=0,Q=0;for(const Y of $)try{const ne=Y.split(",").map(X=>X.replace(/"/g,"").trim()),fe=ne[0];if(fe==="Raw Material"){const X={materialCode:ne[1],materialName:ne[2],category:ne[3],unitOfMeasure:ne[4],unitPrice:parseFloat(ne[5])||0,currentStock:parseInt(ne[6])||0,minimumStock:parseInt(ne[8])||0,maximumStock:parseInt(ne[9])||0,supplier:ne[12]||"",notes:ne[14]||""},he={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"marina-walk-cafe-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",materialId:X.materialCode,materialCode:X.materialCode,materialName:X.materialName,category:X.category,unitOfMeasure:X.unitOfMeasure,unitPrice:X.unitPrice,currentStock:X.currentStock,reservedStock:0,availableStock:X.currentStock,minimumStock:X.minimumStock,maximumStock:X.maximumStock,reorderPoint:Math.ceil(X.minimumStock*1.5),totalValue:X.currentStock*X.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:X.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:X.notes,isActive:!0};i(G=>[...G,he]),L++}else if(fe==="Finished Good"){const X={productCode:ne[1],productName:ne[2],category:ne[3],unitOfMeasure:ne[4],unitPrice:parseFloat(ne[5])||0,currentStock:parseInt(ne[6])||0,minimumStock:parseInt(ne[8])||0,maximumStock:parseInt(ne[9])||0,supplier:ne[12]||"",notes:ne[14]||""},he={id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"marina-walk-cafe-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",productId:X.productCode,productCode:X.productCode,productName:X.productName,category:X.category,unitOfMeasure:X.unitOfMeasure,unitPrice:X.unitPrice,costPrice:X.unitPrice*.7,currentStock:X.currentStock,reservedStock:0,availableStock:X.currentStock,minimumStock:X.minimumStock,maximumStock:X.maximumStock,reorderPoint:Math.ceil(X.minimumStock*1.5),totalValue:X.currentStock*X.unitPrice,productionDate:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],batchNumber:`BATCH-${Date.now()}`,storageLocation:"Cold Storage",storageTemperature:"4C",qualityStatus:"Good",qualityNotes:"Imported from CSV",status:"In Stock",transferSource:"Import",lastUpdated:new Date().toISOString(),notes:X.notes,isActive:!0};l(G=>[...G,he]),L++}}catch{Q++}alert(`Import completed!

Successfully imported: ${L} items
Errors: ${Q}`)}catch(T){alert("Error importing file: "+(T instanceof Error?T.message:"Unknown error"))}finally{b.current&&(b.current.value="")}}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading 360 Mall..."})]})});if(m)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:m}),n.jsx("button",{onClick:P,className:"btn-primary",children:"Retry"})]})});const M=()=>{switch(C){case"raw-materials":return O();case"finished-goods":return D();case"sales-orders":return B();default:return _()}},O=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ye,{className:"h-6 w-6 text-blue-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(A=>A.materialId&&A.materialCode&&A.materialName).map(A=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.currentStock})]},A.id))})]})})]})}),D=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ye,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit of Measure"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Maximum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.filter(A=>A.productId&&A.productCode&&A.productName).map(A=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.unitOfMeasure}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",A.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.currentStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.availableStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.minimumStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.maximumStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",A.totalValue.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${A.status==="In Stock"?"bg-green-100 text-green-800":A.status==="Low Stock"?"bg-yellow-100 text-yellow-800":A.status==="Out of Stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:A.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.lastUpdated}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:A.notes})]},A.id))})]})})]})}),B=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"POS Sales"}),n.jsxs("button",{onClick:()=>e("/marina-walk-cafe/pos-sales/create-order",{state:{outletName:"360 Mall"}}),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Point of Sale system for 360 Mall outlet"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:[n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/pos-sales/create-order",{state:{outletName:"360 Mall"}}),children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(ct,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"New Order"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Create a new sales order"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(VS,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Order History"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View past orders"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(uy,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Payment Reports"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View payment summaries"})]})]})})]})]})}),_=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx($o,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType,"  ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:(r==null?void 0:r.status)||"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(ye,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Raw Materials"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(A=>A.materialId&&A.materialCode&&A.materialName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(ye,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Finished Goods"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o.filter(A=>A.productId&&A.productCode&&A.productName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:n.jsx(ct,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(s.reduce((A,F)=>A+F.totalValue,0)+o.reduce((A,F)=>A+F.totalValue,0)).toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:n.jsx(Jr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(A=>A.status==="Low Stock").length+o.filter(A=>A.status==="Low Stock").length})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(ye,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(ye,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(ct,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx($o,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"360 Mall"}),n.jsxs("p",{className:"text-gray-600",children:[C==="raw-materials"?"Raw Materials Inventory":C==="finished-goods"?"Finished Goods Inventory":C==="sales-orders"?"Sales Orders":"Cozy waterfront cafe"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:P,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),C!=="sales-orders"&&n.jsxs("button",{onClick:()=>e("/transfer-orders/add"),className:"btn-primary flex items-center",children:[n.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Request Transfer"]}),n.jsx(ua,{notifications:N,onMarkAsRead:x,onMarkAllAsRead:j,onClearAll:p})]})]}),M(),n.jsx("input",{ref:b,type:"file",accept:".csv,.xlsx,.xls",onChange:I,className:"hidden"})]})},Df=()=>{const e=ge(),t=lr(),[r,a]=k.useState(null),[s,i]=k.useState([]),[o,l]=k.useState([]),[c,u]=k.useState(!0),[m,d]=k.useState(null),[f,y]=k.useState(""),[v]=k.useState(""),[h]=k.useState(""),[g]=k.useState("materialName"),[b]=k.useState("asc"),N=k.useRef(null),{notifications:x,markAsRead:j,markAllAsRead:p,clearAll:w}=da("Vibes Complex"),P=(()=>{const S=t.pathname;return S.includes("/raw-materials")?"raw-materials":S.includes("/finished-goods")?"finished-goods":S.includes("/sales-orders")?"sales-orders":"overview"})();k.useEffect(()=>{E()},[]),k.useEffect(()=>{c||I()},[f,v,h,g,b]);const E=async()=>{try{u(!0),d(null);const S=await te.getOutlets({limit:1e3});if(S.success){const T=S.data.find(R=>R.outletCode==="OUT-003");T?(a(T),await I()):d("Vibes Complex not found")}else d("Failed to load outlet data")}catch(S){d(S instanceof Error?S.message:"Failed to load outlet data"),console.error("Error loading outlet data:",S)}finally{u(!1)}},I=async()=>{try{console.log("Loading 360 Mall inventory from dedicated database");const S=await te.get360MallRawMaterials({limit:1e3,search:f,subCategory:v,status:h,sortBy:g==="materialName"?"materialName":g,sortOrder:b});if(S.success)if(console.log("Loaded 360 Mall Raw Materials:",S.data),S.data&&S.data.length>0){const R=S.data.map($=>{var L;return{id:$._id||$.id,outletId:"360-mall",outletCode:"OUT-003",outletName:"360 Mall",materialId:$._id,materialCode:$.materialCode,materialName:$.materialName,category:$.subCategory||$.category,unitOfMeasure:$.unitOfMeasure,unitPrice:$.unitPrice||0,currentStock:$.currentStock||0,reservedStock:0,availableStock:$.currentStock||0,minimumStock:$.minimumStock||0,maximumStock:$.maximumStock||0,reorderPoint:$.reorderPoint||0,totalValue:($.currentStock||0)*($.unitPrice||0),location:((L=$.storageRequirements)==null?void 0:L.location)||"Main Storage",batchNumber:$.batchNumber||"",supplier:$.supplierName||"",lastUpdated:$.lastUpdated||$.updatedAt,status:$.status,notes:$.notes||"",isActive:$.isActive}});i(R)}else console.log("No raw materials inventory found for 360 Mall"),i([]),d("No raw materials inventory found. Please add some raw materials to 360 Mall.");else console.error("Failed to load raw materials inventory:",S.error||"API Error"),d(`Failed to load inventory from server: ${S.error||"Unknown error"}`);const T=await te.get360MallFinishedProducts({limit:1e3,search:f,subCategory:v,status:h,sortBy:g==="productName"?"productName":g,sortOrder:b});if(T.success)if(console.log("Loaded 360 Mall Finished Products:",T.data),T.data&&T.data.length>0){const R=T.data.map($=>({id:$._id||$.id,outletId:"360-mall",outletCode:"OUT-003",outletName:"360 Mall",productId:$._id,productCode:$.productCode,productName:$.productName,category:$.subCategory||$.category,unitOfMeasure:$.unitOfMeasure,unitPrice:$.unitPrice||0,costPrice:$.costPrice||0,currentStock:$.currentStock||0,reservedStock:0,availableStock:$.currentStock||0,minimumStock:$.minimumStock||0,maximumStock:$.maximumStock||0,reorderPoint:$.reorderPoint||0,totalValue:($.currentStock||0)*($.unitPrice||0),productionDate:$.productionDate||new Date().toISOString(),expiryDate:$.expiryDate||new Date(Date.now()+864e5).toISOString(),batchNumber:$.batchNumber||"",storageLocation:$.storageLocation||"Cold Storage",storageTemperature:$.storageTemperature||"Cold",qualityStatus:$.qualityStatus||"Good",qualityNotes:$.qualityNotes||"",status:$.status,transferSource:"Transfer",lastUpdated:$.lastUpdated||$.updatedAt,notes:$.notes||"",isActive:$.isActive}));l(R)}else console.log("No finished goods inventory found for 360 Mall"),l([]);else console.error("Failed to load finished goods inventory:",T.error||"API Error")}catch(S){d(S instanceof Error?S.message:"Failed to load inventory"),console.error("Error loading inventory:",S)}},M=S=>{switch(S){case"In Stock":return"bg-green-100 text-green-800";case"Low Stock":return"bg-yellow-100 text-yellow-800";case"Out of Stock":return"bg-red-100 text-red-800";case"Overstock":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Vibes Complex..."})]})});if(m)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:m}),n.jsx("button",{onClick:E,className:"btn-primary",children:"Retry"})]})});const O=()=>{switch(P){case"raw-materials":return B();case"finished-goods":return _();case"sales-orders":return A();default:return F()}},D=async S=>{var R;const T=(R=S.target.files)==null?void 0:R[0];if(T){if(!T.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const L=(await T.text()).split(`
`).filter(fe=>fe.trim());if(L.length<2){alert("CSV file must contain at least a header row and one data row");return}const Q=L.slice(1);let Y=0,ne=0;for(const fe of Q)try{const X=fe.split(",").map(le=>le.replace(/"/g,"").trim()),he={materialCode:X[0],materialName:X[1],category:X[3],unitOfMeasure:X[4],unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplier:"",notes:""},G={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(r==null?void 0:r.id)||"mall-food-court-001",outletCode:(r==null?void 0:r.outletCode)||"MFC001",outletName:(r==null?void 0:r.outletName)||"Vibes Complex",materialId:he.materialCode,materialCode:he.materialCode,materialName:he.materialName,category:he.category,unitOfMeasure:he.unitOfMeasure,unitPrice:he.unitPrice,currentStock:he.currentStock,reservedStock:0,availableStock:he.currentStock,minimumStock:he.minimumStock,maximumStock:he.maximumStock,reorderPoint:0,totalValue:0,location:"Main Storage",batchNumber:"",supplier:he.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:he.notes,isActive:!0};i(le=>[...le,G]),Y++}catch(X){ne++,console.error("Error processing row:",X)}alert(`Import completed!
Successfully imported: ${Y} items
Errors: ${ne}`),N.current&&(N.current.value="")}catch($){console.error("Error importing file:",$),alert("Error importing file. Please check the file format.")}finally{}}},B=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})}),n.jsx("div",{className:"mb-6 space-y-4",children:n.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",placeholder:"Search raw materials...",value:f,onChange:S=>y(S.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})})}),n.jsx("input",{ref:N,type:"file",accept:".csv",onChange:D,style:{display:"none"}}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(S=>S.materialId&&S.materialCode&&S.materialName).filter(S=>f===""||S.materialCode.toLowerCase().includes(f.toLowerCase())||S.materialName.toLowerCase().includes(f.toLowerCase())||S.category.toLowerCase().includes(f.toLowerCase())).map(S=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.currentStock})]},S.id))})]})})]})}),_=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ye,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.filter(S=>S.productId&&S.productCode&&S.productName).filter(S=>f===""||S.productCode.toLowerCase().includes(f.toLowerCase())||S.productName.toLowerCase().includes(f.toLowerCase())||S.category.toLowerCase().includes(f.toLowerCase())).map(S=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.currentStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",S.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${M(S.status)}`,children:S.status})})]},S.id))})]})})]})}),A=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Sales orders functionality will be implemented here."})]})}),F=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-orange-50 to-red-50 border-orange-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(_o,{className:"h-8 w-8 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType,"  ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:(r==null?void 0:r.status)||"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/mall-food-court/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(ye,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/mall-food-court/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(ye,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/mall-food-court/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(ct,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(_o,{className:"h-8 w-8 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Vibes Complex"}),n.jsxs("p",{className:"text-gray-600",children:[P==="raw-materials"?"Raw Materials Inventory":P==="finished-goods"?"Finished Goods Inventory":P==="sales-orders"?"Sales Orders":"Fast-service food court outlet"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:E,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),P!=="sales-orders"&&n.jsxs("button",{onClick:()=>e("/transfer-orders/add"),className:"btn-primary flex items-center",children:[n.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Request Transfer"]}),n.jsx(ua,{notifications:x,onMarkAsRead:j,onMarkAllAsRead:p,onClearAll:w})]})]}),O()]})},$f=()=>{const e=ge(),t=lr(),[r,a]=k.useState(null),[s,i]=k.useState([]),[o,l]=k.useState([]),[c,u]=k.useState(!0),[m,d]=k.useState(null),[f,y]=k.useState(""),[v]=k.useState(""),[h]=k.useState(""),[g]=k.useState("materialName"),[b]=k.useState("asc"),[,N]=k.useState(!1),x=k.useRef(null),{notifications:j,markAsRead:p,markAllAsRead:w,clearAll:C}=da("Taiba Hospital"),[P,E]=k.useState(null),[I,M]=k.useState(!1),[O,D]=k.useState({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""}),[B,_]=k.useState(null),[A,F]=k.useState(!1),[S,T]=k.useState({currentStock:"",unitPrice:"",costPrice:"",minimumStock:"",maximumStock:"",reorderPoint:"",storageLocation:"",storageTemperature:"",qualityStatus:"",qualityNotes:"",notes:""}),$=(()=>{const U=t.pathname;return U.includes("/raw-materials")?"raw-materials":U.includes("/finished-goods")?"finished-goods":U.includes("/sales-orders")?"sales-orders":"overview"})();k.useEffect(()=>{L()},[]),k.useEffect(()=>{r&&!c&&Q()},[f,v,h,g,b]);const L=async()=>{try{u(!0),d(null);const U=await te.getOutlets({limit:1e3});if(U.success){const W=U.data.find(pe=>pe.outletCode==="OUT-004");W?(a(W),await Q()):d("Taiba Hospital not found")}else d("Failed to load outlet data")}catch(U){d(U instanceof Error?U.message:"Failed to load outlet data"),console.error("Error loading outlet data:",U)}finally{u(!1)}},Q=async()=>{try{console.log("Loading Taiba Kitchen inventory...");const U=await te.getTaibaKitchenRawMaterials({limit:1e3,search:f,category:v,status:h,sortBy:g==="materialName"?"materialName":g,sortOrder:b});if(U.success)if(console.log("Loaded outlet raw materials inventory:",U.data),U.data&&U.data.length>0){const pe=U.data.map(Z=>{var Se;return{id:Z._id||Z.id,outletId:"taiba-kitchen",outletCode:"OUT-004",outletName:"Taiba Hospital",materialId:Z._id||Z.id,materialCode:Z.materialCode,materialName:Z.materialName,category:Z.category,unitOfMeasure:Z.unitOfMeasure,unitPrice:Z.unitPrice,currentStock:Z.currentStock,reservedStock:0,availableStock:Z.currentStock,minimumStock:Z.minimumStock,maximumStock:Z.maximumStock,reorderPoint:Z.reorderPoint,totalValue:Z.currentStock*Z.unitPrice,location:((Se=Z.storageRequirements)==null?void 0:Se.location)||"Main Storage",batchNumber:Z.batchNumber||"",supplier:Z.supplierName||"",lastUpdated:Z.updatedAt||new Date().toISOString(),status:Z.status,notes:Z.notes||"",isActive:Z.isActive}});i(pe)}else console.log("No raw materials inventory found for Taiba Kitchen"),i([]),d("No raw materials inventory found. Please add some raw materials to Taiba Kitchen.");else console.error("Failed to load raw materials inventory:",U.error||"API Error"),d(`Failed to load inventory from server: ${U.error||"Unknown error"}`);const W=await te.getTaibaKitchenFinishedProducts({limit:1e3,search:f,category:v,status:h,sortBy:g==="productName"?"productName":g,sortOrder:b});if(W.success)if(console.log("Loaded outlet finished goods inventory:",W.data),W.data&&W.data.length>0){const pe=W.data.map(Z=>({id:Z._id||Z.id,outletId:"taiba-kitchen",outletCode:"OUT-004",outletName:"Taiba Hospital",productId:Z._id||Z.id,productCode:Z.productCode,productName:Z.productName,category:Z.category,unitOfMeasure:Z.unitOfMeasure,unitPrice:Z.unitPrice,costPrice:Z.costPrice||0,currentStock:Z.currentStock,reservedStock:0,availableStock:Z.currentStock,minimumStock:Z.minimumStock,maximumStock:Z.maximumStock,reorderPoint:Z.reorderPoint,totalValue:Z.currentStock*Z.unitPrice,productionDate:Z.productionDate||new Date().toISOString(),expiryDate:Z.expiryDate||new Date(Date.now()+864e5).toISOString(),batchNumber:Z.batchNumber||"",storageLocation:Z.storageLocation||"Cold Storage",storageTemperature:Z.storageTemperature||"Cold",qualityStatus:Z.qualityStatus||"Good",qualityNotes:Z.qualityNotes||"",status:Z.status,transferSource:"Transfer",lastUpdated:Z.lastUpdated||Z.updatedAt,notes:Z.notes||"",isActive:Z.isActive}));l(pe)}else console.log("No finished goods inventory found for this outlet"),l([]);else console.error("Failed to load finished goods inventory:",W.error||"API Error")}catch(U){d(U instanceof Error?U.message:"Failed to load inventory"),console.error("Error loading inventory:",U)}},Y=async()=>{if(P)try{const U={currentStock:parseFloat(O.currentStock),minimumStock:parseFloat(O.minimumStock),maximumStock:parseFloat(O.maximumStock),reorderPoint:parseFloat(O.reorderPoint),unitPrice:parseFloat(O.unitPrice),notes:O.notes},W=await te.updateTaibaKitchenRawMaterial(P.id,U);W.success?(i(pe=>pe.map(Z=>Z.id===P.id?{...Z,...U,totalValue:U.currentStock*U.unitPrice}:Z)),M(!1),E(null)):alert(`Failed to update inventory item: ${W.error||"Unknown error"}`)}catch(U){console.error("Error updating inventory item:",U),alert("Failed to update inventory item")}},ne=()=>{M(!1),E(null),D({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""})},fe=U=>{_(U),T({currentStock:U.currentStock.toString(),unitPrice:U.unitPrice.toString(),costPrice:U.costPrice.toString(),minimumStock:U.minimumStock.toString(),maximumStock:U.maximumStock.toString(),reorderPoint:U.reorderPoint.toString(),storageLocation:U.storageLocation||"",storageTemperature:U.storageTemperature||"",qualityStatus:U.qualityStatus||"",qualityNotes:U.qualityNotes||"",notes:U.notes||""}),F(!0)},X=async()=>{if(B)try{const U={currentStock:parseFloat(S.currentStock),unitPrice:parseFloat(S.unitPrice),costPrice:parseFloat(S.costPrice),minimumStock:parseFloat(S.minimumStock),maximumStock:parseFloat(S.maximumStock),reorderPoint:parseFloat(S.reorderPoint),storageLocation:S.storageLocation,storageTemperature:S.storageTemperature,qualityStatus:S.qualityStatus,qualityNotes:S.qualityNotes,notes:S.notes},W=await te.updateTaibaKitchenFinishedProduct(B.id,U);W.success?(l(pe=>pe.map(Z=>Z.id===B.id?{...Z,...U,totalValue:U.currentStock*U.unitPrice}:Z)),F(!1),_(null)):alert(`Failed to update finished good inventory item: ${W.error||"Unknown error"}`)}catch(U){console.error("Error updating finished good inventory item:",U),alert("Failed to update finished good inventory item")}},he=()=>{F(!1),_(null),T({currentStock:"",unitPrice:"",costPrice:"",minimumStock:"",maximumStock:"",reorderPoint:"",storageLocation:"",storageTemperature:"",qualityStatus:"",qualityNotes:"",notes:""})},G=U=>{switch(U){case"In Stock":return"bg-green-100 text-green-800";case"Low Stock":return"bg-yellow-100 text-yellow-800";case"Out of Stock":return"bg-red-100 text-red-800";case"Overstock":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Taiba Hospital..."})]})});if(m)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:m}),n.jsx("button",{onClick:L,className:"btn-primary",children:"Retry"})]})});const le=()=>{switch($){case"raw-materials":return H();case"finished-goods":return xe();case"sales-orders":return ce();default:return K()}},ue=async U=>{var pe;const W=(pe=U.target.files)==null?void 0:pe[0];if(W){if(!W.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{N(!0);const Se=(await W.text()).split(`
`).filter(ae=>ae.trim());if(Se.length<2){alert("CSV file must contain at least a header row and one data row");return}const ft=Se.slice(1);let st=0,z=0;for(const ae of ft)try{const ee=ae.split(",").map(Fe=>Fe.replace(/"/g,"").trim()),Me={materialCode:ee[0],materialName:ee[1],category:ee[3],unitOfMeasure:ee[4],unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplier:"",notes:""},ht={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(r==null?void 0:r.id)||"drive-thru-express-001",outletCode:(r==null?void 0:r.outletCode)||"DTE001",outletName:(r==null?void 0:r.outletName)||"Taiba Hospital",materialId:Me.materialCode,materialCode:Me.materialCode,materialName:Me.materialName,category:Me.category,unitOfMeasure:Me.unitOfMeasure,unitPrice:Me.unitPrice,currentStock:Me.currentStock,reservedStock:0,availableStock:Me.currentStock,minimumStock:Me.minimumStock,maximumStock:Me.maximumStock,reorderPoint:0,totalValue:0,location:"Main Storage",batchNumber:"",supplier:Me.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:Me.notes,isActive:!0};i(Fe=>[...Fe,ht]),st++}catch(ee){z++,console.error("Error processing row:",ee)}alert(`Import completed!
Successfully imported: ${st} items
Errors: ${z}`),x.current&&(x.current.value="")}catch(Z){console.error("Error importing file:",Z),alert("Error importing file. Please check the file format.")}finally{N(!1)}}},H=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})}),n.jsx("div",{className:"mb-6 space-y-4",children:n.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",placeholder:"Search raw materials...",value:f,onChange:U=>y(U.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})})}),n.jsx("input",{ref:x,type:"file",accept:".csv",onChange:ue,style:{display:"none"}}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(U=>U.materialId&&U.materialCode&&U.materialName).filter(U=>f===""||U.materialCode.toLowerCase().includes(f.toLowerCase())||U.materialName.toLowerCase().includes(f.toLowerCase())||U.category.toLowerCase().includes(f.toLowerCase())).map(U=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:U.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.currentStock})]},U.id))})]})})]})}),xe=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ye,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.filter(U=>U.productId&&U.productCode&&U.productName).filter(U=>f===""||U.productCode.toLowerCase().includes(f.toLowerCase())||U.productName.toLowerCase().includes(f.toLowerCase())||U.category.toLowerCase().includes(f.toLowerCase())).map(U=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:U.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.currentStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",U.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G(U.status)}`,children:U.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{onClick:()=>fe(U),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:"Edit"})})]},U.id))})]})})]})}),ce=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Sales orders functionality will be implemented here."})]})}),K=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Do,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType,"  ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:(r==null?void 0:r.status)||"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/drive-thru-express/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(ye,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/drive-thru-express/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(ye,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/drive-thru-express/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(ct,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Do,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Taiba Hospital"}),n.jsxs("p",{className:"text-gray-600",children:[$==="raw-materials"?"Raw Materials Inventory":$==="finished-goods"?"Finished Goods Inventory":$==="sales-orders"?"Sales Orders":"Express drive-thru outlet"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:L,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),$!=="sales-orders"&&n.jsxs("button",{onClick:()=>e("/transfer-orders/add"),className:"btn-primary flex items-center",children:[n.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Request Transfer"]}),n.jsx(ua,{notifications:j,onMarkAsRead:p,onMarkAllAsRead:w,onClearAll:C})]})]}),le(),I&&P&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Edit Inventory Item"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[P.materialCode," - ",P.materialName]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock"}),n.jsx("input",{type:"number",step:"0.01",value:O.currentStock,onChange:U=>D(W=>({...W,currentStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",value:O.unitPrice,onChange:U=>D(W=>({...W,unitPrice:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:O.minimumStock,onChange:U=>D(W=>({...W,minimumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:O.maximumStock,onChange:U=>D(W=>({...W,maximumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reorder Point"}),n.jsx("input",{type:"number",step:"0.01",value:O.reorderPoint,onChange:U=>D(W=>({...W,reorderPoint:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:O.notes,onChange:U=>D(W=>({...W,notes:U.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:ne,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:Y,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})}),A&&B&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Edit Finished Good Inventory Item"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[B.productCode," - ",B.productName]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock"}),n.jsx("input",{type:"number",step:"0.01",value:S.currentStock,onChange:U=>T(W=>({...W,currentStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",value:S.unitPrice,onChange:U=>T(W=>({...W,unitPrice:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price"}),n.jsx("input",{type:"number",step:"0.01",value:S.costPrice,onChange:U=>T(W=>({...W,costPrice:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:S.minimumStock,onChange:U=>T(W=>({...W,minimumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:S.maximumStock,onChange:U=>T(W=>({...W,maximumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reorder Point"}),n.jsx("input",{type:"number",step:"0.01",value:S.reorderPoint,onChange:U=>T(W=>({...W,reorderPoint:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Location"}),n.jsx("input",{type:"text",value:S.storageLocation,onChange:U=>T(W=>({...W,storageLocation:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Temperature"}),n.jsxs("select",{value:S.storageTemperature,onChange:U=>T(W=>({...W,storageTemperature:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"Cold",children:"Cold"}),n.jsx("option",{value:"Frozen",children:"Frozen"}),n.jsx("option",{value:"Hot",children:"Hot"}),n.jsx("option",{value:"Room Temperature",children:"Room Temperature"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quality Status"}),n.jsxs("select",{value:S.qualityStatus,onChange:U=>T(W=>({...W,qualityStatus:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Damaged",children:"Damaged"}),n.jsx("option",{value:"Expired",children:"Expired"}),n.jsx("option",{value:"Under Review",children:"Under Review"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quality Notes"}),n.jsx("textarea",{value:S.qualityNotes,onChange:U=>T(W=>({...W,qualityNotes:U.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:S.notes,onChange:U=>T(W=>({...W,notes:U.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:he,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:X,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})})]})},FZ=()=>{const e=ge(),[t,r]=k.useState([]),[a,s]=k.useState(!0),[i,o]=k.useState(null),[l,c]=k.useState(null),[u,m]=k.useState(!1),[d,f]=k.useState(""),[y,v]=k.useState(""),[h,g]=k.useState(""),[b,N]=k.useState("createdAt"),[x,j]=k.useState("desc");k.useEffect(()=>{p()},[]),k.useEffect(()=>{a||p()},[d,y,h,b,x]);const p=async()=>{try{s(!0),o(null);const O=await te.getRawMaterialForecasts({limit:1e3,search:d,status:y,forecastPeriod:h,sortBy:b,sortOrder:x});O.success?(console.log("Loaded Raw Material Forecasts:",O.data),r(O.data)):o("Failed to load forecasts")}catch(O){o(O instanceof Error?O.message:"Failed to load forecasts"),console.error("Error loading forecasts:",O)}finally{s(!1)}},w=t,C=()=>{f(""),v(""),g(""),N("createdAt"),j("desc"),p()},P=O=>{c(O),m(!0)},E=async O=>{if(window.confirm("Are you sure you want to delete this forecast?"))try{(await te.deleteRawMaterialForecast(O)).success?await p():alert("Failed to delete forecast")}catch(D){alert("Error deleting forecast: "+(D instanceof Error?D.message:"Unknown error")),console.error("Error deleting forecast:",D)}},I=O=>{switch(O){case"Active":return"bg-green-100 text-green-800";case"Draft":return"bg-yellow-100 text-yellow-800";case"Completed":return"bg-blue-100 text-blue-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=O=>{switch(O){case"High":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading forecasts..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:p,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ingredient Forecast"}),n.jsx("p",{className:"text-gray-600",children:"Plan and predict your ingredient requirements based on Job Orders"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:p,className:"btn-secondary flex items-center",title:"Refresh forecasts",children:[n.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/raw-material-forecast/add"),className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Create Forecast"]})]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search forecasts by name, number, or description...",className:"input-field pl-10",value:d,onChange:O=>f(O.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:C,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:y,onChange:O=>v(O.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),n.jsxs("select",{className:"input-field",value:h,onChange:O=>g(O.target.value),children:[n.jsx("option",{value:"",children:"All Periods"}),n.jsx("option",{value:"Weekly",children:"Weekly"}),n.jsx("option",{value:"Monthly",children:"Monthly"}),n.jsx("option",{value:"Quarterly",children:"Quarterly"}),n.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:b,onChange:O=>N(O.target.value),children:[n.jsx("option",{value:"createdAt",children:"Date Created"}),n.jsx("option",{value:"forecastNumber",children:"Forecast Number"}),n.jsx("option",{value:"forecastName",children:"Forecast Name"}),n.jsx("option",{value:"totalValue",children:"Total Value"}),n.jsx("option",{value:"forecastStartDate",children:"Start Date"})]}),n.jsx("button",{onClick:()=>j(x==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${x==="asc"?"Descending":"Ascending"}`,children:x==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",w.length," forecasts",(d||y||h)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(d||y||h)&&n.jsx("button",{onClick:C,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Forecast #"}),n.jsx("th",{className:"table-header",children:"Name"}),n.jsx("th",{className:"table-header",children:"Period"}),n.jsx("th",{className:"table-header",children:"Start Date"}),n.jsx("th",{className:"table-header",children:"End Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Confidence"}),n.jsx("th",{className:"table-header",children:"Total Value"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(O=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:O.forecastNumber}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900 font-medium",children:O.forecastName}),n.jsx("div",{className:"text-gray-500 text-sm max-w-xs truncate",children:O.forecastDescription})]})}),n.jsx("td",{className:"table-cell",children:O.forecastPeriod}),n.jsx("td",{className:"table-cell",children:new Date(O.forecastStartDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:new Date(O.forecastEndDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I(O.status)}`,children:O.status})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M(O.confidenceLevel)}`,children:O.confidenceLevel})}),n.jsxs("td",{className:"table-cell font-semibold",children:[O.totalValue.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>P(O),className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(Yr,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/raw-material-forecast/edit/${O.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Br,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>E(O.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx($e,{className:"h-4 w-4"})})]})})]},O.id))})]})})}),u&&l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Forecast Details"}),n.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ee,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forecast Number"}),n.jsx("p",{className:"text-gray-900 font-mono",children:l.forecastNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forecast Name"}),n.jsx("p",{className:"text-gray-900",children:l.forecastName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),n.jsx("p",{className:"text-gray-900",children:l.forecastPeriod})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I(l.status)}`,children:l.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.forecastStartDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.forecastEndDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confidence Level"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M(l.confidenceLevel)}`,children:l.confidenceLevel})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Value"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:[l.totalValue.toFixed(2)," KWD"]})]})]}),l.forecastDescription&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("p",{className:"text-gray-900",children:l.forecastDescription})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Forecast Items (",l.items.length," items)"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.items.map((O,D)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-mono",children:O.materialCode}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:O.materialName}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[O.requiredQuantity.toFixed(2)," ",O.unitOfMeasure]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[O.availableQuantity.toFixed(2)," ",O.unitOfMeasure]}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O.shortfall>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[O.shortfall.toFixed(2)," ",O.unitOfMeasure]})}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[O.unitPrice.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[O.forecastValue.toFixed(2)," KWD"]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-mono text-xs",children:O.jobOrderNumber}),n.jsx("div",{className:"text-xs",children:O.bomCode})]})})]},D))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),n.jsx("p",{className:"text-gray-900",children:l.createdBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),n.jsx("p",{className:"text-gray-900",children:l.updatedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(l.updatedAt).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{m(!1),e(`/raw-material-forecast/edit/${l.id}`)},className:"btn-primary",children:"Edit Forecast"})]})]})})]})},BZ=()=>{const e=ge(),[t,r]=k.useState({selectedJobOrderId:"",items:[]}),[a,s]=k.useState({}),[i,o]=k.useState([]),[l,c]=k.useState([]),[u,m]=k.useState(!1),[d,f]=k.useState(null),[y,v]=k.useState(new Set);k.useEffect(()=>{h(),g()},[]);const h=async()=>{try{m(!0),console.log("Loading job orders from backend...");const p=await te.getJobOrders({limit:1e3});console.log("Job orders response:",p),p.success&&p.data&&p.data.length>0?(o(p.data),console.log(" Loaded job orders from backend:",p.data.length)):(console.log(" No job orders found in backend"),o([]))}catch(p){console.error(" Error loading job orders from backend:",p),o([])}finally{m(!1)}},g=async()=>{try{console.log("Loading BOMs from backend...");const p=await te.getBillOfMaterials({limit:1e3});p.success&&p.data&&p.data.length>0?(c(p.data),console.log(" Loaded BOMs from backend:",p.data.length)):(console.log(" No BOMs found in backend"),c([]))}catch(p){console.error(" Error loading BOMs from backend:",p),c([])}},b=p=>{const w=i.find(P=>P.id===p);if(!w)return;f(w),r(P=>({...P,selectedJobOrderId:p}));const C=new Map;w.items.forEach(P=>{const E=l.find(I=>I.id===P.bomId);E&&E.items.forEach(I=>{const M=I.materialCode,O=P.totalQuantity*I.quantity;if(C.has(M)){const D=C.get(M);D.requiredQuantity+=O,D.forecastQuantity=D.requiredQuantity,D.forecastValue=D.forecastQuantity*D.unitPrice,D.shortfall=Math.max(0,D.requiredQuantity-D.availableQuantity)}else{const D={materialId:I.materialId,materialCode:I.materialCode,materialName:I.materialName,currentStock:0,unitOfMeasure:I.unitOfMeasure,unitPrice:I.unitCost,forecastQuantity:O,forecastValue:O*I.unitCost,leadTime:3,requiredQuantity:O,availableQuantity:0,shortfall:O,jobOrderId:w.id,jobOrderNumber:w.jobOrderNumber,bomId:E.id,bomCode:E.bomCode,notes:`Required for ${P.product} (${P.totalQuantity} units)`};C.set(M,D)}})}),r(P=>({...P,items:Array.from(C.values())}))},N=()=>{const p={};return t.selectedJobOrderId||(p.selectedJobOrderId="Please select a Recipe Order"),t.items.length===0&&(p.items="No forecast items generated. Please select a Recipe Order with valid BOMs."),s(p),Object.keys(p).length===0},x=async p=>{if(p.preventDefault(),!!N())try{const w=t.items.reduce((I,M)=>I+M.forecastValue,0),P={forecastNumber:`FC-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`,forecastName:`Forecast for ${d==null?void 0:d.jobOrderNumber}`,forecastDescription:`Material forecast based on Job Order ${d==null?void 0:d.jobOrderNumber}`,forecastPeriod:"Monthly",forecastStartDate:new Date().toISOString().split("T")[0],forecastEndDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],status:"Draft",totalValue:Math.round(w*100)/100,items:t.items,basedOnJobOrders:!0,basedOnHistoricalData:!1,confidenceLevel:"Medium",createdBy:"admin",updatedBy:"admin"};console.log("Creating Forecast:",P);const E=await te.createRawMaterialForecast(P);if(E.success){let I="Forecast created successfully!";if(E.data&&E.data.generatedPurchaseOrder){const M=E.data.generatedPurchaseOrder;I+=`

 Purchase Order Generated:
PO Number: ${M.poNumber}
Total Amount: ${M.totalAmount.toFixed(2)} KWD
Items: ${M.items.length} materials
Status: ${M.status}`}alert(I),e("/raw-material-forecast")}else alert("Error creating forecast: "+(E.message||"Unknown error"))}catch(w){console.error("Error creating forecast:",w),alert("Error creating forecast: "+(w instanceof Error?w.message:"Unknown error"))}},j=p=>{const w=new Set(y);w.has(p)?w.delete(p):w.add(p),v(w)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Ingredient Forecast"}),n.jsx("p",{className:"text-gray-600",children:"Create an ingredient forecast based on Job Orders"})]}),n.jsxs("button",{onClick:()=>e("/raw-material-forecast"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Forecasts"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:x,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Step 1: Select Recipe Order"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Recipe Order *"}),n.jsxs("select",{className:`input-field ${a.selectedJobOrderId?"border-red-500":""}`,value:t.selectedJobOrderId,onChange:p=>b(p.target.value),children:[n.jsx("option",{value:"",children:"Select a Recipe Order"}),u?n.jsx("option",{disabled:!0,children:"Loading recipe orders..."}):i.map(p=>n.jsxs("option",{value:p.id,children:["Recipe Order #",p.jobOrderNumber," - ",p.customerName," (",p.items.length," items)"]},p.id))]}),a.selectedJobOrderId&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.selectedJobOrderId})]}),d&&n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Selected Recipe Order Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Order Number:"})," ",d.jobOrderNumber]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Customer:"})," ",d.customerName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Total Items:"})," ",d.items.length]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",d.totalAmount.toFixed(2)," KWD"]})]})]})]})]}),d&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Step 2: Recipe Order Items & Ingredients"}),n.jsx("div",{className:"space-y-4",children:d.items.map((p,w)=>{const C=l.find(I=>I.id===p.bomId),P=`item-${w}`,E=y.has(P);return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(yT,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:p.product}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",p.totalQuantity," units | Unit Price: ",p.unitPrice.toFixed(2)," KWD | Total: ",p.totalPrice.toFixed(2)," KWD"]})]})]}),n.jsx("button",{type:"button",onClick:()=>j(P),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:E?"Hide Ingredients":"Show Ingredients"})]}),E&&C&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(ye,{className:"h-4 w-4 text-green-600"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Recipe: ",C.productName," (",C.bomCode,")"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingredient"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Per Unit"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Cost"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.items.map((I,M)=>{const O=p.totalQuantity*I.quantity,D=0,B=Math.max(0,O-D),_=O*I.unitCost;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.materialName}),n.jsx("div",{className:"text-sm text-gray-500 font-mono",children:I.materialCode})]})}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:I.unitOfMeasure}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:I.quantity}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-semibold",children:O.toFixed(2)}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:D.toFixed(2)}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${B>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:B.toFixed(2)})}),n.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:[I.unitCost.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900 font-semibold",children:[_.toFixed(2)," KWD"]})]},M)})})]})})]})]},w)})})]}),t.items.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Step 3: Forecast Summary"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-red-800 font-semibold text-lg",children:t.items.reduce((p,w)=>p+w.shortfall,0).toFixed(2)}),n.jsx("div",{className:"text-red-600 text-sm",children:"Total Shortfall"})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-blue-800 font-semibold text-lg",children:t.items.reduce((p,w)=>p+w.requiredQuantity,0).toFixed(2)}),n.jsx("div",{className:"text-blue-600 text-sm",children:"Total Required"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-green-800 font-semibold text-lg",children:t.items.reduce((p,w)=>p+w.availableQuantity,0).toFixed(2)}),n.jsx("div",{className:"text-green-600 text-sm",children:"Total Available"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.items.map((p,w)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("div",{className:"text-sm text-gray-500 font-mono",children:p.materialCode})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:p.unitOfMeasure}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:p.requiredQuantity.toFixed(2)}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:p.availableQuantity.toFixed(2)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.shortfall>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:p.shortfall.toFixed(2)})}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[p.unitPrice.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[p.forecastValue.toFixed(2)," KWD"]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-mono text-xs",children:p.jobOrderNumber}),n.jsx("div",{className:"text-xs",children:p.bomCode})]})})]},w))})]})}),n.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx("div",{children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Forecast Value: ",t.items.reduce((p,w)=>p+w.forecastValue,0).toFixed(2)," KWD"]})}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-red-600",children:["Total Shortfall Value: ",t.items.reduce((p,w)=>p+w.shortfall*w.unitPrice,0).toFixed(2)," KWD"]})})]}),t.items.some(p=>p.shortfall>0)&&n.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:" Purchase Order will be automatically generated for shortfall quantities"}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Total PO Value: ",t.items.reduce((p,w)=>p+w.shortfall*w.unitPrice,0).toFixed(2)," KWD"]})]})]})})]})]})]}),t.items.length>0&&n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/raw-material-forecast"),className:"btn-secondary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Generate Forecast"]})]})]})})]})},Ki=()=>{const e=ge(),t=lr(),[r,a]=k.useState([]),[s,i]=k.useState(!0),[o,l]=k.useState(null),[c,u]=k.useState(""),[m,d]=k.useState(""),[f,y]=k.useState(""),[v,h]=k.useState(""),[g,b]=k.useState(""),[N,x]=k.useState(null),[j,p]=k.useState(!1),[w,C]=k.useState([]),[P,E]=k.useState(null),I=()=>{const L=t.pathname;return L.includes("/downtown-restaurant/sales-orders")?"Kuwait City":L.includes("/marina-walk-cafe/sales-orders")?"360 Mall":L.includes("/mall-food-court/sales-orders")?"Vibes Complex":L.includes("/drive-thru-express/sales-orders")?"Taiba Hospital":null},M=["Pending","Confirmed","Preparing","Ready","Served","Completed","Cancelled"],O=["Dine-in","Takeaway","Delivery","Drive-thru"],D=["Pending","Paid","Partially Paid","Refunded"],B=async()=>{i(!0),l(null);try{const L=await te.getSalesOrders({search:c,outletId:m,orderStatus:f,orderType:v,paymentStatus:g,limit:1e3,sortBy:"orderTiming.orderDate",sortOrder:"desc"});L.success?a(L.data):(console.log("API failed, loading sample data"),_())}catch(L){console.log("API error, loading sample data:",L),_()}finally{i(!1)}},_=()=>{const L=[{_id:"so-001",orderNumber:"SO-DT-001-001",outletId:{_id:"outlet-downtown-001",outletCode:"DT-001",outletName:"Kuwait City"},outletCode:"DT-001",outletName:"Kuwait City",customerInfo:{customerName:"John Smith",customerPhone:"+965-1234-5678",customerEmail:"john.smith@email.com",tableNumber:"T-05",orderType:"Dine-in"},orderItems:[{productId:{_id:"fg-001",productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages"},productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages",quantity:2,unitPrice:4.5,totalPrice:9,specialInstructions:"Extra ice"},{productId:{_id:"fg-002",productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals"},productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals",quantity:1,unitPrice:8.75,totalPrice:8.75,specialInstructions:"No nuts"}],orderSummary:{subtotal:17.75,taxAmount:2.66,discountAmount:0,totalAmount:20.41,paymentMethod:"Card",paymentStatus:"Paid"},orderStatus:"Ready",orderTiming:{orderDate:new Date().toISOString(),estimatedPrepTime:15,servedAt:new Date().toISOString()},notes:"Regular customer",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"so-002",orderNumber:"SO-MW-001-002",outletId:{_id:"outlet-marina-001",outletCode:"MW-001",outletName:"360 Mall"},outletCode:"MW-001",outletName:"360 Mall",customerInfo:{customerName:"Sarah Johnson",customerPhone:"+965-9876-5432",customerEmail:"sarah.j@email.com",orderType:"Takeaway"},orderItems:[{productId:{_id:"fg-003",productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages"},productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages",quantity:1,unitPrice:5.25,totalPrice:5.25}],orderSummary:{subtotal:5.25,taxAmount:.79,discountAmount:0,totalAmount:6.04,paymentMethod:"Cash",paymentStatus:"Paid"},orderStatus:"Completed",orderTiming:{orderDate:new Date(Date.now()-18e5).toISOString(),estimatedPrepTime:10,servedAt:new Date(Date.now()-12e5).toISOString(),completedAt:new Date(Date.now()-6e5).toISOString()},notes:"Quick takeaway order",createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-6e5).toISOString()},{_id:"so-003",orderNumber:"SO-MF-001-003",outletId:{_id:"outlet-mall-001",outletCode:"MF-001",outletName:"Vibes Complex"},outletCode:"MF-001",outletName:"Vibes Complex",customerInfo:{customerName:"Ahmed Al-Rashid",customerPhone:"+965-5555-1234",tableNumber:"T-12",orderType:"Dine-in"},orderItems:[{productId:{_id:"fg-004",productCode:"FG-004",productName:"Quinoa Salad",category:"Meals"},productCode:"FG-004",productName:"Quinoa Salad",category:"Meals",quantity:2,unitPrice:7.5,totalPrice:15,specialInstructions:"Extra dressing"},{productId:{_id:"fg-005",productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks"},productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks",quantity:1,unitPrice:3.25,totalPrice:3.25}],orderSummary:{subtotal:18.25,taxAmount:2.74,discountAmount:1,totalAmount:19.99,paymentMethod:"Digital Wallet",paymentStatus:"Paid"},orderStatus:"Preparing",orderTiming:{orderDate:new Date(Date.now()-6e5).toISOString(),estimatedPrepTime:20},notes:"Family lunch order",createdAt:new Date(Date.now()-6e5).toISOString(),updatedAt:new Date(Date.now()-3e5).toISOString()}];a(L),l(null)},A=async()=>{try{const L=await te.getOutlets({limit:1e3});if(L.success){C(L.data);const Q=I();if(Q){const Y=L.data.find(ne=>ne.outletName===Q);Y&&(E(Y),d(Y._id))}}}catch(L){console.error("Error loading outlets:",L)}};k.useEffect(()=>{A()},[]),k.useEffect(()=>{B()},[c,m,f,v,g]);const F=L=>{x(L),p(!0)},S=async L=>{if(window.confirm("Are you sure you want to delete this sales order?"))try{const Q=await te.deleteSalesOrder(L);Q.success?(alert(Q.message),B()):alert(Q.message||"Failed to delete sales order")}catch(Q){alert(Q.message||"An error occurred during deletion")}},T=L=>{switch(L){case"Pending":return"bg-yellow-100 text-yellow-800";case"Confirmed":return"bg-blue-100 text-blue-800";case"Preparing":return"bg-orange-100 text-orange-800";case"Ready":return"bg-green-100 text-green-800";case"Served":return"bg-green-100 text-green-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=L=>{switch(L){case"Pending":return"bg-yellow-100 text-yellow-800";case"Paid":return"bg-green-100 text-green-800";case"Partially Paid":return"bg-blue-100 text-blue-800";case"Refunded":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$=L=>{switch(L){case"Dine-in":return"";case"Takeaway":return"";case"Delivery":return"";case"Drive-thru":return"";default:return""}};return n.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Sales Orders",P&&n.jsxs("span",{className:"text-lg font-normal text-gray-600 ml-2",children:["- ",P.outletName]})]}),P&&n.jsxs("p",{className:"text-gray-600 mt-1",children:["Managing sales orders for ",P.outletName]})]}),n.jsxs("button",{onClick:()=>{const L=I();if(L){const Q=L.toLowerCase().replace(/\s+/g,"-");e(`/${Q}/sales-orders/add`)}else e("/sales-orders/add")},className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[n.jsx(we,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Create Order"]})]}),n.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ft,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),n.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search orders...",value:c,onChange:L=>u(L.target.value)})]})]}),!P&&n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"outletFilter",className:"block text-sm font-medium text-gray-700",children:"Outlet"}),n.jsxs("select",{id:"outletFilter",name:"outletFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:m,onChange:L=>d(L.target.value),children:[n.jsx("option",{value:"",children:"All Outlets"}),w.map(L=>n.jsx("option",{value:L._id,children:L.outletName},L._id))]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"statusFilter",className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsxs("select",{id:"statusFilter",name:"statusFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:f,onChange:L=>y(L.target.value),children:[n.jsx("option",{value:"",children:"All Statuses"}),M.map(L=>n.jsx("option",{value:L,children:L},L))]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"orderTypeFilter",className:"block text-sm font-medium text-gray-700",children:"Order Type"}),n.jsxs("select",{id:"orderTypeFilter",name:"orderTypeFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:v,onChange:L=>h(L.target.value),children:[n.jsx("option",{value:"",children:"All Types"}),O.map(L=>n.jsx("option",{value:L,children:L},L))]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"paymentStatusFilter",className:"block text-sm font-medium text-gray-700",children:"Payment"}),n.jsxs("select",{id:"paymentStatusFilter",name:"paymentStatusFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:g,onChange:L=>b(L.target.value),children:[n.jsx("option",{value:"",children:"All Payments"}),D.map(L=>n.jsx("option",{value:L,children:L},L))]})]})]}),n.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[n.jsxs("button",{onClick:()=>{u(""),P||d(""),y(""),h(""),b("")},className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[n.jsx(Ee,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Clear Filters"]}),n.jsxs("button",{onClick:B,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[n.jsx(It,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Refresh"]})]})]}),s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full"}),n.jsx("p",{className:"text-gray-600 mt-3",children:"Loading sales orders..."})]}):o?n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[n.jsx("strong",{className:"font-bold",children:"Error!"}),n.jsxs("span",{className:"block sm:inline",children:[" ",o]}),n.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:n.jsx(Ee,{className:"h-6 w-6 text-red-500 cursor-pointer",onClick:()=>l(null)})})]}):r.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ct,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-lg",children:"No sales orders found."}),n.jsx("p",{className:"text-sm",children:"Try adjusting your filters or create a new order."})]}):n.jsx("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order #"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{scope:"col",className:"relative px-6 py-3",children:n.jsx("span",{className:"sr-only",children:"Actions"})})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(L=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:L.orderNumber}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:L.customerInfo.customerName}),L.customerInfo.customerPhone&&n.jsx("div",{className:"text-gray-400",children:L.customerInfo.customerPhone})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.outletName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("span",{className:"flex items-center",children:[n.jsx("span",{className:"mr-1",children:$(L.customerInfo.orderType)}),L.customerInfo.orderType]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[L.orderItems.length," item",L.orderItems.length!==1?"s":""]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",L.orderSummary.totalAmount.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T(L.orderStatus)}`,children:L.orderStatus})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R(L.orderSummary.paymentStatus)}`,children:L.orderSummary.paymentStatus})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(L.orderTiming.orderDate).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[n.jsx("button",{onClick:()=>F(L),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"View Details",children:n.jsx(Yr,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>e(`/sales-orders/edit/${L._id}`),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"Edit",children:n.jsx(Br,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>S(L._id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx($e,{className:"h-5 w-5"})})]})]},L._id))})]})}),j&&N&&n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-800 bg-opacity-75 flex justify-center items-center",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-4xl mx-4 my-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Order Details: ",N.orderNumber]}),n.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(Ee,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Customer Information"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",N.customerInfo.customerName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",N.customerInfo.customerPhone||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",N.customerInfo.customerEmail||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Order Type:"})," ",$(N.customerInfo.orderType)," ",N.customerInfo.orderType]}),N.customerInfo.tableNumber&&n.jsxs("p",{children:[n.jsx("strong",{children:"Table:"})," ",N.customerInfo.tableNumber]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Order Summary"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Outlet:"})," ",N.outletName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T(N.orderStatus)}`,children:N.orderStatus})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Payment:"})," ",n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R(N.orderSummary.paymentStatus)}`,children:N.orderSummary.paymentStatus})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Method:"})," ",N.orderSummary.paymentMethod]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total:"})," $",N.orderSummary.totalAmount.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Order Items"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.orderItems.map((L,Q)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:L.productName}),n.jsx("div",{className:"text-gray-500",children:L.productCode}),L.specialInstructions&&n.jsx("div",{className:"text-gray-400 text-xs italic",children:L.specialInstructions})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.quantity}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",L.unitPrice.toFixed(2)]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",L.totalPrice.toFixed(2)]})]},Q))})]})})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Close"})})]})})]})},zi=()=>{const e=ge(),t=lr(),[r,a]=k.useState(null),[s,i]=k.useState([]),[o,l]=k.useState(!0),[c,u]=k.useState({orderNumber:"",outletId:"",outletCode:"",outletName:"",customerInfo:{customerName:"",customerPhone:"",customerEmail:"",tableNumber:"",orderType:"Dine-in"},orderItems:[],orderSummary:{subtotal:0,taxAmount:0,discountAmount:0,totalAmount:0,paymentMethod:"Cash",paymentStatus:"Pending"},orderStatus:"Pending",orderTiming:{orderDate:new Date().toISOString().split("T")[0],estimatedPrepTime:15},notes:""}),[m,d]=k.useState({}),[f]=k.useState("");k.useEffect(()=>{const D=new URLSearchParams(t.search).get("outlet");D?y(D):v()},[t.search]);const y=async O=>{try{l(!0);const B={"downtown-restaurant":{id:"outlet-downtown-001",outletCode:"DT-001",outletName:"Kuwait City",outletType:"Restaurant"},"marina-walk-cafe":{id:"outlet-marina-001",outletCode:"MW-001",outletName:"360 Mall",outletType:"Cafe"},"mall-food-court":{id:"outlet-mall-001",outletCode:"MF-001",outletName:"Vibes Complex",outletType:"Food Court"},"drive-thru-express":{id:"outlet-drive-001",outletCode:"DTE-001",outletName:"Taiba Hospital",outletType:"Drive-Thru"},"central-kitchen":{id:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Kitchen"},"Central Kitchen":{id:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Kitchen"}}[O];B&&(a(B),u(_=>({..._,outletId:B.id,outletCode:B.outletCode,outletName:B.outletName,orderNumber:`SO-${B.outletCode}-${Date.now().toString().slice(-6)}`}))),await h()}catch(D){console.error("Error loading outlet data:",D)}finally{l(!1)}},v=async()=>{try{l(!0);const O=await te.getOutlets({limit:1e3});if(O.success&&O.data.length>0){const D=O.data[0];a(D),u(B=>({...B,outletId:D._id||D.id,outletCode:D.outletCode,outletName:D.outletName,orderNumber:`SO-${D.outletCode}-${Date.now().toString().slice(-6)}`}))}await h()}catch(O){console.error("Error loading default outlet:",O)}finally{l(!1)}},h=async()=>{try{const O=await te.getFinishedGoods({limit:1e3});O.success?i(O.data):(console.log("API failed, loading sample products"),g())}catch(O){console.error("Error loading products:",O),g()}},g=()=>{i([{_id:"fg-001",id:"fg-001",productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages",unitPrice:4.5,description:"Fresh green smoothie with spinach, banana, and apple"},{_id:"fg-002",id:"fg-002",productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals",unitPrice:8.75,description:"High protein meal bowl with quinoa and vegetables"},{_id:"fg-003",id:"fg-003",productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages",unitPrice:5.25,description:"Fresh detox juice blend with celery and cucumber"},{_id:"fg-004",id:"fg-004",productCode:"FG-004",productName:"Quinoa Salad",category:"Meals",unitPrice:7.5,description:"Healthy quinoa salad with mixed vegetables"},{_id:"fg-005",id:"fg-005",productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks",unitPrice:3.25,description:"High protein energy bar for quick nutrition"},{_id:"fg-006",id:"fg-006",productCode:"FG-006",productName:"Fresh Fruit Bowl",category:"Meals",unitPrice:6,description:"Mixed fresh fruit bowl with seasonal fruits"},{_id:"fg-007",id:"fg-007",productCode:"FG-007",productName:"Acai Bowl",category:"Meals",unitPrice:9.5,description:"Nutritious acai bowl with granola and berries"},{_id:"fg-008",id:"fg-008",productCode:"FG-008",productName:"Cold Brew Coffee",category:"Beverages",unitPrice:3.75,description:"Smooth cold brew coffee with natural sweetness"}])},b=["Dine-in","Takeaway","Delivery","Drive-thru"],N=["Cash","Card","Digital Wallet","Credit","Mixed"],x=["Pending","Paid","Partially Paid","Refunded"],j=["Pending","Confirmed","Preparing","Ready","Served","Completed","Cancelled"],p=()=>{const O={};return c.orderNumber.trim()||(O.orderNumber="Order number is required"),c.customerInfo.customerName.trim()||(O.customerName="Customer name is required"),c.customerInfo.orderType||(O.orderType="Order type is required"),c.orderItems.length===0&&(O.orderItems="At least one item is required"),d(O),Object.keys(O).length===0},w=async O=>{if(O.preventDefault(),!!p())try{const D=c.orderItems.reduce((S,T)=>S+T.totalPrice,0),B=D*.15,_=D+B-c.orderSummary.discountAmount,A={orderNumber:c.orderNumber,outletId:c.outletId,outletCode:c.outletCode,outletName:c.outletName,customerInfo:c.customerInfo,orderItems:c.orderItems,orderSummary:{...c.orderSummary,subtotal:D,taxAmount:B,totalAmount:_},orderStatus:c.orderStatus,orderTiming:c.orderTiming,notes:c.notes};console.log("Creating Sales Order:",A);const F=await te.createSalesOrder(A);if(F.success){alert("Sales Order created successfully!");const S=new URLSearchParams(t.search).get("outlet");if(S)if(S==="Central Kitchen")e("/central-kitchen");else{const T=S.toLowerCase().replace(/\s+/g,"-");e(`/${T}/sales-orders`)}else e("/sales-orders")}else alert("Failed to create Sales Order: "+F.message)}catch(D){console.error("Error creating Sales Order:",D),alert("Error creating Sales Order: "+(D instanceof Error?D.message:"Unknown error"))}},C=(O,D)=>{if(O.includes(".")){const[B,_]=O.split(".");u(A=>({...A,[B]:{...A[B]||{},[_]:D}}))}else u(B=>({...B,[O]:D}));m[O]&&d(B=>({...B,[O]:""}))},P=()=>{const O={productId:"",productCode:"",productName:"",category:"",quantity:1,unitPrice:0,totalPrice:0,specialInstructions:""};u(D=>({...D,orderItems:[...D.orderItems,O]}))},E=(O,D,B)=>{const _=[...c.orderItems];if(_[O]={..._[O],[D]:B},D==="quantity"||D==="unitPrice"){const A=D==="quantity"?Number(B):_[O].quantity,F=D==="unitPrice"?Number(B):_[O].unitPrice;_[O].totalPrice=A*F}if(D==="productId"&&typeof B=="string"){const A=s.find(F=>F._id===B||F.id===B);A&&(_[O].productCode=A.productCode,_[O].productName=A.productName,_[O].category=A.category,_[O].unitPrice=A.unitPrice,_[O].totalPrice=_[O].quantity*A.unitPrice)}u(A=>({...A,orderItems:_}))},I=O=>{const D=c.orderItems.filter((B,_)=>_!==O);u(B=>({...B,orderItems:D}))},M=s.filter(O=>O.productName.toLowerCase().includes(f.toLowerCase())||O.productCode.toLowerCase().includes(f.toLowerCase())||O.category.toLowerCase().includes(f.toLowerCase()));return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading sales order form..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Sales Order"}),n.jsx("p",{className:"text-gray-600",children:r?`${r.outletName} (${r.outletCode})`:"Select an outlet"})]}),n.jsxs("button",{onClick:()=>e("/sales-orders"),className:"btn-secondary flex items-center",children:[n.jsx(et,{className:"h-4 w-4 mr-2"}),"Back to Sales Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:w,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(ye,{className:"h-5 w-5 mr-2"}),"Order Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${m.orderNumber?"border-red-500":""}`,value:c.orderNumber,onChange:O=>C("orderNumber",O.target.value),placeholder:"Enter order number"}),m.orderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.orderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${m.orderDate?"border-red-500":""}`,value:c.orderTiming.orderDate,onChange:O=>C("orderTiming.orderDate",O.target.value)}),m.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.orderDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Pl,{className:"h-5 w-5 mr-2"}),"Customer Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),n.jsx("input",{type:"text",className:`input-field ${m.customerName?"border-red-500":""}`,value:c.customerInfo.customerName,onChange:O=>C("customerInfo.customerName",O.target.value),placeholder:"Enter customer name"}),m.customerName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type *"}),n.jsx("select",{className:`input-field ${m.orderType?"border-red-500":""}`,value:c.customerInfo.orderType,onChange:O=>C("customerInfo.orderType",O.target.value),children:b.map(O=>n.jsx("option",{value:O,children:O},O))}),m.orderType&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.orderType})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(CT,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),n.jsx("input",{type:"tel",className:"input-field",value:c.customerInfo.customerPhone,onChange:O=>C("customerInfo.customerPhone",O.target.value),placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(NT,{className:"h-4 w-4 inline mr-1"}),"Email Address"]}),n.jsx("input",{type:"email",className:"input-field",value:c.customerInfo.customerEmail,onChange:O=>C("customerInfo.customerEmail",O.target.value),placeholder:"Enter email address"})]}),c.customerInfo.orderType==="Dine-in"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(fu,{className:"h-4 w-4 inline mr-1"}),"Table Number"]}),n.jsx("input",{type:"text",className:"input-field",value:c.customerInfo.tableNumber,onChange:O=>C("customerInfo.tableNumber",O.target.value),placeholder:"Enter table number"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(ct,{className:"h-5 w-5 mr-2"}),"Order Items"]}),n.jsxs("button",{type:"button",onClick:P,className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),c.orderItems.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:'No items added yet. Click "Add Item" to start building the order.'})]}):n.jsx("div",{className:"space-y-4",children:c.orderItems.map((O,D)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-medium text-gray-900",children:["Item ",D+1]}),n.jsx("button",{type:"button",onClick:()=>I(D),className:"text-red-600 hover:text-red-800",children:n.jsx($e,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product *"}),n.jsxs("select",{className:"input-field",value:O.productId,onChange:B=>E(D,"productId",B.target.value),children:[n.jsx("option",{value:"",children:"Select Product"}),M.map(B=>n.jsxs("option",{value:B._id||B.id,children:[B.productName," - ",B.unitPrice.toFixed(2)," KWD"]},B._id||B.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),n.jsx("input",{type:"number",min:"1",className:"input-field",value:O.quantity,onChange:B=>E(D,"quantity",parseInt(B.target.value)||1)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:O.unitPrice,onChange:B=>E(D,"unitPrice",parseFloat(B.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:O.totalPrice.toFixed(2),readOnly:!0})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:2,value:O.specialInstructions,onChange:B=>E(D,"specialInstructions",B.target.value),placeholder:"Any special instructions for this item..."})]})]},D))}),m.orderItems&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.orderItems})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtotal (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:c.orderItems.reduce((O,D)=>O+D.totalPrice,0).toFixed(2),readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Amount (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:c.orderSummary.discountAmount,onChange:O=>C("orderSummary.discountAmount",(parseFloat(O.target.value)||0).toString())})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Amount (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:(c.orderItems.reduce((O,D)=>O+D.totalPrice,0)*.15).toFixed(2),readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-blue-50 font-semibold",value:(c.orderItems.reduce((O,D)=>O+D.totalPrice,0)+c.orderItems.reduce((O,D)=>O+D.totalPrice,0)*.15-c.orderSummary.discountAmount).toFixed(2),readOnly:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),n.jsx("select",{className:"input-field",value:c.orderSummary.paymentMethod,onChange:O=>C("orderSummary.paymentMethod",O.target.value),children:N.map(O=>n.jsx("option",{value:O,children:O},O))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status"}),n.jsx("select",{className:"input-field",value:c.orderSummary.paymentStatus,onChange:O=>C("orderSummary.paymentStatus",O.target.value),children:x.map(O=>n.jsx("option",{value:O,children:O},O))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Status"}),n.jsx("select",{className:"input-field",value:c.orderStatus,onChange:O=>C("orderStatus",O.target.value),children:j.map(O=>n.jsx("option",{value:O,children:O},O))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Dd,{className:"h-4 w-4 inline mr-1"}),"Estimated Prep Time (minutes)"]}),n.jsx("input",{type:"number",min:"1",className:"input-field",value:c.orderTiming.estimatedPrepTime,onChange:O=>C("orderTiming.estimatedPrepTime",(parseInt(O.target.value)||15).toString())})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:c.notes,onChange:O=>C("notes",O.target.value),placeholder:"Any additional notes for this order..."})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>e("/sales-orders"),className:"btn-secondary",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Create Sales Order"]})]})]})})]})},Nc=()=>{var _;const e=ge(),r=((_=lr().state)==null?void 0:_.outletName)||"Outlet",[a,s]=k.useState([]),[i,o]=k.useState([]),[l,c]=k.useState(""),[u,m]=k.useState(""),[d,f]=k.useState(null),[y,v]=k.useState("cash"),[h,g]=k.useState(0),[b]=k.useState(0),[N,x]=k.useState(!1);k.useEffect(()=>{s([{id:"prod-001",name:"Caesar Salad",price:8.5,category:"Salads",description:"Fresh romaine lettuce with caesar dressing",isAvailable:!0},{id:"prod-002",name:"Chicken Burger",price:12,category:"Burgers",description:"Grilled chicken breast with fresh vegetables",isAvailable:!0},{id:"prod-003",name:"Margherita Pizza",price:15,category:"Pizza",description:"Classic tomato and mozzarella pizza",isAvailable:!0},{id:"prod-004",name:"Chicken Shawarma",price:10.5,category:"Middle Eastern",description:"Traditional chicken shawarma wrap",isAvailable:!0},{id:"prod-005",name:"Fresh Juice",price:4,category:"Beverages",description:"Freshly squeezed orange juice",isAvailable:!0},{id:"prod-006",name:"Coffee",price:3.5,category:"Beverages",description:"Freshly brewed coffee",isAvailable:!0},{id:"prod-007",name:"Chocolate Cake",price:6,category:"Desserts",description:"Rich chocolate cake slice",isAvailable:!0},{id:"prod-008",name:"Fish & Chips",price:14,category:"Main Course",description:"Beer-battered fish with crispy fries",isAvailable:!0}])},[]);const j=["All",...Array.from(new Set(a.map(A=>A.category)))],p=a.filter(A=>{const F=A.name.toLowerCase().includes(l.toLowerCase())||A.description.toLowerCase().includes(l.toLowerCase()),S=u===""||u==="All"||A.category===u;return F&&S&&A.isAvailable}),w=A=>{const F=i.find(S=>S.product.id===A.id);o(F?i.map(S=>S.product.id===A.id?{...S,quantity:S.quantity+1,subtotal:(S.quantity+1)*A.price}:S):[...i,{product:A,quantity:1,subtotal:A.price}])},C=(A,F)=>{if(F<=0){P(A);return}o(i.map(S=>S.product.id===A?{...S,quantity:F,subtotal:F*S.product.price}:S))},P=A=>{o(i.filter(F=>F.product.id!==A))},E=()=>i.reduce((A,F)=>A+F.subtotal,0),I=()=>E()*b/100,M=()=>E()*h/100,O=()=>E()+I()-M(),D=async()=>{if(i.length===0){alert("Please add items to cart before checkout");return}x(!0);try{await new Promise(F=>setTimeout(F,1e3));const A={id:`ORD-${Date.now()}`,outletName:r,customer:d||{name:"Walk-in Customer",phone:"",email:""},items:i,subtotal:E(),tax:I(),discount:M(),total:O(),paymentMethod:y,status:"Completed",createdAt:new Date().toISOString()};console.log("Order created:",A),alert(`Order ${A.id} created successfully!
Total: KD ${A.total.toFixed(2)}`),o([]),f(null),g(0)}catch(A){alert("Error creating order. Please try again."),console.error("Error creating order:",A)}finally{x(!1)}},B=()=>{i.length>0&&window.confirm("Are you sure you want to clear the cart?")&&o([])};return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:n.jsx(et,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"POS - Create Order"}),n.jsx("p",{className:"text-gray-600",children:r})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(Dd,{className:"h-4 w-4"}),n.jsx("span",{children:new Date().toLocaleString()})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search products...",value:l,onChange:A=>c(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsx("select",{value:u,onChange:A=>m(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:j.map(A=>n.jsx("option",{value:A,children:A},A))})]})}),n.jsxs("div",{className:"card p-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Products"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:p.map(A=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>w(A),children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:A.name}),n.jsxs("span",{className:"text-green-600 font-semibold",children:["KD ",A.price.toFixed(2)]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:A.description}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:A.category}),n.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Add to Cart"})]})]},A.id))})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n.jsx(ct,{className:"h-5 w-5 mr-2"}),"Cart (",i.length,")"]}),i.length>0&&n.jsx("button",{onClick:B,className:"text-red-600 hover:text-red-800 text-sm",children:"Clear Cart"})]}),i.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ye,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Cart is empty"}),n.jsx("p",{className:"text-sm",children:"Add products to get started"})]}):n.jsx("div",{className:"space-y-3",children:i.map(A=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-sm",children:A.product.name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["KD ",A.product.price.toFixed(2)," each"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>C(A.product.id,A.quantity-1),className:"p-1 hover:bg-gray-200 rounded",children:n.jsx(ST,{className:"h-3 w-3"})}),n.jsx("span",{className:"w-8 text-center text-sm",children:A.quantity}),n.jsx("button",{onClick:()=>C(A.product.id,A.quantity+1),className:"p-1 hover:bg-gray-200 rounded",children:n.jsx(we,{className:"h-3 w-3"})}),n.jsx("button",{onClick:()=>P(A.product.id),className:"p-1 text-red-600 hover:bg-red-50 rounded ml-2",children:n.jsx($e,{className:"h-3 w-3"})})]}),n.jsx("div",{className:"text-right ml-4",children:n.jsxs("p",{className:"font-medium text-sm",children:["KD ",A.subtotal.toFixed(2)]})})]},A.product.id))})]}),i.length>0&&n.jsxs("div",{className:"card p-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["KD ",E().toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Tax (",b,"%):"]}),n.jsxs("span",{children:["KD ",I().toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Discount (",h,"%):"]}),n.jsxs("span",{className:"text-red-600",children:["-KD ",M().toFixed(2)]})]}),n.jsx("hr",{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["KD ",O().toFixed(2)]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Customer Info (Optional)"}),n.jsx("input",{type:"text",placeholder:"Customer name",value:(d==null?void 0:d.name)||"",onChange:A=>f({...d,name:A.target.value,phone:(d==null?void 0:d.phone)||""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),n.jsx("input",{type:"tel",placeholder:"Phone number",value:(d==null?void 0:d.phone)||"",onChange:A=>f({...d,phone:A.target.value,name:(d==null?void 0:d.name)||""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Payment Method"}),n.jsxs("select",{value:y,onChange:A=>v(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"card",children:"Credit/Debit Card"}),n.jsx("option",{value:"knet",children:"KNET"}),n.jsx("option",{value:"apple_pay",children:"Apple Pay"}),n.jsx("option",{value:"google_pay",children:"Google Pay"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discount (%)"}),n.jsx("input",{type:"number",min:"0",max:"100",value:h,onChange:A=>g(Number(A.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),n.jsx("button",{onClick:D,disabled:N||i.length===0,className:"w-full mt-6 bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:N?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(uy,{className:"h-4 w-4 mr-2"}),"Complete Order - KD ",O().toFixed(2)]})})]})]})]})]})})},UZ=({user:e,permissions:t,onClose:r,onSave:a})=>{const[s,i]=k.useState((e==null?void 0:e.permissions)||[]),o=t.reduce((m,d)=>(m[d.module]||(m[d.module]=[]),m[d.module].push(d),m),{}),l=(m,d)=>{i(d?f=>[...f,m]:f=>f.filter(y=>y!==m))},c=(m,d)=>{const f=o[m].map(y=>y.id);i(d?y=>[...new Set([...y,...f])]:y=>y.filter(v=>!f.includes(v)))},u=()=>{e&&(a(e.id,s),r())};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Pl,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Permissions"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[e.name," (",e.email,")"]})]})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ee,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.role})]})]})}),Object.entries(o).map(([m,d])=>{const f=d.every(v=>s.includes(v.id)),y=d.some(v=>s.includes(v.id));return n.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:f,ref:v=>{v&&(v.indeterminate=y&&!f)},onChange:v=>c(m,v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(my,{className:"h-4 w-4 text-gray-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:m}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",d.filter(v=>s.includes(v.id)).length,"/",d.length,")"]})]})]})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(v=>n.jsxs("label",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",checked:s.includes(v.id),onChange:h=>l(v.id,h.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:v.name}),n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:v.category})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:v.description})]})]},v.id))})})]},m)})]})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx(zS,{className:"h-4 w-4 inline mr-1"}),s.length," permissions selected"]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:r,className:"btn-secondary",children:"Cancel"}),n.jsxs("button",{onClick:u,className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})}):null},qZ=({role:e,permissions:t,onClose:r,onSave:a,onDelete:s})=>{const[i,o]=k.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",permissions:(e==null?void 0:e.permissions)||[]}),l=t.reduce((f,y)=>(f[y.module]||(f[y.module]=[]),f[y.module].push(y),f),{}),c=(f,y)=>{o(y?v=>({...v,permissions:[...v.permissions,f]}):v=>({...v,permissions:v.permissions.filter(h=>h!==f)}))},u=(f,y)=>{const v=l[f].map(h=>h.id);o(y?h=>({...h,permissions:[...new Set([...h.permissions,...v])]}):h=>({...h,permissions:h.permissions.filter(g=>!v.includes(g))}))},m=()=>{i.name.trim()&&i.description.trim()&&(a(i),r())},d=()=>{e&&s&&(s(e.id),r())};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(my,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?"Edit Role":"Create New Role"}),n.jsx("p",{className:"text-sm text-gray-600",children:e?"Modify role permissions and settings":"Define a new role with specific permissions"})]})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ee,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name *"}),n.jsx("input",{type:"text",value:i.name,onChange:f=>o(y=>({...y,name:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter role name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Count"}),n.jsx("input",{type:"text",value:(e==null?void 0:e.userCount)||0,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),n.jsx("textarea",{value:i.description,onChange:f=>o(y=>({...y,description:f.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter role description"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Permissions"}),n.jsx("div",{className:"space-y-4",children:Object.entries(l).map(([f,y])=>{const v=y.every(g=>i.permissions.includes(g.id)),h=y.some(g=>i.permissions.includes(g.id));return n.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:v,ref:g=>{g&&(g.indeterminate=h&&!v)},onChange:g=>u(f,g.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"font-medium text-gray-900",children:f}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",y.filter(g=>i.permissions.includes(g.id)).length,"/",y.length,")"]})]})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(g=>n.jsxs("label",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",checked:i.permissions.includes(g.id),onChange:b=>c(g.id,b.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.name}),n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:g.category})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:g.description})]})]},g.id))})})]},f)})})]})]})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[i.permissions.length," permissions selected"]}),e&&s&&n.jsxs("button",{onClick:d,className:"text-red-600 hover:text-red-800 flex items-center space-x-1",children:[n.jsx($e,{className:"h-4 w-4"}),n.jsx("span",{children:"Delete Role"})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:r,className:"btn-secondary",children:"Cancel"}),n.jsxs("button",{onClick:m,className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),e?"Update Role":"Create Role"]})]})]})]})})},WZ=()=>{const[e,t]=k.useState("users"),[r,a]=k.useState([{id:"1",name:"John Doe",email:"john.doe@company.com",role:"Admin",status:"active",lastLogin:"2024-01-15 10:30",permissions:["all"]},{id:"2",name:"Jane Smith",email:"jane.smith@company.com",role:"Manager",status:"active",lastLogin:"2024-01-15 09:15",permissions:["inventory.view","inventory.edit","reports.view"]},{id:"3",name:"Mike Johnson",email:"mike.johnson@company.com",role:"Staff",status:"active",lastLogin:"2024-01-14 16:45",permissions:["inventory.view"]}]),[s,i]=k.useState([{id:"1",name:"Admin",description:"Full system access",permissions:["all"],userCount:1},{id:"2",name:"Manager",description:"Management level access",permissions:["inventory.view","inventory.edit","reports.view","users.view"],userCount:1},{id:"3",name:"Staff",description:"Basic operational access",permissions:["inventory.view","sales.view"],userCount:1}]),[o]=k.useState([{id:"dashboard.view",name:"View Dashboard",description:"Access to main dashboard",category:"Dashboard",module:"Dashboard"},{id:"inventory.view",name:"View Inventory",description:"View inventory items",category:"Inventory",module:"Inventory Management"},{id:"inventory.edit",name:"Edit Inventory",description:"Modify inventory items",category:"Inventory",module:"Inventory Management"},{id:"inventory.add",name:"Add Inventory",description:"Add new inventory items",category:"Inventory",module:"Inventory Management"},{id:"inventory.delete",name:"Delete Inventory",description:"Delete inventory items",category:"Inventory",module:"Inventory Management"},{id:"rawmaterials.view",name:"View Raw Materials",description:"View raw materials",category:"Raw Materials",module:"Raw Materials"},{id:"rawmaterials.edit",name:"Edit Raw Materials",description:"Edit raw materials",category:"Raw Materials",module:"Raw Materials"},{id:"rawmaterials.add",name:"Add Raw Materials",description:"Add new raw materials",category:"Raw Materials",module:"Raw Materials"},{id:"centralkitchen.view",name:"View Central Kitchen",description:"Access central kitchen",category:"Central Kitchen",module:"Central Kitchen"},{id:"centralkitchen.edit",name:"Edit Central Kitchen",description:"Modify central kitchen data",category:"Central Kitchen",module:"Central Kitchen"},{id:"centralkitchen.transfer",name:"Create Transfers",description:"Create transfer orders",category:"Central Kitchen",module:"Central Kitchen"},{id:"outlets.view",name:"View Outlets",description:"View outlet information",category:"Outlets",module:"Outlet Management"},{id:"outlets.edit",name:"Edit Outlets",description:"Modify outlet data",category:"Outlets",module:"Outlet Management"},{id:"outlets.kuwait",name:"Kuwait City Access",description:"Access Kuwait City outlet",category:"Outlets",module:"Outlet Management"},{id:"outlets.mall360",name:"360 Mall Access",description:"Access 360 Mall outlets",category:"Outlets",module:"Outlet Management"},{id:"outlets.taiba",name:"Taiba Hospital Access",description:"Access Taiba Hospital outlet",category:"Outlets",module:"Outlet Management"},{id:"sales.view",name:"View Sales",description:"View sales data",category:"Sales",module:"Sales Management"},{id:"sales.edit",name:"Edit Sales",description:"Modify sales data",category:"Sales",module:"Sales Management"},{id:"sales.create",name:"Create Sales",description:"Create new sales orders",category:"Sales",module:"Sales Management"},{id:"reports.view",name:"View Reports",description:"Access reports",category:"Reports",module:"Reporting"},{id:"reports.export",name:"Export Reports",description:"Export report data",category:"Reports",module:"Reporting"},{id:"users.view",name:"View Users",description:"View user information",category:"Users",module:"User Management"},{id:"users.edit",name:"Edit Users",description:"Modify user data",category:"Users",module:"User Management"},{id:"users.add",name:"Add Users",description:"Add new users",category:"Users",module:"User Management"},{id:"users.delete",name:"Delete Users",description:"Delete users",category:"Users",module:"User Management"},{id:"settings.view",name:"View Settings",description:"Access system settings",category:"Settings",module:"System Settings"},{id:"settings.edit",name:"Edit Settings",description:"Modify system settings",category:"Settings",module:"System Settings"}]),[l,c]=k.useState(null),[u,m]=k.useState(null),[d,f]=k.useState(!1),[y,v]=k.useState(!1),h=o.reduce((P,E)=>(P[E.module]||(P[E.module]=[]),P[E.module].push(E),P),{}),g=(P,E,I)=>{a(M=>M.map(O=>O.id===P?I?{...O,permissions:[...O.permissions,E]}:{...O,permissions:O.permissions.filter(D=>D!==E)}:O))},b=(P,E)=>{a(I=>I.map(M=>M.id===P?{...M,permissions:E}:M))},N=P=>{if(u)i(E=>E.map(I=>I.id===u.id?{...I,...P}:I));else{const E={id:Date.now().toString(),...P,userCount:0};i(I=>[...I,E])}},x=P=>{i(E=>E.filter(I=>I.id!==P))},j=P=>{c(P),f(!0)},p=P=>{m(P),v(!0)},w=()=>{m(null),v(!0)},C=[{id:"users",name:"Users",icon:hy},{id:"roles",name:"Roles",icon:my},{id:"permissions",name:"Permissions",icon:zS}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(dy,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings & Permissions"}),n.jsx("p",{className:"text-gray-600",children:"Manage user access and system permissions"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{className:"btn-primary flex items-center",children:[n.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:C.map(P=>n.jsxs("button",{onClick:()=>t(P.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${e===P.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(P.icon,{className:"h-4 w-4"}),n.jsx("span",{children:P.name})]},P.id))})}),e==="users"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),n.jsxs("button",{onClick:()=>{},className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(P=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),n.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:P.role})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.lastLogin}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>j(P),className:"text-blue-600 hover:text-blue-900",children:n.jsx(Br,{className:"h-4 w-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",children:n.jsx($e,{className:"h-4 w-4"})})]})})]},P.id))})]})})})]}),e==="roles"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Role Management"}),n.jsxs("button",{onClick:w,className:"btn-primary flex items-center",children:[n.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Role"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(P=>n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:P.name}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>p(P),className:"text-blue-600 hover:text-blue-900",children:n.jsx(Br,{className:"h-4 w-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",children:n.jsx($e,{className:"h-4 w-4"})})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:P.description}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[n.jsxs("span",{children:[P.permissions.length," permissions"]}),n.jsxs("span",{children:[P.userCount," users"]})]})]},P.id))})]}),e==="permissions"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Permission Management"}),Object.entries(h).map(([P,E])=>n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:P}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(I=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:I.name}),n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:I.category})]}),n.jsx("p",{className:"text-xs text-gray-600",children:I.description})]},I.id))})]},P))]}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit Permissions - ",l.name]}),n.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ee,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"space-y-6",children:Object.entries(h).map(([P,E])=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:P}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(I=>n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:l.permissions.includes(I.id),onChange:M=>g(l.id,I.id,M.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name}),n.jsx("div",{className:"text-xs text-gray-500",children:I.description})]})]},I.id))})]},P))}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>c(null),className:"btn-secondary",children:"Cancel"}),n.jsx("button",{onClick:()=>c(null),className:"btn-primary",children:"Save Changes"})]})]})}),d&&l&&n.jsx(UZ,{user:l,permissions:o,onClose:()=>{f(!1),c(null)},onSave:b}),y&&n.jsx(qZ,{role:u,permissions:o,onClose:()=>{v(!1),m(null)},onSave:N,onDelete:x})]})};function KZ(){return n.jsx(kT,{children:n.jsxs(U4,{children:[n.jsx(oe,{path:"/",element:n.jsx(rw,{})}),n.jsx(oe,{path:"/dashboard",element:n.jsx(rw,{})}),n.jsx(oe,{path:"/raw-materials",element:n.jsx(lZ,{})}),n.jsx(oe,{path:"/raw-materials/add",element:n.jsx(cZ,{})}),n.jsx(oe,{path:"/raw-materials/edit/:id",element:n.jsx(uZ,{})}),n.jsx(oe,{path:"/bill-of-materials",element:n.jsx(dZ,{})}),n.jsx(oe,{path:"/bill-of-materials/add",element:n.jsx(mZ,{})}),n.jsx(oe,{path:"/bill-of-materials/edit/:id",element:n.jsx(fZ,{})}),n.jsx(oe,{path:"/job-orders",element:n.jsx(hZ,{})}),n.jsx(oe,{path:"/job-orders/add",element:n.jsx(pZ,{})}),n.jsx(oe,{path:"/job-orders/edit/:id",element:n.jsx(xZ,{})}),n.jsx(oe,{path:"/purchase-orders",element:n.jsx(yZ,{})}),n.jsx(oe,{path:"/purchase-orders/add",element:n.jsx(gZ,{})}),n.jsx(oe,{path:"/purchase-orders/edit/:id",element:n.jsx(vZ,{})}),n.jsx(oe,{path:"/good-receipt-notes",element:n.jsx(bZ,{})}),n.jsx(oe,{path:"/good-receipt-notes/add",element:n.jsx(jZ,{})}),n.jsx(oe,{path:"/good-receipt-notes/edit/:id",element:n.jsx(NZ,{})}),n.jsx(oe,{path:"/warehouse-master",element:n.jsx(wZ,{})}),n.jsx(oe,{path:"/warehouse-master/add",element:n.jsx(SZ,{})}),n.jsx(oe,{path:"/warehouse-master/edit/:id",element:n.jsx(CZ,{})}),n.jsx(oe,{path:"/transfer-orders",element:n.jsx(kZ,{})}),n.jsx(oe,{path:"/transfer-orders/add",element:n.jsx(OZ,{})}),n.jsx(oe,{path:"/transfer-orders/edit/:id",element:n.jsx(PZ,{})}),n.jsx(oe,{path:"/inventory",element:n.jsx(AZ,{})}),n.jsx(oe,{path:"/outlets",element:n.jsx(EZ,{})}),n.jsx(oe,{path:"/outlets/add",element:n.jsx(TZ,{})}),n.jsx(oe,{path:"/outlets/edit/:id",element:n.jsx(MZ,{})}),n.jsx(oe,{path:"/central-kitchen",element:n.jsx(IZ,{})}),n.jsx(oe,{path:"/central-kitchen/raw-materials",element:n.jsx(DZ,{})}),n.jsx(oe,{path:"/central-kitchen/finished-goods",element:n.jsx($Z,{})}),n.jsx(oe,{path:"/central-kitchen/make-finished-good",element:n.jsx(_Z,{})}),n.jsx(oe,{path:"/central-kitchen/create-transfer",element:n.jsx(RZ,{})}),n.jsx(oe,{path:"/central-kitchen/add-item",element:n.jsx(LZ,{})}),n.jsx(oe,{path:"/downtown-restaurant",element:n.jsx(Mf,{})}),n.jsx(oe,{path:"/downtown-restaurant/raw-materials",element:n.jsx(Mf,{})}),n.jsx(oe,{path:"/downtown-restaurant/finished-goods",element:n.jsx(Mf,{})}),n.jsx(oe,{path:"/marina-walk-cafe",element:n.jsx(If,{})}),n.jsx(oe,{path:"/marina-walk-cafe/raw-materials",element:n.jsx(If,{})}),n.jsx(oe,{path:"/marina-walk-cafe/finished-goods",element:n.jsx(If,{})}),n.jsx(oe,{path:"/mall-food-court",element:n.jsx(Df,{})}),n.jsx(oe,{path:"/mall-food-court/raw-materials",element:n.jsx(Df,{})}),n.jsx(oe,{path:"/mall-food-court/finished-goods",element:n.jsx(Df,{})}),n.jsx(oe,{path:"/drive-thru-express",element:n.jsx($f,{})}),n.jsx(oe,{path:"/drive-thru-express/raw-materials",element:n.jsx($f,{})}),n.jsx(oe,{path:"/drive-thru-express/finished-goods",element:n.jsx($f,{})}),n.jsx(oe,{path:"/raw-material-forecast",element:n.jsx(FZ,{})}),n.jsx(oe,{path:"/raw-material-forecast/add",element:n.jsx(BZ,{})}),n.jsx(oe,{path:"/sales-orders",element:n.jsx(Ki,{})}),n.jsx(oe,{path:"/sales-orders/add",element:n.jsx(zi,{})}),n.jsx(oe,{path:"/downtown-restaurant/sales-orders",element:n.jsx(Ki,{})}),n.jsx(oe,{path:"/downtown-restaurant/sales-orders/add",element:n.jsx(zi,{})}),n.jsx(oe,{path:"/downtown-restaurant/pos-sales/create-order",element:n.jsx(Nc,{})}),n.jsx(oe,{path:"/marina-walk-cafe/sales-orders",element:n.jsx(Ki,{})}),n.jsx(oe,{path:"/marina-walk-cafe/sales-orders/add",element:n.jsx(zi,{})}),n.jsx(oe,{path:"/marina-walk-cafe/pos-sales/create-order",element:n.jsx(Nc,{})}),n.jsx(oe,{path:"/mall-food-court/sales-orders",element:n.jsx(Ki,{})}),n.jsx(oe,{path:"/mall-food-court/sales-orders/add",element:n.jsx(zi,{})}),n.jsx(oe,{path:"/mall-food-court/pos-sales/create-order",element:n.jsx(Nc,{})}),n.jsx(oe,{path:"/drive-thru-express/sales-orders",element:n.jsx(Ki,{})}),n.jsx(oe,{path:"/drive-thru-express/sales-orders/add",element:n.jsx(zi,{})}),n.jsx(oe,{path:"/drive-thru-express/pos-sales/create-order",element:n.jsx(Nc,{})}),n.jsx(oe,{path:"/settings",element:n.jsx(WZ,{})})]})})}_f.createRoot(document.getElementById("root")).render(n.jsx(q.StrictMode,{children:n.jsx(yE,{store:mT,children:n.jsx(H4,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsx(KZ,{})})})}));
