function SO(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sw={exports:{}},pd={},iw={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=Symbol.for("react.element"),CO=Symbol.for("react.portal"),kO=Symbol.for("react.fragment"),OO=Symbol.for("react.strict_mode"),PO=Symbol.for("react.profiler"),TO=Symbol.for("react.provider"),AO=Symbol.for("react.context"),DO=Symbol.for("react.forward_ref"),EO=Symbol.for("react.suspense"),MO=Symbol.for("react.memo"),IO=Symbol.for("react.lazy"),Sg=Symbol.iterator;function $O(e){return e===null||typeof e!="object"?null:(e=Sg&&e[Sg]||e["@@iterator"],typeof e=="function"?e:null)}var lw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ow=Object.assign,cw={};function di(e,t,r){this.props=e,this.context=t,this.refs=cw,this.updater=r||lw}di.prototype.isReactComponent={};di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uw(){}uw.prototype=di.prototype;function dx(e,t,r){this.props=e,this.context=t,this.refs=cw,this.updater=r||lw}var mx=dx.prototype=new uw;mx.constructor=dx;ow(mx,di.prototype);mx.isPureReactComponent=!0;var Cg=Array.isArray,dw=Object.prototype.hasOwnProperty,fx={current:null},mw={key:!0,ref:!0,__self:!0,__source:!0};function fw(e,t,r){var a,s={},i=null,l=null;if(t!=null)for(a in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)dw.call(t,a)&&!mw.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)s[a]===void 0&&(s[a]=o[a]);return{$$typeof:jo,type:e,key:i,ref:l,props:s,_owner:fx.current}}function _O(e,t){return{$$typeof:jo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hx(e){return typeof e=="object"&&e!==null&&e.$$typeof===jo}function RO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var kg=/\/+/g;function Cm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RO(""+e.key):t.toString(36)}function Sc(e,t,r,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case jo:case CO:l=!0}}if(l)return l=e,s=s(l),e=a===""?"."+Cm(l,0):a,Cg(s)?(r="",e!=null&&(r=e.replace(kg,"$&/")+"/"),Sc(s,t,r,"",function(u){return u})):s!=null&&(hx(s)&&(s=_O(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(kg,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=a===""?".":a+":",Cg(e))for(var o=0;o<e.length;o++){i=e[o];var c=a+Cm(i,o);l+=Sc(i,t,r,c,s)}else if(c=$O(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=a+Cm(i,o++),l+=Sc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function qo(e,t,r){if(e==null)return e;var a=[],s=0;return Sc(e,a,"","",function(i){return t.call(r,i,s++)}),a}function FO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qt={current:null},Cc={transition:null},LO={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Cc,ReactCurrentOwner:fx};function hw(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:qo,forEach:function(e,t,r){qo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qo(e,function(){t++}),t},toArray:function(e){return qo(e,function(t){return t})||[]},only:function(e){if(!hx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=di;Ce.Fragment=kO;Ce.Profiler=PO;Ce.PureComponent=dx;Ce.StrictMode=OO;Ce.Suspense=EO;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LO;Ce.act=hw;Ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=ow({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=fx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)dw.call(t,c)&&!mw.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];a.children=o}return{$$typeof:jo,type:e.type,key:s,ref:i,props:a,_owner:l}};Ce.createContext=function(e){return e={$$typeof:AO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TO,_context:e},e.Consumer=e};Ce.createElement=fw;Ce.createFactory=function(e){var t=fw.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:DO,render:e}};Ce.isValidElement=hx;Ce.lazy=function(e){return{$$typeof:IO,_payload:{_status:-1,_result:e},_init:FO}};Ce.memo=function(e,t){return{$$typeof:MO,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=Cc.transition;Cc.transition={};try{e()}finally{Cc.transition=t}};Ce.unstable_act=hw;Ce.useCallback=function(e,t){return qt.current.useCallback(e,t)};Ce.useContext=function(e){return qt.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return qt.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return qt.current.useEffect(e,t)};Ce.useId=function(){return qt.current.useId()};Ce.useImperativeHandle=function(e,t,r){return qt.current.useImperativeHandle(e,t,r)};Ce.useInsertionEffect=function(e,t){return qt.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return qt.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return qt.current.useMemo(e,t)};Ce.useReducer=function(e,t,r){return qt.current.useReducer(e,t,r)};Ce.useRef=function(e){return qt.current.useRef(e)};Ce.useState=function(e){return qt.current.useState(e)};Ce.useSyncExternalStore=function(e,t,r){return qt.current.useSyncExternalStore(e,t,r)};Ce.useTransition=function(){return qt.current.useTransition()};Ce.version="18.3.1";iw.exports=Ce;var C=iw.exports;const q=qe(C),BO=SO({__proto__:null,default:q},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO=C,UO=Symbol.for("react.element"),KO=Symbol.for("react.fragment"),WO=Object.prototype.hasOwnProperty,zO=qO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VO={key:!0,ref:!0,__self:!0,__source:!0};function pw(e,t,r){var a,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)WO.call(t,a)&&!VO.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:UO,type:e,key:i,ref:l,props:s,_owner:zO.current}}pd.Fragment=KO;pd.jsx=pw;pd.jsxs=pw;sw.exports=pd;var n=sw.exports,Rf={},xw={exports:{}},lr={},yw={exports:{}},gw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,I){var $=T.length;T.push(I);e:for(;0<$;){var F=$-1>>>1,_=T[F];if(0<s(_,I))T[F]=I,T[$]=_,$=F;else break e}}function r(T){return T.length===0?null:T[0]}function a(T){if(T.length===0)return null;var I=T[0],$=T.pop();if($!==I){T[0]=$;e:for(var F=0,_=T.length,G=_>>>1;F<G;){var ee=2*(F+1)-1,de=T[ee],X=ee+1,ae=T[X];if(0>s(de,$))X<_&&0>s(ae,de)?(T[F]=ae,T[X]=$,F=X):(T[F]=de,T[ee]=$,F=ee);else if(X<_&&0>s(ae,$))T[F]=ae,T[X]=$,F=X;else break e}}return I}function s(T,I){var $=T.sortIndex-I.sortIndex;return $!==0?$:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],h=1,d=null,m=3,g=!1,b=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var I=r(u);I!==null;){if(I.callback===null)a(u);else if(I.startTime<=T)a(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function f(T){if(x=!1,y(T),!b)if(r(c)!==null)b=!0,E(p);else{var I=r(u);I!==null&&B(f,I.startTime-T)}}function p(T,I){b=!1,x&&(x=!1,N(k),k=-1),g=!0;var $=m;try{for(y(I),d=r(c);d!==null&&(!(d.expirationTime>I)||T&&!D());){var F=d.callback;if(typeof F=="function"){d.callback=null,m=d.priorityLevel;var _=F(d.expirationTime<=I);I=e.unstable_now(),typeof _=="function"?d.callback=_:d===r(c)&&a(c),y(I)}else a(c);d=r(c)}if(d!==null)var G=!0;else{var ee=r(u);ee!==null&&B(f,ee.startTime-I),G=!1}return G}finally{d=null,m=$,g=!1}}var v=!1,w=null,k=-1,P=5,A=-1;function D(){return!(e.unstable_now()-A<P)}function O(){if(w!==null){var T=e.unstable_now();A=T;var I=!0;try{I=w(!0,T)}finally{I?M():(v=!1,w=null)}}else v=!1}var M;if(typeof S=="function")M=function(){S(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,R=L.port2;L.port1.onmessage=O,M=function(){R.postMessage(null)}}else M=function(){j(O,0)};function E(T){w=T,v||(v=!0,M())}function B(T,I){k=j(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,E(p))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var $=m;m=I;try{return T()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=m;m=T;try{return I()}finally{m=$}},e.unstable_scheduleCallback=function(T,I,$){var F=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,T){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=$+_,T={id:h++,callback:I,priorityLevel:T,startTime:$,expirationTime:_,sortIndex:-1},$>F?(T.sortIndex=$,t(u,T),r(c)===null&&T===r(u)&&(x?(N(k),k=-1):x=!0,B(f,$-F))):(T.sortIndex=_,t(c,T),b||g||(b=!0,E(p))),T},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(T){var I=m;return function(){var $=m;m=I;try{return T.apply(this,arguments)}finally{m=$}}}})(gw);yw.exports=gw;var GO=yw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO=C,ar=GO;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vw=new Set,fl={};function Ha(e,t){Ms(e,t),Ms(e+"Capture",t)}function Ms(e,t){for(fl[e]=t,e=0;e<t.length;e++)vw.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ff=Object.prototype.hasOwnProperty,QO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Og={},Pg={};function JO(e){return Ff.call(Pg,e)?!0:Ff.call(Og,e)?!1:QO.test(e)?Pg[e]=!0:(Og[e]=!0,!1)}function XO(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YO(e,t,r,a){if(t===null||typeof t>"u"||XO(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ut(e,t,r,a,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new Ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var px=/[\-:]([a-z])/g;function xx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(px,xx);Ot[t]=new Ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(px,xx);Ot[t]=new Ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(px,xx);Ot[t]=new Ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function yx(e,t,r,a){var s=Ot.hasOwnProperty(t)?Ot[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YO(t,r,s,a)&&(r=null),a||s===null?JO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,a=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var kn=HO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uo=Symbol.for("react.element"),os=Symbol.for("react.portal"),cs=Symbol.for("react.fragment"),gx=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),bw=Symbol.for("react.provider"),jw=Symbol.for("react.context"),vx=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),qf=Symbol.for("react.suspense_list"),bx=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),Nw=Symbol.for("react.offscreen"),Tg=Symbol.iterator;function Oi(e){return e===null||typeof e!="object"?null:(e=Tg&&e[Tg]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,km;function Gi(e){if(km===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);km=t&&t[1]||""}return`
`+km+e}var Om=!1;function Pm(e,t){if(!e||Om)return"";Om=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var a=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){a=u}e.call(t.prototype)}else{try{throw Error()}catch(u){a=u}e()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=a.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Om=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Gi(e):""}function ZO(e){switch(e.tag){case 5:return Gi(e.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 2:case 15:return e=Pm(e.type,!1),e;case 11:return e=Pm(e.type.render,!1),e;case 1:return e=Pm(e.type,!0),e;default:return""}}function Uf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cs:return"Fragment";case os:return"Portal";case Lf:return"Profiler";case gx:return"StrictMode";case Bf:return"Suspense";case qf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jw:return(e.displayName||"Context")+".Consumer";case bw:return(e._context.displayName||"Context")+".Provider";case vx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bx:return t=e.displayName||null,t!==null?t:Uf(e.type)||"Memo";case En:t=e._payload,e=e._init;try{return Uf(e(t))}catch{}}return null}function eP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uf(t);case 8:return t===gx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ww(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tP(e){var t=ww(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ko(e){e._valueTracker||(e._valueTracker=tP(e))}function Sw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=ww(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function _c(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kf(e,t){var r=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ag(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=ea(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cw(e,t){t=t.checked,t!=null&&yx(e,"checked",t,!1)}function Wf(e,t){Cw(e,t);var r=ea(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zf(e,t.type,r):t.hasOwnProperty("defaultValue")&&zf(e,t.type,ea(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zf(e,t,r){(t!=="number"||_c(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Hi=Array.isArray;function ws(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+ea(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(Hi(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ea(r)}}function kw(e,t){var r=ea(t.value),a=ea(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Mg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ow(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ow(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wo,Pw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rP=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(e){rP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zi[t]=Zi[e]})});function Tw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zi.hasOwnProperty(e)&&Zi[e]?(""+t).trim():t+"px"}function Aw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,s=Tw(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,s):e[r]=s}}var nP=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hf(e,t){if(t){if(nP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function Qf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jf=null;function jx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xf=null,Ss=null,Cs=null;function Ig(e){if(e=So(e)){if(typeof Xf!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=bd(t),Xf(e.stateNode,e.type,t))}}function Dw(e){Ss?Cs?Cs.push(e):Cs=[e]:Ss=e}function Ew(){if(Ss){var e=Ss,t=Cs;if(Cs=Ss=null,Ig(e),t)for(e=0;e<t.length;e++)Ig(t[e])}}function Mw(e,t){return e(t)}function Iw(){}var Tm=!1;function $w(e,t,r){if(Tm)return e(t,r);Tm=!0;try{return Mw(e,t,r)}finally{Tm=!1,(Ss!==null||Cs!==null)&&(Iw(),Ew())}}function pl(e,t){var r=e.stateNode;if(r===null)return null;var a=bd(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var Yf=!1;if(gn)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){Yf=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{Yf=!1}function aP(e,t,r,a,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var el=!1,Rc=null,Fc=!1,Zf=null,sP={onError:function(e){el=!0,Rc=e}};function iP(e,t,r,a,s,i,l,o,c){el=!1,Rc=null,aP.apply(sP,arguments)}function lP(e,t,r,a,s,i,l,o,c){if(iP.apply(this,arguments),el){if(el){var u=Rc;el=!1,Rc=null}else throw Error(Y(198));Fc||(Fc=!0,Zf=u)}}function Qa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $g(e){if(Qa(e)!==e)throw Error(Y(188))}function oP(e){var t=e.alternate;if(!t){if(t=Qa(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){r=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return $g(s),e;if(i===a)return $g(s),t;i=i.sibling}throw Error(Y(188))}if(r.return!==a.return)r=s,a=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,a=i;break}if(o===a){l=!0,a=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,a=s;break}if(o===a){l=!0,a=i,r=s;break}o=o.sibling}if(!l)throw Error(Y(189))}}if(r.alternate!==a)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function Rw(e){return e=oP(e),e!==null?Fw(e):null}function Fw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fw(e);if(t!==null)return t;e=e.sibling}return null}var Lw=ar.unstable_scheduleCallback,_g=ar.unstable_cancelCallback,cP=ar.unstable_shouldYield,uP=ar.unstable_requestPaint,rt=ar.unstable_now,dP=ar.unstable_getCurrentPriorityLevel,Nx=ar.unstable_ImmediatePriority,Bw=ar.unstable_UserBlockingPriority,Lc=ar.unstable_NormalPriority,mP=ar.unstable_LowPriority,qw=ar.unstable_IdlePriority,xd=null,Hr=null;function fP(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(xd,e,void 0,(e.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:xP,hP=Math.log,pP=Math.LN2;function xP(e){return e>>>=0,e===0?32:31-(hP(e)/pP|0)|0}var zo=64,Vo=4194304;function Qi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bc(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?a=Qi(o):(i&=l,i!==0&&(a=Qi(i)))}else l=r&~s,l!==0?a=Qi(l):i!==0&&(a=Qi(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&s)&&(s=a&-a,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Lr(t),s=1<<r,a|=e[r],t&=~s;return a}function yP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gP(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Lr(i),o=1<<l,c=s[l];c===-1?(!(o&r)||o&a)&&(s[l]=yP(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function eh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uw(){var e=zo;return zo<<=1,!(zo&4194240)&&(zo=64),e}function Am(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function No(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lr(t),e[t]=r}function vP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Lr(r),i=1<<s;t[s]=0,a[s]=-1,e[s]=-1,r&=~i}}function wx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Lr(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}var _e=0;function Kw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ww,Sx,zw,Vw,Gw,th=!1,Go=[],Kn=null,Wn=null,zn=null,xl=new Map,yl=new Map,$n=[],bP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rg(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(t.pointerId)}}function Ti(e,t,r,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=So(t),t!==null&&Sx(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jP(e,t,r,a,s){switch(t){case"focusin":return Kn=Ti(Kn,e,t,r,a,s),!0;case"dragenter":return Wn=Ti(Wn,e,t,r,a,s),!0;case"mouseover":return zn=Ti(zn,e,t,r,a,s),!0;case"pointerover":var i=s.pointerId;return xl.set(i,Ti(xl.get(i)||null,e,t,r,a,s)),!0;case"gotpointercapture":return i=s.pointerId,yl.set(i,Ti(yl.get(i)||null,e,t,r,a,s)),!0}return!1}function Hw(e){var t=Sa(e.target);if(t!==null){var r=Qa(t);if(r!==null){if(t=r.tag,t===13){if(t=_w(r),t!==null){e.blockedOn=t,Gw(e.priority,function(){zw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Jf=a,r.target.dispatchEvent(a),Jf=null}else return t=So(r),t!==null&&Sx(t),e.blockedOn=r,!1;t.shift()}return!0}function Fg(e,t,r){kc(e)&&r.delete(t)}function NP(){th=!1,Kn!==null&&kc(Kn)&&(Kn=null),Wn!==null&&kc(Wn)&&(Wn=null),zn!==null&&kc(zn)&&(zn=null),xl.forEach(Fg),yl.forEach(Fg)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,th||(th=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,NP)))}function gl(e){function t(s){return Ai(s,e)}if(0<Go.length){Ai(Go[0],e);for(var r=1;r<Go.length;r++){var a=Go[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Kn!==null&&Ai(Kn,e),Wn!==null&&Ai(Wn,e),zn!==null&&Ai(zn,e),xl.forEach(t),yl.forEach(t),r=0;r<$n.length;r++)a=$n[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)Hw(r),r.blockedOn===null&&$n.shift()}var ks=kn.ReactCurrentBatchConfig,qc=!0;function wP(e,t,r,a){var s=_e,i=ks.transition;ks.transition=null;try{_e=1,Cx(e,t,r,a)}finally{_e=s,ks.transition=i}}function SP(e,t,r,a){var s=_e,i=ks.transition;ks.transition=null;try{_e=4,Cx(e,t,r,a)}finally{_e=s,ks.transition=i}}function Cx(e,t,r,a){if(qc){var s=rh(e,t,r,a);if(s===null)Bm(e,t,a,Uc,r),Rg(e,a);else if(jP(s,e,t,r,a))a.stopPropagation();else if(Rg(e,a),t&4&&-1<bP.indexOf(e)){for(;s!==null;){var i=So(s);if(i!==null&&Ww(i),i=rh(e,t,r,a),i===null&&Bm(e,t,a,Uc,r),i===s)break;s=i}s!==null&&a.stopPropagation()}else Bm(e,t,a,null,r)}}var Uc=null;function rh(e,t,r,a){if(Uc=null,e=jx(a),e=Sa(e),e!==null)if(t=Qa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_w(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uc=e,null}function Qw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dP()){case Nx:return 1;case Bw:return 4;case Lc:case mP:return 16;case qw:return 536870912;default:return 16}default:return 16}}var Fn=null,kx=null,Oc=null;function Jw(){if(Oc)return Oc;var e,t=kx,r=t.length,a,s="value"in Fn?Fn.value:Fn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(a=1;a<=l&&t[r-a]===s[i-a];a++);return Oc=s.slice(e,1<a?1-a:void 0)}function Pc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ho(){return!0}function Lg(){return!1}function or(e){function t(r,a,s,i,l){this._reactName=r,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ho:Lg,this.isPropagationStopped=Lg,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ox=or(mi),wo=Ze({},mi,{view:0,detail:0}),CP=or(wo),Dm,Em,Di,yd=Ze({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Px,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(Dm=e.screenX-Di.screenX,Em=e.screenY-Di.screenY):Em=Dm=0,Di=e),Dm)},movementY:function(e){return"movementY"in e?e.movementY:Em}}),Bg=or(yd),kP=Ze({},yd,{dataTransfer:0}),OP=or(kP),PP=Ze({},wo,{relatedTarget:0}),Mm=or(PP),TP=Ze({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),AP=or(TP),DP=Ze({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EP=or(DP),MP=Ze({},mi,{data:0}),qg=or(MP),IP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$P={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_P={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_P[e])?!!t[e]:!1}function Px(){return RP}var FP=Ze({},wo,{key:function(e){if(e.key){var t=IP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$P[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Px,charCode:function(e){return e.type==="keypress"?Pc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LP=or(FP),BP=Ze({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ug=or(BP),qP=Ze({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Px}),UP=or(qP),KP=Ze({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),WP=or(KP),zP=Ze({},yd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VP=or(zP),GP=[9,13,27,32],Tx=gn&&"CompositionEvent"in window,tl=null;gn&&"documentMode"in document&&(tl=document.documentMode);var HP=gn&&"TextEvent"in window&&!tl,Xw=gn&&(!Tx||tl&&8<tl&&11>=tl),Kg=String.fromCharCode(32),Wg=!1;function Yw(e,t){switch(e){case"keyup":return GP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function QP(e,t){switch(e){case"compositionend":return Zw(t);case"keypress":return t.which!==32?null:(Wg=!0,Kg);case"textInput":return e=t.data,e===Kg&&Wg?null:e;default:return null}}function JP(e,t){if(us)return e==="compositionend"||!Tx&&Yw(e,t)?(e=Jw(),Oc=kx=Fn=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xw&&t.locale!=="ko"?null:t.data;default:return null}}var XP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XP[e.type]:t==="textarea"}function e1(e,t,r,a){Dw(a),t=Kc(t,"onChange"),0<t.length&&(r=new Ox("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var rl=null,vl=null;function YP(e){d1(e,0)}function gd(e){var t=fs(e);if(Sw(t))return e}function ZP(e,t){if(e==="change")return t}var t1=!1;if(gn){var Im;if(gn){var $m="oninput"in document;if(!$m){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),$m=typeof Vg.oninput=="function"}Im=$m}else Im=!1;t1=Im&&(!document.documentMode||9<document.documentMode)}function Gg(){rl&&(rl.detachEvent("onpropertychange",r1),vl=rl=null)}function r1(e){if(e.propertyName==="value"&&gd(vl)){var t=[];e1(t,vl,e,jx(e)),$w(YP,t)}}function eT(e,t,r){e==="focusin"?(Gg(),rl=t,vl=r,rl.attachEvent("onpropertychange",r1)):e==="focusout"&&Gg()}function tT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gd(vl)}function rT(e,t){if(e==="click")return gd(t)}function nT(e,t){if(e==="input"||e==="change")return gd(t)}function aT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qr=typeof Object.is=="function"?Object.is:aT;function bl(e,t){if(qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!Ff.call(t,s)||!qr(e[s],t[s]))return!1}return!0}function Hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,t){var r=Hg(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hg(r)}}function n1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?n1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function a1(){for(var e=window,t=_c();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_c(e.document)}return t}function Ax(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sT(e){var t=a1(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&n1(r.ownerDocument.documentElement,r)){if(a!==null&&Ax(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=Qg(r,i);var l=Qg(r,a);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iT=gn&&"documentMode"in document&&11>=document.documentMode,ds=null,nh=null,nl=null,ah=!1;function Jg(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ah||ds==null||ds!==_c(a)||(a=ds,"selectionStart"in a&&Ax(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),nl&&bl(nl,a)||(nl=a,a=Kc(nh,"onSelect"),0<a.length&&(t=new Ox("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=ds)))}function Qo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ms={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},_m={},s1={};gn&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function vd(e){if(_m[e])return _m[e];if(!ms[e])return e;var t=ms[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in s1)return _m[e]=t[r];return e}var i1=vd("animationend"),l1=vd("animationiteration"),o1=vd("animationstart"),c1=vd("transitionend"),u1=new Map,Xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function na(e,t){u1.set(e,t),Ha(t,[e])}for(var Rm=0;Rm<Xg.length;Rm++){var Fm=Xg[Rm],lT=Fm.toLowerCase(),oT=Fm[0].toUpperCase()+Fm.slice(1);na(lT,"on"+oT)}na(i1,"onAnimationEnd");na(l1,"onAnimationIteration");na(o1,"onAnimationStart");na("dblclick","onDoubleClick");na("focusin","onFocus");na("focusout","onBlur");na(c1,"onTransitionEnd");Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function Yg(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,lP(a,t,void 0,e),e.currentTarget=null}function d1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Yg(s,o,u),i=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Yg(s,o,u),i=c}}}if(Fc)throw e=Zf,Fc=!1,Zf=null,e}function We(e,t){var r=t[ch];r===void 0&&(r=t[ch]=new Set);var a=e+"__bubble";r.has(a)||(m1(t,e,2,!1),r.add(a))}function Lm(e,t,r){var a=0;t&&(a|=4),m1(r,e,a,t)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function jl(e){if(!e[Jo]){e[Jo]=!0,vw.forEach(function(r){r!=="selectionchange"&&(cT.has(r)||Lm(r,!1,e),Lm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jo]||(t[Jo]=!0,Lm("selectionchange",!1,t))}}function m1(e,t,r,a){switch(Qw(t)){case 1:var s=wP;break;case 4:s=SP;break;default:s=Cx}r=s.bind(null,t,r,e),s=void 0,!Yf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Bm(e,t,r,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Sa(o),l===null)return;if(c=l.tag,c===5||c===6){a=i=l;continue e}o=o.parentNode}}a=a.return}$w(function(){var u=i,h=jx(r),d=[];e:{var m=u1.get(e);if(m!==void 0){var g=Ox,b=e;switch(e){case"keypress":if(Pc(r)===0)break e;case"keydown":case"keyup":g=LP;break;case"focusin":b="focus",g=Mm;break;case"focusout":b="blur",g=Mm;break;case"beforeblur":case"afterblur":g=Mm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=OP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=UP;break;case i1:case l1:case o1:g=AP;break;case c1:g=WP;break;case"scroll":g=CP;break;case"wheel":g=VP;break;case"copy":case"cut":case"paste":g=EP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ug}var x=(t&4)!==0,j=!x&&e==="scroll",N=x?m!==null?m+"Capture":null:m;x=[];for(var S=u,y;S!==null;){y=S;var f=y.stateNode;if(y.tag===5&&f!==null&&(y=f,N!==null&&(f=pl(S,N),f!=null&&x.push(Nl(S,f,y)))),j)break;S=S.return}0<x.length&&(m=new g(m,b,null,r,h),d.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&r!==Jf&&(b=r.relatedTarget||r.fromElement)&&(Sa(b)||b[vn]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=u,b=b?Sa(b):null,b!==null&&(j=Qa(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(x=Bg,f="onMouseLeave",N="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ug,f="onPointerLeave",N="onPointerEnter",S="pointer"),j=g==null?m:fs(g),y=b==null?m:fs(b),m=new x(f,S+"leave",g,r,h),m.target=j,m.relatedTarget=y,f=null,Sa(h)===u&&(x=new x(N,S+"enter",b,r,h),x.target=y,x.relatedTarget=j,f=x),j=f,g&&b)t:{for(x=g,N=b,S=0,y=x;y;y=rs(y))S++;for(y=0,f=N;f;f=rs(f))y++;for(;0<S-y;)x=rs(x),S--;for(;0<y-S;)N=rs(N),y--;for(;S--;){if(x===N||N!==null&&x===N.alternate)break t;x=rs(x),N=rs(N)}x=null}else x=null;g!==null&&Zg(d,m,g,x,!1),b!==null&&j!==null&&Zg(d,j,b,x,!0)}}e:{if(m=u?fs(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var p=ZP;else if(zg(m))if(t1)p=nT;else{p=tT;var v=eT}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(p=rT);if(p&&(p=p(e,u))){e1(d,p,r,h);break e}v&&v(e,m,u),e==="focusout"&&(v=m._wrapperState)&&v.controlled&&m.type==="number"&&zf(m,"number",m.value)}switch(v=u?fs(u):window,e){case"focusin":(zg(v)||v.contentEditable==="true")&&(ds=v,nh=u,nl=null);break;case"focusout":nl=nh=ds=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,Jg(d,r,h);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Jg(d,r,h)}var w;if(Tx)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else us?Yw(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Xw&&r.locale!=="ko"&&(us||k!=="onCompositionStart"?k==="onCompositionEnd"&&us&&(w=Jw()):(Fn=h,kx="value"in Fn?Fn.value:Fn.textContent,us=!0)),v=Kc(u,k),0<v.length&&(k=new qg(k,e,null,r,h),d.push({event:k,listeners:v}),w?k.data=w:(w=Zw(r),w!==null&&(k.data=w)))),(w=HP?QP(e,r):JP(e,r))&&(u=Kc(u,"onBeforeInput"),0<u.length&&(h=new qg("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=w))}d1(d,t)})}function Nl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kc(e,t){for(var r=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pl(e,r),i!=null&&a.unshift(Nl(e,i,s)),i=pl(e,t),i!=null&&a.push(Nl(e,i,s))),e=e.return}return a}function rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zg(e,t,r,a,s){for(var i=t._reactName,l=[];r!==null&&r!==a;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&u!==null&&(o=u,s?(c=pl(r,i),c!=null&&l.unshift(Nl(r,c,o))):s||(c=pl(r,i),c!=null&&l.push(Nl(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var uT=/\r\n?/g,dT=/\u0000|\uFFFD/g;function e0(e){return(typeof e=="string"?e:""+e).replace(uT,`
`).replace(dT,"")}function Xo(e,t,r){if(t=e0(t),e0(e)!==t&&r)throw Error(Y(425))}function Wc(){}var sh=null,ih=null;function lh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,mT=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(e){return t0.resolve(null).then(e).catch(hT)}:oh;function hT(e){setTimeout(function(){throw e})}function qm(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(a===0){e.removeChild(s),gl(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=s}while(r);gl(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function r0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),Vr="__reactFiber$"+fi,wl="__reactProps$"+fi,vn="__reactContainer$"+fi,ch="__reactEvents$"+fi,pT="__reactListeners$"+fi,xT="__reactHandles$"+fi;function Sa(e){var t=e[Vr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vn]||r[Vr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=r0(e);e!==null;){if(r=e[Vr])return r;e=r0(e)}return t}e=r,r=e.parentNode}return null}function So(e){return e=e[Vr]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function bd(e){return e[wl]||null}var uh=[],hs=-1;function aa(e){return{current:e}}function Ge(e){0>hs||(e.current=uh[hs],uh[hs]=null,hs--)}function Ke(e,t){hs++,uh[hs]=e.current,e.current=t}var ta={},$t=aa(ta),Vt=aa(!1),_a=ta;function Is(e,t){var r=e.type.contextTypes;if(!r)return ta;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(e){return e=e.childContextTypes,e!=null}function zc(){Ge(Vt),Ge($t)}function n0(e,t,r){if($t.current!==ta)throw Error(Y(168));Ke($t,t),Ke(Vt,r)}function f1(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(Y(108,eP(e)||"Unknown",s));return Ze({},r,a)}function Vc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ta,_a=$t.current,Ke($t,e),Ke(Vt,Vt.current),!0}function a0(e,t,r){var a=e.stateNode;if(!a)throw Error(Y(169));r?(e=f1(e,t,_a),a.__reactInternalMemoizedMergedChildContext=e,Ge(Vt),Ge($t),Ke($t,e)):Ge(Vt),Ke(Vt,r)}var sn=null,jd=!1,Um=!1;function h1(e){sn===null?sn=[e]:sn.push(e)}function yT(e){jd=!0,h1(e)}function sa(){if(!Um&&sn!==null){Um=!0;var e=0,t=_e;try{var r=sn;for(_e=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}sn=null,jd=!1}catch(s){throw sn!==null&&(sn=sn.slice(e+1)),Lw(Nx,sa),s}finally{_e=t,Um=!1}}return null}var ps=[],xs=0,Gc=null,Hc=0,fr=[],hr=0,Ra=null,ln=1,on="";function ya(e,t){ps[xs++]=Hc,ps[xs++]=Gc,Gc=e,Hc=t}function p1(e,t,r){fr[hr++]=ln,fr[hr++]=on,fr[hr++]=Ra,Ra=e;var a=ln;e=on;var s=32-Lr(a)-1;a&=~(1<<s),r+=1;var i=32-Lr(t)+s;if(30<i){var l=s-s%5;i=(a&(1<<l)-1).toString(32),a>>=l,s-=l,ln=1<<32-Lr(t)+s|r<<s|a,on=i+e}else ln=1<<i|r<<s|a,on=e}function Dx(e){e.return!==null&&(ya(e,1),p1(e,1,0))}function Ex(e){for(;e===Gc;)Gc=ps[--xs],ps[xs]=null,Hc=ps[--xs],ps[xs]=null;for(;e===Ra;)Ra=fr[--hr],fr[hr]=null,on=fr[--hr],fr[hr]=null,ln=fr[--hr],fr[hr]=null}var nr=null,tr=null,Qe=!1,Ir=null;function x1(e,t){var r=pr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function s0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nr=e,tr=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nr=e,tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ra!==null?{id:ln,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nr=e,tr=null,!0):!1;default:return!1}}function dh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mh(e){if(Qe){var t=tr;if(t){var r=t;if(!s0(e,t)){if(dh(e))throw Error(Y(418));t=Vn(r.nextSibling);var a=nr;t&&s0(e,t)?x1(a,r):(e.flags=e.flags&-4097|2,Qe=!1,nr=e)}}else{if(dh(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Qe=!1,nr=e}}}function i0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nr=e}function Yo(e){if(e!==nr)return!1;if(!Qe)return i0(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lh(e.type,e.memoizedProps)),t&&(t=tr)){if(dh(e))throw y1(),Error(Y(418));for(;t;)x1(e,t),t=Vn(t.nextSibling)}if(i0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){tr=Vn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}tr=null}}else tr=nr?Vn(e.stateNode.nextSibling):null;return!0}function y1(){for(var e=tr;e;)e=Vn(e.nextSibling)}function $s(){tr=nr=null,Qe=!1}function Mx(e){Ir===null?Ir=[e]:Ir.push(e)}var gT=kn.ReactCurrentBatchConfig;function Ei(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var a=r.stateNode}if(!a)throw Error(Y(147,e));var s=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function Zo(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function l0(e){var t=e._init;return t(e._payload)}function g1(e){function t(N,S){if(e){var y=N.deletions;y===null?(N.deletions=[S],N.flags|=16):y.push(S)}}function r(N,S){if(!e)return null;for(;S!==null;)t(N,S),S=S.sibling;return null}function a(N,S){for(N=new Map;S!==null;)S.key!==null?N.set(S.key,S):N.set(S.index,S),S=S.sibling;return N}function s(N,S){return N=Jn(N,S),N.index=0,N.sibling=null,N}function i(N,S,y){return N.index=y,e?(y=N.alternate,y!==null?(y=y.index,y<S?(N.flags|=2,S):y):(N.flags|=2,S)):(N.flags|=1048576,S)}function l(N){return e&&N.alternate===null&&(N.flags|=2),N}function o(N,S,y,f){return S===null||S.tag!==6?(S=Qm(y,N.mode,f),S.return=N,S):(S=s(S,y),S.return=N,S)}function c(N,S,y,f){var p=y.type;return p===cs?h(N,S,y.props.children,f,y.key):S!==null&&(S.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===En&&l0(p)===S.type)?(f=s(S,y.props),f.ref=Ei(N,S,y),f.return=N,f):(f=$c(y.type,y.key,y.props,null,N.mode,f),f.ref=Ei(N,S,y),f.return=N,f)}function u(N,S,y,f){return S===null||S.tag!==4||S.stateNode.containerInfo!==y.containerInfo||S.stateNode.implementation!==y.implementation?(S=Jm(y,N.mode,f),S.return=N,S):(S=s(S,y.children||[]),S.return=N,S)}function h(N,S,y,f,p){return S===null||S.tag!==7?(S=Ea(y,N.mode,f,p),S.return=N,S):(S=s(S,y),S.return=N,S)}function d(N,S,y){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Qm(""+S,N.mode,y),S.return=N,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Uo:return y=$c(S.type,S.key,S.props,null,N.mode,y),y.ref=Ei(N,null,S),y.return=N,y;case os:return S=Jm(S,N.mode,y),S.return=N,S;case En:var f=S._init;return d(N,f(S._payload),y)}if(Hi(S)||Oi(S))return S=Ea(S,N.mode,y,null),S.return=N,S;Zo(N,S)}return null}function m(N,S,y,f){var p=S!==null?S.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return p!==null?null:o(N,S,""+y,f);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Uo:return y.key===p?c(N,S,y,f):null;case os:return y.key===p?u(N,S,y,f):null;case En:return p=y._init,m(N,S,p(y._payload),f)}if(Hi(y)||Oi(y))return p!==null?null:h(N,S,y,f,null);Zo(N,y)}return null}function g(N,S,y,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return N=N.get(y)||null,o(S,N,""+f,p);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Uo:return N=N.get(f.key===null?y:f.key)||null,c(S,N,f,p);case os:return N=N.get(f.key===null?y:f.key)||null,u(S,N,f,p);case En:var v=f._init;return g(N,S,y,v(f._payload),p)}if(Hi(f)||Oi(f))return N=N.get(y)||null,h(S,N,f,p,null);Zo(S,f)}return null}function b(N,S,y,f){for(var p=null,v=null,w=S,k=S=0,P=null;w!==null&&k<y.length;k++){w.index>k?(P=w,w=null):P=w.sibling;var A=m(N,w,y[k],f);if(A===null){w===null&&(w=P);break}e&&w&&A.alternate===null&&t(N,w),S=i(A,S,k),v===null?p=A:v.sibling=A,v=A,w=P}if(k===y.length)return r(N,w),Qe&&ya(N,k),p;if(w===null){for(;k<y.length;k++)w=d(N,y[k],f),w!==null&&(S=i(w,S,k),v===null?p=w:v.sibling=w,v=w);return Qe&&ya(N,k),p}for(w=a(N,w);k<y.length;k++)P=g(w,N,k,y[k],f),P!==null&&(e&&P.alternate!==null&&w.delete(P.key===null?k:P.key),S=i(P,S,k),v===null?p=P:v.sibling=P,v=P);return e&&w.forEach(function(D){return t(N,D)}),Qe&&ya(N,k),p}function x(N,S,y,f){var p=Oi(y);if(typeof p!="function")throw Error(Y(150));if(y=p.call(y),y==null)throw Error(Y(151));for(var v=p=null,w=S,k=S=0,P=null,A=y.next();w!==null&&!A.done;k++,A=y.next()){w.index>k?(P=w,w=null):P=w.sibling;var D=m(N,w,A.value,f);if(D===null){w===null&&(w=P);break}e&&w&&D.alternate===null&&t(N,w),S=i(D,S,k),v===null?p=D:v.sibling=D,v=D,w=P}if(A.done)return r(N,w),Qe&&ya(N,k),p;if(w===null){for(;!A.done;k++,A=y.next())A=d(N,A.value,f),A!==null&&(S=i(A,S,k),v===null?p=A:v.sibling=A,v=A);return Qe&&ya(N,k),p}for(w=a(N,w);!A.done;k++,A=y.next())A=g(w,N,k,A.value,f),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?k:A.key),S=i(A,S,k),v===null?p=A:v.sibling=A,v=A);return e&&w.forEach(function(O){return t(N,O)}),Qe&&ya(N,k),p}function j(N,S,y,f){if(typeof y=="object"&&y!==null&&y.type===cs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Uo:e:{for(var p=y.key,v=S;v!==null;){if(v.key===p){if(p=y.type,p===cs){if(v.tag===7){r(N,v.sibling),S=s(v,y.props.children),S.return=N,N=S;break e}}else if(v.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===En&&l0(p)===v.type){r(N,v.sibling),S=s(v,y.props),S.ref=Ei(N,v,y),S.return=N,N=S;break e}r(N,v);break}else t(N,v);v=v.sibling}y.type===cs?(S=Ea(y.props.children,N.mode,f,y.key),S.return=N,N=S):(f=$c(y.type,y.key,y.props,null,N.mode,f),f.ref=Ei(N,S,y),f.return=N,N=f)}return l(N);case os:e:{for(v=y.key;S!==null;){if(S.key===v)if(S.tag===4&&S.stateNode.containerInfo===y.containerInfo&&S.stateNode.implementation===y.implementation){r(N,S.sibling),S=s(S,y.children||[]),S.return=N,N=S;break e}else{r(N,S);break}else t(N,S);S=S.sibling}S=Jm(y,N.mode,f),S.return=N,N=S}return l(N);case En:return v=y._init,j(N,S,v(y._payload),f)}if(Hi(y))return b(N,S,y,f);if(Oi(y))return x(N,S,y,f);Zo(N,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,S!==null&&S.tag===6?(r(N,S.sibling),S=s(S,y),S.return=N,N=S):(r(N,S),S=Qm(y,N.mode,f),S.return=N,N=S),l(N)):r(N,S)}return j}var _s=g1(!0),v1=g1(!1),Qc=aa(null),Jc=null,ys=null,Ix=null;function $x(){Ix=ys=Jc=null}function _x(e){var t=Qc.current;Ge(Qc),e._currentValue=t}function fh(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Os(e,t){Jc=e,Ix=ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function br(e){var t=e._currentValue;if(Ix!==e)if(e={context:e,memoizedValue:t,next:null},ys===null){if(Jc===null)throw Error(Y(308));ys=e,Jc.dependencies={lanes:0,firstContext:e}}else ys=ys.next=e;return t}var Ca=null;function Rx(e){Ca===null?Ca=[e]:Ca.push(e)}function b1(e,t,r,a){var s=t.interleaved;return s===null?(r.next=r,Rx(t)):(r.next=s.next,s.next=r),t.interleaved=r,bn(e,a)}function bn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mn=!1;function Fx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Pe&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,bn(e,r)}return s=a.interleaved,s===null?(t.next=t,Rx(a)):(t.next=s.next,s.next=t),a.interleaved=t,bn(e,r)}function Tc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,wx(e,r)}}function o0(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xc(e,t,r,a){var s=e.updateQueue;Mn=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;l=0,h=u=c=null,o=i;do{var m=o.lane,g=o.eventTime;if((a&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=e,x=o;switch(m=t,g=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){d=b.call(g,d,m);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,m=typeof b=="function"?b.call(g,d,m):b,m==null)break e;d=Ze({},d,m);break e;case 2:Mn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else g={eventTime:g,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=g,c=d):h=h.next=g,l|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);La|=l,e.lanes=l,e.memoizedState=d}}function c0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=r,typeof s!="function")throw Error(Y(191,s));s.call(a)}}}var Co={},Qr=aa(Co),Sl=aa(Co),Cl=aa(Co);function ka(e){if(e===Co)throw Error(Y(174));return e}function Lx(e,t){switch(Ke(Cl,t),Ke(Sl,e),Ke(Qr,Co),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gf(t,e)}Ge(Qr),Ke(Qr,t)}function Rs(){Ge(Qr),Ge(Sl),Ge(Cl)}function N1(e){ka(Cl.current);var t=ka(Qr.current),r=Gf(t,e.type);t!==r&&(Ke(Sl,e),Ke(Qr,r))}function Bx(e){Sl.current===e&&(Ge(Qr),Ge(Sl))}var Xe=aa(0);function Yc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Km=[];function qx(){for(var e=0;e<Km.length;e++)Km[e]._workInProgressVersionPrimary=null;Km.length=0}var Ac=kn.ReactCurrentDispatcher,Wm=kn.ReactCurrentBatchConfig,Fa=0,Ye=null,ut=null,gt=null,Zc=!1,al=!1,kl=0,vT=0;function Pt(){throw Error(Y(321))}function Ux(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qr(e[r],t[r]))return!1;return!0}function Kx(e,t,r,a,s,i){if(Fa=i,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ac.current=e===null||e.memoizedState===null?wT:ST,e=r(a,s),al){i=0;do{if(al=!1,kl=0,25<=i)throw Error(Y(301));i+=1,gt=ut=null,t.updateQueue=null,Ac.current=CT,e=r(a,s)}while(al)}if(Ac.current=eu,t=ut!==null&&ut.next!==null,Fa=0,gt=ut=Ye=null,Zc=!1,t)throw Error(Y(300));return e}function Wx(){var e=kl!==0;return kl=0,e}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ye.memoizedState=gt=e:gt=gt.next=e,gt}function jr(){if(ut===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=gt===null?Ye.memoizedState:gt.next;if(t!==null)gt=t,ut=e;else{if(e===null)throw Error(Y(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},gt===null?Ye.memoizedState=gt=e:gt=gt.next=e}return gt}function Ol(e,t){return typeof t=="function"?t(e):t}function zm(e){var t=jr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var a=ut,s=a.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}a.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,a=a.baseState;var o=l=null,c=null,u=i;do{var h=u.lane;if((Fa&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=d,l=a):c=c.next=d,Ye.lanes|=h,La|=h}u=u.next}while(u!==null&&u!==i);c===null?l=a:c.next=o,qr(a,t.memoizedState)||(Wt=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ye.lanes|=i,La|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vm(e){var t=jr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);qr(i,t.memoizedState)||(Wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function w1(){}function S1(e,t){var r=Ye,a=jr(),s=t(),i=!qr(a.memoizedState,s);if(i&&(a.memoizedState=s,Wt=!0),a=a.queue,zx(O1.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||gt!==null&&gt.memoizedState.tag&1){if(r.flags|=2048,Pl(9,k1.bind(null,r,a,s,t),void 0,null),vt===null)throw Error(Y(349));Fa&30||C1(r,t,s)}return s}function C1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function k1(e,t,r,a){t.value=r,t.getSnapshot=a,P1(t)&&T1(e)}function O1(e,t,r){return r(function(){P1(t)&&T1(e)})}function P1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qr(e,r)}catch{return!0}}function T1(e){var t=bn(e,1);t!==null&&Br(t,e,1,-1)}function u0(e){var t=zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:e},t.queue=e,e=e.dispatch=NT.bind(null,Ye,e),[t.memoizedState,e]}function Pl(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function A1(){return jr().memoizedState}function Dc(e,t,r,a){var s=zr();Ye.flags|=e,s.memoizedState=Pl(1|t,r,void 0,a===void 0?null:a)}function Nd(e,t,r,a){var s=jr();a=a===void 0?null:a;var i=void 0;if(ut!==null){var l=ut.memoizedState;if(i=l.destroy,a!==null&&Ux(a,l.deps)){s.memoizedState=Pl(t,r,i,a);return}}Ye.flags|=e,s.memoizedState=Pl(1|t,r,i,a)}function d0(e,t){return Dc(8390656,8,e,t)}function zx(e,t){return Nd(2048,8,e,t)}function D1(e,t){return Nd(4,2,e,t)}function E1(e,t){return Nd(4,4,e,t)}function M1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function I1(e,t,r){return r=r!=null?r.concat([e]):null,Nd(4,4,M1.bind(null,t,e),r)}function Vx(){}function $1(e,t){var r=jr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Ux(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function _1(e,t){var r=jr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Ux(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function R1(e,t,r){return Fa&21?(qr(r,t)||(r=Uw(),Ye.lanes|=r,La|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=r)}function bT(e,t){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var a=Wm.transition;Wm.transition={};try{e(!1),t()}finally{_e=r,Wm.transition=a}}function F1(){return jr().memoizedState}function jT(e,t,r){var a=Qn(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},L1(e))B1(t,r);else if(r=b1(e,t,r,a),r!==null){var s=Lt();Br(r,e,a,s),q1(r,t,a)}}function NT(e,t,r){var a=Qn(e),s={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(L1(e))B1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,qr(o,l)){var c=t.interleaved;c===null?(s.next=s,Rx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=b1(e,t,s,a),r!==null&&(s=Lt(),Br(r,e,a,s),q1(r,t,a))}}function L1(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function B1(e,t){al=Zc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function q1(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,wx(e,r)}}var eu={readContext:br,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},wT={readContext:br,useCallback:function(e,t){return zr().memoizedState=[e,t===void 0?null:t],e},useContext:br,useEffect:d0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Dc(4194308,4,M1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Dc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dc(4,2,e,t)},useMemo:function(e,t){var r=zr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=zr();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=jT.bind(null,Ye,e),[a.memoizedState,e]},useRef:function(e){var t=zr();return e={current:e},t.memoizedState=e},useState:u0,useDebugValue:Vx,useDeferredValue:function(e){return zr().memoizedState=e},useTransition:function(){var e=u0(!1),t=e[0];return e=bT.bind(null,e[1]),zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=Ye,s=zr();if(Qe){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),vt===null)throw Error(Y(349));Fa&30||C1(a,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,d0(O1.bind(null,a,i,e),[e]),a.flags|=2048,Pl(9,k1.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=zr(),t=vt.identifierPrefix;if(Qe){var r=on,a=ln;r=(a&~(1<<32-Lr(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=kl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ST={readContext:br,useCallback:$1,useContext:br,useEffect:zx,useImperativeHandle:I1,useInsertionEffect:D1,useLayoutEffect:E1,useMemo:_1,useReducer:zm,useRef:A1,useState:function(){return zm(Ol)},useDebugValue:Vx,useDeferredValue:function(e){var t=jr();return R1(t,ut.memoizedState,e)},useTransition:function(){var e=zm(Ol)[0],t=jr().memoizedState;return[e,t]},useMutableSource:w1,useSyncExternalStore:S1,useId:F1,unstable_isNewReconciler:!1},CT={readContext:br,useCallback:$1,useContext:br,useEffect:zx,useImperativeHandle:I1,useInsertionEffect:D1,useLayoutEffect:E1,useMemo:_1,useReducer:Vm,useRef:A1,useState:function(){return Vm(Ol)},useDebugValue:Vx,useDeferredValue:function(e){var t=jr();return ut===null?t.memoizedState=e:R1(t,ut.memoizedState,e)},useTransition:function(){var e=Vm(Ol)[0],t=jr().memoizedState;return[e,t]},useMutableSource:w1,useSyncExternalStore:S1,useId:F1,unstable_isNewReconciler:!1};function Tr(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hh(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:Ze({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wd={isMounted:function(e){return(e=e._reactInternals)?Qa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Lt(),s=Qn(e),i=mn(a,s);i.payload=t,r!=null&&(i.callback=r),t=Gn(e,i,s),t!==null&&(Br(t,e,s,a),Tc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Lt(),s=Qn(e),i=mn(a,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Gn(e,i,s),t!==null&&(Br(t,e,s,a),Tc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lt(),a=Qn(e),s=mn(r,a);s.tag=2,t!=null&&(s.callback=t),t=Gn(e,s,a),t!==null&&(Br(t,e,a,r),Tc(t,e,a))}};function m0(e,t,r,a,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):t.prototype&&t.prototype.isPureReactComponent?!bl(r,a)||!bl(s,i):!0}function U1(e,t,r){var a=!1,s=ta,i=t.contextType;return typeof i=="object"&&i!==null?i=br(i):(s=Gt(t)?_a:$t.current,a=t.contextTypes,i=(a=a!=null)?Is(e,s):ta),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wd,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function f0(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&wd.enqueueReplaceState(t,t.state,null)}function ph(e,t,r,a){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Fx(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=br(i):(i=Gt(t)?_a:$t.current,s.context=Is(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wd.enqueueReplaceState(s,s.state,null),Xc(e,r,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var r="",a=t;do r+=ZO(a),a=a.return;while(a);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Gm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kT=typeof WeakMap=="function"?WeakMap:Map;function K1(e,t,r){r=mn(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){ru||(ru=!0,kh=a),xh(e,t)},r}function W1(e,t,r){r=mn(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;r.payload=function(){return a(s)},r.callback=function(){xh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){xh(e,t),typeof a!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function h0(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new kT;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(r)||(s.add(r),e=BT.bind(null,e,t,r),t.then(e,e))}function p0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function x0(e,t,r,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mn(-1,1),t.tag=2,Gn(r,t,1))),r.lanes|=1),e)}var OT=kn.ReactCurrentOwner,Wt=!1;function Rt(e,t,r,a){t.child=e===null?v1(t,null,r,a):_s(t,e.child,r,a)}function y0(e,t,r,a,s){r=r.render;var i=t.ref;return Os(t,s),a=Kx(e,t,r,a,i,s),r=Wx(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jn(e,t,s)):(Qe&&r&&Dx(t),t.flags|=1,Rt(e,t,a,s),t.child)}function g0(e,t,r,a,s){if(e===null){var i=r.type;return typeof i=="function"&&!ey(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,z1(e,t,i,a,s)):(e=$c(r.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:bl,r(l,a)&&e.ref===t.ref)return jn(e,t,s)}return t.flags|=1,e=Jn(i,a),e.ref=t.ref,e.return=t,t.child=e}function z1(e,t,r,a,s){if(e!==null){var i=e.memoizedProps;if(bl(i,a)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,jn(e,t,s)}return yh(e,t,r,a,s)}function V1(e,t,r){var a=t.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(vs,Yt),Yt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(vs,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,Ke(vs,Yt),Yt|=a}else i!==null?(a=i.baseLanes|r,t.memoizedState=null):a=r,Ke(vs,Yt),Yt|=a;return Rt(e,t,s,r),t.child}function G1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yh(e,t,r,a,s){var i=Gt(r)?_a:$t.current;return i=Is(t,i),Os(t,s),r=Kx(e,t,r,a,i,s),a=Wx(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jn(e,t,s)):(Qe&&a&&Dx(t),t.flags|=1,Rt(e,t,r,s),t.child)}function v0(e,t,r,a,s){if(Gt(r)){var i=!0;Vc(t)}else i=!1;if(Os(t,s),t.stateNode===null)Ec(e,t),U1(t,r,a),ph(t,r,a,s),a=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=br(u):(u=Gt(r)?_a:$t.current,u=Is(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||c!==u)&&f0(t,l,a,u),Mn=!1;var m=t.memoizedState;l.state=m,Xc(t,a,l,s),c=t.memoizedState,o!==a||m!==c||Vt.current||Mn?(typeof h=="function"&&(hh(t,r,h,a),c=t.memoizedState),(o=Mn||m0(t,r,o,a,m,c,u))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=u,a=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,j1(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Tr(t.type,o),l.props=u,d=t.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=br(c):(c=Gt(r)?_a:$t.current,c=Is(t,c));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==d||m!==c)&&f0(t,l,a,c),Mn=!1,m=t.memoizedState,l.state=m,Xc(t,a,l,s);var b=t.memoizedState;o!==d||m!==b||Vt.current||Mn?(typeof g=="function"&&(hh(t,r,g,a),b=t.memoizedState),(u=Mn||m0(t,r,u,a,m,b,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,b,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,b,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=b),l.props=a,l.state=b,l.context=c,a=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return gh(e,t,r,a,i,s)}function gh(e,t,r,a,s,i){G1(e,t);var l=(t.flags&128)!==0;if(!a&&!l)return s&&a0(t,r,!1),jn(e,t,i);a=t.stateNode,OT.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&l?(t.child=_s(t,e.child,null,i),t.child=_s(t,null,o,i)):Rt(e,t,o,i),t.memoizedState=a.state,s&&a0(t,r,!0),t.child}function H1(e){var t=e.stateNode;t.pendingContext?n0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&n0(e,t.context,!1),Lx(e,t.containerInfo)}function b0(e,t,r,a,s){return $s(),Mx(s),t.flags|=256,Rt(e,t,r,a),t.child}var vh={dehydrated:null,treeContext:null,retryLane:0};function bh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q1(e,t,r){var a=t.pendingProps,s=Xe.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ke(Xe,s&1),e===null)return mh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=kd(l,a,0,null),e=Ea(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bh(r),t.memoizedState=vh,e):Gx(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return PT(e,t,l,a,o,s,r);if(i){i=a.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:a.children};return!(l&1)&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=Jn(s,c),a.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Jn(o,i):(i=Ea(i,l,r,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=e.child.memoizedState,l=l===null?bh(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=vh,a}return i=e.child,e=i.sibling,a=Jn(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Gx(e,t){return t=kd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ec(e,t,r,a){return a!==null&&Mx(a),_s(t,e.child,null,r),e=Gx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PT(e,t,r,a,s,i,l){if(r)return t.flags&256?(t.flags&=-257,a=Gm(Error(Y(422))),ec(e,t,l,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,s=t.mode,a=kd({mode:"visible",children:a.children},s,0,null),i=Ea(i,s,l,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&_s(t,e.child,null,l),t.child.memoizedState=bh(l),t.memoizedState=vh,i);if(!(t.mode&1))return ec(e,t,l,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(Y(419)),a=Gm(i,a,void 0),ec(e,t,l,a)}if(o=(l&e.childLanes)!==0,Wt||o){if(a=vt,a!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bn(e,s),Br(a,e,s,-1))}return Zx(),a=Gm(Error(Y(421))),ec(e,t,l,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qT.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,tr=Vn(s.nextSibling),nr=t,Qe=!0,Ir=null,e!==null&&(fr[hr++]=ln,fr[hr++]=on,fr[hr++]=Ra,ln=e.id,on=e.overflow,Ra=t),t=Gx(t,a.children),t.flags|=4096,t)}function j0(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),fh(e.return,t,r)}function Hm(e,t,r,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=s)}function J1(e,t,r){var a=t.pendingProps,s=a.revealOrder,i=a.tail;if(Rt(e,t,a.children,r),a=Xe.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&j0(e,r,t);else if(e.tag===19)j0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ke(Xe,a),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Yc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Hm(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Hm(t,!0,r,null,i);break;case"together":Hm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ec(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),La|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=Jn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function TT(e,t,r){switch(t.tag){case 3:H1(t),$s();break;case 5:N1(t);break;case 1:Gt(t.type)&&Vc(t);break;case 4:Lx(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;Ke(Qc,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ke(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?Q1(e,t,r):(Ke(Xe,Xe.current&1),e=jn(e,t,r),e!==null?e.sibling:null);Ke(Xe,Xe.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return J1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(Xe,Xe.current),a)break;return null;case 22:case 23:return t.lanes=0,V1(e,t,r)}return jn(e,t,r)}var X1,jh,Y1,Z1;X1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jh=function(){};Y1=function(e,t,r,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,ka(Qr.current);var i=null;switch(r){case"input":s=Kf(e,s),a=Kf(e,a),i=[];break;case"select":s=Ze({},s,{value:void 0}),a=Ze({},a,{value:void 0}),i=[];break;case"textarea":s=Vf(e,s),a=Vf(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Wc)}Hf(r,a);var l;r=null;for(u in s)if(!a.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in a){var c=a[u];if(o=s!=null?s[u]:void 0,a.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&We("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Z1=function(e,t,r,a){r!==a&&(t.flags|=4)};function Mi(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function AT(e,t,r){var a=t.pendingProps;switch(Ex(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Gt(t.type)&&zc(),Tt(t),null;case 3:return a=t.stateNode,Rs(),Ge(Vt),Ge($t),qx(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ir!==null&&(Th(Ir),Ir=null))),jh(e,t),Tt(t),null;case 5:Bx(t);var s=ka(Cl.current);if(r=t.type,e!==null&&t.stateNode!=null)Y1(e,t,r,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(Y(166));return Tt(t),null}if(e=ka(Qr.current),Yo(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[Vr]=t,a[wl]=i,e=(t.mode&1)!==0,r){case"dialog":We("cancel",a),We("close",a);break;case"iframe":case"object":case"embed":We("load",a);break;case"video":case"audio":for(s=0;s<Ji.length;s++)We(Ji[s],a);break;case"source":We("error",a);break;case"img":case"image":case"link":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"input":Ag(a,i),We("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},We("invalid",a);break;case"textarea":Eg(a,i),We("invalid",a)}Hf(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&Xo(a.textContent,o,e),s=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Xo(a.textContent,o,e),s=["children",""+o]):fl.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&We("scroll",a)}switch(r){case"input":Ko(a),Dg(a,i,!0);break;case"textarea":Ko(a),Mg(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Wc)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ow(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=l.createElement(r,{is:a.is}):(e=l.createElement(r),r==="select"&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,r),e[Vr]=t,e[wl]=a,X1(e,t,!1,!1),t.stateNode=e;e:{switch(l=Qf(r,a),r){case"dialog":We("cancel",e),We("close",e),s=a;break;case"iframe":case"object":case"embed":We("load",e),s=a;break;case"video":case"audio":for(s=0;s<Ji.length;s++)We(Ji[s],e);s=a;break;case"source":We("error",e),s=a;break;case"img":case"image":case"link":We("error",e),We("load",e),s=a;break;case"details":We("toggle",e),s=a;break;case"input":Ag(e,a),s=Kf(e,a),We("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=Ze({},a,{value:void 0}),We("invalid",e);break;case"textarea":Eg(e,a),s=Vf(e,a),We("invalid",e);break;default:s=a}Hf(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Aw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Pw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hl(e,c):typeof c=="number"&&hl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&We("scroll",e):c!=null&&yx(e,i,c,l))}switch(r){case"input":Ko(e),Dg(e,a,!1);break;case"textarea":Ko(e),Mg(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ea(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?ws(e,!!a.multiple,i,!1):a.defaultValue!=null&&ws(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wc)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)Z1(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(Y(166));if(r=ka(Cl.current),ka(Qr.current),Yo(t)){if(a=t.stateNode,r=t.memoizedProps,a[Vr]=t,(i=a.nodeValue!==r)&&(e=nr,e!==null))switch(e.tag){case 3:Xo(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xo(a.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Vr]=t,t.stateNode=a}return Tt(t),null;case 13:if(Ge(Xe),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&tr!==null&&t.mode&1&&!(t.flags&128))y1(),$s(),t.flags|=98560,i=!1;else if(i=Yo(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Vr]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),i=!1}else Ir!==null&&(Th(Ir),Ir=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?mt===0&&(mt=3):Zx())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return Rs(),jh(e,t),e===null&&jl(t.stateNode.containerInfo),Tt(t),null;case 10:return _x(t.type._context),Tt(t),null;case 17:return Gt(t.type)&&zc(),Tt(t),null;case 19:if(Ge(Xe),i=t.memoizedState,i===null)return Tt(t),null;if(a=(t.flags&128)!==0,l=i.rendering,l===null)if(a)Mi(i,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Yc(e),l!==null){for(t.flags|=128,Mi(i,!1),a=l.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)i=r,e=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(Xe,Xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&rt()>Ls&&(t.flags|=128,a=!0,Mi(i,!1),t.lanes=4194304)}else{if(!a)if(e=Yc(l),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Qe)return Tt(t),null}else 2*rt()-i.renderingStartTime>Ls&&r!==1073741824&&(t.flags|=128,a=!0,Mi(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=rt(),t.sibling=null,r=Xe.current,Ke(Xe,a?r&1|2:r&1),t):(Tt(t),null);case 22:case 23:return Yx(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Yt&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function DT(e,t){switch(Ex(t),t.tag){case 1:return Gt(t.type)&&zc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rs(),Ge(Vt),Ge($t),qx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bx(t),null;case 13:if(Ge(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Xe),null;case 4:return Rs(),null;case 10:return _x(t.type._context),null;case 22:case 23:return Yx(),null;case 24:return null;default:return null}}var tc=!1,Dt=!1,ET=typeof WeakSet=="function"?WeakSet:Set,ce=null;function gs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){et(e,t,a)}else r.current=null}function Nh(e,t,r){try{r()}catch(a){et(e,t,a)}}var N0=!1;function MT(e,t){if(sh=qc,e=a1(),Ax(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,h=0,d=e,m=null;t:for(;;){for(var g;d!==r||s!==0&&d.nodeType!==3||(o=l+s),d!==i||a!==0&&d.nodeType!==3||(c=l+a),d.nodeType===3&&(l+=d.nodeValue.length),(g=d.firstChild)!==null;)m=d,d=g;for(;;){if(d===e)break t;if(m===r&&++u===s&&(o=l),m===i&&++h===a&&(c=l),(g=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=g}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ih={focusedElem:e,selectionRange:r},qc=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,j=b.memoizedState,N=t.stateNode,S=N.getSnapshotBeforeUpdate(t.elementType===t.type?x:Tr(t.type,x),j);N.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(f){et(t,t.return,f)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return b=N0,N0=!1,b}function sl(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nh(t,r,i)}s=s.next}while(s!==a)}}function Sd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function wh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function eS(e){var t=e.alternate;t!==null&&(e.alternate=null,eS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vr],delete t[wl],delete t[ch],delete t[pT],delete t[xT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tS(e){return e.tag===5||e.tag===3||e.tag===4}function w0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sh(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wc));else if(a!==4&&(e=e.child,e!==null))for(Sh(e,t,r),e=e.sibling;e!==null;)Sh(e,t,r),e=e.sibling}function Ch(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ch(e,t,r),e=e.sibling;e!==null;)Ch(e,t,r),e=e.sibling}var wt=null,Ar=!1;function Dn(e,t,r){for(r=r.child;r!==null;)rS(e,t,r),r=r.sibling}function rS(e,t,r){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(xd,r)}catch{}switch(r.tag){case 5:Dt||gs(r,t);case 6:var a=wt,s=Ar;wt=null,Dn(e,t,r),wt=a,Ar=s,wt!==null&&(Ar?(e=wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wt.removeChild(r.stateNode));break;case 18:wt!==null&&(Ar?(e=wt,r=r.stateNode,e.nodeType===8?qm(e.parentNode,r):e.nodeType===1&&qm(e,r),gl(e)):qm(wt,r.stateNode));break;case 4:a=wt,s=Ar,wt=r.stateNode.containerInfo,Ar=!0,Dn(e,t,r),wt=a,Ar=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Nh(r,t,l),s=s.next}while(s!==a)}Dn(e,t,r);break;case 1:if(!Dt&&(gs(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){et(r,t,o)}Dn(e,t,r);break;case 21:Dn(e,t,r);break;case 22:r.mode&1?(Dt=(a=Dt)||r.memoizedState!==null,Dn(e,t,r),Dt=a):Dn(e,t,r);break;default:Dn(e,t,r)}}function S0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ET),t.forEach(function(a){var s=UT.bind(null,e,a);r.has(a)||(r.add(a),a.then(s,s))})}}function Or(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var s=r[a];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:wt=o.stateNode,Ar=!1;break e;case 3:wt=o.stateNode.containerInfo,Ar=!0;break e;case 4:wt=o.stateNode.containerInfo,Ar=!0;break e}o=o.return}if(wt===null)throw Error(Y(160));rS(i,l,s),wt=null,Ar=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){et(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nS(t,e),t=t.sibling}function nS(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Or(t,e),Wr(e),a&4){try{sl(3,e,e.return),Sd(3,e)}catch(x){et(e,e.return,x)}try{sl(5,e,e.return)}catch(x){et(e,e.return,x)}}break;case 1:Or(t,e),Wr(e),a&512&&r!==null&&gs(r,r.return);break;case 5:if(Or(t,e),Wr(e),a&512&&r!==null&&gs(r,r.return),e.flags&32){var s=e.stateNode;try{hl(s,"")}catch(x){et(e,e.return,x)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Cw(s,i),Qf(o,l);var u=Qf(o,i);for(l=0;l<c.length;l+=2){var h=c[l],d=c[l+1];h==="style"?Aw(s,d):h==="dangerouslySetInnerHTML"?Pw(s,d):h==="children"?hl(s,d):yx(s,h,d,u)}switch(o){case"input":Wf(s,i);break;case"textarea":kw(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ws(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?ws(s,!!i.multiple,i.defaultValue,!0):ws(s,!!i.multiple,i.multiple?[]:"",!1))}s[wl]=i}catch(x){et(e,e.return,x)}}break;case 6:if(Or(t,e),Wr(e),a&4){if(e.stateNode===null)throw Error(Y(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){et(e,e.return,x)}}break;case 3:if(Or(t,e),Wr(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{gl(t.containerInfo)}catch(x){et(e,e.return,x)}break;case 4:Or(t,e),Wr(e);break;case 13:Or(t,e),Wr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jx=rt())),a&4&&S0(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||h,Or(t,e),Dt=u):Or(t,e),Wr(e),a&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(ce=e,h=e.child;h!==null;){for(d=ce=h;ce!==null;){switch(m=ce,g=m.child,m.tag){case 0:case 11:case 14:case 15:sl(4,m,m.return);break;case 1:gs(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){a=m,r=m.return;try{t=a,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){et(a,r,x)}}break;case 5:gs(m,m.return);break;case 22:if(m.memoizedState!==null){k0(d);continue}}g!==null?(g.return=m,ce=g):k0(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,c=d.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Tw("display",l))}catch(x){et(e,e.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){et(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Or(t,e),Wr(e),a&4&&S0(e);break;case 21:break;default:Or(t,e),Wr(e)}}function Wr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tS(r)){var a=r;break e}r=r.return}throw Error(Y(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(hl(s,""),a.flags&=-33);var i=w0(e);Ch(e,i,s);break;case 3:case 4:var l=a.stateNode.containerInfo,o=w0(e);Sh(e,o,l);break;default:throw Error(Y(161))}}catch(c){et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IT(e,t,r){ce=e,aS(e)}function aS(e,t,r){for(var a=(e.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&a){var l=s.memoizedState!==null||tc;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Dt;o=tc;var u=Dt;if(tc=l,(Dt=c)&&!u)for(ce=s;ce!==null;)l=ce,c=l.child,l.tag===22&&l.memoizedState!==null?O0(s):c!==null?(c.return=l,ce=c):O0(s);for(;i!==null;)ce=i,aS(i),i=i.sibling;ce=s,tc=o,Dt=u}C0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):C0(e)}}function C0(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Sd(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Dt)if(r===null)a.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Tr(t.type,r.memoizedProps);a.componentDidUpdate(s,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&c0(t,i,a);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}c0(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&gl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Dt||t.flags&512&&wh(t)}catch(m){et(t,t.return,m)}}if(t===e){ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,ce=r;break}ce=t.return}}function k0(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ce=r;break}ce=t.return}}function O0(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sd(4,t)}catch(c){et(t,r,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(c){et(t,s,c)}}var i=t.return;try{wh(t)}catch(c){et(t,i,c)}break;case 5:var l=t.return;try{wh(t)}catch(c){et(t,l,c)}}}catch(c){et(t,t.return,c)}if(t===e){ce=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ce=o;break}ce=t.return}}var $T=Math.ceil,tu=kn.ReactCurrentDispatcher,Hx=kn.ReactCurrentOwner,yr=kn.ReactCurrentBatchConfig,Pe=0,vt=null,st=null,Ct=0,Yt=0,vs=aa(0),mt=0,Tl=null,La=0,Cd=0,Qx=0,il=null,Kt=null,Jx=0,Ls=1/0,an=null,ru=!1,kh=null,Hn=null,rc=!1,Ln=null,nu=0,ll=0,Oh=null,Mc=-1,Ic=0;function Lt(){return Pe&6?rt():Mc!==-1?Mc:Mc=rt()}function Qn(e){return e.mode&1?Pe&2&&Ct!==0?Ct&-Ct:gT.transition!==null?(Ic===0&&(Ic=Uw()),Ic):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Qw(e.type)),e):1}function Br(e,t,r,a){if(50<ll)throw ll=0,Oh=null,Error(Y(185));No(e,r,a),(!(Pe&2)||e!==vt)&&(e===vt&&(!(Pe&2)&&(Cd|=r),mt===4&&_n(e,Ct)),Ht(e,a),r===1&&Pe===0&&!(t.mode&1)&&(Ls=rt()+500,jd&&sa()))}function Ht(e,t){var r=e.callbackNode;gP(e,t);var a=Bc(e,e===vt?Ct:0);if(a===0)r!==null&&_g(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&_g(r),t===1)e.tag===0?yT(P0.bind(null,e)):h1(P0.bind(null,e)),fT(function(){!(Pe&6)&&sa()}),r=null;else{switch(Kw(a)){case 1:r=Nx;break;case 4:r=Bw;break;case 16:r=Lc;break;case 536870912:r=qw;break;default:r=Lc}r=mS(r,sS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sS(e,t){if(Mc=-1,Ic=0,Pe&6)throw Error(Y(327));var r=e.callbackNode;if(Ps()&&e.callbackNode!==r)return null;var a=Bc(e,e===vt?Ct:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=au(e,a);else{t=a;var s=Pe;Pe|=2;var i=lS();(vt!==e||Ct!==t)&&(an=null,Ls=rt()+500,Da(e,t));do try{FT();break}catch(o){iS(e,o)}while(1);$x(),tu.current=i,Pe=s,st!==null?t=0:(vt=null,Ct=0,t=mt)}if(t!==0){if(t===2&&(s=eh(e),s!==0&&(a=s,t=Ph(e,s))),t===1)throw r=Tl,Da(e,0),_n(e,a),Ht(e,rt()),r;if(t===6)_n(e,a);else{if(s=e.current.alternate,!(a&30)&&!_T(s)&&(t=au(e,a),t===2&&(i=eh(e),i!==0&&(a=i,t=Ph(e,i))),t===1))throw r=Tl,Da(e,0),_n(e,a),Ht(e,rt()),r;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(Y(345));case 2:ga(e,Kt,an);break;case 3:if(_n(e,a),(a&130023424)===a&&(t=Jx+500-rt(),10<t)){if(Bc(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){Lt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=oh(ga.bind(null,e,Kt,an),t);break}ga(e,Kt,an);break;case 4:if(_n(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var l=31-Lr(a);i=1<<l,l=t[l],l>s&&(s=l),a&=~i}if(a=s,a=rt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*$T(a/1960))-a,10<a){e.timeoutHandle=oh(ga.bind(null,e,Kt,an),a);break}ga(e,Kt,an);break;case 5:ga(e,Kt,an);break;default:throw Error(Y(329))}}}return Ht(e,rt()),e.callbackNode===r?sS.bind(null,e):null}function Ph(e,t){var r=il;return e.current.memoizedState.isDehydrated&&(Da(e,t).flags|=256),e=au(e,t),e!==2&&(t=Kt,Kt=r,t!==null&&Th(t)),e}function Th(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function _T(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var s=r[a],i=s.getSnapshot;s=s.value;try{if(!qr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~Qx,t&=~Cd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Lr(t),a=1<<r;e[r]=-1,t&=~a}}function P0(e){if(Pe&6)throw Error(Y(327));Ps();var t=Bc(e,0);if(!(t&1))return Ht(e,rt()),null;var r=au(e,t);if(e.tag!==0&&r===2){var a=eh(e);a!==0&&(t=a,r=Ph(e,a))}if(r===1)throw r=Tl,Da(e,0),_n(e,t),Ht(e,rt()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ga(e,Kt,an),Ht(e,rt()),null}function Xx(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(Ls=rt()+500,jd&&sa())}}function Ba(e){Ln!==null&&Ln.tag===0&&!(Pe&6)&&Ps();var t=Pe;Pe|=1;var r=yr.transition,a=_e;try{if(yr.transition=null,_e=1,e)return e()}finally{_e=a,yr.transition=r,Pe=t,!(Pe&6)&&sa()}}function Yx(){Yt=vs.current,Ge(vs)}function Da(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mT(r)),st!==null)for(r=st.return;r!==null;){var a=r;switch(Ex(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&zc();break;case 3:Rs(),Ge(Vt),Ge($t),qx();break;case 5:Bx(a);break;case 4:Rs();break;case 13:Ge(Xe);break;case 19:Ge(Xe);break;case 10:_x(a.type._context);break;case 22:case 23:Yx()}r=r.return}if(vt=e,st=e=Jn(e.current,null),Ct=Yt=t,mt=0,Tl=null,Qx=Cd=La=0,Kt=il=null,Ca!==null){for(t=0;t<Ca.length;t++)if(r=Ca[t],a=r.interleaved,a!==null){r.interleaved=null;var s=a.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,a.next=l}r.pending=a}Ca=null}return e}function iS(e,t){do{var r=st;try{if($x(),Ac.current=eu,Zc){for(var a=Ye.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Zc=!1}if(Fa=0,gt=ut=Ye=null,al=!1,kl=0,Hx.current=null,r===null||r.return===null){mt=1,Tl=t,st=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Ct,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=p0(l);if(g!==null){g.flags&=-257,x0(g,l,o,i,t),g.mode&1&&h0(i,u,t),t=g,c=u;var b=t.updateQueue;if(b===null){var x=new Set;x.add(c),t.updateQueue=x}else b.add(c);break e}else{if(!(t&1)){h0(i,u,t),Zx();break e}c=Error(Y(426))}}else if(Qe&&o.mode&1){var j=p0(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),x0(j,l,o,i,t),Mx(Fs(c,o));break e}}i=c=Fs(c,o),mt!==4&&(mt=2),il===null?il=[i]:il.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var N=K1(i,c,t);o0(i,N);break e;case 1:o=c;var S=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hn===null||!Hn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var f=W1(i,o,t);o0(i,f);break e}}i=i.return}while(i!==null)}cS(r)}catch(p){t=p,st===r&&r!==null&&(st=r=r.return);continue}break}while(1)}function lS(){var e=tu.current;return tu.current=eu,e===null?eu:e}function Zx(){(mt===0||mt===3||mt===2)&&(mt=4),vt===null||!(La&268435455)&&!(Cd&268435455)||_n(vt,Ct)}function au(e,t){var r=Pe;Pe|=2;var a=lS();(vt!==e||Ct!==t)&&(an=null,Da(e,t));do try{RT();break}catch(s){iS(e,s)}while(1);if($x(),Pe=r,tu.current=a,st!==null)throw Error(Y(261));return vt=null,Ct=0,mt}function RT(){for(;st!==null;)oS(st)}function FT(){for(;st!==null&&!cP();)oS(st)}function oS(e){var t=dS(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?cS(e):st=t,Hx.current=null}function cS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=DT(r,t),r!==null){r.flags&=32767,st=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,st=null;return}}else if(r=AT(r,t,Yt),r!==null){st=r;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);mt===0&&(mt=5)}function ga(e,t,r){var a=_e,s=yr.transition;try{yr.transition=null,_e=1,LT(e,t,r,a)}finally{yr.transition=s,_e=a}return null}function LT(e,t,r,a){do Ps();while(Ln!==null);if(Pe&6)throw Error(Y(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(vP(e,i),e===vt&&(st=vt=null,Ct=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rc||(rc=!0,mS(Lc,function(){return Ps(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=yr.transition,yr.transition=null;var l=_e;_e=1;var o=Pe;Pe|=4,Hx.current=null,MT(e,r),nS(r,e),sT(ih),qc=!!sh,ih=sh=null,e.current=r,IT(r),uP(),Pe=o,_e=l,yr.transition=i}else e.current=r;if(rc&&(rc=!1,Ln=e,nu=s),i=e.pendingLanes,i===0&&(Hn=null),fP(r.stateNode),Ht(e,rt()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],a(s.value,{componentStack:s.stack,digest:s.digest});if(ru)throw ru=!1,e=kh,kh=null,e;return nu&1&&e.tag!==0&&Ps(),i=e.pendingLanes,i&1?e===Oh?ll++:(ll=0,Oh=e):ll=0,sa(),null}function Ps(){if(Ln!==null){var e=Kw(nu),t=yr.transition,r=_e;try{if(yr.transition=null,_e=16>e?16:e,Ln===null)var a=!1;else{if(e=Ln,Ln=null,nu=0,Pe&6)throw Error(Y(331));var s=Pe;for(Pe|=4,ce=e.current;ce!==null;){var i=ce,l=i.child;if(ce.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ce=u;ce!==null;){var h=ce;switch(h.tag){case 0:case 11:case 15:sl(8,h,i)}var d=h.child;if(d!==null)d.return=h,ce=d;else for(;ce!==null;){h=ce;var m=h.sibling,g=h.return;if(eS(h),h===u){ce=null;break}if(m!==null){m.return=g,ce=m;break}ce=g}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}ce=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ce=l;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sl(9,i,i.return)}var N=i.sibling;if(N!==null){N.return=i.return,ce=N;break e}ce=i.return}}var S=e.current;for(ce=S;ce!==null;){l=ce;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,ce=y;else e:for(l=S;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sd(9,o)}}catch(p){et(o,o.return,p)}if(o===l){ce=null;break e}var f=o.sibling;if(f!==null){f.return=o.return,ce=f;break e}ce=o.return}}if(Pe=s,sa(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(xd,e)}catch{}a=!0}return a}finally{_e=r,yr.transition=t}}return!1}function T0(e,t,r){t=Fs(r,t),t=K1(e,t,1),e=Gn(e,t,1),t=Lt(),e!==null&&(No(e,1,t),Ht(e,t))}function et(e,t,r){if(e.tag===3)T0(e,e,r);else for(;t!==null;){if(t.tag===3){T0(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Hn===null||!Hn.has(a))){e=Fs(r,e),e=W1(t,e,1),t=Gn(t,e,1),e=Lt(),t!==null&&(No(t,1,e),Ht(t,e));break}}t=t.return}}function BT(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&r,vt===e&&(Ct&r)===r&&(mt===4||mt===3&&(Ct&130023424)===Ct&&500>rt()-Jx?Da(e,0):Qx|=r),Ht(e,t)}function uS(e,t){t===0&&(e.mode&1?(t=Vo,Vo<<=1,!(Vo&130023424)&&(Vo=4194304)):t=1);var r=Lt();e=bn(e,t),e!==null&&(No(e,t,r),Ht(e,r))}function qT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uS(e,r)}function UT(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Y(314))}a!==null&&a.delete(t),uS(e,r)}var dS;dS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)Wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wt=!1,TT(e,t,r);Wt=!!(e.flags&131072)}else Wt=!1,Qe&&t.flags&1048576&&p1(t,Hc,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ec(e,t),e=t.pendingProps;var s=Is(t,$t.current);Os(t,r),s=Kx(null,t,a,e,s,r);var i=Wx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(a)?(i=!0,Vc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fx(t),s.updater=wd,t.stateNode=s,s._reactInternals=t,ph(t,a,e,r),t=gh(null,t,a,!0,i,r)):(t.tag=0,Qe&&i&&Dx(t),Rt(null,t,s,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Ec(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=WT(a),e=Tr(a,e),s){case 0:t=yh(null,t,a,e,r);break e;case 1:t=v0(null,t,a,e,r);break e;case 11:t=y0(null,t,a,e,r);break e;case 14:t=g0(null,t,a,Tr(a.type,e),r);break e}throw Error(Y(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Tr(a,s),yh(e,t,a,s,r);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Tr(a,s),v0(e,t,a,s,r);case 3:e:{if(H1(t),e===null)throw Error(Y(387));a=t.pendingProps,i=t.memoizedState,s=i.element,j1(e,t),Xc(t,a,null,r);var l=t.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fs(Error(Y(423)),t),t=b0(e,t,a,r,s);break e}else if(a!==s){s=Fs(Error(Y(424)),t),t=b0(e,t,a,r,s);break e}else for(tr=Vn(t.stateNode.containerInfo.firstChild),nr=t,Qe=!0,Ir=null,r=v1(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),a===s){t=jn(e,t,r);break e}Rt(e,t,a,r)}t=t.child}return t;case 5:return N1(t),e===null&&mh(t),a=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,lh(a,s)?l=null:i!==null&&lh(a,i)&&(t.flags|=32),G1(e,t),Rt(e,t,l,r),t.child;case 6:return e===null&&mh(t),null;case 13:return Q1(e,t,r);case 4:return Lx(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=_s(t,null,a,r):Rt(e,t,a,r),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Tr(a,s),y0(e,t,a,s,r);case 7:return Rt(e,t,t.pendingProps,r),t.child;case 8:return Rt(e,t,t.pendingProps.children,r),t.child;case 12:return Rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,Ke(Qc,a._currentValue),a._currentValue=l,i!==null)if(qr(i.value,l)){if(i.children===s.children&&!Vt.current){t=jn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=mn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),fh(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Y(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),fh(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Rt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Os(t,r),s=br(s),a=a(s),t.flags|=1,Rt(e,t,a,r),t.child;case 14:return a=t.type,s=Tr(a,t.pendingProps),s=Tr(a.type,s),g0(e,t,a,s,r);case 15:return z1(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Tr(a,s),Ec(e,t),t.tag=1,Gt(a)?(e=!0,Vc(t)):e=!1,Os(t,r),U1(t,a,s),ph(t,a,s,r),gh(null,t,a,!0,e,r);case 19:return J1(e,t,r);case 22:return V1(e,t,r)}throw Error(Y(156,t.tag))};function mS(e,t){return Lw(e,t)}function KT(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,t,r,a){return new KT(e,t,r,a)}function ey(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WT(e){if(typeof e=="function")return ey(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vx)return 11;if(e===bx)return 14}return 2}function Jn(e,t){var r=e.alternate;return r===null?(r=pr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $c(e,t,r,a,s,i){var l=2;if(a=e,typeof e=="function")ey(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case cs:return Ea(r.children,s,i,t);case gx:l=8,s|=8;break;case Lf:return e=pr(12,r,t,s|2),e.elementType=Lf,e.lanes=i,e;case Bf:return e=pr(13,r,t,s),e.elementType=Bf,e.lanes=i,e;case qf:return e=pr(19,r,t,s),e.elementType=qf,e.lanes=i,e;case Nw:return kd(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bw:l=10;break e;case jw:l=9;break e;case vx:l=11;break e;case bx:l=14;break e;case En:l=16,a=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=pr(l,r,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Ea(e,t,r,a){return e=pr(7,e,a,t),e.lanes=r,e}function kd(e,t,r,a){return e=pr(22,e,a,t),e.elementType=Nw,e.lanes=r,e.stateNode={isHidden:!1},e}function Qm(e,t,r){return e=pr(6,e,null,t),e.lanes=r,e}function Jm(e,t,r){return t=pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zT(e,t,r,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Am(0),this.expirationTimes=Am(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Am(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ty(e,t,r,a,s,i,l,o,c){return e=new zT(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=pr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fx(i),e}function VT(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function fS(e){if(!e)return ta;e=e._reactInternals;e:{if(Qa(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(Gt(r))return f1(e,r,t)}return t}function hS(e,t,r,a,s,i,l,o,c){return e=ty(r,a,!0,e,s,i,l,o,c),e.context=fS(null),r=e.current,a=Lt(),s=Qn(r),i=mn(a,s),i.callback=t??null,Gn(r,i,s),e.current.lanes=s,No(e,s,a),Ht(e,a),e}function Od(e,t,r,a){var s=t.current,i=Lt(),l=Qn(s);return r=fS(r),t.context===null?t.context=r:t.pendingContext=r,t=mn(i,l),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Gn(s,t,l),e!==null&&(Br(e,s,l,i),Tc(e,s,l)),l}function su(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function A0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ry(e,t){A0(e,t),(e=e.alternate)&&A0(e,t)}function GT(){return null}var pS=typeof reportError=="function"?reportError:function(e){console.error(e)};function ny(e){this._internalRoot=e}Pd.prototype.render=ny.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Od(e,t,null,null)};Pd.prototype.unmount=ny.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ba(function(){Od(null,e,null,null)}),t[vn]=null}};function Pd(e){this._internalRoot=e}Pd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&Hw(e)}};function ay(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Td(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function D0(){}function HT(e,t,r,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var u=su(l);i.call(u)}}var l=hS(t,a,e,0,null,!1,!1,"",D0);return e._reactRootContainer=l,e[vn]=l.current,jl(e.nodeType===8?e.parentNode:e),Ba(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var o=a;a=function(){var u=su(c);o.call(u)}}var c=ty(e,0,!1,null,null,!1,!1,"",D0);return e._reactRootContainer=c,e[vn]=c.current,jl(e.nodeType===8?e.parentNode:e),Ba(function(){Od(t,c,r,a)}),c}function Ad(e,t,r,a,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=su(l);o.call(c)}}Od(t,l,e,s)}else l=HT(r,t,e,s,a);return su(l)}Ww=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qi(t.pendingLanes);r!==0&&(wx(t,r|1),Ht(t,rt()),!(Pe&6)&&(Ls=rt()+500,sa()))}break;case 13:Ba(function(){var a=bn(e,1);if(a!==null){var s=Lt();Br(a,e,1,s)}}),ry(e,1)}};Sx=function(e){if(e.tag===13){var t=bn(e,134217728);if(t!==null){var r=Lt();Br(t,e,134217728,r)}ry(e,134217728)}};zw=function(e){if(e.tag===13){var t=Qn(e),r=bn(e,t);if(r!==null){var a=Lt();Br(r,e,t,a)}ry(e,t)}};Vw=function(){return _e};Gw=function(e,t){var r=_e;try{return _e=e,t()}finally{_e=r}};Xf=function(e,t,r){switch(t){case"input":if(Wf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=bd(a);if(!s)throw Error(Y(90));Sw(a),Wf(a,s)}}}break;case"textarea":kw(e,r);break;case"select":t=r.value,t!=null&&ws(e,!!r.multiple,t,!1)}};Mw=Xx;Iw=Ba;var QT={usingClientEntryPoint:!1,Events:[So,fs,bd,Dw,Ew,Xx]},Ii={findFiberByHostInstance:Sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JT={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance||GT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{xd=nc.inject(JT),Hr=nc}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QT;lr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ay(t))throw Error(Y(200));return VT(e,t,null,r)};lr.createRoot=function(e,t){if(!ay(e))throw Error(Y(299));var r=!1,a="",s=pS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ty(e,1,!1,null,null,r,!1,a,s),e[vn]=t.current,jl(e.nodeType===8?e.parentNode:e),new ny(t)};lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Rw(t),e=e===null?null:e.stateNode,e};lr.flushSync=function(e){return Ba(e)};lr.hydrate=function(e,t,r){if(!Td(t))throw Error(Y(200));return Ad(null,e,t,!0,r)};lr.hydrateRoot=function(e,t,r){if(!ay(e))throw Error(Y(405));var a=r!=null&&r.hydratedSources||null,s=!1,i="",l=pS;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=hS(t,null,e,1,r??null,s,!1,i,l),e[vn]=t.current,jl(e),a)for(e=0;e<a.length;e++)r=a[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Pd(t)};lr.render=function(e,t,r){if(!Td(t))throw Error(Y(200));return Ad(null,e,t,!1,r)};lr.unmountComponentAtNode=function(e){if(!Td(e))throw Error(Y(40));return e._reactRootContainer?(Ba(function(){Ad(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};lr.unstable_batchedUpdates=Xx;lr.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Td(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Ad(e,t,r,!1,a)};lr.version="18.3.1-next-f1338f8080-20240426";function xS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xS)}catch(e){console.error(e)}}xS(),xw.exports=lr;var XT=xw.exports,E0=XT;Rf.createRoot=E0.createRoot,Rf.hydrateRoot=E0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Al.apply(this,arguments)}var Bn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bn||(Bn={}));const M0="popstate";function YT(e){e===void 0&&(e={});function t(s,i){let{pathname:l="/",search:o="",hash:c=""}=Ja(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ah("",{pathname:l,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let l=s.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");o=u===-1?c:c.slice(0,u)}return o+"#"+(typeof i=="string"?i:iu(i))}function a(s,i){sy(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return e4(t,r,a,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZT(){return Math.random().toString(36).substr(2,8)}function I0(e,t){return{usr:e.state,key:e.key,idx:t}}function Ah(e,t,r,a){return r===void 0&&(r=null),Al({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ja(t):t,{state:r,key:t&&t.key||a||ZT()})}function iu(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ja(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function e4(e,t,r,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,l=s.history,o=Bn.Pop,c=null,u=h();u==null&&(u=0,l.replaceState(Al({},l.state,{idx:u}),""));function h(){return(l.state||{idx:null}).idx}function d(){o=Bn.Pop;let j=h(),N=j==null?null:j-u;u=j,c&&c({action:o,location:x.location,delta:N})}function m(j,N){o=Bn.Push;let S=Ah(x.location,j,N);r&&r(S,j),u=h()+1;let y=I0(S,u),f=x.createHref(S);try{l.pushState(y,"",f)}catch(p){if(p instanceof DOMException&&p.name==="DataCloneError")throw p;s.location.assign(f)}i&&c&&c({action:o,location:x.location,delta:1})}function g(j,N){o=Bn.Replace;let S=Ah(x.location,j,N);r&&r(S,j),u=h();let y=I0(S,u),f=x.createHref(S);l.replaceState(y,"",f),i&&c&&c({action:o,location:x.location,delta:0})}function b(j){let N=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof j=="string"?j:iu(j);return S=S.replace(/ $/,"%20"),it(N,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,N)}let x={get action(){return o},get location(){return e(s,l)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(M0,d),c=j,()=>{s.removeEventListener(M0,d),c=null}},createHref(j){return t(s,j)},createURL:b,encodeLocation(j){let N=b(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:g,go(j){return l.go(j)}};return x}var $0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($0||($0={}));function t4(e,t,r){return r===void 0&&(r="/"),r4(e,t,r,!1)}function r4(e,t,r,a){let s=typeof t=="string"?Ja(t):t,i=iy(s.pathname||"/",r);if(i==null)return null;let l=yS(e);n4(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=h4(i);o=m4(l[c],u,a)}return o}function yS(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(it(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=Xn([a,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yS(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:u4(u,i.index),routesMeta:h})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of gS(i.path))s(i,l,c)}),t}function gS(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let l=gS(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function n4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:d4(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const a4=/^:[\w-]+$/,s4=3,i4=2,l4=1,o4=10,c4=-2,_0=e=>e==="*";function u4(e,t){let r=e.split("/"),a=r.length;return r.some(_0)&&(a+=c4),t&&(a+=i4),r.filter(s=>!_0(s)).reduce((s,i)=>s+(a4.test(i)?s4:i===""?l4:o4),a)}function d4(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function m4(e,t,r){r===void 0&&(r=!1);let{routesMeta:a}=e,s={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],u=o===a.length-1,h=i==="/"?t:t.slice(i.length)||"/",d=R0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!d&&u&&r&&!a[a.length-1].route.index&&(d=R0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!d)return null;Object.assign(s,d.params),l.push({params:s,pathname:Xn([i,d.pathname]),pathnameBase:g4(Xn([i,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(i=Xn([i,d.pathnameBase]))}return l}function R0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=f4(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:a.reduce((u,h,d)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let x=o[d]||"";l=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const b=o[d];return g&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function f4(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),sy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function h4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function iy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function p4(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?Ja(e):e;return{pathname:r?r.startsWith("/")?r:x4(r,t):t,search:v4(a),hash:b4(s)}}function x4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Xm(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vS(e,t){let r=y4(e);return t?r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function bS(e,t,r,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=Ja(e):(s=Al({},e),it(!s.pathname||!s.pathname.includes("?"),Xm("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),Xm("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),Xm("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=r;else{let d=t.length-1;if(!a&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),d-=1;s.pathname=m.join("/")}o=d>=0?t[d]:"/"}let c=p4(s,o),u=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Xn=e=>e.join("/").replace(/\/\/+/g,"/"),g4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,b4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function j4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jS=["post","put","patch","delete"];new Set(jS);const N4=["get",...jS];new Set(N4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dl.apply(this,arguments)}const ly=C.createContext(null),w4=C.createContext(null),Xa=C.createContext(null),Dd=C.createContext(null),ia=C.createContext({outlet:null,matches:[],isDataRoute:!1}),NS=C.createContext(null);function S4(e,t){let{relative:r}=t===void 0?{}:t;ko()||it(!1);let{basename:a,navigator:s}=C.useContext(Xa),{hash:i,pathname:l,search:o}=SS(e,{relative:r}),c=l;return a!=="/"&&(c=l==="/"?a:Xn([a,l])),s.createHref({pathname:c,search:o,hash:i})}function ko(){return C.useContext(Dd)!=null}function wr(){return ko()||it(!1),C.useContext(Dd).location}function wS(e){C.useContext(Xa).static||C.useLayoutEffect(e)}function ye(){let{isDataRoute:e}=C.useContext(ia);return e?R4():C4()}function C4(){ko()||it(!1);let e=C.useContext(ly),{basename:t,future:r,navigator:a}=C.useContext(Xa),{matches:s}=C.useContext(ia),{pathname:i}=wr(),l=JSON.stringify(vS(s,r.v7_relativeSplatPath)),o=C.useRef(!1);return wS(()=>{o.current=!0}),C.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){a.go(u);return}let d=bS(u,JSON.parse(l),i,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Xn([t,d.pathname])),(h.replace?a.replace:a.push)(d,h.state,h)},[t,a,l,i,e])}function la(){let{matches:e}=C.useContext(ia),t=e[e.length-1];return t?t.params:{}}function SS(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=C.useContext(Xa),{matches:s}=C.useContext(ia),{pathname:i}=wr(),l=JSON.stringify(vS(s,a.v7_relativeSplatPath));return C.useMemo(()=>bS(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function k4(e,t){return O4(e,t)}function O4(e,t,r,a){ko()||it(!1);let{navigator:s}=C.useContext(Xa),{matches:i}=C.useContext(ia),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=wr(),h;if(t){var d;let j=typeof t=="string"?Ja(t):t;c==="/"||(d=j.pathname)!=null&&d.startsWith(c)||it(!1),h=j}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let j=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=t4(e,{pathname:g}),x=E4(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Xn([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Xn([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,a);return t&&x?C.createElement(Dd.Provider,{value:{location:Dl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Bn.Pop}},x):x}function P4(){let e=_4(),t=j4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:s},r):null,i)}const T4=C.createElement(P4,null);class A4 extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(ia.Provider,{value:this.props.routeContext},C.createElement(NS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D4(e){let{routeContext:t,match:r,children:a}=e,s=C.useContext(ly);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(ia.Provider,{value:t},a)}function E4(e,t,r,a){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let h=l.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||it(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let h=0;h<l.length;h++){let d=l[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:g}=r,b=d.route.loader&&m[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||b){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((h,d,m)=>{let g,b=!1,x=null,j=null;r&&(g=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||T4,c&&(u<0&&m===0?(F4("route-fallback",!1),b=!0,j=null):u===m&&(b=!0,j=d.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,m+1)),S=()=>{let y;return g?y=x:b?y=j:d.route.Component?y=C.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=h,C.createElement(D4,{match:d,routeContext:{outlet:h,matches:N,isDataRoute:r!=null},children:y})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?C.createElement(A4,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):S()},null)}var CS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(CS||{}),lu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lu||{});function M4(e){let t=C.useContext(ly);return t||it(!1),t}function I4(e){let t=C.useContext(w4);return t||it(!1),t}function $4(e){let t=C.useContext(ia);return t||it(!1),t}function kS(e){let t=$4(),r=t.matches[t.matches.length-1];return r.route.id||it(!1),r.route.id}function _4(){var e;let t=C.useContext(NS),r=I4(lu.UseRouteError),a=kS(lu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function R4(){let{router:e}=M4(CS.UseNavigateStable),t=kS(lu.UseNavigateStable),r=C.useRef(!1);return wS(()=>{r.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Dl({fromRouteId:t},i)))},[e,t])}const F0={};function F4(e,t,r){!t&&!F0[e]&&(F0[e]=!0)}function L4(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function oe(e){it(!1)}function B4(e){let{basename:t="/",children:r=null,location:a,navigationType:s=Bn.Pop,navigator:i,static:l=!1,future:o}=e;ko()&&it(!1);let c=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:i,static:l,future:Dl({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof a=="string"&&(a=Ja(a));let{pathname:h="/",search:d="",hash:m="",state:g=null,key:b="default"}=a,x=C.useMemo(()=>{let j=iy(h,c);return j==null?null:{location:{pathname:j,search:d,hash:m,state:g,key:b},navigationType:s}},[c,h,d,m,g,b,s]);return x==null?null:C.createElement(Xa.Provider,{value:u},C.createElement(Dd.Provider,{children:r,value:x}))}function q4(e){let{children:t,location:r}=e;return k4(Dh(t),r)}new Promise(()=>{});function Dh(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(a,s)=>{if(!C.isValidElement(a))return;let i=[...t,s];if(a.type===C.Fragment){r.push.apply(r,Dh(a.props.children,i));return}a.type!==oe&&it(!1),!a.props.index||!a.props.children||it(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=Dh(a.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Eh.apply(this,arguments)}function U4(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function K4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function W4(e,t){return e.button===0&&(!t||t==="_self")&&!K4(e)}const z4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V4="6";try{window.__reactRouterVersion=V4}catch{}const G4="startTransition",L0=BO[G4];function H4(e){let{basename:t,children:r,future:a,window:s}=e,i=C.useRef();i.current==null&&(i.current=YT({window:s,v5Compat:!0}));let l=i.current,[o,c]=C.useState({action:l.action,location:l.location}),{v7_startTransition:u}=a||{},h=C.useCallback(d=>{u&&L0?L0(()=>c(d)):c(d)},[c,u]);return C.useLayoutEffect(()=>l.listen(h),[l,h]),C.useEffect(()=>L4(a),[a]),C.createElement(B4,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:a})}const Q4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ns=C.forwardRef(function(t,r){let{onClick:a,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,m=U4(t,z4),{basename:g}=C.useContext(Xa),b,x=!1;if(typeof u=="string"&&J4.test(u)&&(b=u,Q4))try{let y=new URL(window.location.href),f=u.startsWith("//")?new URL(y.protocol+u):new URL(u),p=iy(f.pathname,g);f.origin===y.origin&&p!=null?u=p+f.search+f.hash:x=!0}catch{}let j=S4(u,{relative:s}),N=X4(u,{replace:l,state:o,target:c,preventScrollReset:h,relative:s,viewTransition:d});function S(y){a&&a(y),y.defaultPrevented||N(y)}return C.createElement("a",Eh({},m,{href:b||j,onClick:x||i?a:S,ref:r,target:c}))});var B0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(B0||(B0={}));var q0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(q0||(q0={}));function X4(e,t){let{target:r,replace:a,state:s,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=ye(),u=wr(),h=SS(e,{relative:l});return C.useCallback(d=>{if(W4(d,r)){d.preventDefault();let m=a!==void 0?a:iu(u)===iu(h);c(e,{replace:m,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,h,a,s,r,e,i,l,o])}var OS={exports:{}},PS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=C;function Y4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Z4=typeof Object.is=="function"?Object.is:Y4,eA=Oo.useSyncExternalStore,tA=Oo.useRef,rA=Oo.useEffect,nA=Oo.useMemo,aA=Oo.useDebugValue;PS.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var i=tA(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=nA(function(){function c(g){if(!u){if(u=!0,h=g,g=a(g),s!==void 0&&l.hasValue){var b=l.value;if(s(b,g))return d=b}return d=g}if(b=d,Z4(h,g))return b;var x=a(g);return s!==void 0&&s(b,x)?(h=g,b):(h=g,d=x)}var u=!1,h,d,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,a,s]);var o=eA(e,i[0],i[1]);return rA(function(){l.hasValue=!0,l.value=o},[o]),aA(o),o};OS.exports=PS;var sA=OS.exports;function iA(e){e()}function lA(){let e=null,t=null;return{clear(){e=null,t=null},notify(){iA(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var U0={notify(){},get:()=>[]};function oA(e,t){let r,a=U0,s=0,i=!1;function l(x){h();const j=a.subscribe(x);let N=!1;return()=>{N||(N=!0,j(),d())}}function o(){a.notify()}function c(){b.onStateChange&&b.onStateChange()}function u(){return i}function h(){s++,r||(r=t?t.addNestedSub(c):e.subscribe(c),a=lA())}function d(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=U0)}function m(){i||(i=!0,h())}function g(){i&&(i=!1,d())}const b={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>a};return b}var cA=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uA=cA(),dA=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mA=dA(),fA=()=>uA||mA?C.useLayoutEffect:C.useEffect,hA=fA(),Ym=Symbol.for("react-redux-context"),Zm=typeof globalThis<"u"?globalThis:{};function pA(){if(!C.createContext)return{};const e=Zm[Ym]??(Zm[Ym]=new Map);let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var ra=pA();function xA(e){const{children:t,context:r,serverState:a,store:s}=e,i=C.useMemo(()=>{const c=oA(s);return{store:s,subscription:c,getServerState:a?()=>a:void 0}},[s,a]),l=C.useMemo(()=>s.getState(),[s]);hA(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=r||ra;return C.createElement(o.Provider,{value:i},t)}var yA=xA;function oy(e=ra){return function(){return C.useContext(e)}}var TS=oy();function AS(e=ra){const t=e===ra?TS:oy(e),r=()=>{const{store:a}=t();return a};return Object.assign(r,{withTypes:()=>r}),r}var gA=AS();function vA(e=ra){const t=e===ra?gA:AS(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var bA=vA(),jA=(e,t)=>e===t;function NA(e=ra){const t=e===ra?TS:oy(e),r=(a,s={})=>{const{equalityFn:i=jA}=typeof s=="function"?{equalityFn:s}:s,l=t(),{store:o,subscription:c,getServerState:u}=l;C.useRef(!0);const h=C.useCallback({[a.name](m){return a(m)}}[a.name],[a]),d=sA.useSyncExternalStoreWithSelector(c.addNestedSub,o.getState,u||o.getState,h,i);return C.useDebugValue(d),d};return Object.assign(r,{withTypes:()=>r}),r}var wA=NA();function jt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var SA=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),K0=SA,ef=()=>Math.random().toString(36).substring(7).split("").join("."),CA={INIT:`@@redux/INIT${ef()}`,REPLACE:`@@redux/REPLACE${ef()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ef()}`},ou=CA;function cy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function DS(e,t,r){if(typeof e!="function")throw new Error(jt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(jt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(jt(1));return r(DS)(e,t)}let a=e,s=t,i=new Map,l=i,o=0,c=!1;function u(){l===i&&(l=new Map,i.forEach((j,N)=>{l.set(N,j)}))}function h(){if(c)throw new Error(jt(3));return s}function d(j){if(typeof j!="function")throw new Error(jt(4));if(c)throw new Error(jt(5));let N=!0;u();const S=o++;return l.set(S,j),function(){if(N){if(c)throw new Error(jt(6));N=!1,u(),l.delete(S),i=null}}}function m(j){if(!cy(j))throw new Error(jt(7));if(typeof j.type>"u")throw new Error(jt(8));if(typeof j.type!="string")throw new Error(jt(17));if(c)throw new Error(jt(9));try{c=!0,s=a(s,j)}finally{c=!1}return(i=l).forEach(S=>{S()}),j}function g(j){if(typeof j!="function")throw new Error(jt(10));a=j,m({type:ou.REPLACE})}function b(){const j=d;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(jt(11));function S(){const f=N;f.next&&f.next(h())}return S(),{unsubscribe:j(S)}},[K0](){return this}}}return m({type:ou.INIT}),{dispatch:m,subscribe:d,getState:h,replaceReducer:g,[K0]:b}}function kA(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ou.INIT})>"u")throw new Error(jt(12));if(typeof r(void 0,{type:ou.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jt(13))})}function OA(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const a=Object.keys(r);let s;try{kA(r)}catch(i){s=i}return function(l={},o){if(s)throw s;let c=!1;const u={};for(let h=0;h<a.length;h++){const d=a[h],m=r[d],g=l[d],b=m(g,o);if(typeof b>"u")throw o&&o.type,new Error(jt(14));u[d]=b,c=c||b!==g}return c=c||a.length!==Object.keys(l).length,c?u:l}}function cu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function PA(...e){return t=>(r,a)=>{const s=t(r,a);let i=()=>{throw new Error(jt(15))};const l={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(l));return i=cu(...o)(s.dispatch),{...s,dispatch:i}}}function TA(e){return cy(e)&&"type"in e&&typeof e.type=="string"}var ES=Symbol.for("immer-nothing"),W0=Symbol.for("immer-draftable"),sr=Symbol.for("immer-state");function _r(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bs=Object.getPrototypeOf;function qa(e){return!!e&&!!e[sr]}function Nn(e){var t;return e?MS(e)||Array.isArray(e)||!!e[W0]||!!((t=e.constructor)!=null&&t[W0])||Po(e)||Md(e):!1}var AA=Object.prototype.constructor.toString();function MS(e){if(!e||typeof e!="object")return!1;const t=Bs(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===AA}function uu(e,t){Ed(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Ed(e){const t=e[sr];return t?t.type_:Array.isArray(e)?1:Po(e)?2:Md(e)?3:0}function Mh(e,t){return Ed(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IS(e,t,r){const a=Ed(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function DA(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Po(e){return e instanceof Map}function Md(e){return e instanceof Set}function va(e){return e.copy_||e.base_}function Ih(e,t){if(Po(e))return new Map(e);if(Md(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=MS(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[sr];let s=Reflect.ownKeys(a);for(let i=0;i<s.length;i++){const l=s[i],o=a[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(a[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(Bs(e),a)}else{const a=Bs(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function uy(e,t=!1){return Id(e)||qa(e)||!Nn(e)||(Ed(e)>1&&Object.defineProperties(e,{set:{value:ac},add:{value:ac},clear:{value:ac},delete:{value:ac}}),Object.freeze(e),t&&Object.values(e).forEach(r=>uy(r,!0))),e}function ac(){_r(2)}function Id(e){return Object.isFrozen(e)}var EA={};function Ua(e){const t=EA[e];return t||_r(0,e),t}var El;function $S(){return El}function MA(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function z0(e,t){t&&(Ua("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $h(e){_h(e),e.drafts_.forEach(IA),e.drafts_=null}function _h(e){e===El&&(El=e.parent_)}function V0(e){return El=MA(El,e)}function IA(e){const t=e[sr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function G0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[sr].modified_&&($h(t),_r(4)),Nn(e)&&(e=du(t,e),t.parent_||mu(t,e)),t.patches_&&Ua("Patches").generateReplacementPatches_(r[sr].base_,e,t.patches_,t.inversePatches_)):e=du(t,r,[]),$h(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ES?e:void 0}function du(e,t,r){if(Id(t))return t;const a=t[sr];if(!a)return uu(t,(s,i)=>H0(e,a,t,s,i,r)),t;if(a.scope_!==e)return t;if(!a.modified_)return mu(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,l=!1;a.type_===3&&(i=new Set(s),s.clear(),l=!0),uu(i,(o,c)=>H0(e,a,s,o,c,r,l)),mu(e,s,!1),r&&e.patches_&&Ua("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function H0(e,t,r,a,s,i,l){if(qa(s)){const o=i&&t&&t.type_!==3&&!Mh(t.assigned_,a)?i.concat(a):void 0,c=du(e,s,o);if(IS(r,a,c),qa(c))e.canAutoFreeze_=!1;else return}else l&&r.add(s);if(Nn(s)&&!Id(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;du(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(Po(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&mu(e,s)}}function mu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uy(t,r)}function $A(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:$S(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,i=dy;r&&(s=[a],i=Ml);const{revoke:l,proxy:o}=Proxy.revocable(s,i);return a.draft_=o,a.revoke_=l,o}var dy={get(e,t){if(t===sr)return e;const r=va(e);if(!Mh(r,t))return _A(e,r,t);const a=r[t];return e.finalized_||!Nn(a)?a:a===tf(e.base_,t)?(rf(e),e.copy_[t]=Fh(a,e)):a},has(e,t){return t in va(e)},ownKeys(e){return Reflect.ownKeys(va(e))},set(e,t,r){const a=_S(va(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=tf(va(e),t),i=s==null?void 0:s[sr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(DA(r,s)&&(r!==void 0||Mh(e.base_,t)))return!0;rf(e),Rh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return tf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,rf(e),Rh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=va(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){_r(11)},getPrototypeOf(e){return Bs(e.base_)},setPrototypeOf(){_r(12)}},Ml={};uu(dy,(e,t)=>{Ml[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ml.deleteProperty=function(e,t){return Ml.set.call(this,e,t,void 0)};Ml.set=function(e,t,r){return dy.set.call(this,e[0],t,r,e[0])};function tf(e,t){const r=e[sr];return(r?va(r):e)[t]}function _A(e,t,r){var s;const a=_S(t,r);return a?"value"in a?a.value:(s=a.get)==null?void 0:s.call(e.draft_):void 0}function _S(e,t){if(!(t in e))return;let r=Bs(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Bs(r)}}function Rh(e){e.modified_||(e.modified_=!0,e.parent_&&Rh(e.parent_))}function rf(e){e.copy_||(e.copy_=Ih(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var RA=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(c=i,...u){return l.produce(c,h=>r.call(this,h,...u))}}typeof r!="function"&&_r(6),a!==void 0&&typeof a!="function"&&_r(7);let s;if(Nn(t)){const i=V0(this),l=Fh(t,void 0);let o=!0;try{s=r(l),o=!1}finally{o?$h(i):_h(i)}return z0(i,a),G0(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===ES&&(s=void 0),this.autoFreeze_&&uy(s,!0),a){const i=[],l=[];Ua("Patches").generateReplacementPatches_(t,s,i,l),a(i,l)}return s}else _r(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let a,s;return[this.produce(t,r,(l,o)=>{a=l,s=o}),a,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Nn(e)||_r(8),qa(e)&&(e=FA(e));const t=V0(this),r=Fh(e,void 0);return r[sr].isManual_=!0,_h(t),r}finishDraft(e,t){const r=e&&e[sr];(!r||!r.isManual_)&&_r(9);const{scope_:a}=r;return z0(a,t),G0(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=Ua("Patches").applyPatches_;return qa(e)?a(e,t):this.produce(e,s=>a(s,t))}};function Fh(e,t){const r=Po(e)?Ua("MapSet").proxyMap_(e,t):Md(e)?Ua("MapSet").proxySet_(e,t):$A(e,t);return(t?t.scope_:$S()).drafts_.push(r),r}function FA(e){return qa(e)||_r(10,e),RS(e)}function RS(e){if(!Nn(e)||Id(e))return e;const t=e[sr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ih(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ih(e,!0);return uu(r,(a,s)=>{IS(r,a,RS(s))}),t&&(t.finalized_=!1),r}var LA=new RA,FS=LA.produce;function LS(e){return({dispatch:r,getState:a})=>s=>i=>typeof i=="function"?i(r,a,e):s(i)}var BA=LS(),qA=LS,UA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cu:cu.apply(null,arguments)};function Q0(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(fn(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>TA(a)&&a.type===e,r}var BS=class Xi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Xi.prototype)}static get[Symbol.species](){return Xi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Xi(...t[0].concat(this)):new Xi(...t.concat(this))}};function J0(e){return Nn(e)?FS(e,()=>{}):e}function sc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function KA(e){return typeof e=="boolean"}var WA=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let l=new BS;return r&&(KA(r)?l.push(BA):l.push(qA(r.extraArgument))),l},zA="RTK_autoBatch",X0=e=>t=>{setTimeout(t,e)},VA=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:X0(10):e.type==="callback"?e.queueNotification:X0(e.timeout),u=()=>{l=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const d=()=>s&&h(),m=a.subscribe(d);return o.add(h),()=>{m(),o.delete(h)}},dispatch(h){var d;try{return s=!((d=h==null?void 0:h.meta)!=null&&d[zA]),i=!s,i&&(l||(l=!0,c(u))),a.dispatch(h)}finally{s=!0}}})},GA=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new BS(e);return a&&s.push(VA(typeof a=="object"?a:void 0)),s};function HA(e){const t=WA(),{reducer:r=void 0,middleware:a,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:l=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(cy(r))c=OA(r);else throw new Error(fn(1));let u;typeof a=="function"?u=a(t):u=t();let h=cu;s&&(h=UA({trace:!1,...typeof s=="object"&&s}));const d=PA(...u),m=GA(d);let g=typeof o=="function"?o(m):m();const b=h(...g);return DS(c,l,b)}function qS(e){const t={},r=[];let a;const s={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(fn(28));if(o in t)throw new Error(fn(29));return t[o]=l,s},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),s},addMatcher(i,l){return r.push({matcher:i,reducer:l}),s},addDefaultCase(i){return a=i,s}};return e(s),[t,r,a]}function QA(e){return typeof e=="function"}function JA(e,t){let[r,a,s]=qS(t),i;if(QA(e))i=()=>J0(e());else{const o=J0(e);i=()=>o}function l(o=i(),c){let u=[r[c.type],...a.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[s]),u.reduce((h,d)=>{if(d)if(qa(h)){const g=d(h,c);return g===void 0?h:g}else{if(Nn(h))return FS(h,m=>d(m,c));{const m=d(h,c);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},o)}return l.getInitialState=i,l}var XA=Symbol.for("rtk-slice-createasyncthunk");function YA(e,t){return`${e}/${t}`}function ZA({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[XA];return function(s){const{name:i,reducerPath:l=i}=s;if(!i)throw new Error(fn(11));typeof process<"u";const o=(typeof s.reducers=="function"?s.reducers(rD()):s.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(f,p){const v=typeof f=="string"?f:f.type;if(!v)throw new Error(fn(12));if(v in u.sliceCaseReducersByType)throw new Error(fn(13));return u.sliceCaseReducersByType[v]=p,h},addMatcher(f,p){return u.sliceMatchers.push({matcher:f,reducer:p}),h},exposeAction(f,p){return u.actionCreators[f]=p,h},exposeCaseReducer(f,p){return u.sliceCaseReducersByName[f]=p,h}};c.forEach(f=>{const p=o[f],v={reducerName:f,type:YA(i,f),createNotation:typeof s.reducers=="function"};aD(p)?iD(v,p,h,t):nD(v,p,h)});function d(){const[f={},p=[],v=void 0]=typeof s.extraReducers=="function"?qS(s.extraReducers):[s.extraReducers],w={...f,...u.sliceCaseReducersByType};return JA(s.initialState,k=>{for(let P in w)k.addCase(P,w[P]);for(let P of u.sliceMatchers)k.addMatcher(P.matcher,P.reducer);for(let P of p)k.addMatcher(P.matcher,P.reducer);v&&k.addDefaultCase(v)})}const m=f=>f,g=new Map,b=new WeakMap;let x;function j(f,p){return x||(x=d()),x(f,p)}function N(){return x||(x=d()),x.getInitialState()}function S(f,p=!1){function v(k){let P=k[f];return typeof P>"u"&&p&&(P=sc(b,v,N)),P}function w(k=m){const P=sc(g,p,()=>new WeakMap);return sc(P,k,()=>{const A={};for(const[D,O]of Object.entries(s.selectors??{}))A[D]=eD(O,k,()=>sc(b,k,N),p);return A})}return{reducerPath:f,getSelectors:w,get selectors(){return w(v)},selectSlice:v}}const y={name:i,reducer:j,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:N,...S(l),injectInto(f,{reducerPath:p,...v}={}){const w=p??l;return f.inject({reducerPath:w,reducer:j},v),{...y,...S(w,!0)}}};return y}}function eD(e,t,r,a){function s(i,...l){let o=t(i);return typeof o>"u"&&a&&(o=r()),e(o,...l)}return s.unwrapped=e,s}var tD=ZA();function rD(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function nD({type:e,reducerName:t,createNotation:r},a,s){let i,l;if("reducer"in a){if(r&&!sD(a))throw new Error(fn(17));i=a.reducer,l=a.prepare}else i=a;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Q0(e,l):Q0(e))}function aD(e){return e._reducerDefinitionType==="asyncThunk"}function sD(e){return e._reducerDefinitionType==="reducerWithPrepare"}function iD({type:e,reducerName:t},r,a,s){if(!s)throw new Error(fn(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:u,options:h}=r,d=s(e,i,h);a.exposeAction(t,d),l&&a.addCase(d.fulfilled,l),o&&a.addCase(d.pending,o),c&&a.addCase(d.rejected,c),u&&a.addMatcher(d.settled,u),a.exposeCaseReducer(t,{fulfilled:l||ic,pending:o||ic,rejected:c||ic,settled:u||ic})}function ic(){}function fn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const lD={rawMaterials:[],loading:!1,error:null},oD=()=>{try{const e=localStorage.getItem("rawMaterials");if(e)return JSON.parse(e)}catch(e){console.error("Error loading from localStorage:",e)}return[{id:"rm-001",materialCode:"10001",materialName:"Bhujia",description:"Traditional Indian snack",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-002",materialCode:"10002",materialName:"Bran Flakes",description:"Healthy breakfast cereal",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-003",materialCode:"10003",materialName:"Bread Improver",description:"Baking ingredient for better bread",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-004",materialCode:"10004",materialName:"Caramel Syrup",description:"Sweet syrup for beverages",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"rm-005",materialCode:"10005",materialName:"Cocoa Powder",description:"Chocolate powder for baking",category:"Bakery",unitOfMeasure:"kg",unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"}]},cD=oD(),US=tD({name:"inventory",initialState:{...lD,rawMaterials:cD},reducers:{setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},setRawMaterials:(e,t)=>{e.rawMaterials=t.payload;try{localStorage.setItem("rawMaterials",JSON.stringify(t.payload))}catch(r){console.error("Error saving to localStorage:",r)}},addRawMaterial:(e,t)=>{e.rawMaterials.push(t.payload);try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(r){console.error("Error saving to localStorage:",r)}},updateRawMaterial:(e,t)=>{const r=e.rawMaterials.findIndex(a=>a.id===t.payload.id);if(r!==-1){e.rawMaterials[r]=t.payload;try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(a){console.error("Error saving to localStorage:",a)}}},deleteRawMaterial:(e,t)=>{e.rawMaterials=e.rawMaterials.filter(r=>r.id!==t.payload);try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(r){console.error("Error saving to localStorage:",r)}},importRawMaterials:(e,t)=>{const r=t.payload,s=[...e.rawMaterials];r.forEach(i=>{const l=s.findIndex(o=>o.materialCode===i.materialCode);l!==-1?s[l]={...s[l],materialName:i.materialName,description:i.description,category:i.category,unitOfMeasure:i.unitOfMeasure,updatedAt:new Date().toISOString()}:s.push(i)}),e.rawMaterials=s;try{localStorage.setItem("rawMaterials",JSON.stringify(e.rawMaterials))}catch(i){console.error("Error saving to localStorage:",i)}},clearRawMaterials:e=>{e.rawMaterials=[];try{localStorage.removeItem("rawMaterials")}catch(t){console.error("Error clearing localStorage:",t)}}}}),{setLoading:YZ,setError:ZZ,setRawMaterials:eee,addRawMaterial:tee,updateRawMaterial:ree,deleteRawMaterial:nee,importRawMaterials:uD,clearRawMaterials:aee}=US.actions,dD=US.reducer,mD=HA({reducer:{inventory:dD}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(e,t)=>{const r=C.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},h)=>C.createElement("svg",{ref:h,...fD,width:s,height:s,stroke:a,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${hD(e)}`,o].join(" "),...u},[...t.map(([d,m])=>C.createElement(d,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=he("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=he("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=he("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=he("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=he("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=he("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=he("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=he("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=he("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=he("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=he("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=he("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=he("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=he("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=he("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=he("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=he("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=he("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Y0=[{name:"Dashboard",href:"/dashboard",icon:bD},{name:"Recipe Master",href:"/bill-of-materials",icon:vD},{name:"Central Kitchen",icon:rr,hasDropdown:!0,children:[{name:"Raw Material Inventory",href:"/central-kitchen/raw-materials",icon:xe},{name:"Finished Good Inventory",href:"/central-kitchen/finished-goods",icon:ba},{name:"Make Finished Good",href:"/central-kitchen/make-finished-good",icon:pu},{name:"Create Transfer",href:"/central-kitchen/create-transfer",icon:kt}]},{name:"Outlets",icon:rr,hasDropdown:!0,children:[{name:"Kuwait City",icon:rr,hasDropdown:!0,children:[{name:"POS Sales",href:"/downtown-restaurant/sales-orders",icon:dt},{name:"Raw Material Inventory",href:"/downtown-restaurant/raw-materials",icon:xe},{name:"Finished Goods Inventory",href:"/downtown-restaurant/finished-goods",icon:ba}]},{name:"360 Mall",icon:_l,hasDropdown:!0,children:[{name:"POS Sales",href:"/mall-food-court/sales-orders",icon:dt},{name:"Raw Material Inventory",href:"/mall-food-court/raw-materials",icon:xe},{name:"Finished Goods Inventory",href:"/mall-food-court/finished-goods",icon:ba}]},{name:"Vibes Complex",icon:$l,hasDropdown:!0,children:[{name:"POS Sales",href:"/marina-walk-cafe/sales-orders",icon:dt},{name:"Raw Material Inventory",href:"/marina-walk-cafe/raw-materials",icon:xe},{name:"Finished Goods Inventory",href:"/marina-walk-cafe/finished-goods",icon:ba}]},{name:"Taiba Hospital",icon:Il,hasDropdown:!0,children:[{name:"POS Sales",href:"/drive-thru-express/sales-orders",icon:dt},{name:"Raw Material Inventory",href:"/drive-thru-express/raw-materials",icon:xe},{name:"Finished Goods Inventory",href:"/drive-thru-express/finished-goods",icon:ba}]}]},{name:"Transfer Orders",href:"/transfer-orders",icon:kt},{name:"Purchase Orders",href:"/purchase-orders",icon:dt},{name:"Master",icon:gD,hasDropdown:!0,children:[{name:"Raw Material Master",href:"/raw-materials",icon:xe},{name:"Finished Good Master",href:"/finished-goods-master",icon:ba},{name:"Outlet Master",href:"/outlets",icon:rr}]},{name:"Inventory",href:"/inventory",icon:Ma},{name:"Settings",href:"/settings",icon:fy}],kD=({children:e})=>{const[t,r]=C.useState(!1),[a,s]=C.useState(new Set),i=wr(),l=o=>{const c=new Set(a);c.has(o)?c.delete(o):c.add(o),s(c)};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        /* Enhanced scrollbar styling for sidebar */
        .sidebar-nav::-webkit-scrollbar {
          width: 6px;
        }
        .sidebar-nav::-webkit-scrollbar-track {
          background: transparent;
          border-radius: 3px;
        }
        .sidebar-nav::-webkit-scrollbar-thumb {
          background: #d1d5db;
          border-radius: 3px;
          transition: background-color 0.2s ease;
        }
        .sidebar-nav::-webkit-scrollbar-thumb:hover {
          background: #9ca3af;
        }
        .sidebar-nav {
          scrollbar-width: thin;
          scrollbar-color: #d1d5db transparent;
        }
        
        /* Smooth scrolling behavior */
        .sidebar-nav {
          scroll-behavior: smooth;
        }
        
        /* Ensure proper height constraints */
        .sidebar-container {
          height: calc(100vh - 4rem); /* Subtract header height */
          display: flex;
          flex-direction: column;
        }
        
        .sidebar-nav-container {
          flex: 1;
          overflow-y: auto;
          overflow-x: hidden;
          min-height: 0;
        }
        
        /* Mobile sidebar height fix */
        .mobile-sidebar-nav {
          height: calc(100vh - 4rem);
          overflow-y: auto;
          overflow-x: hidden;
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${t?"block":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),n.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white sidebar-container",children:[n.jsxs("div",{className:"flex h-16 items-center justify-between px-4 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"L"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"localbeet"})})]}),n.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(ke,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"sidebar-nav-container",children:n.jsx("nav",{className:"px-4 py-4 space-y-1 sidebar-nav mobile-sidebar-nav",children:Y0.map(o=>{const c=o.icon,u=i.pathname===o.href,h=o.hasDropdown,d=a.has(o.name);return h?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>l(o.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),o.name]}),d?n.jsx(lc,{className:"h-4 w-4"}):n.jsx(oc,{className:"h-4 w-4"})]}),d&&o.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:o.children.map(m=>{const g=m.icon,b=m.href?i.pathname===m.href:!1,x=m.hasDropdown||!1,j=a.has(m.name);return x?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>l(m.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(g,{className:"mr-3 h-4 w-4 flex-shrink-0"}),m.name]}),j?n.jsx(lc,{className:"h-4 w-4"}):n.jsx(oc,{className:"h-4 w-4"})]}),j&&m.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:m.children.map(N=>{const S=N.icon,y=N.href?i.pathname===N.href:!1;return n.jsxs(ns,{to:N.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${y?"bg-primary-100 text-primary-700":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(S,{className:"mr-3 h-4 w-4 flex-shrink-0"}),N.name]},N.name)})})]},m.name):n.jsxs(ns,{to:m.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${b?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(g,{className:"mr-3 h-4 w-4 flex-shrink-0"}),m.name]},m.name)})})]},o.name):n.jsxs(ns,{to:o.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${u?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),o.name]},o.name)})})})]})]}),n.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:n.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200 sidebar-container",children:[n.jsx("div",{className:"flex h-16 items-center px-4 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"L"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"localbeet"})})]})}),n.jsx("div",{className:"sidebar-nav-container",children:n.jsx("nav",{className:"px-4 py-4 space-y-1 sidebar-nav",children:Y0.map(o=>{const c=o.icon,u=i.pathname===o.href,h=o.hasDropdown,d=a.has(o.name);return h?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>l(o.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),o.name]}),d?n.jsx(lc,{className:"h-4 w-4"}):n.jsx(oc,{className:"h-4 w-4"})]}),d&&o.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:o.children.map(m=>{const g=m.icon,b=m.href?i.pathname===m.href:!1,x=m.hasDropdown||!1,j=a.has(m.name);return x?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>l(m.name),className:"group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:bg-gray-100 hover:text-gray-900",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(g,{className:"mr-3 h-4 w-4 flex-shrink-0"}),m.name]}),j?n.jsx(lc,{className:"h-4 w-4"}):n.jsx(oc,{className:"h-4 w-4"})]}),j&&m.children&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:m.children.map(N=>{const S=N.icon,y=N.href?i.pathname===N.href:!1;return n.jsxs(ns,{to:N.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${y?"bg-primary-100 text-primary-700":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(S,{className:"mr-3 h-4 w-4 flex-shrink-0"}),N.name]},N.name)})})]},m.name):n.jsxs(ns,{to:m.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${b?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(g,{className:"mr-3 h-4 w-4 flex-shrink-0"}),m.name]},m.name)})})]},o.name):n.jsxs(ns,{to:o.href||"#",className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${u?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[n.jsx(c,{className:"mr-3 h-5 w-5 flex-shrink-0"}),o.name]},o.name)})})}),n.jsxs("div",{className:"flex-shrink-0 border-t border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(To,{className:"h-8 w-8 text-gray-400"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Admin User"}),n.jsx("p",{className:"text-xs text-gray-500",children:"admin@locbeat.com"})]})]}),n.jsxs("div",{className:"mt-3 space-y-1",children:[n.jsxs("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg w-full",children:[n.jsx(fy,{className:"mr-3 h-4 w-4"}),"Settings"]}),n.jsxs("button",{className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg w-full",children:[n.jsx(jD,{className:"mr-3 h-4 w-4"}),"Sign out"]})]})]})]})}),n.jsxs("div",{className:"lg:pl-64",children:[n.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[n.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>r(!0),children:n.jsx(wD,{className:"h-6 w-6"})}),n.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[n.jsx("div",{className:"flex flex-1"}),n.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[n.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200"}),n.jsx("div",{className:"flex items-center gap-x-2",children:n.jsx("span",{className:"text-sm text-gray-700",children:"Welcome back, Admin"})})]})]})]}),n.jsx("main",{className:"py-6",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})]})};function HS(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=HS(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Te(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=HS(e))&&(a&&(a+=" "),a+=t);return a}var OD=Array.isArray,Qt=OD,PD=typeof Bo=="object"&&Bo&&Bo.Object===Object&&Bo,QS=PD,TD=QS,AD=typeof self=="object"&&self&&self.Object===Object&&self,DD=TD||AD||Function("return this")(),tn=DD,ED=tn,MD=ED.Symbol,Ao=MD,Z0=Ao,JS=Object.prototype,ID=JS.hasOwnProperty,$D=JS.toString,$i=Z0?Z0.toStringTag:void 0;function _D(e){var t=ID.call(e,$i),r=e[$i];try{e[$i]=void 0;var a=!0}catch{}var s=$D.call(e);return a&&(t?e[$i]=r:delete e[$i]),s}var RD=_D,FD=Object.prototype,LD=FD.toString;function BD(e){return LD.call(e)}var qD=BD,ev=Ao,UD=RD,KD=qD,WD="[object Null]",zD="[object Undefined]",tv=ev?ev.toStringTag:void 0;function VD(e){return e==null?e===void 0?zD:WD:tv&&tv in Object(e)?UD(e):KD(e)}var Pn=VD;function GD(e){return e!=null&&typeof e=="object"}var Tn=GD,HD=Pn,QD=Tn,JD="[object Symbol]";function XD(e){return typeof e=="symbol"||QD(e)&&HD(e)==JD}var pi=XD,YD=Qt,ZD=pi,eE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tE=/^\w*$/;function rE(e,t){if(YD(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ZD(e)?!0:tE.test(e)||!eE.test(e)||t!=null&&e in Object(t)}var yy=rE;function nE(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var oa=nE;const xi=qe(oa);var aE=Pn,sE=oa,iE="[object AsyncFunction]",lE="[object Function]",oE="[object GeneratorFunction]",cE="[object Proxy]";function uE(e){if(!sE(e))return!1;var t=aE(e);return t==lE||t==oE||t==iE||t==cE}var gy=uE;const Ne=qe(gy);var dE=tn,mE=dE["__core-js_shared__"],fE=mE,nf=fE,rv=function(){var e=/[^.]+$/.exec(nf&&nf.keys&&nf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hE(e){return!!rv&&rv in e}var pE=hE,xE=Function.prototype,yE=xE.toString;function gE(e){if(e!=null){try{return yE.call(e)}catch{}try{return e+""}catch{}}return""}var XS=gE,vE=gy,bE=pE,jE=oa,NE=XS,wE=/[\\^$.*+?()[\]{}|]/g,SE=/^\[object .+?Constructor\]$/,CE=Function.prototype,kE=Object.prototype,OE=CE.toString,PE=kE.hasOwnProperty,TE=RegExp("^"+OE.call(PE).replace(wE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AE(e){if(!jE(e)||bE(e))return!1;var t=vE(e)?TE:SE;return t.test(NE(e))}var DE=AE;function EE(e,t){return e==null?void 0:e[t]}var ME=EE,IE=DE,$E=ME;function _E(e,t){var r=$E(e,t);return IE(r)?r:void 0}var Ya=_E,RE=Ya,FE=RE(Object,"create"),_d=FE,nv=_d;function LE(){this.__data__=nv?nv(null):{},this.size=0}var BE=LE;function qE(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var UE=qE,KE=_d,WE="__lodash_hash_undefined__",zE=Object.prototype,VE=zE.hasOwnProperty;function GE(e){var t=this.__data__;if(KE){var r=t[e];return r===WE?void 0:r}return VE.call(t,e)?t[e]:void 0}var HE=GE,QE=_d,JE=Object.prototype,XE=JE.hasOwnProperty;function YE(e){var t=this.__data__;return QE?t[e]!==void 0:XE.call(t,e)}var ZE=YE,eM=_d,tM="__lodash_hash_undefined__";function rM(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=eM&&t===void 0?tM:t,this}var nM=rM,aM=BE,sM=UE,iM=HE,lM=ZE,oM=nM;function yi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}yi.prototype.clear=aM;yi.prototype.delete=sM;yi.prototype.get=iM;yi.prototype.has=lM;yi.prototype.set=oM;var cM=yi;function uM(){this.__data__=[],this.size=0}var dM=uM;function mM(e,t){return e===t||e!==e&&t!==t}var vy=mM,fM=vy;function hM(e,t){for(var r=e.length;r--;)if(fM(e[r][0],t))return r;return-1}var Rd=hM,pM=Rd,xM=Array.prototype,yM=xM.splice;function gM(e){var t=this.__data__,r=pM(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():yM.call(t,r,1),--this.size,!0}var vM=gM,bM=Rd;function jM(e){var t=this.__data__,r=bM(t,e);return r<0?void 0:t[r][1]}var NM=jM,wM=Rd;function SM(e){return wM(this.__data__,e)>-1}var CM=SM,kM=Rd;function OM(e,t){var r=this.__data__,a=kM(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var PM=OM,TM=dM,AM=vM,DM=NM,EM=CM,MM=PM;function gi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}gi.prototype.clear=TM;gi.prototype.delete=AM;gi.prototype.get=DM;gi.prototype.has=EM;gi.prototype.set=MM;var Fd=gi,IM=Ya,$M=tn,_M=IM($M,"Map"),by=_M,av=cM,RM=Fd,FM=by;function LM(){this.size=0,this.__data__={hash:new av,map:new(FM||RM),string:new av}}var BM=LM;function qM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var UM=qM,KM=UM;function WM(e,t){var r=e.__data__;return KM(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ld=WM,zM=Ld;function VM(e){var t=zM(this,e).delete(e);return this.size-=t?1:0,t}var GM=VM,HM=Ld;function QM(e){return HM(this,e).get(e)}var JM=QM,XM=Ld;function YM(e){return XM(this,e).has(e)}var ZM=YM,eI=Ld;function tI(e,t){var r=eI(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var rI=tI,nI=BM,aI=GM,sI=JM,iI=ZM,lI=rI;function vi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}vi.prototype.clear=nI;vi.prototype.delete=aI;vi.prototype.get=sI;vi.prototype.has=iI;vi.prototype.set=lI;var jy=vi,YS=jy,oI="Expected a function";function Ny(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(oI);var r=function(){var a=arguments,s=t?t.apply(this,a):a[0],i=r.cache;if(i.has(s))return i.get(s);var l=e.apply(this,a);return r.cache=i.set(s,l)||i,l};return r.cache=new(Ny.Cache||YS),r}Ny.Cache=YS;var ZS=Ny;const cI=qe(ZS);var uI=ZS,dI=500;function mI(e){var t=uI(e,function(a){return r.size===dI&&r.clear(),a}),r=t.cache;return t}var fI=mI,hI=fI,pI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xI=/\\(\\)?/g,yI=hI(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(pI,function(r,a,s,i){t.push(s?i.replace(xI,"$1"):a||r)}),t}),gI=yI;function vI(e,t){for(var r=-1,a=e==null?0:e.length,s=Array(a);++r<a;)s[r]=t(e[r],r,e);return s}var wy=vI,sv=Ao,bI=wy,jI=Qt,NI=pi,wI=1/0,iv=sv?sv.prototype:void 0,lv=iv?iv.toString:void 0;function eC(e){if(typeof e=="string")return e;if(jI(e))return bI(e,eC)+"";if(NI(e))return lv?lv.call(e):"";var t=e+"";return t=="0"&&1/e==-wI?"-0":t}var SI=eC,CI=SI;function kI(e){return e==null?"":CI(e)}var tC=kI,OI=Qt,PI=yy,TI=gI,AI=tC;function DI(e,t){return OI(e)?e:PI(e,t)?[e]:TI(AI(e))}var rC=DI,EI=pi,MI=1/0;function II(e){if(typeof e=="string"||EI(e))return e;var t=e+"";return t=="0"&&1/e==-MI?"-0":t}var Bd=II,$I=rC,_I=Bd;function RI(e,t){t=$I(t,e);for(var r=0,a=t.length;e!=null&&r<a;)e=e[_I(t[r++])];return r&&r==a?e:void 0}var Sy=RI,FI=Sy;function LI(e,t,r){var a=e==null?void 0:FI(e,t);return a===void 0?r:a}var nC=LI;const gr=qe(nC);function BI(e){return e==null}var qI=BI;const Se=qe(qI);var UI=Pn,KI=Qt,WI=Tn,zI="[object String]";function VI(e){return typeof e=="string"||!KI(e)&&WI(e)&&UI(e)==zI}var GI=VI;const Ka=qe(GI);var aC={exports:{}},Re={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy=Symbol.for("react.element"),ky=Symbol.for("react.portal"),qd=Symbol.for("react.fragment"),Ud=Symbol.for("react.strict_mode"),Kd=Symbol.for("react.profiler"),Wd=Symbol.for("react.provider"),zd=Symbol.for("react.context"),HI=Symbol.for("react.server_context"),Vd=Symbol.for("react.forward_ref"),Gd=Symbol.for("react.suspense"),Hd=Symbol.for("react.suspense_list"),Qd=Symbol.for("react.memo"),Jd=Symbol.for("react.lazy"),QI=Symbol.for("react.offscreen"),sC;sC=Symbol.for("react.module.reference");function Sr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Cy:switch(e=e.type,e){case qd:case Kd:case Ud:case Gd:case Hd:return e;default:switch(e=e&&e.$$typeof,e){case HI:case zd:case Vd:case Jd:case Qd:case Wd:return e;default:return t}}case ky:return t}}}Re.ContextConsumer=zd;Re.ContextProvider=Wd;Re.Element=Cy;Re.ForwardRef=Vd;Re.Fragment=qd;Re.Lazy=Jd;Re.Memo=Qd;Re.Portal=ky;Re.Profiler=Kd;Re.StrictMode=Ud;Re.Suspense=Gd;Re.SuspenseList=Hd;Re.isAsyncMode=function(){return!1};Re.isConcurrentMode=function(){return!1};Re.isContextConsumer=function(e){return Sr(e)===zd};Re.isContextProvider=function(e){return Sr(e)===Wd};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cy};Re.isForwardRef=function(e){return Sr(e)===Vd};Re.isFragment=function(e){return Sr(e)===qd};Re.isLazy=function(e){return Sr(e)===Jd};Re.isMemo=function(e){return Sr(e)===Qd};Re.isPortal=function(e){return Sr(e)===ky};Re.isProfiler=function(e){return Sr(e)===Kd};Re.isStrictMode=function(e){return Sr(e)===Ud};Re.isSuspense=function(e){return Sr(e)===Gd};Re.isSuspenseList=function(e){return Sr(e)===Hd};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qd||e===Kd||e===Ud||e===Gd||e===Hd||e===QI||typeof e=="object"&&e!==null&&(e.$$typeof===Jd||e.$$typeof===Qd||e.$$typeof===Wd||e.$$typeof===zd||e.$$typeof===Vd||e.$$typeof===sC||e.getModuleId!==void 0)};Re.typeOf=Sr;aC.exports=Re;var JI=aC.exports,XI=Pn,YI=Tn,ZI="[object Number]";function e6(e){return typeof e=="number"||YI(e)&&XI(e)==ZI}var iC=e6;const t6=qe(iC);var r6=iC;function n6(e){return r6(e)&&e!=+e}var a6=n6;const Do=qe(a6);var Fr=function(t){return t===0?0:t>0?1:-1},Oa=function(t){return Ka(t)&&t.indexOf("%")===t.length-1},ne=function(t){return t6(t)&&!Do(t)},s6=function(t){return Se(t)},ft=function(t){return ne(t)||Ka(t)},i6=0,Eo=function(t){var r=++i6;return"".concat(t||"").concat(r)},Wa=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(t)&&!Ka(t))return a;var i;if(Oa(t)){var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Do(i)&&(i=a),s&&i>r&&(i=r),i},Rn=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},l6=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},$r=function(t,r){return ne(t)&&ne(r)?function(a){return t+a*(r-t)}:function(){return r}};function xu(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):gr(a,t))===r})}var o6=function(t,r){return ne(t)&&ne(r)?t-r:Ka(t)&&Ka(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ts(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}var c6=["viewBox","children"],u6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ov=["points","pathLength"],af={svg:c6,polygon:ov,polyline:ov},Oy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yu=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(C.isValidElement(t)&&(a=t.props),!xi(a))return null;var s={};return Object.keys(a).forEach(function(i){Oy.includes(i)&&(s[i]=r||function(l){return a[i](a,l)})}),s},d6=function(t,r,a){return function(s){return t(r,a,s),null}},gu=function(t,r,a){if(!xi(t)||Lh(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];Oy.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=d6(l,r,a))}),s},m6=["children"],f6=["children"];function cv(e,t){if(e==null)return{};var r=h6(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function h6(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}var uv={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},hn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},dv=null,sf=null,Py=function e(t){if(t===dv&&Array.isArray(sf))return sf;var r=[];return C.Children.forEach(t,function(a){Se(a)||(JI.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),sf=r,dv=t,r};function vr(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(s){return hn(s)}):a=[hn(t)],Py(e).forEach(function(s){var i=gr(s,"type.displayName")||gr(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function Zt(e,t){var r=vr(e,t);return r&&r[0]}var mv=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!ne(a)||a<=0||!ne(s)||s<=0)},p6=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],x6=function(t){return t&&t.type&&Ka(t.type)&&p6.indexOf(t.type)>=0},y6=function(t){return t&&Bh(t)==="object"&&"clipDot"in t},g6=function(t,r,a,s){var i,l=(i=af==null?void 0:af[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ne(t)&&(s&&l.includes(r)||u6.includes(r))||a&&Oy.includes(r)},Oe=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(C.isValidElement(t)&&(s=t.props),!xi(s))return null;var i={};return Object.keys(s).forEach(function(l){var o;g6((o=s)===null||o===void 0?void 0:o[l],l,r,a)&&(i[l]=s[l])}),i},qh=function e(t,r){if(t===r)return!0;var a=C.Children.count(t);if(a!==C.Children.count(r))return!1;if(a===0)return!0;if(a===1)return fv(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],l=r[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!fv(i,l))return!1}return!0},fv=function(t,r){if(Se(t)&&Se(r))return!0;if(!Se(t)&&!Se(r)){var a=t.props||{},s=a.children,i=cv(a,m6),l=r.props||{},o=l.children,c=cv(l,f6);return s&&o?Ts(i,c)&&qh(s,o):!s&&!o?Ts(i,c):!1}return!1},hv=function(t,r){var a=[],s={};return Py(t).forEach(function(i,l){if(x6(i))a.push(i);else if(i){var o=hn(i.type),c=r[o]||{},u=c.handler,h=c.once;if(u&&(!h||!s[o])){var d=u(i,o,l);a.push(d),s[o]=!0}}}),a},v6=function(t){var r=t&&t.type;return r&&uv[r]?uv[r]:null},b6=function(t,r){return Py(r).indexOf(t)},j6=["children","width","height","viewBox","className","style","title","desc"];function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Uh.apply(this,arguments)}function N6(e,t){if(e==null)return{};var r=w6(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function w6(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Kh(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,l=e.style,o=e.title,c=e.desc,u=N6(e,j6),h=s||{width:r,height:a,x:0,y:0},d=Te("recharts-surface",i);return q.createElement("svg",Uh({},Oe(u,!0,"svg"),{className:d,width:r,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),q.createElement("title",null,o),q.createElement("desc",null,c),t)}var S6=["children","className"];function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wh.apply(this,arguments)}function C6(e,t){if(e==null)return{};var r=k6(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function k6(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var nt=q.forwardRef(function(e,t){var r=e.children,a=e.className,s=C6(e,S6),i=Te("recharts-layer",a);return q.createElement("g",Wh({className:i},Oe(s,!0),{ref:t}),r)}),pn=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function O6(e,t,r){var a=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++a<s;)i[a]=e[a+t];return i}var P6=O6,T6=P6;function A6(e,t,r){var a=e.length;return r=r===void 0?a:r,!t&&r>=a?e:T6(e,t,r)}var D6=A6,E6="\\ud800-\\udfff",M6="\\u0300-\\u036f",I6="\\ufe20-\\ufe2f",$6="\\u20d0-\\u20ff",_6=M6+I6+$6,R6="\\ufe0e\\ufe0f",F6="\\u200d",L6=RegExp("["+F6+E6+_6+R6+"]");function B6(e){return L6.test(e)}var lC=B6;function q6(e){return e.split("")}var U6=q6,oC="\\ud800-\\udfff",K6="\\u0300-\\u036f",W6="\\ufe20-\\ufe2f",z6="\\u20d0-\\u20ff",V6=K6+W6+z6,G6="\\ufe0e\\ufe0f",H6="["+oC+"]",zh="["+V6+"]",Vh="\\ud83c[\\udffb-\\udfff]",Q6="(?:"+zh+"|"+Vh+")",cC="[^"+oC+"]",uC="(?:\\ud83c[\\udde6-\\uddff]){2}",dC="[\\ud800-\\udbff][\\udc00-\\udfff]",J6="\\u200d",mC=Q6+"?",fC="["+G6+"]?",X6="(?:"+J6+"(?:"+[cC,uC,dC].join("|")+")"+fC+mC+")*",Y6=fC+mC+X6,Z6="(?:"+[cC+zh+"?",zh,uC,dC,H6].join("|")+")",e$=RegExp(Vh+"(?="+Vh+")|"+Z6+Y6,"g");function t$(e){return e.match(e$)||[]}var r$=t$,n$=U6,a$=lC,s$=r$;function i$(e){return a$(e)?s$(e):n$(e)}var l$=i$,o$=D6,c$=lC,u$=l$,d$=tC;function m$(e){return function(t){t=d$(t);var r=c$(t)?u$(t):void 0,a=r?r[0]:t.charAt(0),s=r?o$(r,1).join(""):t.slice(1);return a[e]()+s}}var f$=m$,h$=f$,p$=h$("toUpperCase"),x$=p$;const Xd=qe(x$);function Ue(e){return function(){return e}}const hC=Math.cos,vu=Math.sin,Kr=Math.sqrt,bu=Math.PI,Yd=2*bu,Gh=Math.PI,Hh=2*Gh,ja=1e-6,y$=Hh-ja;function pC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function g$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pC;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class v${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pC:g$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,l){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=a-t,u=s-r,h=l-t,d=o-r,m=h*h+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>ja)if(!(Math.abs(d*c-u*h)>ja)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=a-l,b=s-o,x=c*c+u*u,j=g*g+b*b,N=Math.sqrt(x),S=Math.sqrt(m),y=i*Math.tan((Gh-Math.acos((x+m-j)/(2*N*S)))/2),f=y/S,p=y/N;Math.abs(f-1)>ja&&this._append`L${t+f*h},${r+f*d}`,this._append`A${i},${i},0,0,${+(d*g>h*b)},${this._x1=t+p*c},${this._y1=r+p*u}`}}arc(t,r,a,s,i,l){if(t=+t,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(s),c=a*Math.sin(s),u=t+o,h=r+c,d=1^l,m=l?s-i:i-s;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>ja||Math.abs(this._y1-h)>ja)&&this._append`L${u},${h}`,a&&(m<0&&(m=m%Hh+Hh),m>y$?this._append`A${a},${a},0,1,${d},${t-o},${r-c}A${a},${a},0,1,${d},${this._x1=u},${this._y1=h}`:m>ja&&this._append`A${a},${a},0,${+(m>=Gh)},${d},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function Ty(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new v$(t)}function Ay(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xC(e){this._context=e}xC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zd(e){return new xC(e)}function yC(e){return e[0]}function gC(e){return e[1]}function vC(e,t){var r=Ue(!0),a=null,s=Zd,i=null,l=Ty(o);e=typeof e=="function"?e:e===void 0?yC:Ue(e),t=typeof t=="function"?t:t===void 0?gC:Ue(t);function o(c){var u,h=(c=Ay(c)).length,d,m=!1,g;for(a==null&&(i=s(g=l())),u=0;u<=h;++u)!(u<h&&r(d=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(d,u,c),+t(d,u,c));if(g)return i=null,g+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ue(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ue(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ue(!!c),o):r},o.curve=function(c){return arguments.length?(s=c,a!=null&&(i=s(a)),o):s},o.context=function(c){return arguments.length?(c==null?a=i=null:i=s(a=c),o):a},o}function cc(e,t,r){var a=null,s=Ue(!0),i=null,l=Zd,o=null,c=Ty(u);e=typeof e=="function"?e:e===void 0?yC:Ue(+e),t=typeof t=="function"?t:Ue(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?gC:Ue(+r);function u(d){var m,g,b,x=(d=Ay(d)).length,j,N=!1,S,y=new Array(x),f=new Array(x);for(i==null&&(o=l(S=c())),m=0;m<=x;++m){if(!(m<x&&s(j=d[m],m,d))===N)if(N=!N)g=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=m-1;b>=g;--b)o.point(y[b],f[b]);o.lineEnd(),o.areaEnd()}N&&(y[m]=+e(j,m,d),f[m]=+t(j,m,d),o.point(a?+a(j,m,d):y[m],r?+r(j,m,d):f[m]))}if(S)return o=null,S+""||null}function h(){return vC().defined(s).curve(l).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ue(+d),a=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ue(+d),u):e},u.x1=function(d){return arguments.length?(a=d==null?null:typeof d=="function"?d:Ue(+d),u):a},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ue(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ue(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ue(+d),u):r},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(r)},u.lineX1=function(){return h().x(a).y(t)},u.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Ue(!!d),u):s},u.curve=function(d){return arguments.length?(l=d,i!=null&&(o=l(i)),u):l},u.context=function(d){return arguments.length?(d==null?i=o=null:o=l(i=d),u):i},u}class bC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function b$(e){return new bC(e,!0)}function j$(e){return new bC(e,!1)}const Dy={draw(e,t){const r=Kr(t/bu);e.moveTo(r,0),e.arc(0,0,r,0,Yd)}},N$={draw(e,t){const r=Kr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},jC=Kr(1/3),w$=jC*2,S$={draw(e,t){const r=Kr(t/w$),a=r*jC;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},C$={draw(e,t){const r=Kr(t),a=-r/2;e.rect(a,a,r,r)}},k$=.8908130915292852,NC=vu(bu/10)/vu(7*bu/10),O$=vu(Yd/10)*NC,P$=-hC(Yd/10)*NC,T$={draw(e,t){const r=Kr(t*k$),a=O$*r,s=P$*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const l=Yd*i/5,o=hC(l),c=vu(l);e.lineTo(c*r,-o*r),e.lineTo(o*a-c*s,c*a+o*s)}e.closePath()}},lf=Kr(3),A$={draw(e,t){const r=-Kr(t/(lf*3));e.moveTo(0,r*2),e.lineTo(-lf*r,-r),e.lineTo(lf*r,-r),e.closePath()}},ur=-.5,dr=Kr(3)/2,Qh=1/Kr(12),D$=(Qh/2+1)*3,E$={draw(e,t){const r=Kr(t/D$),a=r/2,s=r*Qh,i=a,l=r*Qh+r,o=-i,c=l;e.moveTo(a,s),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(ur*a-dr*s,dr*a+ur*s),e.lineTo(ur*i-dr*l,dr*i+ur*l),e.lineTo(ur*o-dr*c,dr*o+ur*c),e.lineTo(ur*a+dr*s,ur*s-dr*a),e.lineTo(ur*i+dr*l,ur*l-dr*i),e.lineTo(ur*o+dr*c,ur*c-dr*o),e.closePath()}};function M$(e,t){let r=null,a=Ty(s);e=typeof e=="function"?e:Ue(e||Dy),t=typeof t=="function"?t:Ue(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ue(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ue(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function ju(){}function Nu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function wC(e){this._context=e}wC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I$(e){return new wC(e)}function SC(e){this._context=e}SC.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $$(e){return new SC(e)}function CC(e){this._context=e}CC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _$(e){return new CC(e)}function kC(e){this._context=e}kC.prototype={areaStart:ju,areaEnd:ju,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function R$(e){return new kC(e)}function pv(e){return e<0?-1:1}function xv(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),l=(r-e._y1)/(s||a<0&&-0),o=(i*s+l*a)/(a+s);return(pv(i)+pv(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function yv(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function of(e,t,r){var a=e._x0,s=e._y0,i=e._x1,l=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,s+o*t,i-o,l-o*r,i,l)}function wu(e){this._context=e}wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:of(this,this._t0,yv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,of(this,yv(this,r=xv(this,e,t)),r);break;default:of(this,this._t0,r=xv(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function OC(e){this._context=new PC(e)}(OC.prototype=Object.create(wu.prototype)).point=function(e,t){wu.prototype.point.call(this,t,e)};function PC(e){this._context=e}PC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function F$(e){return new wu(e)}function L$(e){return new OC(e)}function TC(e){this._context=e}TC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=gv(e),s=gv(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gv(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(s[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function B$(e){return new TC(e)}function em(e,t){this._context=e,this._t=t}em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function q$(e){return new em(e,.5)}function U$(e){return new em(e,0)}function K$(e){return new em(e,1)}function qs(e,t){if((l=e.length)>1)for(var r=1,a,s,i=e[t[0]],l,o=i.length;r<l;++r)for(s=i,i=e[t[r]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Jh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function W$(e,t){return e[t]}function z$(e){const t=[];return t.key=e,t}function V$(){var e=Ue([]),t=Jh,r=qs,a=W$;function s(i){var l=Array.from(e.apply(this,arguments),z$),o,c=l.length,u=-1,h;for(const d of i)for(o=0,++u;o<c;++o)(l[o][u]=[0,+a(d,l[o].key,u,i)]).data=d;for(o=0,h=Ay(t(l));o<c;++o)l[h[o]].index=o;return r(l,h),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ue(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Ue(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?Jh:typeof i=="function"?i:Ue(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??qs,s):r},s}function G$(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,l;s<i;++s){for(l=r=0;r<a;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<a;++r)e[r][s][1]/=l}qs(e,t)}}function H$(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var l=0,o=0;l<s;++l)o+=e[l][r][1]||0;a[r][1]+=a[r][0]=-o/2}qs(e,t)}}function Q$(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,l;a<i;++a){for(var o=0,c=0,u=0;o<l;++o){for(var h=e[t[o]],d=h[a][1]||0,m=h[a-1][1]||0,g=(d-m)/2,b=0;b<o;++b){var x=e[t[b]],j=x[a][1]||0,N=x[a-1][1]||0;g+=j-N}c+=d,u+=g*d}s[a-1][1]+=s[a-1][0]=r,c&&(r-=u/c)}s[a-1][1]+=s[a-1][0]=r,qs(e,t)}}function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}var J$=["type","size","sizeType"];function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xh.apply(this,arguments)}function vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vv(Object(r),!0).forEach(function(a){X$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function X$(e,t,r){return t=Y$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$(e){var t=Z$(e,"string");return Rl(t)=="symbol"?t:t+""}function Z$(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Rl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e3(e,t){if(e==null)return{};var r=t3(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function t3(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var AC={symbolCircle:Dy,symbolCross:N$,symbolDiamond:S$,symbolSquare:C$,symbolStar:T$,symbolTriangle:A$,symbolWye:E$},r3=Math.PI/180,n3=function(t){var r="symbol".concat(Xd(t));return AC[r]||Dy},a3=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*r3;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},s3=function(t,r){AC["symbol".concat(Xd(t))]=r},Ey=function(t){var r=t.type,a=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,l=t.sizeType,o=l===void 0?"area":l,c=e3(t,J$),u=bv(bv({},c),{},{type:a,size:i,sizeType:o}),h=function(){var j=n3(a),N=M$().type(j).size(a3(i,o,a));return N()},d=u.className,m=u.cx,g=u.cy,b=Oe(u,!0);return m===+m&&g===+g&&i===+i?q.createElement("path",Xh({},b,{className:Te("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(g,")"),d:h()})):null};Ey.registerSymbol=s3;function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yh.apply(this,arguments)}function jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function i3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jv(Object(r),!0).forEach(function(a){Fl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function l3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nv(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,EC(a.key),a)}}function o3(e,t,r){return t&&Nv(e.prototype,t),r&&Nv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c3(e,t,r){return t=Su(t),u3(e,DC()?Reflect.construct(t,r||[],Su(e).constructor):t.apply(e,r))}function u3(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d3(e)}function d3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DC=function(){return!!e})()}function Su(e){return Su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Su(e)}function m3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zh(e,t)}function Zh(e,t){return Zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Zh(e,t)}function Fl(e,t,r){return t=EC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EC(e){var t=f3(e,"string");return Us(t)=="symbol"?t:t+""}function f3(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Us(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mr=32,My=function(e){function t(){return l3(this,t),c3(this,t,arguments)}return m3(t,e),o3(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=mr/2,l=mr/6,o=mr/3,c=a.inactive?s:a.color;if(a.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:mr,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(mr,"M").concat(2*o,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(mr/8,"h").concat(mr,"v").concat(mr*3/4,"h").concat(-mr,"z"),className:"recharts-legend-icon"});if(q.isValidElement(a.legendIcon)){var u=i3({},a);return delete u.legendIcon,q.cloneElement(a.legendIcon,u)}return q.createElement(Ey,{fill:c,cx:i,cy:i,size:mr,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,l=s.iconSize,o=s.layout,c=s.formatter,u=s.inactiveColor,h={x:0,y:0,width:mr,height:mr},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,b){var x=g.formatter||c,j=Te(Fl(Fl({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",g.inactive));if(g.type==="none")return null;var N=Ne(g.value)?null:g.value;pn(!Ne(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=g.inactive?u:g.color;return q.createElement("li",Yh({className:j,style:d,key:"legend-item-".concat(b)},gu(a.props,g,b)),q.createElement(Kh,{width:l,height:l,viewBox:h,style:m},a.renderIcon(g)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},x?x(N,g,b):N))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,l=a.align;if(!s||!s.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(C.PureComponent);Fl(My,"displayName","Legend");Fl(My,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var h3=Fd;function p3(){this.__data__=new h3,this.size=0}var x3=p3;function y3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var g3=y3;function v3(e){return this.__data__.get(e)}var b3=v3;function j3(e){return this.__data__.has(e)}var N3=j3,w3=Fd,S3=by,C3=jy,k3=200;function O3(e,t){var r=this.__data__;if(r instanceof w3){var a=r.__data__;if(!S3||a.length<k3-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new C3(a)}return r.set(e,t),this.size=r.size,this}var P3=O3,T3=Fd,A3=x3,D3=g3,E3=b3,M3=N3,I3=P3;function bi(e){var t=this.__data__=new T3(e);this.size=t.size}bi.prototype.clear=A3;bi.prototype.delete=D3;bi.prototype.get=E3;bi.prototype.has=M3;bi.prototype.set=I3;var MC=bi,$3="__lodash_hash_undefined__";function _3(e){return this.__data__.set(e,$3),this}var R3=_3;function F3(e){return this.__data__.has(e)}var L3=F3,B3=jy,q3=R3,U3=L3;function Cu(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new B3;++t<r;)this.add(e[t])}Cu.prototype.add=Cu.prototype.push=q3;Cu.prototype.has=U3;var IC=Cu;function K3(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var $C=K3;function W3(e,t){return e.has(t)}var _C=W3,z3=IC,V3=$C,G3=_C,H3=1,Q3=2;function J3(e,t,r,a,s,i){var l=r&H3,o=e.length,c=t.length;if(o!=c&&!(l&&c>o))return!1;var u=i.get(e),h=i.get(t);if(u&&h)return u==t&&h==e;var d=-1,m=!0,g=r&Q3?new z3:void 0;for(i.set(e,t),i.set(t,e);++d<o;){var b=e[d],x=t[d];if(a)var j=l?a(x,b,d,t,e,i):a(b,x,d,e,t,i);if(j!==void 0){if(j)continue;m=!1;break}if(g){if(!V3(t,function(N,S){if(!G3(g,S)&&(b===N||s(b,N,r,a,i)))return g.push(S)})){m=!1;break}}else if(!(b===x||s(b,x,r,a,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var RC=J3,X3=tn,Y3=X3.Uint8Array,Z3=Y3;function e_(e){var t=-1,r=Array(e.size);return e.forEach(function(a,s){r[++t]=[s,a]}),r}var t_=e_;function r_(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var Iy=r_,wv=Ao,Sv=Z3,n_=vy,a_=RC,s_=t_,i_=Iy,l_=1,o_=2,c_="[object Boolean]",u_="[object Date]",d_="[object Error]",m_="[object Map]",f_="[object Number]",h_="[object RegExp]",p_="[object Set]",x_="[object String]",y_="[object Symbol]",g_="[object ArrayBuffer]",v_="[object DataView]",Cv=wv?wv.prototype:void 0,cf=Cv?Cv.valueOf:void 0;function b_(e,t,r,a,s,i,l){switch(r){case v_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case g_:return!(e.byteLength!=t.byteLength||!i(new Sv(e),new Sv(t)));case c_:case u_:case f_:return n_(+e,+t);case d_:return e.name==t.name&&e.message==t.message;case h_:case x_:return e==t+"";case m_:var o=s_;case p_:var c=a&l_;if(o||(o=i_),e.size!=t.size&&!c)return!1;var u=l.get(e);if(u)return u==t;a|=o_,l.set(e,t);var h=a_(o(e),o(t),a,s,i,l);return l.delete(e),h;case y_:if(cf)return cf.call(e)==cf.call(t)}return!1}var j_=b_;function N_(e,t){for(var r=-1,a=t.length,s=e.length;++r<a;)e[s+r]=t[r];return e}var FC=N_,w_=FC,S_=Qt;function C_(e,t,r){var a=t(e);return S_(e)?a:w_(a,r(e))}var k_=C_;function O_(e,t){for(var r=-1,a=e==null?0:e.length,s=0,i=[];++r<a;){var l=e[r];t(l,r,e)&&(i[s++]=l)}return i}var P_=O_;function T_(){return[]}var A_=T_,D_=P_,E_=A_,M_=Object.prototype,I_=M_.propertyIsEnumerable,kv=Object.getOwnPropertySymbols,$_=kv?function(e){return e==null?[]:(e=Object(e),D_(kv(e),function(t){return I_.call(e,t)}))}:E_,__=$_;function R_(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var F_=R_,L_=Pn,B_=Tn,q_="[object Arguments]";function U_(e){return B_(e)&&L_(e)==q_}var K_=U_,Ov=K_,W_=Tn,LC=Object.prototype,z_=LC.hasOwnProperty,V_=LC.propertyIsEnumerable,G_=Ov(function(){return arguments}())?Ov:function(e){return W_(e)&&z_.call(e,"callee")&&!V_.call(e,"callee")},$y=G_,ku={exports:{}};function H_(){return!1}var Q_=H_;ku.exports;(function(e,t){var r=tn,a=Q_,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,o=l?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||a;e.exports=u})(ku,ku.exports);var BC=ku.exports,J_=9007199254740991,X_=/^(?:0|[1-9]\d*)$/;function Y_(e,t){var r=typeof e;return t=t??J_,!!t&&(r=="number"||r!="symbol"&&X_.test(e))&&e>-1&&e%1==0&&e<t}var _y=Y_,Z_=9007199254740991;function e5(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Z_}var Ry=e5,t5=Pn,r5=Ry,n5=Tn,a5="[object Arguments]",s5="[object Array]",i5="[object Boolean]",l5="[object Date]",o5="[object Error]",c5="[object Function]",u5="[object Map]",d5="[object Number]",m5="[object Object]",f5="[object RegExp]",h5="[object Set]",p5="[object String]",x5="[object WeakMap]",y5="[object ArrayBuffer]",g5="[object DataView]",v5="[object Float32Array]",b5="[object Float64Array]",j5="[object Int8Array]",N5="[object Int16Array]",w5="[object Int32Array]",S5="[object Uint8Array]",C5="[object Uint8ClampedArray]",k5="[object Uint16Array]",O5="[object Uint32Array]",ze={};ze[v5]=ze[b5]=ze[j5]=ze[N5]=ze[w5]=ze[S5]=ze[C5]=ze[k5]=ze[O5]=!0;ze[a5]=ze[s5]=ze[y5]=ze[i5]=ze[g5]=ze[l5]=ze[o5]=ze[c5]=ze[u5]=ze[d5]=ze[m5]=ze[f5]=ze[h5]=ze[p5]=ze[x5]=!1;function P5(e){return n5(e)&&r5(e.length)&&!!ze[t5(e)]}var T5=P5;function A5(e){return function(t){return e(t)}}var qC=A5,Ou={exports:{}};Ou.exports;(function(e,t){var r=QS,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i&&r.process,o=function(){try{var c=s&&s.require&&s.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}}();e.exports=o})(Ou,Ou.exports);var D5=Ou.exports,E5=T5,M5=qC,Pv=D5,Tv=Pv&&Pv.isTypedArray,I5=Tv?M5(Tv):E5,UC=I5,$5=F_,_5=$y,R5=Qt,F5=BC,L5=_y,B5=UC,q5=Object.prototype,U5=q5.hasOwnProperty;function K5(e,t){var r=R5(e),a=!r&&_5(e),s=!r&&!a&&F5(e),i=!r&&!a&&!s&&B5(e),l=r||a||s||i,o=l?$5(e.length,String):[],c=o.length;for(var u in e)(t||U5.call(e,u))&&!(l&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||L5(u,c)))&&o.push(u);return o}var W5=K5,z5=Object.prototype;function V5(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||z5;return e===r}var G5=V5;function H5(e,t){return function(r){return e(t(r))}}var KC=H5,Q5=KC,J5=Q5(Object.keys,Object),X5=J5,Y5=G5,Z5=X5,eR=Object.prototype,tR=eR.hasOwnProperty;function rR(e){if(!Y5(e))return Z5(e);var t=[];for(var r in Object(e))tR.call(e,r)&&r!="constructor"&&t.push(r);return t}var nR=rR,aR=gy,sR=Ry;function iR(e){return e!=null&&sR(e.length)&&!aR(e)}var Mo=iR,lR=W5,oR=nR,cR=Mo;function uR(e){return cR(e)?lR(e):oR(e)}var tm=uR,dR=k_,mR=__,fR=tm;function hR(e){return dR(e,fR,mR)}var pR=hR,Av=pR,xR=1,yR=Object.prototype,gR=yR.hasOwnProperty;function vR(e,t,r,a,s,i){var l=r&xR,o=Av(e),c=o.length,u=Av(t),h=u.length;if(c!=h&&!l)return!1;for(var d=c;d--;){var m=o[d];if(!(l?m in t:gR.call(t,m)))return!1}var g=i.get(e),b=i.get(t);if(g&&b)return g==t&&b==e;var x=!0;i.set(e,t),i.set(t,e);for(var j=l;++d<c;){m=o[d];var N=e[m],S=t[m];if(a)var y=l?a(S,N,m,t,e,i):a(N,S,m,e,t,i);if(!(y===void 0?N===S||s(N,S,r,a,i):y)){x=!1;break}j||(j=m=="constructor")}if(x&&!j){var f=e.constructor,p=t.constructor;f!=p&&"constructor"in e&&"constructor"in t&&!(typeof f=="function"&&f instanceof f&&typeof p=="function"&&p instanceof p)&&(x=!1)}return i.delete(e),i.delete(t),x}var bR=vR,jR=Ya,NR=tn,wR=jR(NR,"DataView"),SR=wR,CR=Ya,kR=tn,OR=CR(kR,"Promise"),PR=OR,TR=Ya,AR=tn,DR=TR(AR,"Set"),WC=DR,ER=Ya,MR=tn,IR=ER(MR,"WeakMap"),$R=IR,ep=SR,tp=by,rp=PR,np=WC,ap=$R,zC=Pn,ji=XS,Dv="[object Map]",_R="[object Object]",Ev="[object Promise]",Mv="[object Set]",Iv="[object WeakMap]",$v="[object DataView]",RR=ji(ep),FR=ji(tp),LR=ji(rp),BR=ji(np),qR=ji(ap),Na=zC;(ep&&Na(new ep(new ArrayBuffer(1)))!=$v||tp&&Na(new tp)!=Dv||rp&&Na(rp.resolve())!=Ev||np&&Na(new np)!=Mv||ap&&Na(new ap)!=Iv)&&(Na=function(e){var t=zC(e),r=t==_R?e.constructor:void 0,a=r?ji(r):"";if(a)switch(a){case RR:return $v;case FR:return Dv;case LR:return Ev;case BR:return Mv;case qR:return Iv}return t});var UR=Na,uf=MC,KR=RC,WR=j_,zR=bR,_v=UR,Rv=Qt,Fv=BC,VR=UC,GR=1,Lv="[object Arguments]",Bv="[object Array]",uc="[object Object]",HR=Object.prototype,qv=HR.hasOwnProperty;function QR(e,t,r,a,s,i){var l=Rv(e),o=Rv(t),c=l?Bv:_v(e),u=o?Bv:_v(t);c=c==Lv?uc:c,u=u==Lv?uc:u;var h=c==uc,d=u==uc,m=c==u;if(m&&Fv(e)){if(!Fv(t))return!1;l=!0,h=!1}if(m&&!h)return i||(i=new uf),l||VR(e)?KR(e,t,r,a,s,i):WR(e,t,c,r,a,s,i);if(!(r&GR)){var g=h&&qv.call(e,"__wrapped__"),b=d&&qv.call(t,"__wrapped__");if(g||b){var x=g?e.value():e,j=b?t.value():t;return i||(i=new uf),s(x,j,r,a,i)}}return m?(i||(i=new uf),zR(e,t,r,a,s,i)):!1}var JR=QR,XR=JR,Uv=Tn;function VC(e,t,r,a,s){return e===t?!0:e==null||t==null||!Uv(e)&&!Uv(t)?e!==e&&t!==t:XR(e,t,r,a,VC,s)}var Fy=VC,YR=MC,ZR=Fy,e7=1,t7=2;function r7(e,t,r,a){var s=r.length,i=s,l=!a;if(e==null)return!i;for(e=Object(e);s--;){var o=r[s];if(l&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++s<i;){o=r[s];var c=o[0],u=e[c],h=o[1];if(l&&o[2]){if(u===void 0&&!(c in e))return!1}else{var d=new YR;if(a)var m=a(u,h,c,e,t,d);if(!(m===void 0?ZR(h,u,e7|t7,a,d):m))return!1}}return!0}var n7=r7,a7=oa;function s7(e){return e===e&&!a7(e)}var GC=s7,i7=GC,l7=tm;function o7(e){for(var t=l7(e),r=t.length;r--;){var a=t[r],s=e[a];t[r]=[a,s,i7(s)]}return t}var c7=o7;function u7(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var HC=u7,d7=n7,m7=c7,f7=HC;function h7(e){var t=m7(e);return t.length==1&&t[0][2]?f7(t[0][0],t[0][1]):function(r){return r===e||d7(r,e,t)}}var p7=h7;function x7(e,t){return e!=null&&t in Object(e)}var y7=x7,g7=rC,v7=$y,b7=Qt,j7=_y,N7=Ry,w7=Bd;function S7(e,t,r){t=g7(t,e);for(var a=-1,s=t.length,i=!1;++a<s;){var l=w7(t[a]);if(!(i=e!=null&&r(e,l)))break;e=e[l]}return i||++a!=s?i:(s=e==null?0:e.length,!!s&&N7(s)&&j7(l,s)&&(b7(e)||v7(e)))}var C7=S7,k7=y7,O7=C7;function P7(e,t){return e!=null&&O7(e,t,k7)}var T7=P7,A7=Fy,D7=nC,E7=T7,M7=yy,I7=GC,$7=HC,_7=Bd,R7=1,F7=2;function L7(e,t){return M7(e)&&I7(t)?$7(_7(e),t):function(r){var a=D7(r,e);return a===void 0&&a===t?E7(r,e):A7(t,a,R7|F7)}}var B7=L7;function q7(e){return e}var Ni=q7;function U7(e){return function(t){return t==null?void 0:t[e]}}var K7=U7,W7=Sy;function z7(e){return function(t){return W7(t,e)}}var V7=z7,G7=K7,H7=V7,Q7=yy,J7=Bd;function X7(e){return Q7(e)?G7(J7(e)):H7(e)}var Y7=X7,Z7=p7,eF=B7,tF=Ni,rF=Qt,nF=Y7;function aF(e){return typeof e=="function"?e:e==null?tF:typeof e=="object"?rF(e)?eF(e[0],e[1]):Z7(e):nF(e)}var ca=aF;function sF(e,t,r,a){for(var s=e.length,i=r+(a?1:-1);a?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var QC=sF;function iF(e){return e!==e}var lF=iF;function oF(e,t,r){for(var a=r-1,s=e.length;++a<s;)if(e[a]===t)return a;return-1}var cF=oF,uF=QC,dF=lF,mF=cF;function fF(e,t,r){return t===t?mF(e,t,r):uF(e,dF,r)}var hF=fF,pF=hF;function xF(e,t){var r=e==null?0:e.length;return!!r&&pF(e,t,0)>-1}var yF=xF;function gF(e,t,r){for(var a=-1,s=e==null?0:e.length;++a<s;)if(r(t,e[a]))return!0;return!1}var vF=gF;function bF(){}var jF=bF,df=WC,NF=jF,wF=Iy,SF=1/0,CF=df&&1/wF(new df([,-0]))[1]==SF?function(e){return new df(e)}:NF,kF=CF,OF=IC,PF=yF,TF=vF,AF=_C,DF=kF,EF=Iy,MF=200;function IF(e,t,r){var a=-1,s=PF,i=e.length,l=!0,o=[],c=o;if(r)l=!1,s=TF;else if(i>=MF){var u=t?null:DF(e);if(u)return EF(u);l=!1,s=AF,c=new OF}else c=t?[]:o;e:for(;++a<i;){var h=e[a],d=t?t(h):h;if(h=r||h!==0?h:0,l&&d===d){for(var m=c.length;m--;)if(c[m]===d)continue e;t&&c.push(d),o.push(h)}else s(c,d,r)||(c!==o&&c.push(d),o.push(h))}return o}var $F=IF,_F=ca,RF=$F;function FF(e,t){return e&&e.length?RF(e,_F(t)):[]}var LF=FF;const Kv=qe(LF);function JC(e,t,r){return t===!0?Kv(e,r):Ne(t)?Kv(e,t):e}function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}var BF=["ref"];function Wv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wv(Object(r),!0).forEach(function(a){rm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wv(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zv(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,YC(a.key),a)}}function UF(e,t,r){return t&&zv(e.prototype,t),r&&zv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KF(e,t,r){return t=Pu(t),WF(e,XC()?Reflect.construct(t,r||[],Pu(e).constructor):t.apply(e,r))}function WF(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zF(e)}function zF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XC=function(){return!!e})()}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pu(e)}function VF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sp(e,t)}function sp(e,t){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},sp(e,t)}function rm(e,t,r){return t=YC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YC(e){var t=GF(e,"string");return Ks(t)=="symbol"?t:t+""}function GF(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ks(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HF(e,t){if(e==null)return{};var r=QF(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function QF(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function JF(e){return e.value}function XF(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var r=HF(t,BF);return q.createElement(My,r)}var Vv=1,As=function(e){function t(){var r;qF(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=KF(this,t,[].concat(s)),rm(r,"lastBoundingBox",{width:-1,height:-1}),r}return VF(t,e),UF(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Vv||Math.abs(s.height-this.lastBoundingBox.height)>Vv)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?nn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,l=s.align,o=s.verticalAlign,c=s.margin,u=s.chartWidth,h=s.chartHeight,d,m;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();d={left:((u||0)-g.width)/2}}else d=l==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(o==="middle"){var b=this.getBBoxSnapshot();m={top:((h||0)-b.height)/2}}else m=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return nn(nn({},d),m)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,l=s.width,o=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,h=s.payload,d=nn(nn({position:"absolute",width:l||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){a.wrapperNode=g}},XF(i,nn(nn({},this.props),{},{payload:JC(h,u,JF)})))}}],[{key:"getWithHeight",value:function(a,s){var i=nn(nn({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&ne(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||s}:null}}])}(C.PureComponent);rm(As,"displayName","Legend");rm(As,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Gv=Ao,YF=$y,ZF=Qt,Hv=Gv?Gv.isConcatSpreadable:void 0;function eL(e){return ZF(e)||YF(e)||!!(Hv&&e&&e[Hv])}var tL=eL,rL=FC,nL=tL;function ZC(e,t,r,a,s){var i=-1,l=e.length;for(r||(r=nL),s||(s=[]);++i<l;){var o=e[i];t>0&&r(o)?t>1?ZC(o,t-1,r,a,s):rL(s,o):a||(s[s.length]=o)}return s}var e2=ZC;function aL(e){return function(t,r,a){for(var s=-1,i=Object(t),l=a(t),o=l.length;o--;){var c=l[e?o:++s];if(r(i[c],c,i)===!1)break}return t}}var sL=aL,iL=sL,lL=iL(),oL=lL,cL=oL,uL=tm;function dL(e,t){return e&&cL(e,t,uL)}var t2=dL,mL=Mo;function fL(e,t){return function(r,a){if(r==null)return r;if(!mL(r))return e(r,a);for(var s=r.length,i=t?s:-1,l=Object(r);(t?i--:++i<s)&&a(l[i],i,l)!==!1;);return r}}var hL=fL,pL=t2,xL=hL,yL=xL(pL),Ly=yL,gL=Ly,vL=Mo;function bL(e,t){var r=-1,a=vL(e)?Array(e.length):[];return gL(e,function(s,i,l){a[++r]=t(s,i,l)}),a}var r2=bL;function jL(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var NL=jL,Qv=pi;function wL(e,t){if(e!==t){var r=e!==void 0,a=e===null,s=e===e,i=Qv(e),l=t!==void 0,o=t===null,c=t===t,u=Qv(t);if(!o&&!u&&!i&&e>t||i&&l&&c&&!o&&!u||a&&l&&c||!r&&c||!s)return 1;if(!a&&!i&&!u&&e<t||u&&r&&s&&!a&&!i||o&&r&&s||!l&&s||!c)return-1}return 0}var SL=wL,CL=SL;function kL(e,t,r){for(var a=-1,s=e.criteria,i=t.criteria,l=s.length,o=r.length;++a<l;){var c=CL(s[a],i[a]);if(c){if(a>=o)return c;var u=r[a];return c*(u=="desc"?-1:1)}}return e.index-t.index}var OL=kL,mf=wy,PL=Sy,TL=ca,AL=r2,DL=NL,EL=qC,ML=OL,IL=Ni,$L=Qt;function _L(e,t,r){t.length?t=mf(t,function(i){return $L(i)?function(l){return PL(l,i.length===1?i[0]:i)}:i}):t=[IL];var a=-1;t=mf(t,EL(TL));var s=AL(e,function(i,l,o){var c=mf(t,function(u){return u(i)});return{criteria:c,index:++a,value:i}});return DL(s,function(i,l){return ML(i,l,r)})}var RL=_L;function FL(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var LL=FL,BL=LL,Jv=Math.max;function qL(e,t,r){return t=Jv(t===void 0?e.length-1:t,0),function(){for(var a=arguments,s=-1,i=Jv(a.length-t,0),l=Array(i);++s<i;)l[s]=a[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=a[s];return o[t]=r(l),BL(e,this,o)}}var UL=qL;function KL(e){return function(){return e}}var WL=KL,zL=Ya,VL=function(){try{var e=zL(Object,"defineProperty");return e({},"",{}),e}catch{}}(),n2=VL,GL=WL,Xv=n2,HL=Ni,QL=Xv?function(e,t){return Xv(e,"toString",{configurable:!0,enumerable:!1,value:GL(t),writable:!0})}:HL,JL=QL,XL=800,YL=16,ZL=Date.now;function eB(e){var t=0,r=0;return function(){var a=ZL(),s=YL-(a-r);if(r=a,s>0){if(++t>=XL)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var tB=eB,rB=JL,nB=tB,aB=nB(rB),sB=aB,iB=Ni,lB=UL,oB=sB;function cB(e,t){return oB(lB(e,t,iB),e+"")}var uB=cB,dB=vy,mB=Mo,fB=_y,hB=oa;function pB(e,t,r){if(!hB(r))return!1;var a=typeof t;return(a=="number"?mB(r)&&fB(t,r.length):a=="string"&&t in r)?dB(r[t],e):!1}var nm=pB,xB=e2,yB=RL,gB=uB,Yv=nm,vB=gB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Yv(e,t[0],t[1])?t=[]:r>2&&Yv(t[0],t[1],t[2])&&(t=[t[0]]),yB(e,xB(t,1),[])}),bB=vB;const By=qe(bB);function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ip.apply(this,arguments)}function jB(e,t){return CB(e)||SB(e,t)||wB(e,t)||NB()}function NB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wB(e,t){if(e){if(typeof e=="string")return Zv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zv(e,t)}}function Zv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function SB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function CB(e){if(Array.isArray(e))return e}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(a){kB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kB(e,t,r){return t=OB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OB(e){var t=PB(e,"string");return Ll(t)=="symbol"?t:t+""}function PB(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ll(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TB(e){return Array.isArray(e)&&ft(e[0])&&ft(e[1])?e.join(" ~ "):e}var AB=function(t){var r=t.separator,a=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,o=l===void 0?{}:l,c=t.labelStyle,u=c===void 0?{}:c,h=t.payload,d=t.formatter,m=t.itemSorter,g=t.wrapperClassName,b=t.labelClassName,x=t.label,j=t.labelFormatter,N=t.accessibilityLayer,S=N===void 0?!1:N,y=function(){if(h&&h.length){var O={padding:0,margin:0},M=(m?By(h,m):h).map(function(L,R){if(L.type==="none")return null;var E=ff({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},o),B=L.formatter||d||TB,T=L.value,I=L.name,$=T,F=I;if(B&&$!=null&&F!=null){var _=B(T,I,L,R,h);if(Array.isArray(_)){var G=jB(_,2);$=G[0],F=G[1]}else $=_}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:E},ft(F)?q.createElement("span",{className:"recharts-tooltip-item-name"},F):null,ft(F)?q.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,q.createElement("span",{className:"recharts-tooltip-item-value"},$),q.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:O},M)}return null},f=ff({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),p=ff({margin:0},u),v=!Se(x),w=v?x:"",k=Te("recharts-default-tooltip",g),P=Te("recharts-tooltip-label",b);v&&j&&h!==void 0&&h!==null&&(w=j(x,h));var A=S?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",ip({className:k,style:f},A),q.createElement("p",{className:P,style:p},q.isValidElement(w)?w:"".concat(w)),y())};function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function dc(e,t,r){return t=DB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=EB(e,"string");return Bl(t)=="symbol"?t:t+""}function EB(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Bl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _i="recharts-tooltip-wrapper",MB={visibility:"hidden"};function IB(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return Te(_i,dc(dc(dc(dc({},"".concat(_i,"-right"),ne(r)&&t&&ne(t.x)&&r>=t.x),"".concat(_i,"-left"),ne(r)&&t&&ne(t.x)&&r<t.x),"".concat(_i,"-bottom"),ne(a)&&t&&ne(t.y)&&a>=t.y),"".concat(_i,"-top"),ne(a)&&t&&ne(t.y)&&a<t.y))}function tb(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ne(i[a]))return i[a];var h=r[a]-o-s,d=r[a]+s;if(t[a])return l[a]?h:d;if(l[a]){var m=h,g=c[a];return m<g?Math.max(d,c[a]):Math.max(h,c[a])}var b=d+o,x=c[a]+u;return b>x?Math.max(h,c[a]):Math.max(d,c[a])}function $B(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _B(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,u,h,d;return l.height>0&&l.width>0&&r?(h=tb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),d=tb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),u=$B({translateX:h,translateY:d,useTranslate3d:o})):u=MB,{cssProperties:u,cssClasses:IB({translateX:h,translateY:d,coordinate:r})}}function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(r),!0).forEach(function(a){op(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function RB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ab(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,s2(a.key),a)}}function FB(e,t,r){return t&&ab(e.prototype,t),r&&ab(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LB(e,t,r){return t=Tu(t),BB(e,a2()?Reflect.construct(t,r||[],Tu(e).constructor):t.apply(e,r))}function BB(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qB(e)}function qB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a2=function(){return!!e})()}function Tu(e){return Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tu(e)}function UB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lp(e,t)}function lp(e,t){return lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lp(e,t)}function op(e,t,r){return t=s2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s2(e){var t=KB(e,"string");return Ws(t)=="symbol"?t:t+""}function KB(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ws(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sb=1,WB=function(e){function t(){var r;RB(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=LB(this,t,[].concat(s)),op(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),op(r,"handleKeyDown",function(l){if(l.key==="Escape"){var o,c,u,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),r}return UB(t,e),FB(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>sb||Math.abs(a.height-this.state.lastBoundingBox.height)>sb)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,o=s.animationDuration,c=s.animationEasing,u=s.children,h=s.coordinate,d=s.hasPayload,m=s.isAnimationActive,g=s.offset,b=s.position,x=s.reverseDirection,j=s.useTranslate3d,N=s.viewBox,S=s.wrapperStyle,y=_B({allowEscapeViewBox:l,coordinate:h,offsetTopLeft:g,position:b,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:j,viewBox:N}),f=y.cssClasses,p=y.cssProperties,v=nb(nb({transition:m&&i?"transform ".concat(o,"ms ").concat(c):void 0},p),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},S);return q.createElement("div",{tabIndex:-1,className:f,style:v,ref:function(k){a.wrapperNode=k}},u)}}])}(C.PureComponent),zB=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xn={isSsr:zB(),get:function(t){return xn[t]},set:function(t,r){if(typeof t=="string")xn[t]=r;else{var a=Object.keys(t);a&&a.length&&a.forEach(function(s){xn[s]=t[s]})}}};function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ib(Object(r),!0).forEach(function(a){qy(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ib(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ob(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,l2(a.key),a)}}function GB(e,t,r){return t&&ob(e.prototype,t),r&&ob(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HB(e,t,r){return t=Au(t),QB(e,i2()?Reflect.construct(t,r||[],Au(e).constructor):t.apply(e,r))}function QB(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JB(e)}function JB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i2=function(){return!!e})()}function Au(e){return Au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Au(e)}function XB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cp(e,t)}function cp(e,t){return cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cp(e,t)}function qy(e,t,r){return t=l2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l2(e){var t=YB(e,"string");return zs(t)=="symbol"?t:t+""}function YB(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(zs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZB(e){return e.dataKey}function e9(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(AB,t)}var Dr=function(e){function t(){return VB(this,t),HB(this,t,arguments)}return XB(t,e),GB(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,o=s.animationDuration,c=s.animationEasing,u=s.content,h=s.coordinate,d=s.filterNull,m=s.isAnimationActive,g=s.offset,b=s.payload,x=s.payloadUniqBy,j=s.position,N=s.reverseDirection,S=s.useTranslate3d,y=s.viewBox,f=s.wrapperStyle,p=b??[];d&&p.length&&(p=JC(b.filter(function(w){return w.value!=null&&(w.hide!==!0||a.props.includeHidden)}),x,ZB));var v=p.length>0;return q.createElement(WB,{allowEscapeViewBox:l,animationDuration:o,animationEasing:c,isAnimationActive:m,active:i,coordinate:h,hasPayload:v,offset:g,position:j,reverseDirection:N,useTranslate3d:S,viewBox:y,wrapperStyle:f},e9(u,lb(lb({},this.props),{},{payload:p})))}}])}(C.PureComponent);qy(Dr,"displayName","Tooltip");qy(Dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var t9=tn,r9=function(){return t9.Date.now()},n9=r9,a9=/\s/;function s9(e){for(var t=e.length;t--&&a9.test(e.charAt(t)););return t}var i9=s9,l9=i9,o9=/^\s+/;function c9(e){return e&&e.slice(0,l9(e)+1).replace(o9,"")}var u9=c9,d9=u9,cb=oa,m9=pi,ub=0/0,f9=/^[-+]0x[0-9a-f]+$/i,h9=/^0b[01]+$/i,p9=/^0o[0-7]+$/i,x9=parseInt;function y9(e){if(typeof e=="number")return e;if(m9(e))return ub;if(cb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=cb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=d9(e);var r=h9.test(e);return r||p9.test(e)?x9(e.slice(2),r?2:8):f9.test(e)?ub:+e}var o2=y9,g9=oa,hf=n9,db=o2,v9="Expected a function",b9=Math.max,j9=Math.min;function N9(e,t,r){var a,s,i,l,o,c,u=0,h=!1,d=!1,m=!0;if(typeof e!="function")throw new TypeError(v9);t=db(t)||0,g9(r)&&(h=!!r.leading,d="maxWait"in r,i=d?b9(db(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function g(v){var w=a,k=s;return a=s=void 0,u=v,l=e.apply(k,w),l}function b(v){return u=v,o=setTimeout(N,t),h?g(v):l}function x(v){var w=v-c,k=v-u,P=t-w;return d?j9(P,i-k):P}function j(v){var w=v-c,k=v-u;return c===void 0||w>=t||w<0||d&&k>=i}function N(){var v=hf();if(j(v))return S(v);o=setTimeout(N,x(v))}function S(v){return o=void 0,m&&a?g(v):(a=s=void 0,l)}function y(){o!==void 0&&clearTimeout(o),u=0,a=c=s=o=void 0}function f(){return o===void 0?l:S(hf())}function p(){var v=hf(),w=j(v);if(a=arguments,s=this,c=v,w){if(o===void 0)return b(c);if(d)return clearTimeout(o),o=setTimeout(N,t),g(c)}return o===void 0&&(o=setTimeout(N,t)),l}return p.cancel=y,p.flush=f,p}var w9=N9,S9=w9,C9=oa,k9="Expected a function";function O9(e,t,r){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(k9);return C9(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),S9(e,t,{leading:a,maxWait:t,trailing:s})}var P9=O9;const c2=qe(P9);function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(r),!0).forEach(function(a){T9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function T9(e,t,r){return t=A9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A9(e){var t=D9(e,"string");return ql(t)=="symbol"?t:t+""}function D9(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ql(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9(e,t){return _9(e)||$9(e,t)||I9(e,t)||M9()}function M9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I9(e,t){if(e){if(typeof e=="string")return fb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fb(e,t)}}function fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function $9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function _9(e){if(Array.isArray(e))return e}var hb=C.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,l=i===void 0?"100%":i,o=e.height,c=o===void 0?"100%":o,u=e.minWidth,h=u===void 0?0:u,d=e.minHeight,m=e.maxHeight,g=e.children,b=e.debounce,x=b===void 0?0:b,j=e.id,N=e.className,S=e.onResize,y=e.style,f=y===void 0?{}:y,p=C.useRef(null),v=C.useRef();v.current=S,C.useImperativeHandle(t,function(){return Object.defineProperty(p.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),p.current},configurable:!0})});var w=C.useState({containerWidth:s.width,containerHeight:s.height}),k=E9(w,2),P=k[0],A=k[1],D=C.useCallback(function(M,L){A(function(R){var E=Math.round(M),B=Math.round(L);return R.containerWidth===E&&R.containerHeight===B?R:{containerWidth:E,containerHeight:B}})},[]);C.useEffect(function(){var M=function(I){var $,F=I[0].contentRect,_=F.width,G=F.height;D(_,G),($=v.current)===null||$===void 0||$.call(v,_,G)};x>0&&(M=c2(M,x,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),R=p.current.getBoundingClientRect(),E=R.width,B=R.height;return D(E,B),L.observe(p.current),function(){L.disconnect()}},[D,x]);var O=C.useMemo(function(){var M=P.containerWidth,L=P.containerHeight;if(M<0||L<0)return null;pn(Oa(l)||Oa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,c),pn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Oa(l)?M:l,E=Oa(c)?L:c;r&&r>0&&(R?E=R/r:E&&(R=E*r),m&&E>m&&(E=m)),pn(R>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,E,l,c,h,d,r);var B=!Array.isArray(g)&&hn(g.type).endsWith("Chart");return q.Children.map(g,function(T){return q.isValidElement(T)?C.cloneElement(T,mc({width:R,height:E},B?{style:mc({height:"100%",width:"100%",maxHeight:E,maxWidth:R},T.props.style)}:{})):T})},[r,g,c,m,d,h,P,l]);return q.createElement("div",{id:j?"".concat(j):void 0,className:Te("recharts-responsive-container",N),style:mc(mc({},f),{},{width:l,height:c,minWidth:h,minHeight:d,maxHeight:m}),ref:p},O)}),u2=function(t){return null};u2.displayName="Cell";function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(r),!0).forEach(function(a){R9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function R9(e,t,r){return t=F9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e){var t=L9(e,"string");return Ul(t)=="symbol"?t:t+""}function L9(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ul(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var as={widthCache:{},cacheCount:0},B9=2e3,q9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xb="recharts_measurement_span";function U9(e){var t=up({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ol=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xn.isSsr)return{width:0,height:0};var a=U9(r),s=JSON.stringify({text:t,copyStyle:a});if(as.widthCache[s])return as.widthCache[s];try{var i=document.getElementById(xb);i||(i=document.createElement("span"),i.setAttribute("id",xb),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=up(up({},q9),a);Object.assign(i.style,l),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return as.widthCache[s]=c,++as.cacheCount>B9&&(as.cacheCount=0,as.widthCache={}),c}catch{return{width:0,height:0}}},K9=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function Du(e,t){return G9(e)||V9(e,t)||z9(e,t)||W9()}function W9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9(e,t){if(e){if(typeof e=="string")return yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yb(e,t)}}function yb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function V9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function G9(e){if(Array.isArray(e))return e}function H9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gb(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,J9(a.key),a)}}function Q9(e,t,r){return t&&gb(e.prototype,t),r&&gb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J9(e){var t=X9(e,"string");return Kl(t)=="symbol"?t:t+""}function X9(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Kl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Z9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,d2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},e8=Object.keys(d2),bs="NaN";function t8(e,t){return e*d2[t]}var fc=function(){function e(t,r){H9(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Y9.test(r)&&(this.num=NaN,this.unit=""),e8.includes(r)&&(this.num=t8(t,r),this.unit="px")}return Q9(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=Z9.exec(r))!==null&&a!==void 0?a:[],i=Du(s,3),l=i[1],o=i[2];return new e(parseFloat(l),o??"")}}])}();function m2(e){if(e.includes(bs))return bs;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=vb.exec(t))!==null&&r!==void 0?r:[],s=Du(a,4),i=s[1],l=s[2],o=s[3],c=fc.parse(i??""),u=fc.parse(o??""),h=l==="*"?c.multiply(u):c.divide(u);if(h.isNaN())return bs;t=t.replace(vb,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,m=(d=bb.exec(t))!==null&&d!==void 0?d:[],g=Du(m,4),b=g[1],x=g[2],j=g[3],N=fc.parse(b??""),S=fc.parse(j??""),y=x==="+"?N.add(S):N.subtract(S);if(y.isNaN())return bs;t=t.replace(bb,y.toString())}return t}var jb=/\(([^()]*)\)/;function r8(e){for(var t=e;t.includes("(");){var r=jb.exec(t),a=Du(r,2),s=a[1];t=t.replace(jb,m2(s))}return t}function n8(e){var t=e.replace(/\s+/g,"");return t=r8(t),t=m2(t),t}function a8(e){try{return n8(e)}catch{return bs}}function pf(e){var t=a8(e.slice(5,-1));return t===bs?"":t}var s8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],i8=["dx","dy","angle","className","breakAll"];function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dp.apply(this,arguments)}function Nb(e,t){if(e==null)return{};var r=l8(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function l8(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function wb(e,t){return d8(e)||u8(e,t)||c8(e,t)||o8()}function o8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c8(e,t){if(e){if(typeof e=="string")return Sb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sb(e,t)}}function Sb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function u8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function d8(e){if(Array.isArray(e))return e}var f2=/[ \f\n\r\t\v\u2028\u2029]+/,h2=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];Se(r)||(a?i=r.toString().split(""):i=r.toString().split(f2));var l=i.map(function(c){return{word:c,width:ol(c,s).width}}),o=a?0:ol("",s).width;return{wordsWithComputedWidth:l,spaceWidth:o}}catch{return null}},m8=function(t,r,a,s,i){var l=t.maxLines,o=t.children,c=t.style,u=t.breakAll,h=ne(l),d=o,m=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(E,B){var T=B.word,I=B.width,$=E[E.length-1];if($&&(s==null||i||$.width+I+a<Number(s)))$.words.push(T),$.width+=I+a;else{var F={words:[T],width:I};E.push(F)}return E},[])},g=m(r),b=function(R){return R.reduce(function(E,B){return E.width>B.width?E:B})};if(!h)return g;for(var x="",j=function(R){var E=d.slice(0,R),B=h2({breakAll:u,style:c,children:E+x}).wordsWithComputedWidth,T=m(B),I=T.length>l||b(T).width>Number(s);return[I,T]},N=0,S=d.length-1,y=0,f;N<=S&&y<=d.length-1;){var p=Math.floor((N+S)/2),v=p-1,w=j(v),k=wb(w,2),P=k[0],A=k[1],D=j(p),O=wb(D,1),M=O[0];if(!P&&!M&&(N=p+1),P&&M&&(S=p-1),!P&&M){f=A;break}y++}return f||g},Cb=function(t){var r=Se(t)?[]:t.toString().split(f2);return[{words:r}]},f8=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,o=t.maxLines;if((r||a)&&!xn.isSsr){var c,u,h=h2({breakAll:l,children:s,style:i});if(h){var d=h.wordsWithComputedWidth,m=h.spaceWidth;c=d,u=m}else return Cb(s);return m8({breakAll:l,children:s,maxLines:o,style:i},c,u,r,a)}return Cb(s)},kb="#808080",Eu=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.lineHeight,o=l===void 0?"1em":l,c=t.capHeight,u=c===void 0?"0.71em":c,h=t.scaleToFit,d=h===void 0?!1:h,m=t.textAnchor,g=m===void 0?"start":m,b=t.verticalAnchor,x=b===void 0?"end":b,j=t.fill,N=j===void 0?kb:j,S=Nb(t,s8),y=C.useMemo(function(){return f8({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:d,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,d,S.style,S.width]),f=S.dx,p=S.dy,v=S.angle,w=S.className,k=S.breakAll,P=Nb(S,i8);if(!ft(a)||!ft(i))return null;var A=a+(ne(f)?f:0),D=i+(ne(p)?p:0),O;switch(x){case"start":O=pf("calc(".concat(u,")"));break;case"middle":O=pf("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:O=pf("calc(".concat(y.length-1," * -").concat(o,")"));break}var M=[];if(d){var L=y[0].width,R=S.width;M.push("scale(".concat((ne(R)?R/L:1)/L,")"))}return v&&M.push("rotate(".concat(v,", ").concat(A,", ").concat(D,")")),M.length&&(P.transform=M.join(" ")),q.createElement("text",dp({},Oe(P,!0),{x:A,y:D,className:Te("recharts-text",w),textAnchor:g,fill:N.includes("url")?kb:N}),y.map(function(E,B){var T=E.words.join(k?"":" ");return q.createElement("tspan",{x:A,dy:B===0?O:o,key:"".concat(T,"-").concat(B)},T)}))};function Yn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Uy(e){let t,r,a;e.length!==2?(t=Yn,r=(o,c)=>Yn(e(o),c),a=(o,c)=>e(o)-c):(t=e===Yn||e===h8?e:p8,r=e,a=e);function s(o,c,u=0,h=o.length){if(u<h){if(t(c,c)!==0)return h;do{const d=u+h>>>1;r(o[d],c)<0?u=d+1:h=d}while(u<h)}return u}function i(o,c,u=0,h=o.length){if(u<h){if(t(c,c)!==0)return h;do{const d=u+h>>>1;r(o[d],c)<=0?u=d+1:h=d}while(u<h)}return u}function l(o,c,u=0,h=o.length){const d=s(o,c,u,h-1);return d>u&&a(o[d-1],c)>-a(o[d],c)?d-1:d}return{left:s,center:l,right:i}}function p8(){return 0}function p2(e){return e===null?NaN:+e}function*x8(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(a=+a)>=a&&(yield a)}}const y8=Uy(Yn),g8=y8.right;Uy(p2).center;const Io=g8;class Ob extends Map{constructor(t,r=j8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(Pb(this,t))}has(t){return super.has(Pb(this,t))}set(t,r){return super.set(v8(this,t),r)}delete(t){return super.delete(b8(this,t))}}function Pb({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function v8({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function b8({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function j8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function N8(e=Yn){if(e===Yn)return x2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function x2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const w8=Math.sqrt(50),S8=Math.sqrt(10),C8=Math.sqrt(2);function Mu(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),l=i>=w8?10:i>=S8?5:i>=C8?2:1;let o,c,u;return s<0?(u=Math.pow(10,-s)/l,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*l,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?Mu(e,t,r*2):[o,c,u]}function mp(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,l]=a?Mu(t,e,r):Mu(e,t,r);if(!(i>=s))return[];const o=i-s+1,c=new Array(o);if(a)if(l<0)for(let u=0;u<o;++u)c[u]=(i-u)/-l;else for(let u=0;u<o;++u)c[u]=(i-u)*l;else if(l<0)for(let u=0;u<o;++u)c[u]=(s+u)/-l;else for(let u=0;u<o;++u)c[u]=(s+u)*l;return c}function fp(e,t,r){return t=+t,e=+e,r=+r,Mu(e,t,r)[2]}function hp(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?fp(t,e,r):fp(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function Tb(e,t){let r;if(t===void 0)for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function Ab(e,t){let r;if(t===void 0)for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function y2(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?x2:N8(s);a>r;){if(a-r>600){const c=a-r+1,u=t-r+1,h=Math.log(c),d=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*d*(c-d)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*d/c+m)),b=Math.min(a,Math.floor(t+(c-u)*d/c+m));y2(e,t,g,b,s)}const i=e[t];let l=r,o=a;for(Ri(e,r,t),s(e[a],i)>0&&Ri(e,r,a);l<o;){for(Ri(e,l,o),++l,--o;s(e[l],i)<0;)++l;for(;s(e[o],i)>0;)--o}s(e[r],i)===0?Ri(e,r,o):(++o,Ri(e,o,a)),o<=t&&(r=o+1),t<=o&&(a=o-1)}return e}function Ri(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function k8(e,t,r){if(e=Float64Array.from(x8(e,r)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return Ab(e);if(t>=1)return Tb(e);var a,s=(a-1)*t,i=Math.floor(s),l=Tb(y2(e,i).subarray(0,i+1)),o=Ab(e.subarray(i+1));return l+(o-l)*(s-i)}}function O8(e,t,r=p2){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(s-i)}}function P8(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function Cr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function An(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const pp=Symbol("implicit");function Ky(){var e=new Ob,t=[],r=[],a=pp;function s(i){let l=e.get(i);if(l===void 0){if(a!==pp)return a;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Ob;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Ky(t,r).unknown(a)},Cr.apply(s,arguments),s}function Wl(){var e=Ky().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,l,o=!1,c=0,u=0,h=.5;delete e.unknown;function d(){var m=t().length,g=s<a,b=g?s:a,x=g?a:s;i=(x-b)/Math.max(1,m-c+u*2),o&&(i=Math.floor(i)),b+=(x-b-i*(m-c))*h,l=i*(1-c),o&&(b=Math.round(b),l=Math.round(l));var j=P8(m).map(function(N){return b+i*N});return r(g?j.reverse():j)}return e.domain=function(m){return arguments.length?(t(m),d()):t()},e.range=function(m){return arguments.length?([a,s]=m,a=+a,s=+s,d()):[a,s]},e.rangeRound=function(m){return[a,s]=m,a=+a,s=+s,o=!0,d()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(m){return arguments.length?(o=!!m,d()):o},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),d()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),d()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,d()):u},e.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),d()):h},e.copy=function(){return Wl(t(),[a,s]).round(o).paddingInner(c).paddingOuter(u).align(h)},Cr.apply(d(),arguments)}function g2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return g2(t())},e}function cl(){return g2(Wl.apply(null,arguments).paddingInner(1))}function Wy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function v2(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function $o(){}var zl=.7,Iu=1/zl,Ds="\\s*([+-]?\\d+)\\s*",Vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T8=/^#([0-9a-f]{3,8})$/,A8=new RegExp(`^rgb\\(${Ds},${Ds},${Ds}\\)$`),D8=new RegExp(`^rgb\\(${Jr},${Jr},${Jr}\\)$`),E8=new RegExp(`^rgba\\(${Ds},${Ds},${Ds},${Vl}\\)$`),M8=new RegExp(`^rgba\\(${Jr},${Jr},${Jr},${Vl}\\)$`),I8=new RegExp(`^hsl\\(${Vl},${Jr},${Jr}\\)$`),$8=new RegExp(`^hsla\\(${Vl},${Jr},${Jr},${Vl}\\)$`),Db={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wy($o,Gl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Eb,formatHex:Eb,formatHex8:_8,formatHsl:R8,formatRgb:Mb,toString:Mb});function Eb(){return this.rgb().formatHex()}function _8(){return this.rgb().formatHex8()}function R8(){return b2(this).formatHsl()}function Mb(){return this.rgb().formatRgb()}function Gl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=T8.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ib(t):r===3?new zt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?hc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?hc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=A8.exec(e))?new zt(t[1],t[2],t[3],1):(t=D8.exec(e))?new zt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=E8.exec(e))?hc(t[1],t[2],t[3],t[4]):(t=M8.exec(e))?hc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=I8.exec(e))?Rb(t[1],t[2]/100,t[3]/100,1):(t=$8.exec(e))?Rb(t[1],t[2]/100,t[3]/100,t[4]):Db.hasOwnProperty(e)?Ib(Db[e]):e==="transparent"?new zt(NaN,NaN,NaN,0):null}function Ib(e){return new zt(e>>16&255,e>>8&255,e&255,1)}function hc(e,t,r,a){return a<=0&&(e=t=r=NaN),new zt(e,t,r,a)}function F8(e){return e instanceof $o||(e=Gl(e)),e?(e=e.rgb(),new zt(e.r,e.g,e.b,e.opacity)):new zt}function xp(e,t,r,a){return arguments.length===1?F8(e):new zt(e,t,r,a??1)}function zt(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}Wy(zt,xp,v2($o,{brighter(e){return e=e==null?Iu:Math.pow(Iu,e),new zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zl:Math.pow(zl,e),new zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zt(Ia(this.r),Ia(this.g),Ia(this.b),$u(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$b,formatHex:$b,formatHex8:L8,formatRgb:_b,toString:_b}));function $b(){return`#${Pa(this.r)}${Pa(this.g)}${Pa(this.b)}`}function L8(){return`#${Pa(this.r)}${Pa(this.g)}${Pa(this.b)}${Pa((isNaN(this.opacity)?1:this.opacity)*255)}`}function _b(){const e=$u(this.opacity);return`${e===1?"rgb(":"rgba("}${Ia(this.r)}, ${Ia(this.g)}, ${Ia(this.b)}${e===1?")":`, ${e})`}`}function $u(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ia(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pa(e){return e=Ia(e),(e<16?"0":"")+e.toString(16)}function Rb(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Rr(e,t,r,a)}function b2(e){if(e instanceof Rr)return new Rr(e.h,e.s,e.l,e.opacity);if(e instanceof $o||(e=Gl(e)),!e)return new Rr;if(e instanceof Rr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),l=NaN,o=i-s,c=(i+s)/2;return o?(t===i?l=(r-a)/o+(r<a)*6:r===i?l=(a-t)/o+2:l=(t-r)/o+4,o/=c<.5?i+s:2-i-s,l*=60):o=c>0&&c<1?0:l,new Rr(l,o,c,e.opacity)}function B8(e,t,r,a){return arguments.length===1?b2(e):new Rr(e,t,r,a??1)}function Rr(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}Wy(Rr,B8,v2($o,{brighter(e){return e=e==null?Iu:Math.pow(Iu,e),new Rr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zl:Math.pow(zl,e),new Rr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new zt(xf(e>=240?e-240:e+120,s,a),xf(e,s,a),xf(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Rr(Fb(this.h),pc(this.s),pc(this.l),$u(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$u(this.opacity);return`${e===1?"hsl(":"hsla("}${Fb(this.h)}, ${pc(this.s)*100}%, ${pc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Fb(e){return e=(e||0)%360,e<0?e+360:e}function pc(e){return Math.max(0,Math.min(1,e||0))}function xf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zy=e=>()=>e;function q8(e,t){return function(r){return e+r*t}}function U8(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function K8(e){return(e=+e)==1?j2:function(t,r){return r-t?U8(t,r,e):zy(isNaN(t)?r:t)}}function j2(e,t){var r=t-e;return r?q8(e,r):zy(isNaN(e)?t:e)}const Lb=function e(t){var r=K8(t);function a(s,i){var l=r((s=xp(s)).r,(i=xp(i)).r),o=r(s.g,i.g),c=r(s.b,i.b),u=j2(s.opacity,i.opacity);return function(h){return s.r=l(h),s.g=o(h),s.b=c(h),s.opacity=u(h),s+""}}return a.gamma=e,a}(1);function W8(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function z8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V8(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),l;for(l=0;l<a;++l)s[l]=wi(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<a;++l)i[l]=s[l](o);return i}}function G8(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function _u(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function H8(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=wi(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var yp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yf=new RegExp(yp.source,"g");function Q8(e){return function(){return e}}function J8(e){return function(t){return e(t)+""}}function X8(e,t){var r=yp.lastIndex=yf.lastIndex=0,a,s,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(a=yp.exec(e))&&(s=yf.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(a=a[0])===(s=s[0])?o[l]?o[l]+=s:o[++l]=s:(o[++l]=null,c.push({i:l,x:_u(a,s)})),r=yf.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?J8(c[0].x):Q8(t):(t=c.length,function(u){for(var h=0,d;h<t;++h)o[(d=c[h]).i]=d.x(u);return o.join("")})}function wi(e,t){var r=typeof t,a;return t==null||r==="boolean"?zy(t):(r==="number"?_u:r==="string"?(a=Gl(t))?(t=a,Lb):X8:t instanceof Gl?Lb:t instanceof Date?G8:z8(t)?W8:Array.isArray(t)?V8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?H8:_u)(e,t)}function Vy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Y8(e,t){t===void 0&&(t=e,e=wi);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(l){var o=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[o](l-o)}}function Z8(e){return function(){return e}}function Ru(e){return+e}var Bb=[0,1];function Ft(e){return e}function gp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Z8(isNaN(t)?NaN:.5)}function eq(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function tq(e,t,r){var a=e[0],s=e[1],i=t[0],l=t[1];return s<a?(a=gp(s,a),i=r(l,i)):(a=gp(a,s),i=r(i,l)),function(o){return i(a(o))}}function rq(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)s[l]=gp(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var c=Io(e,o,1,a)-1;return i[c](s[c](o))}}function _o(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function am(){var e=Bb,t=Bb,r=wi,a,s,i,l=Ft,o,c,u;function h(){var m=Math.min(e.length,t.length);return l!==Ft&&(l=eq(e[0],e[m-1])),o=m>2?rq:tq,c=u=null,d}function d(m){return m==null||isNaN(m=+m)?i:(c||(c=o(e.map(a),t,r)))(a(l(m)))}return d.invert=function(m){return l(s((u||(u=o(t,e.map(a),_u)))(m)))},d.domain=function(m){return arguments.length?(e=Array.from(m,Ru),h()):e.slice()},d.range=function(m){return arguments.length?(t=Array.from(m),h()):t.slice()},d.rangeRound=function(m){return t=Array.from(m),r=Vy,h()},d.clamp=function(m){return arguments.length?(l=m?!0:Ft,h()):l!==Ft},d.interpolate=function(m){return arguments.length?(r=m,h()):r},d.unknown=function(m){return arguments.length?(i=m,d):i},function(m,g){return a=m,s=g,h()}}function Gy(){return am()(Ft,Ft)}function nq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Vs(e){return e=Fu(Math.abs(e)),e?e[1]:NaN}function aq(e,t){return function(r,a){for(var s=r.length,i=[],l=0,o=e[0],c=0;s>0&&o>0&&(c+o+1>a&&(o=Math.max(1,a-c)),i.push(r.substring(s-=o,s+o)),!((c+=o+1)>a));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function sq(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var iq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hl(e){if(!(t=iq.exec(e)))throw new Error("invalid format: "+e);var t;return new Hy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hl.prototype=Hy.prototype;function Hy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Hy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lq(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var N2;function oq(e,t){var r=Fu(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(N2=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Fu(e,Math.max(0,t+i-1))[0]}function qb(e,t){var r=Fu(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const Ub={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qb(e*100,t),r:qb,s:oq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kb(e){return e}var Wb=Array.prototype.map,zb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cq(e){var t=e.grouping===void 0||e.thousands===void 0?Kb:aq(Wb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Kb:sq(Wb.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Hl(d);var m=d.fill,g=d.align,b=d.sign,x=d.symbol,j=d.zero,N=d.width,S=d.comma,y=d.precision,f=d.trim,p=d.type;p==="n"?(S=!0,p="g"):Ub[p]||(y===void 0&&(y=12),f=!0,p="g"),(j||m==="0"&&g==="=")&&(j=!0,m="0",g="=");var v=x==="$"?r:x==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",w=x==="$"?a:/[%p]/.test(p)?l:"",k=Ub[p],P=/[defgprs%]/.test(p);y=y===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function A(D){var O=v,M=w,L,R,E;if(p==="c")M=k(D)+M,D="";else{D=+D;var B=D<0||1/D<0;if(D=isNaN(D)?c:k(Math.abs(D),y),f&&(D=lq(D)),B&&+D==0&&b!=="+"&&(B=!1),O=(B?b==="("?b:o:b==="-"||b==="("?"":b)+O,M=(p==="s"?zb[8+N2/3]:"")+M+(B&&b==="("?")":""),P){for(L=-1,R=D.length;++L<R;)if(E=D.charCodeAt(L),48>E||E>57){M=(E===46?s+D.slice(L+1):D.slice(L))+M,D=D.slice(0,L);break}}}S&&!j&&(D=t(D,1/0));var T=O.length+D.length+M.length,I=T<N?new Array(N-T+1).join(m):"";switch(S&&j&&(D=t(I+D,I.length?N-M.length:1/0),I=""),g){case"<":D=O+D+M+I;break;case"=":D=O+I+D+M;break;case"^":D=I.slice(0,T=I.length>>1)+O+D+M+I.slice(T);break;default:D=I+O+D+M;break}return i(D)}return A.toString=function(){return d+""},A}function h(d,m){var g=u((d=Hl(d),d.type="f",d)),b=Math.max(-8,Math.min(8,Math.floor(Vs(m)/3)))*3,x=Math.pow(10,-b),j=zb[8+b/3];return function(N){return g(x*N)+j}}return{format:u,formatPrefix:h}}var xc,Qy,w2;uq({thousands:",",grouping:[3],currency:["$",""]});function uq(e){return xc=cq(e),Qy=xc.format,w2=xc.formatPrefix,xc}function dq(e){return Math.max(0,-Vs(Math.abs(e)))}function mq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vs(t)/3)))*3-Vs(Math.abs(e)))}function fq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vs(t)-Vs(e))+1}function S2(e,t,r,a){var s=hp(e,t,r),i;switch(a=Hl(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=mq(s,l))&&(a.precision=i),w2(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=fq(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=dq(s))&&(a.precision=i-(a.type==="%")*2);break}}return Qy(a)}function ua(e){var t=e.domain;return e.ticks=function(r){var a=t();return mp(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return S2(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,l=a[s],o=a[i],c,u,h=10;for(o<l&&(u=l,l=o,o=u,u=s,s=i,i=u);h-- >0;){if(u=fp(l,o,r),u===c)return a[s]=l,a[i]=o,t(a);if(u>0)l=Math.floor(l/u)*u,o=Math.ceil(o/u)*u;else if(u<0)l=Math.ceil(l*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function Lu(){var e=Gy();return e.copy=function(){return _o(e,Lu())},Cr.apply(e,arguments),ua(e)}function C2(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Ru),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return C2(e).unknown(t)},e=arguments.length?Array.from(e,Ru):[0,1],ua(r)}function k2(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],l;return i<s&&(l=r,r=a,a=l,l=s,s=i,i=l),e[r]=t.floor(s),e[a]=t.ceil(i),e}function Vb(e){return Math.log(e)}function Gb(e){return Math.exp(e)}function hq(e){return-Math.log(-e)}function pq(e){return-Math.exp(-e)}function xq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yq(e){return e===10?xq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Hb(e){return(t,r)=>-e(-t,r)}function Jy(e){const t=e(Vb,Gb),r=t.domain;let a=10,s,i;function l(){return s=gq(a),i=yq(a),r()[0]<0?(s=Hb(s),i=Hb(i),e(hq,pq)):e(Vb,Gb),t}return t.base=function(o){return arguments.length?(a=+o,l()):a},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const c=r();let u=c[0],h=c[c.length-1];const d=h<u;d&&([u,h]=[h,u]);let m=s(u),g=s(h),b,x;const j=o==null?10:+o;let N=[];if(!(a%1)&&g-m<j){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(b=1;b<a;++b)if(x=m<0?b/i(-m):b*i(m),!(x<u)){if(x>h)break;N.push(x)}}else for(;m<=g;++m)for(b=a-1;b>=1;--b)if(x=m>0?b/i(-m):b*i(m),!(x<u)){if(x>h)break;N.push(x)}N.length*2<j&&(N=mp(u,h,j))}else N=mp(m,g,Math.min(g-m,j)).map(i);return d?N.reverse():N},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=Hl(c)).precision==null&&(c.trim=!0),c=Qy(c)),o===1/0)return c;const u=Math.max(1,a*o/t.ticks().length);return h=>{let d=h/i(Math.round(s(h)));return d*a<a-.5&&(d*=a),d<=u?c(h):""}},t.nice=()=>r(k2(r(),{floor:o=>i(Math.floor(s(o))),ceil:o=>i(Math.ceil(s(o)))})),t}function O2(){const e=Jy(am()).domain([1,10]);return e.copy=()=>_o(e,O2()).base(e.base()),Cr.apply(e,arguments),e}function Qb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Jb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Xy(e){var t=1,r=e(Qb(t),Jb(t));return r.constant=function(a){return arguments.length?e(Qb(t=+a),Jb(t)):t},ua(r)}function P2(){var e=Xy(am());return e.copy=function(){return _o(e,P2()).constant(e.constant())},Cr.apply(e,arguments)}function Xb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bq(e){return e<0?-e*e:e*e}function Yy(e){var t=e(Ft,Ft),r=1;function a(){return r===1?e(Ft,Ft):r===.5?e(vq,bq):e(Xb(r),Xb(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},ua(t)}function Zy(){var e=Yy(am());return e.copy=function(){return _o(e,Zy()).exponent(e.exponent())},Cr.apply(e,arguments),e}function jq(){return Zy.apply(null,arguments).exponent(.5)}function Yb(e){return Math.sign(e)*e*e}function Nq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function T2(){var e=Gy(),t=[0,1],r=!1,a;function s(i){var l=Nq(e(i));return isNaN(l)?a:r?Math.round(l):l}return s.invert=function(i){return e.invert(Yb(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ru)).map(Yb)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return T2(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Cr.apply(s,arguments),ua(s)}function A2(){var e=[],t=[],r=[],a;function s(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=O8(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?a:t[Io(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Yn),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return A2().domain(e).range(t).unknown(a)},Cr.apply(i,arguments)}function D2(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function l(c){return c!=null&&c<=c?s[Io(a,c,0,r)]:i}function o(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,o()):s.slice()},l.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,a[0]]:u>=r?[a[r-1],t]:[a[u-1],a[u]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return a.slice()},l.copy=function(){return D2().domain([e,t]).range(s).unknown(i)},Cr.apply(ua(l),arguments)}function E2(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[Io(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return E2().domain(e).range(t).unknown(r)},Cr.apply(s,arguments)}const gf=new Date,vf=new Date;function ht(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),o=s.ceil(i);return i-l<o-i?l:o},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,o)=>{const c=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<l);return c},s.filter=i=>ht(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(s.count=(i,l)=>(gf.setTime(+i),vf.setTime(+l),e(gf),e(vf),Math.floor(r(gf,vf))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?l=>a(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const Bu=ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Bu);Bu.range;const cn=1e3,xr=cn*60,un=xr*60,wn=un*24,eg=wn*7,Zb=wn*30,bf=wn*365,Ta=ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*cn)},(e,t)=>(t-e)/cn,e=>e.getUTCSeconds());Ta.range;const tg=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cn)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getMinutes());tg.range;const rg=ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getUTCMinutes());rg.range;const ng=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cn-e.getMinutes()*xr)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getHours());ng.range;const ag=ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCHours());ag.range;const Ro=ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xr)/wn,e=>e.getDate()-1);Ro.range;const sm=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wn,e=>e.getUTCDate()-1);sm.range;const M2=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wn,e=>Math.floor(e/wn));M2.range;function Za(e){return ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xr)/eg)}const im=Za(0),qu=Za(1),wq=Za(2),Sq=Za(3),Gs=Za(4),Cq=Za(5),kq=Za(6);im.range;qu.range;wq.range;Sq.range;Gs.range;Cq.range;kq.range;function es(e){return ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/eg)}const lm=es(0),Uu=es(1),Oq=es(2),Pq=es(3),Hs=es(4),Tq=es(5),Aq=es(6);lm.range;Uu.range;Oq.range;Pq.range;Hs.range;Tq.range;Aq.range;const sg=ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sg.range;const ig=ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ig.range;const Sn=ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Sn.range;const Cn=ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Cn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Cn.range;function I2(e,t,r,a,s,i){const l=[[Ta,1,cn],[Ta,5,5*cn],[Ta,15,15*cn],[Ta,30,30*cn],[i,1,xr],[i,5,5*xr],[i,15,15*xr],[i,30,30*xr],[s,1,un],[s,3,3*un],[s,6,6*un],[s,12,12*un],[a,1,wn],[a,2,2*wn],[r,1,eg],[t,1,Zb],[t,3,3*Zb],[e,1,bf]];function o(u,h,d){const m=h<u;m&&([u,h]=[h,u]);const g=d&&typeof d.range=="function"?d:c(u,h,d),b=g?g.range(u,+h+1):[];return m?b.reverse():b}function c(u,h,d){const m=Math.abs(h-u)/d,g=Uy(([,,j])=>j).right(l,m);if(g===l.length)return e.every(hp(u/bf,h/bf,d));if(g===0)return Bu.every(Math.max(hp(u,h,d),1));const[b,x]=l[m/l[g-1][2]<l[g][2]/m?g-1:g];return b.every(x)}return[o,c]}const[Dq,Eq]=I2(Cn,ig,lm,M2,ag,rg),[Mq,Iq]=I2(Sn,sg,im,Ro,ng,tg);function jf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fi(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function $q(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,u=Li(s),h=Bi(s),d=Li(i),m=Bi(i),g=Li(l),b=Bi(l),x=Li(o),j=Bi(o),N=Li(c),S=Bi(c),y={a:B,A:T,b:I,B:$,c:null,d:sj,e:sj,f:aU,g:hU,G:xU,H:tU,I:rU,j:nU,L:$2,m:sU,M:iU,p:F,q:_,Q:oj,s:cj,S:lU,u:oU,U:cU,V:uU,w:dU,W:mU,x:null,X:null,y:fU,Y:pU,Z:yU,"%":lj},f={a:G,A:ee,b:de,B:X,c:null,d:ij,e:ij,f:jU,g:DU,G:MU,H:gU,I:vU,j:bU,L:R2,m:NU,M:wU,p:ae,q:we,Q:oj,s:cj,S:SU,u:CU,U:kU,V:OU,w:PU,W:TU,x:null,X:null,y:AU,Y:EU,Z:IU,"%":lj},p={a:A,A:D,b:O,B:M,c:L,d:nj,e:nj,f:Xq,g:rj,G:tj,H:aj,I:aj,j:Gq,L:Jq,m:Vq,M:Hq,p:P,q:zq,Q:Zq,s:eU,S:Qq,u:Bq,U:qq,V:Uq,w:Lq,W:Kq,x:R,X:E,y:rj,Y:tj,Z:Wq,"%":Yq};y.x=v(r,y),y.X=v(a,y),y.c=v(t,y),f.x=v(r,f),f.X=v(a,f),f.c=v(t,f);function v(K,le){return function(me){var H=[],ge=-1,fe=0,W=K.length,re,Z,U;for(me instanceof Date||(me=new Date(+me));++ge<W;)K.charCodeAt(ge)===37&&(H.push(K.slice(fe,ge)),(Z=ej[re=K.charAt(++ge)])!=null?re=K.charAt(++ge):Z=re==="e"?" ":"0",(U=le[re])&&(re=U(me,Z)),H.push(re),fe=ge+1);return H.push(K.slice(fe,ge)),H.join("")}}function w(K,le){return function(me){var H=Fi(1900,void 0,1),ge=k(H,K,me+="",0),fe,W;if(ge!=me.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(le&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(fe=Nf(Fi(H.y,0,1)),W=fe.getUTCDay(),fe=W>4||W===0?Uu.ceil(fe):Uu(fe),fe=sm.offset(fe,(H.V-1)*7),H.y=fe.getUTCFullYear(),H.m=fe.getUTCMonth(),H.d=fe.getUTCDate()+(H.w+6)%7):(fe=jf(Fi(H.y,0,1)),W=fe.getDay(),fe=W>4||W===0?qu.ceil(fe):qu(fe),fe=Ro.offset(fe,(H.V-1)*7),H.y=fe.getFullYear(),H.m=fe.getMonth(),H.d=fe.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),W="Z"in H?Nf(Fi(H.y,0,1)).getUTCDay():jf(Fi(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(W+5)%7:H.w+H.U*7-(W+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Nf(H)):jf(H)}}function k(K,le,me,H){for(var ge=0,fe=le.length,W=me.length,re,Z;ge<fe;){if(H>=W)return-1;if(re=le.charCodeAt(ge++),re===37){if(re=le.charAt(ge++),Z=p[re in ej?le.charAt(ge++):re],!Z||(H=Z(K,me,H))<0)return-1}else if(re!=me.charCodeAt(H++))return-1}return H}function P(K,le,me){var H=u.exec(le.slice(me));return H?(K.p=h.get(H[0].toLowerCase()),me+H[0].length):-1}function A(K,le,me){var H=g.exec(le.slice(me));return H?(K.w=b.get(H[0].toLowerCase()),me+H[0].length):-1}function D(K,le,me){var H=d.exec(le.slice(me));return H?(K.w=m.get(H[0].toLowerCase()),me+H[0].length):-1}function O(K,le,me){var H=N.exec(le.slice(me));return H?(K.m=S.get(H[0].toLowerCase()),me+H[0].length):-1}function M(K,le,me){var H=x.exec(le.slice(me));return H?(K.m=j.get(H[0].toLowerCase()),me+H[0].length):-1}function L(K,le,me){return k(K,t,le,me)}function R(K,le,me){return k(K,r,le,me)}function E(K,le,me){return k(K,a,le,me)}function B(K){return l[K.getDay()]}function T(K){return i[K.getDay()]}function I(K){return c[K.getMonth()]}function $(K){return o[K.getMonth()]}function F(K){return s[+(K.getHours()>=12)]}function _(K){return 1+~~(K.getMonth()/3)}function G(K){return l[K.getUTCDay()]}function ee(K){return i[K.getUTCDay()]}function de(K){return c[K.getUTCMonth()]}function X(K){return o[K.getUTCMonth()]}function ae(K){return s[+(K.getUTCHours()>=12)]}function we(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var le=v(K+="",y);return le.toString=function(){return K},le},parse:function(K){var le=w(K+="",!1);return le.toString=function(){return K},le},utcFormat:function(K){var le=v(K+="",f);return le.toString=function(){return K},le},utcParse:function(K){var le=w(K+="",!0);return le.toString=function(){return K},le}}}var ej={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,_q=/^%/,Rq=/[\\^$*+?|[\]().{}]/g;function De(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function Fq(e){return e.replace(Rq,"\\$&")}function Li(e){return new RegExp("^(?:"+e.map(Fq).join("|")+")","i")}function Bi(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Lq(e,t,r){var a=bt.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function Bq(e,t,r){var a=bt.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function qq(e,t,r){var a=bt.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Uq(e,t,r){var a=bt.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function Kq(e,t,r){var a=bt.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function tj(e,t,r){var a=bt.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function rj(e,t,r){var a=bt.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function Wq(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function zq(e,t,r){var a=bt.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function Vq(e,t,r){var a=bt.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function nj(e,t,r){var a=bt.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function Gq(e,t,r){var a=bt.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function aj(e,t,r){var a=bt.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function Hq(e,t,r){var a=bt.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function Qq(e,t,r){var a=bt.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function Jq(e,t,r){var a=bt.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function Xq(e,t,r){var a=bt.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function Yq(e,t,r){var a=_q.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function Zq(e,t,r){var a=bt.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function eU(e,t,r){var a=bt.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function sj(e,t){return De(e.getDate(),t,2)}function tU(e,t){return De(e.getHours(),t,2)}function rU(e,t){return De(e.getHours()%12||12,t,2)}function nU(e,t){return De(1+Ro.count(Sn(e),e),t,3)}function $2(e,t){return De(e.getMilliseconds(),t,3)}function aU(e,t){return $2(e,t)+"000"}function sU(e,t){return De(e.getMonth()+1,t,2)}function iU(e,t){return De(e.getMinutes(),t,2)}function lU(e,t){return De(e.getSeconds(),t,2)}function oU(e){var t=e.getDay();return t===0?7:t}function cU(e,t){return De(im.count(Sn(e)-1,e),t,2)}function _2(e){var t=e.getDay();return t>=4||t===0?Gs(e):Gs.ceil(e)}function uU(e,t){return e=_2(e),De(Gs.count(Sn(e),e)+(Sn(e).getDay()===4),t,2)}function dU(e){return e.getDay()}function mU(e,t){return De(qu.count(Sn(e)-1,e),t,2)}function fU(e,t){return De(e.getFullYear()%100,t,2)}function hU(e,t){return e=_2(e),De(e.getFullYear()%100,t,2)}function pU(e,t){return De(e.getFullYear()%1e4,t,4)}function xU(e,t){var r=e.getDay();return e=r>=4||r===0?Gs(e):Gs.ceil(e),De(e.getFullYear()%1e4,t,4)}function yU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function ij(e,t){return De(e.getUTCDate(),t,2)}function gU(e,t){return De(e.getUTCHours(),t,2)}function vU(e,t){return De(e.getUTCHours()%12||12,t,2)}function bU(e,t){return De(1+sm.count(Cn(e),e),t,3)}function R2(e,t){return De(e.getUTCMilliseconds(),t,3)}function jU(e,t){return R2(e,t)+"000"}function NU(e,t){return De(e.getUTCMonth()+1,t,2)}function wU(e,t){return De(e.getUTCMinutes(),t,2)}function SU(e,t){return De(e.getUTCSeconds(),t,2)}function CU(e){var t=e.getUTCDay();return t===0?7:t}function kU(e,t){return De(lm.count(Cn(e)-1,e),t,2)}function F2(e){var t=e.getUTCDay();return t>=4||t===0?Hs(e):Hs.ceil(e)}function OU(e,t){return e=F2(e),De(Hs.count(Cn(e),e)+(Cn(e).getUTCDay()===4),t,2)}function PU(e){return e.getUTCDay()}function TU(e,t){return De(Uu.count(Cn(e)-1,e),t,2)}function AU(e,t){return De(e.getUTCFullYear()%100,t,2)}function DU(e,t){return e=F2(e),De(e.getUTCFullYear()%100,t,2)}function EU(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function MU(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Hs(e):Hs.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function IU(){return"+0000"}function lj(){return"%"}function oj(e){return+e}function cj(e){return Math.floor(+e/1e3)}var ss,L2,B2;$U({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $U(e){return ss=$q(e),L2=ss.format,ss.parse,B2=ss.utcFormat,ss.utcParse,ss}function _U(e){return new Date(e)}function RU(e){return e instanceof Date?+e:+new Date(+e)}function lg(e,t,r,a,s,i,l,o,c,u){var h=Gy(),d=h.invert,m=h.domain,g=u(".%L"),b=u(":%S"),x=u("%I:%M"),j=u("%I %p"),N=u("%a %d"),S=u("%b %d"),y=u("%B"),f=u("%Y");function p(v){return(c(v)<v?g:o(v)<v?b:l(v)<v?x:i(v)<v?j:a(v)<v?s(v)<v?N:S:r(v)<v?y:f)(v)}return h.invert=function(v){return new Date(d(v))},h.domain=function(v){return arguments.length?m(Array.from(v,RU)):m().map(_U)},h.ticks=function(v){var w=m();return e(w[0],w[w.length-1],v??10)},h.tickFormat=function(v,w){return w==null?p:u(w)},h.nice=function(v){var w=m();return(!v||typeof v.range!="function")&&(v=t(w[0],w[w.length-1],v??10)),v?m(k2(w,v)):h},h.copy=function(){return _o(h,lg(e,t,r,a,s,i,l,o,c,u))},h}function FU(){return Cr.apply(lg(Mq,Iq,Sn,sg,im,Ro,ng,tg,Ta,L2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LU(){return Cr.apply(lg(Dq,Eq,Cn,ig,lm,sm,ag,rg,Ta,B2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function om(){var e=0,t=1,r,a,s,i,l=Ft,o=!1,c;function u(d){return d==null||isNaN(d=+d)?c:l(s===0?.5:(d=(i(d)-r)*s,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),u):[e,t]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(l=d,u):l};function h(d){return function(m){var g,b;return arguments.length?([g,b]=m,l=d(g,b),u):[l(0),l(1)]}}return u.range=h(wi),u.rangeRound=h(Vy),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),a=d(t),s=r===a?0:1/(a-r),u}}function da(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function q2(){var e=ua(om()(Ft));return e.copy=function(){return da(e,q2())},An.apply(e,arguments)}function U2(){var e=Jy(om()).domain([1,10]);return e.copy=function(){return da(e,U2()).base(e.base())},An.apply(e,arguments)}function K2(){var e=Xy(om());return e.copy=function(){return da(e,K2()).constant(e.constant())},An.apply(e,arguments)}function og(){var e=Yy(om());return e.copy=function(){return da(e,og()).exponent(e.exponent())},An.apply(e,arguments)}function BU(){return og.apply(null,arguments).exponent(.5)}function W2(){var e=[],t=Ft;function r(a){if(a!=null&&!isNaN(a=+a))return t((Io(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Yn),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>k8(e,i/a))},r.copy=function(){return W2(t).domain(e)},An.apply(r,arguments)}function cm(){var e=0,t=.5,r=1,a=1,s,i,l,o,c,u=Ft,h,d=!1,m;function g(x){return isNaN(x=+x)?m:(x=.5+((x=+h(x))-i)*(a*x<a*i?o:c),u(d?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t,r]=x,s=h(e=+e),i=h(t=+t),l=h(r=+r),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),a=i<s?-1:1,g):[e,t,r]},g.clamp=function(x){return arguments.length?(d=!!x,g):d},g.interpolator=function(x){return arguments.length?(u=x,g):u};function b(x){return function(j){var N,S,y;return arguments.length?([N,S,y]=j,u=Y8(x,[N,S,y]),g):[u(0),u(.5),u(1)]}}return g.range=b(wi),g.rangeRound=b(Vy),g.unknown=function(x){return arguments.length?(m=x,g):m},function(x){return h=x,s=x(e),i=x(t),l=x(r),o=s===i?0:.5/(i-s),c=i===l?0:.5/(l-i),a=i<s?-1:1,g}}function z2(){var e=ua(cm()(Ft));return e.copy=function(){return da(e,z2())},An.apply(e,arguments)}function V2(){var e=Jy(cm()).domain([.1,1,10]);return e.copy=function(){return da(e,V2()).base(e.base())},An.apply(e,arguments)}function G2(){var e=Xy(cm());return e.copy=function(){return da(e,G2()).constant(e.constant())},An.apply(e,arguments)}function cg(){var e=Yy(cm());return e.copy=function(){return da(e,cg()).exponent(e.exponent())},An.apply(e,arguments)}function qU(){return cg.apply(null,arguments).exponent(.5)}const uj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wl,scaleDiverging:z2,scaleDivergingLog:V2,scaleDivergingPow:cg,scaleDivergingSqrt:qU,scaleDivergingSymlog:G2,scaleIdentity:C2,scaleImplicit:pp,scaleLinear:Lu,scaleLog:O2,scaleOrdinal:Ky,scalePoint:cl,scalePow:Zy,scaleQuantile:A2,scaleQuantize:D2,scaleRadial:T2,scaleSequential:q2,scaleSequentialLog:U2,scaleSequentialPow:og,scaleSequentialQuantile:W2,scaleSequentialSqrt:BU,scaleSequentialSymlog:K2,scaleSqrt:jq,scaleSymlog:P2,scaleThreshold:E2,scaleTime:FU,scaleUtc:LU,tickFormat:S2},Symbol.toStringTag,{value:"Module"}));var UU=pi;function KU(e,t,r){for(var a=-1,s=e.length;++a<s;){var i=e[a],l=t(i);if(l!=null&&(o===void 0?l===l&&!UU(l):r(l,o)))var o=l,c=i}return c}var H2=KU;function WU(e,t){return e>t}var zU=WU,VU=H2,GU=zU,HU=Ni;function QU(e){return e&&e.length?VU(e,HU,GU):void 0}var JU=QU;const um=qe(JU);function XU(e,t){return e<t}var YU=XU,ZU=H2,eK=YU,tK=Ni;function rK(e){return e&&e.length?ZU(e,tK,eK):void 0}var nK=rK;const dm=qe(nK);var aK=wy,sK=ca,iK=r2,lK=Qt;function oK(e,t){var r=lK(e)?aK:iK;return r(e,sK(t))}var cK=oK,uK=e2,dK=cK;function mK(e,t){return uK(dK(e,t),1)}var fK=mK;const hK=qe(fK);var pK=Fy;function xK(e,t){return pK(e,t)}var yK=xK;const mm=qe(yK);var Si=1e9,gK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dg,Je=!0,Nr="[DecimalError] ",$a=Nr+"Invalid argument: ",ug=Nr+"Exponent out of range: ",Ci=Math.floor,wa=Math.pow,vK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,er,yt=1e7,Ve=7,Q2=9007199254740991,Ku=Ci(Q2/Ve),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ve;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return yn(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return Be(yn(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return lt(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(er))throw Error(Nr+"NaN");if(r.s<1)throw Error(Nr+(r.s?"NaN":"-Infinity"));return r.eq(er)?new a(0):(Je=!1,t=yn(Ql(r,i),Ql(e,i),i),Je=!0,Be(t,s))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Y2(t,e):J2(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Nr+"NaN");return r.s?(Je=!1,t=yn(r,e,0,1).times(e),Je=!0,r.minus(t)):Be(new a(r),s)};ue.naturalExponential=ue.exp=function(){return X2(this)};ue.naturalLogarithm=ue.ln=function(){return Ql(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?J2(t,e):Y2(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($a+e);if(t=lt(s)+1,a=s.d.length-1,r=a*Ve+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,a,s,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Nr+"NaN")}for(e=lt(o),Je=!1,s=Math.sqrt(+o),s==0||s==1/0?(t=Gr(o.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Ci((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(s.toString()),r=c.precision,s=l=r+3;;)if(i=a,a=i.plus(yn(o,i,l+2)).times(.5),Gr(i.d).slice(0,l)===(t=Gr(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(Be(i,r+1,0),i.times(i).eq(o)){a=i;break}}else if(t!="9999")break;l+=4}return Je=!0,Be(a,r)};ue.times=ue.mul=function(e){var t,r,a,s,i,l,o,c,u,h=this,d=h.constructor,m=h.d,g=(e=new d(e)).d;if(!h.s||!e.s)return new d(0);for(e.s*=h.s,r=h.e+e.e,c=m.length,u=g.length,c<u&&(i=m,m=g,g=i,l=c,c=u,u=l),i=[],l=c+u,a=l;a--;)i.push(0);for(a=u;--a>=0;){for(t=0,s=c+a;s>a;)o=i[s]+g[a]*m[s-a-1]+t,i[s--]=o%yt|0,t=o/yt|0;i[s]=(i[s]+t)%yt|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Je?Be(e,d.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Zr(e,0,Si),t===void 0?t=a.rounding:Zr(t,0,8),Be(r,e+lt(r)+1,t))};ue.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=za(a,!0):(Zr(e,0,Si),t===void 0?t=s.rounding:Zr(t,0,8),a=Be(new s(a),e+1,t),r=za(a,!0,e+1)),r};ue.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?za(s):(Zr(e,0,Si),t===void 0?t=i.rounding:Zr(t,0,8),a=Be(new i(s),e+lt(s)+1,t),r=za(a.abs(),!1,e+lt(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return Be(new t(e),lt(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,a,s,i,l,o=this,c=o.constructor,u=12,h=+(e=new c(e));if(!e.s)return new c(er);if(o=new c(o),!o.s){if(e.s<1)throw Error(Nr+"Infinity");return o}if(o.eq(er))return o;if(a=c.precision,e.eq(er))return Be(o,a);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=h<0?-h:h)<=Q2){for(s=new c(er),t=Math.ceil(a/Ve+4),Je=!1;r%2&&(s=s.times(o),mj(s.d,t)),r=Ci(r/2),r!==0;)o=o.times(o),mj(o.d,t);return Je=!0,e.s<0?new c(er).div(s):Be(s,a)}}else if(i<0)throw Error(Nr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Je=!1,s=e.times(Ql(o,a+u)),Je=!0,s=X2(s),s.s=i,s};ue.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=lt(s),a=za(s,r<=i.toExpNeg||r>=i.toExpPos)):(Zr(e,1,Si),t===void 0?t=i.rounding:Zr(t,0,8),s=Be(new i(s),e,t),r=lt(s),a=za(s,e<=r||r<=i.toExpNeg,e)),a};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Zr(e,1,Si),t===void 0?t=a.rounding:Zr(t,0,8)),Be(new a(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=lt(e),r=e.constructor;return za(e,t<=r.toExpNeg||t>=r.toExpPos)};function J2(e,t){var r,a,s,i,l,o,c,u,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Je?Be(t,d):t;if(c=e.d,u=t.d,l=e.e,s=t.e,c=c.slice(),i=l-s,i){for(i<0?(a=c,i=-i,o=u.length):(a=u,s=l,o=c.length),l=Math.ceil(d/Ve),o=l>o?l+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,a=u,u=c,c=a),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/yt|0,c[i]%=yt;for(r&&(c.unshift(r),++s),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=s,Je?Be(t,d):t}function Zr(e,t,r){if(e!==~~e||e<t||e>r)throw Error($a+e)}function Gr(e){var t,r,a,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)a=e[t]+"",r=Ve-a.length,r&&(i+=In(r)),i+=a;l=e[t],a=l+"",r=Ve-a.length,r&&(i+=In(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var yn=function(){function e(a,s){var i,l=0,o=a.length;for(a=a.slice();o--;)i=a[o]*s+l,a[o]=i%yt|0,l=i/yt|0;return l&&a.unshift(l),a}function t(a,s,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(a[o]!=s[o]){c=a[o]>s[o]?1:-1;break}return c}function r(a,s,i){for(var l=0;i--;)a[i]-=l,l=a[i]<s[i]?1:0,a[i]=l*yt+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,l){var o,c,u,h,d,m,g,b,x,j,N,S,y,f,p,v,w,k,P=a.constructor,A=a.s==s.s?1:-1,D=a.d,O=s.d;if(!a.s)return new P(a);if(!s.s)throw Error(Nr+"Division by zero");for(c=a.e-s.e,w=O.length,p=D.length,g=new P(A),b=g.d=[],u=0;O[u]==(D[u]||0);)++u;if(O[u]>(D[u]||0)&&--c,i==null?S=i=P.precision:l?S=i+(lt(a)-lt(s))+1:S=i,S<0)return new P(0);if(S=S/Ve+2|0,u=0,w==1)for(h=0,O=O[0],S++;(u<p||h)&&S--;u++)y=h*yt+(D[u]||0),b[u]=y/O|0,h=y%O|0;else{for(h=yt/(O[0]+1)|0,h>1&&(O=e(O,h),D=e(D,h),w=O.length,p=D.length),f=w,x=D.slice(0,w),j=x.length;j<w;)x[j++]=0;k=O.slice(),k.unshift(0),v=O[0],O[1]>=yt/2&&++v;do h=0,o=t(O,x,w,j),o<0?(N=x[0],w!=j&&(N=N*yt+(x[1]||0)),h=N/v|0,h>1?(h>=yt&&(h=yt-1),d=e(O,h),m=d.length,j=x.length,o=t(d,x,m,j),o==1&&(h--,r(d,w<m?k:O,m))):(h==0&&(o=h=1),d=O.slice()),m=d.length,m<j&&d.unshift(0),r(x,d,j),o==-1&&(j=x.length,o=t(O,x,w,j),o<1&&(h++,r(x,w<j?k:O,j))),j=x.length):o===0&&(h++,x=[0]),b[u++]=h,o&&x[0]?x[j++]=D[f]||0:(x=[D[f]],j=1);while((f++<p||x[0]!==void 0)&&S--)}return b[0]||b.shift(),g.e=c,Be(g,l?i+lt(g)+1:i)}}();function X2(e,t){var r,a,s,i,l,o,c=0,u=0,h=e.constructor,d=h.precision;if(lt(e)>16)throw Error(ug+lt(e));if(!e.s)return new h(er);for(t==null?(Je=!1,o=d):o=t,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(a=Math.log(wa(2,u))/Math.LN10*2+5|0,o+=a,r=s=i=new h(er),h.precision=o;;){if(s=Be(s.times(e),o),r=r.times(++c),l=i.plus(yn(s,r,o)),Gr(l.d).slice(0,o)===Gr(i.d).slice(0,o)){for(;u--;)i=Be(i.times(i),o);return h.precision=d,t==null?(Je=!0,Be(i,d)):i}i=l}}function lt(e){for(var t=e.e*Ve,r=e.d[0];r>=10;r/=10)t++;return t}function wf(e,t,r){if(t>e.LN10.sd())throw Je=!0,r&&(e.precision=r),Error(Nr+"LN10 precision limit exceeded");return Be(new e(e.LN10),t)}function In(e){for(var t="";e--;)t+="0";return t}function Ql(e,t){var r,a,s,i,l,o,c,u,h,d=1,m=10,g=e,b=g.d,x=g.constructor,j=x.precision;if(g.s<1)throw Error(Nr+(g.s?"NaN":"-Infinity"));if(g.eq(er))return new x(0);if(t==null?(Je=!1,u=j):u=t,g.eq(10))return t==null&&(Je=!0),wf(x,u);if(u+=m,x.precision=u,r=Gr(b),a=r.charAt(0),i=lt(g),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)g=g.times(e),r=Gr(g.d),a=r.charAt(0),d++;i=lt(g),a>1?(g=new x("0."+r),i++):g=new x(a+"."+r.slice(1))}else return c=wf(x,u+2,j).times(i+""),g=Ql(new x(a+"."+r.slice(1)),u-m).plus(c),x.precision=j,t==null?(Je=!0,Be(g,j)):g;for(o=l=g=yn(g.minus(er),g.plus(er),u),h=Be(g.times(g),u),s=3;;){if(l=Be(l.times(h),u),c=o.plus(yn(l,new x(s),u)),Gr(c.d).slice(0,u)===Gr(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(wf(x,u+2,j).times(i+""))),o=yn(o,new x(d),u),x.precision=j,t==null?(Je=!0,Be(o,j)):o;o=c,s+=2}}function dj(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=Ci(r/Ve),e.d=[],a=(r+1)%Ve,r<0&&(a+=Ve),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Ve;a<s;)e.d.push(+t.slice(a,a+=Ve));t=t.slice(a),a=Ve-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Je&&(e.e>Ku||e.e<-Ku))throw Error(ug+r)}else e.s=0,e.e=0,e.d=[0];return e}function Be(e,t,r){var a,s,i,l,o,c,u,h,d=e.d;for(l=1,i=d[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=Ve,s=t,u=d[h=0];else{if(h=Math.ceil((a+1)/Ve),i=d.length,h>=i)return e;for(u=i=d[h],l=1;i>=10;i/=10)l++;a%=Ve,s=a-Ve+l}if(r!==void 0&&(i=wa(10,l-s-1),o=u/i%10|0,c=t<0||d[h+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(a>0?s>0?u/wa(10,l-s):0:d[h-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=lt(e),d.length=1,t=t-i-1,d[0]=wa(10,(Ve-t%Ve)%Ve),e.e=Ci(-t/Ve)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(a==0?(d.length=h,i=1,h--):(d.length=h+1,i=wa(10,Ve-a),d[h]=s>0?(u/wa(10,l-s)%wa(10,s)|0)*i:0),c)for(;;)if(h==0){(d[0]+=i)==yt&&(d[0]=1,++e.e);break}else{if(d[h]+=i,d[h]!=yt)break;d[h--]=0,i=1}for(a=d.length;d[--a]===0;)d.pop();if(Je&&(e.e>Ku||e.e<-Ku))throw Error(ug+lt(e));return e}function Y2(e,t){var r,a,s,i,l,o,c,u,h,d,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Je?Be(t,g):t;if(c=e.d,d=t.d,a=t.e,u=e.e,c=c.slice(),l=u-a,l){for(h=l<0,h?(r=c,l=-l,o=d.length):(r=d,a=u,o=c.length),s=Math.max(Math.ceil(g/Ve),o)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=c.length,o=d.length,h=s<o,h&&(o=s),s=0;s<o;s++)if(c[s]!=d[s]){h=c[s]<d[s];break}l=0}for(h&&(r=c,c=d,d=r,t.s=-t.s),o=c.length,s=d.length-o;s>0;--s)c[o++]=0;for(s=d.length;s>l;){if(c[--s]<d[s]){for(i=s;i&&c[--i]===0;)c[i]=yt-1;--c[i],c[s]+=yt}c[s]-=d[s]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,Je?Be(t,g):t):new m(0)}function za(e,t,r){var a,s=lt(e),i=Gr(e.d),l=i.length;return t?(r&&(a=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+In(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+In(-s-1)+i,r&&(a=r-l)>0&&(i+=In(a))):s>=l?(i+=In(s+1-l),r&&(a=r-s-1)>0&&(i=i+"."+In(a))):((a=s+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-l)>0&&(s+1===l&&(i+="."),i+=In(a))),e.s<0?"-"+i:i}function mj(e,t){if(e.length>t)return e.length=t,!0}function Z2(e){var t,r,a;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error($a+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return dj(l,i.toString())}else if(typeof i!="string")throw Error($a+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,vK.test(i))dj(l,i);else throw Error($a+i)}if(s.prototype=ue,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Z2,s.config=s.set=bK,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function bK(e){if(!e||typeof e!="object")throw Error(Nr+"Object expected");var t,r,a,s=["precision",1,Si,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(Ci(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error($a+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error($a+r+": "+a);return this}var dg=Z2(gK);er=new dg(1);const Fe=dg;function jK(e){return CK(e)||SK(e)||wK(e)||NK()}function NK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wK(e,t){if(e){if(typeof e=="string")return vp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vp(e,t)}}function SK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function CK(e){if(Array.isArray(e))return vp(e)}function vp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var kK=function(t){return t},ek={"@@functional/placeholder":!0},tk=function(t){return t===ek},fj=function(t){return function r(){return arguments.length===0||arguments.length===1&&tk(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},OK=function e(t,r){return t===1?r:fj(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var l=s.filter(function(o){return o!==ek}).length;return l>=t?r.apply(void 0,s):e(t-l,fj(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var h=s.map(function(d){return tk(d)?c.shift():d});return r.apply(void 0,jK(h).concat(c))}))})},fm=function(t){return OK(t.length,t)},bp=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},PK=fm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),TK=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return kK;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},jp=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},rk=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return r&&i.every(function(o,c){return o===r[c]})||(r=i,a=t.apply(void 0,i)),a}};function AK(e){var t;return e===0?t=1:t=Math.floor(new Fe(e).abs().log(10).toNumber())+1,t}function DK(e,t,r){for(var a=new Fe(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var EK=fm(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),MK=fm(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),IK=fm(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const hm={rangeStep:DK,getDigitCount:AK,interpolateNumber:EK,uninterpolateNumber:MK,uninterpolateTruncation:IK};function Np(e){return RK(e)||_K(e)||nk(e)||$K()}function $K(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _K(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function RK(e){if(Array.isArray(e))return wp(e)}function Jl(e,t){return BK(e)||LK(e,t)||nk(e,t)||FK()}function FK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nk(e,t){if(e){if(typeof e=="string")return wp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wp(e,t)}}function wp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function LK(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),o;!(a=(o=l.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(c){s=!0,i=c}finally{try{!a&&l.return!=null&&l.return()}finally{if(s)throw i}}return r}}function BK(e){if(Array.isArray(e))return e}function ak(e){var t=Jl(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function sk(e,t,r){if(e.lte(0))return new Fe(0);var a=hm.getDigitCount(e.toNumber()),s=new Fe(10).pow(a),i=e.div(s),l=a!==1?.05:.1,o=new Fe(Math.ceil(i.div(l).toNumber())).add(r).mul(l),c=o.mul(s);return t?c:new Fe(Math.ceil(c))}function qK(e,t,r){var a=1,s=new Fe(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Fe(10).pow(hm.getDigitCount(e)-1),s=new Fe(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Fe(Math.floor(e)))}else e===0?s=new Fe(Math.floor((t-1)/2)):r||(s=new Fe(Math.floor(e)));var l=Math.floor((t-1)/2),o=TK(PK(function(c){return s.add(new Fe(c-l).mul(a)).toNumber()}),bp);return o(0,t)}function ik(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var i=sk(new Fe(t).sub(e).div(r-1),a,s),l;e<=0&&t>=0?l=new Fe(0):(l=new Fe(e).add(t).div(2),l=l.sub(new Fe(l).mod(i)));var o=Math.ceil(l.sub(e).div(i).toNumber()),c=Math.ceil(new Fe(t).sub(l).div(i).toNumber()),u=o+c+1;return u>r?ik(e,t,r,a,s+1):(u<r&&(c=t>0?c+(r-u):c,o=t>0?o:o+(r-u)),{step:i,tickMin:l.sub(new Fe(o).mul(i)),tickMax:l.add(new Fe(c).mul(i))})}function UK(e){var t=Jl(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),o=ak([r,a]),c=Jl(o,2),u=c[0],h=c[1];if(u===-1/0||h===1/0){var d=h===1/0?[u].concat(Np(bp(0,s-1).map(function(){return 1/0}))):[].concat(Np(bp(0,s-1).map(function(){return-1/0})),[h]);return r>a?jp(d):d}if(u===h)return qK(u,s,i);var m=ik(u,h,l,i),g=m.step,b=m.tickMin,x=m.tickMax,j=hm.rangeStep(b,x.add(new Fe(.1).mul(g)),g);return r>a?jp(j):j}function KK(e,t){var r=Jl(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=ak([a,s]),o=Jl(l,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[a,s];if(c===u)return[c];var h=Math.max(t,2),d=sk(new Fe(u).sub(c).div(h-1),i,0),m=[].concat(Np(hm.rangeStep(new Fe(c),new Fe(u).sub(new Fe(.99).mul(d)),d)),[u]);return a>s?jp(m):m}var WK=rk(UK),zK=rk(KK),VK=!0,Sf="Invariant failed";function Va(e,t){if(!e){if(VK)throw new Error(Sf);var r=typeof t=="function"?t():t,a=r?"".concat(Sf,": ").concat(r):Sf;throw new Error(a)}}var GK=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wu.apply(this,arguments)}function HK(e,t){return YK(e)||XK(e,t)||JK(e,t)||QK()}function QK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JK(e,t){if(e){if(typeof e=="string")return hj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hj(e,t)}}function hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function XK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function YK(e){if(Array.isArray(e))return e}function ZK(e,t){if(e==null)return{};var r=eW(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function eW(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function tW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pj(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ck(a.key),a)}}function rW(e,t,r){return t&&pj(e.prototype,t),r&&pj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nW(e,t,r){return t=zu(t),aW(e,lk()?Reflect.construct(t,r||[],zu(e).constructor):t.apply(e,r))}function aW(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sW(e)}function sW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!e})()}function zu(e){return zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zu(e)}function iW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sp(e,t)}function Sp(e,t){return Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Sp(e,t)}function ok(e,t,r){return t=ck(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ck(e){var t=lW(e,"string");return Qs(t)=="symbol"?t:t+""}function lW(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Qs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fo=function(e){function t(){return tW(this,t),nW(this,t,arguments)}return iW(t,e),rW(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,l=a.width,o=a.dataKey,c=a.data,u=a.dataPointFormatter,h=a.xAxis,d=a.yAxis,m=ZK(a,GK),g=Oe(m,!1);this.props.direction==="x"&&h.type!=="number"&&Va(!1);var b=c.map(function(x){var j=u(x,o),N=j.x,S=j.y,y=j.value,f=j.errorVal;if(!f)return null;var p=[],v,w;if(Array.isArray(f)){var k=HK(f,2);v=k[0],w=k[1]}else v=w=f;if(i==="vertical"){var P=h.scale,A=S+s,D=A+l,O=A-l,M=P(y-v),L=P(y+w);p.push({x1:L,y1:D,x2:L,y2:O}),p.push({x1:M,y1:A,x2:L,y2:A}),p.push({x1:M,y1:D,x2:M,y2:O})}else if(i==="horizontal"){var R=d.scale,E=N+s,B=E-l,T=E+l,I=R(y-v),$=R(y+w);p.push({x1:B,y1:$,x2:T,y2:$}),p.push({x1:E,y1:I,x2:E,y2:$}),p.push({x1:B,y1:I,x2:T,y2:I})}return q.createElement(nt,Wu({className:"recharts-errorBar",key:"bar-".concat(p.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},g),p.map(function(F){return q.createElement("line",Wu({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return q.createElement(nt,{className:"recharts-errorBars"},b)}}])}(q.Component);ok(Fo,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ok(Fo,"displayName","ErrorBar");function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(a){oW(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oW(e,t,r){return t=cW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cW(e){var t=uW(e,"string");return Xl(t)=="symbol"?t:t+""}function uW(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Xl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uk=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=Zt(r,As);if(!l)return null;var o=As.defaultProps,c=o!==void 0?xa(xa({},o),l.props):{},u;return l.props&&l.props.payload?u=l.props&&l.props.payload:i==="children"?u=(a||[]).reduce(function(h,d){var m=d.item,g=d.props,b=g.sectors||g.data||[];return h.concat(b.map(function(x){return{type:l.props.iconType||m.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(a||[]).map(function(h){var d=h.item,m=d.type.defaultProps,g=m!==void 0?xa(xa({},m),d.props):{},b=g.dataKey,x=g.name,j=g.legendType,N=g.hide;return{inactive:N,dataKey:b,type:c.iconType||j||"square",color:mg(d),value:x||b,payload:g}}),xa(xa(xa({},c),As.getWithHeight(l,s)),{},{payload:u,item:l})};function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function yj(e){return hW(e)||fW(e)||mW(e)||dW()}function dW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mW(e,t){if(e){if(typeof e=="string")return Cp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cp(e,t)}}function fW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hW(e){if(Array.isArray(e))return Cp(e)}function Cp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(a){Es(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Es(e,t,r){return t=pW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pW(e){var t=xW(e,"string");return Yl(t)=="symbol"?t:t+""}function xW(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Yl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ir(e,t,r){return Se(e)||Se(t)?r:ft(t)?gr(e,t,r):Ne(t)?t(e):r}function ul(e,t,r,a){var s=hK(e,function(o){return ir(o,t)});if(r==="number"){var i=s.filter(function(o){return ne(o)||parseFloat(o)});return i.length?[dm(i),um(i)]:[1/0,-1/0]}var l=a?s.filter(function(o){return!Se(o)}):s;return l.map(function(o){return ft(o)||o instanceof Date?o:""})}var yW=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,o=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<o;u++){var h=u>0?s[u-1].coordinate:s[o-1].coordinate,d=s[u].coordinate,m=u>=o-1?s[0].coordinate:s[u+1].coordinate,g=void 0;if(Fr(d-h)!==Fr(m-d)){var b=[];if(Fr(m-d)===Fr(c[1]-c[0])){g=m;var x=d+c[1]-c[0];b[0]=Math.min(x,(x+h)/2),b[1]=Math.max(x,(x+h)/2)}else{g=h;var j=m+c[1]-c[0];b[0]=Math.min(d,(j+d)/2),b[1]=Math.max(d,(j+d)/2)}var N=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(t>N[0]&&t<=N[1]||t>=b[0]&&t<=b[1]){l=s[u].index;break}}else{var S=Math.min(h,m),y=Math.max(h,m);if(t>(S+d)/2&&t<=(y+d)/2){l=s[u].index;break}}}else for(var f=0;f<o;f++)if(f===0&&t<=(a[f].coordinate+a[f+1].coordinate)/2||f>0&&f<o-1&&t>(a[f].coordinate+a[f-1].coordinate)/2&&t<=(a[f].coordinate+a[f+1].coordinate)/2||f===o-1&&t>(a[f].coordinate+a[f-1].coordinate)/2){l=a[f].index;break}return l},mg=function(t){var r,a=t,s=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?tt(tt({},t.type.defaultProps),t.props):t.props,l=i.stroke,o=i.fill,c;switch(s){case"Line":c=l;break;case"Area":case"Radar":c=l&&l!=="none"?l:o;break;default:c=o;break}return c},gW=function(t){var r=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},o=Object.keys(i),c=0,u=o.length;c<u;c++)for(var h=i[o[c]].stackGroups,d=Object.keys(h),m=0,g=d.length;m<g;m++){var b=h[d[m]],x=b.items,j=b.cateAxisId,N=x.filter(function(w){return hn(w.type).indexOf("Bar")>=0});if(N&&N.length){var S=N[0].type.defaultProps,y=S!==void 0?tt(tt({},S),N[0].props):N[0].props,f=y.barSize,p=y[j];l[p]||(l[p]=[]);var v=Se(f)?r:f;l[p].push({item:N[0],stackList:N.slice(1),barSize:Se(v)?void 0:Wa(v,a,0)})}}return l},vW=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,o=t.maxBarSize,c=l.length;if(c<1)return null;var u=Wa(r,s,0,!0),h,d=[];if(l[0].barSize===+l[0].barSize){var m=!1,g=s/c,b=l.reduce(function(f,p){return f+p.barSize||0},0);b+=(c-1)*u,b>=s&&(b-=(c-1)*u,u=0),b>=s&&g>0&&(m=!0,g*=.9,b=c*g);var x=(s-b)/2>>0,j={offset:x-u,size:0};h=l.reduce(function(f,p){var v={item:p.item,position:{offset:j.offset+j.size+u,size:m?g:p.barSize}},w=[].concat(yj(f),[v]);return j=w[w.length-1].position,p.stackList&&p.stackList.length&&p.stackList.forEach(function(k){w.push({item:k,position:j})}),w},d)}else{var N=Wa(a,s,0,!0);s-2*N-(c-1)*u<=0&&(u=0);var S=(s-2*N-(c-1)*u)/c;S>1&&(S>>=0);var y=o===+o?Math.min(S,o):S;h=l.reduce(function(f,p,v){var w=[].concat(yj(f),[{item:p.item,position:{offset:N+(S+u)*v+(S-y)/2,size:y}}]);return p.stackList&&p.stackList.length&&p.stackList.forEach(function(k){w.push({item:k,position:w[w.length-1].position})}),w},d)}return h},bW=function(t,r,a,s){var i=a.children,l=a.width,o=a.margin,c=l-(o.left||0)-(o.right||0),u=uk({children:i,legendWidth:c});if(u){var h=s||{},d=h.width,m=h.height,g=u.align,b=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&b==="middle")&&g!=="center"&&ne(t[g]))return tt(tt({},t),{},Es({},g,t[g]+(d||0)));if((x==="horizontal"||x==="vertical"&&g==="center")&&b!=="middle"&&ne(t[b]))return tt(tt({},t),{},Es({},b,t[b]+(m||0)))}return t},jW=function(t,r,a){return Se(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},dk=function(t,r,a,s,i){var l=r.props.children,o=vr(l,Fo).filter(function(u){return jW(s,i,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,h){var d=ir(h,a);if(Se(d))return u;var m=Array.isArray(d)?[dm(d),um(d)]:[d,d],g=c.reduce(function(b,x){var j=ir(h,x,0),N=m[0]-Math.abs(Array.isArray(j)?j[0]:j),S=m[1]+Math.abs(Array.isArray(j)?j[1]:j);return[Math.min(N,b[0]),Math.max(S,b[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},NW=function(t,r,a,s,i){var l=r.map(function(o){return dk(t,o,a,i,s)}).filter(function(o){return!Se(o)});return l&&l.length?l.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},mk=function(t,r,a,s,i){var l=r.map(function(c){var u=c.props.dataKey;return a==="number"&&u&&dk(t,c,u,s)||ul(t,u,a,i)});if(a==="number")return l.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return l.reduce(function(c,u){for(var h=0,d=u.length;h<d;h++)o[u[h]]||(o[u[h]]=!0,c.push(u[h]));return c},[])},fk=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},hk=function(t,r,a,s){if(s)return t.map(function(c){return c.coordinate});var i,l,o=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===a&&(l=!0),c.coordinate});return i||o.push(r),l||o.push(a),o},dn=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,o=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||a)&&l==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Fr(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(d){var m=i?i.indexOf(d):d;return{coordinate:s(m)+u,value:d,offset:u}});return h.filter(function(d){return!Do(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,m){return{coordinate:s(d)+u,value:d,index:m,offset:u}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(d){return{coordinate:s(d)+u,value:d,offset:u}}):s.domain().map(function(d,m){return{coordinate:s(d)+u,value:i?i[d]:d,index:m,offset:u}})},Cf=new WeakMap,yc=function(t,r){if(typeof r!="function")return t;Cf.has(t)||Cf.set(t,new WeakMap);var a=Cf.get(t);if(a.has(r))return a.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},wW=function(t,r,a){var s=t.scale,i=t.type,l=t.layout,o=t.axisType;if(s==="auto")return l==="radial"&&o==="radiusAxis"?{scale:Wl(),realScaleType:"band"}:l==="radial"&&o==="angleAxis"?{scale:Lu(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:cl(),realScaleType:"point"}:i==="category"?{scale:Wl(),realScaleType:"band"}:{scale:Lu(),realScaleType:"linear"};if(Ka(s)){var c="scale".concat(Xd(s));return{scale:(uj[c]||cl)(),realScaleType:uj[c]?c:"point"}}return Ne(s)?{scale:s}:{scale:cl(),realScaleType:"point"}},vj=1e-4,SW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-vj,l=Math.max(s[0],s[1])+vj,o=t(r[0]),c=t(r[a-1]);(o<i||o>l||c<i||c>l)&&t.domain([r[0],r[a-1]])}},CW=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},kW=function(t,r){if(!r||r.length!==2||!ne(r[0])||!ne(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ne(t[0])||t[0]<a)&&(i[0]=a),(!ne(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},OW=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0,o=0;o<r;++o){var c=Do(t[o][a][1])?t[o][a][0]:t[o][a][1];c>=0?(t[o][a][0]=i,t[o][a][1]=i+c,i=t[o][a][1]):(t[o][a][0]=l,t[o][a][1]=l+c,l=t[o][a][1])}},PW=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,l=0;l<r;++l){var o=Do(t[l][a][1])?t[l][a][0]:t[l][a][1];o>=0?(t[l][a][0]=i,t[l][a][1]=i+o,i=t[l][a][1]):(t[l][a][0]=0,t[l][a][1]=0)}},TW={sign:OW,expand:G$,none:qs,silhouette:H$,wiggle:Q$,positive:PW},AW=function(t,r,a){var s=r.map(function(o){return o.props.dataKey}),i=TW[a],l=V$().keys(s).value(function(o,c){return+ir(o,c,0)}).order(Jh).offset(i);return l(t)},DW=function(t,r,a,s,i,l){if(!t)return null;var o=l?r.reverse():r,c={},u=o.reduce(function(d,m){var g,b=(g=m.type)!==null&&g!==void 0&&g.defaultProps?tt(tt({},m.type.defaultProps),m.props):m.props,x=b.stackId,j=b.hide;if(j)return d;var N=b[a],S=d[N]||{hasStack:!1,stackGroups:{}};if(ft(x)){var y=S.stackGroups[x]||{numericAxisId:a,cateAxisId:s,items:[]};y.items.push(m),S.hasStack=!0,S.stackGroups[x]=y}else S.stackGroups[Eo("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[m]};return tt(tt({},d),{},Es({},N,S))},c),h={};return Object.keys(u).reduce(function(d,m){var g=u[m];if(g.hasStack){var b={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(x,j){var N=g.stackGroups[j];return tt(tt({},x),{},Es({},j,{numericAxisId:a,cateAxisId:s,items:N.items,stackedData:AW(t,N.items,i)}))},b)}return tt(tt({},d),{},Es({},m,g))},h)},EW=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,l=r.originalDomain,o=r.allowDecimals,c=a||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var u=t.domain();if(!u.length)return null;var h=WK(u,i,o);return t.domain([dm(h),um(h)]),{niceTicks:h}}if(i&&s==="number"){var d=t.domain(),m=zK(d,i,o);return{niceTicks:m}}return null};function bj(e){var t=e.axis,r=e.ticks,a=e.bandSize,s=e.entry,i=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Se(s[t.dataKey])){var o=xu(r,"value",s[t.dataKey]);if(o)return o.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=ir(s,Se(l)?t.dataKey:l);return Se(c)?null:t.scale(c)}var jj=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,o=t.index;if(r.type==="category")return a[o]?a[o].coordinate+s:null;var c=ir(l,r.dataKey,r.domain[o]);return Se(c)?null:r.scale(c)-i/2+s},MW=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},IW=function(t,r){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?tt(tt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(ft(i)){var l=r[i];if(l){var o=l.items.indexOf(t);return o>=0?l.stackedData[o]:null}}return null},$W=function(t){return t.reduce(function(r,a){return[dm(a.concat([r[0]]).filter(ne)),um(a.concat([r[1]]).filter(ne))]},[1/0,-1/0])},pk=function(t,r,a){return Object.keys(t).reduce(function(s,i){var l=t[i],o=l.stackedData,c=o.reduce(function(u,h){var d=$W(h.slice(r,a+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},Nj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kp=function(t,r,a){if(Ne(t))return t(r,a);if(!Array.isArray(t))return r;var s=[];if(ne(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(Nj.test(t[0])){var i=+Nj.exec(t[0])[1];s[0]=r[0]-i}else Ne(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(ne(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(wj.test(t[1])){var l=+wj.exec(t[1])[1];s[1]=r[1]+l}else Ne(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Vu=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=By(r,function(d){return d.coordinate}),l=1/0,o=1,c=i.length;o<c;o++){var u=i[o],h=i[o-1];l=Math.min((u.coordinate||0)-(h.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},Sj=function(t,r,a){return!t||!t.length||mm(t,gr(a,"type.defaultProps.domain"))?r:t},xk=function(t,r){var a=t.type.defaultProps?tt(tt({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,l=a.unit,o=a.formatter,c=a.tooltipType,u=a.chartType,h=a.hide;return tt(tt({},Oe(t,!1)),{},{dataKey:s,unit:l,formatter:o,name:i||s,color:mg(t),value:ir(r,s),type:c,payload:r,chartType:u,hide:h})};function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(a){_W(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _W(e,t,r){return t=RW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=FW(e,"string");return Zl(t)=="symbol"?t:t+""}function FW(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gu=Math.PI/180,LW=function(t){return t*180/Math.PI},St=function(t,r,a,s){return{x:t+Math.cos(-Gu*s)*a,y:r+Math.sin(-Gu*s)*a}},BW=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-l,2))},qW=function(t,r){var a=t.x,s=t.y,i=r.cx,l=r.cy,o=BW({x:a,y:s},{x:i,y:l});if(o<=0)return{radius:o};var c=(a-i)/o,u=Math.acos(c);return s>l&&(u=2*Math.PI-u),{radius:o,angle:LW(u),angleInRadian:u}},UW=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),l=Math.min(s,i);return{startAngle:r-l*360,endAngle:a-l*360}},KW=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),l=Math.floor(s/360),o=Math.min(i,l);return t+o*360},Oj=function(t,r){var a=t.x,s=t.y,i=qW({x:a,y:s},r),l=i.radius,o=i.angle,c=r.innerRadius,u=r.outerRadius;if(l<c||l>u)return!1;if(l===0)return!0;var h=UW(r),d=h.startAngle,m=h.endAngle,g=o,b;if(d<=m){for(;g>m;)g-=360;for(;g<d;)g+=360;b=g>=d&&g<=m}else{for(;g>d;)g-=360;for(;g<m;)g+=360;b=g>=m&&g<=d}return b?kj(kj({},r),{},{radius:l,angle:KW(g,r)}):null};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}var WW=["offset"];function zW(e){return QW(e)||HW(e)||GW(e)||VW()}function VW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GW(e,t){if(e){if(typeof e=="string")return Op(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Op(e,t)}}function HW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QW(e){if(Array.isArray(e))return Op(e)}function Op(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function JW(e,t){if(e==null)return{};var r=XW(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function XW(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(a){YW(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function YW(e,t,r){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZW(e){var t=ez(e,"string");return eo(t)=="symbol"?t:t+""}function ez(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(eo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},to.apply(this,arguments)}var tz=function(t){var r=t.value,a=t.formatter,s=Se(t.children)?r:t.children;return Ne(a)?a(s):s},rz=function(t,r){var a=Fr(r-t),s=Math.min(Math.abs(r-t),360);return a*s},nz=function(t,r,a){var s=t.position,i=t.viewBox,l=t.offset,o=t.className,c=i,u=c.cx,h=c.cy,d=c.innerRadius,m=c.outerRadius,g=c.startAngle,b=c.endAngle,x=c.clockWise,j=(d+m)/2,N=rz(g,b),S=N>=0?1:-1,y,f;s==="insideStart"?(y=g+S*l,f=x):s==="insideEnd"?(y=b-S*l,f=!x):s==="end"&&(y=b+S*l,f=x),f=N<=0?f:!f;var p=St(u,h,j,y),v=St(u,h,j,y+(f?1:-1)*359),w="M".concat(p.x,",").concat(p.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(f?0:1,`,
    `).concat(v.x,",").concat(v.y),k=Se(t.id)?Eo("recharts-radial-line-"):t.id;return q.createElement("text",to({},a,{dominantBaseline:"central",className:Te("recharts-radial-bar-label",o)}),q.createElement("defs",null,q.createElement("path",{id:k,d:w})),q.createElement("textPath",{xlinkHref:"#".concat(k)},r))},az=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,l=i.cx,o=i.cy,c=i.innerRadius,u=i.outerRadius,h=i.startAngle,d=i.endAngle,m=(h+d)/2;if(s==="outside"){var g=St(l,o,u+a,m),b=g.x,x=g.y;return{x:b,y:x,textAnchor:b>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"end"};var j=(c+u)/2,N=St(l,o,j,m),S=N.x,y=N.y;return{x:S,y,textAnchor:"middle",verticalAnchor:"middle"}},sz=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,l=r,o=l.x,c=l.y,u=l.width,h=l.height,d=h>=0?1:-1,m=d*s,g=d>0?"end":"start",b=d>0?"start":"end",x=u>=0?1:-1,j=x*s,N=x>0?"end":"start",S=x>0?"start":"end";if(i==="top"){var y={x:o+u/2,y:c-d*s,textAnchor:"middle",verticalAnchor:g};return ct(ct({},y),a?{height:Math.max(c-a.y,0),width:u}:{})}if(i==="bottom"){var f={x:o+u/2,y:c+h+m,textAnchor:"middle",verticalAnchor:b};return ct(ct({},f),a?{height:Math.max(a.y+a.height-(c+h),0),width:u}:{})}if(i==="left"){var p={x:o-j,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return ct(ct({},p),a?{width:Math.max(p.x-a.x,0),height:h}:{})}if(i==="right"){var v={x:o+u+j,y:c+h/2,textAnchor:S,verticalAnchor:"middle"};return ct(ct({},v),a?{width:Math.max(a.x+a.width-v.x,0),height:h}:{})}var w=a?{width:u,height:h}:{};return i==="insideLeft"?ct({x:o+j,y:c+h/2,textAnchor:S,verticalAnchor:"middle"},w):i==="insideRight"?ct({x:o+u-j,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},w):i==="insideTop"?ct({x:o+u/2,y:c+m,textAnchor:"middle",verticalAnchor:b},w):i==="insideBottom"?ct({x:o+u/2,y:c+h-m,textAnchor:"middle",verticalAnchor:g},w):i==="insideTopLeft"?ct({x:o+j,y:c+m,textAnchor:S,verticalAnchor:b},w):i==="insideTopRight"?ct({x:o+u-j,y:c+m,textAnchor:N,verticalAnchor:b},w):i==="insideBottomLeft"?ct({x:o+j,y:c+h-m,textAnchor:S,verticalAnchor:g},w):i==="insideBottomRight"?ct({x:o+u-j,y:c+h-m,textAnchor:N,verticalAnchor:g},w):xi(i)&&(ne(i.x)||Oa(i.x))&&(ne(i.y)||Oa(i.y))?ct({x:o+Wa(i.x,u),y:c+Wa(i.y,h),textAnchor:"end",verticalAnchor:"end"},w):ct({x:o+u/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},w)},iz=function(t){return"cx"in t&&ne(t.cx)};function Et(e){var t=e.offset,r=t===void 0?5:t,a=JW(e,WW),s=ct({offset:r},a),i=s.viewBox,l=s.position,o=s.value,c=s.children,u=s.content,h=s.className,d=h===void 0?"":h,m=s.textBreakAll;if(!i||Se(o)&&Se(c)&&!C.isValidElement(u)&&!Ne(u))return null;if(C.isValidElement(u))return C.cloneElement(u,s);var g;if(Ne(u)){if(g=C.createElement(u,s),C.isValidElement(g))return g}else g=tz(s);var b=iz(i),x=Oe(s,!0);if(b&&(l==="insideStart"||l==="insideEnd"||l==="end"))return nz(s,g,x);var j=b?az(s):sz(s);return q.createElement(Eu,to({className:Te("recharts-label",d)},x,j,{breakAll:m}),g)}Et.displayName="Label";var yk=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,o=t.r,c=t.radius,u=t.innerRadius,h=t.outerRadius,d=t.x,m=t.y,g=t.top,b=t.left,x=t.width,j=t.height,N=t.clockWise,S=t.labelViewBox;if(S)return S;if(ne(x)&&ne(j)){if(ne(d)&&ne(m))return{x:d,y:m,width:x,height:j};if(ne(g)&&ne(b))return{x:g,y:b,width:x,height:j}}return ne(d)&&ne(m)?{x:d,y:m,width:0,height:0}:ne(r)&&ne(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:l||s||0,innerRadius:u||0,outerRadius:h||c||o||0,clockWise:N}:t.viewBox?t.viewBox:{}},lz=function(t,r){return t?t===!0?q.createElement(Et,{key:"label-implicit",viewBox:r}):ft(t)?q.createElement(Et,{key:"label-implicit",viewBox:r,value:t}):C.isValidElement(t)?t.type===Et?C.cloneElement(t,{key:"label-implicit",viewBox:r}):q.createElement(Et,{key:"label-implicit",content:t,viewBox:r}):Ne(t)?q.createElement(Et,{key:"label-implicit",content:t,viewBox:r}):xi(t)?q.createElement(Et,to({viewBox:r},t,{key:"label-implicit"})):null:null},oz=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=yk(t),l=vr(s,Et).map(function(c,u){return C.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!a)return l;var o=lz(t.label,r||i);return[o].concat(zW(l))};Et.parseViewBox=yk;Et.renderCallByParent=oz;function cz(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var uz=cz;const dz=qe(uz);function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}var mz=["valueAccessor"],fz=["data","dataKey","clockWise","id","textBreakAll"];function hz(e){return gz(e)||yz(e)||xz(e)||pz()}function pz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xz(e,t){if(e){if(typeof e=="string")return Pp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pp(e,t)}}function yz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gz(e){if(Array.isArray(e))return Pp(e)}function Pp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hu.apply(this,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(a){vz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vz(e,t,r){return t=bz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bz(e){var t=jz(e,"string");return ro(t)=="symbol"?t:t+""}function jz(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ro(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dj(e,t){if(e==null)return{};var r=Nz(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Nz(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var wz=function(t){return Array.isArray(t.value)?dz(t.value):t.value};function Zn(e){var t=e.valueAccessor,r=t===void 0?wz:t,a=Dj(e,mz),s=a.data,i=a.dataKey,l=a.clockWise,o=a.id,c=a.textBreakAll,u=Dj(a,fz);return!s||!s.length?null:q.createElement(nt,{className:"recharts-label-list"},s.map(function(h,d){var m=Se(i)?r(h,d):ir(h&&h.payload,i),g=Se(o)?{}:{id:"".concat(o,"-").concat(d)};return q.createElement(Et,Hu({},Oe(h,!0),u,g,{parentViewBox:h.parentViewBox,value:m,textBreakAll:c,viewBox:Et.parseViewBox(Se(l)?h:Aj(Aj({},h),{},{clockWise:l})),key:"label-".concat(d),index:d}))}))}Zn.displayName="LabelList";function Sz(e,t){return e?e===!0?q.createElement(Zn,{key:"labelList-implicit",data:t}):q.isValidElement(e)||Ne(e)?q.createElement(Zn,{key:"labelList-implicit",data:t,content:e}):xi(e)?q.createElement(Zn,Hu({data:t},e,{key:"labelList-implicit"})):null:null}function Cz(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=vr(a,Zn).map(function(l,o){return C.cloneElement(l,{data:t,key:"labelList-".concat(o)})});if(!r)return s;var i=Sz(e.label,t);return[i].concat(hz(s))}Zn.renderCallByParent=Cz;function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tp.apply(this,arguments)}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Mj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(a){kz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kz(e,t,r){return t=Oz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oz(e){var t=Pz(e,"string");return no(t)=="symbol"?t:t+""}function Pz(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(no(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tz=function(t,r){var a=Fr(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},gc=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,l=t.sign,o=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,h=c*(o?1:-1)+s,d=Math.asin(c/h)/Gu,m=u?i:i+l*d,g=St(r,a,h,m),b=St(r,a,s,m),x=u?i-l*d:i,j=St(r,a,h*Math.cos(d*Gu),x);return{center:g,circleTangency:b,lineTangency:j,theta:d}},gk=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,o=t.endAngle,c=Tz(l,o),u=l+c,h=St(r,a,i,l),d=St(r,a,i,u),m="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(l>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var g=St(r,a,s,l),b=St(r,a,s,u);m+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(l<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(r,",").concat(a," Z");return m},Az=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,h=t.endAngle,d=Fr(h-u),m=gc({cx:r,cy:a,radius:i,angle:u,sign:d,cornerRadius:l,cornerIsExternal:c}),g=m.circleTangency,b=m.lineTangency,x=m.theta,j=gc({cx:r,cy:a,radius:i,angle:h,sign:-d,cornerRadius:l,cornerIsExternal:c}),N=j.circleTangency,S=j.lineTangency,y=j.theta,f=c?Math.abs(u-h):Math.abs(u-h)-x-y;if(f<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):gk({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:u,endAngle:h});var p="M ".concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(f>180),",").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
  `);if(s>0){var v=gc({cx:r,cy:a,radius:s,angle:u,sign:d,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),w=v.circleTangency,k=v.lineTangency,P=v.theta,A=gc({cx:r,cy:a,radius:s,angle:h,sign:-d,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),D=A.circleTangency,O=A.lineTangency,M=A.theta,L=c?Math.abs(u-h):Math.abs(u-h)-P-M;if(L<0&&l===0)return"".concat(p,"L").concat(r,",").concat(a,"Z");p+="L".concat(O.x,",").concat(O.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else p+="L".concat(r,",").concat(a,"Z");return p},Dz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vk=function(t){var r=Mj(Mj({},Dz),t),a=r.cx,s=r.cy,i=r.innerRadius,l=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,h=r.startAngle,d=r.endAngle,m=r.className;if(l<i||h===d)return null;var g=Te("recharts-sector",m),b=l-i,x=Wa(o,b,0,!0),j;return x>0&&Math.abs(h-d)<360?j=Az({cx:a,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(x,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:d}):j=gk({cx:a,cy:s,innerRadius:i,outerRadius:l,startAngle:h,endAngle:d}),q.createElement("path",Tp({},Oe(r,!0),{className:g,d:j,role:"img"}))};function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ap.apply(this,arguments)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(a){Ez(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ez(e,t,r){return t=Mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=Iz(e,"string");return ao(t)=="symbol"?t:t+""}function Iz(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ao(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _j={curveBasisClosed:$$,curveBasisOpen:_$,curveBasis:I$,curveBumpX:b$,curveBumpY:j$,curveLinearClosed:R$,curveLinear:Zd,curveMonotoneX:F$,curveMonotoneY:L$,curveNatural:B$,curveStep:q$,curveStepAfter:K$,curveStepBefore:U$},vc=function(t){return t.x===+t.x&&t.y===+t.y},qi=function(t){return t.x},Ui=function(t){return t.y},$z=function(t,r){if(Ne(t))return t;var a="curve".concat(Xd(t));return(a==="curveMonotone"||a==="curveBump")&&r?_j["".concat(a).concat(r==="vertical"?"Y":"X")]:_j[a]||Zd},_z=function(t){var r=t.type,a=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,l=t.baseLine,o=t.layout,c=t.connectNulls,u=c===void 0?!1:c,h=$z(a,o),d=u?i.filter(function(x){return vc(x)}):i,m;if(Array.isArray(l)){var g=u?l.filter(function(x){return vc(x)}):l,b=d.map(function(x,j){return $j($j({},x),{},{base:g[j]})});return o==="vertical"?m=cc().y(Ui).x1(qi).x0(function(x){return x.base.x}):m=cc().x(qi).y1(Ui).y0(function(x){return x.base.y}),m.defined(vc).curve(h),m(b)}return o==="vertical"&&ne(l)?m=cc().y(Ui).x1(qi).x0(l):ne(l)?m=cc().x(qi).y1(Ui).y0(l):m=vC().x(qi).y(Ui),m.defined(vc).curve(h),m(d)},Dp=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?_z(t):s;return C.createElement("path",Ap({},Oe(t,!1),yu(t),{className:Te("recharts-curve",r),d:l,ref:i}))},bk={exports:{}},Rz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fz=Rz,Lz=Fz;function jk(){}function Nk(){}Nk.resetWarningCache=jk;var Bz=function(){function e(a,s,i,l,o,c){if(c!==Lz){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Nk,resetWarningCache:jk};return r.PropTypes=r,r};bk.exports=Bz();var qz=bk.exports;const Ie=qe(qz);var Uz=Object.getOwnPropertyNames,Kz=Object.getOwnPropertySymbols,Wz=Object.prototype.hasOwnProperty;function Rj(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function bc(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,l=i.get(r),o=i.get(a);if(l&&o)return l===a&&o===r;i.set(r,a),i.set(a,r);var c=e(r,a,s);return i.delete(r),i.delete(a),c}}function Fj(e){return Uz(e).concat(Kz(e))}var zz=Object.hasOwn||function(e,t){return Wz.call(e,t)};function ts(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Vz="__v",Gz="__o",Hz="_owner",Lj=Object.getOwnPropertyDescriptor,Bj=Object.keys;function Qz(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function Jz(e,t){return ts(e.getTime(),t.getTime())}function Xz(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Yz(e,t){return e===t}function qj(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),l,o,c=0;(l=i.next())&&!l.done;){for(var u=t.entries(),h=!1,d=0;(o=u.next())&&!o.done;){if(s[d]){d++;continue}var m=l.value,g=o.value;if(r.equals(m[0],g[0],c,d,e,t,r)&&r.equals(m[1],g[1],m[0],g[0],e,t,r)){h=s[d]=!0;break}d++}if(!h)return!1;c++}return!0}var Zz=ts;function eV(e,t,r){var a=Bj(e),s=a.length;if(Bj(t).length!==s)return!1;for(;s-- >0;)if(!wk(e,t,r,a[s]))return!1;return!0}function Ki(e,t,r){var a=Fj(e),s=a.length;if(Fj(t).length!==s)return!1;for(var i,l,o;s-- >0;)if(i=a[s],!wk(e,t,r,i)||(l=Lj(e,i),o=Lj(t,i),(l||o)&&(!l||!o||l.configurable!==o.configurable||l.enumerable!==o.enumerable||l.writable!==o.writable)))return!1;return!0}function tV(e,t){return ts(e.valueOf(),t.valueOf())}function rV(e,t){return e.source===t.source&&e.flags===t.flags}function Uj(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),l,o;(l=i.next())&&!l.done;){for(var c=t.values(),u=!1,h=0;(o=c.next())&&!o.done;){if(!s[h]&&r.equals(l.value,o.value,l.value,o.value,e,t,r)){u=s[h]=!0;break}h++}if(!u)return!1}return!0}function nV(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function aV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function wk(e,t,r,a){return(a===Hz||a===Gz||a===Vz)&&(e.$$typeof||t.$$typeof)?!0:zz(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var sV="[object Arguments]",iV="[object Boolean]",lV="[object Date]",oV="[object Error]",cV="[object Map]",uV="[object Number]",dV="[object Object]",mV="[object RegExp]",fV="[object Set]",hV="[object String]",pV="[object URL]",xV=Array.isArray,Kj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Wj=Object.assign,yV=Object.prototype.toString.call.bind(Object.prototype.toString);function gV(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,l=e.areNumbersEqual,o=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,h=e.areSetsEqual,d=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(b,x,j){if(b===x)return!0;if(b==null||x==null)return!1;var N=typeof b;if(N!==typeof x)return!1;if(N!=="object")return N==="number"?l(b,x,j):N==="function"?s(b,x,j):!1;var S=b.constructor;if(S!==x.constructor)return!1;if(S===Object)return o(b,x,j);if(xV(b))return t(b,x,j);if(Kj!=null&&Kj(b))return d(b,x,j);if(S===Date)return r(b,x,j);if(S===RegExp)return u(b,x,j);if(S===Map)return i(b,x,j);if(S===Set)return h(b,x,j);var y=yV(b);return y===lV?r(b,x,j):y===mV?u(b,x,j):y===cV?i(b,x,j):y===fV?h(b,x,j):y===dV?typeof b.then!="function"&&typeof x.then!="function"&&o(b,x,j):y===pV?m(b,x,j):y===oV?a(b,x,j):y===sV?o(b,x,j):y===iV||y===uV||y===hV?c(b,x,j):!1}}function vV(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?Ki:Qz,areDatesEqual:Jz,areErrorsEqual:Xz,areFunctionsEqual:Yz,areMapsEqual:a?Rj(qj,Ki):qj,areNumbersEqual:Zz,areObjectsEqual:a?Ki:eV,arePrimitiveWrappersEqual:tV,areRegExpsEqual:rV,areSetsEqual:a?Rj(Uj,Ki):Uj,areTypedArraysEqual:a?Ki:nV,areUrlsEqual:aV};if(r&&(s=Wj({},s,r(s))),t){var i=bc(s.areArraysEqual),l=bc(s.areMapsEqual),o=bc(s.areObjectsEqual),c=bc(s.areSetsEqual);s=Wj({},s,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:o,areSetsEqual:c})}return s}function bV(e){return function(t,r,a,s,i,l,o){return e(t,r,o)}}function jV(e){var t=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(c,u){var h=a(),d=h.cache,m=d===void 0?t?new WeakMap:void 0:d,g=h.meta;return r(c,u,{cache:m,equals:s,meta:g,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var l={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,l)}}var NV=ma();ma({strict:!0});ma({circular:!0});ma({circular:!0,strict:!0});ma({createInternalComparator:function(){return ts}});ma({strict:!0,createInternalComparator:function(){return ts}});ma({circular:!0,createInternalComparator:function(){return ts}});ma({circular:!0,createInternalComparator:function(){return ts},strict:!0});function ma(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,l=i===void 0?!1:i,o=vV(e),c=gV(o),u=a?a(c):bV(c);return jV({circular:r,comparator:c,createState:s,equals:u,strict:l})}function wV(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function zj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):wV(s)};requestAnimationFrame(a)}function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function SV(e){return PV(e)||OV(e)||kV(e)||CV()}function CV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kV(e,t){if(e){if(typeof e=="string")return Vj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vj(e,t)}}function Vj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function OV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PV(e){if(Array.isArray(e))return e}function TV(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,o=SV(l),c=o[0],u=o.slice(1);if(typeof c=="number"){zj(s.bind(null,u),c);return}s(c),zj(s.bind(null,u));return}Ep(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(a){Sk(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Sk(e,t,r){return t=AV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=DV(e,"string");return so(t)==="symbol"?t:String(t)}function DV(e,t){if(so(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(so(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EV=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},MV=function(t){return t},IV=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},dl=function(t,r){return Object.keys(r).reduce(function(a,s){return Hj(Hj({},a),{},Sk({},s,t(s,r[s])))},{})},Qj=function(t,r,a){return t.map(function(s){return"".concat(IV(s)," ").concat(r,"ms ").concat(a)}).join(",")};function $V(e,t){return FV(e)||RV(e,t)||Ck(e,t)||_V()}function _V(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function FV(e){if(Array.isArray(e))return e}function LV(e){return UV(e)||qV(e)||Ck(e)||BV()}function BV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ck(e,t){if(e){if(typeof e=="string")return Mp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mp(e,t)}}function qV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UV(e){if(Array.isArray(e))return Mp(e)}function Mp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Qu=1e-4,kk=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Ok=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},Jj=function(t,r){return function(a){var s=kk(t,r);return Ok(s,a)}},KV=function(t,r){return function(a){var s=kk(t,r),i=[].concat(LV(s.map(function(l,o){return l*o}).slice(1)),[0]);return Ok(i,a)}},Xj=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],l=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,l=1,o=1;break;case"ease":s=.25,i=.1,l=.25,o=1;break;case"ease-in":s=.42,i=0,l=1,o=1;break;case"ease-out":s=.42,i=0,l=.58,o=1;break;case"ease-in-out":s=0,i=0,l=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(j){return parseFloat(j)}),h=$V(u,4);s=h[0],i=h[1],l=h[2],o=h[3]}}}var d=Jj(s,l),m=Jj(i,o),g=KV(s,l),b=function(N){return N>1?1:N<0?0:N},x=function(N){for(var S=N>1?1:N,y=S,f=0;f<8;++f){var p=d(y)-S,v=g(y);if(Math.abs(p-S)<Qu||v<Qu)return m(y);y=b(y-p/v)}return m(y)};return x.isStepper=!1,x},WV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,l=t.dt,o=l===void 0?17:l,c=function(h,d,m){var g=-(h-d)*a,b=m*i,x=m+(g-b)*o/1e3,j=m*o/1e3+h;return Math.abs(j-d)<Qu&&Math.abs(x)<Qu?[d,0]:[j,x]};return c.isStepper=!0,c.dt=o,c},zV=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Xj(s);case"spring":return WV();default:if(s.split("(")[0]==="cubic-bezier")return Xj(s)}return typeof s=="function"?s:null};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function Yj(e){return HV(e)||GV(e)||Pk(e)||VV()}function VV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HV(e){if(Array.isArray(e))return $p(e)}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(a){Ip(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ip(e,t,r){return t=QV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QV(e){var t=JV(e,"string");return io(t)==="symbol"?t:String(t)}function JV(e,t){if(io(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(io(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XV(e,t){return eG(e)||ZV(e,t)||Pk(e,t)||YV()}function YV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pk(e,t){if(e){if(typeof e=="string")return $p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $p(e,t)}}function $p(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ZV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function eG(e){if(Array.isArray(e))return e}var Ju=function(t,r,a){return t+(r-t)*a},_p=function(t){var r=t.from,a=t.to;return r!==a},tG=function e(t,r,a){var s=dl(function(i,l){if(_p(l)){var o=t(l.from,l.to,l.velocity),c=XV(o,2),u=c[0],h=c[1];return Nt(Nt({},l),{},{from:u,velocity:h})}return l},r);return a<1?dl(function(i,l){return _p(l)?Nt(Nt({},l),{},{velocity:Ju(l.velocity,s[i].velocity,a),from:Ju(l.from,s[i].from,a)}):l},r):e(t,s,a-1)};const rG=function(e,t,r,a,s){var i=EV(e,t),l=i.reduce(function(j,N){return Nt(Nt({},j),{},Ip({},N,[e[N],t[N]]))},{}),o=i.reduce(function(j,N){return Nt(Nt({},j),{},Ip({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,h,d=function(){return null},m=function(){return dl(function(N,S){return S.from},o)},g=function(){return!Object.values(o).filter(_p).length},b=function(N){u||(u=N);var S=N-u,y=S/r.dt;o=tG(r,o,y),s(Nt(Nt(Nt({},e),t),m())),u=N,g()||(c=requestAnimationFrame(d))},x=function(N){h||(h=N);var S=(N-h)/a,y=dl(function(p,v){return Ju.apply(void 0,Yj(v).concat([r(S)]))},l);if(s(Nt(Nt(Nt({},e),t),y)),S<1)c=requestAnimationFrame(d);else{var f=dl(function(p,v){return Ju.apply(void 0,Yj(v).concat([r(1)]))},l);s(Nt(Nt(Nt({},e),t),f))}};return d=r.isStepper?b:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}var nG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aG(e,t){if(e==null)return{};var r=sG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function sG(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kf(e){return cG(e)||oG(e)||lG(e)||iG()}function iG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lG(e,t){if(e){if(typeof e=="string")return Rp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rp(e,t)}}function oG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cG(e){if(Array.isArray(e))return Rp(e)}function Rp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(a){Yi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yi(e,t,r){return t=Tk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Tk(a.key),a)}}function dG(e,t,r){return t&&tN(e.prototype,t),r&&tN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tk(e){var t=mG(e,"string");return Js(t)==="symbol"?t:String(t)}function mG(e,t){if(Js(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Js(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fp(e,t)}function Fp(e,t){return Fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Fp(e,t)}function hG(e){var t=pG();return function(){var a=Xu(e),s;if(t){var i=Xu(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return Lp(this,s)}}function Lp(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bp(e)}function Bp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xu(e)}var pm=function(e){fG(r,e);var t=hG(r);function r(a,s){var i;uG(this,r),i=t.call(this,a,s);var l=i.props,o=l.isActive,c=l.attributeName,u=l.from,h=l.to,d=l.steps,m=l.children,g=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Bp(i)),i.changeStyle=i.changeStyle.bind(Bp(i)),!o||g<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:h}),Lp(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof m=="function")return i.state={style:u},Lp(i);i.state={style:c?Yi({},c,u):u}}else i.state={style:{}};return i}return dG(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,o=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,h=i.to,d=i.from,m=this.state.style;if(o){if(!l){var g={style:c?Yi({},c,h):h};this.state&&m&&(c&&m[c]!==h||!c&&m!==h)&&this.setState(g);return}if(!(NV(s.to,h)&&s.canBegin&&s.isActive)){var b=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=b||u?d:s.to;if(this.state&&m){var j={style:c?Yi({},c,x):x};(c&&m[c]!==x||!c&&m!==x)&&this.setState(j)}this.runAnimation(Pr(Pr({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,o=s.to,c=s.duration,u=s.easing,h=s.begin,d=s.onAnimationEnd,m=s.onAnimationStart,g=rG(l,o,zV(u),c,this.changeStyle),b=function(){i.stopJSAnimation=g()};this.manager.start([m,h,b,c,d])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,o=s.begin,c=s.onAnimationStart,u=l[0],h=u.style,d=u.duration,m=d===void 0?0:d,g=function(x,j,N){if(N===0)return x;var S=j.duration,y=j.easing,f=y===void 0?"ease":y,p=j.style,v=j.properties,w=j.onAnimationEnd,k=N>0?l[N-1]:j,P=v||Object.keys(p);if(typeof f=="function"||f==="spring")return[].concat(kf(x),[i.runJSAnimation.bind(i,{from:k.style,to:p,duration:S,easing:f}),S]);var A=Qj(P,S,f),D=Pr(Pr(Pr({},k.style),p),{},{transition:A});return[].concat(kf(x),[D,S,w]).filter(MV)};return this.manager.start([c].concat(kf(l.reduce(g,[h,Math.max(m,o)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=TV());var i=s.begin,l=s.duration,o=s.attributeName,c=s.to,u=s.easing,h=s.onAnimationStart,d=s.onAnimationEnd,m=s.steps,g=s.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(s);return}if(m.length>1){this.runStepAnimation(s);return}var x=o?Yi({},o,c):c,j=Qj(Object.keys(x),l,u);b.start([h,i,Pr(Pr({},x),{},{transition:j}),l,d])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var o=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=aG(s,nG),u=C.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!o||u===0||l<=0)return i;var d=function(g){var b=g.props,x=b.style,j=x===void 0?{}:x,N=b.className,S=C.cloneElement(g,Pr(Pr({},c),{},{style:Pr(Pr({},j),h),className:N}));return S};return u===1?d(C.Children.only(i)):q.createElement("div",null,C.Children.map(i,function(m){return d(m)}))}}]),r}(C.PureComponent);pm.displayName="Animate";pm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pm.propTypes={from:Ie.oneOfType([Ie.object,Ie.string]),to:Ie.oneOfType([Ie.object,Ie.string]),attributeName:Ie.string,duration:Ie.number,begin:Ie.number,easing:Ie.oneOfType([Ie.string,Ie.func]),steps:Ie.arrayOf(Ie.shape({duration:Ie.number.isRequired,style:Ie.object.isRequired,easing:Ie.oneOfType([Ie.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ie.func]),properties:Ie.arrayOf("string"),onAnimationEnd:Ie.func})),children:Ie.oneOfType([Ie.node,Ie.func]),isActive:Ie.bool,canBegin:Ie.bool,onAnimationEnd:Ie.func,shouldReAnimate:Ie.bool,onAnimationStart:Ie.func,onAnimationReStart:Ie.func};const Xs=pm;function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yu.apply(this,arguments)}function xG(e,t){return bG(e)||vG(e,t)||gG(e,t)||yG()}function yG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gG(e,t){if(e){if(typeof e=="string")return rN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rN(e,t)}}function rN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function vG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function bG(e){if(Array.isArray(e))return e}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function aN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(a){jG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jG(e,t,r){return t=NG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=wG(e,"string");return lo(t)=="symbol"?t:t+""}function wG(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(lo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sN=function(t,r,a,s,i){var l=Math.min(Math.abs(a)/2,Math.abs(s)/2),o=s>=0?1:-1,c=a>=0?1:-1,u=s>=0&&a>=0||s<0&&a<0?1:0,h;if(l>0&&i instanceof Array){for(var d=[0,0,0,0],m=0,g=4;m<g;m++)d[m]=i[m]>l?l:i[m];h="M".concat(t,",").concat(r+o*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),h+="L ".concat(t+a-c*d[1],",").concat(r),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+a,",").concat(r+o*d[1])),h+="L ".concat(t+a,",").concat(r+s-o*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+a-c*d[2],",").concat(r+s)),h+="L ".concat(t+c*d[3],",").concat(r+s),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-o*d[3])),h+="Z"}else if(l>0&&i===+i&&i>0){var b=Math.min(l,i);h="M ".concat(t,",").concat(r+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+c*b,",").concat(r,`
            L `).concat(t+a-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+a,",").concat(r+o*b,`
            L `).concat(t+a,",").concat(r+s-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+a-c*b,",").concat(r+s,`
            L `).concat(t+c*b,",").concat(r+s,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(r+s-o*b," Z")}else h="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return h},SG=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,l=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(i,i+o),h=Math.max(i,i+o),d=Math.min(l,l+c),m=Math.max(l,l+c);return a>=u&&a<=h&&s>=d&&s<=m}return!1},CG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fg=function(t){var r=aN(aN({},CG),t),a=C.useRef(),s=C.useState(-1),i=xG(s,2),l=i[0],o=i[1];C.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var f=a.current.getTotalLength();f&&o(f)}catch{}},[]);var c=r.x,u=r.y,h=r.width,d=r.height,m=r.radius,g=r.className,b=r.animationEasing,x=r.animationDuration,j=r.animationBegin,N=r.isAnimationActive,S=r.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||d!==+d||h===0||d===0)return null;var y=Te("recharts-rectangle",g);return S?q.createElement(Xs,{canBegin:l>0,from:{width:h,height:d,x:c,y:u},to:{width:h,height:d,x:c,y:u},duration:x,animationEasing:b,isActive:S},function(f){var p=f.width,v=f.height,w=f.x,k=f.y;return q.createElement(Xs,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:x,isActive:N,easing:b},q.createElement("path",Yu({},Oe(r,!0),{className:y,d:sN(w,k,p,v,m),ref:a})))}):q.createElement("path",Yu({},Oe(r,!0),{className:y,d:sN(c,u,h,d,m)}))};function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qp.apply(this,arguments)}var hg=function(t){var r=t.cx,a=t.cy,s=t.r,i=t.className,l=Te("recharts-dot",i);return r===+r&&a===+a&&s===+s?C.createElement("circle",qp({},Oe(t,!1),yu(t),{className:l,cx:r,cy:a,r:s})):null};function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}var kG=["x","y","top","left","width","height","className"];function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Up.apply(this,arguments)}function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function OG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(a){PG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PG(e,t,r){return t=TG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=AG(e,"string");return oo(t)=="symbol"?t:t+""}function AG(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(oo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DG(e,t){if(e==null)return{};var r=EG(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function EG(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var MG=function(t,r,a,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(r,"h").concat(a)},IG=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,l=t.top,o=l===void 0?0:l,c=t.left,u=c===void 0?0:c,h=t.width,d=h===void 0?0:h,m=t.height,g=m===void 0?0:m,b=t.className,x=DG(t,kG),j=OG({x:a,y:i,top:o,left:u,width:d,height:g},x);return!ne(a)||!ne(i)||!ne(d)||!ne(g)||!ne(o)||!ne(u)?null:q.createElement("path",Up({},Oe(j,!0),{className:Te("recharts-cross",b),d:MG(a,i,d,g,o,u)}))},$G=KC,_G=$G(Object.getPrototypeOf,Object),RG=_G,FG=Pn,LG=RG,BG=Tn,qG="[object Object]",UG=Function.prototype,KG=Object.prototype,Ak=UG.toString,WG=KG.hasOwnProperty,zG=Ak.call(Object);function VG(e){if(!BG(e)||FG(e)!=qG)return!1;var t=LG(e);if(t===null)return!0;var r=WG.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Ak.call(r)==zG}var GG=VG;const HG=qe(GG);var QG=Pn,JG=Tn,XG="[object Boolean]";function YG(e){return e===!0||e===!1||JG(e)&&QG(e)==XG}var ZG=YG;const eH=qe(ZG);function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zu.apply(this,arguments)}function tH(e,t){return sH(e)||aH(e,t)||nH(e,t)||rH()}function rH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nH(e,t){if(e){if(typeof e=="string")return lN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(e,t)}}function lN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function aH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function sH(e){if(Array.isArray(e))return e}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function cN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(a){iH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iH(e,t,r){return t=lH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lH(e){var t=oH(e,"string");return co(t)=="symbol"?t:t+""}function oH(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(co(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uN=function(t,r,a,s,i){var l=a-s,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+a,",").concat(r),o+="L ".concat(t+a-l/2,",").concat(r+i),o+="L ".concat(t+a-l/2-s,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},cH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uH=function(t){var r=cN(cN({},cH),t),a=C.useRef(),s=C.useState(-1),i=tH(s,2),l=i[0],o=i[1];C.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var y=a.current.getTotalLength();y&&o(y)}catch{}},[]);var c=r.x,u=r.y,h=r.upperWidth,d=r.lowerWidth,m=r.height,g=r.className,b=r.animationEasing,x=r.animationDuration,j=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||d!==+d||m!==+m||h===0&&d===0||m===0)return null;var S=Te("recharts-trapezoid",g);return N?q.createElement(Xs,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:h,lowerWidth:d,height:m,x:c,y:u},duration:x,animationEasing:b,isActive:N},function(y){var f=y.upperWidth,p=y.lowerWidth,v=y.height,w=y.x,k=y.y;return q.createElement(Xs,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:x,easing:b},q.createElement("path",Zu({},Oe(r,!0),{className:S,d:uN(w,k,f,p,v),ref:a})))}):q.createElement("g",null,q.createElement("path",Zu({},Oe(r,!0),{className:S,d:uN(c,u,h,d,m)})))},dH=["option","shapeType","propTransformer","activeClassName","isActive"];function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function mH(e,t){if(e==null)return{};var r=fH(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fH(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(a){hH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hH(e,t,r){return t=pH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=xH(e,"string");return uo(t)=="symbol"?t:t+""}function xH(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(uo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yH(e,t){return ed(ed({},t),e)}function gH(e,t){return e==="symbols"}function mN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return q.createElement(fg,r);case"trapezoid":return q.createElement(uH,r);case"sector":return q.createElement(vk,r);case"symbols":if(gH(t))return q.createElement(Ey,r);break;default:return null}}function vH(e){return C.isValidElement(e)?e.props:e}function bH(e){var t=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?yH:a,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,o=e.isActive,c=mH(e,dH),u;if(C.isValidElement(t))u=C.cloneElement(t,ed(ed({},c),vH(t)));else if(Ne(t))u=t(c);else if(HG(t)&&!eH(t)){var h=s(t,c);u=q.createElement(mN,{shapeType:r,elementProps:h})}else{var d=c;u=q.createElement(mN,{shapeType:r,elementProps:d})}return o?q.createElement(nt,{className:l},u):u}function xm(e,t){return t!=null&&"trapezoids"in e.props}function ym(e,t){return t!=null&&"sectors"in e.props}function mo(e,t){return t!=null&&"points"in e.props}function jH(e,t){var r,a,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function NH(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function wH(e,t){var r=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return r&&a&&s}function SH(e,t){var r;return xm(e,t)?r=jH:ym(e,t)?r=NH:mo(e,t)&&(r=wH),r}function CH(e,t){var r;return xm(e,t)?r="trapezoids":ym(e,t)?r="sectors":mo(e,t)&&(r="points"),r}function kH(e,t){if(xm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ym(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return mo(e,t)?t.payload:{}}function OH(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=CH(r,t),i=kH(r,t),l=a.filter(function(c,u){var h=mm(i,c),d=r.props[s].filter(function(b){var x=SH(r,t);return x(b,t)}),m=r.props[s].indexOf(d[d.length-1]),g=u===m;return h&&g}),o=a.indexOf(l[l.length-1]);return o}var PH=Math.ceil,TH=Math.max;function AH(e,t,r,a){for(var s=-1,i=TH(PH((t-e)/(r||1)),0),l=Array(i);i--;)l[a?i:++s]=e,e+=r;return l}var DH=AH,EH=o2,fN=1/0,MH=17976931348623157e292;function IH(e){if(!e)return e===0?e:0;if(e=EH(e),e===fN||e===-fN){var t=e<0?-1:1;return t*MH}return e===e?e:0}var Dk=IH,$H=DH,_H=nm,Of=Dk;function RH(e){return function(t,r,a){return a&&typeof a!="number"&&_H(t,r,a)&&(r=a=void 0),t=Of(t),r===void 0?(r=t,t=0):r=Of(r),a=a===void 0?t<r?1:-1:Of(a),$H(t,r,a,e)}}var FH=RH,LH=FH,BH=LH(),qH=BH;const td=qe(qH);function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(a){Ek(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ek(e,t,r){return t=UH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=KH(e,"string");return fo(t)=="symbol"?t:t+""}function KH(e,t){if(fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(fo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WH=["Webkit","Moz","O","ms"],zH=function(t,r){if(!t)return null;var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=WH.reduce(function(i,l){return pN(pN({},i),{},Ek({},l+a,r))},{});return s[t]=r,s};function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rd.apply(this,arguments)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(a){Xt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ik(a.key),a)}}function GH(e,t,r){return t&&yN(e.prototype,t),r&&yN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HH(e,t,r){return t=nd(t),QH(e,Mk()?Reflect.construct(t,r||[],nd(e).constructor):t.apply(e,r))}function QH(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JH(e)}function JH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mk=function(){return!!e})()}function nd(e){return nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nd(e)}function XH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kp(e,t)}function Kp(e,t){return Kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Kp(e,t)}function Xt(e,t,r){return t=Ik(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ik(e){var t=YH(e,"string");return Ys(t)=="symbol"?t:t+""}function YH(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ys(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZH=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,l=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=cl().domain(td(0,c)).range([i,i+l-o]),h=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(a),endX:u(s),scale:u,scaleValues:h}},gN=function(t){return t.changedTouches&&!!t.changedTouches.length},Zs=function(e){function t(r){var a;return VH(this,t),a=HH(this,t,[r]),Xt(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Xt(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Xt(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,l=s.onDragEnd,o=s.startIndex;l==null||l({endIndex:i,startIndex:o})}),a.detachDragEndListener()}),Xt(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Xt(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Xt(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Xt(a,"handleSlideDragStart",function(s){var i=gN(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return XH(t,e),GH(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,l=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,h=u.length-1,d=Math.min(s,i),m=Math.max(s,i),g=t.getIndexInRange(l,d),b=t.getIndexInRange(l,m);return{startIndex:g-g%c,endIndex:b===h?h:b-b%c}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,l=s.tickFormatter,o=s.dataKey,c=ir(i[a],o,a);return Ne(l)?l(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,l=s.startX,o=s.endX,c=this.props,u=c.x,h=c.width,d=c.travellerWidth,m=c.startIndex,g=c.endIndex,b=c.onChange,x=a.pageX-i;x>0?x=Math.min(x,u+h-d-o,u+h-d-l):x<0&&(x=Math.max(x,u-l,u-o));var j=this.getIndex({startX:l+x,endX:o+x});(j.startIndex!==m||j.endIndex!==g)&&b&&b(j),this.setState({startX:l+x,endX:o+x,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=gN(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,o=s.endX,c=s.startX,u=this.state[l],h=this.props,d=h.x,m=h.width,g=h.travellerWidth,b=h.onChange,x=h.gap,j=h.data,N={startX:this.state.startX,endX:this.state.endX},S=a.pageX-i;S>0?S=Math.min(S,d+m-g-u):S<0&&(S=Math.max(S,d-u)),N[l]=u+S;var y=this.getIndex(N),f=y.startIndex,p=y.endIndex,v=function(){var k=j.length-1;return l==="startX"&&(o>c?f%x===0:p%x===0)||o<c&&p===k||l==="endX"&&(o>c?p%x===0:f%x===0)||o>c&&p===k};this.setState(Xt(Xt({},l,u+S),"brushMoveStartX",a.pageX),function(){b&&v()&&b(y)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,l=this.state,o=l.scaleValues,c=l.startX,u=l.endX,h=this.state[s],d=o.indexOf(h);if(d!==-1){var m=d+a;if(!(m===-1||m>=o.length)){var g=o[m];s==="startX"&&g>=u||s==="endX"&&g<=c||this.setState(Xt({},s,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,o=a.height,c=a.fill,u=a.stroke;return q.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:l,height:o})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,o=a.height,c=a.data,u=a.children,h=a.padding,d=C.Children.only(u);return d?q.cloneElement(d,{x:s,y:i,width:l,height:o,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,l,o=this,c=this.props,u=c.y,h=c.travellerWidth,d=c.height,m=c.traveller,g=c.ariaLabel,b=c.data,x=c.startIndex,j=c.endIndex,N=Math.max(a,this.props.x),S=Pf(Pf({},Oe(this.props,!1)),{},{x:N,y:u,width:h,height:d}),y=g||"Min value: ".concat((i=b[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=b[j])===null||l===void 0?void 0:l.name);return q.createElement(nt,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(p){["ArrowLeft","ArrowRight"].includes(p.key)&&(p.preventDefault(),p.stopPropagation(),o.handleTravellerMoveKeyboard(p.key==="ArrowRight"?1:-1,s))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,S))}},{key:"renderSlide",value:function(a,s){var i=this.props,l=i.y,o=i.height,c=i.stroke,u=i.travellerWidth,h=Math.min(a,s)+u,d=Math.max(Math.abs(s-a)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:l,width:d,height:o})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,l=a.y,o=a.height,c=a.travellerWidth,u=a.stroke,h=this.state,d=h.startX,m=h.endX,g=5,b={pointerEvents:"none",fill:u};return q.createElement(nt,{className:"recharts-brush-texts"},q.createElement(Eu,rd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,m)-g,y:l+o/2},b),this.getTextOfTick(s)),q.createElement(Eu,rd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,m)+c+g,y:l+o/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,l=a.children,o=a.x,c=a.y,u=a.width,h=a.height,d=a.alwaysShowText,m=this.state,g=m.startX,b=m.endX,x=m.isTextActive,j=m.isSlideMoving,N=m.isTravellerMoving,S=m.isTravellerFocused;if(!s||!s.length||!ne(o)||!ne(c)||!ne(u)||!ne(h)||u<=0||h<=0)return null;var y=Te("recharts-brush",i),f=q.Children.count(l)===1,p=zH("userSelect","none");return q.createElement(nt,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:p},this.renderBackground(),f&&this.renderPanorama(),this.renderSlide(g,b),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(b,"endX"),(x||j||N||S||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,l=a.width,o=a.height,c=a.stroke,u=Math.floor(i+o/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:s,y:i,width:l,height:o,fill:c,stroke:"none"}),q.createElement("line",{x1:s+1,y1:u,x2:s+l-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:s+1,y1:u+2,x2:s+l-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return q.isValidElement(a)?i=q.cloneElement(a,s):Ne(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,l=a.width,o=a.x,c=a.travellerWidth,u=a.updateId,h=a.startIndex,d=a.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Pf({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:l},i&&i.length?ZH({data:i,width:l,x:o,travellerWidth:c,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||o!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([o,o+l-c]);var m=s.scale.domain().map(function(g){return s.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:l,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,l=0,o=i-1;o-l>1;){var c=Math.floor((l+o)/2);a[c]>s?o=c:l=c}return s>=a[o]?o:l}}])}(C.PureComponent);Xt(Zs,"displayName","Brush");Xt(Zs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var eQ=Ly;function tQ(e,t){var r;return eQ(e,function(a,s,i){return r=t(a,s,i),!r}),!!r}var rQ=tQ,nQ=$C,aQ=ca,sQ=rQ,iQ=Qt,lQ=nm;function oQ(e,t,r){var a=iQ(e)?nQ:sQ;return r&&lQ(e,t,r)&&(t=void 0),a(e,aQ(t))}var cQ=oQ;const uQ=qe(cQ);var Xr=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},vN=n2;function dQ(e,t,r){t=="__proto__"&&vN?vN(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var mQ=dQ,fQ=mQ,hQ=t2,pQ=ca;function xQ(e,t){var r={};return t=pQ(t),hQ(e,function(a,s,i){fQ(r,s,t(a,s,i))}),r}var yQ=xQ;const gQ=qe(yQ);function vQ(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}var bQ=vQ,jQ=Ly;function NQ(e,t){var r=!0;return jQ(e,function(a,s,i){return r=!!t(a,s,i),r}),r}var wQ=NQ,SQ=bQ,CQ=wQ,kQ=ca,OQ=Qt,PQ=nm;function TQ(e,t,r){var a=OQ(e)?SQ:CQ;return r&&PQ(e,t,r)&&(t=void 0),a(e,kQ(t))}var AQ=TQ;const $k=qe(AQ);var DQ=["x","y"];function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wp.apply(this,arguments)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(a){EQ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function EQ(e,t,r){return t=MQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQ(e){var t=IQ(e,"string");return ho(t)=="symbol"?t:t+""}function IQ(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ho(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Q(e,t){if(e==null)return{};var r=_Q(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _Q(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function RQ(e,t){var r=e.x,a=e.y,s=$Q(e,DQ),i="".concat(r),l=parseInt(i,10),o="".concat(a),c=parseInt(o,10),u="".concat(t.height||s.height),h=parseInt(u,10),d="".concat(t.width||s.width),m=parseInt(d,10);return Wi(Wi(Wi(Wi(Wi({},t),s),l?{x:l}:{}),c?{y:c}:{}),{},{height:h,width:m,name:t.name,radius:t.radius})}function jN(e){return q.createElement(bH,Wp({shapeType:"rectangle",propTransformer:RQ,activeClassName:"recharts-active-bar"},e))}var FQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=ne(a)||s6(a);return i?t(a,s):(i||Va(!1),r)}},LQ=["value","background"],_k;function ei(e){"@babel/helpers - typeof";return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(e)}function BQ(e,t){if(e==null)return{};var r=qQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ad.apply(this,arguments)}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(a){Un(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Fk(a.key),a)}}function KQ(e,t,r){return t&&wN(e.prototype,t),r&&wN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WQ(e,t,r){return t=sd(t),zQ(e,Rk()?Reflect.construct(t,r||[],sd(e).constructor):t.apply(e,r))}function zQ(e,t){if(t&&(ei(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VQ(e)}function VQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rk=function(){return!!e})()}function sd(e){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sd(e)}function GQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zp(e,t)}function zp(e,t){return zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},zp(e,t)}function Un(e,t,r){return t=Fk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fk(e){var t=HQ(e,"string");return ei(t)=="symbol"?t:t+""}function HQ(e,t){if(ei(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ei(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lo=function(e){function t(){var r;UQ(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=WQ(this,t,[].concat(s)),Un(r,"state",{isAnimationFinished:!1}),Un(r,"id",Eo("recharts-bar-")),Un(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Un(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return GQ(t,e),KQ(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,l=i.shape,o=i.dataKey,c=i.activeIndex,u=i.activeBar,h=Oe(this.props,!1);return a&&a.map(function(d,m){var g=m===c,b=g?u:l,x=at(at(at({},h),d),{},{isActive:g,option:b,index:m,dataKey:o,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return q.createElement(nt,ad({className:"recharts-bar-rectangle"},gu(s.props,d,m),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(m)}),q.createElement(jN,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,l=s.layout,o=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,h=s.animationEasing,d=s.animationId,m=this.state.prevData;return q.createElement(Xs,{begin:c,duration:u,isActive:o,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var b=g.t,x=i.map(function(j,N){var S=m&&m[N];if(S){var y=$r(S.x,j.x),f=$r(S.y,j.y),p=$r(S.width,j.width),v=$r(S.height,j.height);return at(at({},j),{},{x:y(b),y:f(b),width:p(b),height:v(b)})}if(l==="horizontal"){var w=$r(0,j.height),k=w(b);return at(at({},j),{},{y:j.y+j.height-k,height:k})}var P=$r(0,j.width),A=P(b);return at(at({},j),{},{width:A})});return q.createElement(nt,null,a.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!mm(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,l=s.dataKey,o=s.activeIndex,c=Oe(this.props.background,!1);return i.map(function(u,h){u.value;var d=u.background,m=BQ(u,LQ);if(!d)return null;var g=at(at(at(at(at({},m),{},{fill:"#eee"},d),c),gu(a.props,u,h)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:h,className:"recharts-bar-background-rectangle"});return q.createElement(jN,ad({key:"background-bar-".concat(h),option:a.props.background,isActive:h===o},g))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,o=i.xAxis,c=i.yAxis,u=i.layout,h=i.children,d=vr(h,Fo);if(!d)return null;var m=u==="vertical"?l[0].height/2:l[0].width/2,g=function(j,N){var S=Array.isArray(j.value)?j.value[1]:j.value;return{x:j.x,y:j.y,value:S,errorVal:ir(j,N)}},b={clipPath:a?"url(#clipPath-".concat(s,")"):null};return q.createElement(nt,b,d.map(function(x){return q.cloneElement(x,{key:"error-bar-".concat(s,"-").concat(x.props.dataKey),data:l,xAxis:o,yAxis:c,layout:u,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,l=a.className,o=a.xAxis,c=a.yAxis,u=a.left,h=a.top,d=a.width,m=a.height,g=a.isAnimationActive,b=a.background,x=a.id;if(s||!i||!i.length)return null;var j=this.state.isAnimationFinished,N=Te("recharts-bar",l),S=o&&o.allowDataOverflow,y=c&&c.allowDataOverflow,f=S||y,p=Se(x)?this.id:x;return q.createElement(nt,{className:N},S||y?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(p)},q.createElement("rect",{x:S?u:u-d/2,y:y?h:h-m/2,width:S?d:d*2,height:y?m:m*2}))):null,q.createElement(nt,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(p,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(f,p),(!g||j)&&Zn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(C.PureComponent);_k=Lo;Un(Lo,"displayName","Bar");Un(Lo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Un(Lo,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,h=e.dataStartIndex,d=e.displayedData,m=e.offset,g=CW(a,r);if(!g)return null;var b=t.layout,x=r.type.defaultProps,j=x!==void 0?at(at({},x),r.props):r.props,N=j.dataKey,S=j.children,y=j.minPointSize,f=b==="horizontal"?l:i,p=u?f.scale.domain():null,v=MW({numericAxis:f}),w=vr(S,u2),k=d.map(function(P,A){var D,O,M,L,R,E;u?D=kW(u[h+A],p):(D=ir(P,N),Array.isArray(D)||(D=[v,D]));var B=FQ(y,_k.defaultProps.minPointSize)(D[1],A);if(b==="horizontal"){var T,I=[l.scale(D[0]),l.scale(D[1])],$=I[0],F=I[1];O=jj({axis:i,ticks:o,bandSize:s,offset:g.offset,entry:P,index:A}),M=(T=F??$)!==null&&T!==void 0?T:void 0,L=g.size;var _=$-F;if(R=Number.isNaN(_)?0:_,E={x:O,y:l.y,width:L,height:l.height},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var G=Fr(R||B)*(Math.abs(B)-Math.abs(R));M-=G,R+=G}}else{var ee=[i.scale(D[0]),i.scale(D[1])],de=ee[0],X=ee[1];if(O=de,M=jj({axis:l,ticks:c,bandSize:s,offset:g.offset,entry:P,index:A}),L=X-de,R=g.size,E={x:i.x,y:M,width:i.width,height:R},Math.abs(B)>0&&Math.abs(L)<Math.abs(B)){var ae=Fr(L||B)*(Math.abs(B)-Math.abs(L));L+=ae}}return at(at(at({},P),{},{x:O,y:M,width:L,height:R,value:u?D:D[1],payload:P,background:E},w&&w[A]&&w[A].props),{},{tooltipPayload:[xk(r,P)],tooltipPosition:{x:O+L/2,y:M+R/2}})});return at({data:k,layout:b},m)});function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function QQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Lk(a.key),a)}}function JQ(e,t,r){return t&&SN(e.prototype,t),r&&SN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(a){gm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gm(e,t,r){return t=Lk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lk(e){var t=XQ(e,"string");return po(t)=="symbol"?t:t+""}function XQ(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(po(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YQ=function(t,r,a,s,i){var l=t.width,o=t.height,c=t.layout,u=t.children,h=Object.keys(r),d={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:o-a.bottom,bottomMirror:o-a.bottom},m=!!Zt(u,Lo);return h.reduce(function(g,b){var x=r[b],j=x.orientation,N=x.domain,S=x.padding,y=S===void 0?{}:S,f=x.mirror,p=x.reversed,v="".concat(j).concat(f?"Mirror":""),w,k,P,A,D;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var O=N[1]-N[0],M=1/0,L=x.categoricalDomain.sort(o6);if(L.forEach(function(ee,de){de>0&&(M=Math.min((ee||0)-(L[de-1]||0),M))}),Number.isFinite(M)){var R=M/O,E=x.layout==="vertical"?a.height:a.width;if(x.padding==="gap"&&(w=R*E/2),x.padding==="no-gap"){var B=Wa(t.barCategoryGap,R*E),T=R*E/2;w=T-B-(T-B)/E*B}}}s==="xAxis"?k=[a.left+(y.left||0)+(w||0),a.left+a.width-(y.right||0)-(w||0)]:s==="yAxis"?k=c==="horizontal"?[a.top+a.height-(y.bottom||0),a.top+(y.top||0)]:[a.top+(y.top||0)+(w||0),a.top+a.height-(y.bottom||0)-(w||0)]:k=x.range,p&&(k=[k[1],k[0]]);var I=wW(x,i,m),$=I.scale,F=I.realScaleType;$.domain(N).range(k),SW($);var _=EW($,Er(Er({},x),{},{realScaleType:F}));s==="xAxis"?(D=j==="top"&&!f||j==="bottom"&&f,P=a.left,A=d[v]-D*x.height):s==="yAxis"&&(D=j==="left"&&!f||j==="right"&&f,P=d[v]-D*x.width,A=a.top);var G=Er(Er(Er({},x),_),{},{realScaleType:F,x:P,y:A,scale:$,width:s==="xAxis"?a.width:x.width,height:s==="yAxis"?a.height:x.height});return G.bandSize=Vu(G,_),!x.hide&&s==="xAxis"?d[v]+=(D?-1:1)*G.height:x.hide||(d[v]+=(D?-1:1)*G.width),Er(Er({},g),{},gm({},b,G))},{})},Bk=function(t,r){var a=t.x,s=t.y,i=r.x,l=r.y;return{x:Math.min(a,i),y:Math.min(s,l),width:Math.abs(i-a),height:Math.abs(l-s)}},ZQ=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return Bk({x:r,y:a},{x:s,y:i})},qk=function(){function e(t){QQ(this,e),this.scale=t}return JQ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();gm(qk,"EPS",1e-4);var pg=function(t){var r=Object.keys(t).reduce(function(a,s){return Er(Er({},a),{},gm({},s,qk.create(t[s])))},{});return Er(Er({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,o=i.position;return gQ(s,function(c,u){return r[u].apply(c,{bandAware:l,position:o})})},isInRange:function(s){return $k(s,function(i,l){return r[l].isInRange(i)})}})};function eJ(e){return(e%180+180)%180}var tJ=function(t){var r=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=eJ(s),l=i*Math.PI/180,o=Math.atan(a/r),c=l>o&&l<Math.PI-o?a/Math.sin(l):r/Math.cos(l);return Math.abs(c)},rJ=ca,nJ=Mo,aJ=tm;function sJ(e){return function(t,r,a){var s=Object(t);if(!nJ(t)){var i=rJ(r);t=aJ(t),r=function(o){return i(s[o],o,s)}}var l=e(t,r,a);return l>-1?s[i?t[l]:l]:void 0}}var iJ=sJ,lJ=Dk;function oJ(e){var t=lJ(e),r=t%1;return t===t?r?t-r:t:0}var cJ=oJ,uJ=QC,dJ=ca,mJ=cJ,fJ=Math.max;function hJ(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var s=r==null?0:mJ(r);return s<0&&(s=fJ(a+s,0)),uJ(e,dJ(t),s)}var pJ=hJ,xJ=iJ,yJ=pJ,gJ=xJ(yJ),vJ=gJ;const bJ=qe(vJ);var jJ=cI(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),xg=C.createContext(void 0),yg=C.createContext(void 0),Uk=C.createContext(void 0),Kk=C.createContext({}),Wk=C.createContext(void 0),zk=C.createContext(0),Vk=C.createContext(0),kN=function(t){var r=t.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,l=t.clipPathId,o=t.children,c=t.width,u=t.height,h=jJ(i);return q.createElement(xg.Provider,{value:a},q.createElement(yg.Provider,{value:s},q.createElement(Kk.Provider,{value:i},q.createElement(Uk.Provider,{value:h},q.createElement(Wk.Provider,{value:l},q.createElement(zk.Provider,{value:u},q.createElement(Vk.Provider,{value:c},o)))))))},NJ=function(){return C.useContext(Wk)},Gk=function(t){var r=C.useContext(xg);r==null&&Va(!1);var a=r[t];return a==null&&Va(!1),a},wJ=function(){var t=C.useContext(xg);return Rn(t)},SJ=function(){var t=C.useContext(yg),r=bJ(t,function(a){return $k(a.domain,Number.isFinite)});return r||Rn(t)},Hk=function(t){var r=C.useContext(yg);r==null&&Va(!1);var a=r[t];return a==null&&Va(!1),a},CJ=function(){var t=C.useContext(Uk);return t},kJ=function(){return C.useContext(Kk)},gg=function(){return C.useContext(Vk)},vg=function(){return C.useContext(zk)};function ti(e){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}function OJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ON(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Jk(a.key),a)}}function PJ(e,t,r){return t&&ON(e.prototype,t),r&&ON(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TJ(e,t,r){return t=id(t),AJ(e,Qk()?Reflect.construct(t,r||[],id(e).constructor):t.apply(e,r))}function AJ(e,t){if(t&&(ti(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DJ(e)}function DJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qk=function(){return!!e})()}function id(e){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},id(e)}function EJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vp(e,t)}function Vp(e,t){return Vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Vp(e,t)}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function TN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(a){bg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bg(e,t,r){return t=Jk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jk(e){var t=MJ(e,"string");return ti(t)=="symbol"?t:t+""}function MJ(e,t){if(ti(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ti(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IJ(e,t){return FJ(e)||RJ(e,t)||_J(e,t)||$J()}function $J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(e,t){if(e){if(typeof e=="string")return AN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AN(e,t)}}function AN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function RJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function FJ(e){if(Array.isArray(e))return e}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gp.apply(this,arguments)}var LJ=function(t,r){var a;return q.isValidElement(t)?a=q.cloneElement(t,r):Ne(t)?a=t(r):a=q.createElement("line",Gp({},r,{className:"recharts-reference-line-line"})),a},BJ=function(t,r,a,s,i,l,o,c,u){var h=i.x,d=i.y,m=i.width,g=i.height;if(a){var b=u.y,x=t.y.apply(b,{position:l});if(Xr(u,"discard")&&!t.y.isInRange(x))return null;var j=[{x:h+m,y:x},{x:h,y:x}];return c==="left"?j.reverse():j}if(r){var N=u.x,S=t.x.apply(N,{position:l});if(Xr(u,"discard")&&!t.x.isInRange(S))return null;var y=[{x:S,y:d+g},{x:S,y:d}];return o==="top"?y.reverse():y}if(s){var f=u.segment,p=f.map(function(v){return t.apply(v,{position:l})});return Xr(u,"discard")&&uQ(p,function(v){return!t.isInRange(v)})?null:p}return null};function qJ(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,o=e.className,c=e.alwaysShow,u=NJ(),h=Gk(s),d=Hk(i),m=CJ();if(!u||!m)return null;pn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=pg({x:h.scale,y:d.scale}),b=ft(t),x=ft(r),j=a&&a.length===2,N=BJ(g,b,x,j,m,e.position,h.orientation,d.orientation,e);if(!N)return null;var S=IJ(N,2),y=S[0],f=y.x,p=y.y,v=S[1],w=v.x,k=v.y,P=Xr(e,"hidden")?"url(#".concat(u,")"):void 0,A=TN(TN({clipPath:P},Oe(e,!0)),{},{x1:f,y1:p,x2:w,y2:k});return q.createElement(nt,{className:Te("recharts-reference-line",o)},LJ(l,A),Et.renderCallByParent(e,ZQ({x1:f,y1:p,x2:w,y2:k})))}var jg=function(e){function t(){return OJ(this,t),TJ(this,t,arguments)}return EJ(t,e),PJ(t,[{key:"render",value:function(){return q.createElement(qJ,this.props)}}])}(q.Component);bg(jg,"displayName","ReferenceLine");bg(jg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hp.apply(this,arguments)}function ri(e){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function EN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(a){vm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Yk(a.key),a)}}function KJ(e,t,r){return t&&MN(e.prototype,t),r&&MN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WJ(e,t,r){return t=ld(t),zJ(e,Xk()?Reflect.construct(t,r||[],ld(e).constructor):t.apply(e,r))}function zJ(e,t){if(t&&(ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VJ(e)}function VJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xk=function(){return!!e})()}function ld(e){return ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ld(e)}function GJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qp(e,t)}function Qp(e,t){return Qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Qp(e,t)}function vm(e,t,r){return t=Yk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yk(e){var t=HJ(e,"string");return ri(t)=="symbol"?t:t+""}function HJ(e,t){if(ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ri(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QJ=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,l=pg({x:s.scale,y:i.scale}),o=l.apply({x:r,y:a},{bandAware:!0});return Xr(t,"discard")&&!l.isInRange(o)?null:o},bm=function(e){function t(){return UJ(this,t),WJ(this,t,arguments)}return GJ(t,e),KJ(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,l=a.r,o=a.alwaysShow,c=a.clipPathId,u=ft(s),h=ft(i);if(pn(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var d=QJ(this.props);if(!d)return null;var m=d.x,g=d.y,b=this.props,x=b.shape,j=b.className,N=Xr(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=EN(EN({clipPath:N},Oe(this.props,!0)),{},{cx:m,cy:g});return q.createElement(nt,{className:Te("recharts-reference-dot",j)},t.renderDot(x,S),Et.renderCallByParent(this.props,{x:m-l,y:g-l,width:2*l,height:2*l}))}}])}(q.Component);vm(bm,"displayName","ReferenceDot");vm(bm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});vm(bm,"renderDot",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):Ne(e)?r=e(t):r=q.createElement(hg,Hp({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jp.apply(this,arguments)}function ni(e){"@babel/helpers - typeof";return ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ni(e)}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(a){jm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function JJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _N(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,eO(a.key),a)}}function XJ(e,t,r){return t&&_N(e.prototype,t),r&&_N(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YJ(e,t,r){return t=od(t),ZJ(e,Zk()?Reflect.construct(t,r||[],od(e).constructor):t.apply(e,r))}function ZJ(e,t){if(t&&(ni(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eX(e)}function eX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zk=function(){return!!e})()}function od(e){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},od(e)}function tX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xp(e,t)}function Xp(e,t){return Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Xp(e,t)}function jm(e,t,r){return t=eO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eO(e){var t=rX(e,"string");return ni(t)=="symbol"?t:t+""}function rX(e,t){if(ni(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ni(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nX=function(t,r,a,s,i){var l=i.x1,o=i.x2,c=i.y1,u=i.y2,h=i.xAxis,d=i.yAxis;if(!h||!d)return null;var m=pg({x:h.scale,y:d.scale}),g={x:t?m.x.apply(l,{position:"start"}):m.x.rangeMin,y:a?m.y.apply(c,{position:"start"}):m.y.rangeMin},b={x:r?m.x.apply(o,{position:"end"}):m.x.rangeMax,y:s?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Xr(i,"discard")&&(!m.isInRange(g)||!m.isInRange(b))?null:Bk(g,b)},Nm=function(e){function t(){return JJ(this,t),YJ(this,t,arguments)}return tX(t,e),XJ(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,l=a.y1,o=a.y2,c=a.className,u=a.alwaysShow,h=a.clipPathId;pn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ft(s),m=ft(i),g=ft(l),b=ft(o),x=this.props.shape;if(!d&&!m&&!g&&!b&&!x)return null;var j=nX(d,m,g,b,this.props);if(!j&&!x)return null;var N=Xr(this.props,"hidden")?"url(#".concat(h,")"):void 0;return q.createElement(nt,{className:Te("recharts-reference-area",c)},t.renderRect(x,$N($N({clipPath:N},Oe(this.props,!0)),j)),Et.renderCallByParent(this.props,j))}}])}(q.Component);jm(Nm,"displayName","ReferenceArea");jm(Nm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jm(Nm,"renderRect",function(e,t){var r;return q.isValidElement(e)?r=q.cloneElement(e,t):Ne(e)?r=e(t):r=q.createElement(fg,Jp({},t,{className:"recharts-reference-area-rect"})),r});function tO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)if(r===void 0||r(e[s])===!0)a.push(e[s]);else return;return a}function aX(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return tJ(a,r)}function sX(e,t,r){var a=r==="width",s=e.x,i=e.y,l=e.width,o=e.height;return t===1?{start:a?s:i,end:a?s+l:i+o}:{start:a?s+l:i+o,end:a?s:i}}function cd(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function iX(e,t){return tO(e,t+1)}function lX(e,t,r,a,s){for(var i=(a||[]).slice(),l=t.start,o=t.end,c=0,u=1,h=l,d=function(){var b=a==null?void 0:a[c];if(b===void 0)return{v:tO(a,u)};var x=c,j,N=function(){return j===void 0&&(j=r(b,x)),j},S=b.coordinate,y=c===0||cd(e,S,N,h,o);y||(c=0,h=l,u+=1),y&&(h=S+e*(N()/2+s),c+=u)},m;u<=i.length;)if(m=d(),m)return m.v;return[]}function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(a){oX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oX(e,t,r){return t=cX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cX(e){var t=uX(e,"string");return xo(t)=="symbol"?t:t+""}function uX(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(xo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dX(e,t,r,a,s){for(var i=(a||[]).slice(),l=i.length,o=t.start,c=t.end,u=function(m){var g=i[m],b,x=function(){return b===void 0&&(b=r(g,m)),b};if(m===l-1){var j=e*(g.coordinate+e*x()/2-c);i[m]=g=At(At({},g),{},{tickCoord:j>0?g.coordinate-j*e:g.coordinate})}else i[m]=g=At(At({},g),{},{tickCoord:g.coordinate});var N=cd(e,g.tickCoord,x,o,c);N&&(c=g.tickCoord-e*(x()/2+s),i[m]=At(At({},g),{},{isShow:!0}))},h=l-1;h>=0;h--)u(h);return i}function mX(e,t,r,a,s,i){var l=(a||[]).slice(),o=l.length,c=t.start,u=t.end;if(i){var h=a[o-1],d=r(h,o-1),m=e*(h.coordinate+e*d/2-u);l[o-1]=h=At(At({},h),{},{tickCoord:m>0?h.coordinate-m*e:h.coordinate});var g=cd(e,h.tickCoord,function(){return d},c,u);g&&(u=h.tickCoord-e*(d/2+s),l[o-1]=At(At({},h),{},{isShow:!0}))}for(var b=i?o-1:o,x=function(S){var y=l[S],f,p=function(){return f===void 0&&(f=r(y,S)),f};if(S===0){var v=e*(y.coordinate-e*p()/2-c);l[S]=y=At(At({},y),{},{tickCoord:v<0?y.coordinate-v*e:y.coordinate})}else l[S]=y=At(At({},y),{},{tickCoord:y.coordinate});var w=cd(e,y.tickCoord,p,c,u);w&&(c=y.tickCoord+e*(p()/2+s),l[S]=At(At({},y),{},{isShow:!0}))},j=0;j<b;j++)x(j);return l}function Ng(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,o=e.orientation,c=e.interval,u=e.tickFormatter,h=e.unit,d=e.angle;if(!s||!s.length||!a)return[];if(ne(c)||xn.isSsr)return iX(s,typeof c=="number"&&ne(c)?c:0);var m=[],g=o==="top"||o==="bottom"?"width":"height",b=h&&g==="width"?ol(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(y,f){var p=Ne(u)?u(y.value,f):y.value;return g==="width"?aX(ol(p,{fontSize:t,letterSpacing:r}),b,d):ol(p,{fontSize:t,letterSpacing:r})[g]},j=s.length>=2?Fr(s[1].coordinate-s[0].coordinate):1,N=sX(i,j,g);return c==="equidistantPreserveStart"?lX(j,N,x,s,l):(c==="preserveStart"||c==="preserveStartEnd"?m=mX(j,N,x,s,l,c==="preserveStartEnd"):m=dX(j,N,x,s,l),m.filter(function(S){return S.isShow}))}var fX=["viewBox"],hX=["viewBox"],pX=["ticks"];function ai(e){"@babel/helpers - typeof";return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},js.apply(this,arguments)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(a){wg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tf(e,t){if(e==null)return{};var r=xX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function xX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function yX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,nO(a.key),a)}}function gX(e,t,r){return t&&LN(e.prototype,t),r&&LN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vX(e,t,r){return t=ud(t),bX(e,rO()?Reflect.construct(t,r||[],ud(e).constructor):t.apply(e,r))}function bX(e,t){if(t&&(ai(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jX(e)}function jX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rO=function(){return!!e})()}function ud(e){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ud(e)}function NX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yp(e,t)}function Yp(e,t){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Yp(e,t)}function wg(e,t,r){return t=nO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nO(e){var t=wX(e,"string");return ai(t)=="symbol"?t:t+""}function wX(e,t){if(ai(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ai(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ki=function(e){function t(r){var a;return yX(this,t),a=vX(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return NX(t,e),gX(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,l=Tf(a,fX),o=this.props,c=o.viewBox,u=Tf(o,hX);return!Ts(i,c)||!Ts(l,u)||!Ts(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,l=s.y,o=s.width,c=s.height,u=s.orientation,h=s.tickSize,d=s.mirror,m=s.tickMargin,g,b,x,j,N,S,y=d?-1:1,f=a.tickSize||h,p=ne(a.tickCoord)?a.tickCoord:a.coordinate;switch(u){case"top":g=b=a.coordinate,j=l+ +!d*c,x=j-y*f,S=x-y*m,N=p;break;case"left":x=j=a.coordinate,b=i+ +!d*o,g=b-y*f,N=g-y*m,S=p;break;case"right":x=j=a.coordinate,b=i+ +d*o,g=b+y*f,N=g+y*m,S=p;break;default:g=b=a.coordinate,j=l+ +d*c,x=j+y*f,S=x+y*m,N=p;break}return{line:{x1:g,y1:x,x2:b,y2:j},tick:{x:N,y:S}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,l=a.width,o=a.height,c=a.orientation,u=a.mirror,h=a.axisLine,d=ot(ot(ot({},Oe(this.props,!1)),Oe(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);d=ot(ot({},d),{},{x1:s,y1:i+m*o,x2:s+l,y2:i+m*o})}else{var g=+(c==="left"&&!u||c==="right"&&u);d=ot(ot({},d),{},{x1:s+g*l,y1:i,x2:s+g*l,y2:i+o})}return q.createElement("line",js({},d,{className:Te("recharts-cartesian-axis-line",gr(h,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var l=this,o=this.props,c=o.tickLine,u=o.stroke,h=o.tick,d=o.tickFormatter,m=o.unit,g=Ng(ot(ot({},this.props),{},{ticks:a}),s,i),b=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),j=Oe(this.props,!1),N=Oe(h,!1),S=ot(ot({},j),{},{fill:"none"},Oe(c,!1)),y=g.map(function(f,p){var v=l.getTickLineCoord(f),w=v.line,k=v.tick,P=ot(ot(ot(ot({textAnchor:b,verticalAnchor:x},j),{},{stroke:"none",fill:u},N),k),{},{index:p,payload:f,visibleTicksCount:g.length,tickFormatter:d});return q.createElement(nt,js({className:"recharts-cartesian-axis-tick",key:"tick-".concat(f.value,"-").concat(f.coordinate,"-").concat(f.tickCoord)},gu(l.props,f,p)),c&&q.createElement("line",js({},S,w,{className:Te("recharts-cartesian-axis-tick-line",gr(c,"className"))})),h&&t.renderTickItem(h,P,"".concat(Ne(d)?d(f.value,p):f.value).concat(m||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,l=s.width,o=s.height,c=s.ticksGenerator,u=s.className,h=s.hide;if(h)return null;var d=this.props,m=d.ticks,g=Tf(d,pX),b=m;return Ne(c)&&(b=m&&m.length>0?c(this.props):c(g)),l<=0||o<=0||!b||!b.length?null:q.createElement(nt,{className:Te("recharts-cartesian-axis",u),ref:function(j){a.layerReference=j}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Et.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var l,o=Te(s.className,"recharts-cartesian-axis-tick-value");return q.isValidElement(a)?l=q.cloneElement(a,ot(ot({},s),{},{className:o})):Ne(a)?l=a(ot(ot({},s),{},{className:o})):l=q.createElement(Eu,js({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])}(C.Component);wg(ki,"displayName","CartesianAxis");wg(ki,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var SX=["x1","y1","x2","y2","key"],CX=["offset"];function Ga(e){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(a){kX(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kX(e,t,r){return t=OX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=PX(e,"string");return Ga(t)=="symbol"?t:t+""}function PX(e,t){if(Ga(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ga(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Aa.apply(this,arguments)}function qN(e,t){if(e==null)return{};var r=TX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function TX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var AX=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,l=t.width,o=t.height,c=t.ry;return q.createElement("rect",{x:s,y:i,ry:c,width:l,height:o,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function aO(e,t){var r;if(q.isValidElement(e))r=q.cloneElement(e,t);else if(Ne(e))r=e(t);else{var a=t.x1,s=t.y1,i=t.x2,l=t.y2,o=t.key,c=qN(t,SX),u=Oe(c,!1);u.offset;var h=qN(u,CX);r=q.createElement("line",Aa({},h,{x1:a,y1:s,x2:i,y2:l,fill:"none",key:o}))}return r}function DX(e){var t=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(o,c){var u=Mt(Mt({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return aO(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function EX(e){var t=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(o,c){var u=Mt(Mt({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return aO(s,u)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function MX(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,i=e.width,l=e.height,o=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var h=o.map(function(m){return Math.round(m+s-s)}).sort(function(m,g){return m-g});s!==h[0]&&h.unshift(0);var d=h.map(function(m,g){var b=!h[g+1],x=b?s+l-m:h[g+1]-m;if(x<=0)return null;var j=g%t.length;return q.createElement("rect",{key:"react-".concat(g),y:m,x:a,height:x,width:i,stroke:"none",fill:t[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function IX(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,o=e.width,c=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var h=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==h[0]&&h.unshift(0);var d=h.map(function(m,g){var b=!h[g+1],x=b?i+o-m:h[g+1]-m;if(x<=0)return null;var j=g%a.length;return q.createElement("rect",{key:"react-".concat(g),x:m,y:l,width:x,height:c,stroke:"none",fill:a[j],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $X=function(t,r){var a=t.xAxis,s=t.width,i=t.height,l=t.offset;return hk(Ng(Mt(Mt(Mt({},ki.defaultProps),a),{},{ticks:dn(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,r)},_X=function(t,r){var a=t.yAxis,s=t.width,i=t.height,l=t.offset;return hk(Ng(Mt(Mt(Mt({},ki.defaultProps),a),{},{ticks:dn(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,r)},is={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Zp(e){var t,r,a,s,i,l,o=gg(),c=vg(),u=kJ(),h=Mt(Mt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:is.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:is.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:is.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:is.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:is.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:is.verticalFill,x:ne(e.x)?e.x:u.left,y:ne(e.y)?e.y:u.top,width:ne(e.width)?e.width:u.width,height:ne(e.height)?e.height:u.height}),d=h.x,m=h.y,g=h.width,b=h.height,x=h.syncWithTicks,j=h.horizontalValues,N=h.verticalValues,S=wJ(),y=SJ();if(!ne(g)||g<=0||!ne(b)||b<=0||!ne(d)||d!==+d||!ne(m)||m!==+m)return null;var f=h.verticalCoordinatesGenerator||$X,p=h.horizontalCoordinatesGenerator||_X,v=h.horizontalPoints,w=h.verticalPoints;if((!v||!v.length)&&Ne(p)){var k=j&&j.length,P=p({yAxis:y?Mt(Mt({},y),{},{ticks:k?j:y.ticks}):void 0,width:o,height:c,offset:u},k?!0:x);pn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ga(P),"]")),Array.isArray(P)&&(v=P)}if((!w||!w.length)&&Ne(f)){var A=N&&N.length,D=f({xAxis:S?Mt(Mt({},S),{},{ticks:A?N:S.ticks}):void 0,width:o,height:c,offset:u},A?!0:x);pn(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ga(D),"]")),Array.isArray(D)&&(w=D)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(AX,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),q.createElement(DX,Aa({},h,{offset:u,horizontalPoints:v,xAxis:S,yAxis:y})),q.createElement(EX,Aa({},h,{offset:u,verticalPoints:w,xAxis:S,yAxis:y})),q.createElement(MX,Aa({},h,{horizontalPoints:v})),q.createElement(IX,Aa({},h,{verticalPoints:w})))}Zp.displayName="CartesianGrid";var RX=["type","layout","connectNulls","ref"],FX=["key"];function si(e){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(e)}function UN(e,t){if(e==null)return{};var r=LX(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function LX(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ml.apply(this,arguments)}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(a){Mr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ls(e){return KX(e)||UX(e)||qX(e)||BX()}function BX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qX(e,t){if(e){if(typeof e=="string")return ex(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ex(e,t)}}function UX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KX(e){if(Array.isArray(e))return ex(e)}function ex(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function WX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,iO(a.key),a)}}function zX(e,t,r){return t&&WN(e.prototype,t),r&&WN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VX(e,t,r){return t=dd(t),GX(e,sO()?Reflect.construct(t,r||[],dd(e).constructor):t.apply(e,r))}function GX(e,t){if(t&&(si(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HX(e)}function HX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sO=function(){return!!e})()}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dd(e)}function QX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tx(e,t)}function tx(e,t){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},tx(e,t)}function Mr(e,t,r){return t=iO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iO(e){var t=JX(e,"string");return si(t)=="symbol"?t:t+""}function JX(e,t){if(si(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(si(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ii=function(e){function t(){var r;WX(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=VX(this,t,[].concat(s)),Mr(r,"state",{isAnimationFinished:!0,totalLength:0}),Mr(r,"generateSimpleStrokeDasharray",function(l,o){return"".concat(o,"px ").concat(l-o,"px")}),Mr(r,"getStrokeDasharray",function(l,o,c){var u=c.reduce(function(N,S){return N+S});if(!u)return r.generateSimpleStrokeDasharray(o,l);for(var h=Math.floor(l/u),d=l%u,m=o-l,g=[],b=0,x=0;b<c.length;x+=c[b],++b)if(x+c[b]>d){g=[].concat(ls(c.slice(0,b)),[d-x]);break}var j=g.length%2===0?[0,m]:[m];return[].concat(ls(t.repeat(c,h)),ls(g),j).map(function(N){return"".concat(N,"px")}).join(", ")}),Mr(r,"id",Eo("recharts-line-")),Mr(r,"pathRef",function(l){r.mainCurve=l}),Mr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Mr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return QX(t,e),zX(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.points,o=i.xAxis,c=i.yAxis,u=i.layout,h=i.children,d=vr(h,Fo);if(!d)return null;var m=function(x,j){return{x:x.x,y:x.y,value:x.value,errorVal:ir(x.payload,j)}},g={clipPath:a?"url(#clipPath-".concat(s,")"):null};return q.createElement(nt,g,d.map(function(b){return q.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:l,xAxis:o,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(a,s,i){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,u=o.points,h=o.dataKey,d=Oe(this.props,!1),m=Oe(c,!0),g=u.map(function(x,j){var N=Jt(Jt(Jt({key:"dot-".concat(j),r:3},d),m),{},{index:j,cx:x.x,cy:x.y,value:x.value,dataKey:h,payload:x.payload,points:u});return t.renderDotItem(c,N)}),b={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return q.createElement(nt,ml({className:"recharts-line-dots",key:"dots"},b),g)}},{key:"renderCurveStatically",value:function(a,s,i,l){var o=this.props,c=o.type,u=o.layout,h=o.connectNulls;o.ref;var d=UN(o,RX),m=Jt(Jt(Jt({},Oe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},l),{},{type:c,layout:u,connectNulls:h});return q.createElement(Dp,ml({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,l=this.props,o=l.points,c=l.strokeDasharray,u=l.isAnimationActive,h=l.animationBegin,d=l.animationDuration,m=l.animationEasing,g=l.animationId,b=l.animateNewValues,x=l.width,j=l.height,N=this.state,S=N.prevPoints,y=N.totalLength;return q.createElement(Xs,{begin:h,duration:d,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t;if(S){var v=S.length/o.length,w=o.map(function(O,M){var L=Math.floor(M*v);if(S[L]){var R=S[L],E=$r(R.x,O.x),B=$r(R.y,O.y);return Jt(Jt({},O),{},{x:E(p),y:B(p)})}if(b){var T=$r(x*2,O.x),I=$r(j/2,O.y);return Jt(Jt({},O),{},{x:T(p),y:I(p)})}return Jt(Jt({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(w,a,s)}var k=$r(0,y),P=k(p),A;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});A=i.getStrokeDasharray(P,y,D)}else A=i.generateSimpleStrokeDasharray(y,P);return i.renderCurveStatically(o,a,s,{strokeDasharray:A})})}},{key:"renderCurve",value:function(a,s){var i=this.props,l=i.points,o=i.isAnimationActive,c=this.state,u=c.prevPoints,h=c.totalLength;return o&&l&&l.length&&(!u&&h>0||!mm(u,l))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(l,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,l=s.dot,o=s.points,c=s.className,u=s.xAxis,h=s.yAxis,d=s.top,m=s.left,g=s.width,b=s.height,x=s.isAnimationActive,j=s.id;if(i||!o||!o.length)return null;var N=this.state.isAnimationFinished,S=o.length===1,y=Te("recharts-line",c),f=u&&u.allowDataOverflow,p=h&&h.allowDataOverflow,v=f||p,w=Se(j)?this.id:j,k=(a=Oe(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},P=k.r,A=P===void 0?3:P,D=k.strokeWidth,O=D===void 0?2:D,M=y6(l)?l:{},L=M.clipDot,R=L===void 0?!0:L,E=A*2+O;return q.createElement(nt,{className:y},f||p?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(w)},q.createElement("rect",{x:f?m:m-g/2,y:p?d:d-b/2,width:f?g:g*2,height:p?b:b*2})),!R&&q.createElement("clipPath",{id:"clipPath-dots-".concat(w)},q.createElement("rect",{x:m-E/2,y:d-E/2,width:g+E,height:b+E}))):null,!S&&this.renderCurve(v,w),this.renderErrorBar(v,w),(S||l)&&this.renderDots(v,R,w),(!x||N)&&Zn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(ls(a),[0]):a,l=[],o=0;o<s;++o)l=[].concat(ls(l),ls(i));return l}},{key:"renderDotItem",value:function(a,s){var i;if(q.isValidElement(a))i=q.cloneElement(a,s);else if(Ne(a))i=a(s);else{var l=s.key,o=UN(s,FX),c=Te("recharts-line-dot",typeof a!="boolean"?a.className:"");i=q.createElement(hg,ml({key:l},o,{className:c}))}return i}}])}(C.PureComponent);Mr(ii,"displayName","Line");Mr(ii,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!xn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Mr(ii,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,l=e.dataKey,o=e.bandSize,c=e.displayedData,u=e.offset,h=t.layout,d=c.map(function(m,g){var b=ir(m,l);return h==="horizontal"?{x:bj({axis:r,ticks:s,bandSize:o,entry:m,index:g}),y:Se(b)?null:a.scale(b),value:b,payload:m}:{x:Se(b)?null:r.scale(b),y:bj({axis:a,ticks:i,bandSize:o,entry:m,index:g}),value:b,payload:m}});return Jt({points:d,layout:h},u)});function li(e){"@babel/helpers - typeof";return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(e)}function XX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cO(a.key),a)}}function YX(e,t,r){return t&&zN(e.prototype,t),r&&zN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZX(e,t,r){return t=md(t),eY(e,lO()?Reflect.construct(t,r||[],md(e).constructor):t.apply(e,r))}function eY(e,t){if(t&&(li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tY(e)}function tY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lO=function(){return!!e})()}function md(e){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(e)}function rY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},rx(e,t)}function oO(e,t,r){return t=cO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cO(e){var t=nY(e,"string");return li(t)=="symbol"?t:t+""}function nY(e,t){if(li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(li(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nx.apply(this,arguments)}function aY(e){var t=e.xAxisId,r=gg(),a=vg(),s=Gk(t);return s==null?null:C.createElement(ki,nx({},s,{className:Te("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return dn(l,!0)}}))}var yo=function(e){function t(){return XX(this,t),ZX(this,t,arguments)}return rY(t,e),YX(t,[{key:"render",value:function(){return C.createElement(aY,this.props)}}])}(C.Component);oO(yo,"displayName","XAxis");oO(yo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oi(e){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(e)}function sY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,mO(a.key),a)}}function iY(e,t,r){return t&&VN(e.prototype,t),r&&VN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lY(e,t,r){return t=fd(t),oY(e,uO()?Reflect.construct(t,r||[],fd(e).constructor):t.apply(e,r))}function oY(e,t){if(t&&(oi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cY(e)}function cY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uO=function(){return!!e})()}function fd(e){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fd(e)}function uY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ax(e,t)}function ax(e,t){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ax(e,t)}function dO(e,t,r){return t=mO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mO(e){var t=dY(e,"string");return oi(t)=="symbol"?t:t+""}function dY(e,t){if(oi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(oi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sx.apply(this,arguments)}var mY=function(t){var r=t.yAxisId,a=gg(),s=vg(),i=Hk(r);return i==null?null:C.createElement(ki,sx({},i,{className:Te("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(o){return dn(o,!0)}}))},go=function(e){function t(){return sY(this,t),lY(this,t,arguments)}return uY(t,e),iY(t,[{key:"render",value:function(){return C.createElement(mY,this.props)}}])}(C.Component);dO(go,"displayName","YAxis");dO(go,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function GN(e){return xY(e)||pY(e)||hY(e)||fY()}function fY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hY(e,t){if(e){if(typeof e=="string")return ix(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ix(e,t)}}function pY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xY(e){if(Array.isArray(e))return ix(e)}function ix(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var lx=function(t,r,a,s,i){var l=vr(t,jg),o=vr(t,bm),c=[].concat(GN(l),GN(o)),u=vr(t,Nm),h="".concat(s,"Id"),d=s[0],m=r;if(c.length&&(m=c.reduce(function(x,j){if(j.props[h]===a&&Xr(j.props,"extendDomain")&&ne(j.props[d])){var N=j.props[d];return[Math.min(x[0],N),Math.max(x[1],N)]}return x},m)),u.length){var g="".concat(d,"1"),b="".concat(d,"2");m=u.reduce(function(x,j){if(j.props[h]===a&&Xr(j.props,"extendDomain")&&ne(j.props[g])&&ne(j.props[b])){var N=j.props[g],S=j.props[b];return[Math.min(x[0],N,S),Math.max(x[1],N,S)]}return x},m)}return i&&i.length&&(m=i.reduce(function(x,j){return ne(j)?[Math.min(x[0],j),Math.max(x[1],j)]:x},m)),m},fO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function i(c,u,h,d,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new s(h,d||c,m),b=r?r+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],g]:c._events[b].push(g):(c._events[b]=g,c._eventsCount++),c}function l(c,u){--c._eventsCount===0?c._events=new a:delete c._events[u]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],h,d;if(this._eventsCount===0)return u;for(d in h=this._events)t.call(h,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},o.prototype.listeners=function(u){var h=r?r+u:u,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var m=0,g=d.length,b=new Array(g);m<g;m++)b[m]=d[m].fn;return b},o.prototype.listenerCount=function(u){var h=r?r+u:u,d=this._events[h];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,h,d,m,g,b){var x=r?r+u:u;if(!this._events[x])return!1;var j=this._events[x],N=arguments.length,S,y;if(j.fn){switch(j.once&&this.removeListener(u,j.fn,void 0,!0),N){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,h),!0;case 3:return j.fn.call(j.context,h,d),!0;case 4:return j.fn.call(j.context,h,d,m),!0;case 5:return j.fn.call(j.context,h,d,m,g),!0;case 6:return j.fn.call(j.context,h,d,m,g,b),!0}for(y=1,S=new Array(N-1);y<N;y++)S[y-1]=arguments[y];j.fn.apply(j.context,S)}else{var f=j.length,p;for(y=0;y<f;y++)switch(j[y].once&&this.removeListener(u,j[y].fn,void 0,!0),N){case 1:j[y].fn.call(j[y].context);break;case 2:j[y].fn.call(j[y].context,h);break;case 3:j[y].fn.call(j[y].context,h,d);break;case 4:j[y].fn.call(j[y].context,h,d,m);break;default:if(!S)for(p=1,S=new Array(N-1);p<N;p++)S[p-1]=arguments[p];j[y].fn.apply(j[y].context,S)}}return!0},o.prototype.on=function(u,h,d){return i(this,u,h,d,!1)},o.prototype.once=function(u,h,d){return i(this,u,h,d,!0)},o.prototype.removeListener=function(u,h,d,m){var g=r?r+u:u;if(!this._events[g])return this;if(!h)return l(this,g),this;var b=this._events[g];if(b.fn)b.fn===h&&(!m||b.once)&&(!d||b.context===d)&&l(this,g);else{for(var x=0,j=[],N=b.length;x<N;x++)(b[x].fn!==h||m&&!b[x].once||d&&b[x].context!==d)&&j.push(b[x]);j.length?this._events[g]=j.length===1?j[0]:j:l(this,g)}return this},o.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&l(this,h)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(fO);var yY=fO.exports;const gY=qe(yY);var Af=new gY,Df="recharts.syncMouseEvents";function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function vY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hO(a.key),a)}}function bY(e,t,r){return t&&HN(e.prototype,t),r&&HN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ef(e,t,r){return t=hO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hO(e){var t=jY(e,"string");return vo(t)=="symbol"?t:t+""}function jY(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(vo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NY=function(){function e(){vY(this,e),Ef(this,"activeIndex",0),Ef(this,"coordinateList",[]),Ef(this,"layout","horizontal")}return bY(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,l=r.container,o=l===void 0?null:l,c=r.layout,u=c===void 0?null:c,h=r.offset,d=h===void 0?null:h,m=r.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,o=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((a=window)===null||a===void 0?void 0:a.scrollY)||0,d=i+c+u,m=l+this.offset.top+o/2+h;this.mouseHandlerCallback({pageX:d,pageY:m})}}}])}();function wY(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&ne(a)&&ne(s))return!0}return!1}function SY(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function pO(e){var t=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,l=St(t,r,a,s),o=St(t,r,a,i);return{points:[l,o],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function CY(e,t,r){var a,s,i,l;if(e==="horizontal")a=t.x,i=a,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,u=t.innerRadius,h=t.outerRadius,d=t.angle,m=St(o,c,u,d),g=St(o,c,h,d);a=m.x,s=m.y,i=g.x,l=g.y}else return pO(t);return[{x:a,y:s},{x:i,y:l}]}function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(a){kY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kY(e,t,r){return t=OY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=PY(e,"string");return bo(t)=="symbol"?t:t+""}function PY(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(bo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TY(e){var t,r,a=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,d=e.layout,m=e.chartName,g=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!g||!i||!l||m!=="ScatterChart"&&s!=="axis")return null;var b,x=Dp;if(m==="ScatterChart")b=l,x=IG;else if(m==="BarChart")b=SY(d,l,c,h),x=fg;else if(d==="radial"){var j=pO(l),N=j.cx,S=j.cy,y=j.radius,f=j.startAngle,p=j.endAngle;b={cx:N,cy:S,startAngle:f,endAngle:p,innerRadius:y,outerRadius:y},x=vk}else b={points:CY(d,l,c)},x=Dp;var v=jc(jc(jc(jc({stroke:"#ccc",pointerEvents:"none"},c),b),Oe(g,!1)),{},{payload:o,payloadIndex:u,className:Te("recharts-tooltip-cursor",g.className)});return C.isValidElement(g)?C.cloneElement(g,v):C.createElement(x,v)}var AY=["item"],DY=["children","className","width","height","style","compact","title","desc"];function ci(e){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(e)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ns.apply(this,arguments)}function JN(e,t){return IY(e)||MY(e,t)||yO(e,t)||EY()}function EY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw s}}return o}}function IY(e){if(Array.isArray(e))return e}function XN(e,t){if(e==null)return{};var r=$Y(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function $Y(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function _Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YN(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gO(a.key),a)}}function RY(e,t,r){return t&&YN(e.prototype,t),r&&YN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FY(e,t,r){return t=hd(t),LY(e,xO()?Reflect.construct(t,r||[],hd(e).constructor):t.apply(e,r))}function LY(e,t){if(t&&(ci(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BY(e)}function BY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!e})()}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hd(e)}function qY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ox(e,t)}function ox(e,t){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ox(e,t)}function ui(e){return WY(e)||KY(e)||yO(e)||UY()}function UY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yO(e,t){if(e){if(typeof e=="string")return cx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cx(e,t)}}function KY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WY(e){if(Array.isArray(e))return cx(e)}function cx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(a){pe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pe(e,t,r){return t=gO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gO(e){var t=zY(e,"string");return ci(t)=="symbol"?t:t+""}function zY(e,t){if(ci(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ci(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VY={xAxis:["bottom","top"],yAxis:["left","right"]},GY={width:"100%",height:"100%"},vO={x:0,y:0};function Nc(e){return e}var HY=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},QY=function(t,r,a,s){var i=r.find(function(h){return h&&h.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,o=s.radius;return V(V(V({},s),St(s.cx,s.cy,o,l)),{},{angle:l,radius:o})}var c=i.coordinate,u=s.angle;return V(V(V({},s),St(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return vO},wm=function(t,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,l=(a??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(ui(o),ui(u)):o},[]);return l.length>0?l:t&&t.length&&ne(s)&&ne(i)?t.slice(s,i+1):[]};function bO(e){return e==="number"?[0,"auto"]:void 0}var ux=function(t,r,a,s){var i=t.graphicalItems,l=t.tooltipAxis,o=wm(r,t);return a<0||!i||!i.length||a>=o.length?null:i.reduce(function(c,u){var h,d=(h=u.props.data)!==null&&h!==void 0?h:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(l.dataKey&&!l.allowDuplicatedCategory){var g=d===void 0?o:d;m=xu(g,l.dataKey,s)}else m=d&&d[a]||o[a];return m?[].concat(ui(c),[xk(u,m)]):c},[])},ew=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},l=HY(i,a),o=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,h=yW(l,o,u,c);if(h>=0&&u){var d=u[h]&&u[h].value,m=ux(t,r,h,d),g=QY(a,o,h,i);return{activeTooltipIndex:h,activeLabel:d,activePayload:m,activeCoordinate:g}}return null},JY=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,l=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=t.layout,d=t.children,m=t.stackOffset,g=fk(h,i);return a.reduce(function(b,x){var j,N=x.type.defaultProps!==void 0?V(V({},x.type.defaultProps),x.props):x.props,S=N.type,y=N.dataKey,f=N.allowDataOverflow,p=N.allowDuplicatedCategory,v=N.scale,w=N.ticks,k=N.includeHidden,P=N[l];if(b[P])return b;var A=wm(t.data,{graphicalItems:s.filter(function(_){var G,ee=l in _.props?_.props[l]:(G=_.type.defaultProps)===null||G===void 0?void 0:G[l];return ee===P}),dataStartIndex:c,dataEndIndex:u}),D=A.length,O,M,L;wY(N.domain,f,S)&&(O=kp(N.domain,null,f),g&&(S==="number"||v!=="auto")&&(L=ul(A,y,"category")));var R=bO(S);if(!O||O.length===0){var E,B=(E=N.domain)!==null&&E!==void 0?E:R;if(y){if(O=ul(A,y,S),S==="category"&&g){var T=l6(O);p&&T?(M=O,O=td(0,D)):p||(O=Sj(B,O,x).reduce(function(_,G){return _.indexOf(G)>=0?_:[].concat(ui(_),[G])},[]))}else if(S==="category")p?O=O.filter(function(_){return _!==""&&!Se(_)}):O=Sj(B,O,x).reduce(function(_,G){return _.indexOf(G)>=0||G===""||Se(G)?_:[].concat(ui(_),[G])},[]);else if(S==="number"){var I=NW(A,s.filter(function(_){var G,ee,de=l in _.props?_.props[l]:(G=_.type.defaultProps)===null||G===void 0?void 0:G[l],X="hide"in _.props?_.props.hide:(ee=_.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return de===P&&(k||!X)}),y,i,h);I&&(O=I)}g&&(S==="number"||v!=="auto")&&(L=ul(A,y,"category"))}else g?O=td(0,D):o&&o[P]&&o[P].hasStack&&S==="number"?O=m==="expand"?[0,1]:pk(o[P].stackGroups,c,u):O=mk(A,s.filter(function(_){var G=l in _.props?_.props[l]:_.type.defaultProps[l],ee="hide"in _.props?_.props.hide:_.type.defaultProps.hide;return G===P&&(k||!ee)}),S,h,!0);if(S==="number")O=lx(d,O,P,i,w),B&&(O=kp(B,O,f));else if(S==="category"&&B){var $=B,F=O.every(function(_){return $.indexOf(_)>=0});F&&(O=$)}}return V(V({},b),{},pe({},P,V(V({},N),{},{axisType:i,domain:O,categoricalDomain:L,duplicateDomain:M,originalDomain:(j=N.domain)!==null&&j!==void 0?j:R,isCategorical:g,layout:h})))},{})},XY=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,l=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=t.layout,d=t.children,m=wm(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:u}),g=m.length,b=fk(h,i),x=-1;return a.reduce(function(j,N){var S=N.type.defaultProps!==void 0?V(V({},N.type.defaultProps),N.props):N.props,y=S[l],f=bO("number");if(!j[y]){x++;var p;return b?p=td(0,g):o&&o[y]&&o[y].hasStack?(p=pk(o[y].stackGroups,c,u),p=lx(d,p,y,i)):(p=kp(f,mk(m,a.filter(function(v){var w,k,P=l in v.props?v.props[l]:(w=v.type.defaultProps)===null||w===void 0?void 0:w[l],A="hide"in v.props?v.props.hide:(k=v.type.defaultProps)===null||k===void 0?void 0:k.hide;return P===y&&!A}),"number",h),s.defaultProps.allowDataOverflow),p=lx(d,p,y,i)),V(V({},j),{},pe({},y,V(V({axisType:i},s.defaultProps),{},{hide:!0,orientation:gr(VY,"".concat(i,".").concat(x%2),null),domain:p,originalDomain:f,isCategorical:b,layout:h})))}return j},{})},YY=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,l=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=t.children,d="".concat(s,"Id"),m=vr(h,i),g={};return m&&m.length?g=JY(t,{axes:m,graphicalItems:l,axisType:s,axisIdKey:d,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):l&&l.length&&(g=XY(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:d,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),g},ZY=function(t){var r=Rn(t),a=dn(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:By(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Vu(r,a)}},tw=function(t){var r=t.children,a=t.defaultShowTooltip,s=Zt(r,Zs),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},eZ=function(t){return!t||!t.length?!1:t.some(function(r){var a=hn(r&&r.type);return a&&a.indexOf("Bar")>=0})},rw=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tZ=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,o=t.yAxisMap,c=o===void 0?{}:o,u=a.width,h=a.height,d=a.children,m=a.margin||{},g=Zt(d,Zs),b=Zt(d,As),x=Object.keys(c).reduce(function(p,v){var w=c[v],k=w.orientation;return!w.mirror&&!w.hide?V(V({},p),{},pe({},k,p[k]+w.width)):p},{left:m.left||0,right:m.right||0}),j=Object.keys(l).reduce(function(p,v){var w=l[v],k=w.orientation;return!w.mirror&&!w.hide?V(V({},p),{},pe({},k,gr(p,"".concat(k))+w.height)):p},{top:m.top||0,bottom:m.bottom||0}),N=V(V({},j),x),S=N.bottom;g&&(N.bottom+=g.props.height||Zs.defaultProps.height),b&&r&&(N=bW(N,s,a,r));var y=u-N.left-N.right,f=h-N.top-N.bottom;return V(V({brushBottom:S},N),{},{width:Math.max(y,0),height:Math.max(f,0)})},rZ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},nZ=function(t){var r=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,o=l===void 0?["axis"]:l,c=t.axisComponents,u=t.legendContent,h=t.formatAxisMap,d=t.defaultProps,m=function(N,S){var y=S.graphicalItems,f=S.stackGroups,p=S.offset,v=S.updateId,w=S.dataStartIndex,k=S.dataEndIndex,P=N.barSize,A=N.layout,D=N.barGap,O=N.barCategoryGap,M=N.maxBarSize,L=rw(A),R=L.numericAxisName,E=L.cateAxisName,B=eZ(y),T=[];return y.forEach(function(I,$){var F=wm(N.data,{graphicalItems:[I],dataStartIndex:w,dataEndIndex:k}),_=I.type.defaultProps!==void 0?V(V({},I.type.defaultProps),I.props):I.props,G=_.dataKey,ee=_.maxBarSize,de=_["".concat(R,"Id")],X=_["".concat(E,"Id")],ae={},we=c.reduce(function(te,Me){var z=S["".concat(Me.axisType,"Map")],se=_["".concat(Me.axisType,"Id")];z&&z[se]||Me.axisType==="zAxis"||Va(!1);var ie=z[se];return V(V({},te),{},pe(pe({},Me.axisType,ie),"".concat(Me.axisType,"Ticks"),dn(ie)))},ae),K=we[E],le=we["".concat(E,"Ticks")],me=f&&f[de]&&f[de].hasStack&&IW(I,f[de].stackGroups),H=hn(I.type).indexOf("Bar")>=0,ge=Vu(K,le),fe=[],W=B&&gW({barSize:P,stackGroups:f,totalSize:rZ(we,E)});if(H){var re,Z,U=Se(ee)?M:ee,J=(re=(Z=Vu(K,le,!0))!==null&&Z!==void 0?Z:U)!==null&&re!==void 0?re:0;fe=vW({barGap:D,barCategoryGap:O,bandSize:J!==ge?J:ge,sizeList:W[X],maxBarSize:U}),J!==ge&&(fe=fe.map(function(te){return V(V({},te),{},{position:V(V({},te.position),{},{offset:te.position.offset-J/2})})}))}var je=I&&I.type&&I.type.getComposedData;je&&T.push({props:V(V({},je(V(V({},we),{},{displayedData:F,props:N,dataKey:G,item:I,bandSize:ge,barPosition:fe,offset:p,stackedData:me,layout:A,dataStartIndex:w,dataEndIndex:k}))),{},pe(pe(pe({key:I.key||"item-".concat($)},R,we[R]),E,we[E]),"animationId",v)),childIndex:b6(I,N.children),item:I})}),T},g=function(N,S){var y=N.props,f=N.dataStartIndex,p=N.dataEndIndex,v=N.updateId;if(!mv({props:y}))return null;var w=y.children,k=y.layout,P=y.stackOffset,A=y.data,D=y.reverseStackOrder,O=rw(k),M=O.numericAxisName,L=O.cateAxisName,R=vr(w,a),E=DW(A,R,"".concat(M,"Id"),"".concat(L,"Id"),P,D),B=c.reduce(function(_,G){var ee="".concat(G.axisType,"Map");return V(V({},_),{},pe({},ee,YY(y,V(V({},G),{},{graphicalItems:R,stackGroups:G.axisType===M&&E,dataStartIndex:f,dataEndIndex:p}))))},{}),T=tZ(V(V({},B),{},{props:y,graphicalItems:R}),S==null?void 0:S.legendBBox);Object.keys(B).forEach(function(_){B[_]=h(y,B[_],T,_.replace("Map",""),r)});var I=B["".concat(L,"Map")],$=ZY(I),F=m(y,V(V({},B),{},{dataStartIndex:f,dataEndIndex:p,updateId:v,graphicalItems:R,stackGroups:E,offset:T}));return V(V({formattedGraphicalItems:F,graphicalItems:R,offset:T,stackGroups:E},$),B)},b=function(j){function N(S){var y,f,p;return _Y(this,N),p=FY(this,N,[S]),pe(p,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pe(p,"accessibilityManager",new NY),pe(p,"handleLegendBBoxUpdate",function(v){if(v){var w=p.state,k=w.dataStartIndex,P=w.dataEndIndex,A=w.updateId;p.setState(V({legendBBox:v},g({props:p.props,dataStartIndex:k,dataEndIndex:P,updateId:A},V(V({},p.state),{},{legendBBox:v}))))}}),pe(p,"handleReceiveSyncEvent",function(v,w,k){if(p.props.syncId===v){if(k===p.eventEmitterSymbol&&typeof p.props.syncMethod!="function")return;p.applySyncEvent(w)}}),pe(p,"handleBrushChange",function(v){var w=v.startIndex,k=v.endIndex;if(w!==p.state.dataStartIndex||k!==p.state.dataEndIndex){var P=p.state.updateId;p.setState(function(){return V({dataStartIndex:w,dataEndIndex:k},g({props:p.props,dataStartIndex:w,dataEndIndex:k,updateId:P},p.state))}),p.triggerSyncEvent({dataStartIndex:w,dataEndIndex:k})}}),pe(p,"handleMouseEnter",function(v){var w=p.getMouseInfo(v);if(w){var k=V(V({},w),{},{isTooltipActive:!0});p.setState(k),p.triggerSyncEvent(k);var P=p.props.onMouseEnter;Ne(P)&&P(k,v)}}),pe(p,"triggeredAfterMouseMove",function(v){var w=p.getMouseInfo(v),k=w?V(V({},w),{},{isTooltipActive:!0}):{isTooltipActive:!1};p.setState(k),p.triggerSyncEvent(k);var P=p.props.onMouseMove;Ne(P)&&P(k,v)}),pe(p,"handleItemMouseEnter",function(v){p.setState(function(){return{isTooltipActive:!0,activeItem:v,activePayload:v.tooltipPayload,activeCoordinate:v.tooltipPosition||{x:v.cx,y:v.cy}}})}),pe(p,"handleItemMouseLeave",function(){p.setState(function(){return{isTooltipActive:!1}})}),pe(p,"handleMouseMove",function(v){v.persist(),p.throttleTriggeredAfterMouseMove(v)}),pe(p,"handleMouseLeave",function(v){p.throttleTriggeredAfterMouseMove.cancel();var w={isTooltipActive:!1};p.setState(w),p.triggerSyncEvent(w);var k=p.props.onMouseLeave;Ne(k)&&k(w,v)}),pe(p,"handleOuterEvent",function(v){var w=v6(v),k=gr(p.props,"".concat(w));if(w&&Ne(k)){var P,A;/.*touch.*/i.test(w)?A=p.getMouseInfo(v.changedTouches[0]):A=p.getMouseInfo(v),k((P=A)!==null&&P!==void 0?P:{},v)}}),pe(p,"handleClick",function(v){var w=p.getMouseInfo(v);if(w){var k=V(V({},w),{},{isTooltipActive:!0});p.setState(k),p.triggerSyncEvent(k);var P=p.props.onClick;Ne(P)&&P(k,v)}}),pe(p,"handleMouseDown",function(v){var w=p.props.onMouseDown;if(Ne(w)){var k=p.getMouseInfo(v);w(k,v)}}),pe(p,"handleMouseUp",function(v){var w=p.props.onMouseUp;if(Ne(w)){var k=p.getMouseInfo(v);w(k,v)}}),pe(p,"handleTouchMove",function(v){v.changedTouches!=null&&v.changedTouches.length>0&&p.throttleTriggeredAfterMouseMove(v.changedTouches[0])}),pe(p,"handleTouchStart",function(v){v.changedTouches!=null&&v.changedTouches.length>0&&p.handleMouseDown(v.changedTouches[0])}),pe(p,"handleTouchEnd",function(v){v.changedTouches!=null&&v.changedTouches.length>0&&p.handleMouseUp(v.changedTouches[0])}),pe(p,"handleDoubleClick",function(v){var w=p.props.onDoubleClick;if(Ne(w)){var k=p.getMouseInfo(v);w(k,v)}}),pe(p,"handleContextMenu",function(v){var w=p.props.onContextMenu;if(Ne(w)){var k=p.getMouseInfo(v);w(k,v)}}),pe(p,"triggerSyncEvent",function(v){p.props.syncId!==void 0&&Af.emit(Df,p.props.syncId,v,p.eventEmitterSymbol)}),pe(p,"applySyncEvent",function(v){var w=p.props,k=w.layout,P=w.syncMethod,A=p.state.updateId,D=v.dataStartIndex,O=v.dataEndIndex;if(v.dataStartIndex!==void 0||v.dataEndIndex!==void 0)p.setState(V({dataStartIndex:D,dataEndIndex:O},g({props:p.props,dataStartIndex:D,dataEndIndex:O,updateId:A},p.state)));else if(v.activeTooltipIndex!==void 0){var M=v.chartX,L=v.chartY,R=v.activeTooltipIndex,E=p.state,B=E.offset,T=E.tooltipTicks;if(!B)return;if(typeof P=="function")R=P(T,v);else if(P==="value"){R=-1;for(var I=0;I<T.length;I++)if(T[I].value===v.activeLabel){R=I;break}}var $=V(V({},B),{},{x:B.left,y:B.top}),F=Math.min(M,$.x+$.width),_=Math.min(L,$.y+$.height),G=T[R]&&T[R].value,ee=ux(p.state,p.props.data,R),de=T[R]?{x:k==="horizontal"?T[R].coordinate:F,y:k==="horizontal"?_:T[R].coordinate}:vO;p.setState(V(V({},v),{},{activeLabel:G,activeCoordinate:de,activePayload:ee,activeTooltipIndex:R}))}else p.setState(v)}),pe(p,"renderCursor",function(v){var w,k=p.state,P=k.isTooltipActive,A=k.activeCoordinate,D=k.activePayload,O=k.offset,M=k.activeTooltipIndex,L=k.tooltipAxisBandSize,R=p.getTooltipEventType(),E=(w=v.props.active)!==null&&w!==void 0?w:P,B=p.props.layout,T=v.key||"_recharts-cursor";return q.createElement(TY,{key:T,activeCoordinate:A,activePayload:D,activeTooltipIndex:M,chartName:r,element:v,isActive:E,layout:B,offset:O,tooltipAxisBandSize:L,tooltipEventType:R})}),pe(p,"renderPolarAxis",function(v,w,k){var P=gr(v,"type.axisType"),A=gr(p.state,"".concat(P,"Map")),D=v.type.defaultProps,O=D!==void 0?V(V({},D),v.props):v.props,M=A&&A[O["".concat(P,"Id")]];return C.cloneElement(v,V(V({},M),{},{className:Te(P,M.className),key:v.key||"".concat(w,"-").concat(k),ticks:dn(M,!0)}))}),pe(p,"renderPolarGrid",function(v){var w=v.props,k=w.radialLines,P=w.polarAngles,A=w.polarRadius,D=p.state,O=D.radiusAxisMap,M=D.angleAxisMap,L=Rn(O),R=Rn(M),E=R.cx,B=R.cy,T=R.innerRadius,I=R.outerRadius;return C.cloneElement(v,{polarAngles:Array.isArray(P)?P:dn(R,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(A)?A:dn(L,!0).map(function($){return $.coordinate}),cx:E,cy:B,innerRadius:T,outerRadius:I,key:v.key||"polar-grid",radialLines:k})}),pe(p,"renderLegend",function(){var v=p.state.formattedGraphicalItems,w=p.props,k=w.children,P=w.width,A=w.height,D=p.props.margin||{},O=P-(D.left||0)-(D.right||0),M=uk({children:k,formattedGraphicalItems:v,legendWidth:O,legendContent:u});if(!M)return null;var L=M.item,R=XN(M,AY);return C.cloneElement(L,V(V({},R),{},{chartWidth:P,chartHeight:A,margin:D,onBBoxUpdate:p.handleLegendBBoxUpdate}))}),pe(p,"renderTooltip",function(){var v,w=p.props,k=w.children,P=w.accessibilityLayer,A=Zt(k,Dr);if(!A)return null;var D=p.state,O=D.isTooltipActive,M=D.activeCoordinate,L=D.activePayload,R=D.activeLabel,E=D.offset,B=(v=A.props.active)!==null&&v!==void 0?v:O;return C.cloneElement(A,{viewBox:V(V({},E),{},{x:E.left,y:E.top}),active:B,label:R,payload:B?L:[],coordinate:M,accessibilityLayer:P})}),pe(p,"renderBrush",function(v){var w=p.props,k=w.margin,P=w.data,A=p.state,D=A.offset,O=A.dataStartIndex,M=A.dataEndIndex,L=A.updateId;return C.cloneElement(v,{key:v.key||"_recharts-brush",onChange:yc(p.handleBrushChange,v.props.onChange),data:P,x:ne(v.props.x)?v.props.x:D.left,y:ne(v.props.y)?v.props.y:D.top+D.height+D.brushBottom-(k.bottom||0),width:ne(v.props.width)?v.props.width:D.width,startIndex:O,endIndex:M,updateId:"brush-".concat(L)})}),pe(p,"renderReferenceElement",function(v,w,k){if(!v)return null;var P=p,A=P.clipPathId,D=p.state,O=D.xAxisMap,M=D.yAxisMap,L=D.offset,R=v.type.defaultProps||{},E=v.props,B=E.xAxisId,T=B===void 0?R.xAxisId:B,I=E.yAxisId,$=I===void 0?R.yAxisId:I;return C.cloneElement(v,{key:v.key||"".concat(w,"-").concat(k),xAxis:O[T],yAxis:M[$],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:A})}),pe(p,"renderActivePoints",function(v){var w=v.item,k=v.activePoint,P=v.basePoint,A=v.childIndex,D=v.isRange,O=[],M=w.props.key,L=w.item.type.defaultProps!==void 0?V(V({},w.item.type.defaultProps),w.item.props):w.item.props,R=L.activeDot,E=L.dataKey,B=V(V({index:A,dataKey:E,cx:k.x,cy:k.y,r:4,fill:mg(w.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Oe(R,!1)),yu(R));return O.push(N.renderActiveDot(R,B,"".concat(M,"-activePoint-").concat(A))),P?O.push(N.renderActiveDot(R,V(V({},B),{},{cx:P.x,cy:P.y}),"".concat(M,"-basePoint-").concat(A))):D&&O.push(null),O}),pe(p,"renderGraphicChild",function(v,w,k){var P=p.filterFormatItem(v,w,k);if(!P)return null;var A=p.getTooltipEventType(),D=p.state,O=D.isTooltipActive,M=D.tooltipAxis,L=D.activeTooltipIndex,R=D.activeLabel,E=p.props.children,B=Zt(E,Dr),T=P.props,I=T.points,$=T.isRange,F=T.baseLine,_=P.item.type.defaultProps!==void 0?V(V({},P.item.type.defaultProps),P.item.props):P.item.props,G=_.activeDot,ee=_.hide,de=_.activeBar,X=_.activeShape,ae=!!(!ee&&O&&B&&(G||de||X)),we={};A!=="axis"&&B&&B.props.trigger==="click"?we={onClick:yc(p.handleItemMouseEnter,v.props.onClick)}:A!=="axis"&&(we={onMouseLeave:yc(p.handleItemMouseLeave,v.props.onMouseLeave),onMouseEnter:yc(p.handleItemMouseEnter,v.props.onMouseEnter)});var K=C.cloneElement(v,V(V({},P.props),we));function le(Me){return typeof M.dataKey=="function"?M.dataKey(Me.payload):null}if(ae)if(L>=0){var me,H;if(M.dataKey&&!M.allowDuplicatedCategory){var ge=typeof M.dataKey=="function"?le:"payload.".concat(M.dataKey.toString());me=xu(I,ge,R),H=$&&F&&xu(F,ge,R)}else me=I==null?void 0:I[L],H=$&&F&&F[L];if(X||de){var fe=v.props.activeIndex!==void 0?v.props.activeIndex:L;return[C.cloneElement(v,V(V(V({},P.props),we),{},{activeIndex:fe})),null,null]}if(!Se(me))return[K].concat(ui(p.renderActivePoints({item:P,activePoint:me,basePoint:H,childIndex:L,isRange:$})))}else{var W,re=(W=p.getItemByXY(p.state.activeCoordinate))!==null&&W!==void 0?W:{graphicalItem:K},Z=re.graphicalItem,U=Z.item,J=U===void 0?v:U,je=Z.childIndex,te=V(V(V({},P.props),we),{},{activeIndex:je});return[C.cloneElement(J,te),null,null]}return $?[K,null,null]:[K,null]}),pe(p,"renderCustomized",function(v,w,k){return C.cloneElement(v,V(V({key:"recharts-customized-".concat(k)},p.props),p.state))}),pe(p,"renderMap",{CartesianGrid:{handler:Nc,once:!0},ReferenceArea:{handler:p.renderReferenceElement},ReferenceLine:{handler:Nc},ReferenceDot:{handler:p.renderReferenceElement},XAxis:{handler:Nc},YAxis:{handler:Nc},Brush:{handler:p.renderBrush,once:!0},Bar:{handler:p.renderGraphicChild},Line:{handler:p.renderGraphicChild},Area:{handler:p.renderGraphicChild},Radar:{handler:p.renderGraphicChild},RadialBar:{handler:p.renderGraphicChild},Scatter:{handler:p.renderGraphicChild},Pie:{handler:p.renderGraphicChild},Funnel:{handler:p.renderGraphicChild},Tooltip:{handler:p.renderCursor,once:!0},PolarGrid:{handler:p.renderPolarGrid,once:!0},PolarAngleAxis:{handler:p.renderPolarAxis},PolarRadiusAxis:{handler:p.renderPolarAxis},Customized:{handler:p.renderCustomized}}),p.clipPathId="".concat((y=S.id)!==null&&y!==void 0?y:Eo("recharts"),"-clip"),p.throttleTriggeredAfterMouseMove=c2(p.triggeredAfterMouseMove,(f=S.throttleDelay)!==null&&f!==void 0?f:1e3/60),p.state={},p}return qY(N,j),RY(N,[{key:"componentDidMount",value:function(){var y,f;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(f=this.props.margin.top)!==null&&f!==void 0?f:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,f=y.children,p=y.data,v=y.height,w=y.layout,k=Zt(f,Dr);if(k){var P=k.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,D=ux(this.state,p,P,A),O=this.state.tooltipTicks[P].coordinate,M=(this.state.offset.top+v)/2,L=w==="horizontal",R=L?{x:O,y:M}:{y:O,x:M},E=this.state.formattedGraphicalItems.find(function(T){var I=T.item;return I.type.name==="Scatter"});E&&(R=V(V({},R),E.props.points[P].tooltipPosition),D=E.props.points[P].tooltipPayload);var B={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:A,activePayload:D,activeCoordinate:R};this.setState(B),this.renderCursor(k),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,f){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==f.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var p,v;this.accessibilityManager.setDetails({offset:{left:(p=this.props.margin.left)!==null&&p!==void 0?p:0,top:(v=this.props.margin.top)!==null&&v!==void 0?v:0}})}return null}},{key:"componentDidUpdate",value:function(y){qh([Zt(y.children,Dr)],[Zt(this.props.children,Dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Zt(this.props.children,Dr);if(y&&typeof y.props.shared=="boolean"){var f=y.props.shared?"axis":"item";return o.indexOf(f)>=0?f:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var f=this.container,p=f.getBoundingClientRect(),v=K9(p),w={chartX:Math.round(y.pageX-v.left),chartY:Math.round(y.pageY-v.top)},k=p.width/f.offsetWidth||1,P=this.inRange(w.chartX,w.chartY,k);if(!P)return null;var A=this.state,D=A.xAxisMap,O=A.yAxisMap,M=this.getTooltipEventType(),L=ew(this.state,this.props.data,this.props.layout,P);if(M!=="axis"&&D&&O){var R=Rn(D).scale,E=Rn(O).scale,B=R&&R.invert?R.invert(w.chartX):null,T=E&&E.invert?E.invert(w.chartY):null;return V(V({},w),{},{xValue:B,yValue:T},L)}return L?V(V({},w),L):null}},{key:"inRange",value:function(y,f){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,v=this.props.layout,w=y/p,k=f/p;if(v==="horizontal"||v==="vertical"){var P=this.state.offset,A=w>=P.left&&w<=P.left+P.width&&k>=P.top&&k<=P.top+P.height;return A?{x:w,y:k}:null}var D=this.state,O=D.angleAxisMap,M=D.radiusAxisMap;if(O&&M){var L=Rn(O);return Oj({x:w,y:k},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,f=this.getTooltipEventType(),p=Zt(y,Dr),v={};p&&f==="axis"&&(p.props.trigger==="click"?v={onClick:this.handleClick}:v={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var w=yu(this.props,this.handleOuterEvent);return V(V({},w),v)}},{key:"addListener",value:function(){Af.on(Df,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Af.removeListener(Df,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,f,p){for(var v=this.state.formattedGraphicalItems,w=0,k=v.length;w<k;w++){var P=v[w];if(P.item===y||P.props.key===y.key||f===hn(P.item.type)&&p===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,f=this.state.offset,p=f.left,v=f.top,w=f.height,k=f.width;return q.createElement("defs",null,q.createElement("clipPath",{id:y},q.createElement("rect",{x:p,y:v,height:w,width:k})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(f,p){var v=JN(p,2),w=v[0],k=v[1];return V(V({},f),{},pe({},w,k.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(f,p){var v=JN(p,2),w=v[0],k=v[1];return V(V({},f),{},pe({},w,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var f;return(f=this.state.xAxisMap)===null||f===void 0||(f=f[y])===null||f===void 0?void 0:f.scale}},{key:"getYScaleByAxisId",value:function(y){var f;return(f=this.state.yAxisMap)===null||f===void 0||(f=f[y])===null||f===void 0?void 0:f.scale}},{key:"getItemByXY",value:function(y){var f=this.state,p=f.formattedGraphicalItems,v=f.activeItem;if(p&&p.length)for(var w=0,k=p.length;w<k;w++){var P=p[w],A=P.props,D=P.item,O=D.type.defaultProps!==void 0?V(V({},D.type.defaultProps),D.props):D.props,M=hn(D.type);if(M==="Bar"){var L=(A.data||[]).find(function(T){return SG(y,T)});if(L)return{graphicalItem:P,payload:L}}else if(M==="RadialBar"){var R=(A.data||[]).find(function(T){return Oj(y,T)});if(R)return{graphicalItem:P,payload:R}}else if(xm(P,v)||ym(P,v)||mo(P,v)){var E=OH({graphicalItem:P,activeTooltipItem:v,itemData:O.data}),B=O.activeIndex===void 0?E:O.activeIndex;return{graphicalItem:V(V({},P),{},{childIndex:B}),payload:mo(P,v)?O.data[E]:P.props.data[E]}}}return null}},{key:"render",value:function(){var y=this;if(!mv(this))return null;var f=this.props,p=f.children,v=f.className,w=f.width,k=f.height,P=f.style,A=f.compact,D=f.title,O=f.desc,M=XN(f,DY),L=Oe(M,!1);if(A)return q.createElement(kN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(Kh,Ns({},L,{width:w,height:k,title:D,desc:O}),this.renderClipPath(),hv(p,this.renderMap)));if(this.props.accessibilityLayer){var R,E;L.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,L.role=(E=this.props.role)!==null&&E!==void 0?E:"application",L.onKeyDown=function(T){y.accessibilityManager.keyboardEvent(T)},L.onFocus=function(){y.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return q.createElement(kN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",Ns({className:Te("recharts-wrapper",v),style:V({position:"relative",cursor:"default",width:w,height:k},P)},B,{ref:function(I){y.container=I}}),q.createElement(Kh,Ns({},L,{width:w,height:k,title:D,desc:O,style:GY}),this.renderClipPath(),hv(p,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);pe(b,"displayName",r),pe(b,"defaultProps",V({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),pe(b,"getDerivedStateFromProps",function(j,N){var S=j.dataKey,y=j.data,f=j.children,p=j.width,v=j.height,w=j.layout,k=j.stackOffset,P=j.margin,A=N.dataStartIndex,D=N.dataEndIndex;if(N.updateId===void 0){var O=tw(j);return V(V(V({},O),{},{updateId:0},g(V(V({props:j},O),{},{updateId:0}),N)),{},{prevDataKey:S,prevData:y,prevWidth:p,prevHeight:v,prevLayout:w,prevStackOffset:k,prevMargin:P,prevChildren:f})}if(S!==N.prevDataKey||y!==N.prevData||p!==N.prevWidth||v!==N.prevHeight||w!==N.prevLayout||k!==N.prevStackOffset||!Ts(P,N.prevMargin)){var M=tw(j),L={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},R=V(V({},ew(N,y,w)),{},{updateId:N.updateId+1}),E=V(V(V({},M),L),R);return V(V(V({},E),g(V({props:j},E),N)),{},{prevDataKey:S,prevData:y,prevWidth:p,prevHeight:v,prevLayout:w,prevStackOffset:k,prevMargin:P,prevChildren:f})}if(!qh(f,N.prevChildren)){var B,T,I,$,F=Zt(f,Zs),_=F&&(B=(T=F.props)===null||T===void 0?void 0:T.startIndex)!==null&&B!==void 0?B:A,G=F&&(I=($=F.props)===null||$===void 0?void 0:$.endIndex)!==null&&I!==void 0?I:D,ee=_!==A||G!==D,de=!Se(y),X=de&&!ee?N.updateId:N.updateId+1;return V(V({updateId:X},g(V(V({props:j},N),{},{updateId:X,dataStartIndex:_,dataEndIndex:G}),N)),{},{prevChildren:f,dataStartIndex:_,dataEndIndex:G})}return null}),pe(b,"renderActiveDot",function(j,N,S){var y;return C.isValidElement(j)?y=C.cloneElement(j,N):Ne(j)?y=j(N):y=q.createElement(hg,N),q.createElement(nt,{className:"recharts-active-dot",key:S},y)});var x=C.forwardRef(function(N,S){return q.createElement(b,Ns({},N,{ref:S}))});return x.displayName=b.displayName,x},nw=nZ({chartName:"LineChart",GraphicalChild:ii,axisComponents:[{axisType:"xAxis",AxisComp:yo},{axisType:"yAxis",AxisComp:go}],formatAxisMap:YQ});const fa=({notifications:e,onMarkAsRead:t,onMarkAllAsRead:r,onClearAll:a,onViewTransferOrder:s,onRefresh:i})=>{const[l,o]=C.useState(!1),c=C.useRef(null);C.useEffect(()=>{console.log(" NotificationDropdown: Received notifications:",e),console.log(" NotificationDropdown: Number of notifications:",e.length)},[e]),C.useEffect(()=>{const m=g=>{c.current&&!c.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const u=e.filter(m=>!m.read).length,h=m=>{switch(m){case"warning":return n.jsx(Yr,{className:"h-4 w-4 text-yellow-500"});case"success":return n.jsx(WS,{className:"h-4 w-4 text-green-500"});case"error":return n.jsx(Yr,{className:"h-4 w-4 text-red-500"});default:return n.jsx(zS,{className:"h-4 w-4 text-blue-500"})}},d=m=>{const b=new Date().getTime()-m.getTime(),x=Math.floor(b/6e4),j=Math.floor(b/36e5),N=Math.floor(b/864e5);return x<1?"Just now":x<60?`${x}m ago`:j<24?`${j}h ago`:`${N}d ago`};return n.jsxs("div",{className:"relative",ref:c,children:[n.jsxs("button",{onClick:()=>o(!l),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Notifications",children:[n.jsx(fu,{className:"h-6 w-6"}),u>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u>9?"9+":u})]}),l&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[i&&n.jsx("button",{onClick:i,className:"text-sm text-gray-600 hover:text-gray-800 p-1 rounded",title:"Refresh notifications",children:n.jsx(_t,{className:"h-4 w-4"})}),u>0&&n.jsx("button",{onClick:r,className:"text-sm text-blue-600 hover:text-blue-800",children:"Mark all read"}),n.jsx("button",{onClick:a,className:"text-sm text-red-600 hover:text-red-800",children:"Clear all"}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(ke,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.length===0?n.jsxs("div",{className:"p-4 text-center text-gray-500",children:[n.jsx(fu,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"No notifications"})]}):e.map(m=>n.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 ${m.read?"":"bg-blue-50"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:h(m.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:`text-sm font-medium ${m.read?"text-gray-700":"text-gray-900"}`,children:m.title}),n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[n.jsx($d,{className:"h-3 w-3"}),n.jsx("span",{children:d(m.timestamp)})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.message}),m.outlet&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m.outlet})]}),n.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[m.isTransferOrder&&m.transferOrderId&&s&&n.jsx("button",{onClick:g=>{g.stopPropagation(),console.log("NotificationDropdown: Clicking View button"),console.log("NotificationDropdown: notification.transferOrderId =",m.transferOrderId),s(m.transferOrderId)},className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded transition-colors",title:"View Transfer Order",children:n.jsx(en,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>t(m.id),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Mark as read",children:n.jsx("div",{className:`w-2 h-2 rounded-full ${m.read?"bg-gray-300":"bg-blue-500"}`})})]})]})},m.id))}),e.length>0&&n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsx("button",{onClick:a,className:"w-full text-sm text-gray-600 hover:text-gray-800 text-center",children:"Clear all notifications"})})]})]})},aZ="http://localhost:5000/api";class sZ{async request(t,r={}){const a=`${aZ}${t}`,s={headers:{"Content-Type":"application/json",...r.headers},...r};try{const i=await fetch(a,s);if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.message||`HTTP error! status: ${i.status}`)}return await i.json()}catch(i){throw console.error("API request failed:",i),i}}async getRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status);const a=r.toString(),s=`/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getRawMaterial(t){return this.request(`/raw-materials/${t}`)}async createRawMaterial(t){return this.request("/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateRawMaterial(t,r){return this.request(`/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteRawMaterial(t){return this.request(`/raw-materials/${t}`,{method:"DELETE"})}async getRawMaterialCategories(){return this.request("/raw-materials/categories/list")}async getBillOfMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/bill-of-materials${a?`?${a}`:""}`;return this.request(s)}async getBillOfMaterial(t){return this.request(`/bill-of-materials/${t}`)}async createBillOfMaterial(t){return this.request("/bill-of-materials",{method:"POST",body:JSON.stringify(t)})}async updateBillOfMaterial(t,r){return this.request(`/bill-of-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteBillOfMaterial(t){return this.request(`/bill-of-materials/${t}`,{method:"DELETE"})}async getBillOfMaterialByCode(t){return this.request(`/bill-of-materials/code/${t}`)}async getJobOrders(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.priority&&r.append("priority",t.priority),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/job-orders${a?`?${a}`:""}`;return this.request(s)}async getJobOrder(t){return this.request(`/job-orders/${t}`)}async createJobOrder(t){return this.request("/job-orders",{method:"POST",body:JSON.stringify(t)})}async updateJobOrder(t,r){return this.request(`/job-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteJobOrder(t){return this.request(`/job-orders/${t}`,{method:"DELETE"})}async getRawMaterialForecasts(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.forecastPeriod&&r.append("forecastPeriod",t.forecastPeriod),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/raw-material-forecasts${a?`?${a}`:""}`;return this.request(s)}async getRawMaterialForecast(t){return this.request(`/raw-material-forecasts/${t}`)}async createRawMaterialForecast(t){return this.request("/raw-material-forecasts",{method:"POST",body:JSON.stringify(t)})}async updateRawMaterialForecast(t,r){return this.request(`/raw-material-forecasts/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteRawMaterialForecast(t){return this.request(`/raw-material-forecasts/${t}`,{method:"DELETE"})}async getPurchaseOrders(t={}){const r=new URLSearchParams;t.page&&r.append("page",t.page.toString()),t.limit&&r.append("limit",t.limit.toString()),t.search&&r.append("search",t.search),t.status&&r.append("status",t.status),t.sortBy&&r.append("sortBy",t.sortBy),t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/purchase-orders${a?`?${a}`:""}`;return this.request(s)}async getPurchaseOrder(t){return this.request(`/purchase-orders/${t}`)}async createPurchaseOrder(t){return this.request("/purchase-orders",{method:"POST",body:JSON.stringify(t)})}async updatePurchaseOrder(t,r){return this.request(`/purchase-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deletePurchaseOrder(t){return this.request(`/purchase-orders/${t}`,{method:"DELETE"})}async getOutlets(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.outletType&&r.append("outletType",t.outletType),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.isCentralKitchen&&r.append("isCentralKitchen",t.isCentralKitchen),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/outlets${a?`?${a}`:""}`;return this.request(s)}async getOutlet(t){return this.request(`/outlets/${t}`)}async createOutlet(t){return this.request("/outlets",{method:"POST",body:JSON.stringify(t)})}async updateOutlet(t,r){return this.request(`/outlets/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteOutlet(t){return this.request(`/outlets/${t}`,{method:"DELETE"})}async getRegularOutlets(){return this.request("/outlets/regular/list")}async getOutletInventoryByOutlet(t,r){const a=new URLSearchParams;r!=null&&r.page&&a.append("page",r.page.toString()),r!=null&&r.limit&&a.append("limit",r.limit.toString()),r!=null&&r.search&&a.append("search",r.search),r!=null&&r.category&&a.append("category",r.category),r!=null&&r.status&&a.append("status",r.status),r!=null&&r.sortBy&&a.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&a.append("sortOrder",r.sortOrder);const s=a.toString(),i=`/outlet-inventory/outlet/${t}${s?`?${s}`:""}`;return this.request(i)}async updateOutletInventoryItem(t,r){return this.request(`/outlet-inventory/${t}`,{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})}async getFinishedGoods(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status),(t==null?void 0:t.isSeasonal)!==void 0&&r.append("isSeasonal",t.isSeasonal.toString()),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/finished-goods${a?`?${a}`:""}`;return this.request(s)}async getFinishedGood(t){return this.request(`/finished-goods/${t}`)}async createFinishedGood(t){return this.request("/finished-goods",{method:"POST",body:JSON.stringify(t)})}async updateFinishedGood(t,r){return this.request(`/finished-goods/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteFinishedGood(t){return this.request(`/finished-goods/${t}`,{method:"DELETE"})}async getFinishedGoodCategories(){return this.request("/finished-goods/category/list")}async getFinishedGoodsByBOM(t){return this.request(`/finished-goods/bom/${t}`)}async getFinishedGoodInventory(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.outletId&&r.append("outletId",t.outletId),t!=null&&t.outletCode&&r.append("outletCode",t.outletCode),t!=null&&t.category&&r.append("category",t.category),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.qualityStatus&&r.append("qualityStatus",t.qualityStatus),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/finished-good-inventory${a?`?${a}`:""}`;return this.request(s)}async getFinishedGoodInventoryItem(t){return this.request(`/finished-good-inventory/${t}`)}async createFinishedGoodInventoryItem(t){return this.request("/finished-good-inventory",{method:"POST",body:JSON.stringify(t)})}async updateFinishedGoodInventoryItem(t,r){return this.request(`/finished-good-inventory/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteFinishedGoodInventoryItem(t){return this.request(`/finished-good-inventory/${t}`,{method:"DELETE"})}async getFinishedGoodInventoryByOutlet(t,r){const a=new URLSearchParams;r!=null&&r.limit&&a.append("limit",r.limit.toString()),r!=null&&r.search&&a.append("search",r.search),r!=null&&r.category&&a.append("category",r.category),r!=null&&r.status&&a.append("status",r.status),r!=null&&r.qualityStatus&&a.append("qualityStatus",r.qualityStatus),r!=null&&r.sortBy&&a.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&a.append("sortOrder",r.sortOrder);const s=a.toString(),i=`/finished-good-inventory/outlet/${t}${s?`?${s}`:""}`;return this.request(i)}async adjustFinishedGoodInventoryStock(t,r){return this.request(`/finished-good-inventory/${t}/adjust-stock`,{method:"PUT",body:JSON.stringify(r)})}async getFinishedGoodInventorySummary(t){return this.request(`/finished-good-inventory/summary/${t}`)}async getSalesOrders(t){const r=t?`?${new URLSearchParams(t).toString()}`:"";return this.request(`/sales-orders${r}`)}async getSalesOrder(t){return this.request(`/sales-orders/${t}`)}async createSalesOrder(t){return this.request("/sales-orders",{method:"POST",body:JSON.stringify(t)})}async updateSalesOrder(t,r){return this.request(`/sales-orders/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteSalesOrder(t){return this.request(`/sales-orders/${t}`,{method:"DELETE"})}async getSalesOrdersByOutlet(t,r){const a=r?`?${new URLSearchParams(r).toString()}`:"";return this.request(`/sales-orders/outlet/${t}${a}`)}async updateSalesOrderStatus(t,r){return this.request(`/sales-orders/${t}/status`,{method:"PUT",body:JSON.stringify(r)})}async getCentralKitchens(){return this.request("/central-kitchen")}async getCentralKitchen(t){return this.request(`/central-kitchen/${t}`)}async createCentralKitchen(t){return this.request("/central-kitchen",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchen(t,r){return this.request(`/central-kitchen/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchen(t){return this.request(`/central-kitchen/${t}`,{method:"DELETE"})}async getCentralKitchenInventoryByKitchen(t,r){const a=new URLSearchParams;r!=null&&r.page&&a.append("page",r.page.toString()),r!=null&&r.limit&&a.append("limit",r.limit.toString()),r!=null&&r.category&&a.append("category",r.category),r!=null&&r.status&&a.append("status",r.status),r!=null&&r.sortBy&&a.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&a.append("sortOrder",r.sortOrder),r!=null&&r.search&&a.append("search",r.search);const s=a.toString(),i=`/central-kitchen-inventory/kitchen/${t}${s?`?${s}`:""}`;return this.request(i)}async getCentralKitchenRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/central-kitchen/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getCentralKitchenRawMaterial(t){return this.request(`/central-kitchen/raw-materials/${t}`)}async createCentralKitchenRawMaterial(t){return this.request("/central-kitchen/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchenRawMaterial(t,r){return this.request(`/central-kitchen/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchenRawMaterial(t){return this.request(`/central-kitchen/raw-materials/${t}`,{method:"DELETE"})}async getCentralKitchenRawMaterialCategories(){return this.request("/central-kitchen/raw-materials/categories")}async getCentralKitchenLowStockRawMaterials(){return this.request("/central-kitchen/raw-materials/low-stock")}async adjustCentralKitchenRawMaterialStock(t,r,a,s){return this.request(`/central-kitchen/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getCentralKitchenFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/central-kitchen/finished-products${a?`?${a}`:""}`;return this.request(s)}async getCentralKitchenFinishedProduct(t){return this.request(`/central-kitchen/finished-products/${t}`)}async createCentralKitchenFinishedProduct(t){return this.request("/central-kitchen/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchenFinishedProduct(t,r){return this.request(`/central-kitchen/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchenFinishedProduct(t){return this.request(`/central-kitchen/finished-products/${t}`,{method:"DELETE"})}async getCentralKitchenFinishedProductCategories(){return this.request("/central-kitchen/finished-products/categories")}async getCentralKitchenLowStockFinishedProducts(){return this.request("/central-kitchen/finished-products/low-stock")}async produceCentralKitchenFinishedProduct(t,r,a){return this.request(`/central-kitchen/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async getCentralKitchenInventoryItem(t){return this.request(`/central-kitchen-inventory/${t}`)}async createCentralKitchenInventoryItem(t){return this.request("/central-kitchen-inventory",{method:"POST",body:JSON.stringify(t)})}async updateCentralKitchenInventoryItem(t,r){return this.request(`/central-kitchen-inventory/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCentralKitchenInventoryItem(t){return this.request(`/central-kitchen-inventory/${t}`,{method:"DELETE"})}async adjustCentralKitchenInventoryStock(t,r,a,s){return this.request(`/central-kitchen-inventory/${t}/adjust-stock`,{method:"PUT",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getKuwaitCityRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/kuwait-city/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getKuwaitCityRawMaterial(t){return this.request(`/kuwait-city/raw-materials/${t}`)}async createKuwaitCityRawMaterial(t){return this.request("/kuwait-city/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateKuwaitCityRawMaterial(t,r){return this.request(`/kuwait-city/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteKuwaitCityRawMaterial(t){return this.request(`/kuwait-city/raw-materials/${t}`,{method:"DELETE"})}async getKuwaitCityRawMaterialCategories(){return this.request("/kuwait-city/raw-materials/categories")}async getKuwaitCityLowStockRawMaterials(){return this.request("/kuwait-city/raw-materials/low-stock")}async adjustKuwaitCityRawMaterialStock(t,r,a,s){return this.request(`/kuwait-city/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getKuwaitCityFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/kuwait-city/finished-products${a?`?${a}`:""}`;return this.request(s)}async getKuwaitCityFinishedProduct(t){return this.request(`/kuwait-city/finished-products/${t}`)}async createKuwaitCityFinishedProduct(t){return this.request("/kuwait-city/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateKuwaitCityFinishedProduct(t,r){return this.request(`/kuwait-city/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteKuwaitCityFinishedProduct(t){return this.request(`/kuwait-city/finished-products/${t}`,{method:"DELETE"})}async getKuwaitCityFinishedProductCategories(){return this.request("/kuwait-city/finished-products/categories")}async getKuwaitCityLowStockFinishedProducts(){return this.request("/kuwait-city/finished-products/low-stock")}async produceKuwaitCityFinishedProduct(t,r,a){return this.request(`/kuwait-city/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async get360MallRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/360-mall/raw-materials${a?`?${a}`:""}`;return this.request(s)}async get360MallRawMaterial(t){return this.request(`/360-mall/raw-materials/${t}`)}async create360MallRawMaterial(t){return this.request("/360-mall/raw-materials",{method:"POST",body:JSON.stringify(t)})}async update360MallRawMaterial(t,r){return this.request(`/360-mall/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async delete360MallRawMaterial(t){return this.request(`/360-mall/raw-materials/${t}`,{method:"DELETE"})}async get360MallRawMaterialCategories(){return this.request("/360-mall/raw-materials/categories")}async get360MallLowStockRawMaterials(){return this.request("/360-mall/raw-materials/low-stock")}async adjust360MallRawMaterialStock(t,r,a,s){return this.request(`/360-mall/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async get360MallFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/360-mall/finished-products${a?`?${a}`:""}`;return this.request(s)}async get360MallFinishedProduct(t){return this.request(`/360-mall/finished-products/${t}`)}async create360MallFinishedProduct(t){return this.request("/360-mall/finished-products",{method:"POST",body:JSON.stringify(t)})}async update360MallFinishedProduct(t,r){return this.request(`/360-mall/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async delete360MallFinishedProduct(t){return this.request(`/360-mall/finished-products/${t}`,{method:"DELETE"})}async get360MallFinishedProductCategories(){return this.request("/360-mall/finished-products/categories")}async get360MallLowStockFinishedProducts(){return this.request("/360-mall/finished-products/low-stock")}async produce360MallFinishedProduct(t,r,a){return this.request(`/360-mall/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async getVibeComplexRawMaterials(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/vibe-complex/raw-materials${a?`?${a}`:""}`;return this.request(s)}async getVibeComplexRawMaterial(t){return this.request(`/vibe-complex/raw-materials/${t}`)}async createVibeComplexRawMaterial(t){return this.request("/vibe-complex/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateVibeComplexRawMaterial(t,r){return this.request(`/vibe-complex/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteVibeComplexRawMaterial(t){return this.request(`/vibe-complex/raw-materials/${t}`,{method:"DELETE"})}async getVibeComplexRawMaterialCategories(){return this.request("/vibe-complex/raw-materials/categories")}async getVibeComplexLowStockRawMaterials(){return this.request("/vibe-complex/raw-materials/low-stock")}async adjustVibeComplexRawMaterialStock(t,r,a,s){return this.request(`/vibe-complex/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify({adjustment:r,reason:a,notes:s})})}async getVibeComplexFinishedProducts(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.subCategory&&r.append("subCategory",t.subCategory),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.dietaryRestriction&&r.append("dietaryRestriction",t.dietaryRestriction),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const a=r.toString(),s=`/vibe-complex/finished-products${a?`?${a}`:""}`;return this.request(s)}async getVibeComplexFinishedProduct(t){return this.request(`/vibe-complex/finished-products/${t}`)}async createVibeComplexFinishedProduct(t){return this.request("/vibe-complex/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateVibeComplexFinishedProduct(t,r){return this.request(`/vibe-complex/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteVibeComplexFinishedProduct(t){return this.request(`/vibe-complex/finished-products/${t}`,{method:"DELETE"})}async getVibeComplexFinishedProductCategories(){return this.request("/vibe-complex/finished-products/categories")}async getVibeComplexLowStockFinishedProducts(){return this.request("/vibe-complex/finished-products/low-stock")}async produceVibeComplexFinishedProduct(t,r,a){return this.request(`/vibe-complex/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify({quantity:r,notes:a})})}async createTransfer(t){console.log(" API Service: createTransfer called with data:",t),console.log(" API Service: Calling /transfers/create endpoint");try{const r=await this.request("/transfers/create",{method:"POST",body:JSON.stringify(t)});return console.log(" API Service: createTransfer response:",r),r}catch(r){throw console.error(" API Service: createTransfer error:",r),r}}async getTaibaKitchenRawMaterials(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([s,i])=>{i!==void 0&&r.append(s,i.toString())});const a=r.toString();return this.request(`/taiba-kitchen/raw-materials${a?`?${a}`:""}`)}async getTaibaKitchenRawMaterial(t){return this.request(`/taiba-kitchen/raw-materials/${t}`)}async createTaibaKitchenRawMaterial(t){return this.request("/taiba-kitchen/raw-materials",{method:"POST",body:JSON.stringify(t)})}async updateTaibaKitchenRawMaterial(t,r){return this.request(`/taiba-kitchen/raw-materials/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteTaibaKitchenRawMaterial(t){return this.request(`/taiba-kitchen/raw-materials/${t}`,{method:"DELETE"})}async getTaibaKitchenRawMaterialCategories(){return this.request("/taiba-kitchen/raw-materials/categories")}async getTaibaKitchenLowStockRawMaterials(){return this.request("/taiba-kitchen/raw-materials/low-stock")}async adjustTaibaKitchenRawMaterialStock(t,r){return this.request(`/taiba-kitchen/raw-materials/${t}/adjust-stock`,{method:"POST",body:JSON.stringify(r)})}async getTaibaKitchenFinishedProducts(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([s,i])=>{i!==void 0&&r.append(s,i.toString())});const a=r.toString();return this.request(`/taiba-kitchen/finished-products${a?`?${a}`:""}`)}async getTaibaKitchenFinishedProduct(t){return this.request(`/taiba-kitchen/finished-products/${t}`)}async createTaibaKitchenFinishedProduct(t){return this.request("/taiba-kitchen/finished-products",{method:"POST",body:JSON.stringify(t)})}async updateTaibaKitchenFinishedProduct(t,r){return this.request(`/taiba-kitchen/finished-products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteTaibaKitchenFinishedProduct(t){return this.request(`/taiba-kitchen/finished-products/${t}`,{method:"DELETE"})}async getTaibaKitchenFinishedProductCategories(){return this.request("/taiba-kitchen/finished-products/categories")}async getTaibaKitchenLowStockFinishedProducts(){return this.request("/taiba-kitchen/finished-products/low-stock")}async produceTaibaKitchenFinishedProduct(t,r){return this.request(`/taiba-kitchen/finished-products/${t}/produce`,{method:"POST",body:JSON.stringify(r)})}async getTransferOrders(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([s,i])=>{i!==void 0&&r.append(s,i.toString())});const a=r.toString();return this.request(`/transfer-orders${a?`?${a}`:""}`)}async getTransferOrder(t){return this.request(`/transfer-orders/${t}`)}async createTransferOrder(t){return this.request("/transfer-orders",{method:"POST",body:JSON.stringify(t)})}async getTransferOrderById(t){return this.request(`/transfer-orders/${t}`)}async updateTransferOrderStatus(t,r){return this.request(`/transfer-orders/${t}/status`,{method:"PUT",body:JSON.stringify(r)})}async updateTransferOrderInventory(t,r){return this.request(`/transfer-order-inventory/${t}/${r}`,{method:"PUT"})}async deleteTransferOrder(t,r){return this.request(`/transfer-orders/${t}`,{method:"DELETE",body:JSON.stringify(r||{})})}async getTransferOrderStats(){return this.request("/transfer-orders/stats/summary")}async getNotifications(t,r,a){const s=new URLSearchParams;r&&s.append("type",r),a&&s.append("limit",a.toString());const i=s.toString(),l=i?`/${t}?${i}`:`/${t}`;return console.log(` API Service: getNotifications called for outlet: "${t}"`),console.log(` API Service: Constructed endpoint: "/notifications${l}"`),this.request(`/notifications${l}`)}async createNotification(t){console.log(" API Service: createNotification called with data:",t);try{const r=await this.request("/notifications",{method:"POST",body:JSON.stringify(t)});return console.log(" API Service: createNotification response:",r),r}catch(r){throw console.error(" API Service: createNotification error:",r),r}}async markNotificationAsRead(t){return this.request(`/notifications/${t}/read`,{method:"PUT"})}async markAllNotificationsAsRead(t){return this.request(`/notifications/mark-all-read/${t}`,{method:"PUT"})}async clearAllNotifications(t){return this.request(`/notifications/clear-all/${t}`,{method:"DELETE"})}}const Q=new sZ,ha=e=>{const[t,r]=C.useState([]),[a,s]=C.useState(!0),i=C.useCallback(async()=>{if(!e){s(!1);return}try{s(!0),console.log(` useNotifications: Loading notifications for outlet: "${e}"`);const h=await Q.getNotifications(e,void 0,20);if(console.log(" useNotifications: API response:",h),h.success){const d=h.data.map(m=>({id:m.id,title:m.title,message:m.message,type:m.type==="transfer_rejection"?"error":m.type==="transfer_acceptance"?"success":m.priority==="high"?"warning":"info",timestamp:new Date(m.timestamp),read:m.read,outlet:e,transferOrderId:m.transferOrderId,isTransferOrder:!0,itemType:m.itemType,priority:m.priority}));r(d)}}catch(h){console.error("Error loading notifications:",h),r([])}finally{s(!1)}},[e]);C.useEffect(()=>{i();const h=setInterval(()=>{i()},3e4);return()=>clearInterval(h)},[i]);const l=C.useCallback(async h=>{try{await Q.markNotificationAsRead(h),r(d=>d.map(m=>m.id===h?{...m,read:!0}:m))}catch(d){console.error("Error marking notification as read:",d)}},[]),o=C.useCallback(async()=>{if(e)try{await Q.markAllNotificationsAsRead(e),r(h=>h.map(d=>({...d,read:!0})))}catch(h){console.error("Error marking all notifications as read:",h)}},[e]),c=C.useCallback(async()=>{if(e)try{await Q.clearAllNotifications(e),r([])}catch(h){console.error("Error clearing notifications:",h)}},[e]),u=C.useCallback(h=>{const d={...h,id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,read:!1};r(m=>[d,...m])},[]);return{notifications:t,markAsRead:l,markAllAsRead:o,clearAll:c,addNotification:u,loading:a,refreshNotifications:i}},aw=()=>{const[e,t]=C.useState("overall"),{notifications:r,markAsRead:a,markAllAsRead:s,clearAll:i}=ha("System"),l=[{id:"overall",name:"Overall Sales",icon:Ma,color:"text-indigo-600"},{id:"kuwait-city",name:"Kuwait City",icon:rr,color:"text-blue-600"},{id:"360-mall",name:"360 Mall",icon:$l,color:"text-green-600"},{id:"vibes-complex",name:"Vibes Complex",icon:_l,color:"text-orange-600"},{id:"taiba-hospital",name:"Taiba Hospital",icon:Il,color:"text-purple-600"}],o={"kuwait-city":{name:"Kuwait City",totalSales:125e3,totalOrders:156,avgOrderValue:801,topProducts:[{name:"Caesar Salad",sales:12500,orders:45},{name:"Grilled Chicken",sales:9800,orders:38},{name:"Pasta Carbonara",sales:8700,orders:32}],dailySales:[{day:"Mon",sales:8500},{day:"Tue",sales:9200},{day:"Wed",sales:7800},{day:"Thu",sales:10500},{day:"Fri",sales:12800},{day:"Sat",sales:15200},{day:"Sun",sales:11800}]},"360-mall":{name:"360 Mall",totalSales:89e3,totalOrders:134,avgOrderValue:664,topProducts:[{name:"Cappuccino",sales:9800,orders:65},{name:"Latte",sales:7200,orders:48},{name:"Croissant",sales:5400,orders:36}],dailySales:[{day:"Mon",sales:6200},{day:"Tue",sales:6800},{day:"Wed",sales:5900},{day:"Thu",sales:7500},{day:"Fri",sales:9200},{day:"Sat",sales:10800},{day:"Sun",sales:8200}]},"vibes-complex":{name:"Vibes Complex",totalSales:67e3,totalOrders:98,avgOrderValue:684,topProducts:[{name:"Burger Deluxe",sales:8200,orders:28},{name:"Chicken Wrap",sales:6500,orders:25},{name:"French Fries",sales:4800,orders:32}],dailySales:[{day:"Mon",sales:4800},{day:"Tue",sales:5200},{day:"Wed",sales:4500},{day:"Thu",sales:5800},{day:"Fri",sales:7200},{day:"Sat",sales:8500},{day:"Sun",sales:6200}]},"taiba-hospital":{name:"Taiba Hospital",totalSales:45e3,totalOrders:67,avgOrderValue:672,topProducts:[{name:"Quick Sandwich",sales:6800,orders:22},{name:"Coffee",sales:4200,orders:35},{name:"Energy Bar",sales:3200,orders:18}],dailySales:[{day:"Mon",sales:3200},{day:"Tue",sales:3500},{day:"Wed",sales:2800},{day:"Thu",sales:4200},{day:"Fri",sales:4800},{day:"Sat",sales:5200},{day:"Sun",sales:3800}]}},c={totalSales:Object.values(o).reduce((h,d)=>h+d.totalSales,0),totalOrders:Object.values(o).reduce((h,d)=>h+d.totalOrders,0),avgOrderValue:0,outletBreakdown:Object.entries(o).map(([,h])=>({name:h.name,sales:h.totalSales,orders:h.totalOrders,percentage:0}))};c.avgOrderValue=Math.round(c.totalSales/c.totalOrders),c.outletBreakdown.forEach(h=>{h.percentage=Math.round(h.sales/c.totalSales*100)});const u=h=>{if(h==="overall")return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-indigo-500",children:n.jsx(Ma,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",c.totalSales.toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(dt,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:c.totalOrders})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(qn,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",c.avgOrderValue]})]})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Sales by Outlet"}),n.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:c.outletBreakdown.map((m,g)=>n.jsxs("div",{className:"flex flex-col items-center p-6 bg-gray-50 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:`p-4 rounded-full mb-4 ${g===0?"bg-blue-100":g===1?"bg-green-100":g===2?"bg-orange-100":"bg-purple-100"}`,children:g===0?n.jsx(rr,{className:"h-8 w-8 text-blue-600"}):g===1?n.jsx($l,{className:"h-8 w-8 text-green-600"}):g===2?n.jsx(_l,{className:"h-8 w-8 text-orange-600"}):n.jsx(Il,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:m.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[m.orders," orders"]}),n.jsxs("p",{className:"font-bold text-gray-900 text-xl",children:["$",m.sales.toLocaleString()]}),n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[m.percentage,"% of total"]})]})]},m.name))})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Overall Sales Trend"}),n.jsx(hb,{width:"100%",height:300,children:n.jsxs(nw,{data:[{day:"Mon",sales:22700},{day:"Tue",sales:24700},{day:"Wed",sales:21e3},{day:"Thu",sales:28e3},{day:"Fri",sales:34e3},{day:"Sat",sales:39700},{day:"Sun",sales:3e4}],children:[n.jsx(Zp,{strokeDasharray:"3 3"}),n.jsx(yo,{dataKey:"day"}),n.jsx(go,{}),n.jsx(Dr,{formatter:m=>[`$${m}`,"Sales"]}),n.jsx(ii,{type:"monotone",dataKey:"sales",stroke:"#3B82F6",strokeWidth:3})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Products Overall"}),n.jsx("div",{className:"space-y-4",children:[{name:"Caesar Salad",sales:12500,orders:45,outlet:"Kuwait City"},{name:"Cappuccino",sales:9800,orders:65,outlet:"360 Mall"},{name:"Grilled Chicken",sales:9800,orders:38,outlet:"Kuwait City"},{name:"Burger Deluxe",sales:8200,orders:28,outlet:"Vibes Complex"},{name:"Latte",sales:7200,orders:48,outlet:"360 Mall"}].map((m,g)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-semibold text-blue-600",children:g+1})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:m.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[m.outlet,"  ",m.orders," orders"]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-gray-900",children:["$",m.sales.toLocaleString()]})})]},m.name))})]})]})]});const d=o[h];return d?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(Ma,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",d.totalSales.toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(dt,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:d.totalOrders})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:n.jsx(qn,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",d.avgOrderValue]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Daily Sales Trend"}),n.jsx(hb,{width:"100%",height:300,children:n.jsxs(nw,{data:d.dailySales,children:[n.jsx(Zp,{strokeDasharray:"3 3"}),n.jsx(yo,{dataKey:"day"}),n.jsx(go,{}),n.jsx(Dr,{formatter:m=>[`$${m}`,"Sales"]}),n.jsx(ii,{type:"monotone",dataKey:"sales",stroke:"#3B82F6",strokeWidth:2})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Products"}),n.jsx("div",{className:"space-y-4",children:d.topProducts.map(m=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:m.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[m.orders," orders"]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-gray-900",children:["$",m.sales.toLocaleString()]})})]},m.name))})]})]})]}):null};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Monitor sales performance across all outlets"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[n.jsx(qn,{className:"h-4 w-4"}),n.jsxs("span",{children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx(fa,{notifications:r,onMarkAsRead:a,onMarkAllAsRead:s,onClearAll:i})]})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:l.map(h=>{const d=h.icon;return n.jsxs("button",{onClick:()=>t(h.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${e===h.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(d,{className:`h-4 w-4 ${e===h.id?h.color:""}`}),n.jsx("span",{children:h.name})]},h.id)})})}),u(e)]})},iZ=()=>bA(),lZ=wA,oZ=()=>{const e=ye(),t=iZ(),r=C.useRef(null),{rawMaterials:a,loading:s,error:i}=lZ(E=>E.inventory),[l,o]=C.useState(!1),[c,u]=C.useState(""),[h,d]=C.useState(""),[m,g]=C.useState(""),[b,x]=C.useState(""),[j,N]=C.useState(""),[S,y]=C.useState("materialCode"),[f,p]=C.useState("asc"),v=(E,B)=>E<=B?{status:"Low",color:"text-red-600 bg-red-100"}:E<=B*1.5?{status:"Medium",color:"text-yellow-600 bg-yellow-100"}:{status:"Good",color:"text-green-600 bg-green-100"},w=a.filter(E=>{const B=E.materialName.toLowerCase().includes(c.toLowerCase())||E.materialCode.toLowerCase().includes(c.toLowerCase())||E.description.toLowerCase().includes(c.toLowerCase()),T=h===""||E.category===h,I=m===""||m==="active"&&E.isActive||m==="inactive"&&!E.isActive,$=v(E.currentStock,E.minimumStock),F=b===""||$.status.toLowerCase()===b.toLowerCase(),_=j===""||E.supplierId===j;return B&&T&&I&&F&&_}).sort((E,B)=>{let T,I;switch(S){case"materialCode":T=E.materialCode,I=B.materialCode;break;case"materialName":T=E.materialName,I=B.materialName;break;case"category":T=E.category,I=B.category;break;case"unitPrice":T=E.unitPrice,I=B.unitPrice;break;case"currentStock":T=E.currentStock,I=B.currentStock;break;case"createdAt":T=new Date(E.createdAt).getTime(),I=new Date(B.createdAt).getTime();break;default:T=E.materialCode,I=B.materialCode}return f==="asc"?T>I?1:-1:T<I?1:-1}),k=[...new Set(a.map(E=>E.category))],P=[{id:"SUP-FP-001",name:"Fresh Produce Co"},{id:"SUP-PT-001",name:"Pantry Essentials"},{id:"SUP-DA-001",name:"Dairy Alternatives Inc"},{id:"SUP-SW-001",name:"Sweeteners & Syrups"},{id:"SUP-BV-001",name:"Beverage Solutions"},{id:"SUP-SP-001",name:"Supplements Plus"},{id:"SUP-SF-001",name:"Superfoods Direct"},{id:"SUP-DY-001",name:"Dairy Farm Fresh"},{id:"SUP-BK-001",name:"Artisan Bakery"}],A=()=>{u(""),d(""),g(""),x(""),N(""),y("materialCode"),p("asc")},D=async E=>{if(window.confirm("Are you sure you want to delete this material?"))try{(await Q.deleteRawMaterial(E)).success?window.location.reload():alert("Failed to delete material")}catch(B){alert("Error deleting material: "+(B instanceof Error?B.message:"Unknown error")),console.error("Error deleting material:",B)}},O=()=>{try{const E=w.map(_=>({SKU:_.materialCode,"Item Name":_.materialName,"Parent Category":"Raw Materials","SubCategory Name":_.category,Unit:_.unitOfMeasure,"Unit Name":_.unitOfMeasure,"Default Purchase Unit Name":_.unitOfMeasure})),B=Object.keys(E[0]||{}),T=[B.join(","),...E.map(_=>B.map(G=>{const ee=_[G];return typeof ee=="string"&&(ee.includes(",")||ee.includes('"'))?`"${ee.replace(/"/g,'""')}"`:ee}).join(","))].join(`
`),I=new Blob([T],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a"),F=URL.createObjectURL(I);$.setAttribute("href",F),$.setAttribute("download",`raw-materials-export-${new Date().toISOString().split("T")[0]}.csv`),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($),console.log("Export completed successfully")}catch(E){console.error("Export failed:",E),alert("Export failed. Please try again.")}},M=()=>{console.log("Import button clicked"),r.current?(console.log("File input ref found, clicking..."),r.current.click()):console.error("File input ref not found")},L=()=>{const E=[{SKU:"10001","Item Name":"Bhujia","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10002","Item Name":"Bran Flakes","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10003","Item Name":"Bread Improver","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10004","Item Name":"Caramel Syrup","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"},{SKU:"10005","Item Name":"Cocoa Powder","Parent Category":"Raw Materials","SubCategory Name":"Bakery",Unit:"kg","Unit Name":"kg","Default Purchase Unit Name":"kg"}],B=Object.keys(E[0]),T=[B.join(","),...E.map(_=>B.map(G=>{const ee=_[G];return typeof ee=="string"&&(ee.includes(",")||ee.includes('"'))?`"${ee.replace(/"/g,'""')}"`:ee}).join(","))].join(`
`),I=new Blob([T],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a"),F=URL.createObjectURL(I);$.setAttribute("href",F),$.setAttribute("download","sample-raw-materials-import.csv"),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($)},R=async E=>{var T;const B=(T=E.target.files)==null?void 0:T[0];if(!B){console.log("No file selected");return}if(console.log("File selected:",B.name,"Size:",B.size,"Type:",B.type),!B.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{o(!0),console.log("Starting import process...");const I=await B.text();console.log("File content length:",I.length);const $=I.split(`
`).filter(ge=>ge.trim());if(console.log("Number of lines:",$.length),$.length<2){alert("CSV file must contain at least a header row and one data row");return}const F=ge=>{const fe=[];let W="",re=!1;for(let Z=0;Z<ge.length;Z++){const U=ge[Z];U==='"'?re&&ge[Z+1]==='"'?(W+='"',Z++):re=!re:U===","&&!re?(fe.push(W.trim()),W=""):W+=U}return fe.push(W.trim()),fe},_=F($[0]);console.log("Headers:",_);const G=$.slice(1).map((ge,fe)=>{const W=F(ge),re={};return _.forEach((Z,U)=>{re[Z]=W[U]||""}),console.log(`Row ${fe+1}:`,re),re}),ee=["SKU","Item Name","Parent Category","SubCategory Name","Unit","Unit Name","Default Purchase Unit Name"],de=ee.filter(ge=>!_.includes(ge));if(de.length>0){alert(`Missing required columns: ${de.join(", ")}

Required columns: ${ee.join(", ")}

Found columns: ${_.join(", ")}`);return}console.log("Starting to process",G.length,"rows...");let X=0,ae=0,we=0;const K=[],le=new Set,me=[],H=[];for(let ge=0;ge<G.length;ge++){const fe=G[ge];try{console.log(`Processing row ${ge+1}:`,fe);const W=fe.SKU;if(le.has(W)){console.log(`Material ${W} already processed in this import, skipping...`);continue}const re={id:`rm-${Date.now()}-${ge}`,materialCode:W,materialName:fe["Item Name"],description:`${fe["Parent Category"]} - ${fe["SubCategory Name"]}`,category:fe["SubCategory Name"],unitOfMeasure:fe.Unit,unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplierId:"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"};console.log("Processed material data:",re);const Z=a.find(U=>U.materialCode===re.materialCode);if(Z){console.log("Material exists, updating existing material:",Z.id);const U={...Z,materialName:re.materialName,description:re.description,category:re.category,unitOfMeasure:re.unitOfMeasure,updatedAt:new Date().toISOString(),updatedBy:"admin"};H.push(U),we++,console.log(`Successfully updated ${re.materialCode}`)}else console.log("Creating new material:",re.materialCode),me.push(re),X++,console.log(`Successfully created ${re.materialCode}`);le.add(W)}catch(W){ae++;const re=`Error processing row ${ge+1} (${fe.SKU||"Unknown"}): ${W instanceof Error?W.message:"Unknown error"}`;K.push(re),console.error(re,W)}}console.log("Import processing complete. Created:",X,"Updated:",we,"Errors:",ae),t(uD([...me,...H])),ae>0?alert(`Import completed with errors:

New Materials Created: ${X}
Materials Updated: ${we}
Errors: ${ae}

Errors:
${K.slice(0,5).join(`
`)}${K.length>5?`
...`:""}`):alert(`Import completed successfully!

New Materials Created: ${X}
Materials Updated: ${we}`)}catch(I){console.error("Import failed:",I),alert(`Import failed: ${I instanceof Error?I.message:"Unknown error"}

Please check your CSV file format and try again.`)}finally{o(!1),r.current&&(r.current.value="")}};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading materials..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ingredient Master"}),n.jsx("p",{className:"text-gray-600",children:"Manage your restaurant ingredients and raw material inventory"})]}),n.jsxs("button",{onClick:()=>e("/raw-materials/add"),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Ingredient"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search materials by name, code, or description...",className:"input-field pl-10",value:c,onChange:E=>u(E.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:A,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(On,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:O,className:"btn-secondary flex items-center",title:"Export materials to CSV",disabled:w.length===0,children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:M,className:"btn-secondary flex items-center",title:"Import materials from CSV",disabled:l,children:[n.jsx(hi,{className:"h-4 w-4 mr-2"}),l?"Importing...":"Import"]}),n.jsxs("button",{onClick:L,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"input-field",value:h,onChange:E=>d(E.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),k.map(E=>n.jsx("option",{value:E,children:E},E))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:m,onChange:E=>g(E.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Status"}),n.jsxs("select",{className:"input-field",value:b,onChange:E=>x(E.target.value),children:[n.jsx("option",{value:"",children:"All Stock Levels"}),n.jsx("option",{value:"low",children:"Low Stock"}),n.jsx("option",{value:"medium",children:"Medium Stock"}),n.jsx("option",{value:"good",children:"Good Stock"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),n.jsxs("select",{className:"input-field",value:j,onChange:E=>N(E.target.value),children:[n.jsx("option",{value:"",children:"All Suppliers"}),P.map(E=>n.jsx("option",{value:E.id,children:E.name},E.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:S,onChange:E=>y(E.target.value),children:[n.jsx("option",{value:"materialCode",children:"Material Code"}),n.jsx("option",{value:"materialName",children:"Name"}),n.jsx("option",{value:"category",children:"Category"}),n.jsx("option",{value:"unitPrice",children:"Unit Price"}),n.jsx("option",{value:"currentStock",children:"Current Stock"}),n.jsx("option",{value:"createdAt",children:"Date Created"})]}),n.jsx("button",{onClick:()=>p(f==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${f==="asc"?"Descending":"Ascending"}`,children:f==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",w.length," of ",a.length," materials",(c||h||m||b||j)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),w.length!==a.length&&n.jsx("button",{onClick:A,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"SKU"}),n.jsx("th",{className:"table-header",children:"Item Name"}),n.jsx("th",{className:"table-header",children:"Parent Category"}),n.jsx("th",{className:"table-header",children:"SubCategory Name"}),n.jsx("th",{className:"table-header",children:"Unit"}),n.jsx("th",{className:"table-header",children:"Unit Name"}),n.jsx("th",{className:"table-header",children:"Default Purchase Unit Name"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(E=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:E.materialCode}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"font-medium",children:E.materialName})}),n.jsx("td",{className:"table-cell",children:"Raw Materials"}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:E.category})}),n.jsx("td",{className:"table-cell",children:E.unitOfMeasure}),n.jsx("td",{className:"table-cell",children:E.unitOfMeasure}),n.jsx("td",{className:"table-cell",children:E.unitOfMeasure}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>e(`/raw-materials/edit/${E.id}`),className:"text-blue-600 hover:text-blue-900",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>D(E.id),className:"text-red-600 hover:text-red-900",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},E.id))})]})})}),n.jsx("input",{ref:r,type:"file",accept:".csv",onChange:R,style:{display:"none"}})]})},cZ=()=>{const e=ye(),[t,r]=C.useState({materialCode:"",materialName:"",description:"",category:"",unitOfMeasure:"",unitPrice:"",minimumStock:"",maximumStock:"",currentStock:"",supplierId:"",isActive:!0}),[a,s]=C.useState({}),i=["Fresh Produce","Pantry","Dairy Alternatives","Sweeteners","Beverages","Supplements","Superfoods","Dairy","Bakery","Spices","Other"],l=["PC","TBSP","CUP","TSP","PINCH","SCOOP","HANDFUL","SLICE","OZ","LB","KG","LTR","Other"],o=()=>{const h={};return t.materialCode.trim()||(h.materialCode="Material code is required"),t.materialName.trim()||(h.materialName="Material name is required"),t.category||(h.category="Category is required"),t.unitOfMeasure||(h.unitOfMeasure="Unit of measure is required"),(!t.unitPrice||parseFloat(t.unitPrice)<0)&&(h.unitPrice="Valid unit price is required"),(!t.minimumStock||parseInt(t.minimumStock)<0)&&(h.minimumStock="Valid minimum stock is required"),(!t.maximumStock||parseInt(t.maximumStock)<0)&&(h.maximumStock="Valid maximum stock is required"),(!t.currentStock||parseInt(t.currentStock)<0)&&(h.currentStock="Valid current stock is required"),s(h),Object.keys(h).length===0},c=async h=>{if(h.preventDefault(),!!o())try{const d=await Q.createRawMaterial(t);d.success?e("/raw-materials"):alert("Failed to create material: "+d.message)}catch(d){alert("Error creating material: "+(d instanceof Error?d.message:"Unknown error")),console.error("Error creating material:",d)}},u=(h,d)=>{r(m=>({...m,[h]:d})),a[h]&&s(m=>({...m,[h]:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Material"}),n.jsx("p",{className:"text-gray-600",children:"Create a new raw material entry"})]}),n.jsxs("button",{onClick:()=>e("/raw-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Raw Materials"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:c,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Code *"}),n.jsx("input",{type:"text",className:`input-field ${a.materialCode?"border-red-500":""}`,value:t.materialCode,onChange:h=>u("materialCode",h.target.value),placeholder:"RM-001"}),a.materialCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.materialCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.materialName?"border-red-500":""}`,value:t.materialName,onChange:h=>u("materialName",h.target.value),placeholder:"Steel Rod 12mm"}),a.materialName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.materialName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.description,onChange:h=>u("description",h.target.value),placeholder:"Material description"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),n.jsxs("select",{className:`input-field ${a.category?"border-red-500":""}`,value:t.category,onChange:h=>u("category",h.target.value),children:[n.jsx("option",{value:"",children:"Select Category"}),i.map(h=>n.jsx("option",{value:h,children:h},h))]}),a.category&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.category})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure *"}),n.jsxs("select",{className:`input-field ${a.unitOfMeasure?"border-red-500":""}`,value:t.unitOfMeasure,onChange:h=>u("unitOfMeasure",h.target.value),children:[n.jsx("option",{value:"",children:"Select Unit"}),l.map(h=>n.jsx("option",{value:h,children:h},h))]}),a.unitOfMeasure&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.unitOfMeasure})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pricing & Stock Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),n.jsx("input",{type:"number",step:"0.01",className:`input-field pl-8 ${a.unitPrice?"border-red-500":""}`,value:t.unitPrice,onChange:h=>u("unitPrice",h.target.value),placeholder:"0.00"})]}),a.unitPrice&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.unitPrice})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock *"}),n.jsx("input",{type:"number",className:`input-field ${a.currentStock?"border-red-500":""}`,value:t.currentStock,onChange:h=>u("currentStock",h.target.value),placeholder:"0"}),a.currentStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.currentStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${a.minimumStock?"border-red-500":""}`,value:t.minimumStock,onChange:h=>u("minimumStock",h.target.value),placeholder:"0"}),a.minimumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.minimumStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${a.maximumStock?"border-red-500":""}`,value:t.maximumStock,onChange:h=>u("maximumStock",h.target.value),placeholder:"0"}),a.maximumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.maximumStock})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier ID"}),n.jsx("input",{type:"text",className:"input-field",value:t.supplierId,onChange:h=>u("supplierId",h.target.value),placeholder:"SUP-001"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:t.isActive,onChange:h=>u("isActive",h.target.checked)}),n.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Active Material"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Save Material"]})]})]})})]})},uZ=()=>{const e=ye(),{id:t}=la(),[r,a]=C.useState({materialCode:"",materialName:"",description:"",category:"",unitOfMeasure:"",unitPrice:"",minimumStock:"",maximumStock:"",currentStock:"",supplierId:"",isActive:!0}),[s,i]=C.useState({}),[l,o]=C.useState(!0),c=["Fresh Produce","Pantry","Dairy Alternatives","Sweeteners","Beverages","Supplements","Superfoods","Dairy","Bakery","Spices","Other"],u=["PC","TBSP","CUP","TSP","PINCH","SCOOP","HANDFUL","SLICE","OZ","LB","KG","LTR","Other"];C.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{o(!0);const b=await Q.getRawMaterial(t);if(b.success){const x=b.data;a({materialCode:x.materialCode,materialName:x.materialName,description:x.description,category:x.category,unitOfMeasure:x.unitOfMeasure,unitPrice:x.unitPrice.toString(),minimumStock:x.minimumStock.toString(),maximumStock:x.maximumStock.toString(),currentStock:x.currentStock.toString(),supplierId:x.supplierId||"",isActive:x.isActive})}else alert("Failed to load material"),e("/raw-materials")}catch(b){alert("Error loading material: "+(b instanceof Error?b.message:"Unknown error")),e("/raw-materials")}finally{o(!1)}},d=()=>{const b={};return r.materialCode.trim()||(b.materialCode="Material code is required"),r.materialName.trim()||(b.materialName="Material name is required"),r.category||(b.category="Category is required"),r.unitOfMeasure||(b.unitOfMeasure="Unit of measure is required"),(!r.unitPrice||parseFloat(r.unitPrice)<0)&&(b.unitPrice="Valid unit price is required"),(!r.minimumStock||parseInt(r.minimumStock)<0)&&(b.minimumStock="Valid minimum stock is required"),(!r.maximumStock||parseInt(r.maximumStock)<0)&&(b.maximumStock="Valid maximum stock is required"),(!r.currentStock||parseInt(r.currentStock)<0)&&(b.currentStock="Valid current stock is required"),i(b),Object.keys(b).length===0},m=async b=>{if(b.preventDefault(),!!d())try{const x=await Q.updateRawMaterial(t,r);x.success?e("/raw-materials"):alert("Failed to update material: "+x.message)}catch(x){alert("Error updating material: "+(x instanceof Error?x.message:"Unknown error")),console.error("Error updating material:",x)}},g=(b,x)=>{a(j=>({...j,[b]:x})),s[b]&&i(j=>({...j,[b]:""}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading material data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Material"}),n.jsx("p",{className:"text-gray-600",children:"Update material information"})]}),n.jsxs("button",{onClick:()=>e("/raw-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Raw Materials"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:m,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.materialCode?"border-red-500":""}`,value:r.materialCode,onChange:b=>g("materialCode",b.target.value),placeholder:"RM-001"}),s.materialCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.materialCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.materialName?"border-red-500":""}`,value:r.materialName,onChange:b=>g("materialName",b.target.value),placeholder:"Steel Rod 12mm"}),s.materialName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.materialName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.description,onChange:b=>g("description",b.target.value),placeholder:"Material description"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),n.jsxs("select",{className:`input-field ${s.category?"border-red-500":""}`,value:r.category,onChange:b=>g("category",b.target.value),children:[n.jsx("option",{value:"",children:"Select Category"}),c.map(b=>n.jsx("option",{value:b,children:b},b))]}),s.category&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.category})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit of Measure *"}),n.jsxs("select",{className:`input-field ${s.unitOfMeasure?"border-red-500":""}`,value:r.unitOfMeasure,onChange:b=>g("unitOfMeasure",b.target.value),children:[n.jsx("option",{value:"",children:"Select Unit"}),u.map(b=>n.jsx("option",{value:b,children:b},b))]}),s.unitOfMeasure&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.unitOfMeasure})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pricing & Stock Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),n.jsx("input",{type:"number",step:"0.01",className:`input-field pl-8 ${s.unitPrice?"border-red-500":""}`,value:r.unitPrice,onChange:b=>g("unitPrice",b.target.value),placeholder:"0.00"})]}),s.unitPrice&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.unitPrice})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Stock *"}),n.jsx("input",{type:"number",className:`input-field ${s.currentStock?"border-red-500":""}`,value:r.currentStock,onChange:b=>g("currentStock",b.target.value),placeholder:"0"}),s.currentStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.currentStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${s.minimumStock?"border-red-500":""}`,value:r.minimumStock,onChange:b=>g("minimumStock",b.target.value),placeholder:"0"}),s.minimumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.minimumStock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Stock *"}),n.jsx("input",{type:"number",className:`input-field ${s.maximumStock?"border-red-500":""}`,value:r.maximumStock,onChange:b=>g("maximumStock",b.target.value),placeholder:"0"}),s.maximumStock&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.maximumStock})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier ID"}),n.jsx("input",{type:"text",className:"input-field",value:r.supplierId,onChange:b=>g("supplierId",b.target.value),placeholder:"SUP-001"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:r.isActive,onChange:b=>g("isActive",b.target.checked)}),n.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Active Material"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Update Material"]})]})]})})]})},dZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState(!0),[i,l]=C.useState(null),[o,c]=C.useState(null),[u,h]=C.useState(!1),[d,m]=C.useState(""),[g,b]=C.useState(""),[x,j]=C.useState("createdAt"),[N,S]=C.useState("desc"),[y,f]=C.useState(!1),p=C.useRef(null);C.useEffect(()=>{v()},[]);const v=async()=>{try{s(!0),l(null);const R=await Q.getBillOfMaterials({limit:1e3,search:d,status:g,sortBy:x,sortOrder:N});R.success?(console.log("Loaded BOMs:",R.data),r(R.data)):l("Failed to load BOMs")}catch(R){l(R instanceof Error?R.message:"Failed to load BOMs"),console.error("Error loading BOMs:",R)}finally{s(!1)}};C.useEffect(()=>{a||v()},[d,g,x,N]);const w=t.filter(R=>{const E=R.productName.toLowerCase().includes(d.toLowerCase())||R.bomCode.toLowerCase().includes(d.toLowerCase())||R.productDescription.toLowerCase().includes(d.toLowerCase()),B=g===""||R.status===g;return E&&B}),k=()=>{m(""),b(""),j("createdAt"),S("desc")},P=R=>{c(R),h(!0)},A=async R=>{if(console.log("Deleting BOM with ID:",R),!R){alert("Error: BOM ID is missing");return}if(window.confirm("Are you sure you want to delete this BOM?"))try{(await Q.deleteBillOfMaterial(R)).success?await v():alert("Failed to delete BOM")}catch(E){alert("Error deleting BOM: "+(E instanceof Error?E.message:"Unknown error")),console.error("Error deleting BOM:",E)}},D=()=>{if(w.length===0){alert("No BOMs to export");return}const R=[["BOM Code","Product Name","Product Description","Status","Version","Created At","Updated At","Notes"].join(","),...w.map(I=>[I.bomCode,I.productName,I.productDescription,I.status,I.version,new Date(I.createdAt).toLocaleDateString(),new Date(I.updatedAt).toLocaleDateString(),""].map($=>`"${$}"`).join(","))].join(`
`),E=new Blob([R],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a"),T=URL.createObjectURL(E);B.setAttribute("href",T),B.setAttribute("download",`bom-recipes-${new Date().toISOString().split("T")[0]}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)},O=()=>{var R;(R=p.current)==null||R.click()},M=async R=>{var B;const E=(B=R.target.files)==null?void 0:B[0];if(E){if(!E.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{f(!0);const I=(await E.text()).split(`
`).filter(G=>G.trim());if(I.length<2){alert("CSV file must contain at least a header row and one data row");return}const $=I.slice(1);let F=0,_=0;for(const G of $)try{const ee=G.split(",").map(ae=>ae.replace(/"/g,"").trim()),de={bomCode:ee[0]||"",productName:ee[1]||"",productDescription:ee[2]||"",status:ee[3]||"Draft",version:ee[4]||"1.0",notes:ee[7]||""};(await Q.createBillOfMaterial(de)).success?F++:_++}catch{_++}alert(`Import completed!

Successfully imported: ${F} BOMs
Errors: ${_}`),await v()}catch(T){alert("Error importing file: "+(T instanceof Error?T.message:"Unknown error"))}finally{f(!1),p.current&&(p.current.value="")}}},L=()=>{const E=[["BOM Code","Product Name","Product Description","Status","Version","Created At","Updated At","Notes"],["BOM-001","Fresh Green Smoothie","Healthy smoothie with spinach and fruits","Active","1.0","2024-01-15","2024-01-15","Popular breakfast item"],["BOM-002","Protein Power Bowl","High protein meal bowl","Active","1.0","2024-01-15","2024-01-15","Post-workout meal"]].map($=>$.map(F=>`"${F}"`).join(",")).join(`
`),B=new Blob([E],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),I=URL.createObjectURL(B);T.setAttribute("href",I),T.setAttribute("download","bom-sample-template.csv"),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading BOMs..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:v,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recipes (BOM)"}),n.jsx("p",{className:"text-gray-600",children:"Manage your restaurant recipes and product formulations"})]}),n.jsxs("button",{onClick:()=>e("/bill-of-materials/add"),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Create Recipe"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search recipes by name, code, or description...",className:"input-field pl-10",value:d,onChange:R=>m(R.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:k,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(On,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:D,className:"btn-secondary flex items-center",title:"Export BOMs to CSV",disabled:w.length===0,children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:O,className:"btn-secondary flex items-center",title:"Import BOMs from CSV",disabled:y,children:[n.jsx(hi,{className:"h-4 w-4 mr-2"}),y?"Importing...":"Import"]}),n.jsxs("button",{onClick:L,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:g,onChange:R=>b(R.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"}),n.jsx("option",{value:"Obsolete",children:"Obsolete"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:x,onChange:R=>j(R.target.value),children:[n.jsx("option",{value:"bomCode",children:"BOM Code"}),n.jsx("option",{value:"productName",children:"Product Name"}),n.jsx("option",{value:"totalCost",children:"Total Cost"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"createdAt",children:"Date Created"})]}),n.jsx("button",{onClick:()=>S(N==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${N==="asc"?"Descending":"Ascending"}`,children:N==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",w.length," of ",t.length," recipes",(d||g)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),w.length!==t.length&&n.jsx("button",{onClick:k,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"BOM Code"}),n.jsx("th",{className:"table-header",children:"Product Name"}),n.jsx("th",{className:"table-header",children:"Description"}),n.jsx("th",{className:"table-header",children:"Version"}),n.jsx("th",{className:"table-header",children:"Total Cost"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Items"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(R=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:R.bomCode}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900",children:R.productName})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-600 text-sm max-w-xs truncate",children:R.productDescription})}),n.jsx("td",{className:"table-cell",children:R.version}),n.jsxs("td",{className:"table-cell",children:[R.totalCost.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R.status==="Active"?"bg-green-100 text-green-800":R.status==="Draft"?"bg-yellow-100 text-yellow-800":R.status==="Obsolete"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:R.status})}),n.jsx("td",{className:"table-cell",children:n.jsxs("span",{className:"text-sm text-gray-600",children:[R.items.length," ingredients"]})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>P(R),className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(en,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/bill-of-materials/edit/${R.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>A(R.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},R.id))})]})})}),n.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Total Recipes: ",n.jsx("span",{className:"font-semibold text-blue-600",children:t.length})]}),u&&o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"BOM Details"}),n.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(ke,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"BOM Code"}),n.jsx("p",{className:"text-gray-900 font-mono",children:o.bomCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("p",{className:"text-gray-900",children:o.productName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),n.jsx("p",{className:"text-gray-900",children:o.version})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.status==="Active"?"bg-green-100 text-green-800":o.status==="Draft"?"bg-yellow-100 text-yellow-800":o.status==="Obsolete"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:o.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:[o.totalCost.toFixed(2)," KWD"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.effectiveDate).toLocaleDateString()})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("p",{className:"text-gray-900",children:o.productDescription})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Ingredients (",o.items.length," items)"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Cost"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.items.map((R,E)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-mono",children:R.materialCode}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.materialName}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.quantity}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:R.unitOfMeasure}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[R.unitCost.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[R.totalCost.toFixed(2)," KWD"]})]},E))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),n.jsx("p",{className:"text-gray-900",children:o.createdBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),n.jsx("p",{className:"text-gray-900",children:o.updatedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.updatedAt).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>h(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{h(!1),e(`/bill-of-materials/edit/${o.id}`)},className:"btn-primary",children:"Edit BOM"})]})]})}),n.jsx("input",{type:"file",ref:p,onChange:M,accept:".csv",style:{display:"none"}})]})},mZ=()=>{const e=ye(),[t,r]=C.useState({bomCode:"",productName:"",productDescription:"",version:"1.0",effectiveDate:new Date().toISOString().split("T")[0],status:"Draft",items:[]}),[a,s]=C.useState({}),i=["Draft","Active","Obsolete"],l=()=>{const m={};if(t.bomCode.trim()?t.bomCode.trim().length<3&&(m.bomCode="BOM code must be at least 3 characters"):m.bomCode="BOM code is required",t.productName.trim()||(m.productName="Product name is required"),t.productDescription.trim()||(m.productDescription="Product description is required"),t.version.trim()?/^\d+\.\d+$/.test(t.version.trim())||(m.version="Version must be in format X.X (e.g., 1.0)"):m.version="Version is required",!t.effectiveDate)m.effectiveDate="Effective date is required";else{const g=new Date(t.effectiveDate);(isNaN(g.getTime())||g<new Date("2020-01-01"))&&(m.effectiveDate="Please select a valid date after 2020")}return t.items.length===0?m.items="At least one BOM item is required":t.items.forEach((g,b)=>{g.materialCode.trim()||(m[`item_${b}_code`]="Material code is required"),g.materialName.trim()||(m[`item_${b}_name`]="Material name is required"),(!g.quantity||g.quantity<=0)&&(m[`item_${b}_quantity`]="Quantity must be greater than 0"),g.unitOfMeasure.trim()||(m[`item_${b}_unit`]="Unit of measure is required"),(!g.unitCost||g.unitCost<=0)&&(m[`item_${b}_cost`]="Unit cost must be greater than 0")}),s(m),Object.keys(m).length===0},o=async m=>{if(m.preventDefault(),!!l())try{const g=t.items.reduce((j,N)=>{const S=N.quantity*N.unitCost;return j+S},0),b={bomCode:t.bomCode.trim().toUpperCase().replace(/\s+/g,"-"),productName:t.productName.trim(),productDescription:t.productDescription.trim(),version:t.version.trim(),effectiveDate:t.effectiveDate,status:t.status,totalCost:Math.round(g*100)/100,items:t.items.map(j=>({materialId:j.materialId||`MAT-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,materialCode:j.materialCode.trim().toUpperCase(),materialName:j.materialName.trim(),quantity:parseFloat(j.quantity.toString()),unitOfMeasure:j.unitOfMeasure.trim(),unitCost:parseFloat(j.unitCost.toString()),totalCost:Math.round(j.quantity*j.unitCost*100)/100})),createdBy:"admin",updatedBy:"admin"};console.log("Creating BOM:",b);const x=await Q.createBillOfMaterial(b);x.success?(console.log("BOM created successfully:",x.data),e("/bill-of-materials")):alert("Failed to create BOM: "+x.message)}catch(g){console.error("Error creating BOM:",g),alert("Error creating BOM: "+(g instanceof Error?g.message:"Unknown error"))}},c=(m,g)=>{r(b=>({...b,[m]:g})),a[m]&&s(b=>({...b,[m]:""}))},u=()=>{const m={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitCost:0,totalCost:0};r(g=>({...g,items:[...g.items,m]}))},h=(m,g,b)=>{r(x=>({...x,items:x.items.map((j,N)=>{if(N===m){const S={...j,[g]:b};return(g==="quantity"||g==="unitCost")&&(S.totalCost=S.quantity*S.unitCost),S}return j})}))},d=m=>{r(g=>({...g,items:g.items.filter((b,x)=>x!==m)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Recipe"}),n.jsx("p",{className:"text-gray-600",children:"Create a new bill of materials"})]}),n.jsxs("button",{onClick:()=>e("/bill-of-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Recipes"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:o,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BOM Code *"}),n.jsx("input",{type:"text",className:`input-field ${a.bomCode?"border-red-500":""}`,value:t.bomCode,onChange:m=>c("bomCode",m.target.value),placeholder:"SANDWICH-001"}),a.bomCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.bomCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Version *"}),n.jsx("input",{type:"text",className:`input-field ${a.version?"border-red-500":""}`,value:t.version,onChange:m=>c("version",m.target.value),placeholder:"1.0"}),a.version&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.version})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.productName?"border-red-500":""}`,value:t.productName,onChange:m=>c("productName",m.target.value),placeholder:"Chicken Club Sandwich"}),a.productName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.productName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.productDescription,onChange:m=>c("productDescription",m.target.value),placeholder:"Delicious sandwich with grilled chicken, bacon, lettuce, tomato, and mayo on toasted bread"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Effective Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.effectiveDate?"border-red-500":""}`,value:t.effectiveDate,onChange:m=>c("effectiveDate",m.target.value)}),a.effectiveDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.effectiveDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:m=>c("status",m.target.value),children:i.map(m=>n.jsx("option",{value:m,children:m},m))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recipe Items"}),n.jsxs("button",{type:"button",onClick:u,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:a.items}),n.jsx("div",{className:"space-y-4",children:t.items.map((m,g)=>n.jsxs("div",{className:"grid grid-cols-6 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:m.materialCode,onChange:b=>h(g,"materialCode",b.target.value),placeholder:"CHICKEN-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:m.materialName,onChange:b=>h(g,"materialName",b.target.value),placeholder:"Chicken Breast"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:m.quantity,onChange:b=>h(g,"quantity",parseFloat(b.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:m.unitOfMeasure,onChange:b=>h(g,"unitOfMeasure",b.target.value),placeholder:"grams"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Cost"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:m.unitCost,onChange:b=>h(g,"unitCost",parseFloat(b.target.value)||0),placeholder:"0.00"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>d(g),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-6",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Cost: ",m.totalCost.toFixed(2)," KWD"]})})]},g))}),t.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total BOM Cost: ",t.items.reduce((m,g)=>m+g.totalCost,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/bill-of-materials"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create BOM"]})]})]})})]})},fZ=()=>{const e=ye(),{id:t}=la(),[r,a]=C.useState({bomCode:"",productName:"",productDescription:"",version:"",effectiveDate:"",status:"Draft",items:[]}),[s,i]=C.useState({}),[l,o]=C.useState(!0),c=["Draft","Active","Obsolete"],u={id:"1",bomCode:"BOM-001",productName:"Steel Frame Assembly",productDescription:"Complete steel frame for construction",version:"1.0",effectiveDate:new Date("2024-01-01").toISOString(),status:"Active",totalCost:1250.75,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:10,unitOfMeasure:"KG",unitCost:45.5,totalCost:455},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:5,unitOfMeasure:"SQM",unitCost:125,totalCost:625}],createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-15").toISOString(),createdBy:"admin",updatedBy:"admin"};C.useEffect(()=>{setTimeout(()=>{a({bomCode:u.bomCode,productName:u.productName,productDescription:u.productDescription,version:u.version,effectiveDate:u.effectiveDate.split("T")[0],status:u.status,items:u.items}),o(!1)},500)},[t]);const h=()=>{const j={};return r.bomCode.trim()||(j.bomCode="BOM code is required"),r.productName.trim()||(j.productName="Product name is required"),r.version.trim()||(j.version="Version is required"),r.effectiveDate||(j.effectiveDate="Effective date is required"),r.items.length===0&&(j.items="At least one BOM item is required"),i(j),Object.keys(j).length===0},d=j=>{if(j.preventDefault(),!h())return;const N=r.items.reduce((y,f)=>y+f.totalCost,0),S={...u,bomCode:r.bomCode,productName:r.productName,productDescription:r.productDescription,version:r.version,effectiveDate:new Date(r.effectiveDate).toISOString(),status:r.status,totalCost:N,items:r.items,updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating BOM:",S),e("/bill-of-materials")},m=(j,N)=>{a(S=>({...S,[j]:N})),s[j]&&i(S=>({...S,[j]:""}))},g=()=>{const j={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitCost:0,totalCost:0};a(N=>({...N,items:[...N.items,j]}))},b=(j,N,S)=>{a(y=>({...y,items:y.items.map((f,p)=>{if(p===j){const v={...f,[N]:S};return(N==="quantity"||N==="unitCost")&&(v.totalCost=v.quantity*v.unitCost),v}return f})}))},x=j=>{a(N=>({...N,items:N.items.filter((S,y)=>y!==j)}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading BOM data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Recipe"}),n.jsx("p",{className:"text-gray-600",children:"Update bill of materials information"})]}),n.jsxs("button",{onClick:()=>e("/bill-of-materials"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Recipes"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:d,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BOM Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.bomCode?"border-red-500":""}`,value:r.bomCode,onChange:j=>m("bomCode",j.target.value),placeholder:"SANDWICH-001"}),s.bomCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.bomCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Version *"}),n.jsx("input",{type:"text",className:`input-field ${s.version?"border-red-500":""}`,value:r.version,onChange:j=>m("version",j.target.value),placeholder:"1.0"}),s.version&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.version})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.productName?"border-red-500":""}`,value:r.productName,onChange:j=>m("productName",j.target.value),placeholder:"Chicken Club Sandwich"}),s.productName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.productName})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.productDescription,onChange:j=>m("productDescription",j.target.value),placeholder:"Delicious sandwich with grilled chicken, bacon, lettuce, tomato, and mayo on toasted bread"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Effective Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.effectiveDate?"border-red-500":""}`,value:r.effectiveDate,onChange:j=>m("effectiveDate",j.target.value)}),s.effectiveDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.effectiveDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:j=>m("status",j.target.value),children:c.map(j=>n.jsx("option",{value:j,children:j},j))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recipe Items"}),n.jsxs("button",{type:"button",onClick:g,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((j,N)=>n.jsxs("div",{className:"grid grid-cols-6 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:j.materialCode,onChange:S=>b(N,"materialCode",S.target.value),placeholder:"CHICKEN-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:j.materialName,onChange:S=>b(N,"materialName",S.target.value),placeholder:"Chicken Breast"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:j.quantity,onChange:S=>b(N,"quantity",parseFloat(S.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:j.unitOfMeasure,onChange:S=>b(N,"unitOfMeasure",S.target.value),placeholder:"grams"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Cost"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:j.unitCost,onChange:S=>b(N,"unitCost",parseFloat(S.target.value)||0),placeholder:"0.00"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>x(N),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-6",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Cost: ",j.totalCost.toFixed(2)," KWD"]})})]},N))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total BOM Cost: ",r.items.reduce((j,N)=>j+N.totalCost,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/bill-of-materials"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Update BOM"]})]})]})})]})},hZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState(!0),[i,l]=C.useState(null),[o,c]=C.useState(null),[u,h]=C.useState(!1),[d,m]=C.useState(""),[g,b]=C.useState(""),[x,j]=C.useState(""),[N,S]=C.useState("createdAt"),[y,f]=C.useState("desc");C.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0),l(null);const A=await Q.getJobOrders({limit:1e3,search:d,status:g,priority:x,sortBy:N,sortOrder:y});A.success?(console.log("Loaded Job Orders:",A.data),r(A.data)):l("Failed to load job orders")}catch(A){l(A instanceof Error?A.message:"Failed to load job orders"),console.error("Error loading job orders:",A)}finally{s(!1)}},v=()=>{m(""),b(""),j(""),S("createdAt"),f("desc")},w=A=>{c(A),h(!0)},k=async A=>{if(console.log("Deleting Job Order with ID:",A),!A){alert("Error: Job Order ID is missing");return}if(window.confirm("Are you sure you want to delete this job order?"))try{(await Q.deleteJobOrder(A)).success?await p():alert("Failed to delete job order")}catch(D){alert("Error deleting job order: "+(D instanceof Error?D.message:"Unknown error")),console.error("Error deleting job order:",D)}},P=t.filter(A=>{const D=A.jobOrderNumber.toLowerCase().includes(d.toLowerCase())||A.customerName.toLowerCase().includes(d.toLowerCase())||A.customerId.toLowerCase().includes(d.toLowerCase()),O=g===""||A.status.toLowerCase()===g.toLowerCase(),M=x===""||A.priority.toLowerCase()===x.toLowerCase();return D&&O&&M}).sort((A,D)=>{let O,M;switch(N){case"jobOrderNumber":O=A.jobOrderNumber,M=D.jobOrderNumber;break;case"customerName":O=A.customerName,M=D.customerName;break;case"totalAmount":O=A.totalAmount,M=D.totalAmount;break;case"orderDate":O=new Date(A.orderDate).getTime(),M=new Date(D.orderDate).getTime();break;case"createdAt":O=new Date(A.createdAt).getTime(),M=new Date(D.createdAt).getTime();break;default:O=new Date(A.createdAt).getTime(),M=new Date(D.createdAt).getTime()}return y==="asc"?O>M?1:-1:O<M?1:-1});return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading recipe orders..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:p,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recipe Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage your restaurant's recipe orders and customer requests"})]}),n.jsxs("button",{onClick:()=>e("/job-orders/add"),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Create Recipe Order"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search orders by number, customer name, or email...",className:"input-field pl-10",value:d,onChange:A=>m(A.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:v,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(On,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:g,onChange:A=>b(A.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"In Progress",children:"In Progress"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsxs("select",{className:"input-field",value:x,onChange:A=>j(A.target.value),children:[n.jsx("option",{value:"",children:"All Priority"}),n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Medium",children:"Medium"}),n.jsx("option",{value:"High",children:"High"}),n.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:N,onChange:A=>S(A.target.value),children:[n.jsx("option",{value:"createdAt",children:"Date Created"}),n.jsx("option",{value:"jobOrderNumber",children:"Order Number"}),n.jsx("option",{value:"customerName",children:"Customer Name"}),n.jsx("option",{value:"totalAmount",children:"Total Amount"}),n.jsx("option",{value:"orderDate",children:"Order Date"})]}),n.jsx("button",{onClick:()=>f(y==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${y==="asc"?"Descending":"Ascending"}`,children:y==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",P.length," of ",t.length," recipe orders",(d||g||x)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),P.length!==t.length&&n.jsx("button",{onClick:v,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Recipe Order #"}),n.jsx("th",{className:"table-header",children:"Customer"}),n.jsx("th",{className:"table-header",children:"Order Date"}),n.jsx("th",{className:"table-header",children:"Delivery Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Priority"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(A=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:A.jobOrderNumber}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900",children:A.customerName}),n.jsx("div",{className:"text-gray-500 text-sm",children:A.customerId})]})}),n.jsx("td",{className:"table-cell",children:new Date(A.orderDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:new Date(A.deliveryDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.status==="Completed"?"bg-green-100 text-green-800":A.status==="In Progress"?"bg-blue-100 text-blue-800":A.status==="Pending"?"bg-purple-100 text-purple-800":A.status==="Cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:A.status})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.priority==="Urgent"?"bg-red-100 text-red-800":A.priority==="High"?"bg-orange-100 text-orange-800":A.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:A.priority})}),n.jsxs("td",{className:"table-cell",children:[A.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>w(A),className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(en,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/job-orders/edit/${A.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>k(A.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},A.id))})]})})}),n.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Total Recipe Orders: ",n.jsx("span",{className:"font-semibold text-blue-600",children:t.length})]}),u&&o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recipe Order Details"}),n.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(ke,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number"}),n.jsx("p",{className:"text-gray-900 font-mono",children:o.jobOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),n.jsx("p",{className:"text-gray-900",children:o.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Email"}),n.jsx("p",{className:"text-gray-900",children:o.customerId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Contact"}),n.jsx("p",{className:"text-gray-900",children:o.customerId||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.orderDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.deliveryDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.status==="Completed"?"bg-green-100 text-green-800":o.status==="In Progress"?"bg-blue-100 text-blue-800":o.status==="Pending"?"bg-purple-100 text-purple-800":o.status==="Cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.priority==="Urgent"?"bg-red-100 text-red-800":o.priority==="High"?"bg-orange-100 text-orange-800":o.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:o.priority})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:[o.totalAmount.toFixed(2)," KWD"]})]})]}),o.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("p",{className:"text-gray-900",children:o.notes})]}),o.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),n.jsx("p",{className:"text-gray-900",children:o.notes})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Recipe Items (",o.items.length," items)"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet A"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet B"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet C"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.items.map((A,D)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:A.product}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:A.outletA}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:A.outletB}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:A.outletC}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:A.totalQuantity}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[A.unitPrice.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[A.totalPrice.toFixed(2)," KWD"]})]},D))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),n.jsx("p",{className:"text-gray-900",children:o.createdBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),n.jsx("p",{className:"text-gray-900",children:o.updatedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.updatedAt).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>h(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{h(!1),e(`/job-orders/edit/${o.id}`)},className:"btn-primary",children:"Edit Order"})]})]})})]})},pZ=()=>{const e=ye(),[t,r]=C.useState({jobOrderNumber:"",customerName:"",customerContact:"",customerEmail:"",orderDate:"",deliveryDate:"",priority:"Medium",status:"Draft",totalAmount:0,items:[],notes:"",specialInstructions:""}),[a,s]=C.useState({}),[i,l]=C.useState([]),[o,c]=C.useState(!1),u=["Low","Medium","High","Urgent"],h=["Draft","Approved","In Progress","Completed","Cancelled"];C.useEffect(()=>{d()},[]);const d=async()=>{try{c(!0);const y=await Q.getBillOfMaterials({limit:1e3,status:"Active"});y.success&&l(y.data)}catch(y){console.error("Error loading BOMs:",y)}finally{c(!1)}},m=()=>{const y={};return t.jobOrderNumber.trim()||(y.jobOrderNumber="Job order number is required"),t.customerName.trim()||(y.customerName="Customer name is required"),t.customerEmail.trim()||(y.customerEmail="Customer email is required"),t.orderDate||(y.orderDate="Order date is required"),t.deliveryDate||(y.deliveryDate="Delivery date is required"),t.items.length===0&&(y.items="At least one job order item is required"),s(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!m())try{const f=t.items.reduce((w,k)=>w+k.totalPrice,0),p={jobOrderNumber:t.jobOrderNumber.trim().toUpperCase(),customerId:`CUST-${Date.now()}`,customerName:t.customerName.trim(),customerContact:t.customerContact.trim(),customerEmail:t.customerEmail.trim(),orderDate:t.orderDate,deliveryDate:t.deliveryDate,priority:t.priority,status:t.status,totalAmount:f,items:t.items.map(w=>({bomId:w.bomId,bomCode:w.bomCode,product:w.product.trim(),outletA:parseFloat(w.outletA.toString())||0,outletB:parseFloat(w.outletB.toString())||0,outletC:parseFloat(w.outletC.toString())||0,totalQuantity:w.totalQuantity,unitPrice:parseFloat(w.unitPrice.toString()),totalPrice:w.totalPrice})),notes:t.notes.trim(),specialInstructions:t.specialInstructions.trim(),createdBy:"admin",updatedBy:"admin"};console.log("Creating Job Order:",p);const v=await Q.createJobOrder(p);v.success?(console.log("Job Order created successfully:",v.data),e("/job-orders")):alert("Failed to create Job Order: "+v.message)}catch(f){console.error("Error creating Job Order:",f),alert("Error creating Job Order: "+(f instanceof Error?f.message:"Unknown error"))}},b=(y,f)=>{r(p=>({...p,[y]:f})),a[y]&&s(p=>({...p,[y]:""}))},x=()=>{const y={bomId:"",bomCode:"",product:"",outletA:0,outletB:0,outletC:0,totalQuantity:0,unitPrice:0,totalPrice:0};r(f=>({...f,items:[...f.items,y]}))},j=(y,f)=>{const p=i.find(v=>v.id===f);p&&r(v=>({...v,items:v.items.map((w,k)=>{if(k===y){const P={...w,bomId:p.id,bomCode:p.bomCode,product:p.productName,unitPrice:parseFloat((p.totalCost/p.items.length).toFixed(2))};return P.totalQuantity=P.outletA+P.outletB+P.outletC,P.totalPrice=parseFloat((P.totalQuantity*P.unitPrice).toFixed(2)),P}return w})}))},N=(y,f,p)=>{r(v=>({...v,items:v.items.map((w,k)=>{if(k===y){const P={...w,[f]:p};return(f==="outletA"||f==="outletB"||f==="outletC")&&(P.totalQuantity=P.outletA+P.outletB+P.outletC),(f==="totalQuantity"||f==="unitPrice"||f==="outletA"||f==="outletB"||f==="outletC")&&(P.totalPrice=parseFloat((P.totalQuantity*P.unitPrice).toFixed(2))),P}return w})}))},S=y=>{r(f=>({...f,items:f.items.filter((p,v)=>v!==y)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Job Order"}),n.jsx("p",{className:"text-gray-600",children:"Create a new job order for production"})]}),n.jsxs("button",{onClick:()=>e("/job-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Job Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:g,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.jobOrderNumber?"border-red-500":""}`,value:t.jobOrderNumber,onChange:y=>b("jobOrderNumber",y.target.value),placeholder:"JO-2024-001"}),a.jobOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.jobOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.customerName?"border-red-500":""}`,value:t.customerName,onChange:y=>b("customerName",y.target.value),placeholder:"ABC Manufacturing Ltd."}),a.customerName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Contact"}),n.jsx("input",{type:"text",className:"input-field",value:t.customerContact,onChange:y=>b("customerContact",y.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.customerEmail?"border-red-500":""}`,value:t.customerEmail,onChange:y=>b("customerEmail",y.target.value),placeholder:"john@abcmfg.com"}),a.customerEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.customerEmail})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.orderDate?"border-red-500":""}`,value:t.orderDate,onChange:y=>b("orderDate",y.target.value)}),a.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.deliveryDate?"border-red-500":""}`,value:t.deliveryDate,onChange:y=>b("deliveryDate",y.target.value)}),a.deliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.deliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:t.priority,onChange:y=>b("priority",y.target.value),children:u.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:y=>b("status",y.target.value),children:h.map(y=>n.jsx("option",{value:y,children:y},y))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Order Items"}),n.jsxs("button",{type:"button",onClick:x,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:a.items}),n.jsx("div",{className:"space-y-4",children:t.items.map((y,f)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Recipe (BOM)"}),n.jsxs("select",{className:"input-field text-sm",value:y.bomId||"",onChange:p=>j(f,p.target.value),children:[n.jsx("option",{value:"",children:"Select Recipe"}),o?n.jsx("option",{disabled:!0,children:"Loading recipes..."}):i.map(p=>n.jsxs("option",{value:p.id,children:[p.bomCode," - ",p.productName]},p.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:y.product,readOnly:!0,placeholder:"Auto-filled from BOM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:y.unitPrice,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet A"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:y.outletA,onChange:p=>N(f,"outletA",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet B"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:y.outletB,onChange:p=>N(f,"outletB",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet C"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:y.outletC,onChange:p=>N(f,"outletC",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Total Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm bg-gray-100",value:y.totalQuantity,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>S(f),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-8",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",y.totalPrice.toFixed(2)," KWD"]})})]},f))}),t.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",t.items.reduce((y,f)=>y+f.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:y=>b("notes",y.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.specialInstructions,onChange:y=>b("specialInstructions",y.target.value),placeholder:"Special manufacturing instructions or requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/job-orders"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Job Order"]})]})]})})]})},xZ=()=>{const e=ye(),{id:t}=la(),[r,a]=C.useState({jobOrderNumber:"",customerName:"",customerContact:"",customerEmail:"",orderDate:"",deliveryDate:"",priority:"Medium",status:"Draft",totalAmount:0,items:[],notes:"",specialInstructions:""}),[s,i]=C.useState({}),[l,o]=C.useState(!0),[c,u]=C.useState([]),[h,d]=C.useState(!1),m=["Low","Medium","High","Urgent"],g=["Draft","Approved","In Progress","Completed","Cancelled"];C.useEffect(()=>{(async()=>{try{d(!0);const v=await Q.getBillOfMaterials({limit:1e3,status:"Active"});v.success&&u(v.data)}catch(v){console.error("Error loading BOMs:",v)}finally{d(!1)}if(!t){o(!1);return}try{o(!0);const v=await Q.getJobOrder(t);if(v.success){const w=v.data;a({jobOrderNumber:w.jobOrderNumber,customerName:w.customerName,customerContact:w.customerContact||"",customerEmail:w.customerEmail,orderDate:new Date(w.orderDate).toISOString().split("T")[0],deliveryDate:new Date(w.deliveryDate).toISOString().split("T")[0],priority:w.priority,status:w.status,totalAmount:w.totalAmount,items:w.items.map(k=>({bomId:k.bomId,bomCode:k.bomCode,product:k.product,outletA:k.outletA,outletB:k.outletB,outletC:k.outletC,totalQuantity:k.totalQuantity,unitPrice:k.unitPrice,totalPrice:k.totalPrice})),notes:w.notes||"",specialInstructions:w.specialInstructions||""})}else console.error("Failed to load job order:","API Error"),alert("Failed to load job order: API Error")}catch(v){console.error("Error loading job order:",v),alert("Error loading job order: "+(v instanceof Error?v.message:"Unknown error"))}finally{o(!1)}})()},[t]);const b=()=>{const p={};return r.jobOrderNumber.trim()||(p.jobOrderNumber="Job order number is required"),r.customerName.trim()||(p.customerName="Customer name is required"),r.customerEmail.trim()||(p.customerEmail="Customer email is required"),r.orderDate||(p.orderDate="Order date is required"),r.deliveryDate||(p.deliveryDate="Delivery date is required"),r.items.length===0&&(p.items="At least one job order item is required"),i(p),Object.keys(p).length===0},x=async p=>{if(p.preventDefault(),!!b()){if(!t){alert("Job Order ID is missing");return}try{const v=r.items.reduce((P,A)=>P+A.totalPrice,0),w={jobOrderNumber:r.jobOrderNumber.trim().toUpperCase(),customerId:`CUST-${Date.now()}`,customerName:r.customerName.trim(),customerContact:r.customerContact.trim(),customerEmail:r.customerEmail.trim(),orderDate:r.orderDate,deliveryDate:r.deliveryDate,priority:r.priority,status:r.status,totalAmount:v,items:r.items.map(P=>({bomId:P.bomId,bomCode:P.bomCode,product:P.product.trim(),outletA:parseFloat(P.outletA.toString())||0,outletB:parseFloat(P.outletB.toString())||0,outletC:parseFloat(P.outletC.toString())||0,totalQuantity:P.totalQuantity,unitPrice:parseFloat(P.unitPrice.toString()),totalPrice:P.totalPrice})),notes:r.notes.trim(),specialInstructions:r.specialInstructions.trim(),updatedBy:"admin"};console.log("Updating Job Order:",w);const k=await Q.updateJobOrder(t,w);k.success?(console.log("Job Order updated successfully:",k.data),e("/job-orders")):alert("Failed to update Job Order: "+k.message)}catch(v){console.error("Error updating Job Order:",v),alert("Error updating Job Order: "+(v instanceof Error?v.message:"Unknown error"))}}},j=(p,v)=>{a(w=>({...w,[p]:v})),s[p]&&i(w=>({...w,[p]:""}))},N=()=>{const p={bomId:"",bomCode:"",product:"",outletA:0,outletB:0,outletC:0,totalQuantity:0,unitPrice:0,totalPrice:0};a(v=>({...v,items:[...v.items,p]}))},S=(p,v)=>{const w=c.find(k=>k.id===v);w&&a(k=>({...k,items:k.items.map((P,A)=>{if(A===p){const D={...P,bomId:w.id,bomCode:w.bomCode,product:w.productName,unitPrice:parseFloat((w.totalCost/w.items.length).toFixed(2))};return D.totalQuantity=D.outletA+D.outletB+D.outletC,D.totalPrice=parseFloat((D.totalQuantity*D.unitPrice).toFixed(2)),D}return P})}))},y=(p,v,w)=>{a(k=>({...k,items:k.items.map((P,A)=>{if(A===p){const D={...P,[v]:w};return(v==="outletA"||v==="outletB"||v==="outletC")&&(D.totalQuantity=D.outletA+D.outletB+D.outletC),(v==="totalQuantity"||v==="unitPrice"||v==="outletA"||v==="outletB"||v==="outletC")&&(D.totalPrice=parseFloat((D.totalQuantity*D.unitPrice).toFixed(2))),D}return P})}))},f=p=>{a(v=>({...v,items:v.items.filter((w,k)=>k!==p)}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading job order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Job Order"}),n.jsx("p",{className:"text-gray-600",children:"Update job order information"})]}),n.jsxs("button",{onClick:()=>e("/job-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Job Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:x,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.jobOrderNumber?"border-red-500":""}`,value:r.jobOrderNumber,onChange:p=>j("jobOrderNumber",p.target.value),placeholder:"JO-2024-001"}),s.jobOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.jobOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.customerName?"border-red-500":""}`,value:r.customerName,onChange:p=>j("customerName",p.target.value),placeholder:"ABC Manufacturing Ltd."}),s.customerName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Contact"}),n.jsx("input",{type:"text",className:"input-field",value:r.customerContact,onChange:p=>j("customerContact",p.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.customerEmail?"border-red-500":""}`,value:r.customerEmail,onChange:p=>j("customerEmail",p.target.value),placeholder:"john@abcmfg.com"}),s.customerEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.customerEmail})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.orderDate?"border-red-500":""}`,value:r.orderDate,onChange:p=>j("orderDate",p.target.value)}),s.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.deliveryDate?"border-red-500":""}`,value:r.deliveryDate,onChange:p=>j("deliveryDate",p.target.value)}),s.deliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.deliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:r.priority,onChange:p=>j("priority",p.target.value),children:m.map(p=>n.jsx("option",{value:p,children:p},p))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:p=>j("status",p.target.value),children:g.map(p=>n.jsx("option",{value:p,children:p},p))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Order Items"}),n.jsxs("button",{type:"button",onClick:N,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((p,v)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Recipe (BOM)"}),n.jsxs("select",{className:"input-field text-sm",value:p.bomId||"",onChange:w=>S(v,w.target.value),children:[n.jsx("option",{value:"",children:"Select Recipe"}),h?n.jsx("option",{disabled:!0,children:"Loading recipes..."}):c.map(w=>n.jsxs("option",{value:w.id,children:[w.bomCode," - ",w.productName]},w.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:p.product,readOnly:!0,placeholder:"Auto-filled from BOM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:p.unitPrice,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet A"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:p.outletA,onChange:w=>y(v,"outletA",parseFloat(w.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet B"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:p.outletB,onChange:w=>y(v,"outletB",parseFloat(w.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Outlet C"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:p.outletC,onChange:w=>y(v,"outletC",parseFloat(w.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Total Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm bg-gray-100",value:p.totalQuantity,readOnly:!0,placeholder:"Auto-calculated"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>f(v),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-8",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",p.totalPrice.toFixed(2)," KWD"]})})]},v))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",r.items.reduce((p,v)=>p+v.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:p=>j("notes",p.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.specialInstructions,onChange:p=>j("specialInstructions",p.target.value),placeholder:"Special manufacturing instructions or requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/job-orders"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Update Job Order"]})]})]})})]})},yZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState(!0),[i,l]=C.useState(null),[o,c]=C.useState(""),[u,h]=C.useState(null),[d,m]=C.useState(!1),[g,b]=C.useState(""),[x,j]=C.useState("createdAt"),[N,S]=C.useState("desc"),[y,f]=C.useState(!1),p=C.useRef(null);C.useEffect(()=>{v()},[]),C.useEffect(()=>{a||v()},[o,g,x,N]);const v=async()=>{try{s(!0),l(null);const E=await Q.getPurchaseOrders({limit:1e3,search:o,status:g,sortBy:x,sortOrder:N});if(E.success){console.log("Loaded Purchase Orders:",E.data);const B=E.data.map(T=>({...T,orderDate:new Date(T.orderDate),expectedDeliveryDate:new Date(T.expectedDeliveryDate),createdAt:new Date(T.createdAt),updatedAt:new Date(T.updatedAt)}));r(B)}else l("Failed to load purchase orders")}catch(E){l(E instanceof Error?E.message:"Failed to load purchase orders"),console.error("Error loading purchase orders:",E)}finally{s(!1)}},w=t,k=E=>{switch(E){case"Completed":return"bg-green-100 text-green-800";case"Confirmed":return"bg-blue-100 text-blue-800";case"Sent":return"bg-yellow-100 text-yellow-800";case"Partial":return"bg-orange-100 text-orange-800";case"Draft":return"bg-gray-100 text-gray-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=async E=>{if(window.confirm("Are you sure you want to delete this purchase order?"))try{(await Q.deletePurchaseOrder(E)).success?await v():alert("Failed to delete purchase order")}catch(B){alert("Error deleting purchase order: "+(B instanceof Error?B.message:"Unknown error")),console.error("Error deleting purchase order:",B)}},A=()=>{c(""),b(""),j("createdAt"),S("desc"),v()},D=()=>{if(t.length===0){alert("No purchase orders to export");return}const E=[["PO Number","Supplier Name","Order Date","Expected Delivery Date","Status","Payment Terms","Total Amount","Created At","Updated At","Notes"].join(","),...t.map($=>[$.poNumber,$.supplierName,new Date($.orderDate).toLocaleDateString(),new Date($.expectedDeliveryDate).toLocaleDateString(),$.status,$.terms,$.totalAmount.toFixed(2),new Date($.createdAt).toLocaleDateString(),new Date($.updatedAt).toLocaleDateString(),$.notes||""].map(F=>`"${F}"`).join(","))].join(`
`),B=new Blob([E],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),I=URL.createObjectURL(B);T.setAttribute("href",I),T.setAttribute("download",`purchase-orders-${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)},O=()=>{var E;(E=p.current)==null||E.click()},M=async E=>{var T;const B=(T=E.target.files)==null?void 0:T[0];if(B){if(!B.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{f(!0);const $=(await B.text()).split(`
`).filter(ee=>ee.trim());if($.length<2){alert("CSV file must contain at least a header row and one data row");return}const F=$.slice(1);let _=0,G=0;for(const ee of F)try{const de=ee.split(",").map(we=>we.replace(/"/g,"").trim()),X={poNumber:de[0]||"",supplierName:de[1]||"",orderDate:de[2]||new Date().toISOString().split("T")[0],expectedDeliveryDate:de[3]||new Date().toISOString().split("T")[0],status:de[4]||"Draft",terms:de[5]||"Net 30",totalAmount:parseFloat(de[6])||0,notes:de[9]||""};(await Q.createPurchaseOrder(X)).success?_++:G++}catch{G++}alert(`Import completed!

Successfully imported: ${_} Purchase Orders
Errors: ${G}`),await v()}catch(I){alert("Error importing file: "+(I instanceof Error?I.message:"Unknown error"))}finally{f(!1),p.current&&(p.current.value="")}}},L=()=>{const B=[["PO Number","Supplier Name","Order Date","Expected Delivery Date","Status","Payment Terms","Total Amount","Created At","Updated At","Notes"],["PO-001","Fresh Foods Ltd","2024-01-15","2024-01-20","Draft","Net 30","1500.00","2024-01-15","2024-01-15","Monthly produce order"],["PO-002","Kitchen Supplies Co","2024-01-16","2024-01-22","Confirmed","Net 15","2500.00","2024-01-16","2024-01-16","Equipment purchase"]].map(F=>F.map(_=>`"${_}"`).join(",")).join(`
`),T=new Blob([B],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),$=URL.createObjectURL(T);I.setAttribute("href",$),I.setAttribute("download","purchase-orders-sample-template.csv"),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)},R=()=>n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Details"}),n.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(ke,{className:"h-6 w-6"})})]}),u&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"PO Number"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.poNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Supplier"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Order Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:new Date(u.orderDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expected Delivery"}),n.jsx("p",{className:"text-sm text-gray-900",children:new Date(u.expectedDeliveryDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k(u.status)}`,children:u.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Terms"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.terms})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Manual Creation"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Purchase Items"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Material Code"}),n.jsx("th",{className:"table-header",children:"Material Name"}),n.jsx("th",{className:"table-header",children:"Quantity"}),n.jsx("th",{className:"table-header",children:"Unit Price"}),n.jsx("th",{className:"table-header",children:"Received"}),n.jsx("th",{className:"table-header",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.items.map((E,B)=>n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:E.materialCode}),n.jsx("td",{className:"table-cell",children:E.materialName}),n.jsx("td",{className:"table-cell",children:E.quantity}),n.jsxs("td",{className:"table-cell",children:[E.unitPrice.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:E.receivedQuantity||0}),n.jsxs("td",{className:"table-cell font-medium",children:[E.totalPrice.toFixed(2)," KWD"]})]},B))})]})}),n.jsx("div",{className:"mt-4 text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Amount: ",u.totalAmount.toFixed(2)," KWD"]})})]}),u.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.notes})]})]})]})})});return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading purchase orders..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:v,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchase Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage supplier orders and procurement"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:v,className:"btn-secondary flex items-center",title:"Refresh purchase orders",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/purchase-orders/add"),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Create Purchase Order"]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search purchase orders...",className:"input-field pl-10",value:o,onChange:E=>c(E.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{className:"input-field",value:g,onChange:E=>b(E.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Sent",children:"Sent"}),n.jsx("option",{value:"Confirmed",children:"Confirmed"}),n.jsx("option",{value:"Partial",children:"Partial"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),n.jsxs("button",{onClick:A,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(On,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:D,className:"btn-secondary flex items-center",title:"Export purchase orders to CSV",disabled:t.length===0,children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:O,className:"btn-secondary flex items-center",title:"Import purchase orders from CSV",disabled:y,children:[n.jsx(hi,{className:"h-4 w-4 mr-2"}),y?"Importing...":"Import"]}),n.jsxs("button",{onClick:L,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mt-4",children:[n.jsxs("span",{children:["Showing ",w.length," purchase orders",(o||g)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(o||g)&&n.jsx("button",{onClick:A,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"PO Number"}),n.jsx("th",{className:"table-header",children:"Supplier"}),n.jsx("th",{className:"table-header",children:"Order Date"}),n.jsx("th",{className:"table-header",children:"Expected Delivery"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Source"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(E=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:E.poNumber}),n.jsx("td",{className:"table-cell",children:E.supplierName}),n.jsx("td",{className:"table-cell",children:new Date(E.orderDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:new Date(E.expectedDeliveryDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k(E.status)}`,children:E.status})}),n.jsxs("td",{className:"table-cell font-medium",children:[E.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Manual"})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{h(E),m(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:n.jsx(en,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/purchase-orders/edit/${E.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>P(E.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},E.id))})]})})}),d&&n.jsx(R,{}),n.jsx("input",{type:"file",ref:p,onChange:M,accept:".csv",style:{display:"none"}})]})},gZ=()=>{const e=ye(),[t,r]=C.useState({purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",supplierAddress:"",orderDate:"",expectedDeliveryDate:"",priority:"Medium",status:"Draft",paymentTerms:"Net 30",shippingMethod:"Standard",totalAmount:0,items:[],notes:"",specialInstructions:""}),[a,s]=C.useState({}),i=["Low","Medium","High","Urgent"],l=["Draft","Approved","Sent","Received","Cancelled"],o=["Net 15","Net 30","Net 45","Net 60","COD","Prepaid"],c=["Standard","Express","Overnight","Pickup"],u=()=>{const x={};return t.purchaseOrderNumber.trim()||(x.purchaseOrderNumber="Purchase order number is required"),t.supplierName.trim()||(x.supplierName="Supplier name is required"),t.supplierEmail.trim()||(x.supplierEmail="Supplier email is required"),t.orderDate||(x.orderDate="Order date is required"),t.expectedDeliveryDate||(x.expectedDeliveryDate="Expected delivery date is required"),t.items.length===0&&(x.items="At least one purchase order item is required"),s(x),Object.keys(x).length===0},h=x=>{if(x.preventDefault(),!u())return;const j=t.items.reduce((S,y)=>S+(y.totalPrice||0),0),N={id:Date.now().toString(),poNumber:t.purchaseOrderNumber,supplierId:"SUP-001",supplierName:t.supplierName,orderDate:new Date(t.orderDate).toISOString(),expectedDeliveryDate:new Date(t.expectedDeliveryDate).toISOString(),status:t.status,totalAmount:j,items:t.items.map(S=>({materialId:S.materialId,materialCode:S.materialCode,materialName:S.materialName,quantity:S.quantity,unitPrice:S.unitPrice,totalPrice:S.totalPrice})),terms:t.paymentTerms,notes:t.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"};console.log("Creating Purchase Order:",N),e("/purchase-orders")},d=(x,j)=>{r(N=>({...N,[x]:j})),a[x]&&s(N=>({...N,[x]:""}))},m=()=>{const x={materialId:"",materialCode:"",materialName:"",quantity:0,unitPrice:0,totalPrice:0};r(j=>({...j,items:[...j.items,x]}))},g=(x,j,N)=>{r(S=>({...S,items:S.items.map((y,f)=>{if(f===x){const p={...y,[j]:N};return(j==="quantity"||j==="unitPrice")&&(p.totalPrice=p.quantity*p.unitPrice),p}return y})}))},b=x=>{r(j=>({...j,items:j.items.filter((N,S)=>S!==x)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Purchase Order"}),n.jsx("p",{className:"text-gray-600",children:"Create a new purchase order for materials"})]}),n.jsxs("button",{onClick:()=>e("/purchase-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Purchase Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:h,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Supplier Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.purchaseOrderNumber?"border-red-500":""}`,value:t.purchaseOrderNumber,onChange:x=>d("purchaseOrderNumber",x.target.value),placeholder:"PO-2024-001"}),a.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.supplierName?"border-red-500":""}`,value:t.supplierName,onChange:x=>d("supplierName",x.target.value),placeholder:"ABC Steel Suppliers"}),a.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:t.supplierContact,onChange:x=>d("supplierContact",x.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.supplierEmail?"border-red-500":""}`,value:t.supplierEmail,onChange:x=>d("supplierEmail",x.target.value),placeholder:"john@abcsteel.com"}),a.supplierEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.supplierEmail})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Address"}),n.jsx("textarea",{className:"input-field",rows:2,value:t.supplierAddress,onChange:x=>d("supplierAddress",x.target.value),placeholder:"123 Industrial Street, Manufacturing District, City, State 12345"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.orderDate?"border-red-500":""}`,value:t.orderDate,onChange:x=>d("orderDate",x.target.value)}),a.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.expectedDeliveryDate?"border-red-500":""}`,value:t.expectedDeliveryDate,onChange:x=>d("expectedDeliveryDate",x.target.value)}),a.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.expectedDeliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:t.priority,onChange:x=>d("priority",x.target.value),children:i.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:x=>d("status",x.target.value),children:l.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms"}),n.jsx("select",{className:"input-field",value:t.paymentTerms,onChange:x=>d("paymentTerms",x.target.value),children:o.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Method"}),n.jsx("select",{className:"input-field",value:t.shippingMethod,onChange:x=>d("shippingMethod",x.target.value),children:c.map(x=>n.jsx("option",{value:x,children:x},x))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Items"}),n.jsxs("button",{type:"button",onClick:m,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:a.items}),n.jsx("div",{className:"space-y-4",children:t.items.map((x,j)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:x.materialCode,onChange:N=>g(j,"materialCode",N.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:x.materialName,onChange:N=>g(j,"materialName",N.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:x.quantity,onChange:N=>g(j,"quantity",parseFloat(N.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:x.unitPrice,onChange:N=>g(j,"unitPrice",parseFloat(N.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Delivery Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:"",onChange:N=>g(j,"deliveryDate",N.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:"",onChange:N=>g(j,"specifications",N.target.value),placeholder:"Grade A, 12mm"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>b(j),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",(x.totalPrice||0).toFixed(2)," KWD"]})})]},j))}),t.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",t.items.reduce((x,j)=>x+(j.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:x=>d("notes",x.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.specialInstructions,onChange:x=>d("specialInstructions",x.target.value),placeholder:"Special delivery instructions or quality requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/purchase-orders"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Purchase Order"]})]})]})})]})},vZ=()=>{const e=ye(),{id:t}=la(),[r,a]=C.useState({purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",supplierAddress:"",orderDate:"",expectedDeliveryDate:"",priority:"Medium",status:"Draft",shippingMethod:"Standard",totalAmount:0,items:[],notes:"",specialInstructions:""}),[s,i]=C.useState({}),[l,o]=C.useState(!0),c=["Low","Medium","High","Urgent"],u=["Draft","Approved","Sent","Received","Cancelled"],h=["Net 15","Net 30","Net 45","Net 60","COD","Prepaid"],d=["Standard","Express","Overnight","Pickup"],m={id:"1",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"ABC Steel Suppliers",orderDate:new Date("2024-01-15").toISOString(),expectedDeliveryDate:new Date("2024-02-15").toISOString(),status:"Confirmed",totalAmount:15750,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:100,unitPrice:45.5,totalPrice:4550},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:50,unitPrice:125,totalPrice:6250},{materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",quantity:200,unitPrice:23.75,totalPrice:4750}],notes:"Supplier requires advance payment for expedited delivery.",createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-20").toISOString(),createdBy:"admin",updatedBy:"admin"};C.useEffect(()=>{setTimeout(()=>{a({purchaseOrderNumber:m.poNumber,supplierName:m.supplierName,supplierContact:"John Smith",supplierEmail:"john@abcsteel.com",supplierAddress:"123 Industrial Street",orderDate:m.orderDate.split("T")[0],expectedDeliveryDate:m.expectedDeliveryDate.split("T")[0],priority:"High",status:"Approved",shippingMethod:"Express",totalAmount:m.totalAmount,items:m.items.map(y=>({...y,totalAmount:y.totalPrice})),notes:m.notes,specialInstructions:"Special handling required"}),o(!1)},500)},[t]);const g=()=>{const y={};return r.purchaseOrderNumber.trim()||(y.purchaseOrderNumber="Purchase order number is required"),r.supplierName.trim()||(y.supplierName="Supplier name is required"),r.supplierEmail.trim()||(y.supplierEmail="Supplier email is required"),r.orderDate||(y.orderDate="Order date is required"),r.expectedDeliveryDate||(y.expectedDeliveryDate="Expected delivery date is required"),r.items.length===0&&(y.items="At least one purchase order item is required"),i(y),Object.keys(y).length===0},b=y=>{if(y.preventDefault(),!g())return;const f=r.items.reduce((v,w)=>v+(w.totalPrice||0),0),p={...m,poNumber:r.purchaseOrderNumber,supplierName:r.supplierName,orderDate:new Date(r.orderDate).toISOString(),expectedDeliveryDate:new Date(r.expectedDeliveryDate).toISOString(),status:r.status,totalAmount:f,items:r.items,notes:r.notes,updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating Purchase Order:",p),e("/purchase-orders")},x=(y,f)=>{a(p=>({...p,[y]:f})),s[y]&&i(p=>({...p,[y]:""}))},j=()=>{const y={materialId:"",materialCode:"",materialName:"",quantity:0,unitPrice:0,totalPrice:0,totalAmount:0};a(f=>({...f,items:[...f.items,y]}))},N=(y,f,p)=>{a(v=>({...v,items:v.items.map((w,k)=>{if(k===y){const P={...w,[f]:p};return(f==="quantity"||f==="unitPrice")&&(P.totalPrice=P.quantity*P.unitPrice),P}return w})}))},S=y=>{a(f=>({...f,items:f.items.filter((p,v)=>v!==y)}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading purchase order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Purchase Order"}),n.jsx("p",{className:"text-gray-600",children:"Update purchase order information"})]}),n.jsxs("button",{onClick:()=>e("/purchase-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Purchase Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:b,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Supplier Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.purchaseOrderNumber?"border-red-500":""}`,value:r.purchaseOrderNumber,onChange:y=>x("purchaseOrderNumber",y.target.value),placeholder:"PO-2024-001"}),s.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.supplierName?"border-red-500":""}`,value:r.supplierName,onChange:y=>x("supplierName",y.target.value),placeholder:"ABC Steel Suppliers"}),s.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:r.supplierContact,onChange:y=>x("supplierContact",y.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.supplierEmail?"border-red-500":""}`,value:r.supplierEmail,onChange:y=>x("supplierEmail",y.target.value),placeholder:"john@abcsteel.com"}),s.supplierEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.supplierEmail})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Address"}),n.jsx("textarea",{className:"input-field",rows:2,value:r.supplierAddress,onChange:y=>x("supplierAddress",y.target.value),placeholder:"123 Industrial Street, Manufacturing District, City, State 12345"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.orderDate?"border-red-500":""}`,value:r.orderDate,onChange:y=>x("orderDate",y.target.value)}),s.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.orderDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.expectedDeliveryDate?"border-red-500":""}`,value:r.expectedDeliveryDate,onChange:y=>x("expectedDeliveryDate",y.target.value)}),s.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.expectedDeliveryDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:r.priority,onChange:y=>x("priority",y.target.value),children:c.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:y=>x("status",y.target.value),children:u.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms"}),n.jsx("select",{className:"input-field",value:"",onChange:y=>x("paymentTerms",y.target.value),children:h.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Method"}),n.jsx("select",{className:"input-field",value:r.shippingMethod,onChange:y=>x("shippingMethod",y.target.value),children:d.map(y=>n.jsx("option",{value:y,children:y},y))})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Purchase Order Items"}),n.jsxs("button",{type:"button",onClick:j,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((y,f)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:y.materialCode,onChange:p=>N(f,"materialCode",p.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:y.materialName,onChange:p=>N(f,"materialName",p.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:y.quantity,onChange:p=>N(f,"quantity",parseFloat(p.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:y.unitPrice,onChange:p=>N(f,"unitPrice",parseFloat(p.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Delivery Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:"",onChange:p=>N(f,"deliveryDate",p.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:"",onChange:p=>N(f,"specifications",p.target.value),placeholder:"Grade A, 12mm"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>S(f),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Amount: ",(y.totalPrice||0).toFixed(2)," KWD"]})})]},f))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Order Amount: ",r.items.reduce((y,f)=>y+(f.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:y=>x("notes",y.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.specialInstructions,onChange:y=>x("specialInstructions",y.target.value),placeholder:"Special delivery instructions or quality requirements"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/purchase-orders"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Update Purchase Order"]})]})]})})]})},bZ=()=>{const e=ye(),[t,r]=C.useState([{id:"1",grnNumber:"GRN-2024-001",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"Steel Suppliers Ltd.",receiptDate:new Date("2024-01-20"),status:"Approved",totalAmount:4550,items:[{poItemId:"PO-ITEM-001",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",orderedQuantity:100,receivedQuantity:100,unitPrice:45.5,totalPrice:4550,qualityStatus:"Accepted",remarks:"Good quality"}],warehouseId:"WH-001",warehouseName:"Main Warehouse",receivedBy:"John Doe",notes:"All items received in good condition",createdAt:new Date("2024-01-20").toISOString(),updatedAt:new Date("2024-01-20").toISOString(),createdBy:"admin",updatedBy:"admin"}]),[a,s]=C.useState(""),[i,l]=C.useState(null),[o,c]=C.useState(!1),[u,h]=C.useState(!1),d=C.useRef(null),m=t.filter(y=>y.grnNumber.toLowerCase().includes(a.toLowerCase())||y.supplierName.toLowerCase().includes(a.toLowerCase())),g=y=>{switch(y){case"Approved":return"bg-green-100 text-green-800";case"Draft":return"bg-gray-100 text-gray-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=y=>{window.confirm("Are you sure you want to delete this GRN?")&&r(t.filter(f=>f.id!==y))},x=()=>{if(m.length===0){alert("No GRNs to export");return}const y=[["GRN Number","PO Number","Supplier Name","Receipt Date","Status","Total Amount","Created By","Updated By"].join(","),...m.map(w=>[w.grnNumber,w.poNumber,w.supplierName,w.receiptDate.toLocaleDateString(),w.status,w.totalAmount.toFixed(2),w.createdBy,w.updatedBy].map(k=>`"${k}"`).join(","))].join(`
`),f=new Blob([y],{type:"text/csv;charset=utf-8;"}),p=document.createElement("a"),v=URL.createObjectURL(f);p.setAttribute("href",v),p.setAttribute("download",`grn-receipts-${new Date().toISOString().split("T")[0]}.csv`),p.style.visibility="hidden",document.body.appendChild(p),p.click(),document.body.removeChild(p)},j=()=>{var y;(y=d.current)==null||y.click()},N=async y=>{var p;const f=(p=y.target.files)==null?void 0:p[0];if(f){if(!f.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{h(!0);const w=(await f.text()).split(`
`).filter(D=>D.trim());if(w.length<2){alert("CSV file must contain at least a header row and one data row");return}const k=w.slice(1);let P=0,A=0;for(const D of k)try{const O=D.split(",").map(L=>L.replace(/"/g,"").trim()),M={id:`grn-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,grnNumber:O[0]||"",poNumber:O[1]||"",supplierId:"SUP-001",supplierName:O[2]||"",warehouseId:"WH-001",warehouseName:"Main Warehouse",receiptDate:new Date(O[3]||new Date().toISOString().split("T")[0]),status:O[4]||"Draft",totalAmount:parseFloat(O[5])||0,items:[],receivedBy:O[6]||"admin",createdBy:O[6]||"admin",updatedBy:O[7]||"admin",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r(L=>[...L,M]),P++}catch{A++}alert(`Import completed!

Successfully imported: ${P} GRNs
Errors: ${A}`)}catch(v){alert("Error importing file: "+(v instanceof Error?v.message:"Unknown error"))}finally{h(!1),d.current&&(d.current.value="")}}},S=()=>{const f=[["GRN Number","PO Number","Supplier Name","Receipt Date","Status","Total Amount","Created By","Updated By"],["GRN-2024-003","PO-2024-003","Fresh Foods Ltd","2024-01-22","Approved","1200.00","admin","admin"],["GRN-2024-004","PO-2024-004","Kitchen Supplies Co","2024-01-23","Draft","850.00","admin","admin"]].map(k=>k.map(P=>`"${P}"`).join(",")).join(`
`),p=new Blob([f],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),w=URL.createObjectURL(p);v.setAttribute("href",w),v.setAttribute("download","grn-sample-template.csv"),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Good Receipt Notes"}),n.jsx("p",{className:"text-gray-600",children:"Manage incoming material receipts"})]}),n.jsxs("button",{onClick:()=>e("/good-receipt-notes/add"),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Create GRN"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search GRNs...",className:"input-field pl-10",value:a,onChange:y=>s(y.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(On,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs("button",{onClick:x,className:"btn-secondary flex items-center",title:"Export GRNs to CSV",disabled:m.length===0,children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs("button",{onClick:j,className:"btn-secondary flex items-center",title:"Import GRNs from CSV",disabled:u,children:[n.jsx(hi,{className:"h-4 w-4 mr-2"}),u?"Importing...":"Import"]}),n.jsxs("button",{onClick:S,className:"btn-secondary flex items-center",title:"Download sample CSV template",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Sample CSV"]})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"GRN Number"}),n.jsx("th",{className:"table-header",children:"PO Number"}),n.jsx("th",{className:"table-header",children:"Supplier"}),n.jsx("th",{className:"table-header",children:"Receipt Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Warehouse"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(y=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:y.grnNumber}),n.jsx("td",{className:"table-cell",children:y.poNumber}),n.jsx("td",{className:"table-cell",children:y.supplierName}),n.jsx("td",{className:"table-cell",children:y.receiptDate.toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(y.status)}`,children:y.status})}),n.jsx("td",{className:"table-cell",children:y.warehouseName}),n.jsxs("td",{className:"table-cell font-medium",children:[y.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{l(y),c(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:n.jsx(en,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/good-receipt-notes/edit/${y.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>b(y.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},y.id))})]})})}),n.jsx("input",{type:"file",ref:d,onChange:N,accept:".csv",style:{display:"none"}})]})},jZ=()=>{const e=ye(),[t,r]=C.useState({grnNumber:"",purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",receiptDate:"",receivedBy:"",inspectedBy:"",status:"Draft",warehouseLocation:"",totalAmount:0,items:[],notes:"",qualityRemarks:"",deliveryChallanNumber:"",transporterName:"",vehicleNumber:""}),[a,s]=C.useState({}),i=["Draft","Approved","Rejected"],l=()=>{const m={};return t.grnNumber.trim()||(m.grnNumber="GRN number is required"),t.purchaseOrderNumber.trim()||(m.purchaseOrderNumber="Purchase order number is required"),t.supplierName.trim()||(m.supplierName="Supplier name is required"),t.receiptDate||(m.receiptDate="Receipt date is required"),t.receivedBy.trim()||(m.receivedBy="Received by is required"),t.items.length===0&&(m.items="At least one GRN item is required"),s(m),Object.keys(m).length===0},o=m=>{if(m.preventDefault(),!l())return;const g=t.items.reduce((x,j)=>x+(j.totalPrice||0),0),b={id:Date.now().toString(),grnNumber:t.grnNumber,poNumber:t.purchaseOrderNumber,supplierId:"SUP-001",supplierName:t.supplierName,receiptDate:new Date(t.receiptDate),status:t.status,totalAmount:g,items:t.items.map(x=>({poItemId:x.poItemId,materialId:x.materialId,materialCode:x.materialCode,materialName:x.materialName,orderedQuantity:x.orderedQuantity,receivedQuantity:x.receivedQuantity,unitPrice:x.unitPrice,totalPrice:x.totalPrice,qualityStatus:x.qualityStatus,remarks:x.remarks})),warehouseId:"WH-001",warehouseName:t.warehouseLocation,receivedBy:t.receivedBy,notes:t.notes,createdAt:new Date,updatedAt:new Date,createdBy:"admin",updatedBy:"admin"};console.log("Creating GRN:",b),e("/good-receipt-notes")},c=(m,g)=>{r(b=>({...b,[m]:g})),a[m]&&s(b=>({...b,[m]:""}))},u=()=>{const m={poItemId:"",materialId:"",materialCode:"",materialName:"",orderedQuantity:0,receivedQuantity:0,unitPrice:0,totalPrice:0,qualityStatus:"Accepted",remarks:"",acceptedQuantity:0,rejectedQuantity:0,totalAmount:0,specifications:"",batchNumber:"",expiryDate:""};r(g=>({...g,items:[...g.items,m]}))},h=(m,g,b)=>{r(x=>({...x,items:x.items.map((j,N)=>{if(N===m){const S={...j,[g]:b};return(g==="receivedQuantity"||g==="unitPrice")&&(S.totalPrice=S.receivedQuantity*S.unitPrice),S}return j})}))},d=m=>{r(g=>({...g,items:g.items.filter((b,x)=>x!==m)}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New GRN"}),n.jsx("p",{className:"text-gray-600",children:"Create a new good receipt note"})]}),n.jsxs("button",{onClick:()=>e("/good-receipt-notes"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to GRNs"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:o,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GRN Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.grnNumber?"border-red-500":""}`,value:t.grnNumber,onChange:m=>c("grnNumber",m.target.value),placeholder:"GRN-2024-001"}),a.grnNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.grnNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${a.purchaseOrderNumber?"border-red-500":""}`,value:t.purchaseOrderNumber,onChange:m=>c("purchaseOrderNumber",m.target.value),placeholder:"PO-2024-001"}),a.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.supplierName?"border-red-500":""}`,value:t.supplierName,onChange:m=>c("supplierName",m.target.value),placeholder:"ABC Steel Suppliers"}),a.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:t.supplierContact,onChange:m=>c("supplierContact",m.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email"}),n.jsx("input",{type:"email",className:"input-field",value:t.supplierEmail,onChange:m=>c("supplierEmail",m.target.value),placeholder:"john@abcsteel.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Date *"}),n.jsx("input",{type:"date",className:`input-field ${a.receiptDate?"border-red-500":""}`,value:t.receiptDate,onChange:m=>c("receiptDate",m.target.value)}),a.receiptDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.receiptDate})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Receipt Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By *"}),n.jsx("input",{type:"text",className:`input-field ${a.receivedBy?"border-red-500":""}`,value:t.receivedBy,onChange:m=>c("receivedBy",m.target.value),placeholder:"Warehouse Manager"}),a.receivedBy&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.receivedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inspected By"}),n.jsx("input",{type:"text",className:"input-field",value:t.inspectedBy,onChange:m=>c("inspectedBy",m.target.value),placeholder:"Quality Inspector"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:m=>c("status",m.target.value),children:i.map(m=>n.jsx("option",{value:m,children:m},m))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Location"}),n.jsx("input",{type:"text",className:"input-field",value:t.warehouseLocation,onChange:m=>c("warehouseLocation",m.target.value),placeholder:"Main Warehouse - Zone A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Challan Number"}),n.jsx("input",{type:"text",className:"input-field",value:t.deliveryChallanNumber,onChange:m=>c("deliveryChallanNumber",m.target.value),placeholder:"DC-2024-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transporter Name"}),n.jsx("input",{type:"text",className:"input-field",value:t.transporterName,onChange:m=>c("transporterName",m.target.value),placeholder:"ABC Logistics"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number"}),n.jsx("input",{type:"text",className:"input-field",value:t.vehicleNumber,onChange:m=>c("vehicleNumber",m.target.value),placeholder:"MH-12-AB-1234"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"GRN Items"}),n.jsxs("button",{type:"button",onClick:u,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),a.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:a.items}),n.jsx("div",{className:"space-y-4",children:t.items.map((m,g)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:m.materialCode,onChange:b=>h(g,"materialCode",b.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:m.materialName,onChange:b=>h(g,"materialName",b.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ordered Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:m.orderedQuantity,onChange:b=>h(g,"orderedQuantity",parseFloat(b.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Received Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:m.receivedQuantity,onChange:b=>h(g,"receivedQuantity",parseFloat(b.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Accepted Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:m.receivedQuantity,onChange:b=>h(g,"receivedQuantity",parseFloat(b.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:m.unitPrice,onChange:b=>h(g,"unitPrice",parseFloat(b.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Batch Number"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:m.batchNumber||"",onChange:b=>h(g,"batchNumber",b.target.value),placeholder:"B001"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>d(g),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"col-span-8",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:m.specifications||"",onChange:b=>h(g,"specifications",b.target.value),placeholder:"Grade A, 12mm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Expiry Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:m.expiryDate||"",onChange:b=>h(g,"expiryDate",b.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quality Status"}),n.jsxs("select",{className:"input-field text-sm",value:m.qualityStatus,onChange:b=>h(g,"qualityStatus",b.target.value),children:[n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Total Amount: ",(m.totalPrice||0).toFixed(2)," KWD"]})]})]},g))}),t.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total GRN Amount: ",t.items.reduce((m,g)=>m+(g.totalPrice||0),0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:m=>c("notes",m.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Remarks"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.qualityRemarks,onChange:m=>c("qualityRemarks",m.target.value),placeholder:"Quality inspection remarks and observations"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/good-receipt-notes"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create GRN"]})]})]})})]})},NZ=()=>{const e=ye(),{id:t}=la(),[r,a]=C.useState({grnNumber:"",purchaseOrderNumber:"",supplierName:"",supplierContact:"",supplierEmail:"",receiptDate:"",receivedBy:"",inspectedBy:"",status:"Draft",warehouseLocation:"",totalAmount:0,items:[],notes:"",qualityRemarks:"",deliveryChallanNumber:"",transporterName:"",vehicleNumber:""}),[s,i]=C.useState({}),[l,o]=C.useState(!0),c=["Draft","Approved","Rejected"],u={id:"1",grnNumber:"GRN-2024-001",poNumber:"PO-2024-001",supplierId:"SUP-001",supplierName:"ABC Steel Suppliers",receiptDate:new Date("2024-01-20"),status:"Approved",totalAmount:15750,items:[{poItemId:"POI-001",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",orderedQuantity:100,receivedQuantity:100,unitPrice:45.5,totalPrice:4550,qualityStatus:"Accepted",remarks:"Good quality"},{poItemId:"POI-002",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",orderedQuantity:50,receivedQuantity:50,unitPrice:125,totalPrice:6250,qualityStatus:"Accepted",remarks:"Excellent quality"},{poItemId:"POI-003",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",orderedQuantity:200,receivedQuantity:200,unitPrice:23.75,totalPrice:4750,qualityStatus:"Accepted",remarks:"Good quality"}],warehouseId:"WH-001",warehouseName:"Main Warehouse",receivedBy:"Warehouse Manager",notes:"All materials received in good condition.",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-21"),createdBy:"admin",updatedBy:"admin"};C.useEffect(()=>{setTimeout(()=>{a({grnNumber:u.grnNumber,purchaseOrderNumber:u.poNumber,supplierName:u.supplierName,supplierContact:"John Smith",supplierEmail:"john@abcsteel.com",receiptDate:u.receiptDate.toISOString().split("T")[0],receivedBy:u.receivedBy,inspectedBy:"Quality Inspector",status:u.status,warehouseLocation:u.warehouseName,totalAmount:u.totalAmount,items:u.items.map(j=>({...j,acceptedQuantity:j.receivedQuantity,rejectedQuantity:0,totalAmount:j.totalPrice,specifications:"Standard specifications",batchNumber:"BATCH-001",expiryDate:"2025-12-31"})),notes:u.notes,qualityRemarks:"Quality inspection completed",deliveryChallanNumber:"DC-2024-001",transporterName:"ABC Logistics",vehicleNumber:"MH-12-AB-1234"}),o(!1)},500)},[t]);const h=()=>{const j={};return r.grnNumber.trim()||(j.grnNumber="GRN number is required"),r.purchaseOrderNumber.trim()||(j.purchaseOrderNumber="Purchase order number is required"),r.supplierName.trim()||(j.supplierName="Supplier name is required"),r.receiptDate||(j.receiptDate="Receipt date is required"),r.receivedBy.trim()||(j.receivedBy="Received by is required"),r.items.length===0&&(j.items="At least one GRN item is required"),i(j),Object.keys(j).length===0},d=j=>{if(j.preventDefault(),!h())return;const N=r.items.reduce((y,f)=>y+f.totalAmount,0),S={...u,grnNumber:r.grnNumber,poNumber:r.purchaseOrderNumber,supplierName:r.supplierName,receiptDate:new Date(r.receiptDate),receivedBy:r.receivedBy,status:r.status,warehouseName:r.warehouseLocation,totalAmount:N,items:r.items.map(y=>({poItemId:y.poItemId,materialId:y.materialId,materialCode:y.materialCode,materialName:y.materialName,orderedQuantity:y.orderedQuantity,receivedQuantity:y.receivedQuantity,unitPrice:y.unitPrice,totalPrice:y.totalAmount,qualityStatus:y.qualityStatus,remarks:y.remarks})),notes:r.notes,updatedAt:new Date,updatedBy:"admin"};console.log("Updating GRN:",S),e("/good-receipt-notes")},m=(j,N)=>{a(S=>({...S,[j]:N})),s[j]&&i(S=>({...S,[j]:""}))},g=()=>{const j={poItemId:"",materialId:"",materialCode:"",materialName:"",orderedQuantity:0,receivedQuantity:0,unitPrice:0,totalPrice:0,qualityStatus:"Accepted",remarks:"",acceptedQuantity:0,rejectedQuantity:0,totalAmount:0,specifications:"",batchNumber:"",expiryDate:""};a(N=>({...N,items:[...N.items,j]}))},b=(j,N,S)=>{a(y=>({...y,items:y.items.map((f,p)=>{if(p===j){const v={...f,[N]:S};return(N==="acceptedQuantity"||N==="unitPrice")&&(v.totalAmount=v.acceptedQuantity*v.unitPrice),v}return f})}))},x=j=>{a(N=>({...N,items:N.items.filter((S,y)=>y!==j)}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading GRN data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit GRN"}),n.jsx("p",{className:"text-gray-600",children:"Update good receipt note information"})]}),n.jsxs("button",{onClick:()=>e("/good-receipt-notes"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to GRNs"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:d,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GRN Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.grnNumber?"border-red-500":""}`,value:r.grnNumber,onChange:j=>m("grnNumber",j.target.value),placeholder:"GRN-2024-001"}),s.grnNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.grnNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.purchaseOrderNumber?"border-red-500":""}`,value:r.purchaseOrderNumber,onChange:j=>m("purchaseOrderNumber",j.target.value),placeholder:"PO-2024-001"}),s.purchaseOrderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.purchaseOrderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.supplierName?"border-red-500":""}`,value:r.supplierName,onChange:j=>m("supplierName",j.target.value),placeholder:"ABC Steel Suppliers"}),s.supplierName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.supplierName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Contact"}),n.jsx("input",{type:"text",className:"input-field",value:r.supplierContact,onChange:j=>m("supplierContact",j.target.value),placeholder:"John Smith"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Email"}),n.jsx("input",{type:"email",className:"input-field",value:r.supplierEmail,onChange:j=>m("supplierEmail",j.target.value),placeholder:"john@abcsteel.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.receiptDate?"border-red-500":""}`,value:r.receiptDate,onChange:j=>m("receiptDate",j.target.value)}),s.receiptDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.receiptDate})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Receipt Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By *"}),n.jsx("input",{type:"text",className:`input-field ${s.receivedBy?"border-red-500":""}`,value:r.receivedBy,onChange:j=>m("receivedBy",j.target.value),placeholder:"Warehouse Manager"}),s.receivedBy&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.receivedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inspected By"}),n.jsx("input",{type:"text",className:"input-field",value:r.inspectedBy,onChange:j=>m("inspectedBy",j.target.value),placeholder:"Quality Inspector"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:j=>m("status",j.target.value),children:c.map(j=>n.jsx("option",{value:j,children:j},j))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Location"}),n.jsx("input",{type:"text",className:"input-field",value:r.warehouseLocation,onChange:j=>m("warehouseLocation",j.target.value),placeholder:"Main Warehouse - Zone A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Challan Number"}),n.jsx("input",{type:"text",className:"input-field",value:r.deliveryChallanNumber,onChange:j=>m("deliveryChallanNumber",j.target.value),placeholder:"DC-2024-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transporter Name"}),n.jsx("input",{type:"text",className:"input-field",value:r.transporterName,onChange:j=>m("transporterName",j.target.value),placeholder:"ABC Logistics"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number"}),n.jsx("input",{type:"text",className:"input-field",value:r.vehicleNumber,onChange:j=>m("vehicleNumber",j.target.value),placeholder:"MH-12-AB-1234"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"GRN Items"}),n.jsxs("button",{type:"button",onClick:g,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((j,N)=>n.jsxs("div",{className:"grid grid-cols-8 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:j.materialCode,onChange:S=>b(N,"materialCode",S.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:j.materialName,onChange:S=>b(N,"materialName",S.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ordered Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:j.orderedQuantity,onChange:S=>b(N,"orderedQuantity",parseFloat(S.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Received Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:j.receivedQuantity,onChange:S=>b(N,"receivedQuantity",parseFloat(S.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Accepted Qty"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:j.acceptedQuantity,onChange:S=>b(N,"acceptedQuantity",parseFloat(S.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:j.unitPrice,onChange:S=>b(N,"unitPrice",parseFloat(S.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Batch Number"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:j.batchNumber,onChange:S=>b(N,"batchNumber",S.target.value),placeholder:"B001"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>x(N),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"col-span-8",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specifications"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:j.specifications,onChange:S=>b(N,"specifications",S.target.value),placeholder:"Grade A, 12mm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Expiry Date"}),n.jsx("input",{type:"date",className:"input-field text-sm",value:j.expiryDate,onChange:S=>b(N,"expiryDate",S.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quality Status"}),n.jsxs("select",{className:"input-field text-sm",value:j.qualityStatus,onChange:S=>b(N,"qualityStatus",S.target.value),children:[n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Total Amount: ",j.totalAmount.toFixed(2)," KWD"]})]})]},N))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total GRN Amount: ",r.items.reduce((j,N)=>j+N.totalAmount,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:j=>m("notes",j.target.value),placeholder:"Additional notes or comments"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Remarks"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.qualityRemarks,onChange:j=>m("qualityRemarks",j.target.value),placeholder:"Quality inspection remarks and observations"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/good-receipt-notes"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Update GRN"]})]})]})})]})},wZ=()=>{const e=ye(),[t,r]=C.useState([{id:"1",warehouseCode:"WH-001",warehouseName:"Main Warehouse",description:"Primary storage facility",address:{street:"123 Industrial Ave",city:"Industrial City",state:"State",zipCode:"12345",country:"Country"},capacity:1e4,currentCapacity:7500,managerId:"MGR-001",managerName:"John Smith",isActive:!0,storageTypes:["Dry Storage","Cold Storage"],createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-15").toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"2",warehouseCode:"WH-002",warehouseName:"Secondary Warehouse",description:"Secondary storage facility",address:{street:"456 Storage St",city:"Storage City",state:"State",zipCode:"67890",country:"Country"},capacity:5e3,currentCapacity:2e3,managerId:"MGR-002",managerName:"Jane Doe",isActive:!0,storageTypes:["Dry Storage"],createdAt:new Date("2024-01-16").toISOString(),updatedAt:new Date("2024-01-16").toISOString(),createdBy:"admin",updatedBy:"admin"}]),[a,s]=C.useState(""),i=t.filter(u=>u.warehouseName.toLowerCase().includes(a.toLowerCase())||u.warehouseCode.toLowerCase().includes(a.toLowerCase())),l=(u,h)=>u/h*100,o=u=>u>=90?"bg-red-500":u>=75?"bg-yellow-500":"bg-green-500",c=u=>{window.confirm("Are you sure you want to delete this warehouse?")&&r(t.filter(h=>h.id!==u))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Warehouse Master"}),n.jsx("p",{className:"text-gray-600",children:"Manage warehouse locations and capacity"})]}),n.jsxs("button",{onClick:()=>e("/warehouse-master/add"),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Warehouse"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search warehouses...",className:"input-field pl-10",value:a,onChange:u=>s(u.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(On,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(u=>{const h=l(u.currentCapacity,u.capacity);return n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:u.warehouseName}),n.jsx("p",{className:"text-sm text-gray-600",children:u.warehouseCode})]}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(hu,{className:"h-4 w-4 mr-2"}),n.jsxs("span",{children:[u.address.city,", ",u.address.state]})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(To,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:u.managerName})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[n.jsx("span",{children:"Capacity Usage"}),n.jsxs("span",{children:[h.toFixed(1),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${o(h)}`,style:{width:`${h}%`}})}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.currentCapacity.toLocaleString()," / ",u.capacity.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Storage Types:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:u.storageTypes.map((d,m)=>n.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:d},m))})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-4 pt-4 border-t",children:[n.jsx("button",{onClick:()=>e(`/warehouse-master/edit/${u.id}`),className:"text-green-600 hover:text-green-900",title:"Edit",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>c(u.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})]},u.id)})})]})},SZ=()=>{const e=ye(),[t,r]=C.useState({warehouseCode:"",warehouseName:"",warehouseType:"Main",location:"",address:"",city:"",state:"",country:"",postalCode:"",contactPerson:"",contactPhone:"",contactEmail:"",capacity:"",capacityUnit:"SQM",status:"Active",operatingHours:"",timezone:"",notes:"",specialRequirements:""}),[a,s]=C.useState({}),i=["Main","Sub","Transit","Cold Storage","Hazardous"],l=["Active","Inactive","Maintenance","Closed"],o=["SQM","CBM","KG","TON"],c=()=>{const d={};return t.warehouseCode.trim()||(d.warehouseCode="Warehouse code is required"),t.warehouseName.trim()||(d.warehouseName="Warehouse name is required"),t.location.trim()||(d.location="Location is required"),t.address.trim()||(d.address="Address is required"),t.city.trim()||(d.city="City is required"),t.state.trim()||(d.state="State is required"),t.country.trim()||(d.country="Country is required"),t.contactPerson.trim()||(d.contactPerson="Contact person is required"),t.contactPhone.trim()||(d.contactPhone="Contact phone is required"),t.contactEmail.trim()||(d.contactEmail="Contact email is required"),s(d),Object.keys(d).length===0},u=d=>{if(d.preventDefault(),!c())return;const m={id:Date.now().toString(),warehouseCode:t.warehouseCode,warehouseName:t.warehouseName,description:t.notes,address:{street:t.address,city:t.city,state:t.state,country:t.country,zipCode:t.postalCode},capacity:parseFloat(t.capacity)||0,currentCapacity:0,managerId:"MGR-001",managerName:t.contactPerson,isActive:t.status==="Active",storageTypes:["Dry Storage"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"};console.log("Creating Warehouse:",m),e("/warehouse-master")},h=(d,m)=>{r(g=>({...g,[d]:m})),a[d]&&s(g=>({...g,[d]:""}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Warehouse"}),n.jsx("p",{className:"text-gray-600",children:"Create a new warehouse location"})]}),n.jsxs("button",{onClick:()=>e("/warehouse-master"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Warehouses"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:u,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Code *"}),n.jsx("input",{type:"text",className:`input-field ${a.warehouseCode?"border-red-500":""}`,value:t.warehouseCode,onChange:d=>h("warehouseCode",d.target.value),placeholder:"WH-001"}),a.warehouseCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.warehouseCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.warehouseName?"border-red-500":""}`,value:t.warehouseName,onChange:d=>h("warehouseName",d.target.value),placeholder:"Main Warehouse"}),a.warehouseName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.warehouseName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Type"}),n.jsx("select",{className:"input-field",value:t.warehouseType,onChange:d=>h("warehouseType",d.target.value),children:i.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),n.jsx("input",{type:"text",className:`input-field ${a.location?"border-red-500":""}`,value:t.location,onChange:d=>h("location",d.target.value),placeholder:"Industrial Zone A"}),a.location&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.location})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:d=>h("status",d.target.value),children:l.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",className:"input-field flex-1",value:t.capacity,onChange:d=>h("capacity",d.target.value),placeholder:"1000"}),n.jsx("select",{className:"input-field w-24",value:t.capacityUnit,onChange:d=>h("capacityUnit",d.target.value),children:o.map(d=>n.jsx("option",{value:d,children:d},d))})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),n.jsx("textarea",{className:`input-field ${a.address?"border-red-500":""}`,rows:3,value:t.address,onChange:d=>h("address",d.target.value),placeholder:"123 Industrial Street, Manufacturing District"}),a.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.address})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${a.city?"border-red-500":""}`,value:t.city,onChange:d=>h("city",d.target.value),placeholder:"Mumbai"}),a.city&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsx("input",{type:"text",className:`input-field ${a.state?"border-red-500":""}`,value:t.state,onChange:d=>h("state",d.target.value),placeholder:"Maharashtra"}),a.state&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.state})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),n.jsx("input",{type:"text",className:`input-field ${a.country?"border-red-500":""}`,value:t.country,onChange:d=>h("country",d.target.value),placeholder:"India"}),a.country&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.country})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),n.jsx("input",{type:"text",className:"input-field",value:t.postalCode,onChange:d=>h("postalCode",d.target.value),placeholder:"400001"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person *"}),n.jsx("input",{type:"text",className:`input-field ${a.contactPerson?"border-red-500":""}`,value:t.contactPerson,onChange:d=>h("contactPerson",d.target.value),placeholder:"John Smith"}),a.contactPerson&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.contactPerson})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${a.contactPhone?"border-red-500":""}`,value:t.contactPhone,onChange:d=>h("contactPhone",d.target.value),placeholder:"+91 98765 43210"}),a.contactPhone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.contactPhone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.contactEmail?"border-red-500":""}`,value:t.contactEmail,onChange:d=>h("contactEmail",d.target.value),placeholder:"john@company.com"}),a.contactEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.contactEmail})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),n.jsx("input",{type:"text",className:"input-field",value:t.operatingHours,onChange:d=>h("operatingHours",d.target.value),placeholder:"8:00 AM - 6:00 PM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:t.timezone,onChange:d=>h("timezone",d.target.value),placeholder:"IST (UTC+5:30)"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:d=>h("notes",d.target.value),placeholder:"Additional notes or comments about the warehouse"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.specialRequirements,onChange:d=>h("specialRequirements",d.target.value),placeholder:"Special storage requirements, security measures, or operational notes"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/warehouse-master"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Warehouse"]})]})]})})]})},CZ=()=>{const e=ye(),{id:t}=la(),[r,a]=C.useState({warehouseCode:"",warehouseName:"",warehouseType:"Main",location:"",address:"",city:"",state:"",country:"",postalCode:"",contactPerson:"",contactPhone:"",contactEmail:"",capacity:"",capacityUnit:"SQM",status:"Active",operatingHours:"",timezone:"",notes:"",specialRequirements:""}),[s,i]=C.useState({}),[l,o]=C.useState(!0),c=["Main","Sub","Transit","Cold Storage","Hazardous"],u=["Active","Inactive","Maintenance","Closed"],h=["SQM","CBM","KG","TON"],d={id:"1",warehouseCode:"WH-001",warehouseName:"Main Warehouse",description:"Primary warehouse for finished goods storage",address:{street:"123 Industrial Street",city:"Mumbai",state:"Maharashtra",zipCode:"400001",country:"India"},capacity:5e3,currentCapacity:3e3,managerId:"MGR-001",managerName:"John Smith",isActive:!0,storageTypes:["Dry Storage","Cold Storage"],createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-20").toISOString(),createdBy:"admin",updatedBy:"admin"};C.useEffect(()=>{setTimeout(()=>{a({warehouseCode:d.warehouseCode,warehouseName:d.warehouseName,warehouseType:"Main",location:"Industrial Zone A",address:d.address.street,city:d.address.city,state:d.address.state,country:d.address.country,postalCode:d.address.zipCode,contactPerson:d.managerName,contactPhone:"+91 98765 43210",contactEmail:"john@company.com",capacity:d.capacity.toString(),capacityUnit:"SQM",status:"Active",operatingHours:"8:00 AM - 6:00 PM",timezone:"IST (UTC+5:30)",notes:d.description,specialRequirements:"Temperature controlled environment required"}),o(!1)},500)},[t]);const m=()=>{const x={};return r.warehouseCode.trim()||(x.warehouseCode="Warehouse code is required"),r.warehouseName.trim()||(x.warehouseName="Warehouse name is required"),r.location.trim()||(x.location="Location is required"),r.address.trim()||(x.address="Address is required"),r.city.trim()||(x.city="City is required"),r.state.trim()||(x.state="State is required"),r.country.trim()||(x.country="Country is required"),r.contactPerson.trim()||(x.contactPerson="Contact person is required"),r.contactPhone.trim()||(x.contactPhone="Contact phone is required"),r.contactEmail.trim()||(x.contactEmail="Contact email is required"),i(x),Object.keys(x).length===0},g=x=>{if(x.preventDefault(),!m())return;const j={...d,warehouseCode:r.warehouseCode,warehouseName:r.warehouseName,description:r.notes,address:{street:r.address,city:r.city,state:r.state,zipCode:r.postalCode,country:r.country},capacity:parseFloat(r.capacity)||0,currentCapacity:parseFloat(r.capacity)||0,managerId:"MGR-001",managerName:r.contactPerson,isActive:r.status==="Active",storageTypes:["Dry Storage","Cold Storage"],updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating Warehouse:",j),e("/warehouse-master")},b=(x,j)=>{a(N=>({...N,[x]:j})),s[x]&&i(N=>({...N,[x]:""}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading warehouse data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Warehouse"}),n.jsx("p",{className:"text-gray-600",children:"Update warehouse information"})]}),n.jsxs("button",{onClick:()=>e("/warehouse-master"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Warehouses"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:g,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.warehouseCode?"border-red-500":""}`,value:r.warehouseCode,onChange:x=>b("warehouseCode",x.target.value),placeholder:"WH-001"}),s.warehouseCode&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.warehouseCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.warehouseName?"border-red-500":""}`,value:r.warehouseName,onChange:x=>b("warehouseName",x.target.value),placeholder:"Main Warehouse"}),s.warehouseName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.warehouseName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Type"}),n.jsx("select",{className:"input-field",value:r.warehouseType,onChange:x=>b("warehouseType",x.target.value),children:c.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),n.jsx("input",{type:"text",className:`input-field ${s.location?"border-red-500":""}`,value:r.location,onChange:x=>b("location",x.target.value),placeholder:"Industrial Zone A"}),s.location&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.location})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:x=>b("status",x.target.value),children:u.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",className:"input-field flex-1",value:r.capacity,onChange:x=>b("capacity",x.target.value),placeholder:"1000"}),n.jsx("select",{className:"input-field w-24",value:r.capacityUnit,onChange:x=>b("capacityUnit",x.target.value),children:h.map(x=>n.jsx("option",{value:x,children:x},x))})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),n.jsx("textarea",{className:`input-field ${s.address?"border-red-500":""}`,rows:3,value:r.address,onChange:x=>b("address",x.target.value),placeholder:"123 Industrial Street, Manufacturing District"}),s.address&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.address})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${s.city?"border-red-500":""}`,value:r.city,onChange:x=>b("city",x.target.value),placeholder:"Mumbai"}),s.city&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),n.jsx("input",{type:"text",className:`input-field ${s.state?"border-red-500":""}`,value:r.state,onChange:x=>b("state",x.target.value),placeholder:"Maharashtra"}),s.state&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.state})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),n.jsx("input",{type:"text",className:`input-field ${s.country?"border-red-500":""}`,value:r.country,onChange:x=>b("country",x.target.value),placeholder:"India"}),s.country&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.country})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),n.jsx("input",{type:"text",className:"input-field",value:r.postalCode,onChange:x=>b("postalCode",x.target.value),placeholder:"400001"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person *"}),n.jsx("input",{type:"text",className:`input-field ${s.contactPerson?"border-red-500":""}`,value:r.contactPerson,onChange:x=>b("contactPerson",x.target.value),placeholder:"John Smith"}),s.contactPerson&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.contactPerson})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${s.contactPhone?"border-red-500":""}`,value:r.contactPhone,onChange:x=>b("contactPhone",x.target.value),placeholder:"+91 98765 43210"}),s.contactPhone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.contactPhone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.contactEmail?"border-red-500":""}`,value:r.contactEmail,onChange:x=>b("contactEmail",x.target.value),placeholder:"john@company.com"}),s.contactEmail&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.contactEmail})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Hours"}),n.jsx("input",{type:"text",className:"input-field",value:r.operatingHours,onChange:x=>b("operatingHours",x.target.value),placeholder:"8:00 AM - 6:00 PM"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:r.timezone,onChange:x=>b("timezone",x.target.value),placeholder:"IST (UTC+5:30)"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:x=>b("notes",x.target.value),placeholder:"Additional notes or comments about the warehouse"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.specialRequirements,onChange:x=>b("specialRequirements",x.target.value),placeholder:"Special storage requirements, security measures, or operational notes"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/warehouse-master"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Update Warehouse"]})]})]})})]})},kZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState(!0),[i,l]=C.useState({page:1,limit:10,total:0,pages:0}),[o,c]=C.useState(""),[u,h]=C.useState(null),[d,m]=C.useState(!1),[g,b]=C.useState(""),x=async()=>{try{s(!0);const p=await Q.getTransferOrders({page:i.page,limit:i.limit,search:o||void 0,status:g||void 0,sortBy:"transferDate",sortOrder:"desc"});p.success&&(r(p.data),l(p.pagination))}catch(p){console.error("Error loading transfer orders:",p)}finally{s(!1)}};C.useEffect(()=>{x()},[i.page,o,g]),C.useEffect(()=>{const p=setInterval(()=>{x()},3e4);return()=>clearInterval(p)},[]);const j=t,N=p=>{switch(p){case"Completed":return"bg-green-100 text-green-800";case"In Transit":return"bg-blue-100 text-blue-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Failed":return"bg-red-100 text-red-800";case"Cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},S=p=>{switch(p){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";case"Normal":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},y=async p=>{const v=t.find(k=>k._id===p),w=(v==null?void 0:v.transferNumber)||"this transfer order";if(window.confirm(`Are you sure you want to delete ${w}?

This action cannot be undone.`))try{s(!0);const k=await Q.deleteTransferOrder(p,{updatedBy:"Admin User"});k.success?(alert(`Transfer order ${w} has been deleted successfully.`),await x()):alert(`Failed to delete transfer order: ${k.message||"Unknown error"}`)}catch(k){console.error("Error deleting transfer order:",k),alert(`Error deleting transfer order: ${k instanceof Error?k.message:"Unknown error"}`)}finally{s(!1)}},f=()=>{var p,v,w,k;return n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:n.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transfer Order Details"}),n.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(ke,{className:"h-6 w-6"})})]}),u&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transfer Number"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(u.priority)}`,children:u.priority})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From Outlet"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:typeof u.fromOutlet=="object"?(p=u.fromOutlet)==null?void 0:p.name:u.fromOutlet||"N/A"}),((v=u.fromOutlet)==null?void 0:v.code)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-gray-500",children:[u.fromOutlet.code,"  ",u.fromOutlet.type||"Outlet"]}),n.jsx("div",{className:"text-xs text-gray-400",children:u.fromOutlet.location||"Location not specified"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To Outlet"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:typeof u.toOutlet=="object"?(w=u.toOutlet)==null?void 0:w.name:u.toOutlet||"N/A"}),((k=u.toOutlet)==null?void 0:k.code)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-xs text-gray-500",children:[u.toOutlet.code,"  ",u.toOutlet.type||"Outlet"]}),n.jsx("div",{className:"text-xs text-gray-400",children:u.toOutlet.location||"Location not specified"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transfer Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.transferDate?new Date(u.transferDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N(u.status||"Unknown")}`,children:u.status||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Requested By"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.requestedBy||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Amount"}),n.jsxs("p",{className:"text-sm text-gray-900 font-medium",children:[u.totalAmount?u.totalAmount.toFixed(2):"0.00"," KWD"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Transfer Items"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Item Code"}),n.jsx("th",{className:"table-header",children:"Item Name"}),n.jsx("th",{className:"table-header",children:"Item Type"}),n.jsx("th",{className:"table-header",children:"Quantity"}),n.jsx("th",{className:"table-header",children:"Unit"}),n.jsx("th",{className:"table-header",children:"Unit Price"}),n.jsx("th",{className:"table-header",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.items&&u.items.length>0?u.items.map((P,A)=>n.jsxs("tr",{children:[n.jsx("td",{className:"table-cell",children:P.itemCode}),n.jsx("td",{className:"table-cell",children:P.itemName}),n.jsx("td",{className:"table-cell",children:P.itemType}),n.jsx("td",{className:"table-cell",children:P.quantity}),n.jsx("td",{className:"table-cell",children:P.unitOfMeasure}),n.jsxs("td",{className:"table-cell",children:[P.unitPrice?P.unitPrice.toFixed(2):"0.00"," KWD"]}),n.jsxs("td",{className:"table-cell font-medium",children:[P.totalValue?P.totalValue.toFixed(2):"0.00"," KWD"]})]},A)):n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"table-cell text-center text-gray-500",children:"No items found"})})})]})}),n.jsx("div",{className:"mt-4 text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Amount: ",u.totalAmount?u.totalAmount.toFixed(2):"0.00"," KWD"]})})]}),u.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),n.jsx("p",{className:"text-sm text-gray-900",children:u.notes})]})]})]})})})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transfer Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage material transfers between warehouses"})]}),n.jsxs("button",{onClick:()=>e("/central-kitchen/create-transfer"),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search transfer orders...",className:"input-field pl-10",value:o,onChange:p=>c(p.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{className:"input-field",value:g,onChange:p=>b(p.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"In Transit",children:"In Transit"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Failed",children:"Failed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(On,{className:"h-4 w-4 mr-2"}),"Filter"]}),n.jsxs("button",{onClick:x,className:"btn-secondary flex items-center",disabled:a,children:[n.jsx(Bt,{className:"h-4 w-4 mr-2"}),a?"Refreshing...":"Refresh"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Transfer Number"}),n.jsx("th",{className:"table-header",children:"From  To"}),n.jsx("th",{className:"table-header",children:"Transfer Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Requested By"}),n.jsx("th",{className:"table-header",children:"Total Amount"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"table-cell text-center py-8",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading transfer orders..."})]})})}):j.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"table-cell text-center py-8 text-gray-500",children:"No transfer orders found"})}):j.map(p=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:p.transferNumber}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.fromOutlet.name}),n.jsx(pD,{className:"h-4 w-4 mx-3 text-gray-400 flex-shrink-0"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.toOutlet.name})]})}),n.jsx("td",{className:"table-cell",children:new Date(p.transferDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N(p.status)}`,children:p.status})}),n.jsx("td",{className:"table-cell",children:p.requestedBy}),n.jsxs("td",{className:"table-cell font-medium",children:[p.totalAmount.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{h(p),m(!0)},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:n.jsx(en,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>y(p._id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},p._id))})]})})}),d&&n.jsx(f,{})]})},OZ=()=>{const e=ye(),{id:t}=la(),[r,a]=C.useState({transferNumber:"",fromWarehouseId:"",fromWarehouseName:"",toWarehouseId:"",toWarehouseName:"",transferDate:"",expectedDeliveryDate:"",status:"Draft",priority:"Medium",totalAmount:0,items:[],requestedBy:"",approvedBy:"",receivedBy:"",transferType:"Internal",reason:"",notes:""}),[s,i]=C.useState({}),[l,o]=C.useState(!0),c=["Draft","Pending","Approved","In Transit","Delivered","Cancelled"],u=["Low","Medium","High","Urgent"],h=["Internal","External","Emergency"],d=[{id:"WH-001",name:"Main Warehouse"},{id:"WH-002",name:"Secondary Warehouse"},{id:"WH-003",name:"Cold Storage"},{id:"WH-004",name:"Hazardous Storage"}],m={id:"1",transferNumber:"TO-2024-001",fromWarehouseId:"WH-001",fromWarehouseName:"Main Warehouse",toWarehouseId:"WH-002",toWarehouseName:"Secondary Warehouse",transferDate:new Date("2024-01-20").toISOString(),expectedDeliveryDate:new Date("2024-01-22").toISOString(),status:"In Transit",priority:"High",totalAmount:15750,items:[{materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",quantity:100,unitOfMeasure:"KG",unitPrice:45.5,totalPrice:4550,remarks:"High priority transfer"},{materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",quantity:50,unitOfMeasure:"SQM",unitPrice:125,totalPrice:6250,remarks:"Handle with care"},{materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",quantity:200,unitOfMeasure:"M",unitPrice:23.75,totalPrice:4750,remarks:"Standard transfer"}],requestedBy:"John Smith",approvedBy:"Manager Name",receivedBy:"Warehouse Staff",transferType:"Internal",reason:"Inventory rebalancing between warehouses for better distribution",notes:"Transfer approved for inventory optimization. Ensure proper handling of aluminum sheets.",createdAt:new Date("2024-01-20").toISOString(),updatedAt:new Date("2024-01-21").toISOString(),createdBy:"admin",updatedBy:"admin"};C.useEffect(()=>{setTimeout(()=>{var f;a({transferNumber:m.transferNumber,fromWarehouseId:m.fromWarehouseId,fromWarehouseName:m.fromWarehouseName,toWarehouseId:m.toWarehouseId,toWarehouseName:m.toWarehouseName,transferDate:m.transferDate.split("T")[0],expectedDeliveryDate:((f=m.expectedDeliveryDate)==null?void 0:f.split("T")[0])||"",status:m.status,priority:m.priority,totalAmount:m.totalAmount,items:m.items,requestedBy:m.requestedBy,approvedBy:m.approvedBy,receivedBy:m.receivedBy,transferType:m.transferType,reason:m.reason,notes:m.notes}),o(!1)},500)},[t]);const g=()=>{const f={};return r.transferNumber.trim()||(f.transferNumber="Transfer number is required"),r.fromWarehouseId||(f.fromWarehouseId="From warehouse is required"),r.toWarehouseId||(f.toWarehouseId="To warehouse is required"),r.transferDate||(f.transferDate="Transfer date is required"),r.expectedDeliveryDate||(f.expectedDeliveryDate="Expected delivery date is required"),r.requestedBy.trim()||(f.requestedBy="Requested by is required"),r.reason.trim()||(f.reason="Reason is required"),r.items.length===0&&(f.items="At least one transfer item is required"),i(f),Object.keys(f).length===0},b=f=>{if(f.preventDefault(),!g())return;const p=r.items.reduce((w,k)=>w+k.totalPrice,0),v={...m,transferNumber:r.transferNumber,fromWarehouseId:r.fromWarehouseId,fromWarehouseName:r.fromWarehouseName,toWarehouseId:r.toWarehouseId,toWarehouseName:r.toWarehouseName,transferDate:new Date(r.transferDate).toISOString(),expectedDeliveryDate:new Date(r.expectedDeliveryDate).toISOString(),status:r.status,priority:r.priority,totalAmount:p,items:r.items,requestedBy:r.requestedBy,approvedBy:r.approvedBy,receivedBy:r.receivedBy,transferType:r.transferType,reason:r.reason,notes:r.notes,updatedAt:new Date().toISOString(),updatedBy:"admin"};console.log("Updating Transfer Order:",v),e("/transfer-orders")},x=(f,p)=>{a(v=>({...v,[f]:p})),s[f]&&i(v=>({...v,[f]:""}))},j=(f,p)=>{const v=d.find(k=>k.id===p),w=v?v.name:"";a(f==="fromWarehouseId"?k=>({...k,fromWarehouseId:p,fromWarehouseName:w}):k=>({...k,toWarehouseId:p,toWarehouseName:w}))},N=()=>{const f={materialId:"",materialCode:"",materialName:"",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};a(p=>({...p,items:[...p.items,f]}))},S=(f,p,v)=>{a(w=>({...w,items:w.items.map((k,P)=>{if(P===f){const A={...k,[p]:v};return(p==="quantity"||p==="unitPrice")&&(A.totalPrice=A.quantity*A.unitPrice),A}return k})}))},y=f=>{a(p=>({...p,items:p.items.filter((v,w)=>w!==f)}))};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Transfer Order"}),n.jsx("p",{className:"text-gray-600",children:"Update transfer order information"})]}),n.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Transfer Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:b,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${s.transferNumber?"border-red-500":""}`,value:r.transferNumber,onChange:f=>x("transferNumber",f.target.value),placeholder:"TO-2024-001"}),s.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:r.transferType,onChange:f=>x("transferType",f.target.value),children:h.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:r.priority,onChange:f=>x("priority",f.target.value),children:u.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:f=>x("status",f.target.value),children:c.map(f=>n.jsx("option",{value:f,children:f},f))})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Warehouse Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Warehouse *"}),n.jsxs("select",{className:`input-field ${s.fromWarehouseId?"border-red-500":""}`,value:r.fromWarehouseId,onChange:f=>j("fromWarehouseId",f.target.value),children:[n.jsx("option",{value:"",children:"Select From Warehouse"}),d.map(f=>n.jsx("option",{value:f.id,children:f.name},f.id))]}),s.fromWarehouseId&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.fromWarehouseId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Warehouse *"}),n.jsxs("select",{className:`input-field ${s.toWarehouseId?"border-red-500":""}`,value:r.toWarehouseId,onChange:f=>j("toWarehouseId",f.target.value),children:[n.jsx("option",{value:"",children:"Select To Warehouse"}),d.filter(f=>f.id!==r.fromWarehouseId).map(f=>n.jsx("option",{value:f.id,children:f.name},f.id))]}),s.toWarehouseId&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.toWarehouseId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.transferDate?"border-red-500":""}`,value:r.transferDate,onChange:f=>x("transferDate",f.target.value)}),s.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${s.expectedDeliveryDate?"border-red-500":""}`,value:r.expectedDeliveryDate,onChange:f=>x("expectedDeliveryDate",f.target.value)}),s.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personnel Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requested By *"}),n.jsx("input",{type:"text",className:`input-field ${s.requestedBy?"border-red-500":""}`,value:r.requestedBy,onChange:f=>x("requestedBy",f.target.value),placeholder:"John Smith"}),s.requestedBy&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.requestedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approved By"}),n.jsx("input",{type:"text",className:"input-field",value:r.approvedBy,onChange:f=>x("approvedBy",f.target.value),placeholder:"Manager Name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received By"}),n.jsx("input",{type:"text",className:"input-field",value:r.receivedBy,onChange:f=>x("receivedBy",f.target.value),placeholder:"Warehouse Staff"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transfer Items"}),n.jsxs("button",{type:"button",onClick:N,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),s.items&&n.jsx("p",{className:"mb-4 text-sm text-red-600",children:s.items}),n.jsx("div",{className:"space-y-4",children:r.items.map((f,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.materialCode,onChange:v=>S(p,"materialCode",v.target.value),placeholder:"RM-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.materialName,onChange:v=>S(p,"materialName",v.target.value),placeholder:"Steel Rod"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.quantity,onChange:v=>S(p,"quantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.unitOfMeasure,onChange:v=>S(p,"unitOfMeasure",v.target.value),placeholder:"KG"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm",value:f.unitPrice,onChange:v=>S(p,"unitPrice",parseFloat(v.target.value)||0),placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.remarks,onChange:v=>S(p,"remarks",v.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>y(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",f.totalPrice.toFixed(2)," KWD"]})})]},p))}),r.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",r.items.reduce((f,p)=>f+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Transfer *"}),n.jsx("textarea",{className:`input-field ${s.reason?"border-red-500":""}`,rows:3,value:r.reason,onChange:f=>x("reason",f.target.value),placeholder:"Reason for material transfer"}),s.reason&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.reason})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:f=>x("notes",f.target.value),placeholder:"Additional notes or special instructions"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Update Transfer Order"]})]})]})})]})},PZ=()=>{const[e,t]=C.useState("overview"),[r,a]=C.useState(""),[s,i]=C.useState(""),[l,o]=C.useState(""),[c]=C.useState([{id:"1",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:150,reservedStock:25,availableStock:125,minimumStock:50,maximumStock:500,reorderPoint:75,unitOfMeasure:"KG",unitPrice:45.5,totalValue:6825,lastUpdated:new Date("2024-01-20"),status:"In Stock",location:"A-01-15",batchNumber:"B001",supplier:"Steel Corp",notes:"High quality steel rods"},{id:"2",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:25,reservedStock:5,availableStock:20,minimumStock:30,maximumStock:200,reorderPoint:40,unitOfMeasure:"SQM",unitPrice:125,totalValue:3125,lastUpdated:new Date("2024-01-19"),status:"Low Stock",location:"B-02-08",batchNumber:"B002",supplier:"Aluminum Ltd",notes:"Premium grade aluminum"},{id:"3",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",warehouseId:"WH-002",warehouseName:"Secondary Warehouse",currentStock:0,reservedStock:0,availableStock:0,minimumStock:100,maximumStock:1e3,reorderPoint:150,unitOfMeasure:"M",unitPrice:23.75,totalValue:0,lastUpdated:new Date("2024-01-18"),status:"Out of Stock",location:"C-03-12",batchNumber:"B003",supplier:"Wire Co",notes:"Electrical grade copper"},{id:"4",materialId:"RM-004",materialCode:"RM-004",materialName:"Plastic Pellets HDPE",warehouseId:"WH-001",warehouseName:"Main Warehouse",currentStock:800,reservedStock:50,availableStock:750,minimumStock:200,maximumStock:1e3,reorderPoint:300,unitOfMeasure:"KG",unitPrice:12.5,totalValue:1e4,lastUpdated:new Date("2024-01-21"),status:"Overstock",location:"D-04-20",batchNumber:"B004",supplier:"Plastic Inc",notes:"High density polyethylene"}]),[u]=C.useState([{id:"1",materialId:"RM-001",materialCode:"RM-001",materialName:"Steel Rod 12mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",movementType:"In",movementReason:"Purchase",quantity:50,unitPrice:45.5,totalValue:2275,referenceNumber:"PO-2024-001",referenceType:"Purchase Order",movementDate:new Date("2024-01-20").toISOString(),performedBy:"John Smith",notes:"Received from supplier",batchNumber:"B001"},{id:"2",materialId:"RM-002",materialCode:"RM-002",materialName:"Aluminum Sheet 2mm",warehouseId:"WH-001",warehouseName:"Main Warehouse",movementType:"Out",movementReason:"Production",quantity:15,unitPrice:125,totalValue:1875,referenceNumber:"JO-2024-001",referenceType:"Production Order",movementDate:new Date("2024-01-19").toISOString(),performedBy:"Jane Doe",notes:"Issued for production",batchNumber:"B002"},{id:"3",materialId:"RM-003",materialCode:"RM-003",materialName:"Copper Wire 10 AWG",warehouseId:"WH-002",warehouseName:"Secondary Warehouse",movementType:"Out",movementReason:"Sale",quantity:200,unitPrice:23.75,totalValue:4750,referenceNumber:"SO-2024-001",referenceType:"Sales Order",movementDate:new Date("2024-01-18").toISOString(),performedBy:"Mike Johnson",notes:"Sold to customer",batchNumber:"B003"}]),h=[{id:"WH-001",name:"Main Warehouse"},{id:"WH-002",name:"Secondary Warehouse"},{id:"WH-003",name:"Cold Storage"},{id:"WH-004",name:"Hazardous Storage"}],d=["In Stock","Low Stock","Out of Stock","Overstock"],m=c.filter(p=>{const v=p.materialCode.toLowerCase().includes(r.toLowerCase())||p.materialName.toLowerCase().includes(r.toLowerCase())||p.warehouseName.toLowerCase().includes(r.toLowerCase()),w=!s||p.status===s,k=!l||p.warehouseId===l;return v&&w&&k}),g=u.filter(p=>{var k;const v=p.materialCode.toLowerCase().includes(r.toLowerCase())||p.materialName.toLowerCase().includes(r.toLowerCase())||((k=p.referenceNumber)==null?void 0:k.toLowerCase().includes(r.toLowerCase())),w=!l||p.warehouseId===l;return v&&w}),b=c.length,x=c.reduce((p,v)=>p+v.totalValue,0),j=c.filter(p=>p.status==="Low Stock").length,N=c.filter(p=>p.status==="Out of Stock").length,S=c.filter(p=>p.status==="Overstock").length,y=p=>{switch(p){case"In Stock":return"text-green-600 bg-green-100";case"Low Stock":return"text-yellow-600 bg-yellow-100";case"Out of Stock":return"text-red-600 bg-red-100";case"Overstock":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},f=p=>{switch(p){case"In":return"text-green-600 bg-green-100";case"Out":return"text-red-600 bg-red-100";case"Transfer":return"text-blue-600 bg-blue-100";case"Adjustment":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),n.jsx("p",{className:"text-gray-600",children:"Monitor stock levels, movements, and generate reports"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{className:"btn-primary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(qn,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",x.toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Yr,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(py,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N})]})]})})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"overview",name:"Overview",icon:Ma},{id:"stock",name:"Stock Levels",icon:xe},{id:"movements",name:"Stock Movements",icon:qn},{id:"reports",name:"Reports",icon:It}].map(p=>n.jsxs("button",{onClick:()=>t(p.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${e===p.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(p.icon,{className:"h-4 w-4 mr-2"}),p.name]},p.id))})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",className:"input-field pl-10",placeholder:"Search materials, warehouses, or reference numbers...",value:r,onChange:p=>a(p.target.value)})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("select",{className:"input-field",value:s,onChange:p=>i(p.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),d.map(p=>n.jsx("option",{value:p,children:p},p))]}),n.jsxs("select",{className:"input-field",value:l,onChange:p=>o(p.target.value),children:[n.jsx("option",{value:"",children:"All Warehouses"}),h.map(p=>n.jsx("option",{value:p.id,children:p.name},p.id))]})]})]}),e==="overview"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Stock Status Distribution"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"In Stock"}),n.jsx("span",{className:"text-sm font-medium",children:c.filter(p=>p.status==="In Stock").length})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Low Stock"}),n.jsx("span",{className:"text-sm font-medium",children:j})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Out of Stock"}),n.jsx("span",{className:"text-sm font-medium",children:N})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Overstock"}),n.jsx("span",{className:"text-sm font-medium",children:S})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Stock Movements"}),n.jsx("div",{className:"space-y-3",children:u.slice(0,5).map(p=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(p.movementDate).toLocaleDateString()})]}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${f(p.movementType)}`,children:[p.movementType," ",p.quantity]})})]},p.id))})]})]})}),e==="stock"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Warehouse"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Min/Max"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(p=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("div",{className:"text-sm text-gray-500",children:p.materialCode})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:p.warehouseName}),n.jsx("div",{className:"text-sm text-gray-500",children:p.location})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[p.currentStock," ",p.unitOfMeasure]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Reserved: ",p.reservedStock]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[p.availableStock," ",p.unitOfMeasure]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[p.minimumStock,"/",p.maximumStock]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Reorder: ",p.reorderPoint]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:["$",p.totalValue.toLocaleString()]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["@ $",p.unitPrice]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${y(p.status)}`,children:p.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:n.jsx(en,{className:"h-4 w-4"})})})]},p.id))})]})}),e==="movements"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Warehouse"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performed By"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(p=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(p.movementDate).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("div",{className:"text-sm text-gray-500",children:p.materialCode})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.warehouseName}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${f(p.movementType)}`,children:p.movementType}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:p.movementReason})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.quantity}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",p.totalValue.toLocaleString()]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:p.referenceNumber}),n.jsx("div",{className:"text-xs text-gray-500",children:p.referenceType})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.performedBy})]},p.id))})]})}),e==="reports"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Ma,{className:"h-8 w-8 text-blue-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Stock Summary"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Generate comprehensive stock level report"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(qn,{className:"h-8 w-8 text-green-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Stock Movements"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Track all stock movements for a period"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Yr,{className:"h-8 w-8 text-yellow-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Low Stock Alert"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Identify items below reorder point"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(qn,{className:"h-8 w-8 text-purple-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Value Report"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Calculate total inventory value"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Ma,{className:"h-8 w-8 text-indigo-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ABC Analysis"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Classify items by value and usage"}),n.jsx("button",{className:"btn-primary w-full",children:"Generate Report"})]}),n.jsxs("div",{className:"card p-6 cursor-pointer hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(It,{className:"h-8 w-8 text-gray-600 mr-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Custom Report"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create custom inventory reports"}),n.jsx("button",{className:"btn-primary w-full",children:"Create Report"})]})]})})]})]})]})},TZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState(!0),[i,l]=C.useState(null),[o,c]=C.useState(""),[u,h]=C.useState(""),[d,m]=C.useState(""),[g,b]=C.useState(""),[x,j]=C.useState("createdAt"),[N,S]=C.useState("desc"),[y,f]=C.useState(null),[p,v]=C.useState(!1);C.useEffect(()=>{w()},[]),C.useEffect(()=>{a||w()},[o,u,d,g,x,N]);const w=async()=>{try{s(!0),l(null);const O=[{id:"outlet-001",outletCode:"KC001",outletName:"Kuwait City",outletType:"Restaurant",description:"Main restaurant outlet in Kuwait City",address:{street:"123 Main Street",city:"Kuwait City",state:"Kuwait",zipCode:"12345",country:"Kuwait"},contactInfo:{phone:"+965-1234-5678",email:"kuwait@localbeat.com",managerName:"Ahmed Al-Sabah",managerPhone:"+965-1234-5679",managerEmail:"ahmed@localbeat.com"},operatingHours:{monday:{open:"08:00",close:"22:00",isOpen:!0},tuesday:{open:"08:00",close:"22:00",isOpen:!0},wednesday:{open:"08:00",close:"22:00",isOpen:!0},thursday:{open:"08:00",close:"22:00",isOpen:!0},friday:{open:"08:00",close:"22:00",isOpen:!0},saturday:{open:"08:00",close:"22:00",isOpen:!0},sunday:{open:"08:00",close:"22:00",isOpen:!0}},capacity:{seatingCapacity:100,kitchenCapacity:50,storageCapacity:200,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Dine-in","Takeaway","Delivery"],timezone:"Asia/Kuwait",notes:"Main restaurant outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-002",outletCode:"M360001",outletName:"360 Mall",outletType:"Cafe",description:"Cafe outlet in 360 Mall",address:{street:"360 Mall, Level 2",city:"Kuwait City",state:"Kuwait",zipCode:"12346",country:"Kuwait"},contactInfo:{phone:"+965-2345-6789",email:"mall360@localbeat.com",managerName:"Sarah Johnson",managerPhone:"+965-2345-6790",managerEmail:"sarah@localbeat.com"},operatingHours:{monday:{open:"10:00",close:"23:00",isOpen:!0},tuesday:{open:"10:00",close:"23:00",isOpen:!0},wednesday:{open:"10:00",close:"23:00",isOpen:!0},thursday:{open:"10:00",close:"23:00",isOpen:!0},friday:{open:"10:00",close:"23:00",isOpen:!0},saturday:{open:"10:00",close:"23:00",isOpen:!0},sunday:{open:"10:00",close:"23:00",isOpen:!0}},capacity:{seatingCapacity:80,kitchenCapacity:30,storageCapacity:150,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Dine-in","Takeaway"],timezone:"Asia/Kuwait",notes:"Mall cafe outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-003",outletCode:"VC001",outletName:"Vibes Complex",outletType:"Food Court",description:"Food court outlet in Vibes Complex",address:{street:"Vibes Complex, Food Court",city:"Kuwait City",state:"Kuwait",zipCode:"12347",country:"Kuwait"},contactInfo:{phone:"+965-3456-7890",email:"vibes@localbeat.com",managerName:"Mohammed Al-Rashid",managerPhone:"+965-3456-7891",managerEmail:"mohammed@localbeat.com"},operatingHours:{monday:{open:"09:00",close:"24:00",isOpen:!0},tuesday:{open:"09:00",close:"24:00",isOpen:!0},wednesday:{open:"09:00",close:"24:00",isOpen:!0},thursday:{open:"09:00",close:"24:00",isOpen:!0},friday:{open:"09:00",close:"24:00",isOpen:!0},saturday:{open:"09:00",close:"24:00",isOpen:!0},sunday:{open:"09:00",close:"24:00",isOpen:!0}},capacity:{seatingCapacity:120,kitchenCapacity:40,storageCapacity:180,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Dine-in","Takeaway","Food Court"],timezone:"Asia/Kuwait",notes:"Food court outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-004",outletCode:"TH001",outletName:"Taiba Hospital",outletType:"Drive-Thru",description:"Drive-thru outlet at Taiba Hospital",address:{street:"Taiba Hospital, Ground Floor",city:"Kuwait City",state:"Kuwait",zipCode:"12348",country:"Kuwait"},contactInfo:{phone:"+965-4567-8901",email:"taiba@localbeat.com",managerName:"Fatima Al-Zahra",managerPhone:"+965-4567-8902",managerEmail:"fatima@localbeat.com"},operatingHours:{monday:{open:"06:00",close:"02:00",isOpen:!0},tuesday:{open:"06:00",close:"02:00",isOpen:!0},wednesday:{open:"06:00",close:"02:00",isOpen:!0},thursday:{open:"06:00",close:"02:00",isOpen:!0},friday:{open:"06:00",close:"02:00",isOpen:!0},saturday:{open:"06:00",close:"02:00",isOpen:!0},sunday:{open:"06:00",close:"02:00",isOpen:!0}},capacity:{seatingCapacity:20,kitchenCapacity:25,storageCapacity:100,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!1,features:["Drive-Thru","Takeaway"],timezone:"Asia/Kuwait",notes:"Hospital drive-thru outlet",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"},{id:"outlet-005",outletCode:"CK001",outletName:"Central Kitchen",outletType:"Central Kitchen",description:"Central kitchen for all outlets",address:{street:"Industrial Area, Block 5",city:"Kuwait City",state:"Kuwait",zipCode:"12349",country:"Kuwait"},contactInfo:{phone:"+965-5678-9012",email:"central@localbeat.com",managerName:"Chef Abdullah",managerPhone:"+965-5678-9013",managerEmail:"chef@localbeat.com"},operatingHours:{monday:{open:"05:00",close:"23:00",isOpen:!0},tuesday:{open:"05:00",close:"23:00",isOpen:!0},wednesday:{open:"05:00",close:"23:00",isOpen:!0},thursday:{open:"05:00",close:"23:00",isOpen:!0},friday:{open:"05:00",close:"23:00",isOpen:!0},saturday:{open:"05:00",close:"23:00",isOpen:!0},sunday:{open:"05:00",close:"23:00",isOpen:!0}},capacity:{seatingCapacity:0,kitchenCapacity:200,storageCapacity:500,capacityUnit:"sqft"},status:"Active",isCentralKitchen:!0,features:["Production","Storage","Distribution"],timezone:"Asia/Kuwait",notes:"Central kitchen for all outlets",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin",updatedBy:"admin"}];console.log("Loaded Outlets:",O),r(O)}catch(O){l(O instanceof Error?O.message:"Failed to load outlets"),console.error("Error loading outlets:",O)}finally{s(!1)}},k=async O=>{if(window.confirm("Are you sure you want to delete this outlet?"))try{(await Q.deleteOutlet(O)).success?await w():alert("Failed to delete outlet")}catch(M){alert("Error deleting outlet: "+(M instanceof Error?M.message:"Unknown error")),console.error("Error deleting outlet:",M)}},P=()=>{c(""),h(""),m(""),b(""),j("createdAt"),S("desc"),w()},A=O=>{switch(O){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-gray-100 text-gray-800";case"Maintenance":return"bg-yellow-100 text-yellow-800";case"Closed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=O=>{switch(O){case"Restaurant":return"bg-blue-100 text-blue-800";case"Cafe":return"bg-purple-100 text-purple-800";case"Food Court":return"bg-orange-100 text-orange-800";case"Drive-Thru":return"bg-green-100 text-green-800";case"Takeaway":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading outlets..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:w,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Outlet Master"}),n.jsx("p",{className:"text-gray-600",children:"Manage restaurant outlets and central kitchen operations"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:w,className:"btn-secondary flex items-center",title:"Refresh outlets",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/outlets/add"),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Outlet"]})]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search outlets by name, code, city, or manager...",className:"input-field pl-10",value:o,onChange:O=>c(O.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:P,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(On,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsxs("select",{className:"input-field",value:u,onChange:O=>h(O.target.value),children:[n.jsx("option",{value:"",children:"All Types"}),n.jsx("option",{value:"Restaurant",children:"Restaurant"}),n.jsx("option",{value:"Cafe",children:"Cafe"}),n.jsx("option",{value:"Food Court",children:"Food Court"}),n.jsx("option",{value:"Drive-Thru",children:"Drive-Thru"}),n.jsx("option",{value:"Takeaway",children:"Takeaway"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:d,onChange:O=>m(O.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"}),n.jsx("option",{value:"Maintenance",children:"Maintenance"}),n.jsx("option",{value:"Closed",children:"Closed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Type"}),n.jsxs("select",{className:"input-field",value:g,onChange:O=>b(O.target.value),children:[n.jsx("option",{value:"",children:"All Kitchens"}),n.jsx("option",{value:"true",children:"Central Kitchen"}),n.jsx("option",{value:"false",children:"Regular Outlet"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:x,onChange:O=>j(O.target.value),children:[n.jsx("option",{value:"createdAt",children:"Date Created"}),n.jsx("option",{value:"outletName",children:"Outlet Name"}),n.jsx("option",{value:"outletCode",children:"Outlet Code"}),n.jsx("option",{value:"outletType",children:"Outlet Type"}),n.jsx("option",{value:"status",children:"Status"})]}),n.jsx("button",{onClick:()=>S(N==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${N==="asc"?"Descending":"Ascending"}`,children:N==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",t.length," outlets",(o||u||d||g)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(o||u||d||g)&&n.jsx("button",{onClick:P,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Outlet Code"}),n.jsx("th",{className:"table-header",children:"Outlet Name"}),n.jsx("th",{className:"table-header",children:"Type"}),n.jsx("th",{className:"table-header",children:"Location"}),n.jsx("th",{className:"table-header",children:"Manager"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Kitchen Type"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(O=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:O.outletCode}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900 font-medium",children:O.outletName}),n.jsx("div",{className:"text-gray-500 text-sm max-w-xs truncate",children:O.description})]})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(O.outletType)}`,children:O.outletType})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(hu,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{children:[O.address.city,", ",O.address.state]})]})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900 font-medium",children:O.contactInfo.managerName}),n.jsx("div",{className:"text-gray-500 text-sm",children:O.contactInfo.phone})]})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A(O.status)}`,children:O.status})}),n.jsx("td",{className:"table-cell",children:O.isCentralKitchen?n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:" Central Kitchen"}):n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:" Regular Outlet"})}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>{f(O),v(!0)},className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(en,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/outlets/edit/${O.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>k(O.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},O.id))})]})})}),p&&y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Outlet Details"}),n.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code"}),n.jsx("p",{className:"text-gray-900 font-mono",children:y.outletCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name"}),n.jsx("p",{className:"text-gray-900",children:y.outletName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(y.outletType)}`,children:y.outletType})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A(y.status)}`,children:y.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Type"}),y.isCentralKitchen?n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:" Central Kitchen"}):n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:" Regular Outlet"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("p",{className:"text-gray-900",children:y.timezone})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsxs("p",{className:"text-gray-900",children:[y.address.street,n.jsx("br",{}),y.address.city,", ",y.address.state," ",y.address.zipCode,n.jsx("br",{}),y.address.country]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone"}),n.jsx("p",{className:"text-gray-900",children:y.contactInfo.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email"}),n.jsx("p",{className:"text-gray-900",children:y.contactInfo.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name"}),n.jsx("p",{className:"text-gray-900",children:y.contactInfo.managerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),n.jsx("p",{className:"text-gray-900",children:y.contactInfo.managerPhone||"N/A"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx(xy,{className:"h-6 w-6 mx-auto text-blue-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Seating"}),n.jsx("p",{className:"text-lg font-semibold text-blue-600",children:y.capacity.seatingCapacity})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx(rr,{className:"h-6 w-6 mx-auto text-green-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Kitchen"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:y.capacity.kitchenCapacity})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx(hu,{className:"h-6 w-6 mx-auto text-purple-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Storage"}),n.jsx("p",{className:"text-lg font-semibold text-purple-600",children:y.capacity.storageCapacity})]})]})]}),y.features.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:y.features.map((O,M)=>n.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:O},M))})]}),y.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("p",{className:"text-gray-900",children:y.notes})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>v(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{v(!1),e(`/outlets/edit/${y.id}`)},className:"btn-primary",children:"Edit Outlet"})]})]})})]})},AZ=()=>{const e=ye(),[t,r]=C.useState({outletCode:"",outletName:"",outletType:"Restaurant",description:"",address:{street:"",city:"",state:"",zipCode:"",country:"Kuwait"},contactInfo:{phone:"",email:"",managerName:"",managerPhone:"",managerEmail:""},operatingHours:{monday:{open:"09:00",close:"22:00",isOpen:!0},tuesday:{open:"09:00",close:"22:00",isOpen:!0},wednesday:{open:"09:00",close:"22:00",isOpen:!0},thursday:{open:"09:00",close:"22:00",isOpen:!0},friday:{open:"09:00",close:"22:00",isOpen:!0},saturday:{open:"09:00",close:"22:00",isOpen:!0},sunday:{open:"09:00",close:"22:00",isOpen:!0}},capacity:{seatingCapacity:0,kitchenCapacity:0,storageCapacity:0,capacityUnit:"SQM"},status:"Active",isCentralKitchen:!1,features:[],timezone:"Asia/Kuwait",notes:""}),[a,s]=C.useState({}),[i,l]=C.useState(!1),o=["Restaurant","Cafe","Food Court","Drive-Thru","Takeaway"],c=["Active","Inactive","Maintenance","Closed"],u=["SQM","CBM","KG","TON"],h=["Delivery","Takeaway","Dine-in","Drive-thru","Online Ordering","Catering"],d=()=>{const x={};return t.outletCode.trim()||(x.outletCode="Outlet code is required"),t.outletName.trim()||(x.outletName="Outlet name is required"),t.address.street.trim()||(x.street="Street address is required"),t.address.city.trim()||(x.city="City is required"),t.contactInfo.phone.trim()||(x.phone="Phone number is required"),t.contactInfo.email.trim()||(x.email="Email is required"),t.contactInfo.managerName.trim()||(x.managerName="Manager name is required"),s(x),Object.keys(x).length===0},m=async x=>{if(x.preventDefault(),!!d()){l(!0);try{(await Q.createOutlet(t)).success?(alert("Outlet created successfully!"),e("/outlets")):alert("Failed to create outlet")}catch(j){alert("Error creating outlet: "+(j instanceof Error?j.message:"Unknown error")),console.error("Error creating outlet:",j)}finally{l(!1)}}},g=(x,j)=>{if(x.includes(".")){const[N,S]=x.split(".");r(y=>({...y,[N]:{...y[N]||{},[S]:j}}))}else r(N=>({...N,[x]:j}));a[x]&&s(N=>({...N,[x]:""}))},b=x=>{r(j=>({...j,features:j.features.includes(x)?j.features.filter(N=>N!==x):[...j.features,x]}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/outlets"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Le,{className:"h-5 w-5 mr-2"}),"Back to Outlets"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Outlet"}),n.jsx("p",{className:"text-gray-600",children:"Create a new restaurant outlet or central kitchen"})]})]})}),n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code *"}),n.jsx("input",{type:"text",className:`input-field ${a.outletCode?"border-red-500":""}`,value:t.outletCode,onChange:x=>g("outletCode",x.target.value.toUpperCase()),placeholder:"OUTLET-001"}),a.outletCode&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.outletCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.outletName?"border-red-500":""}`,value:t.outletName,onChange:x=>g("outletName",x.target.value),placeholder:"Downtown Restaurant"}),a.outletName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.outletName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsx("select",{className:"input-field",value:t.outletType,onChange:x=>g("outletType",x.target.value),children:o.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("select",{className:"input-field",value:t.status,onChange:x=>g("status",x.target.value),children:c.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.description,onChange:x=>g("description",x.target.value),placeholder:"Brief description of the outlet..."})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isCentralKitchen",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.isCentralKitchen,onChange:x=>g("isCentralKitchen",x.target.checked)}),n.jsx("label",{htmlFor:"isCentralKitchen",className:"ml-2 block text-sm text-gray-900",children:"This is a Central Kitchen"})]})})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),n.jsx("input",{type:"text",className:`input-field ${a.street?"border-red-500":""}`,value:t.address.street,onChange:x=>g("address.street",x.target.value),placeholder:"123 Main Street"}),a.street&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.street})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${a.city?"border-red-500":""}`,value:t.address.city,onChange:x=>g("address.city",x.target.value),placeholder:"Kuwait City"}),a.city&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),n.jsx("input",{type:"text",className:"input-field",value:t.address.state,onChange:x=>g("address.state",x.target.value),placeholder:"Kuwait"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),n.jsx("input",{type:"text",className:"input-field",value:t.address.zipCode,onChange:x=>g("address.zipCode",x.target.value),placeholder:"12345"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),n.jsx("input",{type:"text",className:"input-field",value:t.address.country,onChange:x=>g("address.country",x.target.value),placeholder:"Kuwait"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${a.phone?"border-red-500":""}`,value:t.contactInfo.phone,onChange:x=>g("contactInfo.phone",x.target.value),placeholder:"+965 1234 5678"}),a.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email *"}),n.jsx("input",{type:"email",className:`input-field ${a.email?"border-red-500":""}`,value:t.contactInfo.email,onChange:x=>g("contactInfo.email",x.target.value),placeholder:"outlet@restaurant.com"}),a.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name *"}),n.jsx("input",{type:"text",className:`input-field ${a.managerName?"border-red-500":""}`,value:t.contactInfo.managerName,onChange:x=>g("contactInfo.managerName",x.target.value),placeholder:"John Smith"}),a.managerName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.managerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),n.jsx("input",{type:"tel",className:"input-field",value:t.contactInfo.managerPhone,onChange:x=>g("contactInfo.managerPhone",x.target.value),placeholder:"+965 9876 5432"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Email"}),n.jsx("input",{type:"email",className:"input-field",value:t.contactInfo.managerEmail,onChange:x=>g("contactInfo.managerEmail",x.target.value),placeholder:"manager@restaurant.com"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Capacity & Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:t.capacity.seatingCapacity,onChange:x=>g("capacity.seatingCapacity",parseInt(x.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:t.capacity.kitchenCapacity,onChange:x=>g("capacity.kitchenCapacity",parseInt(x.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:t.capacity.storageCapacity,onChange:x=>g("capacity.storageCapacity",parseInt(x.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity Unit"}),n.jsx("select",{className:"input-field",value:t.capacity.capacityUnit,onChange:x=>g("capacity.capacityUnit",x.target.value),children:u.map(x=>n.jsx("option",{value:x,children:x},x))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(x=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:t.features.includes(x),onChange:()=>b(x)}),n.jsx("span",{className:"ml-2 text-sm text-gray-900",children:x})]},x))})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:t.timezone,onChange:x=>g("timezone",x.target.value),placeholder:"Asia/Kuwait"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:t.notes,onChange:x=>g("notes",x.target.value),placeholder:"Additional notes about the outlet..."})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>e("/outlets"),className:"btn-secondary",disabled:i,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Outlet"]})})]})]})]})},DZ=()=>{const e=ye(),{id:t}=la(),[r,a]=C.useState({outletCode:"",outletName:"",outletType:"Restaurant",description:"",address:{street:"",city:"",state:"",zipCode:"",country:"Kuwait"},contactInfo:{phone:"",email:"",managerName:"",managerPhone:"",managerEmail:""},operatingHours:{monday:{open:"09:00",close:"22:00",isOpen:!0},tuesday:{open:"09:00",close:"22:00",isOpen:!0},wednesday:{open:"09:00",close:"22:00",isOpen:!0},thursday:{open:"09:00",close:"22:00",isOpen:!0},friday:{open:"09:00",close:"22:00",isOpen:!0},saturday:{open:"09:00",close:"22:00",isOpen:!0},sunday:{open:"09:00",close:"22:00",isOpen:!0}},capacity:{seatingCapacity:0,kitchenCapacity:0,storageCapacity:0,capacityUnit:"SQM"},status:"Active",isCentralKitchen:!1,features:[],timezone:"Asia/Kuwait",notes:""}),[s,i]=C.useState({}),[l,o]=C.useState(!1),[c,u]=C.useState(!0),h=["Restaurant","Cafe","Food Court","Drive-Thru","Takeaway"],d=["Active","Inactive","Maintenance","Closed"],m=["SQM","CBM","KG","TON"],g=["Delivery","Takeaway","Dine-in","Drive-thru","Online Ordering","Catering"];C.useEffect(()=>{t&&b()},[t]);const b=async()=>{try{u(!0);const y=await Q.getOutlet(t);y.success?a(y.data):(alert("Failed to load outlet"),e("/outlets"))}catch(y){alert("Error loading outlet: "+(y instanceof Error?y.message:"Unknown error")),e("/outlets")}finally{u(!1)}},x=()=>{const y={};return r.outletCode.trim()||(y.outletCode="Outlet code is required"),r.outletName.trim()||(y.outletName="Outlet name is required"),r.address.street.trim()||(y.street="Street address is required"),r.address.city.trim()||(y.city="City is required"),r.contactInfo.phone.trim()||(y.phone="Phone number is required"),r.contactInfo.email.trim()||(y.email="Email is required"),r.contactInfo.managerName.trim()||(y.managerName="Manager name is required"),i(y),Object.keys(y).length===0},j=async y=>{if(y.preventDefault(),!!x()){o(!0);try{(await Q.updateOutlet(t,r)).success?(alert("Outlet updated successfully!"),e("/outlets")):alert("Failed to update outlet")}catch(f){alert("Error updating outlet: "+(f instanceof Error?f.message:"Unknown error")),console.error("Error updating outlet:",f)}finally{o(!1)}}},N=(y,f)=>{if(y.includes(".")){const[p,v]=y.split(".");a(w=>({...w,[p]:{...w[p]||{},[v]:f}}))}else a(p=>({...p,[y]:f}));s[y]&&i(p=>({...p,[y]:""}))},S=y=>{a(f=>({...f,features:f.features.includes(y)?f.features.filter(p=>p!==y):[...f.features,y]}))};return c?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading outlet..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>e("/outlets"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Le,{className:"h-5 w-5 mr-2"}),"Back to Outlets"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Outlet"}),n.jsx("p",{className:"text-gray-600",children:"Update outlet information"})]})]})}),n.jsxs("form",{onSubmit:j,className:"space-y-6",children:[n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Code *"}),n.jsx("input",{type:"text",className:`input-field ${s.outletCode?"border-red-500":""}`,value:r.outletCode,onChange:y=>N("outletCode",y.target.value.toUpperCase()),placeholder:"OUTLET-001"}),s.outletCode&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.outletCode})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.outletName?"border-red-500":""}`,value:r.outletName,onChange:y=>N("outletName",y.target.value),placeholder:"Downtown Restaurant"}),s.outletName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.outletName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Type"}),n.jsx("select",{className:"input-field",value:r.outletType,onChange:y=>N("outletType",y.target.value),children:h.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("select",{className:"input-field",value:r.status,onChange:y=>N("status",y.target.value),children:d.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.description,onChange:y=>N("description",y.target.value),placeholder:"Brief description of the outlet..."})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isCentralKitchen",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:r.isCentralKitchen,onChange:y=>N("isCentralKitchen",y.target.checked)}),n.jsx("label",{htmlFor:"isCentralKitchen",className:"ml-2 block text-sm text-gray-900",children:"This is a Central Kitchen"})]})})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),n.jsx("input",{type:"text",className:`input-field ${s.street?"border-red-500":""}`,value:r.address.street,onChange:y=>N("address.street",y.target.value),placeholder:"123 Main Street"}),s.street&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.street})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsx("input",{type:"text",className:`input-field ${s.city?"border-red-500":""}`,value:r.address.city,onChange:y=>N("address.city",y.target.value),placeholder:"Kuwait City"}),s.city&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.city})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),n.jsx("input",{type:"text",className:"input-field",value:r.address.state,onChange:y=>N("address.state",y.target.value),placeholder:"Kuwait"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),n.jsx("input",{type:"text",className:"input-field",value:r.address.zipCode,onChange:y=>N("address.zipCode",y.target.value),placeholder:"12345"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),n.jsx("input",{type:"text",className:"input-field",value:r.address.country,onChange:y=>N("address.country",y.target.value),placeholder:"Kuwait"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Phone *"}),n.jsx("input",{type:"tel",className:`input-field ${s.phone?"border-red-500":""}`,value:r.contactInfo.phone,onChange:y=>N("contactInfo.phone",y.target.value),placeholder:"+965 1234 5678"}),s.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outlet Email *"}),n.jsx("input",{type:"email",className:`input-field ${s.email?"border-red-500":""}`,value:r.contactInfo.email,onChange:y=>N("contactInfo.email",y.target.value),placeholder:"outlet@restaurant.com"}),s.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name *"}),n.jsx("input",{type:"text",className:`input-field ${s.managerName?"border-red-500":""}`,value:r.contactInfo.managerName,onChange:y=>N("contactInfo.managerName",y.target.value),placeholder:"John Smith"}),s.managerName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.managerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Phone"}),n.jsx("input",{type:"tel",className:"input-field",value:r.contactInfo.managerPhone,onChange:y=>N("contactInfo.managerPhone",y.target.value),placeholder:"+965 9876 5432"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Email"}),n.jsx("input",{type:"email",className:"input-field",value:r.contactInfo.managerEmail,onChange:y=>N("contactInfo.managerEmail",y.target.value),placeholder:"manager@restaurant.com"})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Capacity & Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:r.capacity.seatingCapacity,onChange:y=>N("capacity.seatingCapacity",parseInt(y.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kitchen Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:r.capacity.kitchenCapacity,onChange:y=>N("capacity.kitchenCapacity",parseInt(y.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Capacity"}),n.jsx("input",{type:"number",className:"input-field",value:r.capacity.storageCapacity,onChange:y=>N("capacity.storageCapacity",parseInt(y.target.value)||0),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity Unit"}),n.jsx("select",{className:"input-field",value:r.capacity.capacityUnit,onChange:y=>N("capacity.capacityUnit",y.target.value),children:m.map(y=>n.jsx("option",{value:y,children:y},y))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(y=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:r.features.includes(y),onChange:()=>S(y)}),n.jsx("span",{className:"ml-2 text-sm text-gray-900",children:y})]},y))})]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("input",{type:"text",className:"input-field",value:r.timezone,onChange:y=>N("timezone",y.target.value),placeholder:"Asia/Kuwait"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:r.notes,onChange:y=>N("notes",y.target.value),placeholder:"Additional notes about the outlet..."})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>e("/outlets"),className:"btn-secondary",disabled:l,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:l,children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Update Outlet"]})})]})]})]})},EZ=()=>{const e=ye(),[t,r]=C.useState(null),[a,s]=C.useState(!0),[i,l]=C.useState(null),{notifications:o,markAsRead:c,markAllAsRead:u,clearAll:h}=ha("Central Kitchen");C.useEffect(()=>{d()},[]);const d=async()=>{try{s(!0),l(null);const m=await Q.getCentralKitchens();if(m.success&&m.data.length>0){const g=m.data[0];r(g)}else l("Central Kitchen not found")}catch(m){l(m instanceof Error?m.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",m)}finally{s(!1)}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Central Kitchen..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:d,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(rr,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Central Kitchen"}),n.jsxs("p",{className:"text-gray-600",children:["Main production facility - ",t==null?void 0:t.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:d,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsx(fa,{notifications:o,onMarkAsRead:c,onMarkAllAsRead:u,onClearAll:h})]})]}),n.jsx("div",{className:"card p-6 bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(rr,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t==null?void 0:t.outletName}),n.jsx("p",{className:"text-gray-600",children:"Central Kitchen Operations"}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(xy,{className:"h-4 w-4 mr-1"}),"Production Facility"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx($d,{className:"h-4 w-4 mr-1"}),"24/7 Operations"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-1"}),"Distribution Hub"]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t==null?void 0:t.outletCode}),n.jsx("div",{className:"text-sm text-gray-500",children:"Central Kitchen"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Material Inventory"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(ba,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Good Inventory"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/make-finished-good"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(pu,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Make Finished Good"}),n.jsx("p",{className:"text-gray-600",children:"Create finished goods from raw materials"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/central-kitchen/create-transfer"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(kt,{className:"h-8 w-8 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Transfer"}),n.jsx("p",{className:"text-gray-600",children:"Transfer inventory to outlets"})]})]})})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("button",{onClick:()=>e("/central-kitchen/add-item"),className:"btn-primary flex items-center justify-center",children:[n.jsx(xe,{className:"h-4 w-4 mr-2"}),"Add Inventory Item"]}),n.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center justify-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),"View All Transfers"]}),n.jsxs("button",{onClick:()=>e("/sales-orders"),className:"btn-secondary flex items-center justify-center",children:[n.jsx(rr,{className:"h-4 w-4 mr-2"}),"View Sales Orders"]})]})]})]})},jO=()=>{const[e,t]=C.useState({isOpen:!1,title:"",message:"",type:"info",confirmText:"OK",cancelText:"Cancel",showCancel:!1}),r=C.useCallback(async(u,h,d="info")=>new Promise(m=>{t({isOpen:!0,title:u,message:h,type:d,confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(g=>({...g,isOpen:!1})),m(void 0)}})}),[]),a=C.useCallback(async(u,h,d="warning")=>new Promise(m=>{t({isOpen:!0,title:u,message:h,type:d,confirmText:"Confirm",cancelText:"Cancel",showCancel:!0,onConfirm:()=>{t(g=>({...g,isOpen:!1})),m(!0)},onCancel:()=>{t(g=>({...g,isOpen:!1})),m(!1)}})}),[]),s=C.useCallback(async u=>new Promise(h=>{t({isOpen:!0,title:"Confirm Delete",message:`Are you sure you want to delete "${u}"? This action cannot be undone.`,type:"error",confirmText:"Delete",cancelText:"Cancel",showCancel:!0,onConfirm:()=>{t(d=>({...d,isOpen:!1})),h(!0)},onCancel:()=>{t(d=>({...d,isOpen:!1})),h(!1)}})}),[]),i=C.useCallback(async(u,h)=>new Promise(d=>{t({isOpen:!0,title:u,message:h,type:"success",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(m=>({...m,isOpen:!1})),d(void 0)}})}),[]),l=C.useCallback(async(u,h)=>new Promise(d=>{t({isOpen:!0,title:u,message:h,type:"error",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(m=>({...m,isOpen:!1})),d(void 0)}})}),[]),o=C.useCallback(async(u,h)=>new Promise(d=>{t({isOpen:!0,title:u,message:h,type:"warning",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:()=>{t(m=>({...m,isOpen:!1})),d(void 0)}})}),[]),c=C.useCallback(()=>{t(u=>({...u,isOpen:!1}))},[]);return{confirmation:e,showAlert:r,showConfirm:a,showDeleteConfirm:s,showSuccess:i,showError:l,showWarning:o,closeConfirmation:c}},NO=({isOpen:e,onClose:t,onConfirm:r,onCancel:a,title:s,message:i,type:l="info",confirmText:o="OK",cancelText:c="Cancel",showCancel:u=!1})=>{if(!e)return null;const h=()=>{switch(l){case"success":return n.jsx(WS,{className:"h-6 w-6 text-green-600"});case"warning":return n.jsx(Yr,{className:"h-6 w-6 text-yellow-600"});case"error":return n.jsx(KS,{className:"h-6 w-6 text-red-600"});default:return n.jsx(zS,{className:"h-6 w-6 text-blue-600"})}},d=()=>{switch(l){case"success":return"bg-green-600 hover:bg-green-700 text-white";case"warning":return"bg-yellow-600 hover:bg-yellow-700 text-white";case"error":return"bg-red-600 hover:bg-red-700 text-white";default:return"bg-blue-600 hover:bg-blue-700 text-white"}},m=()=>{r&&r(),t()},g=()=>{a&&a(),t()};return n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[n.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),n.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[n.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:n.jsxs("div",{className:"sm:flex sm:items-start",children:[n.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-gray-100 sm:mx-0 sm:h-10 sm:w-10",children:h()}),n.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1",children:[n.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:s}),n.jsx("div",{className:"mt-2",children:n.jsx("p",{className:"text-sm text-gray-500 whitespace-pre-line",children:i})})]})]})}),n.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[u&&n.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:g,children:c}),n.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm ${d()}`,onClick:m,children:o})]})]})]})})},wO=({isOpen:e,onClose:t,transferOrder:r,onAccept:a,onReject:s,loading:i=!1})=>{if(!e||!r)return null;const l=u=>{switch(u){case"Urgent":return"bg-red-100 text-red-800 border-red-200";case"High":return"bg-orange-100 text-orange-800 border-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},o=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=u=>new Intl.NumberFormat("en-KW",{style:"currency",currency:"KWD"}).format(u);return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(kt,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Transfer Order Details"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",r.transferNumber]})]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:i,children:n.jsx(ke,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-200px)]",children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 gap-6",children:n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(rr,{className:"h-5 w-5 text-blue-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"From Outlet"})]}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Outlet:"}),n.jsx("span",{className:"ml-2 text-gray-900",children:r.fromOutlet.name})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(xD,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Transfer Date"})]}),n.jsx("p",{className:"text-gray-900",children:o(r.transferDate)})]}),n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(KS,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Priority"})]}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${l(r.priority)}`,children:r.priority})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(To,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Requested By"})]}),n.jsx("p",{className:"text-gray-900",children:r.requestedBy}),n.jsx("p",{className:"text-xs text-gray-500",children:o(r.requestedAt||r.transferDate)})]})}),n.jsxs("div",{className:"card p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transfer Items"}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Price"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map((u,h)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u.itemCode}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:u.itemName}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.itemType==="Raw Material"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:u.itemType==="Raw Material"?"Raw Material":"Finished Goods"})}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:[u.category||"-",u.subCategory&&n.jsx("div",{className:"text-xs text-gray-400",children:u.subCategory})]}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:[u.quantity," ",u.unitOfMeasure]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:c(u.unitPrice)}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c(u.totalPrice||u.totalValue||0)})]},h))})]}),n.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Amount:"}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:c(r.totalAmount||r.totalValue||0)})]})})]})]})]})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Review the transfer order details before making a decision"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",disabled:i,children:"Close"}),n.jsx("button",{onClick:()=>{const u=r._id||r.id||"";console.log("TransferOrderModal: Reject button clicked"),console.log("TransferOrderModal: transferOrder._id =",r._id),console.log("TransferOrderModal: transferOrder.id =",r.id),console.log("TransferOrderModal: Using transferOrderId =",u),s(u)},className:"px-4 py-2 text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors disabled:opacity-50",disabled:i,children:i?"Processing...":"Reject Order"}),n.jsx("button",{onClick:()=>{const u=r._id||r.id||"";console.log("TransferOrderModal: Accept button clicked"),console.log("TransferOrderModal: transferOrder._id =",r._id),console.log("TransferOrderModal: transferOrder.id =",r.id),console.log("TransferOrderModal: Using transferOrderId =",u),a(u)},className:"px-4 py-2 text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors disabled:opacity-50",disabled:i,children:i?"Processing...":"Accept Order"})]})]})]})})},MZ=()=>{const e=ye(),t=C.useRef(null),{confirmation:r,showAlert:a,closeConfirmation:s}=jO(),[i,l]=C.useState(null),[o,c]=C.useState([]),[u,h]=C.useState(!0),[d,m]=C.useState(null),[g,b]=C.useState(""),[x,j]=C.useState(""),[N,S]=C.useState(""),[y,f]=C.useState("materialName"),[p,v]=C.useState("asc"),[w,k]=C.useState(null),[P,A]=C.useState(!1),[D,O]=C.useState({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""}),[M,L]=C.useState(!1),[R,E]=C.useState(null),[B,T]=C.useState(!1),{notifications:I,markAsRead:$,markAllAsRead:F,clearAll:_,refreshNotifications:G}=ha("Central Kitchen"),ee=I.filter(z=>{var se,ie,He,ve;return z.isTransferOrder&&(z.itemType==="Raw Material"||z.itemType==="Mixed")&&(((se=z.title)==null?void 0:se.includes("Transfer Request from Kuwait City"))||((ie=z.title)==null?void 0:ie.includes("Transfer Request from 360 Mall"))||((He=z.title)==null?void 0:He.includes("Transfer Request from Vibe Complex"))||((ve=z.title)==null?void 0:ve.includes("Transfer Request from Taiba Hospital")))});C.useEffect(()=>{de()},[]),C.useEffect(()=>{u||X()},[g,x,N,y,p]);const de=async()=>{try{h(!0),m(null);const z=await Q.getCentralKitchens();if(z.success&&z.data.length>0){const se=z.data[0];l({id:se._id,outletCode:se.kitchenCode,outletName:se.kitchenName,outletType:"Central Kitchen",isCentralKitchen:!0}),await X()}else m("Central Kitchen not found")}catch(z){m(z instanceof Error?z.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",z)}finally{h(!1)}},X=async()=>{try{console.log("Loading raw materials from Central Kitchen dedicated database");const z=await Q.getCentralKitchenRawMaterials({limit:1e3,search:g,subCategory:x,status:N,sortBy:y==="materialName"?"materialName":y,sortOrder:p});if(z.success)if(console.log("Loaded Central Kitchen Raw Materials:",z.data),z.data&&z.data.length>0){const se=z.data.map(ie=>({id:ie._id||ie.id,outletId:"central-kitchen",outletCode:"CK001",outletName:"Central Kitchen",materialId:ie._id,materialCode:ie.materialCode,materialName:ie.materialName,category:ie.subCategory,unitOfMeasure:ie.unitOfMeasure,unitPrice:ie.unitPrice,currentStock:ie.currentStock,reservedStock:0,availableStock:ie.currentStock,minimumStock:ie.minimumStock,maximumStock:ie.maximumStock,reorderPoint:ie.reorderPoint,totalValue:ie.currentStock*ie.unitPrice,location:"Main Storage",batchNumber:"",supplier:"",lastUpdated:ie.lastStockUpdate||ie.updatedAt,status:ie.status,notes:ie.notes||"",isActive:!0}));c(se)}else console.log("No raw materials inventory found for this central kitchen"),c([]),m("No raw materials inventory found. Please add some raw materials to the central kitchen.");else console.error("Failed to load raw materials inventory:",z.error||"API Error"),m(`Failed to load inventory from server: ${z.error||"Unknown error"}`)}catch(z){m(z instanceof Error?z.message:"Failed to load inventory"),console.error("Error loading inventory:",z)}},ae=()=>{b(""),j(""),S(""),f("materialName"),v("asc")},we=z=>{k(z),O({currentStock:z.currentStock.toString(),minimumStock:z.minimumStock.toString(),maximumStock:z.maximumStock.toString(),reorderPoint:z.reorderPoint.toString(),unitPrice:z.unitPrice.toString(),notes:z.notes||""}),A(!0)},K=async()=>{if(w)try{h(!0);const z={currentStock:parseFloat(D.currentStock)||0,minimumStock:parseFloat(D.minimumStock)||0,maximumStock:parseFloat(D.maximumStock)||0,reorderPoint:parseFloat(D.reorderPoint)||0,unitPrice:parseFloat(D.unitPrice)||0,notes:D.notes,updatedBy:"user"},se=await Q.updateCentralKitchenRawMaterial(w.id,z);if(se.success)alert("Raw material updated successfully!"),A(!1),k(null),await X();else throw new Error(se.message||"Failed to update raw material")}catch(z){console.error("Error updating raw material:",z),alert(`Failed to update raw material: ${z instanceof Error?z.message:"Unknown error"}`)}finally{h(!1)}},le=()=>{A(!1),k(null),O({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""})},me=()=>{var z;(z=t.current)==null||z.click()},H=async z=>{var ie;const se=(ie=z.target.files)==null?void 0:ie[0];if(se){if(!se.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const ve=(await se.text()).split(`
`).filter(rn=>rn.trim());if(ve.length<2){alert("CSV file must contain at least a header row and one data row");return}const $e=ve.slice(1);let kr=0,pt=0;for(const rn of $e)try{const cr=rn.split(",").map(pa=>pa.replace(/"/g,"").trim()),xt={materialCode:cr[0],materialName:cr[1],category:cr[3],unitOfMeasure:cr[4],unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplier:"",notes:""},Sm={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(i==null?void 0:i.id)||"central-kitchen-001",outletCode:(i==null?void 0:i.outletCode)||"",outletName:(i==null?void 0:i.outletName)||"",materialId:xt.materialCode,materialCode:xt.materialCode,materialName:xt.materialName,category:xt.category,unitOfMeasure:xt.unitOfMeasure,unitPrice:xt.unitPrice,currentStock:xt.currentStock,reservedStock:0,availableStock:xt.currentStock,minimumStock:xt.minimumStock,maximumStock:xt.maximumStock,reorderPoint:Math.ceil(xt.minimumStock*1.5),totalValue:xt.currentStock*xt.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:xt.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:xt.notes,isActive:!0};c(pa=>[...pa,Sm]),kr++}catch{pt++}alert(`Import completed!

Successfully imported: ${kr} items
Errors: ${pt}`)}catch(He){alert("Error importing file: "+(He instanceof Error?He.message:"Unknown error"))}finally{t.current&&(t.current.value="")}}},ge=async()=>{const z=o.filter(ie=>ie.status==="Low Stock"||ie.status==="Out of Stock");if(z.length===0){await a("All Items In Stock","No items need to be requested at this time. All items are in stock.","info");return}const se=`Requested Items Notification:

Total items needing restock: ${z.length}

Items to request:
`+z.map(ie=>` ${ie.materialName} (${ie.materialCode}) - Current Stock: ${ie.currentStock} ${ie.unitOfMeasure}`).join(`
`)+`

Please contact suppliers to restock these items.`;await a("Requested Items Notification",se,"warning"),console.log("Requested items notification generated:",z)},fe=async z=>{try{const se=await Q.getTransferOrderById(z);if(se.success)return se.data;throw new Error(se.error||"Failed to fetch transfer order")}catch(se){throw console.error("Error fetching transfer order:",se),se}},W=async z=>{try{console.log("handleViewTransferOrder called with transferOrderId:",z),T(!0);const se=await fe(z);E(se),L(!0)}catch(se){console.error("Error loading transfer order:",se),alert("Failed to load transfer order details")}finally{T(!1)}},re=async z=>{var se,ie,He;try{T(!0),console.log("Starting acceptance process for transfer order:",z),console.log("Fetching transfer order details...");const ve=await fe(z);console.log("Transfer order details:",ve),console.log("Updating transfer order inventory...");let $e,kr;try{kr=await Q.updateTransferOrderInventory(z,"approve"),console.log("Inventory update response:",kr)}catch(pt){throw console.error("Inventory update failed:",pt),new Error(`Inventory update failed: ${pt instanceof Error?pt.message:"Unknown error"}`)}try{$e=await Q.updateTransferOrderStatus(z,{status:"Approved",approvedBy:"Central Kitchen Manager",notes:"Transfer order approved by Central Kitchen"}),console.log("Status update response:",$e)}catch(pt){throw console.error("Status update failed:",pt),new Error(`Status update failed: ${pt instanceof Error?pt.message:"Unknown error"}`)}if($e.success&&kr.success){const pt=((se=ve.items[0])==null?void 0:se.itemType)||"Mixed",rn=ve.items.map(pa=>`${pa.itemName} (${pa.quantity} ${pa.unitOfMeasure||"pcs"})`).join(", "),cr=typeof ve.fromOutlet=="string"?ve.fromOutlet:((ie=ve.fromOutlet)==null?void 0:ie.outletName)||((He=ve.fromOutlet)==null?void 0:He.name)||"Unknown Outlet";if(console.log(" Transfer Order Details:",{transferOrderId:z,fromOutlet:ve.fromOutlet,fromOutletType:typeof ve.fromOutlet,fromOutletString:JSON.stringify(ve.fromOutlet),toOutlet:ve.toOutlet,targetOutlet:cr,targetOutletType:typeof cr,fullTransferOrder:ve}),console.log(`Creating acceptance notification for ${cr}...`),!cr){console.error(" ERROR: targetOutlet is undefined! Transfer order fromOutlet:",ve.fromOutlet),alert("Error: Cannot determine target outlet for notification");return}const xt={title:"Transfer Order Accepted",message:`Transfer order #${ve.transferNumber} has been accepted. Items transferred: ${rn}`,type:"transfer_acceptance",targetOutlet:cr,sourceOutlet:"Central Kitchen",transferOrderId:z,itemType:pt,priority:"normal"};console.log(" Creating notification with data:",xt);const Sm=await Q.createNotification(xt);console.log(" Notification response:",Sm),alert(`Transfer order accepted and notification sent to ${cr}`),L(!1),E(null),$(z)}else throw new Error(`Failed to update transfer order status. Status: ${$e.success}, Inventory: ${kr.success}`)}catch(ve){console.error("Error accepting transfer order:",ve),console.error("Error details:",ve instanceof Error?ve.message:"Unknown error"),alert(`Failed to accept transfer order: ${ve instanceof Error?ve.message:"Unknown error"}`)}finally{T(!1)}},Z=async z=>{var se;try{T(!0),console.log("Starting rejection process for transfer order:",z),console.log("Fetching transfer order details...");const ie=await fe(z);console.log("Transfer order details:",ie),console.log("Updating transfer order inventory...");let He,ve;try{ve=await Q.updateTransferOrderInventory(z,"reject"),console.log("Inventory update response:",ve)}catch($e){throw console.error("Inventory update failed:",$e),new Error(`Inventory update failed: ${$e instanceof Error?$e.message:"Unknown error"}`)}try{He=await Q.updateTransferOrderStatus(z,{status:"Rejected",approvedBy:"Central Kitchen Manager",notes:"Transfer order rejected by Central Kitchen"}),console.log("Status update response:",He)}catch($e){throw console.error("Status update failed:",$e),new Error(`Status update failed: ${$e instanceof Error?$e.message:"Unknown error"}`)}if(He.success&&ve.success){const $e=((se=ie.items[0])==null?void 0:se.itemType)||"Mixed",kr=ie.items.map(rn=>`${rn.itemName} (${rn.quantity} ${rn.unitOfMeasure||"pcs"})`).join(", ");console.log("Creating notification for Kuwait City...");const pt=await Q.createNotification({title:"Transfer Order Rejected",message:`Transfer order #${ie.transferNumber} has been rejected. Requested items: ${kr}`,type:"transfer_rejection",targetOutlet:"Kuwait City",sourceOutlet:"Central Kitchen",transferOrderId:z,itemType:$e,priority:"normal"});console.log("Notification response:",pt),alert("Transfer order rejected and notification sent to Kuwait City"),L(!1),E(null),$(z)}else throw new Error(`Failed to update transfer order status. Status: ${He.success}, Inventory: ${ve.success}`)}catch(ie){console.error("Error rejecting transfer order:",ie),console.error("Error details:",ie instanceof Error?ie.message:"Unknown error"),alert(`Failed to reject transfer order: ${ie instanceof Error?ie.message:"Unknown error"}`)}finally{T(!1)}},U=o.length,J=o.reduce((z,se)=>z+se.totalValue,0),je=o.filter(z=>z.status==="Low Stock").length,te=o.filter(z=>z.status==="Out of Stock").length,Me=[...new Set(o.map(z=>z.category))];return u?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Raw Materials..."})]})}):d?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:d}),n.jsx("button",{onClick:de,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Raw Material Inventory"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",i==null?void 0:i.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:de,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/central-kitchen/add-item"),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Raw Material"]}),n.jsxs("button",{onClick:ge,className:"btn-secondary flex items-center",title:"Requested Item",children:[n.jsx(fu,{className:"h-4 w-4 mr-2"}),"Requested Item"]}),n.jsx(fa,{notifications:ee,onMarkAsRead:$,onMarkAllAsRead:F,onClearAll:_,onViewTransferOrder:W,onRefresh:G})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:U})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[J.toFixed(2)," KWD"]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Yr,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:je})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(py,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:te})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search raw materials by name, code, or supplier...",className:"input-field pl-10",value:g,onChange:z=>b(z.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:ae,className:"btn-secondary flex items-center",title:"Clear all filters",children:"Clear Filters"}),n.jsxs("button",{onClick:me,className:"btn-secondary flex items-center",title:"Import inventory from CSV",children:[n.jsx(hi,{className:"h-4 w-4 mr-2"}),"Import"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"input-field",value:x,onChange:z=>j(z.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),Me.map(z=>n.jsx("option",{value:z,children:z},z))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:N,onChange:z=>S(z.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"In Stock",children:"In Stock"}),n.jsx("option",{value:"Low Stock",children:"Low Stock"}),n.jsx("option",{value:"Out of Stock",children:"Out of Stock"}),n.jsx("option",{value:"Overstock",children:"Overstock"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:y,onChange:z=>f(z.target.value),children:[n.jsx("option",{value:"materialName",children:"Material Name"}),n.jsx("option",{value:"currentStock",children:"Current Stock"}),n.jsx("option",{value:"totalValue",children:"Total Value"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"lastUpdated",children:"Last Updated"})]}),n.jsx("button",{onClick:()=>v(p==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${p==="asc"?"Descending":"Ascending"}`,children:p==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",o.length," raw material items",(g||x||N)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(g||x||N)&&n.jsx("button",{onClick:ae,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),n.jsxs("div",{className:"card overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials Inventory"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Complete inventory list with all fields"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-green-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(z=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:z.materialCode}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:z.materialName}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:z.category}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:z.unitOfMeasure}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:z.currentStock}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{onClick:()=>we(z),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:"Edit"})})]},z.id))})]})})]}),n.jsx("input",{ref:t,type:"file",accept:".csv",onChange:H,style:{display:"none"}}),P&&w&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Edit Raw Material: ",w.materialName]}),n.jsx("button",{onClick:le,className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Stock (",w.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:D.currentStock,onChange:z=>O(se=>({...se,currentStock:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Minimum Stock (",w.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:D.minimumStock,onChange:z=>O(se=>({...se,minimumStock:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Maximum Stock (",w.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:D.maximumStock,onChange:z=>O(se=>({...se,maximumStock:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reorder Point (",w.unitOfMeasure,")"]}),n.jsx("input",{type:"number",value:D.reorderPoint,onChange:z=>O(se=>({...se,reorderPoint:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",value:D.unitPrice,onChange:z=>O(se=>({...se,unitPrice:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:D.notes,onChange:z=>O(se=>({...se,notes:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Optional notes..."})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:le,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),n.jsx("button",{onClick:K,disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:u?"Saving...":"Save Changes"})]})]})}),n.jsx(NO,{isOpen:r.isOpen,onClose:s,onConfirm:r.onConfirm,onCancel:r.onCancel,title:r.title,message:r.message,type:r.type,confirmText:r.confirmText,cancelText:r.cancelText,showCancel:r.showCancel}),n.jsx(wO,{isOpen:M,onClose:()=>{L(!1),E(null)},transferOrder:R,onAccept:re,onReject:Z,loading:B})]})},IZ=()=>{const e=ye(),t=C.useRef(null),{confirmation:r,showAlert:a,closeConfirmation:s}=jO(),[i,l]=C.useState(null),[o,c]=C.useState([]),[u,h]=C.useState(!0),[d,m]=C.useState(null),[g,b]=C.useState(""),[x,j]=C.useState(""),[N,S]=C.useState(""),[y,f]=C.useState("productName"),[p,v]=C.useState("asc"),[w,k]=C.useState(!1),[P,A]=C.useState(null),[D,O]=C.useState(!1),{notifications:M,markAsRead:L,markAllAsRead:R,clearAll:E,refreshNotifications:B}=ha("Central Kitchen"),T=M.filter(W=>{var re,Z,U,J;return W.isTransferOrder&&(W.itemType==="Finished Goods"||W.itemType==="Mixed")&&(((re=W.title)==null?void 0:re.includes("Transfer Request from Kuwait City"))||((Z=W.title)==null?void 0:Z.includes("Transfer Request from 360 Mall"))||((U=W.title)==null?void 0:U.includes("Transfer Request from Vibe Complex"))||((J=W.title)==null?void 0:J.includes("Transfer Request from Taiba Hospital")))});C.useEffect(()=>{I(),$()},[]),C.useEffect(()=>{u||$()},[u,g,x,N,y,p]);const I=async()=>{try{h(!0),m(null);const W=await Q.getCentralKitchens();if(W.success&&W.data.length>0){const re=W.data[0];l({id:re._id,outletCode:re.outletCode||re.kitchenCode,outletName:re.outletName||re.kitchenName,outletType:"Central Kitchen",isCentralKitchen:!0})}else m("Central Kitchen not found")}catch(W){m(W instanceof Error?W.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",W)}finally{h(!1)}},$=async()=>{try{console.log("Loading finished goods from Central Kitchen dedicated database");const W=await Q.getCentralKitchenFinishedProducts({limit:1e3,search:g,subCategory:x,status:N,sortBy:y==="productName"?"productName":y,sortOrder:p});if(W.success)if(console.log("Loaded Central Kitchen Finished Goods:",W.data),W.data&&W.data.length>0){const re=W.data.map(Z=>({id:Z._id||Z.id,outletId:"central-kitchen",outletCode:"CK001",outletName:"Central Kitchen",productId:Z._id,productCode:Z.productCode,productName:Z.productName,category:Z.category,subCategory:Z.subCategory,unitOfMeasure:Z.unitOfMeasure,unitPrice:Z.unitPrice,costPrice:Z.costPrice,currentStock:Z.currentStock,availableStock:Z.currentStock,minimumStock:Z.minimumStock,maximumStock:Z.maximumStock,totalValue:Z.currentStock*Z.unitPrice,productionDate:new Date().toISOString(),expiryDate:Z.shelfLife?new Date(Date.now()+Z.shelfLife*24*60*60*1e3).toISOString():new Date(Date.now()+6048e5).toISOString(),qualityStatus:"Good",batchNumber:`FG-${Z.productCode}-${Date.now()}`,location:"Main Storage",status:Z.status,notes:Z.notes||"",isActive:Z.isActive,reservedStock:Z.reservedStock||0,reorderPoint:Z.reorderPoint||Z.minimumStock||0,storageLocation:Z.storageLocation||"Default Location",storageTemperature:Z.storageTemperature||"Room Temperature",lastStockCount:Z.lastStockCount||new Date().toISOString(),shelfLife:Z.shelfLife||0,qualityNotes:Z.qualityNotes||"",transferSource:Z.transferSource||"Central Kitchen",lastUpdated:Z.lastUpdated||new Date().toISOString()}));c(re)}else console.log("No finished goods inventory found for this central kitchen"),c([]),m("No finished goods inventory found. Please add some finished goods to the central kitchen.");else console.error("Failed to load finished goods inventory:",W.error||"API Error"),m(`Failed to load inventory from server: ${W.error||"Unknown error"}`)}catch(W){m(W instanceof Error?W.message:"Failed to load inventory"),console.error("Error loading inventory:",W)}},F=()=>{b(""),j(""),S(""),f("productName"),v("asc")},_=()=>{var W;(W=t.current)==null||W.click()},G=async W=>{var Z;const re=(Z=W.target.files)==null?void 0:Z[0];if(re){if(!re.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const J=(await re.text()).split(`
`).filter(z=>z.trim());if(J.length<2){alert("CSV file must contain at least a header row and one data row");return}const je=J.slice(1);let te=0,Me=0;for(const z of je)try{const se=z.split(",").map(ve=>ve.replace(/"/g,"").trim()),ie={productCode:se[0],productName:se[1],category:se[2],unitOfMeasure:se[3],unitPrice:parseFloat(se[4])||0,costPrice:parseFloat(se[5])||0,currentStock:parseInt(se[6])||0,minimumStock:parseInt(se[8])||0,maximumStock:parseInt(se[9])||0,productionDate:se[12]||new Date().toISOString().split("T")[0],expiryDate:se[13]||new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],batchNumber:se[14]||`BATCH-${Date.now()}`,storageLocation:se[15]||"Cold Storage",storageTemperature:se[16]||"4C",qualityStatus:se[17]||"Good",notes:se[19]||""},He={id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(i==null?void 0:i.id)||"central-kitchen-001",outletCode:(i==null?void 0:i.outletCode)||"",outletName:(i==null?void 0:i.outletName)||"",productId:ie.productCode,productCode:ie.productCode,productName:ie.productName,category:ie.category,unitOfMeasure:ie.unitOfMeasure,unitPrice:ie.unitPrice,costPrice:ie.costPrice,currentStock:ie.currentStock,reservedStock:0,availableStock:ie.currentStock,minimumStock:ie.minimumStock,maximumStock:ie.maximumStock,reorderPoint:Math.ceil(ie.minimumStock*1.5),totalValue:ie.currentStock*ie.unitPrice,productionDate:ie.productionDate,expiryDate:ie.expiryDate,batchNumber:ie.batchNumber,storageLocation:ie.storageLocation,storageTemperature:ie.storageTemperature,qualityStatus:ie.qualityStatus,qualityNotes:"Imported from CSV",status:"In Stock",transferSource:"Import",lastUpdated:new Date().toISOString(),notes:ie.notes,isActive:!0};c(ve=>[...ve,He]),te++}catch{Me++}alert(`Import completed!

Successfully imported: ${te} items
Errors: ${Me}`)}catch(U){alert("Error importing file: "+(U instanceof Error?U.message:"Unknown error"))}finally{t.current&&(t.current.value="")}}},ee=async()=>{const W=o.filter(Z=>Z.status==="Low Stock"||Z.status==="Out of Stock");if(W.length===0){await a("All Items In Stock","No finished goods need to be produced at this time. All items are in stock.","info");return}const re=`Requested Finished Goods Notification:

Total items needing production: ${W.length}

Items to produce:
`+W.map(Z=>` ${Z.productName} (${Z.productCode}) - Current Stock: ${Z.currentStock} ${Z.unitOfMeasure}`).join(`
`)+`

Please schedule production for these finished goods.`;await a("Requested Finished Goods Notification",re,"warning"),console.log("Requested finished goods notification generated:",W)},de=async W=>{try{const re=await Q.getTransferOrderById(W);if(re.success)return re.data;throw new Error(re.error||"Failed to fetch transfer order")}catch(re){throw console.error("Error fetching transfer order:",re),re}},X=async W=>{try{console.log("handleViewTransferOrder called with transferOrderId:",W),O(!0);const re=await de(W);A(re),k(!0)}catch(re){console.error("Error loading transfer order:",re),alert("Failed to load transfer order details")}finally{O(!1)}},ae=async W=>{var re,Z,U;try{O(!0),console.log("Starting acceptance process for transfer order:",W),console.log("Fetching transfer order details...");const J=await de(W);console.log("Transfer order details:",J),console.log("Updating transfer order inventory...");let je,te;try{te=await Q.updateTransferOrderInventory(W,"approve"),console.log("Inventory update response:",te)}catch(Me){throw console.error("Inventory update failed:",Me),new Error(`Inventory update failed: ${Me instanceof Error?Me.message:"Unknown error"}`)}try{je=await Q.updateTransferOrderStatus(W,{status:"Approved",approvedBy:"Central Kitchen Manager",notes:"Transfer order approved by Central Kitchen"}),console.log("Status update response:",je)}catch(Me){throw console.error("Status update failed:",Me),new Error(`Status update failed: ${Me instanceof Error?Me.message:"Unknown error"}`)}if(je.success&&te.success){const Me=((re=J.items[0])==null?void 0:re.itemType)||"Mixed",z=J.items.map(He=>`${He.itemName} (${He.quantity} ${He.unitOfMeasure||"pcs"})`).join(", "),se=typeof J.fromOutlet=="string"?J.fromOutlet:((Z=J.fromOutlet)==null?void 0:Z.outletName)||((U=J.fromOutlet)==null?void 0:U.name)||"Unknown Outlet";if(console.log(" Transfer Order Details:",{transferOrderId:W,fromOutlet:J.fromOutlet,fromOutletType:typeof J.fromOutlet,fromOutletString:JSON.stringify(J.fromOutlet),toOutlet:J.toOutlet,targetOutlet:se,targetOutletType:typeof se,fullTransferOrder:J}),console.log(`Creating acceptance notification for ${se}...`),!se){console.error(" ERROR: targetOutlet is undefined! Transfer order fromOutlet:",J.fromOutlet),alert("Error: Cannot determine target outlet for notification");return}const ie=await Q.createNotification({title:"Transfer Order Accepted",message:`Transfer order #${J.transferNumber} has been accepted. Items transferred: ${z}`,type:"transfer_acceptance",targetOutlet:se,sourceOutlet:"Central Kitchen",transferOrderId:W,itemType:Me,priority:"normal"});console.log("Notification response:",ie),alert(`Transfer order accepted and notification sent to ${se}`),k(!1),A(null),L(W)}else throw new Error(`Failed to update transfer order status. Status: ${je.success}, Inventory: ${te.success}`)}catch(J){console.error("Error accepting transfer order:",J),console.error("Error details:",J instanceof Error?J.message:"Unknown error"),alert(`Failed to accept transfer order: ${J instanceof Error?J.message:"Unknown error"}`)}finally{O(!1)}},we=async W=>{var re;try{O(!0),console.log("Starting rejection process for transfer order:",W),console.log("Fetching transfer order details...");const Z=await de(W);console.log("Transfer order details:",Z),console.log("Updating transfer order inventory...");let U,J;try{J=await Q.updateTransferOrderInventory(W,"reject"),console.log("Inventory update response:",J)}catch(je){throw console.error("Inventory update failed:",je),new Error(`Inventory update failed: ${je instanceof Error?je.message:"Unknown error"}`)}try{U=await Q.updateTransferOrderStatus(W,{status:"Rejected",approvedBy:"Central Kitchen Manager",notes:"Transfer order rejected by Central Kitchen"}),console.log("Status update response:",U)}catch(je){throw console.error("Status update failed:",je),new Error(`Status update failed: ${je instanceof Error?je.message:"Unknown error"}`)}if(U.success&&J.success){const je=((re=Z.items[0])==null?void 0:re.itemType)||"Mixed",te=Z.items.map(z=>`${z.itemName} (${z.quantity} ${z.unitOfMeasure||"pcs"})`).join(", ");console.log("Creating notification for Kuwait City...");const Me=await Q.createNotification({title:"Transfer Order Rejected",message:`Transfer order #${Z.transferNumber} has been rejected. Requested items: ${te}`,type:"transfer_rejection",targetOutlet:"Kuwait City",sourceOutlet:"Central Kitchen",transferOrderId:W,itemType:je,priority:"normal"});console.log("Notification response:",Me),alert("Transfer order rejected and notification sent to Kuwait City"),k(!1),A(null),L(W)}else throw new Error(`Failed to update transfer order status. Status: ${U.success}, Inventory: ${J.success}`)}catch(Z){console.error("Error rejecting transfer order:",Z),console.error("Error details:",Z instanceof Error?Z.message:"Unknown error"),alert(`Failed to reject transfer order: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{O(!1)}},K=o.length,le=o.reduce((W,re)=>W+re.totalValue,0),me=o.filter(W=>W.status==="Low Stock").length,H=o.filter(W=>W.status==="Out of Stock").length,ge=o.filter(W=>W.status==="Expired").length,fe=[...new Set(o.map(W=>W.category))];return u?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Finished Goods..."})]})}):d?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:d}),n.jsx("button",{onClick:I,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Finished Good Inventory"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",i==null?void 0:i.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:I,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/central-kitchen/make-finished-good"),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Make Finished Good"]}),n.jsxs("button",{onClick:ee,className:"btn-secondary flex items-center",title:"Requested Item",children:[n.jsx(fu,{className:"h-4 w-4 mr-2"}),"Requested Item"]}),n.jsx(fa,{notifications:T,onMarkAsRead:L,onMarkAllAsRead:R,onClearAll:E,onViewTransferOrder:X,onRefresh:B})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:K})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[le.toFixed(2)," KWD"]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Yr,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:me})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(py,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:H})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(Yr,{className:"h-6 w-6 text-orange-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expired Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ge})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search finished goods by name, code, or category...",className:"input-field pl-10",value:g,onChange:W=>b(W.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:F,className:"btn-secondary flex items-center",title:"Clear all filters",children:"Clear Filters"}),n.jsxs("button",{onClick:_,className:"btn-secondary flex items-center",title:"Import inventory from CSV",children:[n.jsx(hi,{className:"h-4 w-4 mr-2"}),"Import"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{className:"input-field",value:x,onChange:W=>j(W.target.value),children:[n.jsx("option",{value:"",children:"All Categories"}),fe.map(W=>n.jsx("option",{value:W,children:W},W))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:N,onChange:W=>S(W.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"In Stock",children:"In Stock"}),n.jsx("option",{value:"Low Stock",children:"Low Stock"}),n.jsx("option",{value:"Out of Stock",children:"Out of Stock"}),n.jsx("option",{value:"Overstock",children:"Overstock"}),n.jsx("option",{value:"Expired",children:"Expired"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:y,onChange:W=>f(W.target.value),children:[n.jsx("option",{value:"productName",children:"Product Name"}),n.jsx("option",{value:"currentStock",children:"Current Stock"}),n.jsx("option",{value:"totalValue",children:"Total Value"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"expiryDate",children:"Expiry Date"}),n.jsx("option",{value:"lastUpdated",children:"Last Updated"})]}),n.jsx("button",{onClick:()=>v(p==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${p==="asc"?"Descending":"Ascending"}`,children:p==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",o.length," finished good items",(g||x||N)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(g||x||N)&&n.jsx("button",{onClick:F,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]}),n.jsxs("div",{className:"card overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods Inventory"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Complete finished goods inventory list"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"SKU"}),n.jsx("th",{className:"table-header",children:"Name of Finished Good"}),n.jsx("th",{className:"table-header",children:"Sub Category"}),n.jsx("th",{className:"table-header",children:"Current Stock Quantity"}),n.jsx("th",{className:"table-header",children:"Value"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(W=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900 font-medium",children:W.productCode})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900 font-medium",children:W.productName})}),n.jsx("td",{className:"table-cell",children:n.jsx("div",{className:"text-gray-900",children:W.subCategory||"-"})}),n.jsxs("td",{className:"table-cell",children:[n.jsx("div",{className:"text-gray-900 font-medium",children:W.currentStock}),n.jsx("div",{className:"text-gray-500 text-sm",children:W.unitOfMeasure})]}),n.jsxs("td",{className:"table-cell",children:[n.jsxs("div",{className:"text-gray-900 font-medium",children:[W.totalValue.toFixed(2)," KWD"]}),n.jsxs("div",{className:"text-gray-500 text-sm",children:[W.unitPrice.toFixed(2)," per ",W.unitOfMeasure]})]})]},W.id))})]})})]}),n.jsx("input",{ref:t,type:"file",accept:".csv",onChange:G,style:{display:"none"}}),n.jsx(NO,{isOpen:r.isOpen,onClose:s,onConfirm:r.onConfirm,onCancel:r.onCancel,title:r.title,message:r.message,type:r.type,confirmText:r.confirmText,cancelText:r.cancelText,showCancel:r.showCancel}),n.jsx(wO,{isOpen:w,onClose:()=>{k(!1),A(null)},transferOrder:P,onAccept:ae,onReject:we,loading:D})]})},$Z=()=>{const e=ye(),[t,r]=C.useState(null),[a,s]=C.useState(!0),[i,l]=C.useState(null),[o,c]=C.useState([]),[u,h]=C.useState(!1),[d,m]=C.useState({productCode:"",productName:"",category:"",unitOfMeasure:"pcs",quantity:1,costPrice:0,unitPrice:0,expiryDays:1,notes:""});C.useEffect(()=>{g()},[]);const g=async()=>{try{s(!0),l(null);const f=await Q.getCentralKitchens();if(f.success&&f.data.length>0){const p=f.data[0];r(p)}else l("Central Kitchen not found")}catch(f){l(f instanceof Error?f.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",f)}finally{s(!1)}},b=()=>{if(!d.productCode||!d.productName||!d.category){alert("Please fill in all required fields (Product Code, Product Name, Category)");return}const f={id:`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,productCode:d.productCode,productName:d.productName,category:d.category,unitOfMeasure:d.unitOfMeasure||"pcs",quantity:d.quantity||1,costPrice:d.costPrice||0,unitPrice:d.unitPrice||0,expiryDays:d.expiryDays||1,notes:d.notes||""};c(p=>[...p,f]),m({productCode:"",productName:"",category:"",unitOfMeasure:"pcs",quantity:1,costPrice:0,unitPrice:0,expiryDays:1,notes:""}),h(!1)},x=f=>{c(p=>p.filter(v=>v.id!==f))},j=(f,p,v)=>{c(w=>w.map(k=>k.id===f?{...k,[p]:v}:k))},N=async()=>{if(o.length===0){alert("Please add at least one item to produce");return}try{s(!0);for(const f of o){const p={outletId:t==null?void 0:t.id,outletCode:t==null?void 0:t.outletCode,outletName:t==null?void 0:t.outletName,productId:f.productCode,productCode:f.productCode,productName:f.productName,category:f.category,unitOfMeasure:f.unitOfMeasure,unitPrice:f.unitPrice,costPrice:f.costPrice,currentStock:f.quantity,reservedStock:0,availableStock:f.quantity,minimumStock:Math.ceil(f.quantity*.2),maximumStock:f.quantity*2,reorderPoint:Math.ceil(f.quantity*.3),totalValue:f.quantity*f.unitPrice,productionDate:new Date().toISOString(),expiryDate:new Date(Date.now()+f.expiryDays*24*60*60*1e3).toISOString(),batchNumber:`BATCH-${f.productCode}-${Date.now()}`,storageLocation:"Production Area",storageTemperature:"Room Temperature",qualityStatus:"Good",qualityNotes:"Freshly produced",status:"In Stock",transferSource:"Production",lastUpdated:new Date().toISOString(),notes:f.notes,isActive:!0};console.log("Producing item:",p)}alert(`Production completed successfully!

Produced ${o.length} items:
${o.map(f=>`- ${f.productName} (${f.quantity} ${f.unitOfMeasure})`).join(`
`)}`),c([])}catch(f){console.error("Error saving production:",f),alert("Failed to save production. Please try again.")}finally{s(!1)}},S=["Beverages","Meals","Bakery","Snacks","Desserts","Salads","Soups","Sandwiches"],y=["pcs","kg","L","g","ml","box","pack","serving"];return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Make Finished Good..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:g,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(pu,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Make Finished Good"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",t==null?void 0:t.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:g,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/central-kitchen/finished-goods"),className:"btn-secondary flex items-center",children:[n.jsx(xe,{className:"h-4 w-4 mr-2"}),"View Finished Goods"]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Production Form"}),n.jsxs("button",{onClick:()=>h(!u),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),u&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add Production Item"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Code *"}),n.jsx("input",{type:"text",className:"input-field",value:d.productCode||"",onChange:f=>m(p=>({...p,productCode:f.target.value})),placeholder:"e.g., FG001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),n.jsx("input",{type:"text",className:"input-field",value:d.productName||"",onChange:f=>m(p=>({...p,productName:f.target.value})),placeholder:"e.g., Espresso"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsxs("select",{className:"input-field",value:d.category||"",onChange:f=>m(p=>({...p,category:f.target.value})),children:[n.jsx("option",{value:"",children:"Select Category"}),S.map(f=>n.jsx("option",{value:f,children:f},f))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit of Measure"}),n.jsx("select",{className:"input-field",value:d.unitOfMeasure||"pcs",onChange:f=>m(p=>({...p,unitOfMeasure:f.target.value})),children:y.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field",value:d.quantity||1,onChange:f=>m(p=>({...p,quantity:parseInt(f.target.value)||1})),min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:d.costPrice||0,onChange:f=>m(p=>({...p,costPrice:parseFloat(f.target.value)||0})),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:d.unitPrice||0,onChange:f=>m(p=>({...p,unitPrice:parseFloat(f.target.value)||0})),min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Days"}),n.jsx("input",{type:"number",className:"input-field",value:d.expiryDays||1,onChange:f=>m(p=>({...p,expiryDays:parseInt(f.target.value)||1})),min:"1"})]}),n.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Production Notes"}),n.jsx("textarea",{className:"input-field",rows:2,value:d.notes||"",onChange:f=>m(p=>({...p,notes:f.target.value})),placeholder:"Additional notes about this production..."})]})]}),n.jsxs("div",{className:"flex gap-3 mt-4",children:[n.jsxs("button",{onClick:b,className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add to Production"]}),n.jsx("button",{onClick:()=>h(!1),className:"btn-secondary",children:"Cancel"})]})]}),o.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Production Items (",o.length,")"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiry Days"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(f=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.productName}),n.jsxs("div",{className:"text-sm text-gray-500",children:[f.productCode,"  ",f.category]})]})}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[n.jsx("input",{type:"number",className:"input-field w-20",value:f.quantity,onChange:p=>j(f.id,"quantity",parseInt(p.target.value)||1),min:"1"}),n.jsx("span",{className:"ml-2 text-sm text-gray-500",children:f.unitOfMeasure})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",step:"0.01",className:"input-field w-24",value:f.costPrice,onChange:p=>j(f.id,"costPrice",parseFloat(p.target.value)||0),min:"0"})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",step:"0.01",className:"input-field w-24",value:f.unitPrice,onChange:p=>j(f.id,"unitPrice",parseFloat(p.target.value)||0),min:"0"})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",className:"input-field w-20",value:f.expiryDays,onChange:p=>j(f.id,"expiryDays",parseInt(p.target.value)||1),min:"1"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("input",{type:"text",className:"input-field w-full",value:f.notes,onChange:p=>j(f.id,"notes",p.target.value),placeholder:"Production notes..."})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("button",{onClick:()=>x(f.id),className:"text-red-600 hover:text-red-900 text-sm",children:"Remove"})})]},f.id))})]})}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Production Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o.length})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Quantity"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o.reduce((f,p)=>f+p.quantity,0)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[o.reduce((f,p)=>f+p.quantity*p.unitPrice,0).toFixed(2)," KWD"]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Production Notes"}),n.jsx("textarea",{className:"input-field",rows:3,placeholder:"Additional notes about this production batch..."})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:N,disabled:a,className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Production"]})})]}),o.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(pu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Production Items"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Add items to start a production batch"}),n.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center mx-auto",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add First Item"]})]})]})]})},_Z=()=>{const e=ye(),[t,r]=C.useState(null),[a,s]=C.useState(!0),[i,l]=C.useState(null),[o,c]=C.useState([]),[u,h]=C.useState([]),[d,m]=C.useState([]),[g,b]=C.useState(!1),[x,j]=C.useState({toOutlet:"",transferDate:new Date().toISOString().split("T")[0],priority:"Normal",notes:""});C.useEffect(()=>{N(),S()},[]);const N=async()=>{try{s(!0),l(null);const D=await Q.getCentralKitchens();if(D.success&&D.data.length>0){const O=D.data[0];r(O)}else l("Central Kitchen not found")}catch(D){l(D instanceof Error?D.message:"Failed to load central kitchen data"),console.error("Error loading central kitchen data:",D)}finally{s(!1)}},S=async()=>{try{b(!0),console.log("Loading raw materials and finished goods data...");const D=await Q.getCentralKitchenRawMaterials({limit:1e3});D.success?(h(D.data),console.log("Loaded raw materials:",D.data.length)):console.error("Failed to load raw materials:",D.error||"API Error");const O=await Q.getCentralKitchenFinishedProducts({limit:1e3});O.success?(m(O.data),console.log("Loaded finished goods:",O.data.length)):console.error("Failed to load finished goods:",O.error||"API Error")}catch(D){console.error("Error loading materials data:",D)}finally{b(!1)}},y=()=>{console.log("Add Item button clicked!");const D=`form-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;console.log("Creating new form with ID:",D),c(O=>{const M=[...O,{id:D,data:{itemType:"Raw Material",itemCode:"",itemName:"",category:"",unitOfMeasure:"pcs",quantity:1,unitPrice:0,notes:""}}];return console.log("Updated forms array:",M),M})},f=(D,O,M)=>{c(L=>L.map(R=>{if(R.id===D){const E={...R,data:{...R.data,[O]:M}};if(O==="itemType"&&(E.data.itemCode="",E.data.itemName="",E.data.category=""),O==="itemCode"&&M){const B=p(E.data.itemType||"Raw Material",M);B&&(E.data.itemName=B.materialName||B.productName||"",E.data.category=B.category||B.subCategory||"",E.data.unitOfMeasure=B.unitOfMeasure||"pcs",E.data.unitPrice=B.unitPrice||0)}return E}return R}))},p=(D,O)=>D==="Raw Material"?u.find(M=>M.materialCode===O):D==="Finished Goods"?d.find(M=>M.productCode===O):null,v=D=>{c(O=>O.filter(M=>M.id!==D))},w=async()=>{if(o.length===0){alert("Please add at least one item to transfer");return}if(!x.toOutlet){alert("Please select a destination outlet");return}if(o.filter(M=>!M.data.itemType||!M.data.itemCode||!M.data.itemName).length>0){alert("Please fill in all required fields (Item Type, Item Code) for all items");return}if(o.filter(M=>!M.data.quantity||M.data.quantity<=0).length>0){alert("Please enter valid quantities (greater than 0) for all items");return}try{s(!0);const M=o.map(E=>({itemType:E.data.itemType,itemCode:E.data.itemCode,itemName:E.data.itemName||E.data.itemCode,category:E.data.category||"",subCategory:E.data.subCategory||"",unitOfMeasure:E.data.unitOfMeasure||"pcs",quantity:E.data.quantity||1,unitPrice:E.data.unitPrice||0,notes:E.data.notes||""})),L={fromOutlet:(t==null?void 0:t.outletName)||"Central Kitchen",toOutlet:x.toOutlet,transferDate:x.transferDate,priority:x.priority,items:M,totalValue:M.reduce((E,B)=>E+B.quantity*B.unitPrice,0),notes:x.notes};console.log("Creating transfer with data:",L),console.log(" Calling apiService.createTransfer...");const R=await Q.createTransfer(L);if(console.log(" Transfer API response:",R),R.success){if(L.toOutlet==="Kuwait City"||L.toOutlet==="360 Mall"||L.toOutlet==="Vibe Complex"||L.toOutlet==="Taiba Hospital")try{const E=M.map(_=>_.itemType),B=[...new Set(E)],T=B.length===1?B[0]:"Mixed",I=M.map(_=>`${_.itemName} (${_.quantity} ${_.unitOfMeasure})`).join(", "),$={title:`New Transfer from Central Kitchen - ${T}`,message:`Transfer order #${R.data.transferNumber||"N/A"} from Central Kitchen. Items: ${I}`,type:`transfer_from_central_kitchen_${T.toLowerCase().replace(" ","_")}`,targetOutlet:L.toOutlet,sourceOutlet:"Central Kitchen",transferOrderId:R.data._id||R.data.id,itemType:T,priority:L.priority==="Urgent"?"high":"normal"},F=await Q.createNotification($);console.log(`Notification sent to ${L.toOutlet}:`,F)}catch(E){console.error(`Failed to send notification to ${L.toOutlet}:`,E)}alert(`Transfer created successfully!

Transfer Details:
From: ${t==null?void 0:t.outletName}
To: ${L.toOutlet}
Items: ${M.length}
Total Value: ${L.totalValue.toFixed(2)} KWD

Transfer ID: ${R.data.transferId}

Stock has been updated in both Central Kitchen and destination outlet.${L.toOutlet==="Kuwait City"||L.toOutlet==="360 Mall"||L.toOutlet==="Vibe Complex"||L.toOutlet==="Taiba Hospital"?`

Notification sent to ${L.toOutlet}.`:""}`),c([]),j({toOutlet:"",transferDate:new Date().toISOString().split("T")[0],priority:"Normal",notes:""}),await S()}else alert(`Transfer failed: ${R.message}`)}catch(M){console.error(" Error creating transfer:",M),console.error(" Error details:",{message:M instanceof Error?M.message:"Unknown error",stack:M instanceof Error?M.stack:void 0,response:M==null?void 0:M.response}),alert(`Failed to create transfer order: ${M instanceof Error?M.message:"Unknown error"}`)}finally{s(!1)}},k=["pcs","kg","L","g","ml","box","pack","serving"],P=["Kuwait City","360 Mall","Vibe Complex","Taiba Hospital"],A=["Low","Normal","High","Urgent"];return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Create Transfer..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:N,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(kt,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Transfer"}),n.jsxs("p",{className:"text-gray-600",children:["Central Kitchen - ",t==null?void 0:t.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:N,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/transfer-orders"),className:"btn-secondary flex items-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),"View All Transfers"]})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Transfer Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Outlet"}),n.jsx("input",{type:"text",className:"input-field",value:(t==null?void 0:t.outletName)||"Central Kitchen",disabled:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Outlet *"}),n.jsxs("select",{className:"input-field",value:x.toOutlet,onChange:D=>j(O=>({...O,toOutlet:D.target.value})),children:[n.jsx("option",{value:"",children:"Select Destination"}),P.map(D=>n.jsx("option",{value:D,children:D},D))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer Date"}),n.jsx("input",{type:"date",className:"input-field",value:x.transferDate,onChange:D=>j(O=>({...O,transferDate:D.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsx("select",{className:"input-field",value:x.priority,onChange:D=>j(O=>({...O,priority:D.target.value})),children:A.map(D=>n.jsx("option",{value:D,children:D},D))})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer Notes"}),n.jsx("textarea",{className:"input-field",rows:2,value:x.notes,onChange:D=>j(O=>({...O,notes:D.target.value})),placeholder:"Additional notes about this transfer..."})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Transfer Items"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:S,disabled:g,className:"btn-secondary flex items-center text-sm",title:"Refresh materials data",children:[n.jsx(_t,{className:`h-4 w-4 mr-2 ${g?"animate-spin":""}`}),g?"Loading...":"Refresh Items"]}),n.jsxs("button",{onClick:y,className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),o.map((D,O)=>n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Item #",O+1]}),n.jsx("button",{onClick:()=>v(D.id),className:"text-red-600 hover:text-red-900 text-sm",children:"Remove Item"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Type *"}),n.jsxs("select",{className:"input-field",value:D.data.itemType||"",onChange:M=>f(D.id,"itemType",M.target.value),children:[n.jsx("option",{value:"",children:"Select Item Type"}),n.jsx("option",{value:"Raw Material",children:"Raw Material"}),n.jsx("option",{value:"Finished Goods",children:"Finished Goods"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Code *"}),n.jsxs("select",{className:"input-field",value:D.data.itemCode||"",onChange:M=>f(D.id,"itemCode",M.target.value),disabled:!D.data.itemType||g,children:[n.jsx("option",{value:"",children:"Select Item"}),D.data.itemType==="Raw Material"&&u.map(M=>n.jsxs("option",{value:M.materialCode,children:[M.materialCode," - ",M.materialName]},M._id)),D.data.itemType==="Finished Goods"&&d.map(M=>n.jsxs("option",{value:M.productCode,children:[M.productCode," - ",M.productName]},M._id))]}),g&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading items..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name"}),n.jsx("input",{type:"text",className:"input-field",value:D.data.itemName||"",readOnly:!0,placeholder:"Auto-filled from selection"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsx("input",{type:"text",className:"input-field",value:D.data.category||"",readOnly:!0,placeholder:"Auto-filled from selection"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit of Measure"}),n.jsx("select",{className:"input-field",value:D.data.unitOfMeasure||"pcs",onChange:M=>f(D.id,"unitOfMeasure",M.target.value),children:k.map(M=>n.jsx("option",{value:M,children:M},M))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field",value:D.data.quantity||1,onChange:M=>f(D.id,"quantity",parseInt(M.target.value)||1),min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:D.data.unitPrice||0,onChange:M=>f(D.id,"unitPrice",parseFloat(M.target.value)||0),min:"0",placeholder:"Auto-filled from selection"})]}),n.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Notes"}),n.jsx("textarea",{className:"input-field",rows:2,value:D.data.notes||"",onChange:M=>f(D.id,"notes",M.target.value),placeholder:"Additional notes about this item..."})]})]})]},D.id)),o.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Transfer Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o.length})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Quantity"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:o.reduce((D,O)=>D+(O.data.quantity||1),0)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-xl font-semibold text-gray-900",children:[o.reduce((D,O)=>D+(O.data.quantity||1)*(O.data.unitPrice||0),0).toFixed(2)," KWD"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Priority"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:x.priority})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:w,disabled:a,className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),a?"Creating Transfer Order...":"Create Transfer Order"]})})]}),o.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(kt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Items Added"}),n.jsx("p",{className:"text-gray-600 mb-4",children:'Click "Add Item" to start adding items to your transfer order'})]})]})]})},RZ=()=>{const e=ye(),[t,r]=C.useState(null),[a,s]=C.useState(!1),[i,l]=C.useState({itemType:"raw-material",sku:"",itemName:"",parentCategory:"",subCategoryName:"",unitName:"",defaultPurchaseUnitName:"",unitPrice:"",currentStock:"",minimumStock:"",maximumStock:"",supplier:"",notes:""});C.useEffect(()=>{o()},[]);const o=async()=>{try{const d=await Q.getCentralKitchens();if(d.success&&d.data.length>0){const m=d.data[0];r({id:m._id,outletCode:m.kitchenCode,outletName:m.kitchenName,outletType:"Central Kitchen",isCentralKitchen:!0})}else r({id:"",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Central Kitchen",isCentralKitchen:!0})}catch(d){console.error("Error loading central kitchen data:",d),r({id:"",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Central Kitchen",isCentralKitchen:!0})}},c=(d,m)=>{l(g=>({...g,[d]:m}))},u=async d=>{if(d.preventDefault(),!t||!t.id){alert("Central Kitchen outlet not found. Please make sure the central kitchen is set up.");return}if(!i.sku||!i.itemName||!i.parentCategory){alert("Please fill in all required fields (SKU, Item Name, Category)");return}try{if(s(!0),i.itemType==="raw-material"){const m={materialCode:i.sku,materialName:i.itemName,category:i.parentCategory,unitOfMeasure:i.unitName,unitPrice:parseFloat(i.unitPrice)||0,currentStock:parseFloat(i.currentStock)||0,minimumStock:parseFloat(i.minimumStock)||0,maximumStock:parseFloat(i.maximumStock)||0,supplier:i.supplier,notes:i.notes,createdBy:"user",updatedBy:"user"},g=await Q.createRawMaterial(m);if(!g.success)throw new Error(g.message||"Failed to create raw material");const b={centralKitchenId:t.id,centralKitchenName:t.outletName,itemId:g.data._id,itemType:"RawMaterial",itemCode:i.sku,itemName:i.itemName,category:i.parentCategory,unitOfMeasure:i.unitName,unitPrice:parseFloat(i.unitPrice)||0,currentStock:parseFloat(i.currentStock)||0,reservedStock:0,minimumStock:parseFloat(i.minimumStock)||0,maximumStock:parseFloat(i.maximumStock)||0,reorderPoint:parseFloat(i.minimumStock)||0,notes:i.notes,createdBy:"user",updatedBy:"user"},x=await Q.createCentralKitchenInventoryItem(b);if(!x.success)throw new Error(x.message||"Failed to create inventory entry");alert("Raw Material created successfully and added to Central Kitchen inventory!")}else{alert("Finished goods creation not implemented yet");return}e("/central-kitchen/raw-materials")}catch(m){console.error("Error creating item:",m),alert(`Failed to create ${i.itemType==="raw-material"?"raw material":"item"}: ${m instanceof Error?m.message:"Unknown error"}`)}finally{s(!1)}},h=()=>{l({itemType:"raw-material",sku:"",itemName:"",parentCategory:"",subCategoryName:"",unitName:"",defaultPurchaseUnitName:"",unitPrice:"",currentStock:"",minimumStock:"",maximumStock:"",supplier:"",notes:""})};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e("/central-kitchen"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Back to Central Kitchen",children:n.jsx(Le,{className:"h-6 w-6 text-gray-600"})}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(be,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Add Inventory Item"}),n.jsx("p",{className:"text-gray-600",children:"Create new raw material or finished good for Central Kitchen"})]})]})}),n.jsx("div",{className:"card",children:n.jsx("div",{className:"p-6",children:n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Item Type"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"itemType",value:"raw-material",checked:i.itemType==="raw-material",onChange:d=>c("itemType",d.target.value),className:"mr-2"}),n.jsx("span",{className:"text-gray-700",children:"Raw Material"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"itemType",value:"finished-good",checked:i.itemType==="finished-good",onChange:d=>c("itemType",d.target.value),className:"mr-2"}),n.jsx("span",{className:"text-gray-700",children:"Finished Good"})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU *"}),n.jsx("input",{type:"text",className:"input-field",value:i.sku,onChange:d=>c("sku",d.target.value),placeholder:"Enter SKU (e.g., RM025, FG011)",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name *"}),n.jsx("input",{type:"text",className:"input-field",value:i.itemName,onChange:d=>c("itemName",d.target.value),placeholder:"Enter item name",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Category *"}),n.jsxs("select",{className:"input-field",value:i.parentCategory,onChange:d=>c("parentCategory",d.target.value),required:!0,children:[n.jsx("option",{value:"",children:"Select Category"}),n.jsx("option",{value:"Raw Material",children:"Raw Material"}),n.jsx("option",{value:"Protein",children:"Protein"}),n.jsx("option",{value:"Packaging",children:"Packaging"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SubCategory Name"}),n.jsx("input",{type:"text",className:"input-field",value:i.subCategoryName,onChange:d=>c("subCategoryName",d.target.value),placeholder:"Enter subcategory (optional)"})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Unit Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Name *"}),n.jsxs("select",{className:"input-field",value:i.unitName,onChange:d=>c("unitName",d.target.value),required:!0,children:[n.jsx("option",{value:"",children:"Select Unit"}),n.jsx("option",{value:"kg",children:"Kilogram (kg)"}),n.jsx("option",{value:"L",children:"Liter (L)"}),n.jsx("option",{value:"pcs",children:"Pieces (pcs)"}),n.jsx("option",{value:"g",children:"Gram (g)"}),n.jsx("option",{value:"ml",children:"Milliliter (ml)"}),n.jsx("option",{value:"box",children:"Box"}),n.jsx("option",{value:"pack",children:"Pack"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Purchase Unit Name"}),n.jsxs("select",{className:"input-field",value:i.defaultPurchaseUnitName,onChange:d=>c("defaultPurchaseUnitName",d.target.value),children:[n.jsx("option",{value:"",children:"Same as Unit Name"}),n.jsx("option",{value:"kg",children:"Kilogram (kg)"}),n.jsx("option",{value:"L",children:"Liter (L)"}),n.jsx("option",{value:"pcs",children:"Pieces (pcs)"}),n.jsx("option",{value:"g",children:"Gram (g)"}),n.jsx("option",{value:"ml",children:"Milliliter (ml)"}),n.jsx("option",{value:"box",children:"Box"}),n.jsx("option",{value:"pack",children:"Pack"})]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing and Stock"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price (KWD) *"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:i.unitPrice,onChange:d=>c("unitPrice",d.target.value),placeholder:"0.00",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock *"}),n.jsx("input",{type:"number",className:"input-field",value:i.currentStock,onChange:d=>c("currentStock",d.target.value),placeholder:"0",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stock"}),n.jsx("input",{type:"number",className:"input-field",value:i.minimumStock,onChange:d=>c("minimumStock",d.target.value),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Stock"}),n.jsx("input",{type:"number",className:"input-field",value:i.maximumStock,onChange:d=>c("maximumStock",d.target.value),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),n.jsx("input",{type:"text",className:"input-field",value:i.supplier,onChange:d=>c("supplier",d.target.value),placeholder:"Enter supplier name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Value (Calculated)"}),n.jsx("div",{className:"input-field bg-gray-100 text-gray-600",children:i.unitPrice&&i.currentStock?(parseFloat(i.unitPrice)*parseFloat(i.currentStock)).toFixed(2)+" KWD":"0.00 KWD"})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:4,value:i.notes,onChange:d=>c("notes",d.target.value),placeholder:"Additional notes (optional)"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[n.jsxs("button",{type:"button",onClick:()=>e("/central-kitchen"),className:"btn-secondary flex items-center",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"button",onClick:h,className:"btn-secondary flex items-center",children:[n.jsx(xe,{className:"h-4 w-4 mr-2"}),"Reset Form"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",disabled:a,children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),a?"Creating...":"Create Item"]})]})]})})})]})},Mf=()=>{const e=ye(),t=wr(),[r,a]=C.useState(null),[s,i]=C.useState([]),[l,o]=C.useState([]),[c,u]=C.useState(!0),[h,d]=C.useState(null),[m]=C.useState(""),[g]=C.useState(""),[b]=C.useState(""),[x]=C.useState("materialName"),[j]=C.useState("asc"),N=C.useRef(null),{notifications:S,markAsRead:y,markAllAsRead:f,clearAll:p,refreshNotifications:v}=ha("Kuwait City"),w=()=>{const T=k();return T==="raw-materials"?S.filter(I=>I.isTransferOrder&&(I.itemType==="Raw Material"||I.itemType==="Mixed")):T==="finished-goods"?S.filter(I=>I.isTransferOrder&&(I.itemType==="Finished Goods"||I.itemType==="Mixed")):S},k=()=>{const T=t.pathname;return T.includes("/raw-materials")?"raw-materials":T.includes("/finished-goods")?"finished-goods":T.includes("/sales-orders")?"sales-orders":"overview"},P=k();C.useEffect(()=>{A(),D()},[]),C.useEffect(()=>{c||D()},[c,m,g,b,x,j]),C.useEffect(()=>{S.length>0&&S.some(I=>{var $;return!I.read&&I.type==="success"&&(($=I.title)==null?void 0:$.includes("Transfer Order Accepted"))})&&(console.log("New transfer acceptance notification detected, refreshing inventory..."),D())},[S]);const A=async()=>{try{u(!0),d(null);const T=await Q.getOutlets({limit:1e3});if(T.success){const I=T.data.find($=>$.outletCode==="OUT-001");I?a(I):d("Kuwait City not found")}else d("Failed to load outlet data")}catch(T){d(T instanceof Error?T.message:"Failed to load outlet data"),console.error("Error loading outlet data:",T)}finally{u(!1)}},D=async()=>{try{console.log("Loading Kuwait City inventory from dedicated database");const T=await Q.getKuwaitCityRawMaterials({limit:1e3,search:m,subCategory:g,status:b,sortBy:x==="materialName"?"materialName":x,sortOrder:j});if(T.success)if(console.log("Loaded Kuwait City Raw Materials:",T.data),T.data&&T.data.length>0){const $=T.data.map(F=>({id:F._id||F.id,outletId:"kuwait-city",outletCode:"OUT-001",outletName:"Kuwait City",materialId:F._id,materialCode:F.materialCode,materialName:F.materialName,category:F.subCategory||F.category,unitOfMeasure:F.unitOfMeasure,unitPrice:F.unitPrice,currentStock:F.currentStock,reservedStock:0,availableStock:F.currentStock,minimumStock:F.minimumStock,maximumStock:F.maximumStock,reorderPoint:F.reorderPoint,totalValue:F.currentStock*F.unitPrice,location:"Main Storage",batchNumber:`KCBATCH-${F.materialCode}-${Date.now()}`,supplier:"Various Suppliers",lastUpdated:F.updatedAt,status:F.status,notes:F.notes||"",isActive:F.isActive}));i($)}else console.log("No raw materials inventory found for Kuwait City"),i([]),d("No raw materials inventory found. Please add some raw materials to Kuwait City.");else console.error("Failed to load raw materials inventory:","API Error"),d("Failed to load inventory from server: Unknown error");const I=await Q.getKuwaitCityFinishedProducts({limit:1e3,search:m,subCategory:g,status:b,sortBy:x==="productName"?"productName":x,sortOrder:j});if(I.success)if(console.log("Loaded Kuwait City Finished Products:",I.data),I.data&&I.data.length>0){const $=I.data.map(F=>{var _;return{id:F._id||F.id,outletId:"kuwait-city",outletCode:"OUT-001",outletName:"Kuwait City",productId:F._id,productCode:F.productCode,productName:F.productName,category:F.subCategory||F.category,unitOfMeasure:F.unitOfMeasure,unitPrice:F.unitPrice,costPrice:F.costPrice,currentStock:F.currentStock,reservedStock:0,availableStock:F.currentStock,minimumStock:F.minimumStock,maximumStock:F.maximumStock,reorderPoint:F.reorderPoint,totalValue:F.currentStock*F.unitPrice,productionDate:new Date().toISOString(),expiryDate:F.shelfLife?new Date(Date.now()+F.shelfLife*24*60*60*1e3).toISOString():new Date(Date.now()+6048e5).toISOString(),batchNumber:`KCFG-${F.productCode}-${Date.now()}`,storageLocation:"Main Storage",storageTemperature:((_=F.storageRequirements)==null?void 0:_.temperature)||"Room Temperature",qualityStatus:"Good",qualityNotes:"",status:F.status,transferSource:"Production",lastUpdated:F.updatedAt,notes:F.notes||"",isActive:F.isActive}});o($)}else console.log("No finished goods inventory found for Kuwait City"),o([]);else console.error("Failed to load finished goods inventory:","API Error")}catch(T){d(T instanceof Error?T.message:"Failed to load inventory"),console.error("Error loading inventory:",T)}},O=async T=>{var $;const I=($=T.target.files)==null?void 0:$[0];if(I){if(!I.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const _=(await I.text()).split(`
`).filter(X=>X.trim());if(_.length<2){alert("CSV file must contain at least a header row and one data row");return}const G=_.slice(1);let ee=0,de=0;for(const X of G)try{const ae=X.split(",").map(K=>K.replace(/"/g,"").trim()),we=ae[0];if(we==="Raw Material"){const K={materialCode:ae[1],materialName:ae[2],category:ae[3],unitOfMeasure:ae[4],unitPrice:parseFloat(ae[5])||0,currentStock:parseInt(ae[6])||0,minimumStock:parseInt(ae[8])||0,maximumStock:parseInt(ae[9])||0,supplier:ae[12]||"",notes:ae[14]||""},le={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"downtown-restaurant-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",materialId:K.materialCode,materialCode:K.materialCode,materialName:K.materialName,category:K.category,unitOfMeasure:K.unitOfMeasure,unitPrice:K.unitPrice,currentStock:K.currentStock,reservedStock:0,availableStock:K.currentStock,minimumStock:K.minimumStock,maximumStock:K.maximumStock,reorderPoint:Math.ceil(K.minimumStock*1.5),totalValue:K.currentStock*K.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:K.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:K.notes,isActive:!0};i(me=>[...me,le]),ee++}else if(we==="Finished Good"){const K={productCode:ae[1],productName:ae[2],category:ae[3],unitOfMeasure:ae[4],unitPrice:parseFloat(ae[5])||0,currentStock:parseInt(ae[6])||0,minimumStock:parseInt(ae[8])||0,maximumStock:parseInt(ae[9])||0,supplier:ae[12]||"",notes:ae[14]||""},le={id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"downtown-restaurant-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",productId:K.productCode,productCode:K.productCode,productName:K.productName,category:K.category,unitOfMeasure:K.unitOfMeasure,unitPrice:K.unitPrice,costPrice:K.unitPrice*.7,currentStock:K.currentStock,reservedStock:0,availableStock:K.currentStock,minimumStock:K.minimumStock,maximumStock:K.maximumStock,reorderPoint:Math.ceil(K.minimumStock*1.5),totalValue:K.currentStock*K.unitPrice,productionDate:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],batchNumber:`BATCH-${Date.now()}`,storageLocation:"Cold Storage",storageTemperature:"4C",qualityStatus:"Good",qualityNotes:"Imported from CSV",status:"In Stock",transferSource:"Import",lastUpdated:new Date().toISOString(),notes:K.notes,isActive:!0};o(me=>[...me,le]),ee++}}catch{de++}alert(`Import completed!

Successfully imported: ${ee} items
Errors: ${de}`)}catch(F){alert("Error importing file: "+(F instanceof Error?F.message:"Unknown error"))}finally{N.current&&(N.current.value="")}}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Kuwait City..."})]})});if(h)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:h}),n.jsx("button",{onClick:A,className:"btn-primary",children:"Retry"})]})});const M=()=>{switch(P){case"raw-materials":return L();case"finished-goods":return R();case"sales-orders":return E();default:return B()}},L=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-blue-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(T=>T.materialId&&T.materialCode&&T.materialName).map(T=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.currentStock})]},T.id))})]})})]})}),R=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit of Measure"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Maximum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.filter(T=>T.productId&&T.productCode&&T.productName).map(T=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.unitOfMeasure}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",T.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.currentStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.availableStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.minimumStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.maximumStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",T.totalValue.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T.status==="In Stock"?"bg-green-100 text-green-800":T.status==="Low Stock"?"bg-yellow-100 text-yellow-800":T.status==="Out of Stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:T.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.lastUpdated}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:T.notes})]},T.id))})]})})]})}),E=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"POS Sales"}),n.jsxs("button",{onClick:()=>e("/downtown-restaurant/pos-sales/create-order",{state:{outletName:"Kuwait City"}}),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Point of Sale system for Kuwait City outlet"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:[n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/pos-sales/create-order",{state:{outletName:"Kuwait City"}}),children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(dt,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"New Order"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Create a new sales order"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(GS,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Order History"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View past orders"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(my,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Payment Reports"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View payment summaries"})]})]})})]})]})}),B=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-blue-50 to-green-50 border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(rr,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType,"  ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(xe,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Raw Materials"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(T=>T.materialId&&T.materialCode&&T.materialName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(xe,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Finished Goods"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.filter(T=>T.productId&&T.productCode&&T.productName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:n.jsx(dt,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(s.reduce((T,I)=>T+I.totalValue,0)+l.reduce((T,I)=>T+I.totalValue,0)).toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:n.jsx(Yr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(T=>T.status==="Low Stock").length+l.filter(T=>T.status==="Low Stock").length})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/downtown-restaurant/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(dt,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(rr,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kuwait City"}),n.jsxs("p",{className:"text-gray-600",children:[P==="raw-materials"?"Raw Materials Inventory":P==="finished-goods"?"Finished Goods Inventory":P==="sales-orders"?"Sales Orders":"Premium dining restaurant"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>{A(),D()},className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),P==="raw-materials"&&n.jsxs("button",{onClick:()=>e("/downtown-restaurant/request-raw-materials"),className:"btn-primary flex items-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),"Request Raw Materials"]}),P==="finished-goods"&&n.jsxs("button",{onClick:()=>e("/downtown-restaurant/request-finished-goods"),className:"btn-primary flex items-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),"Request Finished Goods"]}),n.jsx(fa,{notifications:w(),onMarkAsRead:y,onMarkAllAsRead:f,onClearAll:p,onRefresh:v})]})]}),M(),n.jsx("input",{ref:N,type:"file",accept:".csv,.xlsx,.xls",onChange:O,className:"hidden"})]})},If=()=>{const e=ye(),t=wr(),[r,a]=C.useState(null),[s,i]=C.useState([]),[l,o]=C.useState([]),[c,u]=C.useState(!0),[h,d]=C.useState(null),[m]=C.useState(""),[g]=C.useState(""),[b]=C.useState(""),[x]=C.useState("materialName"),[j]=C.useState("asc"),N=C.useRef(null),{notifications:S,markAsRead:y,markAllAsRead:f,clearAll:p,refreshNotifications:v}=ha("Vibe Complex");C.useEffect(()=>{console.log(" Vibes Complex: Notifications updated:",S),console.log(` Vibes Complex: Number of notifications: ${S.length}`),S.length>0&&console.log(" Vibes Complex: First notification:",S[0])},[S]),C.useEffect(()=>{console.log(' Vibes Complex: Component mounted, loading notifications for: "Vibe Complex"')},[]);const w=()=>{const T=t.pathname;return T.includes("/raw-materials")?"raw-materials":T.includes("/finished-goods")?"finished-goods":T.includes("/sales-orders")?"sales-orders":"overview"},k=w(),P=()=>{const T=w();console.log(` Vibes Complex: Current section: ${T}`),console.log(" Vibes Complex: All notifications:",S);let I=[];return T==="raw-materials"?I=S.filter($=>$.isTransferOrder&&($.itemType==="Raw Material"||$.itemType==="Mixed")):T==="finished-goods"?I=S.filter($=>$.isTransferOrder&&($.itemType==="Finished Goods"||$.itemType==="Mixed")):I=S,console.log(` Vibes Complex: Filtered notifications for ${T}:`,I),I};C.useEffect(()=>{A()},[]),C.useEffect(()=>{S.length>0&&S.some(I=>{var $;return!I.read&&(($=I.title)==null?void 0:$.includes("Transfer from Central Kitchen"))})&&(console.log("New transfer notification detected for Vibes Complex, refreshing inventory..."),D())},[S]),C.useEffect(()=>{const T=setInterval(()=>{console.log(" Vibes Complex: Auto-refreshing notifications..."),v()},5e3);return()=>clearInterval(T)},[v]),C.useEffect(()=>{c||D()},[m,g,b,x,j]);const A=async()=>{try{u(!0),d(null);const T=await Q.getOutlets({limit:1e3});if(T.success){const I=T.data.find($=>$.outletCode==="OUT-002");I?(a(I),await D()):d("Vibe Complex not found")}else d("Failed to load outlet data")}catch(T){d(T instanceof Error?T.message:"Failed to load outlet data"),console.error("Error loading outlet data:",T)}finally{u(!1)}},D=async()=>{try{console.log("Loading Vibe Complex inventory from dedicated database");const T=await Q.getVibeComplexRawMaterials({limit:1e3,search:m,subCategory:g,status:b,sortBy:x==="materialName"?"materialName":x,sortOrder:j});if(T.success)if(console.log("Loaded Vibe Complex Raw Materials:",T.data),T.data&&T.data.length>0){const $=T.data.map(F=>{var _;return{id:F._id||F.id,outletId:"vibe-complex",outletCode:"OUT-002",outletName:"Vibe Complex",materialId:F._id,materialCode:F.materialCode,materialName:F.materialName,category:F.subCategory||F.category,unitOfMeasure:F.unitOfMeasure,unitPrice:F.unitPrice||0,currentStock:F.currentStock||0,reservedStock:0,availableStock:F.currentStock||0,minimumStock:F.minimumStock||0,maximumStock:F.maximumStock||0,reorderPoint:F.reorderPoint||0,totalValue:(F.currentStock||0)*(F.unitPrice||0),location:((_=F.storageRequirements)==null?void 0:_.location)||"Main Storage",batchNumber:F.batchNumber||"",supplier:F.supplierName||"",lastUpdated:F.lastUpdated||F.updatedAt,status:F.status,notes:F.notes||"",isActive:F.isActive}});i($)}else console.log("No raw materials inventory found for Vibe Complex"),i([]),d("No raw materials inventory found. Please add some raw materials to Vibe Complex.");else console.error("Failed to load raw materials inventory:",T.error||"API Error"),d(`Failed to load inventory from server: ${T.error||"Unknown error"}`);const I=await Q.getVibeComplexFinishedProducts({limit:1e3,search:m,subCategory:g,status:b,sortBy:x==="productName"?"productName":x,sortOrder:j});if(I.success)if(console.log("Loaded Vibe Complex Finished Products:",I.data),I.data&&I.data.length>0){const $=I.data.map(F=>({id:F._id||F.id,outletId:"vibe-complex",outletCode:"OUT-002",outletName:"Vibe Complex",productId:F._id,productCode:F.productCode,productName:F.productName,category:F.subCategory||F.category,unitOfMeasure:F.unitOfMeasure,unitPrice:F.unitPrice||0,costPrice:F.costPrice||0,currentStock:F.currentStock||0,reservedStock:0,availableStock:F.currentStock||0,minimumStock:F.minimumStock||0,maximumStock:F.maximumStock||0,reorderPoint:F.reorderPoint||0,totalValue:(F.currentStock||0)*(F.unitPrice||0),productionDate:F.productionDate||new Date().toISOString(),expiryDate:F.expiryDate||new Date(Date.now()+864e5).toISOString(),batchNumber:F.batchNumber||"",storageLocation:F.storageLocation||"Cold Storage",storageTemperature:F.storageTemperature||"Cold",qualityStatus:F.qualityStatus||"Good",qualityNotes:F.qualityNotes||"",status:F.status,transferSource:"Transfer",lastUpdated:F.lastUpdated||F.updatedAt,notes:F.notes||"",isActive:F.isActive}));o($)}else console.log("No finished goods inventory found for Vibe Complex"),o([]);else console.error("Failed to load finished goods inventory:",I.error||"API Error")}catch(T){d(T instanceof Error?T.message:"Failed to load inventory"),console.error("Error loading inventory:",T)}},O=async T=>{var $;const I=($=T.target.files)==null?void 0:$[0];if(I){if(!I.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const _=(await I.text()).split(`
`).filter(X=>X.trim());if(_.length<2){alert("CSV file must contain at least a header row and one data row");return}const G=_.slice(1);let ee=0,de=0;for(const X of G)try{const ae=X.split(",").map(K=>K.replace(/"/g,"").trim()),we=ae[0];if(we==="Raw Material"){const K={materialCode:ae[1],materialName:ae[2],category:ae[3],unitOfMeasure:ae[4],unitPrice:parseFloat(ae[5])||0,currentStock:parseInt(ae[6])||0,minimumStock:parseInt(ae[8])||0,maximumStock:parseInt(ae[9])||0,supplier:ae[12]||"",notes:ae[14]||""},le={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"marina-walk-cafe-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",materialId:K.materialCode,materialCode:K.materialCode,materialName:K.materialName,category:K.category,unitOfMeasure:K.unitOfMeasure,unitPrice:K.unitPrice,currentStock:K.currentStock,reservedStock:0,availableStock:K.currentStock,minimumStock:K.minimumStock,maximumStock:K.maximumStock,reorderPoint:Math.ceil(K.minimumStock*1.5),totalValue:K.currentStock*K.unitPrice,location:"Main Storage",batchNumber:`BATCH-${Date.now()}`,supplier:K.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:K.notes,isActive:!0};i(me=>[...me,le]),ee++}else if(we==="Finished Good"){const K={productCode:ae[1],productName:ae[2],category:ae[3],unitOfMeasure:ae[4],unitPrice:parseFloat(ae[5])||0,currentStock:parseInt(ae[6])||0,minimumStock:parseInt(ae[8])||0,maximumStock:parseInt(ae[9])||0,supplier:ae[12]||"",notes:ae[14]||""},le={id:`fg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:"marina-walk-cafe-001",outletCode:(r==null?void 0:r.outletCode)||"",outletName:(r==null?void 0:r.outletName)||"",productId:K.productCode,productCode:K.productCode,productName:K.productName,category:K.category,unitOfMeasure:K.unitOfMeasure,unitPrice:K.unitPrice,costPrice:K.unitPrice*.7,currentStock:K.currentStock,reservedStock:0,availableStock:K.currentStock,minimumStock:K.minimumStock,maximumStock:K.maximumStock,reorderPoint:Math.ceil(K.minimumStock*1.5),totalValue:K.currentStock*K.unitPrice,productionDate:new Date().toISOString().split("T")[0],expiryDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],batchNumber:`BATCH-${Date.now()}`,storageLocation:"Cold Storage",storageTemperature:"4C",qualityStatus:"Good",qualityNotes:"Imported from CSV",status:"In Stock",transferSource:"Import",lastUpdated:new Date().toISOString(),notes:K.notes,isActive:!0};o(me=>[...me,le]),ee++}}catch{de++}alert(`Import completed!

Successfully imported: ${ee} items
Errors: ${de}`)}catch(F){alert("Error importing file: "+(F instanceof Error?F.message:"Unknown error"))}finally{N.current&&(N.current.value="")}}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading 360 Mall..."})]})});if(h)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:h}),n.jsx("button",{onClick:A,className:"btn-primary",children:"Retry"})]})});const M=()=>{switch(k){case"raw-materials":return L();case"finished-goods":return R();case"sales-orders":return E();default:return B()}},L=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-blue-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(T=>T.materialId&&T.materialCode&&T.materialName).map(T=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.currentStock})]},T.id))})]})})]})}),R=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit of Measure"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Maximum Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.filter(T=>T.productId&&T.productCode&&T.productName).map(T=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.unitOfMeasure}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",T.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.currentStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.availableStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.minimumStock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.maximumStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",T.totalValue.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T.status==="In Stock"?"bg-green-100 text-green-800":T.status==="Low Stock"?"bg-yellow-100 text-yellow-800":T.status==="Out of Stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:T.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.lastUpdated}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:T.notes})]},T.id))})]})})]})}),E=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"POS Sales"}),n.jsxs("button",{onClick:()=>e("/marina-walk-cafe/pos-sales/create-order",{state:{outletName:"360 Mall"}}),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Point of Sale system for 360 Mall outlet"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:[n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/pos-sales/create-order",{state:{outletName:"360 Mall"}}),children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(dt,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"New Order"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Create a new sales order"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(GS,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Order History"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View past orders"})]})]})}),n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(my,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Payment Reports"}),n.jsx("p",{className:"text-sm text-gray-600",children:"View payment summaries"})]})]})})]})]})}),B=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx($l,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType,"  ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:(r==null?void 0:r.status)||"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:n.jsx(xe,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Raw Materials"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(T=>T.materialId&&T.materialCode&&T.materialName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:n.jsx(xe,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Finished Goods"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:l.filter(T=>T.productId&&T.productCode&&T.productName).length})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:n.jsx(dt,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",(s.reduce((T,I)=>T+I.totalValue,0)+l.reduce((T,I)=>T+I.totalValue,0)).toLocaleString()]})]})]})}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:n.jsx(Yr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(T=>T.status==="Low Stock").length+l.filter(T=>T.status==="Low Stock").length})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/marina-walk-cafe/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(dt,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx($l,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Vibes Complex"}),n.jsxs("p",{className:"text-gray-600",children:[k==="raw-materials"?"Raw Materials Inventory":k==="finished-goods"?"Finished Goods Inventory":k==="sales-orders"?"Sales Orders":"Cozy waterfront cafe"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:A,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),k==="raw-materials"&&n.jsxs("button",{onClick:()=>e("/marina-walk-cafe/request-raw-materials"),className:"btn-primary flex items-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),"Request Raw Materials"]}),k==="finished-goods"&&n.jsxs("button",{onClick:()=>e("/marina-walk-cafe/request-finished-goods"),className:"btn-primary flex items-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),"Request Finished Goods"]}),n.jsx(fa,{notifications:P(),onMarkAsRead:y,onMarkAllAsRead:f,onClearAll:p,onRefresh:v})]})]}),M(),n.jsx("input",{ref:N,type:"file",accept:".csv,.xlsx,.xls",onChange:O,className:"hidden"})]})},$f=()=>{const e=ye(),t=wr(),[r,a]=C.useState(null),[s,i]=C.useState([]),[l,o]=C.useState([]),[c,u]=C.useState(!0),[h,d]=C.useState(null),[m,g]=C.useState(""),[b]=C.useState(""),[x]=C.useState(""),[j]=C.useState("materialName"),[N]=C.useState("asc"),S=C.useRef(null),{notifications:y,markAsRead:f,markAllAsRead:p,clearAll:v,refreshNotifications:w}=ha("360 Mall"),k=()=>{const $=P();console.log(` 360 Mall: Current section: ${$}`),console.log(" 360 Mall: All notifications:",y);let F=[];return $==="raw-materials"?F=y.filter(_=>_.isTransferOrder&&(_.itemType==="Raw Material"||_.itemType==="Mixed")):$==="finished-goods"?F=y.filter(_=>_.isTransferOrder&&(_.itemType==="Finished Goods"||_.itemType==="Mixed")):F=y,console.log(` 360 Mall: Filtered notifications for ${$}:`,F),F},P=()=>{const $=t.pathname;return $.includes("/raw-materials")?"raw-materials":$.includes("/finished-goods")?"finished-goods":$.includes("/sales-orders")?"sales-orders":"overview"},A=P();C.useEffect(()=>{D()},[]),C.useEffect(()=>{console.log(" 360 Mall: Notifications updated:",y),console.log(` 360 Mall: Number of notifications: ${y.length}`),y.length>0&&console.log(" 360 Mall: First notification:",y[0])},[y]),C.useEffect(()=>{console.log(' 360 Mall: Component mounted, loading notifications for: "360 Mall"')},[]),C.useEffect(()=>{c||O()},[m,b,x,j,N]),C.useEffect(()=>{y.length>0&&y.some(F=>{var _;return!F.read&&((_=F.title)==null?void 0:_.includes("Transfer from Central Kitchen"))})&&(console.log("New transfer notification detected for 360 Mall, refreshing inventory..."),O())},[y]),C.useEffect(()=>{const $=setInterval(()=>{console.log(" 360 Mall: Auto-refreshing notifications..."),w()},5e3);return()=>clearInterval($)},[w]);const D=async()=>{try{u(!0),d(null);const $=await Q.getOutlets({limit:1e3});if($.success){const F=$.data.find(_=>_.outletCode==="OUT-003");F?(a(F),await O()):d("360 Mall not found")}else d("Failed to load outlet data")}catch($){d($ instanceof Error?$.message:"Failed to load outlet data"),console.error("Error loading outlet data:",$)}finally{u(!1)}},O=async()=>{var $,F,_;try{console.log(" Loading 360 Mall inventory from dedicated database"),console.log("   Search params:",{searchTerm:m,filterCategory:b,filterStatus:x,sortBy:j,sortOrder:N});const G=await Q.get360MallRawMaterials({limit:1e3,search:m,subCategory:b,status:x,sortBy:j==="materialName"?"materialName":j,sortOrder:N});if(console.log(" Raw Materials API Response:",{success:G.success,dataLength:(($=G.data)==null?void 0:$.length)||0}),G.success)if(console.log(" Loaded 360 Mall Raw Materials:",((F=G.data)==null?void 0:F.length)||0,"items"),console.log("   First few items:",(_=G.data)==null?void 0:_.slice(0,3)),G.data&&G.data.length>0){const de=G.data.map(X=>{var ae;return{id:X._id||X.id,outletId:"360-mall",outletCode:"OUT-003",outletName:"360 Mall",materialId:X._id,materialCode:X.materialCode,materialName:X.materialName,category:X.subCategory||X.category,unitOfMeasure:X.unitOfMeasure,unitPrice:X.unitPrice||0,currentStock:X.currentStock||0,reservedStock:0,availableStock:X.currentStock||0,minimumStock:X.minimumStock||0,maximumStock:X.maximumStock||0,reorderPoint:X.reorderPoint||0,totalValue:(X.currentStock||0)*(X.unitPrice||0),location:((ae=X.storageRequirements)==null?void 0:ae.location)||"Main Storage",batchNumber:X.batchNumber||"",supplier:X.supplierName||"",lastUpdated:X.lastUpdated||X.updatedAt,status:X.status,notes:X.notes||"",isActive:X.isActive}});i(de)}else console.log("No raw materials inventory found for 360 Mall"),i([]),d("No raw materials inventory found. Please add some raw materials to 360 Mall.");else console.error("Failed to load raw materials inventory:",G.error||"API Error"),d(`Failed to load inventory from server: ${G.error||"Unknown error"}`);const ee=await Q.get360MallFinishedProducts({limit:1e3,search:m,subCategory:b,status:x,sortBy:j==="productName"?"productName":j,sortOrder:N});if(ee.success)if(console.log("Loaded 360 Mall Finished Products:",ee.data),ee.data&&ee.data.length>0){const de=ee.data.map(X=>({id:X._id||X.id,outletId:"360-mall",outletCode:"OUT-003",outletName:"360 Mall",productId:X._id,productCode:X.productCode,productName:X.productName,category:X.subCategory||X.category,unitOfMeasure:X.unitOfMeasure,unitPrice:X.unitPrice||0,costPrice:X.costPrice||0,currentStock:X.currentStock||0,reservedStock:0,availableStock:X.currentStock||0,minimumStock:X.minimumStock||0,maximumStock:X.maximumStock||0,reorderPoint:X.reorderPoint||0,totalValue:(X.currentStock||0)*(X.unitPrice||0),productionDate:X.productionDate||new Date().toISOString(),expiryDate:X.expiryDate||new Date(Date.now()+864e5).toISOString(),batchNumber:X.batchNumber||"",storageLocation:X.storageLocation||"Cold Storage",storageTemperature:X.storageTemperature||"Cold",qualityStatus:X.qualityStatus||"Good",qualityNotes:X.qualityNotes||"",status:X.status,transferSource:"Transfer",lastUpdated:X.lastUpdated||X.updatedAt,notes:X.notes||"",isActive:X.isActive}));o(de)}else console.log("No finished goods inventory found for 360 Mall"),o([]);else console.error("Failed to load finished goods inventory:",ee.error||"API Error")}catch(G){d(G instanceof Error?G.message:"Failed to load inventory"),console.error("Error loading inventory:",G)}},M=$=>{switch($){case"In Stock":return"bg-green-100 text-green-800";case"Low Stock":return"bg-yellow-100 text-yellow-800";case"Out of Stock":return"bg-red-100 text-red-800";case"Overstock":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading 360 Mall..."})]})});if(h)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:h}),n.jsx("button",{onClick:D,className:"btn-primary",children:"Retry"})]})});const L=()=>{switch(A){case"raw-materials":return E();case"finished-goods":return B();case"sales-orders":return T();default:return I()}},R=async $=>{var _;const F=(_=$.target.files)==null?void 0:_[0];if(F){if(!F.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{const ee=(await F.text()).split(`
`).filter(we=>we.trim());if(ee.length<2){alert("CSV file must contain at least a header row and one data row");return}const de=ee.slice(1);let X=0,ae=0;for(const we of de)try{const K=we.split(",").map(H=>H.replace(/"/g,"").trim()),le={materialCode:K[0],materialName:K[1],category:K[3],unitOfMeasure:K[4],unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplier:"",notes:""},me={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(r==null?void 0:r.id)||"mall-food-court-001",outletCode:(r==null?void 0:r.outletCode)||"OUT-003",outletName:(r==null?void 0:r.outletName)||"360 Mall",materialId:le.materialCode,materialCode:le.materialCode,materialName:le.materialName,category:le.category,unitOfMeasure:le.unitOfMeasure,unitPrice:le.unitPrice,currentStock:le.currentStock,reservedStock:0,availableStock:le.currentStock,minimumStock:le.minimumStock,maximumStock:le.maximumStock,reorderPoint:0,totalValue:0,location:"Main Storage",batchNumber:"",supplier:le.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:le.notes,isActive:!0};i(H=>[...H,me]),X++}catch(K){ae++,console.error("Error processing row:",K)}alert(`Import completed!
Successfully imported: ${X} items
Errors: ${ae}`),S.current&&(S.current.value="")}catch(G){console.error("Error importing file:",G),alert("Error importing file. Please check the file format.")}finally{}}},E=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})}),n.jsx("div",{className:"mb-6 space-y-4",children:n.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",placeholder:"Search raw materials...",value:m,onChange:$=>g($.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})})}),n.jsx("input",{ref:S,type:"file",accept:".csv",onChange:R,style:{display:"none"}}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter($=>$.materialId&&$.materialCode&&$.materialName).filter($=>m===""||$.materialCode.toLowerCase().includes(m.toLowerCase())||$.materialName.toLowerCase().includes(m.toLowerCase())||$.category.toLowerCase().includes(m.toLowerCase())).map($=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:$.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.currentStock})]},$.id))})]})})]})}),B=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.filter($=>$.productId&&$.productCode&&$.productName).filter($=>m===""||$.productCode.toLowerCase().includes(m.toLowerCase())||$.productName.toLowerCase().includes(m.toLowerCase())||$.category.toLowerCase().includes(m.toLowerCase())).map($=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:$.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.currentStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",$.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${M($.status)}`,children:$.status})})]},$.id))})]})})]})}),T=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Sales orders functionality will be implemented here."})]})}),I=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-orange-50 to-red-50 border-orange-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(_l,{className:"h-8 w-8 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType,"  ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:(r==null?void 0:r.status)||"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/mall-food-court/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/mall-food-court/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/mall-food-court/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(dt,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(_l,{className:"h-8 w-8 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"360 Mall"}),n.jsxs("p",{className:"text-gray-600",children:[A==="raw-materials"?"Raw Materials Inventory":A==="finished-goods"?"Finished Goods Inventory":A==="sales-orders"?"Sales Orders":"Fast-service food court outlet"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:D,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),A==="raw-materials"&&n.jsxs("button",{onClick:()=>e("/mall-food-court/request-raw-materials"),className:"btn-primary flex items-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),"Request Raw Materials"]}),A==="finished-goods"&&n.jsxs("button",{onClick:()=>e("/mall-food-court/request-finished-goods"),className:"btn-primary flex items-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),"Request Finished Goods"]}),n.jsx(fa,{notifications:k(),onMarkAsRead:f,onMarkAllAsRead:p,onClearAll:v,onRefresh:w})]})]}),L()]})},_f=()=>{const e=ye(),t=wr(),[r,a]=C.useState(null),[s,i]=C.useState([]),[l,o]=C.useState([]),[c,u]=C.useState(!0),[h,d]=C.useState(null),[m,g]=C.useState(""),[b]=C.useState(""),[x]=C.useState(""),[j]=C.useState("materialName"),[N]=C.useState("asc"),[,S]=C.useState(!1),y=C.useRef(null),{notifications:f,markAsRead:p,markAllAsRead:v,clearAll:w,refreshNotifications:k}=ha("Taiba Hospital"),[P,A]=C.useState(null),[D,O]=C.useState(!1),[M,L]=C.useState({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""}),[R,E]=C.useState(null),[B,T]=C.useState(!1),[I,$]=C.useState({currentStock:"",unitPrice:"",costPrice:"",minimumStock:"",maximumStock:"",reorderPoint:"",storageLocation:"",storageTemperature:"",qualityStatus:"",qualityNotes:"",notes:""}),F=()=>{const U=t.pathname;return U.includes("/raw-materials")?"raw-materials":U.includes("/finished-goods")?"finished-goods":U.includes("/sales-orders")?"sales-orders":"overview"},_=F(),G=()=>{const U=F();return U==="raw-materials"?f.filter(J=>J.isTransferOrder&&(J.itemType==="Raw Material"||J.itemType==="Mixed")):U==="finished-goods"?f.filter(J=>J.isTransferOrder&&(J.itemType==="Finished Goods"||J.itemType==="Mixed")):f};C.useEffect(()=>{ee()},[]),C.useEffect(()=>{f.length>0&&f.some(J=>{var je;return!J.read&&((je=J.title)==null?void 0:je.includes("Transfer from Central Kitchen"))})&&(console.log("New transfer notification detected for Taiba Hospital, refreshing inventory..."),de())},[f]),C.useEffect(()=>{r&&!c&&de()},[m,b,x,j,N]);const ee=async()=>{try{u(!0),d(null);const U=await Q.getOutlets({limit:1e3});if(U.success){const J=U.data.find(je=>je.outletCode==="OUT-004");J?(a(J),await de()):d("Taiba Hospital not found")}else d("Failed to load outlet data")}catch(U){d(U instanceof Error?U.message:"Failed to load outlet data"),console.error("Error loading outlet data:",U)}finally{u(!1)}},de=async()=>{try{console.log("Loading Taiba Kitchen inventory...");const U=await Q.getTaibaKitchenRawMaterials({limit:1e3,search:m,category:b,status:x,sortBy:j==="materialName"?"materialName":j,sortOrder:N});if(U.success)if(console.log("Loaded outlet raw materials inventory:",U.data),U.data&&U.data.length>0){const je=U.data.map(te=>{var Me;return{id:te._id||te.id,outletId:"taiba-kitchen",outletCode:"OUT-004",outletName:"Taiba Hospital",materialId:te._id||te.id,materialCode:te.materialCode,materialName:te.materialName,category:te.category,unitOfMeasure:te.unitOfMeasure,unitPrice:te.unitPrice,currentStock:te.currentStock,reservedStock:0,availableStock:te.currentStock,minimumStock:te.minimumStock,maximumStock:te.maximumStock,reorderPoint:te.reorderPoint,totalValue:te.currentStock*te.unitPrice,location:((Me=te.storageRequirements)==null?void 0:Me.location)||"Main Storage",batchNumber:te.batchNumber||"",supplier:te.supplierName||"",lastUpdated:te.updatedAt||new Date().toISOString(),status:te.status,notes:te.notes||"",isActive:te.isActive}});i(je)}else console.log("No raw materials inventory found for Taiba Kitchen"),i([]),d("No raw materials inventory found. Please add some raw materials to Taiba Kitchen.");else console.error("Failed to load raw materials inventory:",U.error||"API Error"),d(`Failed to load inventory from server: ${U.error||"Unknown error"}`);const J=await Q.getTaibaKitchenFinishedProducts({limit:1e3,search:m,category:b,status:x,sortBy:j==="productName"?"productName":j,sortOrder:N});if(J.success)if(console.log("Loaded outlet finished goods inventory:",J.data),J.data&&J.data.length>0){const je=J.data.map(te=>({id:te._id||te.id,outletId:"taiba-kitchen",outletCode:"OUT-004",outletName:"Taiba Hospital",productId:te._id||te.id,productCode:te.productCode,productName:te.productName,category:te.category,unitOfMeasure:te.unitOfMeasure,unitPrice:te.unitPrice,costPrice:te.costPrice||0,currentStock:te.currentStock,reservedStock:0,availableStock:te.currentStock,minimumStock:te.minimumStock,maximumStock:te.maximumStock,reorderPoint:te.reorderPoint,totalValue:te.currentStock*te.unitPrice,productionDate:te.productionDate||new Date().toISOString(),expiryDate:te.expiryDate||new Date(Date.now()+864e5).toISOString(),batchNumber:te.batchNumber||"",storageLocation:te.storageLocation||"Cold Storage",storageTemperature:te.storageTemperature||"Cold",qualityStatus:te.qualityStatus||"Good",qualityNotes:te.qualityNotes||"",status:te.status,transferSource:"Transfer",lastUpdated:te.lastUpdated||te.updatedAt,notes:te.notes||"",isActive:te.isActive}));o(je)}else console.log("No finished goods inventory found for this outlet"),o([]);else console.error("Failed to load finished goods inventory:",J.error||"API Error")}catch(U){d(U instanceof Error?U.message:"Failed to load inventory"),console.error("Error loading inventory:",U)}},X=async()=>{if(P)try{const U={currentStock:parseFloat(M.currentStock),minimumStock:parseFloat(M.minimumStock),maximumStock:parseFloat(M.maximumStock),reorderPoint:parseFloat(M.reorderPoint),unitPrice:parseFloat(M.unitPrice),notes:M.notes},J=await Q.updateTaibaKitchenRawMaterial(P.id,U);J.success?(i(je=>je.map(te=>te.id===P.id?{...te,...U,totalValue:U.currentStock*U.unitPrice}:te)),O(!1),A(null)):alert(`Failed to update inventory item: ${J.error||"Unknown error"}`)}catch(U){console.error("Error updating inventory item:",U),alert("Failed to update inventory item")}},ae=()=>{O(!1),A(null),L({currentStock:"",minimumStock:"",maximumStock:"",reorderPoint:"",unitPrice:"",notes:""})},we=U=>{E(U),$({currentStock:U.currentStock.toString(),unitPrice:U.unitPrice.toString(),costPrice:U.costPrice.toString(),minimumStock:U.minimumStock.toString(),maximumStock:U.maximumStock.toString(),reorderPoint:U.reorderPoint.toString(),storageLocation:U.storageLocation||"",storageTemperature:U.storageTemperature||"",qualityStatus:U.qualityStatus||"",qualityNotes:U.qualityNotes||"",notes:U.notes||""}),T(!0)},K=async()=>{if(R)try{const U={currentStock:parseFloat(I.currentStock),unitPrice:parseFloat(I.unitPrice),costPrice:parseFloat(I.costPrice),minimumStock:parseFloat(I.minimumStock),maximumStock:parseFloat(I.maximumStock),reorderPoint:parseFloat(I.reorderPoint),storageLocation:I.storageLocation,storageTemperature:I.storageTemperature,qualityStatus:I.qualityStatus,qualityNotes:I.qualityNotes,notes:I.notes},J=await Q.updateTaibaKitchenFinishedProduct(R.id,U);J.success?(o(je=>je.map(te=>te.id===R.id?{...te,...U,totalValue:U.currentStock*U.unitPrice}:te)),T(!1),E(null)):alert(`Failed to update finished good inventory item: ${J.error||"Unknown error"}`)}catch(U){console.error("Error updating finished good inventory item:",U),alert("Failed to update finished good inventory item")}},le=()=>{T(!1),E(null),$({currentStock:"",unitPrice:"",costPrice:"",minimumStock:"",maximumStock:"",reorderPoint:"",storageLocation:"",storageTemperature:"",qualityStatus:"",qualityNotes:"",notes:""})},me=U=>{switch(U){case"In Stock":return"bg-green-100 text-green-800";case"Low Stock":return"bg-yellow-100 text-yellow-800";case"Out of Stock":return"bg-red-100 text-red-800";case"Overstock":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Taiba Hospital..."})]})});if(h)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:h}),n.jsx("button",{onClick:ee,className:"btn-primary",children:"Retry"})]})});const H=()=>{switch(_){case"raw-materials":return fe();case"finished-goods":return W();case"sales-orders":return re();default:return Z()}},ge=async U=>{var je;const J=(je=U.target.files)==null?void 0:je[0];if(J){if(!J.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}try{S(!0);const Me=(await J.text()).split(`
`).filter(He=>He.trim());if(Me.length<2){alert("CSV file must contain at least a header row and one data row");return}const z=Me.slice(1);let se=0,ie=0;for(const He of z)try{const ve=He.split(",").map(pt=>pt.replace(/"/g,"").trim()),$e={materialCode:ve[0],materialName:ve[1],category:ve[3],unitOfMeasure:ve[4],unitPrice:0,currentStock:0,minimumStock:0,maximumStock:0,supplier:"",notes:""},kr={id:`rm-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,outletId:(r==null?void 0:r.id)||"drive-thru-express-001",outletCode:(r==null?void 0:r.outletCode)||"DTE001",outletName:(r==null?void 0:r.outletName)||"Taiba Hospital",materialId:$e.materialCode,materialCode:$e.materialCode,materialName:$e.materialName,category:$e.category,unitOfMeasure:$e.unitOfMeasure,unitPrice:$e.unitPrice,currentStock:$e.currentStock,reservedStock:0,availableStock:$e.currentStock,minimumStock:$e.minimumStock,maximumStock:$e.maximumStock,reorderPoint:0,totalValue:0,location:"Main Storage",batchNumber:"",supplier:$e.supplier,lastUpdated:new Date().toISOString(),status:"In Stock",notes:$e.notes,isActive:!0};i(pt=>[...pt,kr]),se++}catch(ve){ie++,console.error("Error processing row:",ve)}alert(`Import completed!
Successfully imported: ${se} items
Errors: ${ie}`),y.current&&(y.current.value="")}catch(te){console.error("Error importing file:",te),alert("Error importing file. Please check the file format.")}finally{S(!1)}}},fe=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Raw Materials Inventory"})}),n.jsx("div",{className:"mb-6 space-y-4",children:n.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",placeholder:"Search raw materials...",value:m,onChange:U=>g(U.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})})}),n.jsx("input",{ref:y,type:"file",accept:".csv",onChange:ge,style:{display:"none"}}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Quantity"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.filter(U=>U.materialId&&U.materialCode&&U.materialName).filter(U=>m===""||U.materialCode.toLowerCase().includes(m.toLowerCase())||U.materialName.toLowerCase().includes(m.toLowerCase())||U.category.toLowerCase().includes(m.toLowerCase())).map(U=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:U.materialCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U.materialName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.currentStock})]},U.id))})]})})]})}),W=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(xe,{className:"h-6 w-6 text-green-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Finished Goods Inventory"})]})})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.filter(U=>U.productId&&U.productCode&&U.productName).filter(U=>m===""||U.productCode.toLowerCase().includes(m.toLowerCase())||U.productName.toLowerCase().includes(m.toLowerCase())||U.category.toLowerCase().includes(m.toLowerCase())).map(U=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:U.productCode}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U.productName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.unitOfMeasure}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.currentStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",U.unitPrice.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${me(U.status)}`,children:U.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{onClick:()=>we(U),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:"Edit"})})]},U.id))})]})})]})}),re=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Sales orders functionality will be implemented here."})]})}),Z=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"card p-6 bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Il,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==null?void 0:r.outletName}),n.jsxs("p",{className:"text-gray-600",children:[r==null?void 0:r.outletType,"  ",r==null?void 0:r.outletCode]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:(r==null?void 0:r.status)||"Active"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/drive-thru-express/raw-materials"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Raw Materials"}),n.jsx("p",{className:"text-gray-600",children:"Manage raw material inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/drive-thru-express/finished-goods"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xe,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finished Goods"}),n.jsx("p",{className:"text-gray-600",children:"Manage finished goods inventory"})]})]})}),n.jsx("div",{className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/drive-thru-express/sales-orders"),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(dt,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Orders"}),n.jsx("p",{className:"text-gray-600",children:"Manage sales orders"})]})]})})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Il,{className:"h-8 w-8 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Taiba Hospital"}),n.jsxs("p",{className:"text-gray-600",children:[_==="raw-materials"?"Raw Materials Inventory":_==="finished-goods"?"Finished Goods Inventory":_==="sales-orders"?"Sales Orders":"Express drive-thru outlet"," - ",r==null?void 0:r.outletName]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:ee,className:"btn-secondary flex items-center",title:"Refresh data",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),_==="raw-materials"&&n.jsxs("button",{onClick:()=>e("/drive-thru-express/request-raw-materials"),className:"btn-primary flex items-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),"Request Raw Materials"]}),_==="finished-goods"&&n.jsxs("button",{onClick:()=>e("/drive-thru-express/request-finished-goods"),className:"btn-primary flex items-center",children:[n.jsx(kt,{className:"h-4 w-4 mr-2"}),"Request Finished Goods"]}),n.jsx(fa,{notifications:G(),onMarkAsRead:p,onMarkAllAsRead:v,onClearAll:w,onRefresh:k})]})]}),H(),D&&P&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Edit Inventory Item"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[P.materialCode," - ",P.materialName]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock"}),n.jsx("input",{type:"number",step:"0.01",value:M.currentStock,onChange:U=>L(J=>({...J,currentStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",value:M.unitPrice,onChange:U=>L(J=>({...J,unitPrice:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:M.minimumStock,onChange:U=>L(J=>({...J,minimumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:M.maximumStock,onChange:U=>L(J=>({...J,maximumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reorder Point"}),n.jsx("input",{type:"number",step:"0.01",value:M.reorderPoint,onChange:U=>L(J=>({...J,reorderPoint:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:M.notes,onChange:U=>L(J=>({...J,notes:U.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:ae,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:X,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})}),B&&R&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Edit Finished Good Inventory Item"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[R.productCode," - ",R.productName]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock"}),n.jsx("input",{type:"number",step:"0.01",value:I.currentStock,onChange:U=>$(J=>({...J,currentStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",value:I.unitPrice,onChange:U=>$(J=>({...J,unitPrice:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price"}),n.jsx("input",{type:"number",step:"0.01",value:I.costPrice,onChange:U=>$(J=>({...J,costPrice:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:I.minimumStock,onChange:U=>$(J=>({...J,minimumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Stock"}),n.jsx("input",{type:"number",step:"0.01",value:I.maximumStock,onChange:U=>$(J=>({...J,maximumStock:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reorder Point"}),n.jsx("input",{type:"number",step:"0.01",value:I.reorderPoint,onChange:U=>$(J=>({...J,reorderPoint:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Location"}),n.jsx("input",{type:"text",value:I.storageLocation,onChange:U=>$(J=>({...J,storageLocation:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Storage Temperature"}),n.jsxs("select",{value:I.storageTemperature,onChange:U=>$(J=>({...J,storageTemperature:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"Cold",children:"Cold"}),n.jsx("option",{value:"Frozen",children:"Frozen"}),n.jsx("option",{value:"Hot",children:"Hot"}),n.jsx("option",{value:"Room Temperature",children:"Room Temperature"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quality Status"}),n.jsxs("select",{value:I.qualityStatus,onChange:U=>$(J=>({...J,qualityStatus:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Damaged",children:"Damaged"}),n.jsx("option",{value:"Expired",children:"Expired"}),n.jsx("option",{value:"Under Review",children:"Under Review"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quality Notes"}),n.jsx("textarea",{value:I.qualityNotes,onChange:U=>$(J=>({...J,qualityNotes:U.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:I.notes,onChange:U=>$(J=>({...J,notes:U.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:le,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:K,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})})]})},FZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState(!0),[i,l]=C.useState(null),[o,c]=C.useState(null),[u,h]=C.useState(!1),[d,m]=C.useState(""),[g,b]=C.useState(""),[x,j]=C.useState(""),[N,S]=C.useState("createdAt"),[y,f]=C.useState("desc");C.useEffect(()=>{p()},[]),C.useEffect(()=>{a||p()},[d,g,x,N,y]);const p=async()=>{try{s(!0),l(null);const O=await Q.getRawMaterialForecasts({limit:1e3,search:d,status:g,forecastPeriod:x,sortBy:N,sortOrder:y});O.success?(console.log("Loaded Raw Material Forecasts:",O.data),r(O.data)):l("Failed to load forecasts")}catch(O){l(O instanceof Error?O.message:"Failed to load forecasts"),console.error("Error loading forecasts:",O)}finally{s(!1)}},v=t,w=()=>{m(""),b(""),j(""),S("createdAt"),f("desc"),p()},k=O=>{c(O),h(!0)},P=async O=>{if(window.confirm("Are you sure you want to delete this forecast?"))try{(await Q.deleteRawMaterialForecast(O)).success?await p():alert("Failed to delete forecast")}catch(M){alert("Error deleting forecast: "+(M instanceof Error?M.message:"Unknown error")),console.error("Error deleting forecast:",M)}},A=O=>{switch(O){case"Active":return"bg-green-100 text-green-800";case"Draft":return"bg-yellow-100 text-yellow-800";case"Completed":return"bg-blue-100 text-blue-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=O=>{switch(O){case"High":return"bg-green-100 text-green-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading forecasts..."})]})}):i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 mb-4",children:n.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsx("button",{onClick:p,className:"btn-primary",children:"Retry"})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ingredient Forecast"}),n.jsx("p",{className:"text-gray-600",children:"Plan and predict your ingredient requirements based on Job Orders"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:p,className:"btn-secondary flex items-center",title:"Refresh forecasts",children:[n.jsx(qn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>e("/raw-material-forecast/add"),className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Create Forecast"]})]})]}),n.jsx("div",{className:"card p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search forecasts by name, number, or description...",className:"input-field pl-10",value:d,onChange:O=>m(O.target.value)})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:w,className:"btn-secondary flex items-center",title:"Clear all filters",children:[n.jsx(On,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}),n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(It,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{className:"input-field",value:g,onChange:O=>b(O.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Draft",children:"Draft"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Completed",children:"Completed"}),n.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),n.jsxs("select",{className:"input-field",value:x,onChange:O=>j(O.target.value),children:[n.jsx("option",{value:"",children:"All Periods"}),n.jsx("option",{value:"Weekly",children:"Weekly"}),n.jsx("option",{value:"Monthly",children:"Monthly"}),n.jsx("option",{value:"Quarterly",children:"Quarterly"}),n.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs("select",{className:"input-field flex-1",value:N,onChange:O=>S(O.target.value),children:[n.jsx("option",{value:"createdAt",children:"Date Created"}),n.jsx("option",{value:"forecastNumber",children:"Forecast Number"}),n.jsx("option",{value:"forecastName",children:"Forecast Name"}),n.jsx("option",{value:"totalValue",children:"Total Value"}),n.jsx("option",{value:"forecastStartDate",children:"Start Date"})]}),n.jsx("button",{onClick:()=>f(y==="asc"?"desc":"asc"),className:"btn-secondary px-3",title:`Sort ${y==="asc"?"Descending":"Ascending"}`,children:y==="asc"?"":""})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing ",v.length," forecasts",(d||g||x)&&n.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(d||g||x)&&n.jsx("button",{onClick:w,className:"text-blue-600 hover:text-blue-800 underline",children:"Clear filters"})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"table-header",children:"Forecast #"}),n.jsx("th",{className:"table-header",children:"Name"}),n.jsx("th",{className:"table-header",children:"Period"}),n.jsx("th",{className:"table-header",children:"Start Date"}),n.jsx("th",{className:"table-header",children:"End Date"}),n.jsx("th",{className:"table-header",children:"Status"}),n.jsx("th",{className:"table-header",children:"Confidence"}),n.jsx("th",{className:"table-header",children:"Total Value"}),n.jsx("th",{className:"table-header",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(O=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"table-cell font-medium",children:O.forecastNumber}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900 font-medium",children:O.forecastName}),n.jsx("div",{className:"text-gray-500 text-sm max-w-xs truncate",children:O.forecastDescription})]})}),n.jsx("td",{className:"table-cell",children:O.forecastPeriod}),n.jsx("td",{className:"table-cell",children:new Date(O.forecastStartDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:new Date(O.forecastEndDate).toLocaleDateString()}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A(O.status)}`,children:O.status})}),n.jsx("td",{className:"table-cell",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(O.confidenceLevel)}`,children:O.confidenceLevel})}),n.jsxs("td",{className:"table-cell font-semibold",children:[O.totalValue.toFixed(2)," KWD"]}),n.jsx("td",{className:"table-cell",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>k(O),className:"text-green-600 hover:text-green-900",title:"View Details",children:n.jsx(en,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(`/raw-material-forecast/edit/${O.id}`),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>P(O.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},O.id))})]})})}),u&&o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Forecast Details"}),n.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(ke,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forecast Number"}),n.jsx("p",{className:"text-gray-900 font-mono",children:o.forecastNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Forecast Name"}),n.jsx("p",{className:"text-gray-900",children:o.forecastName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),n.jsx("p",{className:"text-gray-900",children:o.forecastPeriod})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A(o.status)}`,children:o.status})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.forecastStartDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.forecastEndDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confidence Level"}),n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(o.confidenceLevel)}`,children:o.confidenceLevel})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Value"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:[o.totalValue.toFixed(2)," KWD"]})]})]}),o.forecastDescription&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("p",{className:"text-gray-900",children:o.forecastDescription})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Forecast Items (",o.items.length," items)"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.items.map((O,M)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-mono",children:O.materialCode}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:O.materialName}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[O.requiredQuantity.toFixed(2)," ",O.unitOfMeasure]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[O.availableQuantity.toFixed(2)," ",O.unitOfMeasure]}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O.shortfall>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[O.shortfall.toFixed(2)," ",O.unitOfMeasure]})}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[O.unitPrice.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[O.forecastValue.toFixed(2)," KWD"]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-mono text-xs",children:O.jobOrderNumber}),n.jsx("div",{className:"text-xs",children:O.bomCode})]})})]},M))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created By"}),n.jsx("p",{className:"text-gray-900",children:o.createdBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),n.jsx("p",{className:"text-gray-900",children:o.updatedBy})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated Date"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.updatedAt).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>h(!1),className:"btn-secondary",children:"Close"}),n.jsx("button",{onClick:()=>{h(!1),e(`/raw-material-forecast/edit/${o.id}`)},className:"btn-primary",children:"Edit Forecast"})]})]})})]})},LZ=()=>{const e=ye(),[t,r]=C.useState({selectedJobOrderId:"",items:[]}),[a,s]=C.useState({}),[i,l]=C.useState([]),[o,c]=C.useState([]),[u,h]=C.useState(!1),[d,m]=C.useState(null),[g,b]=C.useState(new Set);C.useEffect(()=>{x(),j()},[]);const x=async()=>{try{h(!0),console.log("Loading job orders from backend...");const p=await Q.getJobOrders({limit:1e3});console.log("Job orders response:",p),p.success&&p.data&&p.data.length>0?(l(p.data),console.log(" Loaded job orders from backend:",p.data.length)):(console.log(" No job orders found in backend"),l([]))}catch(p){console.error(" Error loading job orders from backend:",p),l([])}finally{h(!1)}},j=async()=>{try{console.log("Loading BOMs from backend...");const p=await Q.getBillOfMaterials({limit:1e3});p.success&&p.data&&p.data.length>0?(c(p.data),console.log(" Loaded BOMs from backend:",p.data.length)):(console.log(" No BOMs found in backend"),c([]))}catch(p){console.error(" Error loading BOMs from backend:",p),c([])}},N=p=>{const v=i.find(k=>k.id===p);if(!v)return;m(v),r(k=>({...k,selectedJobOrderId:p}));const w=new Map;v.items.forEach(k=>{const P=o.find(A=>A.id===k.bomId);P&&P.items.forEach(A=>{const D=A.materialCode,O=k.totalQuantity*A.quantity;if(w.has(D)){const M=w.get(D);M.requiredQuantity+=O,M.forecastQuantity=M.requiredQuantity,M.forecastValue=M.forecastQuantity*M.unitPrice,M.shortfall=Math.max(0,M.requiredQuantity-M.availableQuantity)}else{const M={materialId:A.materialId,materialCode:A.materialCode,materialName:A.materialName,currentStock:0,unitOfMeasure:A.unitOfMeasure,unitPrice:A.unitCost,forecastQuantity:O,forecastValue:O*A.unitCost,leadTime:3,requiredQuantity:O,availableQuantity:0,shortfall:O,jobOrderId:v.id,jobOrderNumber:v.jobOrderNumber,bomId:P.id,bomCode:P.bomCode,notes:`Required for ${k.product} (${k.totalQuantity} units)`};w.set(D,M)}})}),r(k=>({...k,items:Array.from(w.values())}))},S=()=>{const p={};return t.selectedJobOrderId||(p.selectedJobOrderId="Please select a Recipe Order"),t.items.length===0&&(p.items="No forecast items generated. Please select a Recipe Order with valid BOMs."),s(p),Object.keys(p).length===0},y=async p=>{if(p.preventDefault(),!!S())try{const v=t.items.reduce((A,D)=>A+D.forecastValue,0),k={forecastNumber:`FC-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`,forecastName:`Forecast for ${d==null?void 0:d.jobOrderNumber}`,forecastDescription:`Material forecast based on Job Order ${d==null?void 0:d.jobOrderNumber}`,forecastPeriod:"Monthly",forecastStartDate:new Date().toISOString().split("T")[0],forecastEndDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],status:"Draft",totalValue:Math.round(v*100)/100,items:t.items,basedOnJobOrders:!0,basedOnHistoricalData:!1,confidenceLevel:"Medium",createdBy:"admin",updatedBy:"admin"};console.log("Creating Forecast:",k);const P=await Q.createRawMaterialForecast(k);if(P.success){let A="Forecast created successfully!";if(P.data&&P.data.generatedPurchaseOrder){const D=P.data.generatedPurchaseOrder;A+=`

 Purchase Order Generated:
PO Number: ${D.poNumber}
Total Amount: ${D.totalAmount.toFixed(2)} KWD
Items: ${D.items.length} materials
Status: ${D.status}`}alert(A),e("/raw-material-forecast")}else alert("Error creating forecast: "+(P.message||"Unknown error"))}catch(v){console.error("Error creating forecast:",v),alert("Error creating forecast: "+(v instanceof Error?v.message:"Unknown error"))}},f=p=>{const v=new Set(g);v.has(p)?v.delete(p):v.add(p),b(v)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Ingredient Forecast"}),n.jsx("p",{className:"text-gray-600",children:"Create an ingredient forecast based on Job Orders"})]}),n.jsxs("button",{onClick:()=>e("/raw-material-forecast"),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Forecasts"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:y,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Step 1: Select Recipe Order"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Recipe Order *"}),n.jsxs("select",{className:`input-field ${a.selectedJobOrderId?"border-red-500":""}`,value:t.selectedJobOrderId,onChange:p=>N(p.target.value),children:[n.jsx("option",{value:"",children:"Select a Recipe Order"}),u?n.jsx("option",{disabled:!0,children:"Loading recipe orders..."}):i.map(p=>n.jsxs("option",{value:p.id,children:["Recipe Order #",p.jobOrderNumber," - ",p.customerName," (",p.items.length," items)"]},p.id))]}),a.selectedJobOrderId&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.selectedJobOrderId})]}),d&&n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Selected Recipe Order Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Order Number:"})," ",d.jobOrderNumber]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Customer:"})," ",d.customerName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Total Items:"})," ",d.items.length]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",d.totalAmount.toFixed(2)," KWD"]})]})]})]})]}),d&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Step 2: Recipe Order Items & Ingredients"}),n.jsx("div",{className:"space-y-4",children:d.items.map((p,v)=>{const w=o.find(A=>A.id===p.bomId),k=`item-${v}`,P=g.has(k);return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(yD,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:p.product}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",p.totalQuantity," units | Unit Price: ",p.unitPrice.toFixed(2)," KWD | Total: ",p.totalPrice.toFixed(2)," KWD"]})]})]}),n.jsx("button",{type:"button",onClick:()=>f(k),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:P?"Hide Ingredients":"Show Ingredients"})]}),P&&w&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(xe,{className:"h-4 w-4 text-green-600"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Recipe: ",w.productName," (",w.bomCode,")"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingredient"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Per Unit"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Cost"}),n.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.items.map((A,D)=>{const O=p.totalQuantity*A.quantity,M=0,L=Math.max(0,O-M),R=O*A.unitCost;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.materialName}),n.jsx("div",{className:"text-sm text-gray-500 font-mono",children:A.materialCode})]})}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:A.unitOfMeasure}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:A.quantity}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 font-semibold",children:O.toFixed(2)}),n.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.toFixed(2)}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:L.toFixed(2)})}),n.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:[A.unitCost.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900 font-semibold",children:[R.toFixed(2)," KWD"]})]},D)})})]})})]})]},v)})})]}),t.items.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Step 3: Forecast Summary"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-red-800 font-semibold text-lg",children:t.items.reduce((p,v)=>p+v.shortfall,0).toFixed(2)}),n.jsx("div",{className:"text-red-600 text-sm",children:"Total Shortfall"})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-blue-800 font-semibold text-lg",children:t.items.reduce((p,v)=>p+v.requiredQuantity,0).toFixed(2)}),n.jsx("div",{className:"text-blue-600 text-sm",children:"Total Required"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-green-800 font-semibold text-lg",children:t.items.reduce((p,v)=>p+v.availableQuantity,0).toFixed(2)}),n.jsx("div",{className:"text-green-600 text-sm",children:"Total Available"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shortfall"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.items.map((p,v)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.materialName}),n.jsx("div",{className:"text-sm text-gray-500 font-mono",children:p.materialCode})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:p.unitOfMeasure}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:p.requiredQuantity.toFixed(2)}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:p.availableQuantity.toFixed(2)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.shortfall>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:p.shortfall.toFixed(2)})}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[p.unitPrice.toFixed(2)," KWD"]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:[p.forecastValue.toFixed(2)," KWD"]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-mono text-xs",children:p.jobOrderNumber}),n.jsx("div",{className:"text-xs",children:p.bomCode})]})})]},v))})]})}),n.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx("div",{children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Forecast Value: ",t.items.reduce((p,v)=>p+v.forecastValue,0).toFixed(2)," KWD"]})}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-red-600",children:["Total Shortfall Value: ",t.items.reduce((p,v)=>p+v.shortfall*v.unitPrice,0).toFixed(2)," KWD"]})})]}),t.items.some(p=>p.shortfall>0)&&n.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:" Purchase Order will be automatically generated for shortfall quantities"}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Total PO Value: ",t.items.reduce((p,v)=>p+v.shortfall*v.unitPrice,0).toFixed(2)," KWD"]})]})]})})]})]})]}),t.items.length>0&&n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/raw-material-forecast"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Generate Forecast"]})]})]})})]})},zi=()=>{const e=ye(),t=wr(),[r,a]=C.useState([]),[s,i]=C.useState(!0),[l,o]=C.useState(null),[c,u]=C.useState(""),[h,d]=C.useState(""),[m,g]=C.useState(""),[b,x]=C.useState(""),[j,N]=C.useState(""),[S,y]=C.useState(null),[f,p]=C.useState(!1),[v,w]=C.useState([]),[k,P]=C.useState(null),A=()=>{const _=t.pathname;return _.includes("/downtown-restaurant/sales-orders")?"Kuwait City":_.includes("/marina-walk-cafe/sales-orders")?"360 Mall":_.includes("/mall-food-court/sales-orders")?"Vibes Complex":_.includes("/drive-thru-express/sales-orders")?"Taiba Hospital":null},D=["Pending","Confirmed","Preparing","Ready","Served","Completed","Cancelled"],O=["Dine-in","Takeaway","Delivery","Drive-thru"],M=["Pending","Paid","Partially Paid","Refunded"],L=async()=>{i(!0),o(null);try{const _=await Q.getSalesOrders({search:c,outletId:h,orderStatus:m,orderType:b,paymentStatus:j,limit:1e3,sortBy:"orderTiming.orderDate",sortOrder:"desc"});_.success?a(_.data):(console.log("API failed, loading sample data"),R())}catch(_){console.log("API error, loading sample data:",_),R()}finally{i(!1)}},R=()=>{const _=[{_id:"so-001",orderNumber:"SO-DT-001-001",outletId:{_id:"outlet-downtown-001",outletCode:"DT-001",outletName:"Kuwait City"},outletCode:"DT-001",outletName:"Kuwait City",customerInfo:{customerName:"John Smith",customerPhone:"+965-1234-5678",customerEmail:"john.smith@email.com",tableNumber:"T-05",orderType:"Dine-in"},orderItems:[{productId:{_id:"fg-001",productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages"},productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages",quantity:2,unitPrice:4.5,totalPrice:9,specialInstructions:"Extra ice"},{productId:{_id:"fg-002",productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals"},productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals",quantity:1,unitPrice:8.75,totalPrice:8.75,specialInstructions:"No nuts"}],orderSummary:{subtotal:17.75,taxAmount:2.66,discountAmount:0,totalAmount:20.41,paymentMethod:"Card",paymentStatus:"Paid"},orderStatus:"Ready",orderTiming:{orderDate:new Date().toISOString(),estimatedPrepTime:15,servedAt:new Date().toISOString()},notes:"Regular customer",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{_id:"so-002",orderNumber:"SO-MW-001-002",outletId:{_id:"outlet-marina-001",outletCode:"MW-001",outletName:"360 Mall"},outletCode:"MW-001",outletName:"360 Mall",customerInfo:{customerName:"Sarah Johnson",customerPhone:"+965-9876-5432",customerEmail:"sarah.j@email.com",orderType:"Takeaway"},orderItems:[{productId:{_id:"fg-003",productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages"},productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages",quantity:1,unitPrice:5.25,totalPrice:5.25}],orderSummary:{subtotal:5.25,taxAmount:.79,discountAmount:0,totalAmount:6.04,paymentMethod:"Cash",paymentStatus:"Paid"},orderStatus:"Completed",orderTiming:{orderDate:new Date(Date.now()-18e5).toISOString(),estimatedPrepTime:10,servedAt:new Date(Date.now()-12e5).toISOString(),completedAt:new Date(Date.now()-6e5).toISOString()},notes:"Quick takeaway order",createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-6e5).toISOString()},{_id:"so-003",orderNumber:"SO-MF-001-003",outletId:{_id:"outlet-mall-001",outletCode:"MF-001",outletName:"Vibes Complex"},outletCode:"MF-001",outletName:"Vibes Complex",customerInfo:{customerName:"Ahmed Al-Rashid",customerPhone:"+965-5555-1234",tableNumber:"T-12",orderType:"Dine-in"},orderItems:[{productId:{_id:"fg-004",productCode:"FG-004",productName:"Quinoa Salad",category:"Meals"},productCode:"FG-004",productName:"Quinoa Salad",category:"Meals",quantity:2,unitPrice:7.5,totalPrice:15,specialInstructions:"Extra dressing"},{productId:{_id:"fg-005",productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks"},productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks",quantity:1,unitPrice:3.25,totalPrice:3.25}],orderSummary:{subtotal:18.25,taxAmount:2.74,discountAmount:1,totalAmount:19.99,paymentMethod:"Digital Wallet",paymentStatus:"Paid"},orderStatus:"Preparing",orderTiming:{orderDate:new Date(Date.now()-6e5).toISOString(),estimatedPrepTime:20},notes:"Family lunch order",createdAt:new Date(Date.now()-6e5).toISOString(),updatedAt:new Date(Date.now()-3e5).toISOString()}];a(_),o(null)},E=async()=>{try{const _=await Q.getOutlets({limit:1e3});if(_.success){w(_.data);const G=A();if(G){const ee=_.data.find(de=>de.outletName===G);ee&&(P(ee),d(ee._id))}}}catch(_){console.error("Error loading outlets:",_)}};C.useEffect(()=>{E()},[]),C.useEffect(()=>{L()},[c,h,m,b,j]);const B=_=>{y(_),p(!0)},T=async _=>{if(window.confirm("Are you sure you want to delete this sales order?"))try{const G=await Q.deleteSalesOrder(_);G.success?(alert(G.message),L()):alert(G.message||"Failed to delete sales order")}catch(G){alert(G.message||"An error occurred during deletion")}},I=_=>{switch(_){case"Pending":return"bg-yellow-100 text-yellow-800";case"Confirmed":return"bg-blue-100 text-blue-800";case"Preparing":return"bg-orange-100 text-orange-800";case"Ready":return"bg-green-100 text-green-800";case"Served":return"bg-green-100 text-green-800";case"Completed":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$=_=>{switch(_){case"Pending":return"bg-yellow-100 text-yellow-800";case"Paid":return"bg-green-100 text-green-800";case"Partially Paid":return"bg-blue-100 text-blue-800";case"Refunded":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},F=_=>{switch(_){case"Dine-in":return"";case"Takeaway":return"";case"Delivery":return"";case"Drive-thru":return"";default:return""}};return n.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Sales Orders",k&&n.jsxs("span",{className:"text-lg font-normal text-gray-600 ml-2",children:["- ",k.outletName]})]}),k&&n.jsxs("p",{className:"text-gray-600 mt-1",children:["Managing sales orders for ",k.outletName]})]}),n.jsxs("button",{onClick:()=>{const _=A();if(_){const G=_.toLowerCase().replace(/\s+/g,"-");e(`/${G}/sales-orders/add`)}else e("/sales-orders/add")},className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[n.jsx(be,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Create Order"]})]}),n.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Bt,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),n.jsx("input",{type:"text",name:"search",id:"search",className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search orders...",value:c,onChange:_=>u(_.target.value)})]})]}),!k&&n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"outletFilter",className:"block text-sm font-medium text-gray-700",children:"Outlet"}),n.jsxs("select",{id:"outletFilter",name:"outletFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:h,onChange:_=>d(_.target.value),children:[n.jsx("option",{value:"",children:"All Outlets"}),v.map(_=>n.jsx("option",{value:_._id,children:_.outletName},_._id))]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"statusFilter",className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsxs("select",{id:"statusFilter",name:"statusFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:m,onChange:_=>g(_.target.value),children:[n.jsx("option",{value:"",children:"All Statuses"}),D.map(_=>n.jsx("option",{value:_,children:_},_))]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"orderTypeFilter",className:"block text-sm font-medium text-gray-700",children:"Order Type"}),n.jsxs("select",{id:"orderTypeFilter",name:"orderTypeFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:b,onChange:_=>x(_.target.value),children:[n.jsx("option",{value:"",children:"All Types"}),O.map(_=>n.jsx("option",{value:_,children:_},_))]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:"paymentStatusFilter",className:"block text-sm font-medium text-gray-700",children:"Payment"}),n.jsxs("select",{id:"paymentStatusFilter",name:"paymentStatusFilter",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:j,onChange:_=>N(_.target.value),children:[n.jsx("option",{value:"",children:"All Payments"}),M.map(_=>n.jsx("option",{value:_,children:_},_))]})]})]}),n.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[n.jsxs("button",{onClick:()=>{u(""),k||d(""),g(""),x(""),N("")},className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[n.jsx(ke,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Clear Filters"]}),n.jsxs("button",{onClick:L,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[n.jsx(_t,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Refresh"]})]})]}),s?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full"}),n.jsx("p",{className:"text-gray-600 mt-3",children:"Loading sales orders..."})]}):l?n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[n.jsx("strong",{className:"font-bold",children:"Error!"}),n.jsxs("span",{className:"block sm:inline",children:[" ",l]}),n.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:n.jsx(ke,{className:"h-6 w-6 text-red-500 cursor-pointer",onClick:()=>o(null)})})]}):r.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(dt,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-lg",children:"No sales orders found."}),n.jsx("p",{className:"text-sm",children:"Try adjusting your filters or create a new order."})]}):n.jsx("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order #"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outlet"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{scope:"col",className:"relative px-6 py-3",children:n.jsx("span",{className:"sr-only",children:"Actions"})})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(_=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.orderNumber}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:_.customerInfo.customerName}),_.customerInfo.customerPhone&&n.jsx("div",{className:"text-gray-400",children:_.customerInfo.customerPhone})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.outletName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("span",{className:"flex items-center",children:[n.jsx("span",{className:"mr-1",children:F(_.customerInfo.orderType)}),_.customerInfo.orderType]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[_.orderItems.length," item",_.orderItems.length!==1?"s":""]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",_.orderSummary.totalAmount.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I(_.orderStatus)}`,children:_.orderStatus})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$(_.orderSummary.paymentStatus)}`,children:_.orderSummary.paymentStatus})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(_.orderTiming.orderDate).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[n.jsx("button",{onClick:()=>B(_),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"View Details",children:n.jsx(en,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>e(`/sales-orders/edit/${_._id}`),className:"text-indigo-600 hover:text-indigo-900 mr-3",title:"Edit",children:n.jsx(Ur,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>T(_._id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ae,{className:"h-5 w-5"})})]})]},_._id))})]})}),f&&S&&n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-800 bg-opacity-75 flex justify-center items-center",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-4xl mx-4 my-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Order Details: ",S.orderNumber]}),n.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(ke,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Customer Information"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",S.customerInfo.customerName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",S.customerInfo.customerPhone||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",S.customerInfo.customerEmail||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Order Type:"})," ",F(S.customerInfo.orderType)," ",S.customerInfo.orderType]}),S.customerInfo.tableNumber&&n.jsxs("p",{children:[n.jsx("strong",{children:"Table:"})," ",S.customerInfo.tableNumber]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Order Summary"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Outlet:"})," ",S.outletName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I(S.orderStatus)}`,children:S.orderStatus})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Payment:"})," ",n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$(S.orderSummary.paymentStatus)}`,children:S.orderSummary.paymentStatus})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Method:"})," ",S.orderSummary.paymentMethod]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total:"})," $",S.orderSummary.totalAmount.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Order Items"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.orderItems.map((_,G)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:_.productName}),n.jsx("div",{className:"text-gray-500",children:_.productCode}),_.specialInstructions&&n.jsx("div",{className:"text-gray-400 text-xs italic",children:_.specialInstructions})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.quantity}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",_.unitPrice.toFixed(2)]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",_.totalPrice.toFixed(2)]})]},G))})]})})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Close"})})]})})]})},Vi=()=>{const e=ye(),t=wr(),[r,a]=C.useState(null),[s,i]=C.useState([]),[l,o]=C.useState(!0),[c,u]=C.useState({orderNumber:"",outletId:"",outletCode:"",outletName:"",customerInfo:{customerName:"",customerPhone:"",customerEmail:"",tableNumber:"",orderType:"Dine-in"},orderItems:[],orderSummary:{subtotal:0,taxAmount:0,discountAmount:0,totalAmount:0,paymentMethod:"Cash",paymentStatus:"Pending"},orderStatus:"Pending",orderTiming:{orderDate:new Date().toISOString().split("T")[0],estimatedPrepTime:15},notes:""}),[h,d]=C.useState({}),[m]=C.useState("");C.useEffect(()=>{const M=new URLSearchParams(t.search).get("outlet");M?g(M):b()},[t.search]);const g=async O=>{try{o(!0);const L={"downtown-restaurant":{id:"outlet-downtown-001",outletCode:"DT-001",outletName:"Kuwait City",outletType:"Restaurant"},"marina-walk-cafe":{id:"outlet-marina-001",outletCode:"MW-001",outletName:"360 Mall",outletType:"Cafe"},"mall-food-court":{id:"outlet-mall-001",outletCode:"MF-001",outletName:"Vibes Complex",outletType:"Food Court"},"drive-thru-express":{id:"outlet-drive-001",outletCode:"DTE-001",outletName:"Taiba Hospital",outletType:"Drive-Thru"},"central-kitchen":{id:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Kitchen"},"Central Kitchen":{id:"central-kitchen-001",outletCode:"CK-001",outletName:"Central Kitchen",outletType:"Kitchen"}}[O];L&&(a(L),u(R=>({...R,outletId:L.id,outletCode:L.outletCode,outletName:L.outletName,orderNumber:`SO-${L.outletCode}-${Date.now().toString().slice(-6)}`}))),await x()}catch(M){console.error("Error loading outlet data:",M)}finally{o(!1)}},b=async()=>{try{o(!0);const O=await Q.getOutlets({limit:1e3});if(O.success&&O.data.length>0){const M=O.data[0];a(M),u(L=>({...L,outletId:M._id||M.id,outletCode:M.outletCode,outletName:M.outletName,orderNumber:`SO-${M.outletCode}-${Date.now().toString().slice(-6)}`}))}await x()}catch(O){console.error("Error loading default outlet:",O)}finally{o(!1)}},x=async()=>{try{const O=await Q.getFinishedGoods({limit:1e3});O.success?i(O.data):(console.log("API failed, loading sample products"),j())}catch(O){console.error("Error loading products:",O),j()}},j=()=>{i([{_id:"fg-001",id:"fg-001",productCode:"FG-001",productName:"Fresh Green Smoothie",category:"Beverages",unitPrice:4.5,description:"Fresh green smoothie with spinach, banana, and apple"},{_id:"fg-002",id:"fg-002",productCode:"FG-002",productName:"Protein Power Bowl",category:"Meals",unitPrice:8.75,description:"High protein meal bowl with quinoa and vegetables"},{_id:"fg-003",id:"fg-003",productCode:"FG-003",productName:"Detox Juice Blend",category:"Beverages",unitPrice:5.25,description:"Fresh detox juice blend with celery and cucumber"},{_id:"fg-004",id:"fg-004",productCode:"FG-004",productName:"Quinoa Salad",category:"Meals",unitPrice:7.5,description:"Healthy quinoa salad with mixed vegetables"},{_id:"fg-005",id:"fg-005",productCode:"FG-005",productName:"Energy Protein Bar",category:"Snacks",unitPrice:3.25,description:"High protein energy bar for quick nutrition"},{_id:"fg-006",id:"fg-006",productCode:"FG-006",productName:"Fresh Fruit Bowl",category:"Meals",unitPrice:6,description:"Mixed fresh fruit bowl with seasonal fruits"},{_id:"fg-007",id:"fg-007",productCode:"FG-007",productName:"Acai Bowl",category:"Meals",unitPrice:9.5,description:"Nutritious acai bowl with granola and berries"},{_id:"fg-008",id:"fg-008",productCode:"FG-008",productName:"Cold Brew Coffee",category:"Beverages",unitPrice:3.75,description:"Smooth cold brew coffee with natural sweetness"}])},N=["Dine-in","Takeaway","Delivery","Drive-thru"],S=["Cash","Card","Digital Wallet","Credit","Mixed"],y=["Pending","Paid","Partially Paid","Refunded"],f=["Pending","Confirmed","Preparing","Ready","Served","Completed","Cancelled"],p=()=>{const O={};return c.orderNumber.trim()||(O.orderNumber="Order number is required"),c.customerInfo.customerName.trim()||(O.customerName="Customer name is required"),c.customerInfo.orderType||(O.orderType="Order type is required"),c.orderItems.length===0&&(O.orderItems="At least one item is required"),d(O),Object.keys(O).length===0},v=async O=>{if(O.preventDefault(),!!p())try{const M=c.orderItems.reduce((T,I)=>T+I.totalPrice,0),L=M*.15,R=M+L-c.orderSummary.discountAmount,E={orderNumber:c.orderNumber,outletId:c.outletId,outletCode:c.outletCode,outletName:c.outletName,customerInfo:c.customerInfo,orderItems:c.orderItems,orderSummary:{...c.orderSummary,subtotal:M,taxAmount:L,totalAmount:R},orderStatus:c.orderStatus,orderTiming:c.orderTiming,notes:c.notes};console.log("Creating Sales Order:",E);const B=await Q.createSalesOrder(E);if(B.success){alert("Sales Order created successfully!");const T=new URLSearchParams(t.search).get("outlet");if(T)if(T==="Central Kitchen")e("/central-kitchen");else{const I=T.toLowerCase().replace(/\s+/g,"-");e(`/${I}/sales-orders`)}else e("/sales-orders")}else alert("Failed to create Sales Order: "+B.message)}catch(M){console.error("Error creating Sales Order:",M),alert("Error creating Sales Order: "+(M instanceof Error?M.message:"Unknown error"))}},w=(O,M)=>{if(O.includes(".")){const[L,R]=O.split(".");u(E=>({...E,[L]:{...E[L]||{},[R]:M}}))}else u(L=>({...L,[O]:M}));h[O]&&d(L=>({...L,[O]:""}))},k=()=>{const O={productId:"",productCode:"",productName:"",category:"",quantity:1,unitPrice:0,totalPrice:0,specialInstructions:""};u(M=>({...M,orderItems:[...M.orderItems,O]}))},P=(O,M,L)=>{const R=[...c.orderItems];if(R[O]={...R[O],[M]:L},M==="quantity"||M==="unitPrice"){const E=M==="quantity"?Number(L):R[O].quantity,B=M==="unitPrice"?Number(L):R[O].unitPrice;R[O].totalPrice=E*B}if(M==="productId"&&typeof L=="string"){const E=s.find(B=>B._id===L||B.id===L);E&&(R[O].productCode=E.productCode,R[O].productName=E.productName,R[O].category=E.category,R[O].unitPrice=E.unitPrice,R[O].totalPrice=R[O].quantity*E.unitPrice)}u(E=>({...E,orderItems:R}))},A=O=>{const M=c.orderItems.filter((L,R)=>R!==O);u(L=>({...L,orderItems:M}))},D=s.filter(O=>O.productName.toLowerCase().includes(m.toLowerCase())||O.productCode.toLowerCase().includes(m.toLowerCase())||O.category.toLowerCase().includes(m.toLowerCase()));return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading sales order form..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create Sales Order"}),n.jsx("p",{className:"text-gray-600",children:r?`${r.outletName} (${r.outletCode})`:"Select an outlet"})]}),n.jsxs("button",{onClick:()=>e("/sales-orders"),className:"btn-secondary flex items-center",children:[n.jsx(Le,{className:"h-4 w-4 mr-2"}),"Back to Sales Orders"]})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:v,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(xe,{className:"h-5 w-5 mr-2"}),"Order Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Number *"}),n.jsx("input",{type:"text",className:`input-field ${h.orderNumber?"border-red-500":""}`,value:c.orderNumber,onChange:O=>w("orderNumber",O.target.value),placeholder:"Enter order number"}),h.orderNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.orderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Date *"}),n.jsx("input",{type:"date",className:`input-field ${h.orderDate?"border-red-500":""}`,value:c.orderTiming.orderDate,onChange:O=>w("orderTiming.orderDate",O.target.value)}),h.orderDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.orderDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(To,{className:"h-5 w-5 mr-2"}),"Customer Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),n.jsx("input",{type:"text",className:`input-field ${h.customerName?"border-red-500":""}`,value:c.customerInfo.customerName,onChange:O=>w("customerInfo.customerName",O.target.value),placeholder:"Enter customer name"}),h.customerName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.customerName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Type *"}),n.jsx("select",{className:`input-field ${h.orderType?"border-red-500":""}`,value:c.customerInfo.orderType,onChange:O=>w("customerInfo.orderType",O.target.value),children:N.map(O=>n.jsx("option",{value:O,children:O},O))}),h.orderType&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.orderType})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(CD,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),n.jsx("input",{type:"tel",className:"input-field",value:c.customerInfo.customerPhone,onChange:O=>w("customerInfo.customerPhone",O.target.value),placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ND,{className:"h-4 w-4 inline mr-1"}),"Email Address"]}),n.jsx("input",{type:"email",className:"input-field",value:c.customerInfo.customerEmail,onChange:O=>w("customerInfo.customerEmail",O.target.value),placeholder:"Enter email address"})]}),c.customerInfo.orderType==="Dine-in"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(hu,{className:"h-4 w-4 inline mr-1"}),"Table Number"]}),n.jsx("input",{type:"text",className:"input-field",value:c.customerInfo.tableNumber,onChange:O=>w("customerInfo.tableNumber",O.target.value),placeholder:"Enter table number"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(dt,{className:"h-5 w-5 mr-2"}),"Order Items"]}),n.jsxs("button",{type:"button",onClick:k,className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),c.orderItems.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:'No items added yet. Click "Add Item" to start building the order.'})]}):n.jsx("div",{className:"space-y-4",children:c.orderItems.map((O,M)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-medium text-gray-900",children:["Item ",M+1]}),n.jsx("button",{type:"button",onClick:()=>A(M),className:"text-red-600 hover:text-red-800",children:n.jsx(Ae,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product *"}),n.jsxs("select",{className:"input-field",value:O.productId,onChange:L=>P(M,"productId",L.target.value),children:[n.jsx("option",{value:"",children:"Select Product"}),D.map(L=>n.jsxs("option",{value:L._id||L.id,children:[L.productName," - ",L.unitPrice.toFixed(2)," KWD"]},L._id||L.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),n.jsx("input",{type:"number",min:"1",className:"input-field",value:O.quantity,onChange:L=>P(M,"quantity",parseInt(L.target.value)||1)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:O.unitPrice,onChange:L=>P(M,"unitPrice",parseFloat(L.target.value)||0)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:O.totalPrice.toFixed(2),readOnly:!0})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),n.jsx("textarea",{className:"input-field",rows:2,value:O.specialInstructions,onChange:L=>P(M,"specialInstructions",L.target.value),placeholder:"Any special instructions for this item..."})]})]},M))}),h.orderItems&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:h.orderItems})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtotal (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:c.orderItems.reduce((O,M)=>O+M.totalPrice,0).toFixed(2),readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Amount (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field",value:c.orderSummary.discountAmount,onChange:O=>w("orderSummary.discountAmount",(parseFloat(O.target.value)||0).toString())})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Amount (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-gray-50",value:(c.orderItems.reduce((O,M)=>O+M.totalPrice,0)*.15).toFixed(2),readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount (KWD)"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field bg-blue-50 font-semibold",value:(c.orderItems.reduce((O,M)=>O+M.totalPrice,0)+c.orderItems.reduce((O,M)=>O+M.totalPrice,0)*.15-c.orderSummary.discountAmount).toFixed(2),readOnly:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),n.jsx("select",{className:"input-field",value:c.orderSummary.paymentMethod,onChange:O=>w("orderSummary.paymentMethod",O.target.value),children:S.map(O=>n.jsx("option",{value:O,children:O},O))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status"}),n.jsx("select",{className:"input-field",value:c.orderSummary.paymentStatus,onChange:O=>w("orderSummary.paymentStatus",O.target.value),children:y.map(O=>n.jsx("option",{value:O,children:O},O))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Status"}),n.jsx("select",{className:"input-field",value:c.orderStatus,onChange:O=>w("orderStatus",O.target.value),children:f.map(O=>n.jsx("option",{value:O,children:O},O))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx($d,{className:"h-4 w-4 inline mr-1"}),"Estimated Prep Time (minutes)"]}),n.jsx("input",{type:"number",min:"1",className:"input-field",value:c.orderTiming.estimatedPrepTime,onChange:O=>w("orderTiming.estimatedPrepTime",(parseInt(O.target.value)||15).toString())})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:c.notes,onChange:O=>w("notes",O.target.value),placeholder:"Any additional notes for this order..."})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>e("/sales-orders"),className:"btn-secondary",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Sales Order"]})]})]})})]})},wc=()=>{var R;const e=ye(),r=((R=wr().state)==null?void 0:R.outletName)||"Outlet",[a,s]=C.useState([]),[i,l]=C.useState([]),[o,c]=C.useState(""),[u,h]=C.useState(""),[d,m]=C.useState(null),[g,b]=C.useState("cash"),[x,j]=C.useState(0),[N]=C.useState(0),[S,y]=C.useState(!1);C.useEffect(()=>{s([{id:"prod-001",name:"Caesar Salad",price:8.5,category:"Salads",description:"Fresh romaine lettuce with caesar dressing",isAvailable:!0},{id:"prod-002",name:"Chicken Burger",price:12,category:"Burgers",description:"Grilled chicken breast with fresh vegetables",isAvailable:!0},{id:"prod-003",name:"Margherita Pizza",price:15,category:"Pizza",description:"Classic tomato and mozzarella pizza",isAvailable:!0},{id:"prod-004",name:"Chicken Shawarma",price:10.5,category:"Middle Eastern",description:"Traditional chicken shawarma wrap",isAvailable:!0},{id:"prod-005",name:"Fresh Juice",price:4,category:"Beverages",description:"Freshly squeezed orange juice",isAvailable:!0},{id:"prod-006",name:"Coffee",price:3.5,category:"Beverages",description:"Freshly brewed coffee",isAvailable:!0},{id:"prod-007",name:"Chocolate Cake",price:6,category:"Desserts",description:"Rich chocolate cake slice",isAvailable:!0},{id:"prod-008",name:"Fish & Chips",price:14,category:"Main Course",description:"Beer-battered fish with crispy fries",isAvailable:!0}])},[]);const f=["All",...Array.from(new Set(a.map(E=>E.category)))],p=a.filter(E=>{const B=E.name.toLowerCase().includes(o.toLowerCase())||E.description.toLowerCase().includes(o.toLowerCase()),T=u===""||u==="All"||E.category===u;return B&&T&&E.isAvailable}),v=E=>{const B=i.find(T=>T.product.id===E.id);l(B?i.map(T=>T.product.id===E.id?{...T,quantity:T.quantity+1,subtotal:(T.quantity+1)*E.price}:T):[...i,{product:E,quantity:1,subtotal:E.price}])},w=(E,B)=>{if(B<=0){k(E);return}l(i.map(T=>T.product.id===E?{...T,quantity:B,subtotal:B*T.product.price}:T))},k=E=>{l(i.filter(B=>B.product.id!==E))},P=()=>i.reduce((E,B)=>E+B.subtotal,0),A=()=>P()*N/100,D=()=>P()*x/100,O=()=>P()+A()-D(),M=async()=>{if(i.length===0){alert("Please add items to cart before checkout");return}y(!0);try{await new Promise(B=>setTimeout(B,1e3));const E={id:`ORD-${Date.now()}`,outletName:r,customer:d||{name:"Walk-in Customer",phone:"",email:""},items:i,subtotal:P(),tax:A(),discount:D(),total:O(),paymentMethod:g,status:"Completed",createdAt:new Date().toISOString()};console.log("Order created:",E),alert(`Order ${E.id} created successfully!
Total: KD ${E.total.toFixed(2)}`),l([]),m(null),j(0)}catch(E){alert("Error creating order. Please try again."),console.error("Error creating order:",E)}finally{y(!1)}},L=()=>{i.length>0&&window.confirm("Are you sure you want to clear the cart?")&&l([])};return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:n.jsx(Le,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"POS - Create Order"}),n.jsx("p",{className:"text-gray-600",children:r})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx($d,{className:"h-4 w-4"}),n.jsx("span",{children:new Date().toLocaleString()})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search products...",value:o,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsx("select",{value:u,onChange:E=>h(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:f.map(E=>n.jsx("option",{value:E,children:E},E))})]})}),n.jsxs("div",{className:"card p-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Products"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:p.map(E=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>v(E),children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:E.name}),n.jsxs("span",{className:"text-green-600 font-semibold",children:["KD ",E.price.toFixed(2)]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:E.description}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:E.category}),n.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Add to Cart"})]})]},E.id))})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"card p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[n.jsx(dt,{className:"h-5 w-5 mr-2"}),"Cart (",i.length,")"]}),i.length>0&&n.jsx("button",{onClick:L,className:"text-red-600 hover:text-red-800 text-sm",children:"Clear Cart"})]}),i.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Cart is empty"}),n.jsx("p",{className:"text-sm",children:"Add products to get started"})]}):n.jsx("div",{className:"space-y-3",children:i.map(E=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-sm",children:E.product.name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["KD ",E.product.price.toFixed(2)," each"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>w(E.product.id,E.quantity-1),className:"p-1 hover:bg-gray-200 rounded",children:n.jsx(SD,{className:"h-3 w-3"})}),n.jsx("span",{className:"w-8 text-center text-sm",children:E.quantity}),n.jsx("button",{onClick:()=>w(E.product.id,E.quantity+1),className:"p-1 hover:bg-gray-200 rounded",children:n.jsx(be,{className:"h-3 w-3"})}),n.jsx("button",{onClick:()=>k(E.product.id),className:"p-1 text-red-600 hover:bg-red-50 rounded ml-2",children:n.jsx(Ae,{className:"h-3 w-3"})})]}),n.jsx("div",{className:"text-right ml-4",children:n.jsxs("p",{className:"font-medium text-sm",children:["KD ",E.subtotal.toFixed(2)]})})]},E.product.id))})]}),i.length>0&&n.jsxs("div",{className:"card p-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["KD ",P().toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Tax (",N,"%):"]}),n.jsxs("span",{children:["KD ",A().toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Discount (",x,"%):"]}),n.jsxs("span",{className:"text-red-600",children:["-KD ",D().toFixed(2)]})]}),n.jsx("hr",{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["KD ",O().toFixed(2)]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Customer Info (Optional)"}),n.jsx("input",{type:"text",placeholder:"Customer name",value:(d==null?void 0:d.name)||"",onChange:E=>m({...d,name:E.target.value,phone:(d==null?void 0:d.phone)||""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2"}),n.jsx("input",{type:"tel",placeholder:"Phone number",value:(d==null?void 0:d.phone)||"",onChange:E=>m({...d,phone:E.target.value,name:(d==null?void 0:d.name)||""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Payment Method"}),n.jsxs("select",{value:g,onChange:E=>b(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"card",children:"Credit/Debit Card"}),n.jsx("option",{value:"knet",children:"KNET"}),n.jsx("option",{value:"apple_pay",children:"Apple Pay"}),n.jsx("option",{value:"google_pay",children:"Google Pay"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discount (%)"}),n.jsx("input",{type:"number",min:"0",max:"100",value:x,onChange:E=>j(Number(E.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),n.jsx("button",{onClick:M,disabled:S||i.length===0,className:"w-full mt-6 bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:S?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(my,{className:"h-4 w-4 mr-2"}),"Complete Order - KD ",O().toFixed(2)]})})]})]})]})]})})},BZ=({user:e,permissions:t,onClose:r,onSave:a})=>{const[s,i]=C.useState((e==null?void 0:e.permissions)||[]),l=t.reduce((h,d)=>(h[d.module]||(h[d.module]=[]),h[d.module].push(d),h),{}),o=(h,d)=>{i(d?m=>[...m,h]:m=>m.filter(g=>g!==h))},c=(h,d)=>{const m=l[h].map(g=>g.id);i(d?g=>[...new Set([...g,...m])]:g=>g.filter(b=>!m.includes(b)))},u=()=>{e&&(a(e.id,s),r())};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(To,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Permissions"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[e.name," (",e.email,")"]})]})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:n.jsx(ke,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Role"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.role})]})]})}),Object.entries(l).map(([h,d])=>{const m=d.every(b=>s.includes(b.id)),g=d.some(b=>s.includes(b.id));return n.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:m,ref:b=>{b&&(b.indeterminate=g&&!m)},onChange:b=>c(h,b.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(hy,{className:"h-4 w-4 text-gray-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:h}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",d.filter(b=>s.includes(b.id)).length,"/",d.length,")"]})]})]})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(b=>n.jsxs("label",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",checked:s.includes(b.id),onChange:x=>o(b.id,x.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:b.name}),n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:b.category})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:b.description})]})]},b.id))})})]},h)})]})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx(VS,{className:"h-4 w-4 inline mr-1"}),s.length," permissions selected"]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:r,className:"btn-secondary",children:"Cancel"}),n.jsxs("button",{onClick:u,className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})}):null},qZ=({role:e,permissions:t,onClose:r,onSave:a,onDelete:s})=>{const[i,l]=C.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",permissions:(e==null?void 0:e.permissions)||[]}),o=t.reduce((m,g)=>(m[g.module]||(m[g.module]=[]),m[g.module].push(g),m),{}),c=(m,g)=>{l(g?b=>({...b,permissions:[...b.permissions,m]}):b=>({...b,permissions:b.permissions.filter(x=>x!==m)}))},u=(m,g)=>{const b=o[m].map(x=>x.id);l(g?x=>({...x,permissions:[...new Set([...x.permissions,...b])]}):x=>({...x,permissions:x.permissions.filter(j=>!b.includes(j))}))},h=()=>{i.name.trim()&&i.description.trim()&&(a(i),r())},d=()=>{e&&s&&(s(e.id),r())};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(hy,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?"Edit Role":"Create New Role"}),n.jsx("p",{className:"text-sm text-gray-600",children:e?"Modify role permissions and settings":"Define a new role with specific permissions"})]})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:n.jsx(ke,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name *"}),n.jsx("input",{type:"text",value:i.name,onChange:m=>l(g=>({...g,name:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter role name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Count"}),n.jsx("input",{type:"text",value:(e==null?void 0:e.userCount)||0,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),n.jsx("textarea",{value:i.description,onChange:m=>l(g=>({...g,description:m.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter role description"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Permissions"}),n.jsx("div",{className:"space-y-4",children:Object.entries(o).map(([m,g])=>{const b=g.every(j=>i.permissions.includes(j.id)),x=g.some(j=>i.permissions.includes(j.id));return n.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:b,ref:j=>{j&&(j.indeterminate=x&&!b)},onChange:j=>u(m,j.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"font-medium text-gray-900",children:m}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",g.filter(j=>i.permissions.includes(j.id)).length,"/",g.length,")"]})]})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(j=>n.jsxs("label",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",checked:i.permissions.includes(j.id),onChange:N=>c(j.id,N.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:j.name}),n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:j.category})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:j.description})]})]},j.id))})})]},m)})})]})]})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[i.permissions.length," permissions selected"]}),e&&s&&n.jsxs("button",{onClick:d,className:"text-red-600 hover:text-red-800 flex items-center space-x-1",children:[n.jsx(Ae,{className:"h-4 w-4"}),n.jsx("span",{children:"Delete Role"})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:r,className:"btn-secondary",children:"Cancel"}),n.jsxs("button",{onClick:h,className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),e?"Update Role":"Create Role"]})]})]})]})})},UZ=()=>{const[e,t]=C.useState("users"),[r,a]=C.useState([{id:"1",name:"John Doe",email:"john.doe@company.com",role:"Admin",status:"active",lastLogin:"2024-01-15 10:30",permissions:["all"]},{id:"2",name:"Jane Smith",email:"jane.smith@company.com",role:"Manager",status:"active",lastLogin:"2024-01-15 09:15",permissions:["inventory.view","inventory.edit","reports.view"]},{id:"3",name:"Mike Johnson",email:"mike.johnson@company.com",role:"Staff",status:"active",lastLogin:"2024-01-14 16:45",permissions:["inventory.view"]}]),[s,i]=C.useState([{id:"1",name:"Admin",description:"Full system access",permissions:["all"],userCount:1},{id:"2",name:"Manager",description:"Management level access",permissions:["inventory.view","inventory.edit","reports.view","users.view"],userCount:1},{id:"3",name:"Staff",description:"Basic operational access",permissions:["inventory.view","sales.view"],userCount:1}]),[l]=C.useState([{id:"dashboard.view",name:"View Dashboard",description:"Access to main dashboard",category:"Dashboard",module:"Dashboard"},{id:"inventory.view",name:"View Inventory",description:"View inventory items",category:"Inventory",module:"Inventory Management"},{id:"inventory.edit",name:"Edit Inventory",description:"Modify inventory items",category:"Inventory",module:"Inventory Management"},{id:"inventory.add",name:"Add Inventory",description:"Add new inventory items",category:"Inventory",module:"Inventory Management"},{id:"inventory.delete",name:"Delete Inventory",description:"Delete inventory items",category:"Inventory",module:"Inventory Management"},{id:"rawmaterials.view",name:"View Raw Materials",description:"View raw materials",category:"Raw Materials",module:"Raw Materials"},{id:"rawmaterials.edit",name:"Edit Raw Materials",description:"Edit raw materials",category:"Raw Materials",module:"Raw Materials"},{id:"rawmaterials.add",name:"Add Raw Materials",description:"Add new raw materials",category:"Raw Materials",module:"Raw Materials"},{id:"centralkitchen.view",name:"View Central Kitchen",description:"Access central kitchen",category:"Central Kitchen",module:"Central Kitchen"},{id:"centralkitchen.edit",name:"Edit Central Kitchen",description:"Modify central kitchen data",category:"Central Kitchen",module:"Central Kitchen"},{id:"centralkitchen.transfer",name:"Create Transfers",description:"Create transfer orders",category:"Central Kitchen",module:"Central Kitchen"},{id:"outlets.view",name:"View Outlets",description:"View outlet information",category:"Outlets",module:"Outlet Management"},{id:"outlets.edit",name:"Edit Outlets",description:"Modify outlet data",category:"Outlets",module:"Outlet Management"},{id:"outlets.kuwait",name:"Kuwait City Access",description:"Access Kuwait City outlet",category:"Outlets",module:"Outlet Management"},{id:"outlets.mall360",name:"360 Mall Access",description:"Access 360 Mall outlets",category:"Outlets",module:"Outlet Management"},{id:"outlets.taiba",name:"Taiba Hospital Access",description:"Access Taiba Hospital outlet",category:"Outlets",module:"Outlet Management"},{id:"sales.view",name:"View Sales",description:"View sales data",category:"Sales",module:"Sales Management"},{id:"sales.edit",name:"Edit Sales",description:"Modify sales data",category:"Sales",module:"Sales Management"},{id:"sales.create",name:"Create Sales",description:"Create new sales orders",category:"Sales",module:"Sales Management"},{id:"reports.view",name:"View Reports",description:"Access reports",category:"Reports",module:"Reporting"},{id:"reports.export",name:"Export Reports",description:"Export report data",category:"Reports",module:"Reporting"},{id:"users.view",name:"View Users",description:"View user information",category:"Users",module:"User Management"},{id:"users.edit",name:"Edit Users",description:"Modify user data",category:"Users",module:"User Management"},{id:"users.add",name:"Add Users",description:"Add new users",category:"Users",module:"User Management"},{id:"users.delete",name:"Delete Users",description:"Delete users",category:"Users",module:"User Management"},{id:"settings.view",name:"View Settings",description:"Access system settings",category:"Settings",module:"System Settings"},{id:"settings.edit",name:"Edit Settings",description:"Modify system settings",category:"Settings",module:"System Settings"}]),[o,c]=C.useState(null),[u,h]=C.useState(null),[d,m]=C.useState(!1),[g,b]=C.useState(!1),x=l.reduce((k,P)=>(k[P.module]||(k[P.module]=[]),k[P.module].push(P),k),{}),j=(k,P,A)=>{a(D=>D.map(O=>O.id===k?A?{...O,permissions:[...O.permissions,P]}:{...O,permissions:O.permissions.filter(M=>M!==P)}:O))},N=(k,P)=>{a(A=>A.map(D=>D.id===k?{...D,permissions:P}:D))},S=k=>{if(u)i(P=>P.map(A=>A.id===u.id?{...A,...k}:A));else{const P={id:Date.now().toString(),...k,userCount:0};i(A=>[...A,P])}},y=k=>{i(P=>P.filter(A=>A.id!==k))},f=k=>{c(k),m(!0)},p=k=>{h(k),b(!0)},v=()=>{h(null),b(!0)},w=[{id:"users",name:"Users",icon:xy},{id:"roles",name:"Roles",icon:hy},{id:"permissions",name:"Permissions",icon:VS}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(fy,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings & Permissions"}),n.jsx("p",{className:"text-gray-600",children:"Manage user access and system permissions"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{className:"btn-secondary flex items-center",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("button",{className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:w.map(k=>n.jsxs("button",{onClick:()=>t(k.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${e===k.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(k.icon,{className:"h-4 w-4"}),n.jsx("span",{children:k.name})]},k.id))})}),e==="users"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),n.jsxs("button",{onClick:()=>{},className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(k=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name}),n.jsx("div",{className:"text-sm text-gray-500",children:k.email})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:k.role})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.lastLogin}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>f(k),className:"text-blue-600 hover:text-blue-900",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",children:n.jsx(Ae,{className:"h-4 w-4"})})]})})]},k.id))})]})})})]}),e==="roles"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Role Management"}),n.jsxs("button",{onClick:v,className:"btn-primary flex items-center",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Role"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(k=>n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.name}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>p(k),className:"text-blue-600 hover:text-blue-900",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",children:n.jsx(Ae,{className:"h-4 w-4"})})]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:k.description}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[n.jsxs("span",{children:[k.permissions.length," permissions"]}),n.jsxs("span",{children:[k.userCount," users"]})]})]},k.id))})]}),e==="permissions"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Permission Management"}),Object.entries(x).map(([k,P])=>n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:k}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(A=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:A.name}),n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:A.category})]}),n.jsx("p",{className:"text-xs text-gray-600",children:A.description})]},A.id))})]},k))]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit Permissions - ",o.name]}),n.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-gray-600",children:n.jsx(ke,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"space-y-6",children:Object.entries(x).map(([k,P])=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:k}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:P.map(A=>n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:o.permissions.includes(A.id),onChange:D=>j(o.id,A.id,D.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),n.jsx("div",{className:"text-xs text-gray-500",children:A.description})]})]},A.id))})]},k))}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>c(null),className:"btn-secondary",children:"Cancel"}),n.jsx("button",{onClick:()=>c(null),className:"btn-primary",children:"Save Changes"})]})]})}),d&&o&&n.jsx(BZ,{user:o,permissions:l,onClose:()=>{m(!1),c(null)},onSave:N}),g&&n.jsx(qZ,{role:u,permissions:l,onClose:()=>{b(!1),h(null)},onSave:S,onDelete:y})]})},KZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState({transferNumber:"",fromWarehouseId:"Kuwait City",fromWarehouseName:"Kuwait City",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=C.useState({}),[o,c]=C.useState(!0);C.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const f=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],v=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(k=>({...k,transferNumber:v,transferDate:f,expectedDeliveryDate:p}));const w=await Q.getKuwaitCityRawMaterials({limit:1e3});w.success&&w.data&&r(w.data)}catch(f){console.error("Error loading data:",f)}finally{c(!1)}},h=(f,p)=>{s(v=>({...v,[f]:p})),i[f]&&l(v=>({...v,[f]:""}))},d=()=>{const f={materialId:"",materialCode:"",materialName:"",itemType:"raw-material",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,f]}))},m=(f,p,v)=>{s(w=>({...w,items:w.items.map((k,P)=>{if(P===f){const A={...k,[p]:v};return(p==="quantity"||p==="unitPrice")&&(A.totalPrice=A.quantity*A.unitPrice),A}return k})}))},g=(f,p)=>{if(!a.items[f])return;const w=t.find(k=>k.materialCode===p);w?(m(f,"materialId",w.id||w._id),m(f,"materialCode",p),m(f,"materialName",w.materialName),m(f,"unitOfMeasure",w.unitOfMeasure),m(f,"unitPrice",w.unitPrice)):(m(f,"materialId",""),m(f,"materialCode",p),m(f,"materialName",""),m(f,"unitOfMeasure",""),m(f,"unitPrice",0))},b=f=>{s(p=>({...p,items:p.items.filter((v,w)=>w!==f)}))},x=()=>{const f={};return a.transferNumber.trim()||(f.transferNumber="Transfer number is required"),a.transferDate||(f.transferDate="Transfer date is required"),a.expectedDeliveryDate||(f.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(f.items="At least one transfer item is required"),l(f),Object.keys(f).length===0},j=async f=>{if(f.preventDefault(),!!x())try{const p={fromOutlet:"Kuwait City",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Raw Material",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Kuwait City Manager"},v=await Q.createTransferOrder(p);if(v.success){try{const w=a.items.map(()=>"Raw Material"),k=[...new Set(w)],P=k.length===1?k[0]:"Mixed",A=a.items.map(M=>`${M.materialName} (${M.quantity} ${M.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Kuwait City - ${P}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Kuwait City. Items: ${A}`,type:`transfer_request_${P.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Kuwait City",transferOrderId:v.data._id||v.data.id,itemType:P,priority:a.priority==="Urgent"?"high":"normal"},O=await Q.createNotification(D);console.log("Notification sent to Central Kitchen:",O)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/downtown-restaurant/raw-materials")}else throw new Error(v.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],y=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/downtown-restaurant/raw-materials"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Le,{className:"h-5 w-5 mr-2"}),"Back to Raw Materials"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Raw Materials"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:f=>h("transferNumber",f.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:f=>h("transferType",f.target.value),children:y.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:f=>h("priority",f.target.value),children:S.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:f=>h("status",f.target.value),children:N.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:f=>h("transferDate",f.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:f=>h("expectedDeliveryDate",f.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Raw Materials (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:d,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Raw Material"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No raw materials added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Raw Material" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((f,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-blue-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsxs("select",{className:"input-field text-sm",value:f.materialCode,onChange:v=>g(p,v.target.value),children:[n.jsx("option",{value:"",children:"Select Raw Material"}),t.map(v=>n.jsxs("option",{value:v.materialCode,children:[v.materialCode," - ",v.materialName]},v.id||v._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.materialName,placeholder:"Material Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.quantity,onChange:v=>m(p,"quantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:f.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.remarks||"",onChange:v=>m(p,"remarks",v.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>b(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",f.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((f,p)=>f+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:f=>h("notes",f.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/downtown-restaurant/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},WZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState({transferNumber:"",fromWarehouseId:"Kuwait City",fromWarehouseName:"Kuwait City",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=C.useState({}),[o,c]=C.useState(!0);C.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const f=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],v=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(k=>({...k,transferNumber:v,transferDate:f,expectedDeliveryDate:p}));const w=await Q.getKuwaitCityFinishedProducts({limit:1e3});w.success&&w.data&&r(w.data)}catch(f){console.error("Error loading data:",f)}finally{c(!1)}},h=(f,p)=>{s(v=>({...v,[f]:p})),i[f]&&l(v=>({...v,[f]:""}))},d=()=>{const f={materialId:"",materialCode:"",materialName:"",itemType:"finished-good",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,f]}))},m=(f,p,v)=>{s(w=>({...w,items:w.items.map((k,P)=>{if(P===f){const A={...k,[p]:v};return(p==="quantity"||p==="unitPrice")&&(A.totalPrice=A.quantity*A.unitPrice),A}return k})}))},g=(f,p)=>{if(!a.items[f])return;const w=t.find(k=>k.productCode===p);w?(m(f,"materialId",w.id||w._id),m(f,"materialCode",p),m(f,"materialName",w.productName),m(f,"unitOfMeasure",w.unitOfMeasure),m(f,"unitPrice",w.unitPrice)):(m(f,"materialId",""),m(f,"materialCode",p),m(f,"materialName",""),m(f,"unitOfMeasure",""),m(f,"unitPrice",0))},b=f=>{s(p=>({...p,items:p.items.filter((v,w)=>w!==f)}))},x=()=>{const f={};return a.transferNumber.trim()||(f.transferNumber="Transfer number is required"),a.transferDate||(f.transferDate="Transfer date is required"),a.expectedDeliveryDate||(f.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(f.items="At least one transfer item is required"),l(f),Object.keys(f).length===0},j=async f=>{if(f.preventDefault(),!!x())try{const p={fromOutlet:"Kuwait City",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Finished Goods",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Kuwait City Manager"},v=await Q.createTransferOrder(p);if(v.success){try{const w=a.items.map(()=>"Finished Goods"),k=[...new Set(w)],P=k.length===1?k[0]:"Mixed",A=a.items.map(M=>`${M.materialName} (${M.quantity} ${M.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Kuwait City - ${P}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Kuwait City. Items: ${A}`,type:`transfer_request_${P.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Kuwait City",transferOrderId:v.data._id||v.data.id,itemType:P,priority:a.priority==="Urgent"?"high":"normal"},O=await Q.createNotification(D);console.log("Notification sent to Central Kitchen:",O)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/downtown-restaurant/finished-goods")}else throw new Error(v.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],y=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/downtown-restaurant/finished-goods"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Le,{className:"h-5 w-5 mr-2"}),"Back to Finished Goods"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Finished Goods"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:f=>h("transferNumber",f.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:f=>h("transferType",f.target.value),children:y.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:f=>h("priority",f.target.value),children:S.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:f=>h("status",f.target.value),children:N.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:f=>h("transferDate",f.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:f=>h("expectedDeliveryDate",f.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Finished Goods (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:d,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Finished Good"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No finished goods added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Finished Good" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((f,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-green-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Code"}),n.jsxs("select",{className:"input-field text-sm",value:f.materialCode,onChange:v=>g(p,v.target.value),children:[n.jsx("option",{value:"",children:"Select Finished Good"}),t.map(v=>n.jsxs("option",{value:v.productCode,children:[v.productCode," - ",v.productName]},v.id||v._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.materialName,placeholder:"Product Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.quantity,onChange:v=>m(p,"quantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:f.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.remarks||"",onChange:v=>m(p,"remarks",v.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>b(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",f.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((f,p)=>f+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:f=>h("notes",f.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/downtown-restaurant/finished-goods"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},zZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState({transferNumber:"",fromWarehouseId:"360 Mall",fromWarehouseName:"360 Mall",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=C.useState({}),[o,c]=C.useState(!0);C.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const f=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],v=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(k=>({...k,transferNumber:v,transferDate:f,expectedDeliveryDate:p}));const w=await Q.get360MallRawMaterials({limit:1e3});w.success&&w.data&&r(w.data)}catch(f){console.error("Error loading data:",f)}finally{c(!1)}},h=(f,p)=>{s(v=>({...v,[f]:p})),i[f]&&l(v=>({...v,[f]:""}))},d=()=>{const f={materialId:"",materialCode:"",materialName:"",itemType:"raw-material",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,f]}))},m=(f,p,v)=>{s(w=>({...w,items:w.items.map((k,P)=>{if(P===f){const A={...k,[p]:v};return(p==="quantity"||p==="unitPrice")&&(A.totalPrice=A.quantity*A.unitPrice),A}return k})}))},g=(f,p)=>{if(!a.items[f])return;const w=t.find(k=>k.materialCode===p);w?(m(f,"materialId",w.id||w._id),m(f,"materialCode",p),m(f,"materialName",w.materialName),m(f,"unitOfMeasure",w.unitOfMeasure),m(f,"unitPrice",w.unitPrice)):(m(f,"materialId",""),m(f,"materialCode",p),m(f,"materialName",""),m(f,"unitOfMeasure",""),m(f,"unitPrice",0))},b=f=>{s(p=>({...p,items:p.items.filter((v,w)=>w!==f)}))},x=()=>{const f={};return a.transferNumber.trim()||(f.transferNumber="Transfer number is required"),a.transferDate||(f.transferDate="Transfer date is required"),a.expectedDeliveryDate||(f.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(f.items="At least one transfer item is required"),l(f),Object.keys(f).length===0},j=async f=>{if(f.preventDefault(),!!x())try{const p={fromOutlet:"360 Mall",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Raw Material",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"360 Mall Manager"},v=await Q.createTransferOrder(p);if(v.success){try{const w=a.items.map(()=>"Raw Material"),k=[...new Set(w)],P=k.length===1?k[0]:"Mixed",A=a.items.map(M=>`${M.materialName} (${M.quantity} ${M.unitOfMeasure})`).join(", "),D={title:`Transfer Request from 360 Mall - ${P}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from 360 Mall. Items: ${A}`,type:`transfer_request_${P.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"360 Mall",transferOrderId:v.data._id||v.data.id,itemType:P,priority:a.priority==="Urgent"?"high":"normal"},O=await Q.createNotification(D);console.log("Notification sent to Central Kitchen:",O)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/mall-food-court/raw-materials")}else throw new Error(v.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],y=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/mall-food-court/raw-materials"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Le,{className:"h-5 w-5 mr-2"}),"Back to Raw Materials"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Raw Materials"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:f=>h("transferNumber",f.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:f=>h("transferType",f.target.value),children:y.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:f=>h("priority",f.target.value),children:S.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:f=>h("status",f.target.value),children:N.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:f=>h("transferDate",f.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:f=>h("expectedDeliveryDate",f.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Raw Materials (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:d,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Raw Material"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No raw materials added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Raw Material" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((f,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-blue-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsxs("select",{className:"input-field text-sm",value:f.materialCode,onChange:v=>g(p,v.target.value),children:[n.jsx("option",{value:"",children:"Select Raw Material"}),t.map(v=>n.jsxs("option",{value:v.materialCode,children:[v.materialCode," - ",v.materialName]},v.id||v._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.materialName,placeholder:"Material Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.quantity,onChange:v=>m(p,"quantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:f.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.remarks||"",onChange:v=>m(p,"remarks",v.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>b(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",f.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((f,p)=>f+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:f=>h("notes",f.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/mall-food-court/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},VZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState({transferNumber:"",fromWarehouseId:"360 Mall",fromWarehouseName:"360 Mall",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=C.useState({}),[o,c]=C.useState(!0);C.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const f=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],v=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(k=>({...k,transferNumber:v,transferDate:f,expectedDeliveryDate:p}));const w=await Q.get360MallFinishedProducts({limit:1e3});w.success&&w.data&&r(w.data)}catch(f){console.error("Error loading data:",f)}finally{c(!1)}},h=(f,p)=>{s(v=>({...v,[f]:p})),i[f]&&l(v=>({...v,[f]:""}))},d=()=>{const f={materialId:"",materialCode:"",materialName:"",itemType:"finished-good",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,f]}))},m=(f,p,v)=>{s(w=>({...w,items:w.items.map((k,P)=>{if(P===f){const A={...k,[p]:v};return(p==="quantity"||p==="unitPrice")&&(A.totalPrice=A.quantity*A.unitPrice),A}return k})}))},g=(f,p)=>{if(!a.items[f])return;const w=t.find(k=>k.productCode===p);w?(m(f,"materialId",w.id||w._id),m(f,"materialCode",p),m(f,"materialName",w.productName),m(f,"unitOfMeasure",w.unitOfMeasure),m(f,"unitPrice",w.unitPrice)):(m(f,"materialId",""),m(f,"materialCode",p),m(f,"materialName",""),m(f,"unitOfMeasure",""),m(f,"unitPrice",0))},b=f=>{s(p=>({...p,items:p.items.filter((v,w)=>w!==f)}))},x=()=>{const f={};return a.transferNumber.trim()||(f.transferNumber="Transfer number is required"),a.transferDate||(f.transferDate="Transfer date is required"),a.expectedDeliveryDate||(f.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(f.items="At least one transfer item is required"),l(f),Object.keys(f).length===0},j=async f=>{if(f.preventDefault(),!!x())try{const p={fromOutlet:"360 Mall",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Finished Goods",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"360 Mall Manager"},v=await Q.createTransferOrder(p);if(v.success){try{const w=a.items.map(()=>"Finished Goods"),k=[...new Set(w)],P=k.length===1?k[0]:"Mixed",A=a.items.map(M=>`${M.materialName} (${M.quantity} ${M.unitOfMeasure})`).join(", "),D={title:`Transfer Request from 360 Mall - ${P}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from 360 Mall. Items: ${A}`,type:`transfer_request_${P.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"360 Mall",transferOrderId:v.data._id||v.data.id,itemType:P,priority:a.priority==="Urgent"?"high":"normal"},O=await Q.createNotification(D);console.log("Notification sent to Central Kitchen:",O)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/mall-food-court/finished-goods")}else throw new Error(v.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],y=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/mall-food-court/finished-goods"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Le,{className:"h-5 w-5 mr-2"}),"Back to Finished Goods"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Finished Goods"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:f=>h("transferNumber",f.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:f=>h("transferType",f.target.value),children:y.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:f=>h("priority",f.target.value),children:S.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:f=>h("status",f.target.value),children:N.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:f=>h("transferDate",f.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:f=>h("expectedDeliveryDate",f.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Finished Goods (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:d,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Finished Good"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No finished goods added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Finished Good" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((f,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-green-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Code"}),n.jsxs("select",{className:"input-field text-sm",value:f.materialCode,onChange:v=>g(p,v.target.value),children:[n.jsx("option",{value:"",children:"Select Finished Good"}),t.map(v=>n.jsxs("option",{value:v.productCode,children:[v.productCode," - ",v.productName]},v.id||v._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.materialName,placeholder:"Product Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.quantity,onChange:v=>m(p,"quantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:f.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.remarks||"",onChange:v=>m(p,"remarks",v.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>b(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",f.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((f,p)=>f+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:f=>h("notes",f.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/mall-food-court/finished-goods"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},GZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState({transferNumber:"",fromWarehouseId:"Vibe Complex",fromWarehouseName:"Vibe Complex",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=C.useState({}),[o,c]=C.useState(!0);C.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const f=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],v=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(k=>({...k,transferNumber:v,transferDate:f,expectedDeliveryDate:p}));const w=await Q.getVibeComplexRawMaterials({limit:1e3});w.success&&w.data&&r(w.data)}catch(f){console.error("Error loading data:",f)}finally{c(!1)}},h=(f,p)=>{s(v=>({...v,[f]:p})),i[f]&&l(v=>({...v,[f]:""}))},d=()=>{const f={materialId:"",materialCode:"",materialName:"",itemType:"raw-material",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,f]}))},m=(f,p,v)=>{s(w=>({...w,items:w.items.map((k,P)=>{if(P===f){const A={...k,[p]:v};return(p==="quantity"||p==="unitPrice")&&(A.totalPrice=A.quantity*A.unitPrice),A}return k})}))},g=(f,p)=>{if(!a.items[f])return;const w=t.find(k=>k.materialCode===p);w?(m(f,"materialId",w.id||w._id),m(f,"materialCode",p),m(f,"materialName",w.materialName),m(f,"unitOfMeasure",w.unitOfMeasure),m(f,"unitPrice",w.unitPrice)):(m(f,"materialId",""),m(f,"materialCode",p),m(f,"materialName",""),m(f,"unitOfMeasure",""),m(f,"unitPrice",0))},b=f=>{s(p=>({...p,items:p.items.filter((v,w)=>w!==f)}))},x=()=>{const f={};return a.transferNumber.trim()||(f.transferNumber="Transfer number is required"),a.transferDate||(f.transferDate="Transfer date is required"),a.expectedDeliveryDate||(f.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(f.items="At least one transfer item is required"),l(f),Object.keys(f).length===0},j=async f=>{if(f.preventDefault(),!!x())try{const p={fromOutlet:"Vibe Complex",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Raw Material",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Vibe Complex Manager"},v=await Q.createTransferOrder(p);if(v.success){try{const w=a.items.map(()=>"Raw Material"),k=[...new Set(w)],P=k.length===1?k[0]:"Mixed",A=a.items.map(M=>`${M.materialName} (${M.quantity} ${M.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Vibe Complex - ${P}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Vibe Complex. Items: ${A}`,type:`transfer_request_${P.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Vibe Complex",transferOrderId:v.data._id||v.data.id,itemType:P,priority:a.priority==="Urgent"?"high":"normal"},O=await Q.createNotification(D);console.log("Notification sent to Central Kitchen:",O)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/marina-walk-cafe/raw-materials")}else throw new Error(v.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],y=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/marina-walk-cafe/raw-materials"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Le,{className:"h-5 w-5 mr-2"}),"Back to Raw Materials"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Raw Materials"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:f=>h("transferNumber",f.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:f=>h("transferType",f.target.value),children:y.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:f=>h("priority",f.target.value),children:S.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:f=>h("status",f.target.value),children:N.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:f=>h("transferDate",f.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:f=>h("expectedDeliveryDate",f.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Raw Materials (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:d,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Raw Material"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No raw materials added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Raw Material" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((f,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-blue-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsxs("select",{className:"input-field text-sm",value:f.materialCode,onChange:v=>g(p,v.target.value),children:[n.jsx("option",{value:"",children:"Select Raw Material"}),t.map(v=>n.jsxs("option",{value:v.materialCode,children:[v.materialCode," - ",v.materialName]},v.id||v._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.materialName,placeholder:"Material Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.quantity,onChange:v=>m(p,"quantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:f.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.remarks||"",onChange:v=>m(p,"remarks",v.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>b(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",f.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((f,p)=>f+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:f=>h("notes",f.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/marina-walk-cafe/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},HZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState({transferNumber:"",fromWarehouseId:"Vibe Complex",fromWarehouseName:"Vibe Complex",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=C.useState({}),[o,c]=C.useState(!0);C.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const f=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],v=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(k=>({...k,transferNumber:v,transferDate:f,expectedDeliveryDate:p}));const w=await Q.getVibeComplexFinishedProducts({limit:1e3});w.success&&w.data&&r(w.data)}catch(f){console.error("Error loading data:",f)}finally{c(!1)}},h=(f,p)=>{s(v=>({...v,[f]:p})),i[f]&&l(v=>({...v,[f]:""}))},d=()=>{const f={materialId:"",materialCode:"",materialName:"",itemType:"finished-good",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,f]}))},m=(f,p,v)=>{s(w=>({...w,items:w.items.map((k,P)=>{if(P===f){const A={...k,[p]:v};return(p==="quantity"||p==="unitPrice")&&(A.totalPrice=A.quantity*A.unitPrice),A}return k})}))},g=(f,p)=>{if(!a.items[f])return;const w=t.find(k=>k.productCode===p);w?(m(f,"materialId",w.id||w._id),m(f,"materialCode",p),m(f,"materialName",w.productName),m(f,"unitOfMeasure",w.unitOfMeasure),m(f,"unitPrice",w.unitPrice)):(m(f,"materialId",""),m(f,"materialCode",p),m(f,"materialName",""),m(f,"unitOfMeasure",""),m(f,"unitPrice",0))},b=f=>{s(p=>({...p,items:p.items.filter((v,w)=>w!==f)}))},x=()=>{const f={};return a.transferNumber.trim()||(f.transferNumber="Transfer number is required"),a.transferDate||(f.transferDate="Transfer date is required"),a.expectedDeliveryDate||(f.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(f.items="At least one transfer item is required"),l(f),Object.keys(f).length===0},j=async f=>{if(f.preventDefault(),!!x())try{const p={fromOutlet:"Vibe Complex",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Finished Goods",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Vibe Complex Manager"},v=await Q.createTransferOrder(p);if(v.success){try{const w=a.items.map(()=>"Finished Goods"),k=[...new Set(w)],P=k.length===1?k[0]:"Mixed",A=a.items.map(O=>`${O.materialName} (${O.quantity} ${O.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Vibe Complex - ${P}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Vibe Complex. Items: ${A}`,type:`transfer_request_${P.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Vibe Complex",transferOrderId:v.data._id||v.data.id,itemType:P,priority:a.priority==="Urgent"?"high":"normal"};await Q.createNotification(D)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/marina-walk-cafe/finished-goods")}else throw new Error(v.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],y=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/marina-walk-cafe/finished-goods"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Le,{className:"h-5 w-5 mr-2"}),"Back to Finished Goods"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Finished Goods"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:f=>h("transferNumber",f.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:f=>h("transferType",f.target.value),children:y.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:f=>h("priority",f.target.value),children:S.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:f=>h("status",f.target.value),children:N.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:f=>h("transferDate",f.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:f=>h("expectedDeliveryDate",f.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Finished Goods (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:d,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Finished Good"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No finished goods added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Finished Good" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((f,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-green-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Code"}),n.jsxs("select",{className:"input-field text-sm",value:f.materialCode,onChange:v=>g(p,v.target.value),children:[n.jsx("option",{value:"",children:"Select Finished Good"}),t.map(v=>n.jsxs("option",{value:v.productCode,children:[v.productCode," - ",v.productName]},v.id||v._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.materialName,placeholder:"Product Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.quantity,onChange:v=>m(p,"quantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:f.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.remarks||"",onChange:v=>m(p,"remarks",v.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>b(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",f.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((f,p)=>f+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:f=>h("notes",f.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/marina-walk-cafe/finished-goods"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},QZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState({transferNumber:"",fromWarehouseId:"Taiba Hospital",fromWarehouseName:"Taiba Hospital",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=C.useState({}),[o,c]=C.useState(!0);C.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const f=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],v=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(k=>({...k,transferNumber:v,transferDate:f,expectedDeliveryDate:p}));const w=await Q.getTaibaKitchenRawMaterials({limit:1e3});w.success&&w.data&&r(w.data)}catch(f){console.error("Error loading data:",f)}finally{c(!1)}},h=(f,p)=>{s(v=>({...v,[f]:p})),i[f]&&l(v=>({...v,[f]:""}))},d=()=>{const f={materialId:"",materialCode:"",materialName:"",itemType:"raw-material",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,f]}))},m=(f,p,v)=>{s(w=>({...w,items:w.items.map((k,P)=>{if(P===f){const A={...k,[p]:v};return(p==="quantity"||p==="unitPrice")&&(A.totalPrice=A.quantity*A.unitPrice),A}return k})}))},g=(f,p)=>{if(!a.items[f])return;const w=t.find(k=>k.materialCode===p);w?(m(f,"materialId",w.id||w._id),m(f,"materialCode",p),m(f,"materialName",w.materialName),m(f,"unitOfMeasure",w.unitOfMeasure),m(f,"unitPrice",w.unitPrice)):(m(f,"materialId",""),m(f,"materialCode",p),m(f,"materialName",""),m(f,"unitOfMeasure",""),m(f,"unitPrice",0))},b=f=>{s(p=>({...p,items:p.items.filter((v,w)=>w!==f)}))},x=()=>{const f={};return a.transferNumber.trim()||(f.transferNumber="Transfer number is required"),a.transferDate||(f.transferDate="Transfer date is required"),a.expectedDeliveryDate||(f.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(f.items="At least one transfer item is required"),l(f),Object.keys(f).length===0},j=async f=>{if(f.preventDefault(),!!x())try{const p={fromOutlet:"Taiba Hospital",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Raw Material",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Taiba Hospital Manager"},v=await Q.createTransferOrder(p);if(v.success){try{const w=a.items.map(()=>"Raw Material"),k=[...new Set(w)],P=k.length===1?k[0]:"Mixed",A=a.items.map(O=>`${O.materialName} (${O.quantity} ${O.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Taiba Hospital - ${P}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Taiba Hospital. Items: ${A}`,type:`transfer_request_${P.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Taiba Hospital",transferOrderId:v.data._id||v.data.id,itemType:P,priority:a.priority==="Urgent"?"high":"normal"};await Q.createNotification(D)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/drive-thru-express/raw-materials")}else throw new Error(v.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],y=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/drive-thru-express/raw-materials"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Le,{className:"h-5 w-5 mr-2"}),"Back to Raw Materials"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Raw Materials"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:f=>h("transferNumber",f.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:f=>h("transferType",f.target.value),children:y.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:f=>h("priority",f.target.value),children:S.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:f=>h("status",f.target.value),children:N.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:f=>h("transferDate",f.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:f=>h("expectedDeliveryDate",f.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Raw Materials (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:d,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Raw Material"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No raw materials added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Raw Material" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((f,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-blue-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Code"}),n.jsxs("select",{className:"input-field text-sm",value:f.materialCode,onChange:v=>g(p,v.target.value),children:[n.jsx("option",{value:"",children:"Select Raw Material"}),t.map(v=>n.jsxs("option",{value:v.materialCode,children:[v.materialCode," - ",v.materialName]},v.id||v._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Material Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.materialName,placeholder:"Material Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.quantity,onChange:v=>m(p,"quantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:f.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.remarks||"",onChange:v=>m(p,"remarks",v.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>b(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",f.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((f,p)=>f+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:f=>h("notes",f.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/drive-thru-express/raw-materials"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})},JZ=()=>{const e=ye(),[t,r]=C.useState([]),[a,s]=C.useState({transferNumber:"",fromWarehouseId:"Taiba Hospital",fromWarehouseName:"Taiba Hospital",toWarehouseId:"Central Kitchen",toWarehouseName:"Central Kitchen",transferDate:"",expectedDeliveryDate:"",status:"Pending",priority:"Normal",totalAmount:0,items:[],transferType:"Internal",notes:""}),[i,l]=C.useState({}),[o,c]=C.useState(!0);C.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const f=new Date().toISOString().split("T")[0],p=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],v=`TR-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;s(k=>({...k,transferNumber:v,transferDate:f,expectedDeliveryDate:p}));const w=await Q.getTaibaKitchenFinishedProducts({limit:1e3});w.success&&w.data&&r(w.data)}catch(f){console.error("Error loading data:",f)}finally{c(!1)}},h=(f,p)=>{s(v=>({...v,[f]:p})),i[f]&&l(v=>({...v,[f]:""}))},d=()=>{const f={materialId:"",materialCode:"",materialName:"",itemType:"finished-good",quantity:0,unitOfMeasure:"",unitPrice:0,totalPrice:0,remarks:""};s(p=>({...p,items:[...p.items,f]}))},m=(f,p,v)=>{s(w=>({...w,items:w.items.map((k,P)=>{if(P===f){const A={...k,[p]:v};return(p==="quantity"||p==="unitPrice")&&(A.totalPrice=A.quantity*A.unitPrice),A}return k})}))},g=(f,p)=>{if(!a.items[f])return;const w=t.find(k=>k.productCode===p);w?(m(f,"materialId",w.id||w._id),m(f,"materialCode",p),m(f,"materialName",w.productName),m(f,"unitOfMeasure",w.unitOfMeasure),m(f,"unitPrice",w.unitPrice)):(m(f,"materialId",""),m(f,"materialCode",p),m(f,"materialName",""),m(f,"unitOfMeasure",""),m(f,"unitPrice",0))},b=f=>{s(p=>({...p,items:p.items.filter((v,w)=>w!==f)}))},x=()=>{const f={};return a.transferNumber.trim()||(f.transferNumber="Transfer number is required"),a.transferDate||(f.transferDate="Transfer date is required"),a.expectedDeliveryDate||(f.expectedDeliveryDate="Expected delivery date is required"),a.items.length===0&&(f.items="At least one transfer item is required"),l(f),Object.keys(f).length===0},j=async f=>{if(f.preventDefault(),!!x())try{const p={fromOutlet:"Taiba Hospital",toOutlet:"Central Kitchen",transferDate:a.transferDate,priority:a.priority,items:a.items.map(w=>({itemType:"Finished Goods",itemCode:w.materialCode||"",itemName:w.materialName||"",category:"",subCategory:"",unitOfMeasure:w.unitOfMeasure,quantity:w.quantity,unitPrice:w.unitPrice,notes:w.remarks})),notes:a.notes,requestedBy:"Taiba Hospital Manager"},v=await Q.createTransferOrder(p);if(v.success){try{const w=a.items.map(()=>"Finished Goods"),k=[...new Set(w)],P=k.length===1?k[0]:"Mixed",A=a.items.map(O=>`${O.materialName} (${O.quantity} ${O.unitOfMeasure})`).join(", "),D={title:`Transfer Request from Taiba Hospital - ${P}`,message:`Transfer order #${p.fromOutlet}-${Date.now()} from Taiba Hospital. Items: ${A}`,type:`transfer_request_${P.toLowerCase().replace(" ","_")}`,targetOutlet:"Central Kitchen",sourceOutlet:"Taiba Hospital",transferOrderId:v.data._id||v.data.id,itemType:P,priority:a.priority==="Urgent"?"high":"normal"};await Q.createNotification(D)}catch(w){console.error("Failed to send notification to Central Kitchen:",w)}alert("Transfer order created successfully!"),e("/drive-thru-express/finished-goods")}else throw new Error(v.message||"Failed to create transfer order")}catch(p){console.error("Error creating transfer order:",p),alert("Error creating transfer order: "+(p instanceof Error?p.message:"Unknown error"))}},N=["Draft","Approved","In Transit","Delivered","Cancelled"],S=["Low","Medium","High","Urgent","Normal"],y=["Internal","External","Emergency"];return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading transfer order data..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>e("/drive-thru-express/finished-goods"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Le,{className:"h-5 w-5 mr-2"}),"Back to Finished Goods"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Request Finished Goods"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Number *"}),n.jsx("input",{type:"text",className:`input-field ${i.transferNumber?"border-red-500":""}`,value:a.transferNumber,onChange:f=>h("transferNumber",f.target.value),placeholder:"TO-2024-001"}),i.transferNumber&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Type"}),n.jsx("select",{className:"input-field",value:a.transferType,onChange:f=>h("transferType",f.target.value),children:y.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{className:"input-field",value:a.priority,onChange:f=>h("priority",f.target.value),children:S.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsx("select",{className:"input-field",value:a.status,onChange:f=>h("status",f.target.value),children:N.map(f=>n.jsx("option",{value:f,children:f},f))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.transferDate?"border-red-500":""}`,value:a.transferDate,onChange:f=>h("transferDate",f.target.value)}),i.transferDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.transferDate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date *"}),n.jsx("input",{type:"date",className:`input-field ${i.expectedDeliveryDate?"border-red-500":""}`,value:a.expectedDeliveryDate,onChange:f=>h("expectedDeliveryDate",f.target.value)}),i.expectedDeliveryDate&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.expectedDeliveryDate})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Finished Goods (",t.length," available)"]}),n.jsxs("button",{type:"button",onClick:d,className:"btn-secondary flex items-center text-sm",children:[n.jsx(be,{className:"h-4 w-4 mr-2"}),"Add Finished Good"]})]}),a.items.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(xe,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No finished goods added yet"}),n.jsx("p",{className:"text-sm",children:'Click "Add Finished Good" to get started'})]}):n.jsx("div",{className:"space-y-4",children:a.items.map((f,p)=>n.jsxs("div",{className:"grid grid-cols-7 gap-3 p-4 border border-gray-200 rounded-lg bg-green-50",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Code"}),n.jsxs("select",{className:"input-field text-sm",value:f.materialCode,onChange:v=>g(p,v.target.value),children:[n.jsx("option",{value:"",children:"Select Finished Good"}),t.map(v=>n.jsxs("option",{value:v.productCode,children:[v.productCode," - ",v.productName]},v.id||v._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.materialName,placeholder:"Product Name",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",className:"input-field text-sm",value:f.quantity,onChange:v=>m(p,"quantity",parseFloat(v.target.value)||0),placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit"}),n.jsx("input",{type:"text",className:"input-field text-sm bg-gray-100",value:f.unitOfMeasure,placeholder:"Unit",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",step:"0.01",className:"input-field text-sm bg-gray-100",value:f.unitPrice,placeholder:"0.00",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Remarks"}),n.jsx("input",{type:"text",className:"input-field text-sm",value:f.remarks||"",onChange:v=>m(p,"remarks",v.target.value),placeholder:"Notes"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{type:"button",onClick:()=>b(p),className:"text-red-600 hover:text-red-900 p-1",children:n.jsx(Ae,{className:"h-4 w-4"})})}),n.jsx("div",{className:"col-span-7",children:n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Price: ",f.totalPrice.toFixed(2)," KWD"]})})]},p))}),a.items.length>0&&n.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total Transfer Amount: ",a.items.reduce((f,p)=>f+p.totalPrice,0).toFixed(2)," KWD"]})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Information"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"input-field",rows:3,value:a.notes,onChange:f=>h("notes",f.target.value),placeholder:"Additional notes or special instructions"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:()=>e("/drive-thru-express/finished-goods"),className:"btn-secondary flex items-center",children:[n.jsx(ke,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsxs("button",{type:"submit",className:"btn-primary flex items-center",children:[n.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Create Transfer Order"]})]})]})})]})};function XZ(){return n.jsx(kD,{children:n.jsxs(q4,{children:[n.jsx(oe,{path:"/",element:n.jsx(aw,{})}),n.jsx(oe,{path:"/dashboard",element:n.jsx(aw,{})}),n.jsx(oe,{path:"/raw-materials",element:n.jsx(oZ,{})}),n.jsx(oe,{path:"/raw-materials/add",element:n.jsx(cZ,{})}),n.jsx(oe,{path:"/raw-materials/edit/:id",element:n.jsx(uZ,{})}),n.jsx(oe,{path:"/bill-of-materials",element:n.jsx(dZ,{})}),n.jsx(oe,{path:"/bill-of-materials/add",element:n.jsx(mZ,{})}),n.jsx(oe,{path:"/bill-of-materials/edit/:id",element:n.jsx(fZ,{})}),n.jsx(oe,{path:"/job-orders",element:n.jsx(hZ,{})}),n.jsx(oe,{path:"/job-orders/add",element:n.jsx(pZ,{})}),n.jsx(oe,{path:"/job-orders/edit/:id",element:n.jsx(xZ,{})}),n.jsx(oe,{path:"/purchase-orders",element:n.jsx(yZ,{})}),n.jsx(oe,{path:"/purchase-orders/add",element:n.jsx(gZ,{})}),n.jsx(oe,{path:"/purchase-orders/edit/:id",element:n.jsx(vZ,{})}),n.jsx(oe,{path:"/good-receipt-notes",element:n.jsx(bZ,{})}),n.jsx(oe,{path:"/good-receipt-notes/add",element:n.jsx(jZ,{})}),n.jsx(oe,{path:"/good-receipt-notes/edit/:id",element:n.jsx(NZ,{})}),n.jsx(oe,{path:"/warehouse-master",element:n.jsx(wZ,{})}),n.jsx(oe,{path:"/warehouse-master/add",element:n.jsx(SZ,{})}),n.jsx(oe,{path:"/warehouse-master/edit/:id",element:n.jsx(CZ,{})}),n.jsx(oe,{path:"/transfer-orders",element:n.jsx(kZ,{})}),n.jsx(oe,{path:"/transfer-orders/edit/:id",element:n.jsx(OZ,{})}),n.jsx(oe,{path:"/inventory",element:n.jsx(PZ,{})}),n.jsx(oe,{path:"/outlets",element:n.jsx(TZ,{})}),n.jsx(oe,{path:"/outlets/add",element:n.jsx(AZ,{})}),n.jsx(oe,{path:"/outlets/edit/:id",element:n.jsx(DZ,{})}),n.jsx(oe,{path:"/central-kitchen",element:n.jsx(EZ,{})}),n.jsx(oe,{path:"/central-kitchen/raw-materials",element:n.jsx(MZ,{})}),n.jsx(oe,{path:"/central-kitchen/finished-goods",element:n.jsx(IZ,{})}),n.jsx(oe,{path:"/central-kitchen/make-finished-good",element:n.jsx($Z,{})}),n.jsx(oe,{path:"/central-kitchen/create-transfer",element:n.jsx(_Z,{})}),n.jsx(oe,{path:"/central-kitchen/add-item",element:n.jsx(RZ,{})}),n.jsx(oe,{path:"/downtown-restaurant",element:n.jsx(Mf,{})}),n.jsx(oe,{path:"/downtown-restaurant/raw-materials",element:n.jsx(Mf,{})}),n.jsx(oe,{path:"/downtown-restaurant/finished-goods",element:n.jsx(Mf,{})}),n.jsx(oe,{path:"/downtown-restaurant/request-raw-materials",element:n.jsx(KZ,{})}),n.jsx(oe,{path:"/downtown-restaurant/request-finished-goods",element:n.jsx(WZ,{})}),n.jsx(oe,{path:"/marina-walk-cafe",element:n.jsx(If,{})}),n.jsx(oe,{path:"/marina-walk-cafe/raw-materials",element:n.jsx(If,{})}),n.jsx(oe,{path:"/marina-walk-cafe/finished-goods",element:n.jsx(If,{})}),n.jsx(oe,{path:"/marina-walk-cafe/request-raw-materials",element:n.jsx(GZ,{})}),n.jsx(oe,{path:"/marina-walk-cafe/request-finished-goods",element:n.jsx(HZ,{})}),n.jsx(oe,{path:"/mall-food-court",element:n.jsx($f,{})}),n.jsx(oe,{path:"/mall-food-court/raw-materials",element:n.jsx($f,{})}),n.jsx(oe,{path:"/mall-food-court/finished-goods",element:n.jsx($f,{})}),n.jsx(oe,{path:"/mall-food-court/request-raw-materials",element:n.jsx(zZ,{})}),n.jsx(oe,{path:"/mall-food-court/request-finished-goods",element:n.jsx(VZ,{})}),n.jsx(oe,{path:"/drive-thru-express",element:n.jsx(_f,{})}),n.jsx(oe,{path:"/drive-thru-express/raw-materials",element:n.jsx(_f,{})}),n.jsx(oe,{path:"/drive-thru-express/finished-goods",element:n.jsx(_f,{})}),n.jsx(oe,{path:"/drive-thru-express/request-raw-materials",element:n.jsx(QZ,{})}),n.jsx(oe,{path:"/drive-thru-express/request-finished-goods",element:n.jsx(JZ,{})}),n.jsx(oe,{path:"/raw-material-forecast",element:n.jsx(FZ,{})}),n.jsx(oe,{path:"/raw-material-forecast/add",element:n.jsx(LZ,{})}),n.jsx(oe,{path:"/sales-orders",element:n.jsx(zi,{})}),n.jsx(oe,{path:"/sales-orders/add",element:n.jsx(Vi,{})}),n.jsx(oe,{path:"/downtown-restaurant/sales-orders",element:n.jsx(zi,{})}),n.jsx(oe,{path:"/downtown-restaurant/sales-orders/add",element:n.jsx(Vi,{})}),n.jsx(oe,{path:"/downtown-restaurant/pos-sales/create-order",element:n.jsx(wc,{})}),n.jsx(oe,{path:"/marina-walk-cafe/sales-orders",element:n.jsx(zi,{})}),n.jsx(oe,{path:"/marina-walk-cafe/sales-orders/add",element:n.jsx(Vi,{})}),n.jsx(oe,{path:"/marina-walk-cafe/pos-sales/create-order",element:n.jsx(wc,{})}),n.jsx(oe,{path:"/mall-food-court/sales-orders",element:n.jsx(zi,{})}),n.jsx(oe,{path:"/mall-food-court/sales-orders/add",element:n.jsx(Vi,{})}),n.jsx(oe,{path:"/mall-food-court/pos-sales/create-order",element:n.jsx(wc,{})}),n.jsx(oe,{path:"/drive-thru-express/sales-orders",element:n.jsx(zi,{})}),n.jsx(oe,{path:"/drive-thru-express/sales-orders/add",element:n.jsx(Vi,{})}),n.jsx(oe,{path:"/drive-thru-express/pos-sales/create-order",element:n.jsx(wc,{})}),n.jsx(oe,{path:"/settings",element:n.jsx(UZ,{})})]})})}Rf.createRoot(document.getElementById("root")).render(n.jsx(q.StrictMode,{children:n.jsx(yA,{store:mD,children:n.jsx(H4,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsx(XZ,{})})})}));
